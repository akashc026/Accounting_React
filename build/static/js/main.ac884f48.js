/*! For license information please see main.ac884f48.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var o=n(853),i=n(43),r=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function p(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=p(e)))return t;e=e.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var j=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var _=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case x:return"Profiler";case y:return"StrictMode";case C:return"Suspense";case S:return"SuspenseList";case j:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return T(e(t))}catch(n){}}return null}var P=Array.isArray,M=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},L=[],F=-1;function z(e){return{current:e}}function B(e){0>F||(e.current=L[F],L[F]=null,F--)}function V(e,t){F++,L[F]=e.current,e.current=t}var H,q,U=z(null),G=z(null),W=z(null),K=z(null);function Y(e,t){switch(V(W,t),V(G,e),V(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yu(t=vu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(U),V(U,e)}function X(){B(U),B(G),B(W)}function J(e){null!==e.memoizedState&&V(K,e);var t=U.current,n=yu(t,e.type);t!==n&&(V(G,e),V(U,n))}function Q(e){G.current===e&&(B(U),B(G)),K.current===e&&(B(K),dp._currentValue=R)}function Z(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",q=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+H+e+q}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var o=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){o=r}e.call(n.prototype)}}else{try{throw Error()}catch(a){o=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&o&&"string"===typeof s.stack)return[s.stack,o.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=o.DetermineComponentFrameRoot(),a=r[0],s=r[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=o=0;o<l.length&&!l[o].includes("DetermineComponentFrameRoot");)o++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(o===l.length||i===c.length)for(o=l.length-1,i=c.length-1;1<=o&&0<=i&&l[o]!==c[i];)i--;for(;1<=o&&0<=i;o--,i--)if(l[o]!==c[i]){if(1!==o||1!==i)do{if(o--,0>--i||l[o]!==c[i]){var d="\n"+l[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=o&&0<=i);break}}}finally{$=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Z(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return e.child!==t&&null!==t?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Z("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(o){return"\nError generating stack: "+o.message+"\n"+o.stack}}var oe=Object.prototype.hasOwnProperty,ie=o.unstable_scheduleCallback,re=o.unstable_cancelCallback,ae=o.unstable_shouldYield,se=o.unstable_requestPaint,le=o.unstable_now,ce=o.unstable_getCurrentPriorityLevel,de=o.unstable_ImmediatePriority,ue=o.unstable_UserBlockingPriority,pe=o.unstable_NormalPriority,he=o.unstable_LowPriority,me=o.unstable_IdlePriority,fe=o.log,ge=o.unstable_setDisableYieldValue,ve=null,ye=null;function xe(e){if("function"===typeof fe&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/ke|0)|0},we=Math.log,ke=Math.LN2;var Ce=256,Se=262144,Ie=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function je(e,t,n){var o=e.pendingLanes;if(0===o)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&o;return 0!==s?0!==(o=s&~r)?i=Ee(o):0!==(a&=s)?i=Ee(a):n||0!==(n=s&~e)&&(i=Ee(n)):0!==(s=o&~r)?i=Ee(s):0!==a?i=Ee(a):n||0!==(n=o&~e)&&(i=Ee(n)),0===i?0:0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(n=t&-t)||32===r&&0!==(4194048&n))?t:i}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function _e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function De(){var e=Ie;return 0===(62914560&(Ie<<=1))&&(Ie=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-be(t);e.entangledLanes|=t,e.entanglements[o]=1073741824|e.entanglements[o]|261930&n}function Me(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-be(n),i=1<<o;i&t|e[o]&t&&(e[o]|=t),n&=~i}}function Oe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Re(n))&(e.suspendedLanes|t))?0:n}function Re(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Ep(e.type)}function ze(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var Be=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Be,He="__reactProps$"+Be,qe="__reactContainer$"+Be,Ue="__reactEvents$"+Be,Ge="__reactListeners$"+Be,We="__reactHandles$"+Be,Ke="__reactResources$"+Be,Ye="__reactMarker$"+Be;function Xe(e){delete e[Ve],delete e[He],delete e[Ue],delete e[Ge],delete e[We]}function Je(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[Ve]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ru(e);null!==e;){if(n=e[Ve])return n;e=Ru(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[Ve]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function $e(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ye]=!0}var tt=new Set,nt={};function ot(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},st={};function lt(e,t,n){if(i=t,oe.call(st,i)||!oe.call(at,i)&&(rt.test(i)?st[i]=!0:(at[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var o=t.toLowerCase().slice(0,5);if("data-"!==o&&"aria-"!==o)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function dt(e,t,n,o){if(null===o)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+o)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof o&&"function"===typeof o.get&&"function"===typeof o.set){var i=o.get,r=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=pt(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,o,i,r,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?bt(e,a,ut(t)):null!=n?bt(e,a,ut(n)):null!=o&&e.removeAttribute("value"),null==i&&null!=r&&(e.defaultChecked=!!r),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ut(s):e.removeAttribute("name")}function xt(e,t,n,o,i,r,a,s){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=n){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return void ht(e);n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}o="function"!==typeof(o=null!=o?o:i)&&"symbol"!==typeof o&&!!o,e.checked=s?e.checked:!!o,e.defaultChecked=!!o,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a),ht(e)}function bt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,o){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&o&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(o&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,o){if(null==t){if(null!=o){if(null!=n)throw Error(a(92));if(P(o)){if(1<o.length)throw Error(a(93));o=o[0]}n=o}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(o=e.textContent)===n&&""!==o&&null!==o&&(e.value=o),ht(e)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var It=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var o=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?o?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":o?e.setProperty(t,n):"number"!==typeof n||0===n||It.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var o in n)!n.hasOwnProperty(o)||null!=t&&t.hasOwnProperty(o)||(0===o.indexOf("--")?e.setProperty(o,""):"float"===o?e.cssFloat="":e[o]="");for(var i in t)o=t[i],t.hasOwnProperty(i)&&n[i]!==o&&Et(e,i,o)}else for(var r in t)t.hasOwnProperty(r)&&Et(e,r,t[r])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Dt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tt(){}var Pt=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Rt=null;function Lt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=o[He]||null;if(!i)throw Error(a(90));yt(o,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(o=n[t]).form===e.form&&mt(o)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Ft=!1;function zt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Ot||null!==Rt)&&($c(),Ot&&(t=Ot,e=Rt,Rt=Ot=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var o=n[He]||null;if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Vt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ht=!1;if(Vt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Qp){Ht=!1}var Ut=null,Gt=null,Wt=null;function Kt(){if(Wt)return Wt;var e,t,n=Gt,o=n.length,i="value"in Ut?Ut.value:Ut.textContent,r=i.length;for(e=0;e<o&&n[e]===i[e];e++);var a=o-e;for(t=1;t<=a&&n[o-t]===i[r-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Xt(){return!0}function Jt(){return!1}function Qt(e){function t(t,n,o,i,r){for(var a in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Xt:Jt,this.isPropagationStopped=Jt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xt)},persist:function(){},isPersistent:Xt}),t}var Zt,$t,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Qt(tn),on=h({},tn,{view:0,detail:0}),rn=Qt(on),an=h({},on,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Zt=e.screenX-en.screenX,$t=e.screenY-en.screenY):$t=Zt=0,en=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),sn=Qt(an),ln=Qt(h({},an,{dataTransfer:0})),cn=Qt(h({},on,{relatedTarget:0})),dn=Qt(h({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Qt(h({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Qt(h({},tn,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function vn(){return gn}var yn=Qt(h({},on,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=Qt(h({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Qt(h({},on,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),wn=Qt(h({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Qt(h({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Cn=Qt(h({},tn,{newState:0,oldState:0})),Sn=[9,13,27,32],In=Vt&&"CompositionEvent"in window,En=null;Vt&&"documentMode"in document&&(En=document.documentMode);var jn=Vt&&"TextEvent"in window&&!En,An=Vt&&(!In||En&&8<En&&11>=En),_n=String.fromCharCode(32),Dn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Rn(e,t,n,o){Ot?Rt?Rt.push(o):Rt=[o]:Ot=o,0<(t=ou(t,"onChange")).length&&(n=new nn("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Ln=null,Fn=null;function zn(e){Xd(e,0)}function Bn(e){if(mt(Ze(e)))return e}function Vn(e,t){if("change"===e)return t}var Hn=!1;if(Vt){var qn;if(Vt){var Un="oninput"in document;if(!Un){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Un="function"===typeof Gn.oninput}qn=Un}else qn=!1;Hn=qn&&(!document.documentMode||9<document.documentMode)}function Wn(){Ln&&(Ln.detachEvent("onpropertychange",Kn),Fn=Ln=null)}function Kn(e){if("value"===e.propertyName&&Bn(Fn)){var t=[];Rn(t,Fn,e,Mt(e)),zt(zn,t)}}function Yn(e,t,n){"focusin"===e?(Wn(),Fn=n,(Ln=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Wn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Fn)}function Jn(e,t){if("click"===e)return Bn(t)}function Qn(e,t){if("input"===e||"change"===e)return Bn(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var i=n[o];if(!oe.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function eo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function to(e,t){var n,o=eo(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=eo(o)}}function no(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?no(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function oo(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(o){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ro=Vt&&"documentMode"in document&&11>=document.documentMode,ao=null,so=null,lo=null,co=!1;function uo(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;co||null==ao||ao!==ft(o)||("selectionStart"in(o=ao)&&io(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},lo&&$n(lo,o)||(lo=o,0<(o=ou(so,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=ao)))}function po(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ho={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionrun:po("Transition","TransitionRun"),transitionstart:po("Transition","TransitionStart"),transitioncancel:po("Transition","TransitionCancel"),transitionend:po("Transition","TransitionEnd")},mo={},fo={};function go(e){if(mo[e])return mo[e];if(!ho[e])return e;var t,n=ho[e];for(t in n)if(n.hasOwnProperty(t)&&t in fo)return mo[e]=n[t];return e}Vt&&(fo=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);var vo=go("animationend"),yo=go("animationiteration"),xo=go("animationstart"),bo=go("transitionrun"),wo=go("transitionstart"),ko=go("transitioncancel"),Co=go("transitionend"),So=new Map,Io="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(e,t){So.set(e,t),ot(t,[e])}Io.push("scrollEnd");var jo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ao=[],_o=0,Do=0;function No(){for(var e=_o,t=Do=_o=0;t<e;){var n=Ao[t];Ao[t++]=null;var o=Ao[t];Ao[t++]=null;var i=Ao[t];Ao[t++]=null;var r=Ao[t];if(Ao[t++]=null,null!==o&&null!==i){var a=o.pending;null===a?i.next=i:(i.next=a.next,a.next=i),o.pending=i}0!==r&&Oo(n,i,r)}}function To(e,t,n,o){Ao[_o++]=e,Ao[_o++]=t,Ao[_o++]=n,Ao[_o++]=o,Do|=o,e.lanes|=o,null!==(e=e.alternate)&&(e.lanes|=o)}function Po(e,t,n,o){return To(e,t,n,o),Ro(e)}function Mo(e,t){return To(e,null,null,t),Ro(e)}function Oo(e,t,n){e.lanes|=n;var o=e.alternate;null!==o&&(o.lanes|=n);for(var i=!1,r=e.return;null!==r;)r.childLanes|=n,null!==(o=r.alternate)&&(o.childLanes|=n),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(i=!0)),e=r,r=r.return;return 3===e.tag?(r=e.stateNode,i&&null!==t&&(i=31-be(n),null===(o=(e=r.hiddenUpdates)[i])?e[i]=[t]:o.push(t),t.lane=536870912|n),r):null}function Ro(e){if(50<Uc)throw Uc=0,Gc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lo={};function Fo(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zo(e,t,n,o){return new Fo(e,t,n,o)}function Bo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vo(e,t){var n=e.alternate;return null===n?((n=zo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ho(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qo(e,t,n,o,i,r){var s=0;if(o=e,"function"===typeof e)Bo(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case j:return(e=zo(31,n,t,i)).elementType=j,e.lanes=r,e;case v:return Uo(n.children,i,r,t);case y:s=8,i|=24;break;case x:return(e=zo(12,n,t,2|i)).elementType=x,e.lanes=r,e;case C:return(e=zo(13,n,t,i)).elementType=C,e.lanes=r,e;case S:return(e=zo(19,n,t,i)).elementType=S,e.lanes=r,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:s=10;break e;case b:s=9;break e;case k:s=11;break e;case I:s=14;break e;case E:s=16,o=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),o=null}return(t=zo(s,n,t,i)).elementType=e,t.type=o,t.lanes=r,t}function Uo(e,t,n,o){return(e=zo(7,e,o,t)).lanes=n,e}function Go(e,t,n){return(e=zo(6,e,null,t)).lanes=n,e}function Wo(e){var t=zo(18,null,null,0);return t.stateNode=e,t}function Ko(e,t,n){return(t=zo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yo=new WeakMap;function Xo(e,t){if("object"===typeof e&&null!==e){var n=Yo.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Yo.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Jo=[],Qo=0,Zo=null,$o=0,ei=[],ti=0,ni=null,oi=1,ii="";function ri(e,t){Jo[Qo++]=$o,Jo[Qo++]=Zo,Zo=e,$o=t}function ai(e,t,n){ei[ti++]=oi,ei[ti++]=ii,ei[ti++]=ni,ni=e;var o=oi;e=ii;var i=32-be(o)-1;o&=~(1<<i),n+=1;var r=32-be(t)+i;if(30<r){var a=i-i%5;r=(o&(1<<a)-1).toString(32),o>>=a,i-=a,oi=1<<32-be(t)+i|n<<i|o,ii=r+e}else oi=1<<r|n<<i|o,ii=e}function si(e){null!==e.return&&(ri(e,1),ai(e,1,0))}function li(e){for(;e===Zo;)Zo=Jo[--Qo],Jo[Qo]=null,$o=Jo[--Qo],Jo[Qo]=null;for(;e===ni;)ni=ei[--ti],ei[ti]=null,ii=ei[--ti],ei[ti]=null,oi=ei[--ti],ei[ti]=null}function ci(e,t){ei[ti++]=oi,ei[ti++]=ii,ei[ti++]=ni,oi=t.id,ii=t.overflow,ni=e}var di=null,ui=null,pi=!1,hi=null,mi=!1,fi=Error(a(519));function gi(e){throw ki(Xo(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fi}function vi(e){var t=e.stateNode,n=e.type,o=e.memoizedProps;switch(t[Ve]=e,t[He]=o,n){case"dialog":Jd("cancel",t),Jd("close",t);break;case"iframe":case"object":case"embed":Jd("load",t);break;case"video":case"audio":for(n=0;n<Kd.length;n++)Jd(Kd[n],t);break;case"source":Jd("error",t);break;case"img":case"image":case"link":Jd("error",t),Jd("load",t);break;case"details":Jd("toggle",t);break;case"input":Jd("invalid",t),xt(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Jd("invalid",t);break;case"textarea":Jd("invalid",t),Ct(t,o.value,o.defaultValue,o.children)}"string"!==typeof(n=o.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===o.suppressHydrationWarning||cu(t.textContent,n)?(null!=o.popover&&(Jd("beforetoggle",t),Jd("toggle",t)),null!=o.onScroll&&Jd("scroll",t),null!=o.onScrollEnd&&Jd("scrollend",t),null!=o.onClick&&(t.onclick=Tt),t=!0):t=!1,t||gi(e,!0)}function yi(e){for(di=e.return;di;)switch(di.tag){case 5:case 31:case 13:return void(mi=!1);case 27:case 3:return void(mi=!0);default:di=di.return}}function xi(e){if(e!==di)return!1;if(!pi)return yi(e),pi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||xu(e.type,e.memoizedProps)),t=!t),t&&ui&&gi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ui=Ou(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ui=Ou(e)}else 27===n?(n=ui,Eu(e.type)?(e=Mu,Mu=null,ui=e):ui=n):ui=di?Pu(e.stateNode.nextSibling):null;return!0}function bi(){ui=di=null,pi=!1}function wi(){var e=hi;return null!==e&&(null===Dc?Dc=e:Dc.push.apply(Dc,e),hi=null),e}function ki(e){null===hi?hi=[e]:hi.push(e)}var Ci=z(null),Si=null,Ii=null;function Ei(e,t,n){V(Ci,t._currentValue),t._currentValue=n}function ji(e){e._currentValue=Ci.current,B(Ci)}function Ai(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function _i(e,t,n,o){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var r=i.dependencies;if(null!==r){var s=i.child;r=r.firstContext;e:for(;null!==r;){var l=r;r=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){r.lanes|=n,null!==(l=r.alternate)&&(l.lanes|=n),Ai(r.return,n,e),o||(s=null);break e}r=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(r=s.alternate)&&(r.lanes|=n),Ai(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Di(e,t,n,o){e=null;for(var i=t,r=!1;null!==i;){if(!r)if(0!==(524288&i.flags))r=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;Zn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===K.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dp):e=[dp])}i=i.return}null!==e&&_i(t,e,n,o),t.flags|=262144}function Ni(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){Si=e,Ii=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pi(e){return Oi(Si,e)}function Mi(e,t){return null===Si&&Ti(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ii){if(null===e)throw Error(a(308));Ii=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ii=Ii.next=t;return n}var Ri="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Li=o.unstable_scheduleCallback,Fi=o.unstable_NormalPriority,zi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bi(){return{controller:new Ri,data:new Map,refCount:0}}function Vi(e){e.refCount--,0===e.refCount&&Li(Fi,function(){e.controller.abort()})}var Hi=null,qi=0,Ui=0,Gi=null;function Wi(){if(0===--qi&&null!==Hi){null!==Gi&&(Gi.status="fulfilled");var e=Hi;Hi=null,Ui=0,Gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=M.S;M.S=function(e,t){Pc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Hi){var n=Hi=[];qi=0,Ui=Hd(),Gi={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Wi,Wi)}(0,t),null!==Ki&&Ki(e,t)};var Yi=z(null);function Xi(){var e=Yi.current;return null!==e?e:mc.pooledCache}function Ji(e,t){V(Yi,null===t?Yi.current:t.pool)}function Qi(){var e=Xi();return null===e?null:{parent:zi._currentValue,pool:e}}var Zi=Error(a(460)),$i=Error(a(474)),er=Error(a(542)),tr={then:function(){}};function nr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function or(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Tt,Tt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw sr(e=t.reason),e;default:if("string"===typeof t.status)t.then(Tt,Tt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw sr(e=t.reason),e}throw rr=t,Zi}}function ir(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw rr=t,Zi;throw t}}var rr=null;function ar(){if(null===rr)throw Error(a(459));var e=rr;return rr=null,e}function sr(e){if(e===Zi||e===er)throw Error(a(483))}var lr=null,cr=0;function dr(e){var t=cr;return cr+=1,null===lr&&(lr=[]),or(lr,e,t)}function ur(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function pr(e,t){if(t.$$typeof===m)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hr(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Vo(e,t)).index=0,e.sibling=null,e}function r(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=67108866,n):o:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,o){return null===t||6!==t.tag?((t=Go(n,e.mode,o)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,o){var r=n.type;return r===v?u(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===E&&ir(r)===t.type)?(ur(t=i(t,n.props),n),t.return=e,t):(ur(t=qo(n.type,n.key,n.props,null,e.mode,o),n),t.return=e,t)}function d(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ko(n,e.mode,o)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,o,r){return null===t||7!==t.tag?((t=Uo(n,e.mode,o,r)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Go(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return ur(n=qo(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Ko(t,e.mode,n)).return=e,t;case E:return p(e,t=ir(t),n)}if(P(t)||D(t))return(t=Uo(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,dr(t),n);if(t.$$typeof===w)return p(e,Mi(e,t),n);pr(e,t)}return null}function h(e,t,n,o){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?c(e,t,n,o):null;case g:return n.key===i?d(e,t,n,o):null;case E:return h(e,t,n=ir(n),o)}if(P(n)||D(n))return null!==i?null:u(e,t,n,o,null);if("function"===typeof n.then)return h(e,t,dr(n),o);if(n.$$typeof===w)return h(e,t,Mi(e,n),o);pr(e,n)}return null}function m(e,t,n,o,i){if("string"===typeof o&&""!==o||"number"===typeof o||"bigint"===typeof o)return l(t,e=e.get(n)||null,""+o,i);if("object"===typeof o&&null!==o){switch(o.$$typeof){case f:return c(t,e=e.get(null===o.key?n:o.key)||null,o,i);case g:return d(t,e=e.get(null===o.key?n:o.key)||null,o,i);case E:return m(e,t,n,o=ir(o),i)}if(P(o)||D(o))return u(t,e=e.get(n)||null,o,i,null);if("function"===typeof o.then)return m(e,t,n,dr(o),i);if(o.$$typeof===w)return m(e,t,n,Mi(t,o),i);pr(t,o)}return null}function y(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===v&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var x=d.key;null!==c;){if(c.key===x){if((x=d.type)===v){if(7===c.tag){n(l,c.sibling),(u=i(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===E&&ir(x)===c.type){n(l,c.sibling),ur(u=i(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===v?((u=Uo(d.props.children,l.mode,u,d.key)).return=l,l=u):(ur(u=qo(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return s(l);case g:e:{for(x=d.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=i(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=Ko(d,l.mode,u)).return=l,l=u}return s(l);case E:return y(l,c,d=ir(d),u)}if(P(d))return function(i,a,s,l){for(var c=null,d=null,u=a,f=a=0,g=null;null!==u&&f<s.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var v=h(i,u,s[f],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(i,u),a=r(v,a,f),null===d?c=v:d.sibling=v,d=v,u=g}if(f===s.length)return n(i,u),pi&&ri(i,f),c;if(null===u){for(;f<s.length;f++)null!==(u=p(i,s[f],l))&&(a=r(u,a,f),null===d?c=u:d.sibling=u,d=u);return pi&&ri(i,f),c}for(u=o(u);f<s.length;f++)null!==(g=m(u,i,f,s[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),a=r(g,a,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(i,e)}),pi&&ri(i,f),c}(l,c,d,u);if(D(d)){if("function"!==typeof(x=D(d)))throw Error(a(150));return function(i,s,l,c){if(null==l)throw Error(a(151));for(var d=null,u=null,f=s,g=s=0,v=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var x=h(i,f,y.value,c);if(null===x){null===f&&(f=v);break}e&&f&&null===x.alternate&&t(i,f),s=r(x,s,g),null===u?d=x:u.sibling=x,u=x,f=v}if(y.done)return n(i,f),pi&&ri(i,g),d;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=p(i,y.value,c))&&(s=r(y,s,g),null===u?d=y:u.sibling=y,u=y);return pi&&ri(i,g),d}for(f=o(f);!y.done;g++,y=l.next())null!==(y=m(f,i,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),s=r(y,s,g),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(i,e)}),pi&&ri(i,g),d}(l,c,d=x.call(d),u)}if("function"===typeof d.then)return y(l,c,dr(d),u);if(d.$$typeof===w)return y(l,c,Mi(l,d),u);pr(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=i(c,d)).return=l,l=u):(n(l,c),(u=Go(d,l.mode,u)).return=l,l=u),s(l)):n(l,c)}return function(e,t,n,o){try{cr=0;var i=y(e,t,n,o);return lr=null,i}catch(a){if(a===Zi||a===er)throw a;var r=zo(29,a,null,e.mode);return r.lanes=o,r.return=e,r}}}var mr=hr(!0),fr=hr(!1),gr=!1;function vr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function br(e,t,n){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,0!==(2&hc)){var i=o.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),o.pending=t,t=Ro(e),Oo(e,null,n),t}return To(e,o,t,n),Ro(e)}function wr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,Me(e,n)}}function kr(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var i=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?i=r=a:r=r.next=a,n=n.next}while(null!==n);null===r?i=r=t:r=r.next=t}else i=r=t;return n={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:o.shared,callbacks:o.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Cr=!1;function Sr(){if(Cr){if(null!==Gi)throw Gi}}function Ir(e,t,n,o){Cr=!1;var i=e.updateQueue;gr=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?r=c:a.next=c,a=l;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(null!==r){var u=i.baseState;for(a=0,d=c=l=null,s=r;;){var p=-536870913&s.lane,m=p!==s.lane;if(m?(gc&p)===p:(o&p)===p){0!==p&&p===Ui&&(Cr=!0),null!==d&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var f=e,g=s;p=t;var v=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(v,u,p);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=g.payload)?f.call(v,u,p):f)||void 0===p)break e;u=h({},u,p);break e;case 2:gr=!0}}null!==(p=s.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=i.callbacks)?i.callbacks=[p]:m.push(p))}else m={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,a|=p;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(m=s).next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null===r&&(i.shared.lanes=0),Sc|=a,e.lanes=a,e.memoizedState=u}}function Er(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function jr(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Er(n[e],t)}var Ar=z(null),_r=z(0);function Dr(e,t){V(_r,e=kc),V(Ar,t),kc=e|t.baseLanes}function Nr(){V(_r,kc),V(Ar,Ar.current)}function Tr(){kc=_r.current,B(Ar),B(_r)}var Pr=z(null),Mr=null;function Or(e){var t=e.alternate;V(Br,1&Br.current),V(Pr,e),null===Mr&&(null===t||null!==Ar.current||null!==t.memoizedState)&&(Mr=e)}function Rr(e){V(Br,Br.current),V(Pr,e),null===Mr&&(Mr=e)}function Lr(e){22===e.tag?(V(Br,Br.current),V(Pr,e),null===Mr&&(Mr=e)):Fr()}function Fr(){V(Br,Br.current),V(Pr,Pr.current)}function zr(e){B(Pr),Mr===e&&(Mr=null),B(Br)}var Br=z(0);function Vr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Nu(n)||Tu(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hr=0,qr=null,Ur=null,Gr=null,Wr=!1,Kr=!1,Yr=!1,Xr=0,Jr=0,Qr=null,Zr=0;function $r(){throw Error(a(321))}function ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function ta(e,t,n,o,i,r){return Hr=r,qr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?gs:vs,Yr=!1,r=n(o,i),Yr=!1,Kr&&(r=oa(t,n,o,i)),na(e),r}function na(e){M.H=fs;var t=null!==Ur&&null!==Ur.next;if(Hr=0,Gr=Ur=qr=null,Wr=!1,Jr=0,Qr=null,t)throw Error(a(300));null===e||Ps||null!==(e=e.dependencies)&&Ni(e)&&(Ps=!0)}function oa(e,t,n,o){qr=e;var i=0;do{if(Kr&&(Qr=null),Jr=0,Kr=!1,25<=i)throw Error(a(301));if(i+=1,Gr=Ur=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}M.H=ys,r=t(n,o)}while(Kr);return r}function ia(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?da(t):t,e=e.useState()[0],(null!==Ur?Ur.memoizedState:null)!==e&&(qr.flags|=1024),t}function ra(){var e=0!==Xr;return Xr=0,e}function aa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function sa(e){if(Wr){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Wr=!1}Hr=0,Gr=Ur=qr=null,Kr=!1,Jr=Xr=0,Qr=null}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Gr?qr.memoizedState=Gr=e:Gr=Gr.next=e,Gr}function ca(){if(null===Ur){var e=qr.alternate;e=null!==e?e.memoizedState:null}else e=Ur.next;var t=null===Gr?qr.memoizedState:Gr.next;if(null!==t)Gr=t,Ur=e;else{if(null===e){if(null===qr.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Ur=e).memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},null===Gr?qr.memoizedState=Gr=e:Gr=Gr.next=e}return Gr}function da(e){var t=Jr;return Jr+=1,null===Qr&&(Qr=[]),e=or(Qr,e,t),t=qr,null===(null===Gr?t.memoizedState:Gr.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?gs:vs),e}function ua(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return da(e);if(e.$$typeof===w)return Pi(e)}throw Error(a(438,String(e)))}function pa(e){var t=null,n=qr.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var o=qr.alternate;null!==o&&(null!==(o=o.updateQueue)&&(null!=(o=o.memoCache)&&(t={data:o.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qr.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),o=0;o<e;o++)n[o]=A;return t.index++,n}function ha(e,t){return"function"===typeof t?t(e):t}function ma(e){return fa(ca(),Ur,e)}function fa(e,t,n){var o=e.queue;if(null===o)throw Error(a(311));o.lastRenderedReducer=n;var i=e.baseQueue,r=o.pending;if(null!==r){if(null!==i){var s=i.next;i.next=r.next,r.next=s}t.baseQueue=i=r,o.pending=null}if(r=e.baseState,null===i)e.memoizedState=r;else{var l=s=null,c=null,d=t=i.next,u=!1;do{var p=-536870913&d.lane;if(p!==d.lane?(gc&p)===p:(Hr&p)===p){var h=d.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),p===Ui&&(u=!0);else{if((Hr&h)===h){d=d.next,h===Ui&&(u=!0);continue}p={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,s=r):c=c.next=p,qr.lanes|=h,Sc|=h}p=d.action,Yr&&n(r,p),r=d.hasEagerState?d.eagerState:n(r,p)}else h={lane:p,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,s=r):c=c.next=h,qr.lanes|=p,Sc|=p;d=d.next}while(null!==d&&d!==t);if(null===c?s=r:c.next=l,!Zn(r,e.memoizedState)&&(Ps=!0,u&&null!==(n=Gi)))throw n;e.memoizedState=r,e.baseState=s,e.baseQueue=c,o.lastRenderedState=r}return null===i&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ga(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,r=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{r=e(r,s.action),s=s.next}while(s!==i);Zn(r,t.memoizedState)||(Ps=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,o]}function va(e,t,n){var o=qr,i=ca(),r=pi;if(r){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Zn((Ur||i).memoizedState,n);if(s&&(i.memoizedState=n,Ps=!0),i=i.queue,Ha(ba.bind(null,o,i,e),[e]),i.getSnapshot!==t||s||null!==Gr&&1&Gr.memoizedState.tag){if(o.flags|=2048,La(9,{destroy:void 0},xa.bind(null,o,i,n,t),null),null===mc)throw Error(a(349));r||0!==(127&Hr)||ya(o,t,n)}return n}function ya(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qr.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xa(e,t,n,o){t.value=n,t.getSnapshot=o,wa(t)&&ka(e)}function ba(e,t,n){return n(function(){wa(t)&&ka(e)})}function wa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(o){return!0}}function ka(e){var t=Mo(e,2);null!==t&&Yc(t,e,2)}function Ca(e){var t=la();if("function"===typeof e){var n=e;if(e=n(),Yr){xe(!0);try{n()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t}function Sa(e,t,n,o){return e.baseState=n,fa(e,Ur,"function"===typeof o?o:ha)}function Ia(e,t,n,o,i){if(ps(e))throw Error(a(485));if(null!==(e=t.action)){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==M.T?n(!0):r.isTransition=!1,o(r),null===(n=t.pending)?(r.next=t.pending=r,Ea(t,r)):(r.next=n.next,t.pending=n.next=r)}}function Ea(e,t){var n=t.action,o=t.payload,i=e.state;if(t.isTransition){var r=M.T,a={};M.T=a;try{var s=n(i,o),l=M.S;null!==l&&l(a,s),ja(e,t,s)}catch(c){_a(e,t,c)}finally{null!==r&&null!==a.types&&(r.types=a.types),M.T=r}}else try{ja(e,t,r=n(i,o))}catch(d){_a(e,t,d)}}function ja(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Aa(e,t,n)},function(n){return _a(e,t,n)}):Aa(e,t,n)}function Aa(e,t,n){t.status="fulfilled",t.value=n,Da(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ea(e,n)))}function _a(e,t,n){var o=e.pending;if(e.pending=null,null!==o){o=o.next;do{t.status="rejected",t.reason=n,Da(t),t=t.next}while(t!==o)}e.action=null}function Da(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Na(e,t){return t}function Ta(e,t){if(pi){var n=mc.formState;if(null!==n){e:{var o=qr;if(pi){if(ui){t:{for(var i=ui,r=mi;8!==i.nodeType;){if(!r){i=null;break t}if(null===(i=Pu(i.nextSibling))){i=null;break t}}i="F!"===(r=i.data)||"F"===r?i:null}if(i){ui=Pu(i.nextSibling),o="F!"===i.data;break e}}gi(o)}o=!1}o&&(t=n[0])}}return(n=la()).memoizedState=n.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:t},n.queue=o,n=cs.bind(null,qr,o),o.dispatch=n,o=Ca(!1),r=us.bind(null,qr,!1,o.queue),i={state:t,dispatch:null,action:e,pending:null},(o=la()).queue=i,n=Ia.bind(null,qr,i,r,n),i.dispatch=n,o.memoizedState=e,[t,n,!1]}function Pa(e){return Ma(ca(),Ur,e)}function Ma(e,t,n){if(t=fa(e,t,Na)[0],e=ma(ha)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var o=da(t)}catch(a){if(a===Zi)throw er;throw a}else o=t;var i=(t=ca()).queue,r=i.dispatch;return n!==t.memoizedState&&(qr.flags|=2048,La(9,{destroy:void 0},Oa.bind(null,i,n),null)),[o,r,e]}function Oa(e,t){e.action=t}function Ra(e){var t=ca(),n=Ur;if(null!==n)return Ma(t,n,e);ca(),t=t.memoizedState;var o=(n=ca()).queue.dispatch;return n.memoizedState=e,[t,o,!1]}function La(e,t,n,o){return e={tag:e,create:n,deps:o,inst:t,next:null},null===(t=qr.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qr.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function Fa(){return ca().memoizedState}function za(e,t,n,o){var i=la();qr.flags|=e,i.memoizedState=La(1|t,{destroy:void 0},n,void 0===o?null:o)}function Ba(e,t,n,o){var i=ca();o=void 0===o?null:o;var r=i.memoizedState.inst;null!==Ur&&null!==o&&ea(o,Ur.memoizedState.deps)?i.memoizedState=La(t,r,n,o):(qr.flags|=e,i.memoizedState=La(1|t,r,n,o))}function Va(e,t){za(8390656,8,e,t)}function Ha(e,t){Ba(2048,8,e,t)}function qa(e){var t=ca().memoizedState;return function(e){qr.flags|=4;var t=qr.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qr.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&hc))throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Ua(e,t){return Ba(4,2,e,t)}function Ga(e,t){return Ba(4,4,e,t)}function Wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ka(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Wa.bind(null,t,e),n)}function Ya(){}function Xa(e,t){var n=ca();t=void 0===t?null:t;var o=n.memoizedState;return null!==t&&ea(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=ca();t=void 0===t?null:t;var o=n.memoizedState;if(null!==t&&ea(t,o[1]))return o[0];if(o=e(),Yr){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[o,t],o}function Qa(e,t,n){return void 0===n||0!==(1073741824&Hr)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Kc(),qr.lanes|=e,Sc|=e,n)}function Za(e,t,n,o){return Zn(n,t)?n:null!==Ar.current?(e=Qa(e,n,o),Zn(e,t)||(Ps=!0),e):0===(42&Hr)||0!==(1073741824&Hr)&&0===(261930&gc)?(Ps=!0,e.memoizedState=n):(e=Kc(),qr.lanes|=e,Sc|=e,t)}function $a(e,t,n,o,i){var r=O.p;O.p=0!==r&&8>r?r:8;var a=M.T,s={};M.T=s,us(e,!1,t,n);try{var l=i(),c=M.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ds(e,t,function(e,t){var n=[],o={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(o.status="rejected",o.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),o}(l,o),Wc());else ds(e,t,o,Wc())}catch(d){ds(e,t,{then:function(){},status:"rejected",reason:d},Wc())}finally{O.p=r,null!==a&&null!==s.types&&(a.types=s.types),M.T=a}}function es(){}function ts(e,t,n,o){if(5!==e.tag)throw Error(a(476));var i=ns(e).queue;$a(e,i,t,R,null===n?es:function(){return os(e),n(o)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function os(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),ds(e,t.next.queue,{},Wc())}function is(){return Pi(dp)}function rs(){return ca().memoizedState}function as(){return ca().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Wc(),o=br(t,e=xr(n),n);return null!==o&&(Yc(o,t,n),wr(o,t,n)),t={cache:Bi()},void(e.payload=t)}t=t.return}}function ls(e,t,n){var o=Wc();n={lane:o,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ps(e)?hs(t,n):null!==(n=Po(e,t,n,o))&&(Yc(n,e,o),ms(n,t,o))}function cs(e,t,n){ds(e,t,n,Wc())}function ds(e,t,n,o){var i={lane:o,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ps(e))hs(t,i);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=r(a,n);if(i.hasEagerState=!0,i.eagerState=s,Zn(s,a))return To(e,t,i,0),null===mc&&No(),!1}catch(l){}if(null!==(n=Po(e,t,i,o)))return Yc(n,e,o),ms(n,t,o),!0}return!1}function us(e,t,n,o){if(o={lane:2,revertLane:Hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ps(e)){if(t)throw Error(a(479))}else null!==(t=Po(e,n,o,2))&&Yc(t,e,2)}function ps(e){var t=e.alternate;return e===qr||null!==t&&t===qr}function hs(e,t){Kr=Wr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ms(e,t,n){if(0!==(4194048&n)){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,Me(e,n)}}var fs={readContext:Pi,use:ua,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useLayoutEffect:$r,useInsertionEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useSyncExternalStore:$r,useId:$r,useHostTransitionStatus:$r,useFormState:$r,useActionState:$r,useOptimistic:$r,useMemoCache:$r,useCacheRefresh:$r};fs.useEffectEvent=$r;var gs={readContext:Pi,use:ua,useCallback:function(e,t){return la().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){za(4,2,e,t)},useMemo:function(e,t){var n=la();t=void 0===t?null:t;var o=e();if(Yr){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[o,t],o},useReducer:function(e,t,n){var o=la();if(void 0!==n){var i=n(t);if(Yr){xe(!0);try{n(t)}finally{xe(!1)}}}else i=t;return o.memoizedState=o.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},o.queue=e,e=e.dispatch=ls.bind(null,qr,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},la().memoizedState=e},useState:function(e){var t=(e=Ca(e)).queue,n=cs.bind(null,qr,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ya,useDeferredValue:function(e,t){return Qa(la(),e,t)},useTransition:function(){var e=Ca(!1);return e=$a.bind(null,qr,e.queue,!0,!1),la().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=qr,i=la();if(pi){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===mc)throw Error(a(349));0!==(127&gc)||ya(o,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,Va(ba.bind(null,o,r,e),[e]),o.flags|=2048,La(9,{destroy:void 0},xa.bind(null,o,r,n,t),null),n},useId:function(){var e=la(),t=mc.identifierPrefix;if(pi){var n=ii;t="_"+t+"R_"+(n=(oi&~(1<<32-be(oi)-1)).toString(32)+n),0<(n=Xr++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zr++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:is,useFormState:Ta,useActionState:Ta,useOptimistic:function(e){var t=la();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=us.bind(null,qr,!0,n),n.dispatch=t,[e,t]},useMemoCache:pa,useCacheRefresh:function(){return la().memoizedState=ss.bind(null,qr)},useEffectEvent:function(e){var t=la(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&hc))throw Error(a(440));return n.impl.apply(void 0,arguments)}}},vs={readContext:Pi,use:ua,useCallback:Xa,useContext:Pi,useEffect:Ha,useImperativeHandle:Ka,useInsertionEffect:Ua,useLayoutEffect:Ga,useMemo:Ja,useReducer:ma,useRef:Fa,useState:function(){return ma(ha)},useDebugValue:Ya,useDeferredValue:function(e,t){return Za(ca(),Ur.memoizedState,e,t)},useTransition:function(){var e=ma(ha)[0],t=ca().memoizedState;return["boolean"===typeof e?e:da(e),t]},useSyncExternalStore:va,useId:rs,useHostTransitionStatus:is,useFormState:Pa,useActionState:Pa,useOptimistic:function(e,t){return Sa(ca(),0,e,t)},useMemoCache:pa,useCacheRefresh:as};vs.useEffectEvent=qa;var ys={readContext:Pi,use:ua,useCallback:Xa,useContext:Pi,useEffect:Ha,useImperativeHandle:Ka,useInsertionEffect:Ua,useLayoutEffect:Ga,useMemo:Ja,useReducer:ga,useRef:Fa,useState:function(){return ga(ha)},useDebugValue:Ya,useDeferredValue:function(e,t){var n=ca();return null===Ur?Qa(n,e,t):Za(n,Ur.memoizedState,e,t)},useTransition:function(){var e=ga(ha)[0],t=ca().memoizedState;return["boolean"===typeof e?e:da(e),t]},useSyncExternalStore:va,useId:rs,useHostTransitionStatus:is,useFormState:Ra,useActionState:Ra,useOptimistic:function(e,t){var n=ca();return null!==Ur?Sa(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:pa,useCacheRefresh:as};function xs(e,t,n,o){n=null===(n=n(o,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ys.useEffectEvent=qa;var bs={enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Wc(),i=xr(o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=br(e,i,o))&&(Yc(t,e,o),wr(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Wc(),i=xr(o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=br(e,i,o))&&(Yc(t,e,o),wr(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wc(),o=xr(n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=br(e,o,n))&&(Yc(t,e,n),wr(t,e,n))}};function ws(e,t,n,o,i,r,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,r,a):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,o)||!$n(i,r))}function ks(e,t,n,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&bs.enqueueReplaceState(t,t.state,null)}function Cs(e,t){var n=t;if("ref"in t)for(var o in n={},t)"ref"!==o&&(n[o]=t[o]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ss(e){jo(e)}function Is(e){console.error(e)}function Es(e){jo(e)}function js(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function As(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function _s(e,t,n){return(n=xr(n)).tag=3,n.payload={element:null},n.callback=function(){js(e,t)},n}function Ds(e){return(e=xr(e)).tag=3,e}function Ns(e,t,n,o){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var r=o.value;e.payload=function(){return i(r)},e.callback=function(){As(t,n,o)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){As(t,n,o),"function"!==typeof i&&(null===Rc?Rc=new Set([this]):Rc.add(this));var e=o.stack;this.componentDidCatch(o.value,{componentStack:null!==e?e:""})})}var Ts=Error(a(461)),Ps=!1;function Ms(e,t,n,o){t.child=null===e?fr(t,null,n,o):mr(t,e.child,n,o)}function Os(e,t,n,o,i){n=n.render;var r=t.ref;if("ref"in o){var a={};for(var s in o)"ref"!==s&&(a[s]=o[s])}else a=o;return Ti(t),o=ta(e,t,n,a,r,i),s=ra(),null===e||Ps?(pi&&s&&si(t),t.flags|=1,Ms(e,t,o,i),t.child):(aa(e,t,i),il(e,t,i))}function Rs(e,t,n,o,i){if(null===e){var r=n.type;return"function"!==typeof r||Bo(r)||void 0!==r.defaultProps||null!==n.compare?((e=qo(n.type,null,o,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ls(e,t,r,o,i))}if(r=e.child,!rl(e,i)){var a=r.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(a,o)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=Vo(r,o)).ref=t.ref,e.return=t,t.child=e}function Ls(e,t,n,o,i){if(null!==e){var r=e.memoizedProps;if($n(r,o)&&e.ref===t.ref){if(Ps=!1,t.pendingProps=o=r,!rl(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(Ps=!0)}}return Us(e,t,n,o,i)}function Fs(e,t,n,o){var i=o.children,r=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===o.mode){if(0!==(128&t.flags)){if(r=null!==r?r.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;o=i&~r}else o=0,t.child=null;return Bs(e,t,r,n,o)}if(0===(536870912&n))return o=t.lanes=536870912,Bs(e,t,null!==r?r.baseLanes|n:n,n,o);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ji(0,null!==r?r.cachePool:null),null!==r?Dr(t,r):Nr(),Lr(t)}else null!==r?(Ji(0,r.cachePool),Dr(t,r),Fr(),t.memoizedState=null):(null!==e&&Ji(0,null),Nr(),Fr());return Ms(e,t,i,n),t.child}function zs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bs(e,t,n,o,i){var r=Xi();return r=null===r?null:{parent:zi._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Ji(0,null),Nr(),Lr(t),null!==e&&Di(e,t,o,!0),t.childLanes=i,null}function Vs(e,t){return(t=$s({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Hs(e,t,n){return mr(t,e.child,null,n),(e=Vs(t,t.pendingProps)).flags|=2,zr(t),t.memoizedState=null,e}function qs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Us(e,t,n,o,i){return Ti(t),n=ta(e,t,n,o,void 0,i),o=ra(),null===e||Ps?(pi&&o&&si(t),t.flags|=1,Ms(e,t,n,i),t.child):(aa(e,t,i),il(e,t,i))}function Gs(e,t,n,o,i,r){return Ti(t),t.updateQueue=null,n=oa(t,o,n,i),na(e),o=ra(),null===e||Ps?(pi&&o&&si(t),t.flags|=1,Ms(e,t,n,r),t.child):(aa(e,t,r),il(e,t,r))}function Ws(e,t,n,o,i){if(Ti(t),null===t.stateNode){var r=Lo,a=n.contextType;"object"===typeof a&&null!==a&&(r=Pi(a)),r=new n(o,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=bs,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=o,r.state=t.memoizedState,r.refs={},vr(t),a=n.contextType,r.context="object"===typeof a&&null!==a?Pi(a):Lo,r.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(xs(t,n,a,o),r.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(a=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),a!==r.state&&bs.enqueueReplaceState(r,r.state,null),Ir(t,o,r,i),Sr(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),o=!0}else if(null===e){r=t.stateNode;var s=t.memoizedProps,l=Cs(n,s);r.props=l;var c=r.context,d=n.contextType;a=Lo,"object"===typeof d&&null!==d&&(a=Pi(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof r.getSnapshotBeforeUpdate,s=t.pendingProps!==s,d||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(s||c!==a)&&ks(t,r,o,a),gr=!1;var p=t.memoizedState;r.state=p,Ir(t,o,r,i),Sr(),c=t.memoizedState,s||p!==c||gr?("function"===typeof u&&(xs(t,n,u,o),c=t.memoizedState),(l=gr||ws(t,n,l,o,p,c,a))?(d||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=c),r.props=o,r.state=c,r.context=a,o=l):("function"===typeof r.componentDidMount&&(t.flags|=4194308),o=!1)}else{r=t.stateNode,yr(e,t),d=Cs(n,a=t.memoizedProps),r.props=d,u=t.pendingProps,p=r.context,c=n.contextType,l=Lo,"object"===typeof c&&null!==c&&(l=Pi(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(a!==u||p!==l)&&ks(t,r,o,l),gr=!1,p=t.memoizedState,r.state=p,Ir(t,o,r,i),Sr();var h=t.memoizedState;a!==u||p!==h||gr||null!==e&&null!==e.dependencies&&Ni(e.dependencies)?("function"===typeof s&&(xs(t,n,s,o),h=t.memoizedState),(d=gr||ws(t,n,d,o,p,h,l)||null!==e&&null!==e.dependencies&&Ni(e.dependencies))?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(o,h,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(o,h,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=h),r.props=o,r.state=h,r.context=l,o=d):("function"!==typeof r.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return r=o,qs(e,t),o=0!==(128&t.flags),r||o?(r=t.stateNode,n=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&o?(t.child=mr(t,e.child,null,i),t.child=mr(t,null,n,i)):Ms(e,t,n,i),t.memoizedState=r.state,e=t.child):e=il(e,t,i),e}function Ks(e,t,n,o){return bi(),t.flags|=256,Ms(e,t,n,o),t.child}var Ys={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xs(e){return{baseLanes:e,cachePool:Qi()}}function Js(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=jc),e}function Qs(e,t,n){var o,i=t.pendingProps,r=!1,s=0!==(128&t.flags);if((o=s)||(o=(null===e||null!==e.memoizedState)&&0!==(2&Br.current)),o&&(r=!0,t.flags&=-129),o=0!==(32&t.flags),t.flags&=-33,null===e){if(pi){if(r?Or(t):Fr(),(e=ui)?null!==(e=null!==(e=Du(e,mi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:oi,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Wo(e)).return=t,t.child=n,di=t,ui=null):e=null,null===e)throw gi(t);return Tu(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(Fr(),l=$s({mode:"hidden",children:l},r=t.mode),i=Uo(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Xs(n),i.childLanes=Js(e,o,n),t.memoizedState=Ys,zs(null,i)):(Or(t),Zs(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Or(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Fr(),t.child=e.child,t.flags|=128,t=null):(Fr(),l=i.fallback,r=t.mode,i=$s({mode:"visible",children:i.children},r),(l=Uo(l,r,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,mr(t,e.child,null,n),(i=t.child).memoizedState=Xs(n),i.childLanes=Js(e,o,n),t.memoizedState=Ys,t=zs(null,i));else if(Or(t),Tu(l)){if(o=l.nextSibling&&l.nextSibling.dataset)var d=o.dgst;o=d,(i=Error(a(419))).stack="",i.digest=o,ki({value:i,source:null,stack:null}),t=el(e,t,n)}else if(Ps||Di(e,t,n,!1),o=0!==(n&e.childLanes),Ps||o){if(null!==(o=mc)&&(0!==(i=Oe(o,n))&&i!==c.retryLane))throw c.retryLane=i,Mo(e,i),Yc(o,e,i),Ts;Nu(l)||ad(),t=el(e,t,n)}else Nu(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Pu(l.nextSibling),di=t,pi=!0,hi=null,mi=!1,null!==e&&ci(t,e),(t=Zs(t,i.children)).flags|=4096);return t}return r?(Fr(),l=i.fallback,r=t.mode,d=(c=e.child).sibling,(i=Vo(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?l=Vo(d,l):(l=Uo(l,r,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,zs(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Xs(n):(null!==(r=l.cachePool)?(c=zi._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=Qi(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=Js(e,o,n),t.memoizedState=Ys,zs(e.child,i)):(Or(t),e=(n=e.child).sibling,(n=Vo(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(o=t.deletions)?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function Zs(e,t){return(t=$s({mode:"visible",children:t},e.mode)).return=e,e.child=t}function $s(e,t){return(e=zo(22,e,null,t)).lanes=0,e}function el(e,t,n){return mr(t,e.child,null,n),(e=Zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),Ai(e.return,t,n)}function nl(e,t,n,o,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:i,treeForkCount:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=n,a.tailMode=i,a.treeForkCount=r)}function ol(e,t,n){var o=t.pendingProps,i=o.revealOrder,r=o.tail;o=o.children;var a=Br.current,s=0!==(2&a);if(s?(a=1&a|2,t.flags|=128):a&=1,V(Br,a),Ms(e,t,o,n),o=pi?$o:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Vr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,r,o);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Vr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,r,o);break;case"together":nl(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Sc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Di(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Vo(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vo(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function rl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ni(e))}function al(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ps=!0;else{if(!rl(e,n)&&0===(128&t.flags))return Ps=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),Ei(0,zi,e.memoizedState.cache),bi();break;case 27:case 5:J(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:Ei(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Rr(t),null;break;case 13:var o=t.memoizedState;if(null!==o)return null!==o.dehydrated?(Or(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Qs(e,t,n):(Or(t),null!==(e=il(e,t,n))?e.sibling:null);Or(t);break;case 19:var i=0!==(128&e.flags);if((o=0!==(n&t.childLanes))||(Di(e,t,n,!1),o=0!==(n&t.childLanes)),i){if(o)return ol(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(Br,Br.current),o)break;return null;case 22:return t.lanes=0,Fs(e,t,n,t.pendingProps);case 24:Ei(0,zi,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Ps=0!==(131072&e.flags)}else Ps=!1,pi&&0!==(1048576&t.flags)&&ai(t,$o,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=ir(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===k){t.tag=11,t=Os(null,t,e,o,n);break e}if(i===I){t.tag=14,t=Rs(null,t,e,o,n);break e}}throw t=T(e)||e,Error(a(306,t,""))}Bo(e)?(o=Cs(e,o),t.tag=1,t=Ws(null,t,e,o,n)):(t.tag=0,t=Us(null,t,e,o,n))}return t;case 0:return Us(e,t,t.type,t.pendingProps,n);case 1:return Ws(e,t,o=t.type,i=Cs(o,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(a(387));o=t.pendingProps;var r=t.memoizedState;i=r.element,yr(e,t),Ir(t,o,null,n);var s=t.memoizedState;if(o=s.cache,Ei(0,zi,o),o!==r.cache&&_i(t,[zi],n,!0),Sr(),o=s.element,r.isDehydrated){if(r={element:o,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Ks(e,t,o,n);break e}if(o!==i){ki(i=Xo(Error(a(424)),t)),t=Ks(e,t,o,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Pu(e.firstChild),di=t,pi=!0,hi=null,mi=!0,n=fr(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),o===i){t=il(e,t,n);break e}Ms(e,t,o,n)}t=t.child}return t;case 26:return qs(e,t),null===e?(n=Gu(t.type,null,t.pendingProps,null))?t.memoizedState=n:pi||(n=t.type,e=t.pendingProps,(o=gu(W.current).createElement(n))[Ve]=t,o[He]=e,pu(o,n,e),et(o),t.stateNode=o):t.memoizedState=Gu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&pi&&(o=t.stateNode=Lu(t.type,t.pendingProps,W.current),di=t,mi=!0,i=ui,Eu(t.type)?(Mu=i,ui=Pu(o.firstChild)):ui=i),Ms(e,t,t.pendingProps.children,n),qs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&pi&&((i=o=ui)&&(null!==(o=function(e,t,n,o){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(o){if(!e[Ye])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===r)return e}if(null===(e=Pu(e.nextSibling)))break}return null}(o,t.type,t.pendingProps,mi))?(t.stateNode=o,di=t,ui=Pu(o.firstChild),mi=!1,i=!0):i=!1),i||gi(t)),J(t),i=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,o=r.children,xu(i,r)?o=null:null!==s&&xu(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=ta(e,t,ia,null,null,n),dp._currentValue=i),qs(e,t),Ms(e,t,o,n),t.child;case 6:return null===e&&pi&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Pu(e.nextSibling)))return null}return e}(n,t.pendingProps,mi))?(t.stateNode=n,di=t,ui=null,e=!0):e=!1),e||gi(t)),null;case 13:return Qs(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=mr(t,null,o,n):Ms(e,t,o,n),t.child;case 11:return Os(e,t,t.type,t.pendingProps,n);case 7:return Ms(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ms(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,Ei(0,t.type,o.value),Ms(e,t,o.children,n),t.child;case 9:return i=t.type._context,o=t.pendingProps.children,Ti(t),o=o(i=Pi(i)),t.flags|=1,Ms(e,t,o,n),t.child;case 14:return Rs(e,t,t.type,t.pendingProps,n);case 15:return Ls(e,t,t.type,t.pendingProps,n);case 19:return ol(e,t,n);case 31:return function(e,t,n){var o=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(pi){if("hidden"===o.mode)return e=Vs(t,o),t.lanes=536870912,zs(null,e);if(Rr(t),(e=ui)?null!==(e=null!==(e=Du(e,mi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:oi,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Wo(e)).return=t,t.child=n,di=t,ui=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Vs(t,o)}var r=e.memoizedState;if(null!==r){var s=r.dehydrated;if(Rr(t),i)if(256&t.flags)t.flags&=-257,t=Hs(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Ps||Di(e,t,n,!1),i=0!==(n&e.childLanes),Ps||i){if(null!==(o=mc)&&0!==(s=Oe(o,n))&&s!==r.retryLane)throw r.retryLane=s,Mo(e,s),Yc(o,e,s),Ts;ad(),t=Hs(e,t,n)}else e=r.treeContext,ui=Pu(s.nextSibling),di=t,pi=!0,hi=null,mi=!1,null!==e&&ci(t,e),(t=Vs(t,o)).flags|=4096;return t}return(e=Vo(e.child,{mode:o.mode,children:o.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fs(e,t,n,t.pendingProps);case 24:return Ti(t),o=Pi(zi),null===e?(null===(i=Xi())&&(i=mc,r=Bi(),i.pooledCache=r,r.refCount++,null!==r&&(i.pooledCacheLanes|=n),i=r),t.memoizedState={parent:o,cache:i},vr(t),Ei(0,zi,i)):(0!==(e.lanes&n)&&(yr(e,t),Ir(t,null,null,n),Sr()),i=e.memoizedState,r=t.memoizedState,i.parent!==o?(i={parent:o,cache:o},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ei(0,zi,o)):(o=r.cache,Ei(0,zi,o),o!==i.cache&&_i(t,[zi],n,!0))),Ms(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function sl(e){e.flags|=4}function ll(e,t,n,o,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!od())throw rr=tr,$i;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ip(t)){if(!od())throw rr=tr,$i;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?De():536870912,e.lanes|=t,Ac|=t)}function ul(e,t){if(!pi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function pl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,o|=65011712&i.subtreeFlags,o|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function hl(e,t,n){var o=t.pendingProps;switch(li(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(t),null;case 3:return n=t.stateNode,o=null,null!==e&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),ji(zi),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(xi(t)?sl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wi())),pl(t),null;case 26:var i=t.type,r=t.memoizedState;return null===e?(sl(t),null!==r?(pl(t),cl(t,r)):(pl(t),ll(t,i,0,0,n))):r?r!==e.memoizedState?(sl(t),pl(t),cl(t,r)):(pl(t),t.flags&=-16777217):((e=e.memoizedProps)!==o&&sl(t),pl(t),ll(t,i,0,0,n)),null;case 27:if(Q(t),n=W.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&sl(t);else{if(!o){if(null===t.stateNode)throw Error(a(166));return pl(t),null}e=U.current,xi(t)?vi(t):(e=Lu(i,o,n),t.stateNode=e,sl(t))}return pl(t),null;case 5:if(Q(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&sl(t);else{if(!o){if(null===t.stateNode)throw Error(a(166));return pl(t),null}if(r=U.current,xi(t))vi(t);else{var s=gu(W.current);switch(r){case 1:r=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(r=s.createElement("div")).innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r="string"===typeof o.is?s.createElement("select",{is:o.is}):s.createElement("select"),o.multiple?r.multiple=!0:o.size&&(r.size=o.size);break;default:r="string"===typeof o.is?s.createElement(i,{is:o.is}):s.createElement(i)}}r[Ve]=t,r[He]=o;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)r.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=r;e:switch(pu(r,i,o),i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&sl(t)}}return pl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==o&&sl(t);else{if("string"!==typeof o&&null===t.stateNode)throw Error(a(166));if(e=W.current,xi(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,null!==(i=di))switch(i.tag){case 27:case 5:o=i.memoizedProps}e[Ve]=t,(e=!!(e.nodeValue===n||null!==o&&!0===o.suppressHydrationWarning||cu(e.nodeValue,n)))||gi(t,!0)}else(e=gu(e).createTextNode(o))[Ve]=t,t.stateNode=e}return pl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(o=xi(t),null!==n){if(null===e){if(!o)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[Ve]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),e=!1}else n=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zr(t),t):(zr(t),null);if(0!==(128&t.flags))throw Error(a(558))}return pl(t),null;case 13:if(o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=xi(t),null!==o&&null!==o.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ve]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),i=!1}else i=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(zr(t),t):(zr(t),null)}return zr(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==o,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(o=t.child).alternate&&null!==o.alternate.memoizedState&&null!==o.alternate.memoizedState.cachePool&&(i=o.alternate.memoizedState.cachePool.pool),r=null,null!==o.memoizedState&&null!==o.memoizedState.cachePool&&(r=o.memoizedState.cachePool.pool),r!==i&&(o.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),pl(t),null);case 4:return X(),null===e&&$d(t.stateNode.containerInfo),pl(t),null;case 10:return ji(t.type),pl(t),null;case 19:if(B(Br),null===(o=t.memoizedState))return pl(t),null;if(i=0!==(128&t.flags),null===(r=o.rendering))if(i)ul(o,!1);else{if(0!==Cc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=Vr(e))){for(t.flags|=128,ul(o,!1),e=r.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ho(n,e),n=n.sibling;return V(Br,1&Br.current|2),pi&&ri(t,o.treeForkCount),t.child}e=e.sibling}null!==o.tail&&le()>Mc&&(t.flags|=128,i=!0,ul(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Vr(r))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),ul(o,!0),null===o.tail&&"hidden"===o.tailMode&&!r.alternate&&!pi)return pl(t),null}else 2*le()-o.renderingStartTime>Mc&&536870912!==n&&(t.flags|=128,i=!0,ul(o,!1),t.lanes=4194304);o.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=o.last)?e.sibling=r:t.child=r,o.last=r)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=le(),e.sibling=null,n=Br.current,V(Br,i?1&n|2:1&n),pi&&ri(t,o.treeForkCount),e):(pl(t),null);case 22:case 23:return zr(t),Tr(),o=null!==t.memoizedState,null!==e?null!==e.memoizedState!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?0!==(536870912&n)&&0===(128&t.flags)&&(pl(t),6&t.subtreeFlags&&(t.flags|=8192)):pl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),o=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),null!==e&&B(Yi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ji(zi),pl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ml(e,t){switch(li(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ji(zi),X(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 31:if(null!==t.memoizedState){if(zr(t),null===t.alternate)throw Error(a(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zr(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Br),null;case 4:return X(),null;case 10:return ji(t.type),null;case 22:case 23:return zr(t),Tr(),null!==e&&B(Yi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ji(zi),null;default:return null}}function fl(e,t){switch(li(t),t.tag){case 3:ji(zi),X();break;case 26:case 27:case 5:Q(t);break;case 4:X();break;case 31:null!==t.memoizedState&&zr(t);break;case 13:zr(t);break;case 19:B(Br);break;case 10:ji(t.type);break;case 22:case 23:zr(t),Tr(),null!==e&&B(Yi);break;case 24:ji(zi)}}function gl(e,t){try{var n=t.updateQueue,o=null!==n?n.lastEffect:null;if(null!==o){var i=o.next;n=i;do{if((n.tag&e)===e){o=void 0;var r=n.create,a=n.inst;o=r(),a.destroy=o}n=n.next}while(n!==i)}}catch(s){Cd(t,t.return,s)}}function vl(e,t,n){try{var o=t.updateQueue,i=null!==o?o.lastEffect:null;if(null!==i){var r=i.next;o=r;do{if((o.tag&e)===e){var a=o.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(d){Cd(i,l,d)}}}o=o.next}while(o!==r)}}catch(d){Cd(t,t.return,d)}}function yl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{jr(t,n)}catch(o){Cd(e,e.return,o)}}}function xl(e,t,n){n.props=Cs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(o){Cd(e,t,o)}}function bl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;default:o=e.stateNode}"function"===typeof n?e.refCleanup=n(o):n.current=o}}catch(i){Cd(e,t,i)}}function wl(e,t){var n=e.ref,o=e.refCleanup;if(null!==n)if("function"===typeof o)try{o()}catch(i){Cd(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(r){Cd(e,t,r)}else n.current=null}function kl(e){var t=e.type,n=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&o.focus();break e;case"img":n.src?o.src=n.src:n.srcSet&&(o.srcset=n.srcSet)}}catch(i){Cd(e,e.return,i)}}function Cl(e,t,n){try{var o=e.stateNode;!function(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,s=null,l=null,c=null,d=null,u=null;for(m in n){var p=n[m];if(n.hasOwnProperty(m)&&null!=p)switch(m){case"checked":case"value":break;case"defaultValue":c=p;default:o.hasOwnProperty(m)||du(e,t,m,null,o,p)}}for(var h in o){var m=o[h];if(p=n[h],o.hasOwnProperty(h)&&(null!=m||null!=p))switch(h){case"type":r=m;break;case"name":i=m;break;case"checked":d=m;break;case"defaultChecked":u=m;break;case"value":s=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(a(137,t));break;default:m!==p&&du(e,t,h,m,o,p)}}return void yt(e,s,l,c,d,u,r,i);case"select":for(r in m=s=l=h=null,n)if(c=n[r],n.hasOwnProperty(r)&&null!=c)switch(r){case"value":break;case"multiple":m=c;default:o.hasOwnProperty(r)||du(e,t,r,null,o,c)}for(i in o)if(r=o[i],c=n[i],o.hasOwnProperty(i)&&(null!=r||null!=c))switch(i){case"value":h=r;break;case"defaultValue":l=r;break;case"multiple":s=r;default:r!==c&&du(e,t,i,r,o,c)}return t=l,n=s,o=m,void(null!=h?wt(e,!!n,h,!1):!!o!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=h=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!o.hasOwnProperty(l))switch(l){case"value":case"children":break;default:du(e,t,l,null,o,i)}for(s in o)if(i=o[s],r=n[s],o.hasOwnProperty(s)&&(null!=i||null!=r))switch(s){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==r&&du(e,t,s,i,o,r)}return void kt(e,h,m);case"option":for(var f in n)if(h=n[f],n.hasOwnProperty(f)&&null!=h&&!o.hasOwnProperty(f))if("selected"===f)e.selected=!1;else du(e,t,f,null,o,h);for(c in o)if(h=o[c],m=n[c],o.hasOwnProperty(c)&&h!==m&&(null!=h||null!=m))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else du(e,t,c,h,o,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!o.hasOwnProperty(g)&&du(e,t,g,null,o,h);for(d in o)if(h=o[d],m=n[d],o.hasOwnProperty(d)&&h!==m&&(null!=h||null!=m))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:du(e,t,d,h,o,m)}return;default:if(At(t)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&void 0!==h&&!o.hasOwnProperty(v)&&uu(e,t,v,void 0,o,h);for(u in o)h=o[u],m=n[u],!o.hasOwnProperty(u)||h===m||void 0===h&&void 0===m||uu(e,t,u,h,o,m);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!o.hasOwnProperty(y)&&du(e,t,y,null,o,h);for(p in o)h=o[p],m=n[p],!o.hasOwnProperty(p)||h===m||null==h&&null==m||du(e,t,p,h,o,m)}(o,e.type,n,t),o[He]=t}catch(i){Cd(e,e.return,i)}}function Sl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Eu(e.type)||4===e.tag}function Il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Eu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function El(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Tt));else if(4!==o&&(27===o&&Eu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function jl(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&(27===o&&Eu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(jl(e,t,n),e=e.sibling;null!==e;)jl(e,t,n),e=e.sibling}function Al(e){var t=e.stateNode,n=e.memoizedProps;try{for(var o=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pu(t,o,n),t[Ve]=e,t[He]=n}catch(r){Cd(e,e.return,r)}}var _l=!1,Dl=!1,Nl=!1,Tl="function"===typeof WeakSet?WeakSet:Set,Pl=null;function Ml(e,t,n){var o=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&o&&gl(5,n);break;case 1:if(Yl(e,n),4&o)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){Cd(n,n.return,a)}else{var i=Cs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Cd(n,n.return,s)}}64&o&&yl(n),512&o&&bl(n,n.return);break;case 3:if(Yl(e,n),64&o&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{jr(e,t)}catch(a){Cd(n,n.return,a)}}break;case 27:null===t&&4&o&&Al(n);case 26:case 5:Yl(e,n),null===t&&4&o&&kl(n),512&o&&bl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&o&&Bl(e,n);break;case 13:Yl(e,n),4&o&&Vl(e,n),64&o&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var o=function(){t(),n.removeEventListener("DOMContentLoaded",o)};n.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}(e,n=jd.bind(null,n))));break;case 22:if(!(o=null!==n.memoizedState||_l)){t=null!==t&&null!==t.memoizedState||Dl,i=_l;var r=Dl;_l=o,(Dl=t)&&!r?Jl(e,n,0!==(8772&n.subtreeFlags)):Yl(e,n),_l=i,Dl=r}break;case 30:break;default:Yl(e,n)}}function Ol(e){var t=e.alternate;null!==t&&(e.alternate=null,Ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Xe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rl=null,Ll=!1;function Fl(e,t,n){for(n=n.child;null!==n;)zl(e,t,n),n=n.sibling}function zl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(r){}switch(n.tag){case 26:Dl||wl(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Dl||wl(n,t);var o=Rl,i=Ll;Eu(n.type)&&(Rl=n.stateNode,Ll=!1),Fl(e,t,n),Fu(n.stateNode),Rl=o,Ll=i;break;case 5:Dl||wl(n,t);case 6:if(o=Rl,i=Ll,Rl=null,Fl(e,t,n),Ll=i,null!==(Rl=o))if(Ll)try{(9===Rl.nodeType?Rl.body:"HTML"===Rl.nodeName?Rl.ownerDocument.body:Rl).removeChild(n.stateNode)}catch(a){Cd(n,t,a)}else try{Rl.removeChild(n.stateNode)}catch(a){Cd(n,t,a)}break;case 18:null!==Rl&&(Ll?(ju(9===(e=Rl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Up(e)):ju(Rl,n.stateNode));break;case 4:o=Rl,i=Ll,Rl=n.stateNode.containerInfo,Ll=!0,Fl(e,t,n),Rl=o,Ll=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Dl||vl(4,n,t),Fl(e,t,n);break;case 1:Dl||(wl(n,t),"function"===typeof(o=n.stateNode).componentWillUnmount&&xl(n,t,o)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:Dl=(o=Dl)||null!==n.memoizedState,Fl(e,t,n),Dl=o;break;default:Fl(e,t,n)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Up(e)}catch(n){Cd(t,t.return,n)}}}function Vl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Up(e)}catch(n){Cd(t,t.return,n)}}function Hl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Tl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var o=Ad.bind(null,e,t);t.then(o,o)}})}function ql(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var i=n[o],r=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Eu(l.type)){Rl=l.stateNode,Ll=!1;break e}break;case 5:Rl=l.stateNode,Ll=!1;break e;case 3:case 4:Rl=l.stateNode.containerInfo,Ll=!0;break e}l=l.return}if(null===Rl)throw Error(a(160));zl(r,s,i),Rl=null,Ll=!1,null!==(r=i.alternate)&&(r.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gl(t,e),t=t.sibling}var Ul=null;function Gl(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ql(t,e),Wl(e),4&o&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:ql(t,e),Wl(e),512&o&&(Dl||null===n||wl(n,n.return)),64&o&&_l&&(null!==(e=e.updateQueue)&&(null!==(o=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?o:n.concat(o))));break;case 26:var i=Ul;if(ql(t,e),Wl(e),512&o&&(Dl||null===n||wl(n,n.return)),4&o){var r=null!==n?n.memoizedState:null;if(o=e.memoizedState,null===n)if(null===o)if(null===e.stateNode){e:{o=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(o){case"title":(!(r=i.getElementsByTagName("title")[0])||r[Ye]||r[Ve]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=i.createElement(o),i.head.insertBefore(r,i.querySelector("head > title"))),pu(r,o,n),r[Ve]=e,et(r),o=r;break e;case"link":var s=np("link","href",i).get(o+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((r=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&r.getAttribute("rel")===(null==n.rel?null:n.rel)&&r.getAttribute("title")===(null==n.title?null:n.title)&&r.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}pu(r=i.createElement(o),o,n),i.head.appendChild(r);break;case"meta":if(s=np("meta","content",i).get(o+(n.content||"")))for(l=0;l<s.length;l++)if((r=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&r.getAttribute("name")===(null==n.name?null:n.name)&&r.getAttribute("property")===(null==n.property?null:n.property)&&r.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&r.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}pu(r=i.createElement(o),o,n),i.head.appendChild(r);break;default:throw Error(a(468,o))}r[Ve]=e,et(r),o=r}e.stateNode=o}else op(i,e.type,e.stateNode);else e.stateNode=Qu(i,o,e.memoizedProps);else r!==o?(null===r?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):r.count--,null===o?op(i,e.type,e.stateNode):Qu(i,o,e.memoizedProps)):null===o&&null!==e.stateNode&&Cl(e,e.memoizedProps,n.memoizedProps)}break;case 27:ql(t,e),Wl(e),512&o&&(Dl||null===n||wl(n,n.return)),null!==n&&4&o&&Cl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ql(t,e),Wl(e),512&o&&(Dl||null===n||wl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(f){Cd(e,e.return,f)}}4&o&&null!=e.stateNode&&Cl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&o&&(Nl=!0);break;case 6:if(ql(t,e),Wl(e),4&o){if(null===e.stateNode)throw Error(a(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(f){Cd(e,e.return,f)}}break;case 3:if(tp=null,i=Ul,Ul=Vu(t.containerInfo),ql(t,e),Ul=i,Wl(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Up(t.containerInfo)}catch(f){Cd(e,e.return,f)}Nl&&(Nl=!1,Kl(e));break;case 4:o=Ul,Ul=Vu(e.stateNode.containerInfo),ql(t,e),Wl(e),Ul=o;break;case 12:default:ql(t,e),Wl(e);break;case 31:case 19:ql(t,e),Wl(e),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,Hl(e,o)));break;case 13:ql(t,e),Wl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Tc=le()),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,Hl(e,o)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=_l,u=Dl;if(_l=d||i,Dl=u||c,ql(t,e),Dl=u,_l=d,Wl(e),8192&o)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||_l||Dl||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(r=c.stateNode,i)"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var p=c.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(f){Cd(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(f){Cd(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var m=c.stateNode;i?Au(m,!0):Au(c.stateNode,!1)}catch(f){Cd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&o&&(null!==(o=e.updateQueue)&&(null!==(n=o.retryQueue)&&(o.retryQueue=null,Hl(e,n))));case 30:case 21:}}function Wl(e){var t=e.flags;if(2&t){try{for(var n,o=e.return;null!==o;){if(Sl(o)){n=o;break}o=o.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;jl(e,Il(e),i);break;case 5:var r=n.stateNode;32&n.flags&&(St(r,""),n.flags&=-33),jl(e,Il(e),r);break;case 3:case 4:var s=n.stateNode.containerInfo;El(e,Il(e),s);break;default:throw Error(a(161))}}catch(l){Cd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Kl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Kl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ml(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Xl(t);break;case 1:wl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&xl(t,t.return,n),Xl(t);break;case 27:Fu(t.stateNode);case 26:case 5:wl(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var o=t.alternate,i=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:Jl(i,r,n),gl(4,r);break;case 1:if(Jl(i,r,n),"function"===typeof(i=(o=r).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Cd(o,o.return,c)}if(null!==(i=(o=r).updateQueue)){var s=o.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Er(l[i],s)}catch(c){Cd(o,o.return,c)}}n&&64&a&&yl(r),bl(r,r.return);break;case 27:Al(r);case 26:case 5:Jl(i,r,n),n&&null===o&&4&a&&kl(r),bl(r,r.return);break;case 12:Jl(i,r,n);break;case 31:Jl(i,r,n),n&&4&a&&Bl(i,r);break;case 13:Jl(i,r,n),n&&4&a&&Vl(i,r);break;case 22:null===r.memoizedState&&Jl(i,r,n),bl(r,r.return);break;case 30:break;default:Jl(i,r,n)}t=t.sibling}}function Ql(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vi(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e))}function $l(e,t,n,o){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,o),t=t.sibling}function ec(e,t,n,o){var i=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,n,o),2048&i&&gl(9,t);break;case 1:case 31:case 13:default:$l(e,t,n,o);break;case 3:$l(e,t,n,o),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e)));break;case 12:if(2048&i){$l(e,t,n,o),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,s=r.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Cd(t,t.return,l)}}else $l(e,t,n,o);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,null!==t.memoizedState?2&r._visibility?$l(e,t,n,o):nc(e,t):2&r._visibility?$l(e,t,n,o):(r._visibility|=2,tc(e,t,n,o,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Ql(a,t);break;case 24:$l(e,t,n,o),2048&i&&Zl(t.alternate,t)}}function tc(e,t,n,o,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var r=e,a=t,s=n,l=o,c=a.flags;switch(a.tag){case 0:case 11:case 15:tc(r,a,s,l,i),gl(8,a);break;case 23:break;case 22:var d=a.stateNode;null!==a.memoizedState?2&d._visibility?tc(r,a,s,l,i):nc(r,a):(d._visibility|=2,tc(r,a,s,l,i)),i&&2048&c&&Ql(a.alternate,a);break;case 24:tc(r,a,s,l,i),i&&2048&c&&Zl(a.alternate,a);break;default:tc(r,a,s,l,i)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,o=t,i=o.flags;switch(o.tag){case 22:nc(n,o),2048&i&&Ql(o.alternate,o);break;case 24:nc(n,o),2048&i&&Zl(o.alternate,o);break;default:nc(n,o)}t=t.sibling}}var oc=8192;function ic(e,t,n){if(e.subtreeFlags&oc)for(e=e.child;null!==e;)rc(e,t,n),e=e.sibling}function rc(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&oc&&null!==e.memoizedState&&function(e,t,n,o){if("stylesheet"===n.type&&("string"!==typeof o.media||!1!==matchMedia(o.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Wu(o.href),r=t.querySelector(Ku(i));if(r)return null!==(t=r._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ap.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,void et(r);r=t.ownerDocument||t,o=Yu(o),(i=zu.get(i))&&$u(o,i),et(r=r.createElement("link"));var a=r;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),pu(r,"link",o),n.instance=r}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ap.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Ul,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var o=Ul;Ul=Vu(e.stateNode.containerInfo),ic(e,t,n),Ul=o;break;case 22:null===e.memoizedState&&(null!==(o=e.alternate)&&null!==o.memoizedState?(o=oc,oc=16777216,ic(e,t,n),oc=o):ic(e,t,n))}}function ac(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function sc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var o=t[n];Pl=o,dc(o,e)}ac(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:sc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:sc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):sc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var o=t[n];Pl=o,dc(o,e)}ac(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==Pl;){var n=Pl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var o=n.memoizedState.cachePool.pool;null!=o&&o.refCount++}break;case 24:Vi(n.memoizedState.cache)}if(null!==(o=n.child))o.return=n,Pl=o;else e:for(n=e;null!==Pl;){var i=(o=Pl).sibling,r=o.return;if(Ol(o),o===n){Pl=null;break e}if(null!==i){i.return=r,Pl=i;break e}Pl=r}}}var uc={getCacheForType:function(e){var t=Pi(zi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pi(zi).controller.signal}},pc="function"===typeof WeakMap?WeakMap:Map,hc=0,mc=null,fc=null,gc=0,vc=0,yc=null,xc=!1,bc=!1,wc=!1,kc=0,Cc=0,Sc=0,Ic=0,Ec=0,jc=0,Ac=0,_c=null,Dc=null,Nc=!1,Tc=0,Pc=0,Mc=1/0,Oc=null,Rc=null,Lc=0,Fc=null,zc=null,Bc=0,Vc=0,Hc=null,qc=null,Uc=0,Gc=null;function Wc(){return 0!==(2&hc)&&0!==gc?gc&-gc:null!==M.T?Hd():Fe()}function Kc(){if(0===jc)if(0===(536870912&gc)||pi){var e=Se;0===(3932160&(Se<<=1))&&(Se=262144),jc=e}else jc=536870912;return null!==(e=Pr.current)&&(e.flags|=32),jc}function Yc(e,t,n){(e!==mc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(td(e,0),Zc(e,gc,jc,!1)),Te(e,n),0!==(2&hc)&&e===mc||(e===mc&&(0===(2&hc)&&(Ic|=n),4===Cc&&Zc(e,gc,jc,!1)),Od(e))}function Xc(e,t,n){if(0!==(6&hc))throw Error(a(327));for(var o=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ae(e,t),i=o?function(e,t){var n=hc;hc|=2;var o=id(),i=rd();mc!==e||gc!==t?(Oc=null,Mc=le()+500,td(e,t)):bc=Ae(e,t);e:for(;;)try{if(0!==vc&&null!==fc){t=fc;var r=yc;t:switch(vc){case 1:vc=0,yc=null,pd(e,t,r,1);break;case 2:case 9:if(nr(r)){vc=0,yc=null,ud(t);break}t=function(){2!==vc&&9!==vc||mc!==e||(vc=7),Od(e)},r.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:nr(r)?(vc=0,yc=null,ud(t)):(vc=0,yc=null,pd(e,t,r,7));break;case 5:var s=null;switch(fc.tag){case 26:s=fc.memoizedState;case 5:case 27:var l=fc;if(s?ip(s):l.stateNode.complete){vc=0,yc=null;var c=l.sibling;if(null!==c)fc=c;else{var d=l.return;null!==d?(fc=d,hd(d)):fc=null}break t}}vc=0,yc=null,pd(e,t,r,5);break;case 6:vc=0,yc=null,pd(e,t,r,6);break;case 8:ed(),Cc=6;break e;default:throw Error(a(462))}}cd();break}catch(u){nd(e,u)}return Ii=Si=null,M.H=o,M.A=i,hc=n,null!==fc?0:(mc=null,gc=0,No(),Cc)}(e,t):sd(e,t,!0),r=o;;){if(0===i){bc&&!o&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!r||Qc(n)){if(2===i){if(r=t,e.errorRecoveryDisabledLanes&r)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=_c;var c=l.current.memoizedState.isDehydrated;if(c&&(td(l,s).flags|=256),2!==(s=sd(l,s,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=r,Ic|=r,i=4;break e}r=Dc,Dc=i,null!==r&&(null===Dc?Dc=r:Dc.push.apply(Dc,r))}i=s}if(r=!1,2!==i)continue}}if(1===i){td(e,0),Zc(e,t,0,!0);break}e:{switch(o=e,r=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Zc(o,t,jc,!xc);break e;case 2:Dc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=Tc+300-le())){if(Zc(o,t,jc,!xc),0!==je(o,0,!0))break e;Bc=t,o.timeoutHandle=wu(Jc.bind(null,o,n,Dc,Oc,Nc,t,jc,Ic,Ac,xc,r,"Throttled",-0,0),i)}else Jc(o,n,Dc,Oc,Nc,t,jc,Ic,Ac,xc,r,null,-0,0)}break}i=sd(e,t,!1),r=!1}Od(e)}function Jc(e,t,n,o,i,r,a,s,l,c,d,u,p,h){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){rc(t,r,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tt});var m=(62914560&r)===r?Tc-le():(4194048&r)===r?Pc-le():0;if(null!==(m=function(e,t){return e.stylesheets&&0===e.count&&lp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var o=setTimeout(function(){if(e.stylesheets&&lp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===rp&&(rp=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),o=0;o<n.length;o++){var i=n[o],r=i.transferSize,a=i.initiatorType,s=i.duration;if(r&&s&&hu(a)){for(a=0,s=i.responseEnd,o+=1;o<n.length;o++){var l=n[o],c=l.startTime;if(c>s)break;var d=l.transferSize,u=l.initiatorType;d&&hu(u)&&(a+=d*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--o,t+=8*(r+a)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>rp?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(i)}}:null}(u,m)))return Bc=r,e.cancelPendingCommit=m(fd.bind(null,e,t,r,n,o,i,a,s,l,d,u,null,p,h)),void Zc(e,r,a,!c)}fd(e,t,r,n,o,i,a,s,l)}function Qc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var o=0;o<n.length;o++){var i=n[o],r=i.getSnapshot;i=i.value;try{if(!Zn(r(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,o){t&=~Ec,t&=~Ic,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var i=t;0<i;){var r=31-be(i),a=1<<r;o[r]=-1,i&=~a}0!==n&&Pe(e,n,t)}function $c(){return 0!==(6&hc)||(Rd(0,!1),!1)}function ed(){if(null!==fc){if(0===vc)var e=fc.return;else Ii=Si=null,sa(e=fc),lr=null,cr=0,e=fc;for(;null!==e;)fl(e.alternate,e),e=e.return;fc=null}}function td(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ku(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc=0,ed(),mc=e,fc=n=Vo(e.current,null),gc=t,vc=0,yc=null,xc=!1,bc=Ae(e,t),wc=!1,Ac=jc=Ec=Ic=Sc=Cc=0,Dc=_c=null,Nc=!1,0!==(8&t)&&(t|=32&t);var o=e.entangledLanes;if(0!==o)for(e=e.entanglements,o&=t;0<o;){var i=31-be(o),r=1<<i;t|=e[i],o&=~r}return kc=t,No(),n}function nd(e,t){qr=null,M.H=fs,t===Zi||t===er?(t=ar(),vc=3):t===$i?(t=ar(),vc=4):vc=t===Ts?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===fc&&(Cc=1,js(e,Xo(t,e.current)))}function od(){var e=Pr.current;return null===e||((4194048&gc)===gc?null===Mr:((62914560&gc)===gc||0!==(536870912&gc))&&e===Mr)}function id(){var e=M.H;return M.H=fs,null===e?fs:e}function rd(){var e=M.A;return M.A=uc,e}function ad(){Cc=4,xc||(4194048&gc)!==gc&&null!==Pr.current||(bc=!0),0===(134217727&Sc)&&0===(134217727&Ic)||null===mc||Zc(mc,gc,jc,!1)}function sd(e,t,n){var o=hc;hc|=2;var i=id(),r=rd();mc===e&&gc===t||(Oc=null,td(e,t)),t=!1;var a=Cc;e:for(;;)try{if(0!==vc&&null!==fc){var s=fc,l=yc;switch(vc){case 8:ed(),a=6;break e;case 3:case 2:case 9:case 6:null===Pr.current&&(t=!0);var c=vc;if(vc=0,yc=null,pd(e,s,l,c),n&&bc){a=0;break e}break;default:c=vc,vc=0,yc=null,pd(e,s,l,c)}}ld(),a=Cc;break}catch(d){nd(e,d)}return t&&e.shellSuspendCounter++,Ii=Si=null,hc=o,M.H=i,M.A=r,null===fc&&(mc=null,gc=0,No()),a}function ld(){for(;null!==fc;)dd(fc)}function cd(){for(;null!==fc&&!ae();)dd(fc)}function dd(e){var t=al(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?hd(e):fc=t}function ud(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Gs(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Gs(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:sa(t);default:fl(n,t),t=al(n,t=fc=Ho(t,kc),kc)}e.memoizedProps=e.pendingProps,null===t?hd(e):fc=t}function pd(e,t,n,o){Ii=Si=null,sa(t),lr=null,cr=0;var i=t.return;try{if(function(e,t,n,o,i){if(n.flags|=32768,null!==o&&"object"===typeof o&&"function"===typeof o.then){if(null!==(t=n.alternate)&&Di(t,n,i,!0),null!==(n=Pr.current)){switch(n.tag){case 31:case 13:return null===Mr?ad():null===n.alternate&&0===Cc&&(Cc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,o===tr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([o]):t.add(o),Sd(e,o,i)),!1;case 22:return n.flags|=65536,o===tr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([o]):n.add(o),Sd(e,o,i)),!1}throw Error(a(435,n.tag))}return Sd(e,o,i),ad(),!1}if(pi)return null!==(t=Pr.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,o!==fi&&ki(Xo(e=Error(a(422),{cause:o}),n))):(o!==fi&&ki(Xo(t=Error(a(423),{cause:o}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,o=Xo(o,n),kr(e,i=_s(e.stateNode,o,i)),4!==Cc&&(Cc=2)),!1;var r=Error(a(520),{cause:o});if(r=Xo(r,n),null===_c?_c=[r]:_c.push(r),4!==Cc&&(Cc=2),null===t)return!0;o=Xo(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,kr(n,e=_s(n.stateNode,o,e)),!1;case 1:if(t=n.type,r=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===Rc||!Rc.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,Ns(i=Ds(i),e,n,o),kr(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,gc))return Cc=1,js(e,Xo(n,e.current)),void(fc=null)}catch(r){if(null!==i)throw fc=i,r;return Cc=1,js(e,Xo(n,e.current)),void(fc=null)}32768&t.flags?(pi||1===o?e=!0:bc||0!==(536870912&gc)?e=!1:(xc=e=!0,(2===o||9===o||3===o||6===o)&&(null!==(o=Pr.current)&&13===o.tag&&(o.flags|=16384))),md(t,e)):hd(t)}function hd(e){var t=e;do{if(0!==(32768&t.flags))return void md(t,xc);e=t.return;var n=hl(t.alternate,t,kc);if(null!==n)return void(fc=n);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===Cc&&(Cc=5)}function md(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(fc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=n}while(null!==e);Cc=6,fc=null}function fd(e,t,n,o,i,r,s,l,c){e.cancelPendingCommit=null;do{bd()}while(0!==Lc);if(0!==(6&hc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(r=t.lanes|t.childLanes,function(e,t,n,o,i,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-be(n),u=1<<d;s[d]=0,l[d]=-1;var p=c[d];if(null!==p)for(c[d]=null,d=0;d<p.length;d++){var h=p[d];null!==h&&(h.lane&=-536870913)}n&=~u}0!==o&&Pe(e,o,0),0!==r&&0===i&&0!==e.tag&&(e.suspendedLanes|=r&~(a&~t))}(e,n,r|=Do,s,l,c),e===mc&&(fc=mc=null,gc=0),zc=t,Fc=e,Bc=n,Vc=r,Hc=i,qc=o,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(pe,function(){return wd(),null})):(e.callbackNode=null,e.callbackPriority=0),o=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||o){o=M.T,M.T=null,i=O.p,O.p=2,s=hc,hc|=4;try{!function(e,t){if(e=e.containerInfo,mu=xp,io(e=oo(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var i=o.anchorOffset,r=o.focusNode;o=o.focusOffset;try{n.nodeType,r.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var m;p!==n||0!==i&&3!==p.nodeType||(l=s+i),p!==r||0!==o&&3!==p.nodeType||(c=s+o),3===p.nodeType&&(s+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break t;if(h===n&&++d===i&&(l=s),h===r&&++u===o&&(c=s),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fu={focusedElem:e,selectionRange:n},xp=!1,Pl=t;null!==Pl;)if(e=(t=Pl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Pl=e;else for(;null!==Pl;){switch(r=(t=Pl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,n=t,i=r.memoizedProps,r=r.memoizedState,o=n.stateNode;try{var f=Cs(n.type,i);e=o.getSnapshotBeforeUpdate(f,r),o.__reactInternalSnapshotBeforeUpdate=e}catch(v){Cd(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))_u(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_u(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Pl=e;break}Pl=t.return}}(e,t)}finally{hc=s,O.p=i,M.T=o}}Lc=1,gd(),vd(),yd()}}function gd(){if(1===Lc){Lc=0;var e=Fc,t=zc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var o=O.p;O.p=2;var i=hc;hc|=4;try{Gl(t,e);var r=fu,a=oo(e.containerInfo),s=r.focusedElem,l=r.selectionRange;if(a!==s&&s&&s.ownerDocument&&no(s.ownerDocument.documentElement,s)){if(null!==l&&io(s)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(d,s.value.length);else{var u=s.ownerDocument||document,p=u&&u.defaultView||window;if(p.getSelection){var h=p.getSelection(),m=s.textContent.length,f=Math.min(l.start,m),g=void 0===l.end?f:Math.min(l.end,m);!h.extend&&f>g&&(a=g,g=f,f=a);var v=to(s,f),y=to(s,g);if(v&&y&&(1!==h.rangeCount||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var x=u.createRange();x.setStart(v.node,v.offset),h.removeAllRanges(),f>g?(h.addRange(x),h.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),h.addRange(x))}}}}for(u=[],h=s;h=h.parentNode;)1===h.nodeType&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<u.length;s++){var b=u[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}xp=!!mu,fu=mu=null}finally{hc=i,O.p=o,M.T=n}}e.current=t,Lc=2}}function vd(){if(2===Lc){Lc=0;var e=Fc,t=zc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var o=O.p;O.p=2;var i=hc;hc|=4;try{Ml(e,t.alternate,t)}finally{hc=i,O.p=o,M.T=n}}Lc=3}}function yd(){if(4===Lc||3===Lc){Lc=0,se();var e=Fc,t=zc,n=Bc,o=qc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Lc=5:(Lc=0,zc=Fc=null,xd(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Rc=null),Le(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==o){t=M.T,i=O.p,O.p=2,M.T=null;try{for(var r=e.onRecoverableError,a=0;a<o.length;a++){var s=o[a];r(s.value,{componentStack:s.stack})}}finally{M.T=t,O.p=i}}0!==(3&Bc)&&bd(),Od(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Gc?Uc++:(Uc=0,Gc=e):Uc=0,Rd(0,!1)}}function xd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vi(t)))}function bd(){return gd(),vd(),yd(),wd()}function wd(){if(5!==Lc)return!1;var e=Fc,t=Vc;Vc=0;var n=Le(Bc),o=M.T,i=O.p;try{O.p=32>n?32:n,M.T=null,n=Hc,Hc=null;var r=Fc,s=Bc;if(Lc=0,zc=Fc=null,Bc=0,0!==(6&hc))throw Error(a(331));var l=hc;if(hc|=4,lc(r.current),ec(r,r.current,s,n),hc=l,Rd(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,r)}catch(c){}return!0}finally{O.p=i,M.T=o,xd(e,t)}}function kd(e,t,n){t=Xo(n,t),null!==(e=br(e,t=_s(e.stateNode,t,2),2))&&(Te(e,2),Od(e))}function Cd(e,t,n){if(3===e.tag)kd(e,e,n);else for(;null!==t;){if(3===t.tag){kd(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===Rc||!Rc.has(o))){e=Xo(n,e),null!==(o=br(t,n=Ds(2),2))&&(Ns(n,o,t,e),Te(o,2),Od(o));break}}t=t.return}}function Sd(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new pc;var i=new Set;o.set(t,i)}else void 0===(i=o.get(t))&&(i=new Set,o.set(t,i));i.has(n)||(wc=!0,i.add(n),e=Id.bind(null,e,t,n),t.then(e,e))}function Id(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(gc&n)===n&&(4===Cc||3===Cc&&(62914560&gc)===gc&&300>le()-Tc?0===(2&hc)&&td(e,0):Ec|=n,Ac===gc&&(Ac=0)),Od(e)}function Ed(e,t){0===t&&(t=De()),null!==(e=Mo(e,t))&&(Te(e,t),Od(e))}function jd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ed(e,n)}function Ad(e,t){var n=0;switch(e.tag){case 31:case 13:var o=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==o&&o.delete(t),Ed(e,n)}var _d=null,Dd=null,Nd=!1,Td=!1,Pd=!1,Md=0;function Od(e){e!==Dd&&null===e.next&&(null===Dd?_d=Dd=e:Dd=Dd.next=e),Td=!0,Nd||(Nd=!0,Su(function(){0!==(6&hc)?ie(de,Ld):Fd()}))}function Rd(e,t){if(!Pd&&Td){Pd=!0;do{for(var n=!1,o=_d;null!==o;){if(!t)if(0!==e){var i=o.pendingLanes;if(0===i)var r=0;else{var a=o.suspendedLanes,s=o.pingedLanes;r=(1<<31-be(42|e)+1)-1,r=201326741&(r&=i&~(a&~s))?201326741&r|1:r?2|r:0}0!==r&&(n=!0,Vd(o,r))}else r=gc,0===(3&(r=je(o,o===mc?r:0,null!==o.cancelPendingCommit||-1!==o.timeoutHandle)))||Ae(o,r)||(n=!0,Vd(o,r));o=o.next}}while(n);Pd=!1}}function Ld(){Fd()}function Fd(){Td=Nd=!1;var e=0;0!==Md&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==bu&&(bu=e,!0);return bu=null,!1}()&&(e=Md);for(var t=le(),n=null,o=_d;null!==o;){var i=o.next,r=zd(o,t);0===r?(o.next=null,null===n?_d=i:n.next=i,null===i&&(Dd=n)):(n=o,(0!==e||0!==(3&r))&&(Td=!0)),o=i}0!==Lc&&5!==Lc||Rd(e,!1),0!==Md&&(Md=0)}function zd(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var a=31-be(r),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&o)||(i[a]=_e(s,t)):l<=t&&(e.expiredLanes|=s),r&=~s}if(n=gc,n=je(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),o=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==o&&null!==o&&re(o),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ae(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==o&&re(o),Le(n)){case 2:case 8:n=ue;break;case 32:default:n=pe;break;case 268435456:n=me}return o=Bd.bind(null,e),n=ie(n,o),e.callbackPriority=t,e.callbackNode=n,t}return null!==o&&null!==o&&re(o),e.callbackPriority=2,e.callbackNode=null,2}function Bd(e,t){if(0!==Lc&&5!==Lc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bd()&&e.callbackNode!==n)return null;var o=gc;return 0===(o=je(e,e===mc?o:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,o,t),zd(e,le()),null!=e.callbackNode&&e.callbackNode===n?Bd.bind(null,e):null)}function Vd(e,t){if(bd())return null;Xc(e,t,!0)}function Hd(){if(0===Md){var e=Ui;0===e&&(e=Ce,0===(261888&(Ce<<=1))&&(Ce=256)),Md=e}return Md}function qd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Ud(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Gd=0;Gd<Io.length;Gd++){var Wd=Io[Gd];Eo(Wd.toLowerCase(),"on"+(Wd[0].toUpperCase()+Wd.slice(1)))}Eo(vo,"onAnimationEnd"),Eo(yo,"onAnimationIteration"),Eo(xo,"onAnimationStart"),Eo("dblclick","onDoubleClick"),Eo("focusin","onFocus"),Eo("focusout","onBlur"),Eo(bo,"onTransitionRun"),Eo(wo,"onTransitionStart"),Eo(ko,"onTransitionCancel"),Eo(Co,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),ot("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ot("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ot("onBeforeInput",["compositionend","keypress","textInput","paste"]),ot("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kd));function Xd(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var o=e[n],i=o.event;o=o.listeners;e:{var r=void 0;if(t)for(var a=o.length-1;0<=a;a--){var s=o[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==r&&i.isPropagationStopped())break e;r=s,i.currentTarget=c;try{r(i)}catch(d){jo(d)}i.currentTarget=null,r=l}else for(a=0;a<o.length;a++){if(l=(s=o[a]).instance,c=s.currentTarget,s=s.listener,l!==r&&i.isPropagationStopped())break e;r=s,i.currentTarget=c;try{r(i)}catch(d){jo(d)}i.currentTarget=null,r=l}}}}function Jd(e,t){var n=t[Ue];void 0===n&&(n=t[Ue]=new Set);var o=e+"__bubble";n.has(o)||(eu(t,e,2,!1),n.add(o))}function Qd(e,t,n){var o=0;t&&(o|=4),eu(n,e,o,t)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function $d(e){if(!e[Zd]){e[Zd]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yd.has(t)||Qd(t,!1,e),Qd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zd]||(t[Zd]=!0,Qd("selectionchange",!1,t))}}function eu(e,t,n,o){switch(Ep(t)){case 2:var i=bp;break;case 8:i=wp;break;default:i=kp}n=i.bind(null,t,n,e),i=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),o?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function tu(e,t,n,o,i){var r=o;if(0===(1&t)&&0===(2&t)&&null!==o)e:for(;;){if(null===o)return;var a=o.tag;if(3===a||4===a){var s=o.stateNode.containerInfo;if(s===i)break;if(4===a)for(a=o.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==s;){if(null===(a=Je(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){o=r=a;continue e}s=s.parentNode}}o=o.return}zt(function(){var o=r,i=Mt(n),a=[];e:{var s=So.get(e);if(void 0!==s){var c=nn,d=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":d="focus",c=cn;break;case"focusout":d="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case vo:case yo:case xo:c=dn;break;case Co:c=wn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn;break;case"toggle":case"beforetoggle":c=Cn}var u=0!==(4&t),p=!u&&("scroll"===e||"scrollend"===e),h=u?null!==s?s+"Capture":null:s;u=[];for(var m,f=o;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===h||null!=(g=Bt(f,h))&&u.push(nu(f,g,m)),p)break;f=f.return}0<u.length&&(s=new c(s,d,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Pt||!(d=n.relatedTarget||n.fromElement)||!Je(d)&&!d[qe])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=o,null!==(d=(d=n.relatedTarget||n.toElement)?Je(d):null)&&(p=l(d),u=d.tag,d!==p||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=o),c!==d)){if(u=sn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,g="onPointerLeave",h="onPointerEnter",f="pointer"),p=null==c?s:Ze(c),m=null==d?s:Ze(d),(s=new u(g,f+"leave",c,n,i)).target=p,s.relatedTarget=m,g=null,Je(i)===o&&((u=new u(h,f+"enter",d,n,i)).target=m,u.relatedTarget=p,g=u),p=g,c&&d)e:{for(u=iu,f=d,m=0,g=h=c;g;g=u(g))m++;g=0;for(var v=f;v;v=u(v))g++;for(;0<m-g;)h=u(h),m--;for(;0<g-m;)f=u(f),g--;for(;m--;){if(h===f||null!==f&&h===f.alternate){u=h;break e}h=u(h),f=u(f)}u=null}else u=null;null!==c&&ru(a,s,c,u,!1),null!==d&&null!==p&&ru(a,p,d,u,!0)}if("select"===(c=(s=o?Ze(o):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Vn;else if(On(s))if(Hn)y=Qn;else{y=Xn;var x=Yn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?o&&At(o.elementType)&&(y=Vn):y=Jn;switch(y&&(y=y(e,o))?Rn(a,y,n,i):(x&&x(e,s,o),"focusout"===e&&o&&"number"===s.type&&null!=o.memoizedProps.value&&bt(s,"number",s.value)),x=o?Ze(o):window,e){case"focusin":(On(x)||"true"===x.contentEditable)&&(ao=x,so=o,lo=null);break;case"focusout":lo=so=ao=null;break;case"mousedown":co=!0;break;case"contextmenu":case"mouseup":case"dragend":co=!1,uo(a,n,i);break;case"selectionchange":if(ro)break;case"keydown":case"keyup":uo(a,n,i)}var b;if(In)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Pn?Nn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(An&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Pn&&(b=Kt()):(Gt="value"in(Ut=i)?Ut.value:Ut.textContent,Pn=!0)),0<(x=ou(o,w)).length&&(w=new pn(w,e,null,n,i),a.push({event:w,listeners:x}),b?w.data=b:null!==(b=Tn(n))&&(w.data=b))),(b=jn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(Dn=!0,_n);case"textInput":return(e=t.data)===_n&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!In&&Nn(e,t)?(e=Kt(),Wt=Gt=Ut=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=ou(o,"onBeforeInput")).length&&(x=new pn("onBeforeInput","beforeinput",null,n,i),a.push({event:x,listeners:w}),x.data=b)),function(e,t,n,o,i){if("submit"===t&&n&&n.stateNode===i){var r=qd((i[He]||null).action),a=o.submitter;a&&null!==(t=(t=a[He]||null)?qd(t.formAction):a.getAttribute("formAction"))&&(r=t,a=null);var s=new nn("action","action",null,o,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(0!==Md){var e=a?Ud(i,a):new FormData(i);ts(n,{pending:!0,data:e,method:i.method,action:r},null,e)}}else"function"===typeof r&&(s.preventDefault(),e=a?Ud(i,a):new FormData(i),ts(n,{pending:!0,data:e,method:i.method,action:r},r,e))},currentTarget:i}]})}}(a,e,o,n,i)}Xd(a,t)})}function nu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ou(e,t){for(var n=t+"Capture",o=[];null!==e;){var i=e,r=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===r||(null!=(i=Bt(e,n))&&o.unshift(nu(e,i,r)),null!=(i=Bt(e,t))&&o.push(nu(e,i,r))),3===e.tag)return o;e=e.return}return[]}function iu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ru(e,t,n,o,i){for(var r=t._reactName,a=[];null!==n&&n!==o;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===o)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Bt(n,r))&&a.unshift(nu(n,c,l)):i||null!=(c=Bt(n,r))&&a.push(nu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var au=/\r\n?/g,su=/\u0000|\uFFFD/g;function lu(e){return("string"===typeof e?e:""+e).replace(au,"\n").replace(su,"")}function cu(e,t){return t=lu(t),lu(e)===t}function du(e,t,n,o,i,r){switch(n){case"children":"string"===typeof o?"body"===t||"textarea"===t&&""===o||St(e,o):("number"===typeof o||"bigint"===typeof o)&&"body"!==t&&St(e,""+o);break;case"className":ct(e,"class",o);break;case"tabIndex":ct(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,o);break;case"style":jt(e,o,r);break;case"data":if("object"!==t){ct(e,"data",o);break}case"src":case"href":if(""===o&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==o||"function"===typeof o||"symbol"===typeof o||"boolean"===typeof o){e.removeAttribute(n);break}o=Nt(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if("function"===typeof o){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===n?("input"!==t&&du(e,t,"name",i.name,i,null),du(e,t,"formEncType",i.formEncType,i,null),du(e,t,"formMethod",i.formMethod,i,null),du(e,t,"formTarget",i.formTarget,i,null)):(du(e,t,"encType",i.encType,i,null),du(e,t,"method",i.method,i,null),du(e,t,"target",i.target,i,null))),null==o||"symbol"===typeof o||"boolean"===typeof o){e.removeAttribute(n);break}o=Nt(""+o),e.setAttribute(n,o);break;case"onClick":null!=o&&(e.onclick=Tt);break;case"onScroll":null!=o&&Jd("scroll",e);break;case"onScrollEnd":null!=o&&Jd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!==typeof o||!("__html"in o))throw Error(a(61));if(null!=(n=o.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&"function"!==typeof o&&"symbol"!==typeof o;break;case"muted":e.muted=o&&"function"!==typeof o&&"symbol"!==typeof o;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==o||"function"===typeof o||"boolean"===typeof o||"symbol"===typeof o){e.removeAttribute("xlink:href");break}n=Nt(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=o&&"function"!==typeof o&&"symbol"!==typeof o?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&"function"!==typeof o&&"symbol"!==typeof o?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===o?e.setAttribute(n,""):!1!==o&&null!=o&&"function"!==typeof o&&"symbol"!==typeof o?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":null==o||"function"===typeof o||"symbol"===typeof o||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":Jd("beforetoggle",e),Jd("toggle",e),lt(e,"popover",o);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":lt(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=_t.get(n)||n,o)}}function uu(e,t,n,o,i,r){switch(n){case"style":jt(e,o,r);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!==typeof o||!("__html"in o))throw Error(a(61));if(null!=(n=o.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof o?St(e,o):("number"===typeof o||"bigint"===typeof o)&&St(e,""+o);break;case"onScroll":null!=o&&Jd("scroll",e);break;case"onScrollEnd":null!=o&&Jd("scrollend",e);break;case"onClick":null!=o&&(e.onclick=Tt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(r=null!=(r=e[He]||null)?r[n]:null)&&e.removeEventListener(t,r,i),"function"!==typeof o)?n in e?e[n]=o:!0===o?e.setAttribute(n,""):lt(e,n,o):("function"!==typeof r&&null!==r&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,i)))}}function pu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jd("error",e),Jd("load",e);var o,i=!1,r=!1;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(null!=s)switch(o){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:du(e,t,o,s,n,null)}}return r&&du(e,t,"srcSet",n.srcSet,n,null),void(i&&du(e,t,"src",n.src,n,null));case"input":Jd("invalid",e);var l=o=s=r=null,c=null,d=null;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(null!=u)switch(i){case"name":r=u;break;case"type":s=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":o=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(a(137,t));break;default:du(e,t,i,u,n,null)}}return void xt(e,o,l,c,d,s,r,!1);case"select":for(r in Jd("invalid",e),i=s=o=null,n)if(n.hasOwnProperty(r)&&null!=(l=n[r]))switch(r){case"value":o=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:du(e,t,r,l,n,null)}return t=o,n=s,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(s in Jd("invalid",e),o=r=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":r=l;break;case"children":o=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:du(e,t,s,l,n,null)}return void Ct(e,i,r,o);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else du(e,t,c,i,n,null);return;case"dialog":Jd("beforetoggle",e),Jd("toggle",e),Jd("cancel",e),Jd("close",e);break;case"iframe":case"object":Jd("load",e);break;case"video":case"audio":for(i=0;i<Kd.length;i++)Jd(Kd[i],e);break;case"image":Jd("error",e),Jd("load",e);break;case"details":Jd("toggle",e);break;case"embed":case"source":case"link":Jd("error",e),Jd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(i=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:du(e,t,d,i,n,null)}return;default:if(At(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(i=n[u])&&uu(e,t,u,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&du(e,t,l,i,n,null))}function hu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var mu=null,fu=null;function gu(e){return 9===e.nodeType?e:e.ownerDocument}function vu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function xu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bu=null;var wu="function"===typeof setTimeout?setTimeout:void 0,ku="function"===typeof clearTimeout?clearTimeout:void 0,Cu="function"===typeof Promise?Promise:void 0,Su="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Cu?function(e){return Cu.resolve(null).then(e).catch(Iu)}:wu;function Iu(e){setTimeout(function(){throw e})}function Eu(e){return"head"===e}function ju(e,t){var n=t,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===o)return e.removeChild(i),void Up(t);o--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)o++;else if("html"===n)Fu(e.ownerDocument.documentElement);else if("head"===n){Fu(n=e.ownerDocument.head);for(var r=n.firstChild;r;){var a=r.nextSibling,s=r.nodeName;r[Ye]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===r.rel.toLowerCase()||n.removeChild(r),r=a}}else"body"===n&&Fu(e.ownerDocument.body);n=i}while(n);Up(t)}function Au(e,t){var n=e;e=0;do{var o=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=o}while(n)}function _u(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_u(n),Xe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Du(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Pu(e.nextSibling)))return null}return e}function Nu(e){return"$?"===e.data||"$~"===e.data}function Tu(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Pu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Mu=null;function Ou(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Pu(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ru(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Lu(e,t,n){switch(t=gu(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Fu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xe(e)}var zu=new Map,Bu=new Set;function Vu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hu=O.d;O.d={f:function(){var e=Hu.f(),t=$c();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?os(t):Hu.r(e)},D:function(e){Hu.D(e),Uu("dns-prefetch",e,null)},C:function(e,t){Hu.C(e,t),Uu("preconnect",e,t)},L:function(e,t,n){Hu.L(e,t,n);var o=qu;if(o&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var r=i;switch(t){case"style":r=Wu(e);break;case"script":r=Xu(e)}zu.has(r)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),zu.set(r,e),null!==o.querySelector(i)||"style"===t&&o.querySelector(Ku(r))||"script"===t&&o.querySelector(Ju(r))||(pu(t=o.createElement("link"),"link",e),et(t),o.head.appendChild(t)))}},m:function(e,t){Hu.m(e,t);var n=qu;if(n&&e){var o=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(o)+'"][href="'+vt(e)+'"]',r=i;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Xu(e)}if(!zu.has(r)&&(e=h({rel:"modulepreload",href:e},t),zu.set(r,e),null===n.querySelector(i))){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ju(r)))return}pu(o=n.createElement("link"),"link",e),et(o),n.head.appendChild(o)}}},X:function(e,t){Hu.X(e,t);var n=qu;if(n&&e){var o=$e(n).hoistableScripts,i=Xu(e),r=o.get(i);r||((r=n.querySelector(Ju(i)))||(e=h({src:e,async:!0},t),(t=zu.get(i))&&ep(e,t),et(r=n.createElement("script")),pu(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},o.set(i,r))}},S:function(e,t,n){Hu.S(e,t,n);var o=qu;if(o&&e){var i=$e(o).hoistableStyles,r=Wu(e);t=t||"default";var a=i.get(r);if(!a){var s={loading:0,preload:null};if(a=o.querySelector(Ku(r)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zu.get(r))&&$u(e,n);var l=a=o.createElement("link");et(l),pu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Zu(a,t,o)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(r,a)}}},M:function(e,t){Hu.M(e,t);var n=qu;if(n&&e){var o=$e(n).hoistableScripts,i=Xu(e),r=o.get(i);r||((r=n.querySelector(Ju(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=zu.get(i))&&ep(e,t),et(r=n.createElement("script")),pu(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},o.set(i,r))}}};var qu="undefined"===typeof document?null:document;function Uu(e,t,n){var o=qu;if(o&&"string"===typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Bu.has(i)||(Bu.add(i),e={rel:e,crossOrigin:n,href:t},null===o.querySelector(i)&&(pu(t=o.createElement("link"),"link",e),et(t),o.head.appendChild(t)))}}function Gu(e,t,n,o){var i,r,s,l,c=(c=W.current)?Vu(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Wu(n.href),(o=(n=$e(c).hoistableStyles).get(t))||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Wu(n.href);var d=$e(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Ku(e)))&&!d._p&&(u.instance=d,u.state.loading=5),zu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zu.set(e,n),d||(i=c,r=e,s=n,l=u.state,i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),pu(r,"link",s),et(r),i.head.appendChild(r))))),t&&null===o)throw Error(a(528,""));return u}if(t&&null!==o)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Xu(n),(o=(n=$e(c).hoistableScripts).get(t))||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Wu(e){return'href="'+vt(e)+'"'}function Ku(e){return'link[rel="stylesheet"]['+e+"]"}function Yu(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Xu(e){return'[src="'+vt(e)+'"]'}function Ju(e){return"script[async]"+e}function Qu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(o)return t.instance=o,et(o),o;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(o=(e.ownerDocument||e).createElement("style")),pu(o,"style",i),Zu(o,n.precedence,e),t.instance=o;case"stylesheet":i=Wu(n.href);var r=e.querySelector(Ku(i));if(r)return t.state.loading|=4,t.instance=r,et(r),r;o=Yu(n),(i=zu.get(i))&&$u(o,i),et(r=(e.ownerDocument||e).createElement("link"));var s=r;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),pu(r,"link",o),t.state.loading|=4,Zu(r,n.precedence,e),t.instance=r;case"script":return r=Xu(n.src),(i=e.querySelector(Ju(r)))?(t.instance=i,et(i),i):(o=n,(i=zu.get(r))&&ep(o=h({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),pu(i,"link",o),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(o=t.instance,t.state.loading|=4,Zu(o,n.precedence,e));return t.instance}function Zu(e,t,n){for(var o=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=o.length?o[o.length-1]:null,r=i,a=0;a<o.length;a++){var s=o[a];if(s.dataset.precedence===t)r=s;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function $u(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ep(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tp=null;function np(e,t,n){if(null===tp){var o=new Map,i=tp=new Map;i.set(n,o)}else(o=(i=tp).get(n))||(o=new Map,i.set(n,o));if(o.has(e))return o;for(o.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[Ye]||r[Ve]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var a=r.getAttribute(t)||"";a=e+a;var s=o.get(a);s?s.push(r):o.set(a,[r])}}return o}function op(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ip(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var rp=0;function ap(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sp=null;function lp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sp=new Map,t.forEach(cp,e),sp=null,ap.call(e))}function cp(e,t){if(!(4&t.state.loading)){var n=sp.get(e);if(n)var o=n.get(null);else{n=new Map,sp.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var a=i[r];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),o=a)}o&&n.set(null,o)}a=(i=t.instance).getAttribute("data-precedence"),(r=n.get(a)||o)===o&&n.set(null,i),n.set(a,i),this.count++,o=ap.bind(this),i.addEventListener("load",o),i.addEventListener("error",o),r?r.parentNode.insertBefore(i,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dp={$$typeof:w,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function up(e,t,n,o,i,r,a,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=o,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function pp(e,t,n,o,i,r,a,s,l,c,d,u){return e=new up(e,t,n,a,l,c,d,u,s),t=1,!0===r&&(t|=24),r=zo(3,null,null,t),e.current=r,r.stateNode=e,(t=Bi()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:o,isDehydrated:n,cache:t},vr(r),e}function hp(e){return e?e=Lo:Lo}function mp(e,t,n,o,i,r){i=hp(i),null===o.context?o.context=i:o.pendingContext=i,(o=xr(t)).payload={element:n},null!==(r=void 0===r?null:r)&&(o.callback=r),null!==(n=br(e,o,t))&&(Yc(n,0,t),wr(n,e,t))}function fp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gp(e,t){fp(e,t),(e=e.alternate)&&fp(e,t)}function vp(e){if(13===e.tag||31===e.tag){var t=Mo(e,67108864);null!==t&&Yc(t,0,67108864),gp(e,67108864)}}function yp(e){if(13===e.tag||31===e.tag){var t=Wc(),n=Mo(e,t=Re(t));null!==n&&Yc(n,0,t),gp(e,t)}}var xp=!0;function bp(e,t,n,o){var i=M.T;M.T=null;var r=O.p;try{O.p=2,kp(e,t,n,o)}finally{O.p=r,M.T=i}}function wp(e,t,n,o){var i=M.T;M.T=null;var r=O.p;try{O.p=8,kp(e,t,n,o)}finally{O.p=r,M.T=i}}function kp(e,t,n,o){if(xp){var i=Cp(o);if(null===i)tu(e,t,o,Sp,n),Op(e,o);else if(function(e,t,n,o,i){switch(t){case"focusin":return Ap=Rp(Ap,e,t,n,o,i),!0;case"dragenter":return _p=Rp(_p,e,t,n,o,i),!0;case"mouseover":return Dp=Rp(Dp,e,t,n,o,i),!0;case"pointerover":var r=i.pointerId;return Np.set(r,Rp(Np.get(r)||null,e,t,n,o,i)),!0;case"gotpointercapture":return r=i.pointerId,Tp.set(r,Rp(Tp.get(r)||null,e,t,n,o,i)),!0}return!1}(i,e,t,n,o))o.stopPropagation();else if(Op(e,o),4&t&&-1<Mp.indexOf(e)){for(;null!==i;){var r=Qe(i);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var a=Ee(r.pendingLanes);if(0!==a){var s=r;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-be(a);s.entanglements[1]|=l,a&=~l}Od(r),0===(6&hc)&&(Mc=le()+500,Rd(0,!1))}}break;case 31:case 13:null!==(s=Mo(r,2))&&Yc(s,0,2),$c(),gp(r,2)}if(null===(r=Cp(o))&&tu(e,t,o,Sp,n),r===i)break;i=r}null!==i&&o.stopPropagation()}else tu(e,t,o,null,n)}}function Cp(e){return Ip(e=Mt(e))}var Sp=null;function Ip(e){if(Sp=null,null!==(e=Je(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=d(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sp=e,null}function Ep(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case pe:case he:return 32;case me:return 268435456;default:return 32}default:return 32}}var jp=!1,Ap=null,_p=null,Dp=null,Np=new Map,Tp=new Map,Pp=[],Mp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Op(e,t){switch(e){case"focusin":case"focusout":Ap=null;break;case"dragenter":case"dragleave":_p=null;break;case"mouseover":case"mouseout":Dp=null;break;case"pointerover":case"pointerout":Np.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tp.delete(t.pointerId)}}function Rp(e,t,n,o,i,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:r,targetContainers:[i]},null!==t&&(null!==(t=Qe(t))&&vp(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lp(e){var t=Je(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void ze(e.priority,function(){yp(n)})}else if(31===t){if(null!==(t=d(n)))return e.blockedOn=t,void ze(e.priority,function(){yp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Fp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cp(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&vp(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);Pt=o,n.target.dispatchEvent(o),Pt=null,t.shift()}return!0}function zp(e,t,n){Fp(e)&&n.delete(t)}function Bp(){jp=!1,null!==Ap&&Fp(Ap)&&(Ap=null),null!==_p&&Fp(_p)&&(_p=null),null!==Dp&&Fp(Dp)&&(Dp=null),Np.forEach(zp),Tp.forEach(zp)}function Vp(e,t){e.blockedOn===t&&(e.blockedOn=null,jp||(jp=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Bp)))}var Hp=null;function qp(e){Hp!==e&&(Hp=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Hp===e&&(Hp=null);for(var t=0;t<e.length;t+=3){var n=e[t],o=e[t+1],i=e[t+2];if("function"!==typeof o){if(null===Ip(o||n))continue;break}var r=Qe(n);null!==r&&(e.splice(t,3),t-=3,ts(r,{pending:!0,data:i,method:n.method,action:o},o,i))}}))}function Up(e){function t(t){return Vp(t,e)}null!==Ap&&Vp(Ap,e),null!==_p&&Vp(_p,e),null!==Dp&&Vp(Dp,e),Np.forEach(t),Tp.forEach(t);for(var n=0;n<Pp.length;n++){var o=Pp[n];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Pp.length&&null===(n=Pp[0]).blockedOn;)Lp(n),null===n.blockedOn&&Pp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(o=0;o<n.length;o+=3){var i=n[o],r=n[o+1],a=i[He]||null;if("function"===typeof r)a||qp(n);else if(a){var s=null;if(r&&r.hasAttribute("formAction")){if(i=r,a=r[He]||null)s=a.formAction;else if(null!==Ip(i))continue}else s=a.action;"function"===typeof s?n[o+1]=s:(n.splice(o,3),o-=3),qp(n)}}}function Gp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),o||setTimeout(n,20)}function n(){if(!o&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var o=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Wp(e){this._internalRoot=e}function Kp(e){this._internalRoot=e}Kp.prototype.render=Wp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));mp(t.current,Wc(),e,t,null,null)},Kp.prototype.unmount=Wp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mp(e.current,2,null,e,null,null),$c(),t[qe]=null}},Kp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pp.length&&0!==t&&t<Pp[n].priority;n++);Pp.splice(n,0,e),0===n&&Lp(e)}};var Yp=i.version;if("19.2.0"!==Yp)throw Error(a(527,Yp,"19.2.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(null===i)break;var r=i.alternate;if(null===r){if(null!==(o=i.return)){n=o;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return u(i),e;if(r===o)return u(i),t;r=r.sibling}throw Error(a(188))}if(n.return!==o.return)n=i,o=r;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,o=r;break}if(c===o){s=!0,o=i,n=r;break}c=c.sibling}if(!s){for(c=r.child;c;){if(c===n){s=!0,n=r,o=i;break}if(c===o){s=!0,o=r,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==o)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?p(e):null)?null:e.stateNode};var Xp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jp.isDisabled&&Jp.supportsFiber)try{ve=Jp.inject(Xp),ye=Jp}catch(Zp){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,o="",i=Ss,r=Is,l=Es;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=pp(e,1,!1,null,0,n,o,null,i,r,l,Gp),e[qe]=t.current,$d(e),new Wp(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var o=!1,i="",r=Ss,l=Is,c=Es,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(d=n.formState)),(t=pp(e,1,!0,t,0,o,i,d,r,l,c,Gp)).context=hp(null),n=t.current,(i=xr(o=Re(o=Wc()))).callback=null,br(n,i,o),n=o,t.current.lanes=n,Te(t,n),Od(t),e[qe]=t.current,$d(e),new Kp(t)},t.version="19.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var w=b.prototype=new x;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray;function C(){}var S={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function E(e,t,o){var i=o.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:o}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(e,t,i,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(s){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case o:d=!0;break;case p:return D((d=e._init)(e._payload),t,i,r,a)}}if(d)return a=a(e),d=""===r?"."+_(e,0):r,k(a)?(i="",null!=d&&(i=d.replace(A,"$&/")+"/"),D(a,t,i,"",function(e){return e})):null!=a&&(j(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+d,a=E(l.type,c,l.props)),t.push(a)),1;d=0;var u,h=""===r?".":r+":";if(k(e))for(var f=0;f<e.length;f++)d+=D(r=e[f],t,i,s=h+_(r,f),a);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=m&&u[m]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(r=e.next()).done;)d+=D(r=r.value,t,i,s=h+_(r,f++),a);else if("object"===s){if("function"===typeof e.then)return D(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,r,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function N(e,t,n){if(null==e)return e;var o=[],i=0;return D(e,o,"","",function(e){return t.call(n,e,i++)}),o}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},M={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=h,t.Children=M,t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=r,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var o=g({},e.props),i=e.key;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)!I.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(o[r]=t[r]);var r=arguments.length-2;if(1===r)o.children=n;else if(1<r){for(var a=Array(r),s=0;s<r;s++)a[s]=arguments[s+2];o.children=a}return E(e.type,i,o)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var o,i={},r=null;if(null!=t)for(o in void 0!==t.key&&(r=""+t.key),t)I.call(t,o)&&"key"!==o&&"__self"!==o&&"__source"!==o&&(i[o]=t[o]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(o in a=e.defaultProps)void 0===i[o]&&(i[o]=a[o]);return E(e,r,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var o=e(),i=S.S;null!==i&&i(n,o),"object"===typeof o&&null!==o&&"function"===typeof o.then&&o.then(C,P)}catch(r){P(r)}finally{null!==t&&null!==n.types&&(t.types=n.types),S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useEffectEvent=function(e){return S.H.useEffectEvent(e)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},497:(e,t,n)=>{"use strict";var o=n(218);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var o=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,o=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:o,integrity:i,fetchPriority:r}):"script"===n&&a.d.X(e,{crossOrigin:o,integrity:i,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,o=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:o,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function i(e,t,o){var i=null;if(void 0!==o&&(i=""+o),void 0!==t.key&&(i=""+t.key),"key"in t)for(var r in o={},t)"key"!==r&&(o[r]=t[r]);else o=t;return t=o.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:o}}t.Fragment=o,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,i=e[o];if(!(0<r(i,t)))break e;e[o]=t,e[n]=i,n=o}}function o(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,i=e.length,a=i>>>1;o<a;){var s=2*(o+1)-1,l=e[s],c=s+1,d=e[c];if(0>r(l,n))c<i&&0>r(d,l)?(e[o]=d,e[c]=n,o=c):(e[o]=l,e[s]=n,o=s);else{if(!(c<i&&0>r(d,n)))break e;e[o]=d,e[c]=n,o=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,p=null,h=3,m=!1,f=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=o(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=o(d)}}function k(e){if(g=!1,w(e),!f)if(null!==o(c))f=!0,S||(S=!0,C());else{var t=o(d);null!==t&&T(k,t.startTime-e)}}var C,S=!1,I=-1,E=5,j=-1;function A(){return!!v||!(t.unstable_now()-j<E)}function _(){if(v=!1,S){var e=t.unstable_now();j=e;var n=!0;try{e:{f=!1,g&&(g=!1,x(I),I=-1),m=!0;var r=h;try{t:{for(w(e),p=o(c);null!==p&&!(p.expirationTime>e&&A());){var a=p.callback;if("function"===typeof a){p.callback=null,h=p.priorityLevel;var s=a(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){p.callback=s,w(e),n=!0;break t}p===o(c)&&i(c),w(e)}else i(c);p=o(c)}if(null!==p)n=!0;else{var l=o(d);null!==l&&T(k,l.startTime-e),n=!1}}break e}finally{p=null,h=r,m=!1}n=void 0}}finally{n?C():S=!1}}}if("function"===typeof b)C=function(){b(_)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,N=D.port2;D.port1.onmessage=_,C=function(){N.postMessage(null)}}else C=function(){y(_,0)};function T(e,n){I=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,r){var a=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:r,expirationTime:s=r+s,sortIndex:-1},r>a?(e.sortIndex=r,n(d,e),null===o(c)&&e===o(d)&&(g?(x(I),I=-1):g=!0,T(k,r-a))):(e.sortIndex=s,n(c,e),f||m||(f=!0,S||(S=!0,C()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(o,i){if(1&i&&(o=this(o)),8&i)return o;if("object"===typeof o&&o){if(4&i&&o.__esModule)return o;if(16&i&&"function"===typeof o.then)return o}var r=Object.create(null);n.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&o;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>o[e]);return a.default=()=>o,n.d(r,a),r}})(),n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,o)=>(n.f[o](e,t),t),[])),n.u=e=>"static/js/"+e+".ce0a2b5e.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="accounting_react:";n.l=(o,i,r,a)=>{if(e[o])e[o].push(i);else{var s,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+r),s.src=o),e[o]=[i];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var i=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,o)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else{var r=new Promise((n,o)=>i=e[t]=[n,o]);o.push(i[2]=r);var a=n.p+n.u(t),s=new Error;n.l(a,o=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,i[1](s)}},"chunk-"+t,t)}};var t=(t,o)=>{var i,r,[a,s,l]=o,c=0;if(a.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(o);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},o=self.webpackChunkaccounting_react=self.webpackChunkaccounting_react||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{DEG_TO_RAD:()=>mT,LRUCache:()=>qT,MAX_NUM:()=>fT,MIN_NUM:()=>gT,TextMetrics:()=>ZT,append:()=>lT,arabicToRoman:()=>dT,bindEvents:()=>NT,createPromise:()=>uT,defined:()=>vN,definitionId:()=>hT,deg:()=>vT,elementOffset:()=>TT,elementPadding:()=>LT,elementScale:()=>HT,elementSize:()=>OT,elementStyles:()=>PT,encodeBase64:()=>bT,eventCoordinates:()=>wT,eventElement:()=>kT,hashKey:()=>YT,isTransparent:()=>CT,last:()=>ST,limitValue:()=>IT,measureText:()=>$T,mergeSort:()=>ET,normalizeText:()=>WT,now:()=>jT,objectKey:()=>KT,promiseAll:()=>AT,rad:()=>_T,round:()=>XN,setInnerHTML:()=>vP,unbindEvents:()=>RT,valueOrDefault:()=>DT});var t={};n.r(t),n.d(t,{easeInOutBack:()=>vL,easeInOutCubic:()=>cL,easeInOutExpo:()=>fL,easeInOutQuad:()=>uL,easeInOutQuint:()=>xL,easeInOutSine:()=>hL,easeOutBack:()=>gL,easeOutCirc:()=>pL,easeOutCubic:()=>lL,easeOutElastic:()=>sL,easeOutExpo:()=>mL,easeOutQuad:()=>dL,easeOutQuint:()=>yL,linear:()=>aL,swing:()=>rL});var o=n(43),i=n.t(o,2),r=n(391);function a(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}function s(e,t){if(null==e)return{};var n,o,i=a(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function d(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=["sri"],m=["page"],f=["page","matches"],g=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],v=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var x="popstate";function b(){return j(function(e,t){let{pathname:n,search:o,hash:i}=e.location;return S("",{pathname:n,search:o,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:I(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function k(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(uo){}}}function C(e,t){return{usr:e.state,key:e.key,idx:t}}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0;return p(p({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t),{},{state:n,key:t&&t.key||o||Math.random().toString(36).substring(2,10)})}function I(e){let{pathname:t="/",search:n="",hash:o=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(t+="#"===o.charAt(0)?o:"#"+o),t}function E(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function j(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:r=!1}=o,a=i.history,s="POP",l=null,c=d();function d(){return(a.state||{idx:null}).idx}function u(){s="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function h(e){return A(e)}null==c&&(c=0,a.replaceState(p(p({},a.state),{},{idx:c}),""));let m={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(x,u),l=e,()=>{i.removeEventListener(x,u),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let o=S(m.location,e,t);n&&n(o,e),c=d()+1;let u=C(o,c),p=m.createHref(o);try{a.pushState(u,"",p)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(p)}r&&l&&l({action:s,location:m.location,delta:1})},replace:function(e,t){s="REPLACE";let o=S(m.location,e,t);n&&n(o,e),c=d();let i=C(o,c),u=m.createHref(o);a.replaceState(i,"",u),r&&l&&l({action:s,location:m.location,delta:0})},go:e=>a.go(e)};return m}function A(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let o="string"===typeof e?e:I(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=n+o),new URL(o,n)}new WeakMap;function _(e,t){return D(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function D(e,t,n,o){let i=G(("string"===typeof t?E(t):t).pathname||"/",n);if(null==i)return null;let r=N(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let a=null;for(let s=0;null==a&&s<r.length;++s){let e=U(i);a=V(r[s],e,o)}return a}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(o)&&a)return;w(l.relativePath.startsWith(o),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(o,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(o.length)}let c=J([o,l.relativePath]),d=n.concat(l);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),N(e.children,t,d,c,a)),(null!=e.path||e.index)&&t.push({path:c,score:B(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let o of T(e.path))r(e,t,!0,o);else r(e,t)}),t}function T(e){let t=e.split("/");if(0===t.length)return[];let[n,...o]=t,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===o.length)return i?[r,""]:[r];let a=T(o.join("/")),s=[];return s.push(...a.map(e=>""===e?r:[r,e].join("/"))),i&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var P=/^:[\w-]+$/,M=3,O=2,R=1,L=10,F=-2,z=e=>"*"===e;function B(e,t){let n=e.split("/"),o=n.length;return n.some(z)&&(o+=F),t&&(o+=O),n.filter(e=>!z(e)).reduce((e,t)=>e+(P.test(t)?M:""===t?R:L),o)}function V(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:o}=e,i={},r="/",a=[];for(let s=0;s<o.length;++s){let e=o[s],l=s===o.length-1,c="/"===r?t:t.slice(r.length)||"/",d=H({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!o[o.length-1].route.index&&(d=H({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:J([r,d.pathname]),pathnameBase:Q(J([r,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(r=J([r,d.pathnameBase]))}return a}function H(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=q(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let r=i[0],a=r.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=o.reduce((e,t,n)=>{let{paramName:o,isOptional:i}=t;if("*"===o){let e=s[n]||"";a=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[o]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:r,pathnameBase:a,pattern:e}}function q(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];k("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let o=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(o.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),o]}function U(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return k(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function G(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&"/"!==o?null:e.slice(n)||"/"}function W(e,t,n,o){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(o),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function K(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Y(e){let t=K(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function X(e,t,n){let o,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?o=E(e):(o=p({},e),w(!o.pathname||!o.pathname.includes("?"),W("?","pathname","search",o)),w(!o.pathname||!o.pathname.includes("#"),W("#","pathname","hash",o)),w(!o.search||!o.search.includes("#"),W("#","search","hash",o)));let r,a=""===e||""===o.pathname,s=a?"/":o.pathname;if(null==s)r=n;else{let e=t.length-1;if(!i&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}r=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:o="",hash:i=""}="string"===typeof e?E(e):e,r=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:r,search:Z(o),hash:$(i)}}(o,r),c=s&&"/"!==s&&s.endsWith("/"),d=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var J=e=>e.join("/").replace(/\/\/+/g,"/"),Q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var te=["POST","PUT","PATCH","DELETE"],ne=(new Set(te),["GET",...te]);new Set(ne),Symbol("ResetLoaderData");var oe=o.createContext(null);oe.displayName="DataRouter";var ie=o.createContext(null);ie.displayName="DataRouterState";var re=o.createContext(!1);var ae=o.createContext({isTransitioning:!1});ae.displayName="ViewTransition";var se=o.createContext(new Map);se.displayName="Fetchers";var le=o.createContext(null);le.displayName="Await";var ce=o.createContext(null);ce.displayName="Navigation";var de=o.createContext(null);de.displayName="Location";var ue=o.createContext({outlet:null,matches:[],isDataRoute:!1});ue.displayName="Route";var pe=o.createContext(null);pe.displayName="RouteError";function he(){return null!=o.useContext(de)}function me(){return w(he(),"useLocation() may be used only in the context of a <Router> component."),o.useContext(de).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ge(e){o.useContext(ce).static||o.useLayoutEffect(e)}function ve(){let{isDataRoute:e}=o.useContext(ue);return e?function(){let{router:e}=je("useNavigate"),t=_e("useNavigate"),n=o.useRef(!1);ge(()=>{n.current=!0});let i=o.useCallback(async function(o){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(n.current,fe),n.current&&("number"===typeof o?e.navigate(o):await e.navigate(o,p({fromRouteId:t},i)))},[e,t]);return i}():function(){w(he(),"useNavigate() may be used only in the context of a <Router> component.");let e=o.useContext(oe),{basename:t,navigator:n}=o.useContext(ce),{matches:i}=o.useContext(ue),{pathname:r}=me(),a=JSON.stringify(Y(i)),s=o.useRef(!1);ge(()=>{s.current=!0});let l=o.useCallback(function(o){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(k(s.current,fe),!s.current)return;if("number"===typeof o)return void n.go(o);let l=X(o,JSON.parse(a),r,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:J([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,a,r,e]);return l}()}o.createContext(null);function ye(){let{matches:e}=o.useContext(ue),t=e[e.length-1];return t?t.params:{}}function xe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=o.useContext(ue),{pathname:i}=me(),r=JSON.stringify(Y(n));return o.useMemo(()=>X(e,JSON.parse(r),i,"path"===t),[e,r,i,t])}function be(e,t,n,i,r){w(he(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=o.useContext(ce),{matches:s}=o.useContext(ue),l=s[s.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";Te(d,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,f=me();if(t){var g;let e="string"===typeof t?E(t):t;w("/"===u||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=f;let v=m.pathname||"/",y=v;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=_(e,{pathname:y});k(h||null!=x,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),k(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let b=Ie(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:J([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,n,i,r);return t&&b?o.createElement(de.Provider,{value:{location:p({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},b):b}function we(){let e=De(),t=ee(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=o.createElement(o.Fragment,null,o.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),o.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",o.createElement("code",{style:a},"ErrorBoundary")," or"," ",o.createElement("code",{style:a},"errorElement")," prop on your route.")),o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:r},n):null,s)}var ke=o.createElement(we,null),Ce=class extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?o.createElement(ue.Provider,{value:this.props.routeContext},o.createElement(pe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Se(e){let{routeContext:t,match:n,children:i}=e,r=o.useContext(oe);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(ue.Provider,{value:t},i)}function Ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,a=null===n||void 0===n?void 0:n.errors;if(null!=a){let e=r.findIndex(e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id]));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let s=!1,l=-1;if(n)for(let o=0;o<r.length;o++){let e=r[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=o),e.route.id){let{loaderData:t,errors:o}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!o||void 0===o[e.route.id]);if(e.route.lazy||i){s=!0,r=l>=0?r.slice(0,l+1):[r[0]];break}}}return r.reduceRight((e,c,d)=>{let u,p=!1,h=null,m=null;n&&(u=a&&c.route.id?a[c.route.id]:void 0,h=c.route.errorElement||ke,s&&(l<0&&0===d?(Te("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,m=null):l===d&&(p=!0,m=c.route.hydrateFallbackElement||null)));let f=t.concat(r.slice(0,d+1)),g=()=>{let t;return t=u?h:p?m:c.route.Component?o.createElement(c.route.Component,null):c.route.element?c.route.element:e,o.createElement(Se,{match:c,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===d)?o.createElement(Ce,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0},unstable_onError:i}):g()},null)}function Ee(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function je(e){let t=o.useContext(oe);return w(t,Ee(e)),t}function Ae(e){let t=o.useContext(ie);return w(t,Ee(e)),t}function _e(e){let t=function(e){let t=o.useContext(ue);return w(t,Ee(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function De(){var e;let t=o.useContext(pe),n=Ae("useRouteError"),i=_e("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var Ne={};function Te(e,t,n){t||Ne[e]||(Ne[e]=!0,k(!1,n))}var Pe={};function Me(e,t){e||Pe[t]||(Pe[t]=!0,console.warn(t))}o.memo(function(e){let{routes:t,future:n,state:o,unstable_onError:i}=e;return be(t,void 0,o,i,n)});function Oe(e){let{to:t,replace:n,state:i,relative:r}=e;w(he(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=o.useContext(ce);k(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=o.useContext(ue),{pathname:l}=me(),c=ve(),d=X(t,Y(s),l,"path"===r),u=JSON.stringify(d);return o.useEffect(()=>{c(JSON.parse(u),{replace:n,state:i,relative:r})},[c,u,r,n,i]),null}function Re(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Le(e){let{basename:t="/",children:n=null,location:i,navigationType:r="POP",navigator:a,static:s=!1}=e;w(!he(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=o.useMemo(()=>({basename:l,navigator:a,static:s,future:{}}),[l,a,s]);"string"===typeof i&&(i=E(i));let{pathname:d="/",search:u="",hash:p="",state:h=null,key:m="default"}=i,f=o.useMemo(()=>{let e=G(d,l);return null==e?null:{location:{pathname:e,search:u,hash:p,state:h,key:m},navigationType:r}},[l,d,u,p,h,m,r]);return k(null!=f,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(u).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:o.createElement(ce.Provider,{value:c},o.createElement(de.Provider,{children:n,value:f}))}function Fe(e){let{children:t,location:n}=e;return be(ze(t),n)}o.Component;function ze(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return o.Children.forEach(e,(e,i)=>{if(!o.isValidElement(e))return;let r=[...t,i];if(e.type===o.Fragment)return void n.push.apply(n,ze(e.props.children,r));w(e.type===Re,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ze(e.props.children,r)),n.push(a)}),n}var Be="get",Ve="application/x-www-form-urlencoded";function He(e){return null!=e&&"string"===typeof e.tagName}var qe=null;var Ue=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ge(e){return null==e||Ue.has(e)?e:(k(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ve,'"')),null)}function We(e,t){let n,o,i,r,a;if(He(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");o=a?G(a,t):null,n=e.getAttribute("method")||Be,i=Ge(e.getAttribute("enctype"))||Ve,r=new FormData(e)}else if(function(e){return He(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return He(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(o=s?G(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Be,i=Ge(e.getAttribute("formenctype"))||Ge(a.getAttribute("enctype"))||Ve,r=new FormData(a,e),!function(){if(null===qe)try{new FormData(document.createElement("form"),0),qe=!1}catch(uo){qe=!0}return qe}()){let{name:t,type:n,value:o}=e;if("image"===n){let e=t?"".concat(t,"."):"";r.append("".concat(e,"x"),"0"),r.append("".concat(e,"y"),"0")}else t&&r.append(t,o)}}else{if(He(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Be,o=null,i=Ve,a=e}var s;return r&&"text/plain"===i&&(a=r,r=void 0),{action:o,method:n.toLowerCase(),encType:i,formData:r,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ke(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ye(e,t,n){let o="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===o.pathname?o.pathname="_root.".concat(n):t&&"/"===G(o.pathname,t)?o.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):o.pathname="".concat(o.pathname.replace(/\/$/,""),".").concat(n),o}async function Xe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Je(e){return null!=e&&"string"===typeof e.page}function Qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ze(e,t,n,o,i,r){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var o;return n[t].pathname!==e.pathname||(null===(o=n[t].route.path)||void 0===o?void 0:o.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===r?t.filter((e,t)=>a(e,t)||s(e,t)):"data"===r?t.filter((t,r)=>{let l=o.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,r)||s(t,r))return!0;if(t.route.shouldRevalidate){var c;let o=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof o)return o}return!0}):[]}function $e(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o=e.map(e=>{let o=t.routes[e.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1),[...new Set(o)];var o}function et(e,t){let n=new Set,o=new Set(t);return e.reduce((e,i)=>{if(t&&!Je(i)&&"script"===i.as&&i.href&&o.has(i.href))return e;let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let o of n)t[o]=e[o];return t}(i));return n.has(r)||(n.add(r),e.push({key:r,link:i})),e},[])}function tt(e,t){return"lazy"===e.mode&&!0===t}function nt(){let e=o.useContext(oe);return Ke(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ot(){let e=o.useContext(ie);return Ke(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var it=o.createContext(void 0);function rt(){let e=o.useContext(it);return Ke(e,"You must render this element inside a <HydratedRouter> element"),e}function at(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function st(e,t,n){if(n&&!ut)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}it.displayName="FrameworkContext";function lt(e){let{page:t}=e,n=s(e,m),{router:i}=nt(),r=o.useMemo(()=>_(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?o.createElement(dt,p({page:t,matches:r},n)):null}function ct(e){let{manifest:t,routeModules:n}=rt(),[i,r]=o.useState([]);return o.useEffect(()=>{let o=!1;return async function(e,t,n){return et((await Promise.all(e.map(async e=>{let o=t.routes[e.route.id];if(o){let e=await Xe(o,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Qe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?p(p({},e),{},{rel:"prefetch",as:"style"}):p(p({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{o||r(e)}),()=>{o=!0}},[e,t,n]),i}function dt(e){let{page:t,matches:n}=e,i=s(e,f),r=me(),{manifest:a,routeModules:l}=rt(),{basename:c}=nt(),{loaderData:d,matches:u}=ot(),h=o.useMemo(()=>Ze(t,n,u,a,r,"data"),[t,n,u,a,r]),m=o.useMemo(()=>Ze(t,n,u,a,r,"assets"),[t,n,u,a,r]),g=o.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let e=new Set,o=!1;if(n.forEach(t=>{var n;let i=a.routes[t.route.id];i&&i.hasLoader&&(!h.some(e=>e.route.id===t.route.id)&&t.route.id in d&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?o=!0:e.add(t.route.id))}),0===e.size)return[];let i=Ye(t,c,"data");return o&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,d,r,a,h,n,t,l]),v=o.useMemo(()=>$e(m,a),[m,a]),y=ct(m);return o.createElement(o.Fragment,null,g.map(e=>o.createElement("link",p({key:e,rel:"prefetch",as:"fetch",href:e},i))),v.map(e=>o.createElement("link",p({key:e,rel:"modulepreload",href:e},i))),y.map(e=>{let{key:t,link:n}=e;return o.createElement("link",p({key:t,nonce:i.nonce},n))}))}var ut=!1;function pt(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:r,routeDiscovery:a,ssr:l}=rt(),{router:c,static:d,staticContext:u}=nt(),{matches:m}=ot(),f=o.useContext(re),g=tt(a,l);r&&(r.didRenderScripts=!0);let v=st(m,null,i);o.useEffect(()=>{0},[]);let y=o.useMemo(()=>{var i;if(f)return null;let r=u?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=d?"".concat(null!==t.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let o="route".concat(n),i=t.routes[e.route.id];Ke(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:r,clientLoaderModule:a,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=i,d=[...r?[{module:r,varName:"".concat(o,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(o,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(o,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(o,"_HydrateFallback")}]:[],{module:c,varName:"".concat(o,"_main")}];return 1===d.length?"import * as ".concat(o," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(o," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,o=s(e,h),i=new Set(t.state.matches.map(e=>e.route.id)),r=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(r.pop();r.length>0;)a.push("/".concat(r.join("/"))),r.pop();a.forEach(e=>{let n=_(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:o.routes[t]}),{});return p(p({},o),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return o.createElement(o.Fragment,null,o.createElement("script",p(p({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:r},type:void 0})),o.createElement("script",p(p({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:"module",async:!0})))},[]),x=ut||f?[]:(t.entry.imports.concat($e(v,t,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let w="object"===typeof t.sri?t.sri:{};return Me(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ut||f?null:o.createElement(o.Fragment,null,"object"===typeof t.sri?o.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,g?null:o.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),o.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),x.map(t=>o.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0})),y)}function ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}o.Component;function mt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,r=o.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ee(t))return o.createElement(ft,{title:"Unhandled Thrown Response!"},o.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),r);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return o.createElement(ft,{title:"Application Error!",isOutsideRemixApp:n},o.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),o.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),r)}function ft(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:r,children:a}=e,{routeModules:s}=rt();return null!==s.root&&void 0!==t&&t.Layout&&!r?a:o.createElement("html",{lang:"en"},o.createElement("head",null,o.createElement("meta",{charSet:"utf-8"}),o.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),o.createElement("title",null,n)),o.createElement("body",null,o.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,i?o.createElement(pt,null):null)))}var gt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{gt&&(window.__reactRouterVersion="7.9.4")}catch(uo){}function vt(e){let{basename:t,children:n,window:i}=e,r=o.useRef();null==r.current&&(r.current=b({window:i,v5Compat:!0}));let a=r.current,[s,l]=o.useState({action:a.action,location:a.location}),c=o.useCallback(e=>{o.startTransition(()=>l(e))},[l]);return o.useLayoutEffect(()=>a.listen(c),[a,c]),o.createElement(Le,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a})}var yt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=o.forwardRef(function(e,t){let n,{onClick:i,discover:r="render",prefetch:a="none",relative:l,reloadDocument:c,replace:d,state:u,target:h,to:m,preventScrollReset:f,viewTransition:v}=e,y=s(e,g),{basename:x}=o.useContext(ce),b="string"===typeof m&&yt.test(m),C=!1;if("string"===typeof m&&b&&(n=m,gt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=G(t.pathname,x);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:C=!0}catch(uo){k(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(he(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=o.useContext(ce),{hash:r,pathname:a,search:s}=xe(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:J([n,a])),i.createHref({pathname:l,search:s,hash:r})}(m,{relative:l}),[E,j,A]=function(e,t){let n=o.useContext(it),[i,r]=o.useState(!1),[a,s]=o.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:p}=t,h=o.useRef(null);o.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),o.useEffect(()=>{if(i){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[i]);let m=()=>{r(!0)},f=()=>{r(!1),s(!1)};return n?"intent"!==e?[a,h,{}]:[a,h,{onFocus:at(l,m),onBlur:at(c,f),onMouseEnter:at(d,m),onMouseLeave:at(u,f),onTouchStart:at(p,m)}]:[!1,h,{}]}(a,y),_=function(e){let{target:t,replace:n,state:i,preventScrollReset:r,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ve(),c=me(),d=xe(e,{relative:a});return o.useCallback(o=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(o,t)){o.preventDefault();let t=void 0!==n?n:I(c)===I(d);l(e,{replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:s})}},[c,l,d,n,i,t,e,r,a,s])}(m,{replace:d,state:u,target:h,preventScrollReset:f,relative:l,viewTransition:v});let D=o.createElement("a",p(p(p({},y),A),{},{href:n||S,onClick:C||c?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:ht(t,j),target:h,"data-discover":b||"render"!==r?void 0:"true"}));return E&&!b?o.createElement(o.Fragment,null,D,o.createElement(lt,{page:S})):D});xt.displayName="Link";var bt=o.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:u}=e,h=s(e,v),m=xe(c,{relative:h.relative}),f=me(),g=o.useContext(ie),{navigator:y,basename:x}=o.useContext(ce),b=null!=g&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.useContext(ae);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ct("useViewTransitionState"),r=xe(e,{relative:t});if(!n.isTransitioning)return!1;let a=G(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=G(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=H(r.pathname,s)||null!=H(r.pathname,a)}(m)&&!0===d,k=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,C=f.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(C=C.toLowerCase(),S=S?S.toLowerCase():null,k=k.toLowerCase()),S&&x&&(S=G(S,x)||S);const I="/"!==k&&k.endsWith("/")?k.length-1:k.length;let E,j=C===k||!a&&C.startsWith(k)&&"/"===C.charAt(I),A=null!=S&&(S===k||!a&&S.startsWith(k)&&"/"===S.charAt(k.length)),_={isActive:j,isPending:A,isTransitioning:b},D=j?n:void 0;E="function"===typeof r?r(_):[r,j?"active":null,A?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof l?l(_):l;return o.createElement(xt,p(p({},h),{},{"aria-current":D,className:E,ref:t,style:N,to:c,viewTransition:d}),"function"===typeof u?u(_):u)});bt.displayName="NavLink";var wt=o.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:r,reloadDocument:a,replace:l,state:c,method:d=Be,action:u,onSubmit:h,relative:m,preventScrollReset:f,viewTransition:g}=e,v=s(e,y),x=Et(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=o.useContext(ce),i=o.useContext(ue);w(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a=p({},xe(e||".",{relative:t})),s=me();if(null==e){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!r.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:J([n,a.pathname]));return I(a)}(u,{relative:m}),k="get"===d.toLowerCase()?"get":"post",C="string"===typeof u&&yt.test(u);return o.createElement("form",p(p({ref:t,method:k,action:b,onSubmit:a?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:i,method:n,navigate:r,replace:l,state:c,relative:m,preventScrollReset:f,viewTransition:g})}},v),{},{"data-discover":C||"render"!==n?void 0:"true"}))});function kt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ct(e){let t=o.useContext(oe);return w(t,kt(e)),t}wt.displayName="Form";var St=0,It=()=>"__".concat(String(++St),"__");function Et(){let{router:e}=Ct("useSubmit"),{basename:t}=o.useContext(ce),n=_e("useRouteId");return o.useCallback(async function(o){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:r,method:a,encType:s,formData:l,body:c}=We(o,t);if(!1===i.navigate){let t=i.fetcherKey||It();await e.fetch(t,n,i.action||r,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||r,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}var jt=n(173);const At=8,_t=9,Dt=13,Nt=27,Tt=32,Pt=33,Mt=34,Ot=35,Rt=36,Lt=37,Ft=38,zt=39,Bt=40,Vt=46,Ht=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,qt=":not(.k-dropdownlist button):not(.k-colorpicker button):not(.k-numerictextbox button):not(.k-split-button .k-split-button-arrow)",Ut=":not(.k-dropdownlist select)",Gt=["input:not([disabled]):not([type=hidden])","select:not([disabled]):not(.k-dropdownlist select)","textarea:not([disabled])","button:not([disabled])".concat(qt),"a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Wt=[...Gt,"[tabindex]".concat(qt).concat(Ut)],Kt=[...Gt,"[tabindex]".concat(qt).concat(Ut)].map(e=>e+':not([tabindex="-1"])'),Yt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wt;return e.querySelectorAll(t.join(","))},Xt=function(e){if(e){const t=Yt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wt);if(t.length&&t[0].focus)return t[0]}},Jt=function(e){if(e){const t=Yt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wt);if(t.length&&t[t.length-1].focus)return t[t.length-1]}},Qt=(e,t)=>{if(e){const n=Xt(e,t);n&&n.focus()}},Zt=(e,t,n)=>{if(t&&e.keyCode===_t&&t){const o=Xt(t,n),i=Jt(t,n);o&&i&&!e.shiftKey&&e.target===i&&(e.preventDefault(),o.focus()),o&&i&&e.shiftKey&&e.target===o&&(e.preventDefault(),i.focus()),o||e.preventDefault()}},$t=(e,t)=>{const n=Yt(e,t);n&&n.forEach(e=>{e.tabIndex=0})},en=(e,t)=>{const n=Yt(e,t);n&&n.forEach(e=>{e.tabIndex=-1})},tn=()=>{let e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,(8===e||12===e||16===e||20===e)&&(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n},nn="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;function on(e){const[t,n]=o.useState(!1);o.useEffect(()=>{n(!0)},[]);const[r,a]=o.useState(()=>e||(t?tn():void 0));nn(()=>{void 0===r&&a(tn())},[]);const s=i["useId".concat(tn()).slice(0,5)];if(void 0!==s){const t=s();return null!=e?e:t}return r}const rn=function(){const e={},t=n=>n.filter(e=>!0!==e&&!!e).map(n=>Array.isArray(n)?t(n):(t=>"object"==typeof t?Object.keys(t).forEach(n=>{e[n]=t[n]}):e[t]=!0)(n));for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t(o),Object.keys(e).map(t=>e[t]&&t||null).filter(e=>null!==e).join(" ")},an=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rn(t).replace(/[^[\]a-zA-Z0-9-_!: ]/g,"")},sn=o.forwardRef((e,t)=>{const{children:n,className:i,style:r,id:a}=e,s=o.useRef(null),l=o.useCallback(()=>{s.current&&Qt(s.current)},[]),c=o.useCallback(()=>({element:s.current,focus:l}),[l]);o.useImperativeHandle(t,c);const d=on(),u=o.useMemo(()=>e.themeColor||ln.themeColor,[e.themeColor]),p=o.useMemo(()=>e.position||ln.position,[e.position]),h=o.useMemo(()=>e.positionMode||ln.positionMode,[e.positionMode]),m=o.useMemo(()=>rn("k-appbar",{"k-appbar-top":"top"===p,"k-appbar-bottom":"bottom"===p,"k-appbar-static":"static"===h,"k-appbar-sticky":"sticky"===h,"k-appbar-fixed":"fixed"===h,["k-appbar-".concat(u)]:!!u},i),[p,h,u,i]);return o.createElement("div",{className:m,style:r,id:a||d},n)});sn.propTypes={children:jt.any,className:jt.string,style:jt.object,id:jt.string,themeColor:jt.string,position:jt.oneOf(["top","bottom"]),positionMode:jt.oneOf(["static","sticky","fixed"])};const ln={themeColor:"light",position:"top",positionMode:"static"};sn.displayName="KendoAppBar";const cn=o.forwardRef((e,t)=>{const{children:n,className:i,style:r}=e,a=o.useRef(null),s=o.useCallback(()=>{a.current&&Qt(a.current)},[]),l=o.useCallback(()=>({element:a.current,focus:s}),[s]);o.useImperativeHandle(t,l);const c=o.useMemo(()=>rn("k-appbar-section",i),[i]);return o.createElement("div",{className:c,style:r},n)});cn.propTypes={children:jt.any,className:jt.string,style:jt.object},cn.displayName="KendoAppBarSection";const dn=o.forwardRef((e,t)=>{const{children:n,className:i,style:r}=e,a=o.useRef(null),s=o.useCallback(()=>{a.current&&Qt(a.current)},[]),l=o.useCallback(()=>({element:a.current,focus:s}),[s]);o.useImperativeHandle(t,l);const c=o.useMemo(()=>rn("k-appbar-spacer",{"k-appbar-spacer-sized":r&&r.width&&null!==r.width},i),[i,r]),d=o.useMemo(()=>({flexBasis:r&&r.width?r.width:void 0}),[r]);return o.createElement("span",{className:c,style:d},n)});dn.propTypes={children:jt.any,className:jt.string,style:jt.object},dn.displayName="KendoAppBarSpacer";const un=(e,t)=>n=>{const{c:o=e}=n;return{[o[t]||""]:!0}},pn={prefix:"k",important:"!",rtl:"rtl",rounded:"rounded",value:"value",state:"state",filter:"filter",virtual:"virtual",infinite:"infinite",clear:"clear",reset:"reset",data:"data",nodata:"nodata",scroller:"scroller"},hn={center:"center",hbox:"hbox",vstack:"vstack",hstack:"hstack",overflow:"overflow"},mn={actionsheet:"actionsheet",calendar:"calendar",buttongroup:"buttongroup",dateinput:"dateinput",datetime:"datetime",datetimepicker:"datetimepicker",dropdownlist:"dropdownlist",combobox:"combobox",maskedtextbox:"maskedtextbox",menu:"menu",searchbox:"searchbox",timepicker:"timepicker"},fn={xsmall:"xs",small:"sm",medium:"md",large:"lg",xlarge:"xl",xxlarge:"xxl",xxxlarge:"xxxl"},gn={solid:"solid",outline:"outline",flat:"flat",link:"link",clear:"clear"},vn={base:"base",primary:"primary",secondary:"secondary",tertiary:"tertiary",info:"info",success:"success",warning:"warning",error:"error",dark:"dark",light:"light",inherit:"inherit",inverse:"inverse"},yn={small:"sm",medium:"md",large:"lg",full:"full"},xn={vertical:"vertical",horizontal:"horizontal"},bn={height:"height",width:"width"},wn={default:"cursor-default"},kn={up:"up",down:"down",left:"left",right:"right",start:"start",mid:"mid",end:"end"},Cn={actions:"actions",container:"container",content:"content",group:"group",row:"row",nav:"nav",wrap:"wrap",wrapper:"wrapper",list:"list",placeholder:"placeholder",popup:"popup",item:"item",part:"part",picker:"picker",separator:"separator",spacer:"spacer",tab:"tab",titlebar:"titlebar",optionLabel:"optionlabel",view:"view"},Sn={table:"table",text:"text",button:"button",tbody:"tbody",thead:"thead",tr:"tr",th:"th",td:"td",header:"header",footer:"footer",icon:"icon",title:"title",subtitle:"subtitle",link:"link",label:"label",ul:"ul",caption:"caption"},In={increase:"increase",decrease:"decrease",cancel:"cancel",accept:"accept",split:"split"},En={active:"active",adaptive:"adaptive",first:"first",focus:"focus",pending:"pending",last:"last",draggable:"draggable",filterable:"filterable",grouping:"grouping",selected:"selected",disabled:"disabled",hidden:"hidden",highlight:"highlight",invalid:"invalid",loading:"loading",required:"required",checked:"checked",empty:"empty",scrollable:"scrollable",sorted:"sorted",sort:"sort",sticky:"sticky",stretched:"stretched",order:"order",alt:"alt",edit:"edit",template:"template",shown:"shown",horizontal:"horizontal",vertical:"vertical",fullscreen:"fullscreen",bottom:"bottom"},jn={prefix:"animation",child:"child",relative:"relative",slide:"slide",appear:"appear",active:"active",enter:"enter",exit:"exit",pushRight:"push-right",pushLeft:"push-left",pushDown:"push-down",pushUp:"push-up",expandVertical:"expand-vertical",expandHorizontal:"expand-horizontal",fade:"fade",zoomIn:"zoom-in",zoomOut:"zoom-out",slideIn:"slide-in",slideDown:"slide-down",slideUp:"slide-up",slideRight:"slide-right",slideLeft:"slide-left",revealVertical:"reveal-vertical",revealHorizontal:"reveal-horizontal","animation-container":"animation-container","animation-container-shown":"animation-container-shown","animation-container-relative":"animation-container-relative","animation-container-fixed":"animation-container-fixed","child-animation-container":"child-animation-container"},An={input:"input",inner:"inner",spin:"spin",spinner:"spinner",maskedtextbox:"maskedtextbox",radio:"radio",textbox:"textbox",prefix:"prefix",suffix:"suffix"},_n={week:"week",weekdays:"weekdays",weekend:"weekend",month:"month",year:"year",decade:"decade",century:"century",number:"number",navigation:"navigation",marker:"marker",now:"now",range:"range",today:"today",other:"other",date:"date",time:"time",selector:"selector",timeselector:"timeselector"},Dn={prefix:"icon",svg:"svg",i:"i",color:"color",flipH:"flip-h",flipV:"flip-v"},Nn={label:"label",text:"text",floatingLabel:"floating-label",container:"container",hint:"form-hint",error:"form-error"},Tn={form:"form",field:"field"},Pn={prefix:"popup"},Mn={prefix:"grid",ariaRoot:"aria-root",tableWrap:"table-wrap",master:"master",column:"column",cell:"cell",cellInner:"cell-inner",row:"row",group:"group",hierarchy:"hierarchy",detail:"detail",noRecords:"norecords",pager:"pager"},On="drop",Rn="drag",Ln="hint",Fn="h",zn="clue",Bn="reorder",Vn="".concat(pn.prefix,"-").concat(An.input),Hn="".concat(pn.prefix,"-").concat(mn.calendar),qn=("".concat(pn.prefix,"-").concat(mn.maskedtextbox),"".concat(pn.prefix,"-").concat(An.radio),"".concat(pn.prefix,"-").concat(Sn.button)),Un="".concat(pn.prefix,"-").concat(mn.menu),Gn="".concat(pn.prefix,"-").concat(Cn.picker),Wn="".concat(pn.prefix,"-").concat(mn.dropdownlist),Kn="".concat(pn.prefix,"-").concat(mn.combobox),Yn="".concat(pn.prefix,"-").concat(Mn.prefix),Xn={wrapper:{main:qn,size:{small:"".concat(qn,"-").concat(fn.small),medium:"".concat(qn,"-").concat(fn.medium),large:"".concat(qn,"-").concat(fn.large)},fillMode:{solid:"".concat(qn,"-").concat(gn.solid),outline:"".concat(qn,"-").concat(gn.outline),flat:"".concat(qn,"-").concat(gn.flat),link:"".concat(qn,"-").concat(gn.link),clear:"".concat(qn,"-").concat(gn.clear)},themeColor:{base:{fillMode:{solid:"".concat(qn,"-").concat(gn.solid,"-").concat(vn.base),outline:"".concat(qn,"-").concat(gn.outline,"-").concat(vn.base),flat:"".concat(qn,"-").concat(gn.flat,"-").concat(vn.base),link:"".concat(qn,"-").concat(gn.link,"-").concat(vn.base),clear:"".concat(qn,"-").concat(gn.clear,"-").concat(vn.base)}},primary:{fillMode:{solid:"".concat(qn,"-").concat(gn.solid,"-").concat(vn.primary),outline:"".concat(qn,"-").concat(gn.outline,"-").concat(vn.primary),flat:"".concat(qn,"-").concat(gn.flat,"-").concat(vn.primary),link:"".concat(qn,"-").concat(gn.link,"-").concat(vn.primary),clear:"".concat(qn,"-").concat(gn.clear,"-").concat(vn.primary)}},secondary:{fillMode:{solid:"".concat(qn,"-").concat(gn.solid,"-").concat(vn.secondary),outline:"".concat(qn,"-").concat(gn.outline,"-").concat(vn.secondary),flat:"".concat(qn,"-").concat(gn.flat,"-").concat(vn.secondary),link:"".concat(qn,"-").concat(gn.link,"-").concat(vn.secondary),clear:"".concat(qn,"-").concat(gn.clear,"-").concat(vn.secondary)}},tertiary:{fillMode:{solid:"".concat(qn,"-").concat(gn.solid,"-").concat(vn.tertiary),outline:"".concat(qn,"-").concat(gn.outline,"-").concat(vn.tertiary),flat:"".concat(qn,"-").concat(gn.flat,"-").concat(vn.tertiary),link:"".concat(qn,"-").concat(gn.link,"-").concat(vn.tertiary),clear:"".concat(qn,"-").concat(gn.clear,"-").concat(vn.tertiary)}},info:{fillMode:{solid:"".concat(qn,"-").concat(gn.solid,"-").concat(vn.info),outline:"".concat(qn,"-").concat(gn.outline,"-").concat(vn.info),flat:"".concat(qn,"-").concat(gn.flat,"-").concat(vn.info),link:"".concat(qn,"-").concat(gn.link,"-").concat(vn.info),clear:"".concat(qn,"-").concat(gn.clear,"-").concat(vn.info)}},success:{fillMode:{solid:"".concat(qn,"-").concat(gn.solid,"-").concat(vn.success),outline:"".concat(qn,"-").concat(gn.outline,"-").concat(vn.success),flat:"".concat(qn,"-").concat(gn.flat,"-").concat(vn.success),link:"".concat(qn,"-").concat(gn.link,"-").concat(vn.success),clear:"".concat(qn,"-").concat(gn.clear,"-").concat(vn.success)}},warning:{fillMode:{solid:"".concat(qn,"-").concat(gn.solid,"-").concat(vn.warning),outline:"".concat(qn,"-").concat(gn.outline,"-").concat(vn.warning),flat:"".concat(qn,"-").concat(gn.flat,"-").concat(vn.warning),link:"".concat(qn,"-").concat(gn.link,"-").concat(vn.warning),clear:"".concat(qn,"-").concat(gn.clear,"-").concat(vn.warning)}},error:{fillMode:{solid:"".concat(qn,"-").concat(gn.solid,"-").concat(vn.error),outline:"".concat(qn,"-").concat(gn.outline,"-").concat(vn.error),flat:"".concat(qn,"-").concat(gn.flat,"-").concat(vn.error),link:"".concat(qn,"-").concat(gn.link,"-").concat(vn.error),clear:"".concat(qn,"-").concat(gn.clear,"-").concat(vn.error)}},dark:{fillMode:{solid:"".concat(qn,"-").concat(gn.solid,"-").concat(vn.dark),outline:"".concat(qn,"-").concat(gn.outline,"-").concat(vn.dark),flat:"".concat(qn,"-").concat(gn.flat,"-").concat(vn.dark),link:"".concat(qn,"-").concat(gn.link,"-").concat(vn.dark),clear:"".concat(qn,"-").concat(gn.clear,"-").concat(vn.dark)}},light:{fillMode:{solid:"".concat(qn,"-").concat(gn.solid,"-").concat(vn.light),outline:"".concat(qn,"-").concat(gn.outline,"-").concat(vn.light),flat:"".concat(qn,"-").concat(gn.flat,"-").concat(vn.light),link:"".concat(qn,"-").concat(gn.link,"-").concat(vn.light),clear:"".concat(qn,"-").concat(gn.clear,"-").concat(vn.light)}},inverse:{fillMode:{solid:"".concat(qn,"-").concat(gn.solid,"-").concat(vn.inverse),outline:"".concat(qn,"-").concat(gn.outline,"-").concat(vn.inverse),flat:"".concat(qn,"-").concat(gn.flat,"-").concat(vn.inverse),link:"".concat(qn,"-").concat(gn.link,"-").concat(vn.inverse),clear:"".concat(qn,"-").concat(gn.clear,"-").concat(vn.inverse)}}},rounded:{small:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.small),medium:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.medium),large:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.large)},iconButton:"".concat(pn.prefix,"-").concat(Sn.icon,"-").concat(Sn.button),disabled:"".concat(pn.prefix,"-").concat(En.disabled),selected:"".concat(pn.prefix,"-").concat(En.selected),isRtl:"".concat(pn.prefix,"-").concat(pn.rtl)},text:"".concat(qn,"-").concat(Sn.text),icon:"".concat(qn,"-").concat(Sn.icon)},Jn=e=>{const{isRtl:t,selected:n,disabled:o,size:i,fillMode:r,rounded:a,themeColor:s,iconButton:l,c:c=Xn}=e,d=c.wrapper,u=d.themeColor[s],p=u.fillMode[r];return{[d.main]:!0,[d.size[i]]:d.size[i],["".concat(qn,"-").concat(i)]:i&&!d.size[i],[d.fillMode[r]]:d.fillMode[r],[p]:p,[d.rounded[a]]:d.rounded[a],["".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(a)]:a&&!d.rounded[a],[d.iconButton]:l,[u.disabled]:o&&u&&u.disabled,[u.selected]:n&&u&&u.selected,[d.disabled]:o,[d.selected]:n,[d.isRtl]:t}},Qn=e=>{const{c:t=Xn}=e;return{[t.text]:!0}},Zn=e=>{const{c:t=Xn}=e;return{[t.icon]:!0}},$n=("".concat(qn,"-").concat(Cn.group),"".concat(qn,"-").concat(Cn.group,"-").concat(En.stretched),"".concat(pn.prefix,"-").concat(En.disabled),"".concat(pn.prefix,"-").concat(Cn.group,"-").concat(kn.start),"".concat(pn.prefix,"-").concat(Cn.group,"-").concat(kn.end),{wrapper:{main:"".concat(Un,"-").concat(Sn.button),focus:"".concat(pn.prefix,"-").concat(En.focus),disabled:"".concat(pn.prefix,"-").concat(En.disabled)},ul:{group:"".concat(Un,"-").concat(Cn.group),size:{small:"".concat(Un,"-").concat(Cn.group,"-").concat(fn.small),medium:"".concat(Un,"-").concat(Cn.group,"-").concat(fn.medium),large:"".concat(Un,"-").concat(Cn.group,"-").concat(fn.large)}},li:{item:"".concat(pn.prefix,"-").concat(Cn.item),focus:"".concat(pn.prefix,"-").concat(En.focus)},item:"".concat(Un,"-").concat(Cn.item),link:{main:"".concat(pn.prefix,"-").concat(Sn.link),link:"".concat(Un,"-").concat(Sn.link),selected:"".concat(pn.prefix,"-").concat(En.selected),disabled:"".concat(pn.prefix,"-").concat(En.disabled)},popup:"".concat(Un,"-").concat(Cn.popup)}),eo=(un($n,"item"),un($n,"popup"),{default:"",xsmall:"k-icon-xs",small:"k-icon-sm",medium:"k-icon-md",large:"k-icon-lg",xlarge:"k-icon-xl",xxlarge:"k-icon-xxl",xxxlarge:"k-icon-xxxl"}),to=e=>e.replace(/^k-i-/,""),no=jt.shape({name:jt.string.isRequired,content:jt.string.isRequired,viewBox:jt.string.isRequired}),oo=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=o.useCallback(o=>{n.onMouseDown&&n.onMouseDown.call(void 0,o),e.onMouseDown&&e.onMouseDown.call(void 0,{target:t.current,syntheticEvent:o})},[n.onMouseDown,e.onMouseDown,t]),r=o.useCallback(o=>{n.onMouseUp&&n.onMouseUp.call(void 0,o),e.onMouseUp&&e.onMouseUp.call(void 0,{target:t.current,syntheticEvent:o})},[n.onMouseUp,e.onMouseUp,t]),a=o.useCallback(o=>{n.onClick&&n.onClick.call(void 0,o),e.onClick&&e.onClick.call(void 0,{target:t.current,syntheticEvent:o})},[n.onClick,e.onClick,t]),s=o.useCallback(o=>{n.onDoubleClick&&n.onDoubleClick.call(void 0,o),e.onDoubleClick&&e.onDoubleClick.call(void 0,{target:t.current,syntheticEvent:o})},[n.onDoubleClick,e.onDoubleClick,t]),l=o.useCallback(o=>{n.onMouseEnter&&n.onMouseEnter.call(void 0,o),e.onMouseEnter&&e.onMouseEnter.call(void 0,{target:t.current,syntheticEvent:o})},[n.onMouseEnter,e.onMouseEnter,t]),c=o.useCallback(o=>{n.onMouseLeave&&n.onMouseLeave.call(void 0,o),e.onMouseLeave&&e.onMouseLeave.call(void 0,{target:t.current,syntheticEvent:o})},[n.onMouseLeave,e.onMouseLeave,t]),d=o.useCallback(o=>{n.onMouseMove&&n.onMouseMove.call(void 0,o),e.onMouseMove&&e.onMouseMove.call(void 0,{target:t.current,syntheticEvent:o})},[n.onMouseMove,e.onMouseMove,t]),u=o.useCallback(o=>{n.onMouseOut&&n.onMouseOut.call(void 0,o),e.onMouseOut&&e.onMouseOut.call(void 0,{target:t.current,syntheticEvent:o})},[n.onMouseOut,e.onMouseOut,t]),p=o.useCallback(o=>{n.onMouseOver&&n.onMouseOver.call(void 0,o),e.onMouseOver&&e.onMouseOver.call(void 0,{target:t.current,syntheticEvent:o})},[n.onMouseOver,e.onMouseOver,t]);return{onClick:a,onMouseUp:r,onMouseDown:i,onDoubleClick:s,onMouseEnter:l,onMouseLeave:c,onMouseMove:d,onMouseOut:u,onMouseOver:p}},io=["className","name","themeColor","size","flip","style","id","tabIndex"],ro=o.forwardRef((e,t)=>{const{className:n,name:i,themeColor:r,size:a,flip:l,style:c,id:d,tabIndex:u}=e,h=s(e,io),m=o.useRef(null),f=o.useRef(null);o.useImperativeHandle(m,()=>({element:f.current})),o.useImperativeHandle(t,()=>m.current);const g=o.useMemo(()=>a||ao.size,[a]),v=o.useMemo(()=>l||ao.flip,[l]),y=o.useMemo(()=>rn("k-icon","k-font-icon",i&&(e=>"k-i-"+e)(i),{["k-color-".concat(r)]:r,"k-flip-h":"horizontal"===v||"both"===v,"k-flip-v":"vertical"===v||"both"===v},eo[g],n),[i,r,g,v,n]),x=oo(e,m);return o.createElement("span",p(p(p({ref:f},h),x),{},{className:y,id:d,tabIndex:u,style:c,role:"presentation"}))});ro.propTypes={style:jt.object,classNames:jt.string,name:jt.string,themeColor:jt.oneOf(["inherit","primary","secondary","tertiary","info","success","error","warning","dark","light","inverse"]),size:jt.oneOf(["default","xsmall","small","medium","large","xlarge","xxlarge","xxxlarge"]),flip:jt.oneOf(["default","horizontal","vertical","both"])};const ao={size:"default",flip:"default"};ro.displayName="KendoIcon";const so={wrapper:{main:"".concat(pn.prefix,"-").concat(Dn.prefix),svgPrefix:"".concat(pn.prefix,"-").concat(Dn.svg,"-").concat(Dn.prefix),namePrefix:"".concat(pn.prefix,"-").concat(Dn.svg,"-").concat(Dn.i,"-"),flipH:"".concat(pn.prefix,"-").concat(Dn.flipH),flipV:"".concat(pn.prefix,"-").concat(Dn.flipV),themeColor:{inherit:"".concat(pn.prefix,"-").concat(Dn.color,"-").concat(vn.inherit),primary:"".concat(pn.prefix,"-").concat(Dn.color,"-").concat(vn.primary),secondary:"".concat(pn.prefix,"-").concat(Dn.color,"-").concat(vn.secondary),tertiary:"".concat(pn.prefix,"-").concat(Dn.color,"-").concat(vn.tertiary),info:"".concat(pn.prefix,"-").concat(Dn.color,"-").concat(vn.info),success:"".concat(pn.prefix,"-").concat(Dn.color,"-").concat(vn.success),warning:"".concat(pn.prefix,"-").concat(Dn.color,"-").concat(vn.warning),error:"".concat(pn.prefix,"-").concat(Dn.color,"-").concat(vn.error),dark:"".concat(pn.prefix,"-").concat(Dn.color,"-").concat(vn.dark),light:"".concat(pn.prefix,"-").concat(Dn.color,"-").concat(vn.light)},size:{default:"",xsmall:"".concat(pn.prefix,"-").concat(Dn.prefix,"-").concat(fn.xsmall),small:"".concat(pn.prefix,"-").concat(Dn.prefix,"-").concat(fn.small),medium:"".concat(pn.prefix,"-").concat(Dn.prefix,"-").concat(fn.medium),large:"".concat(pn.prefix,"-").concat(Dn.prefix,"-").concat(fn.large),xlarge:"".concat(pn.prefix,"-").concat(Dn.prefix,"-").concat(fn.xlarge),xxlarge:"".concat(pn.prefix,"-").concat(Dn.prefix,"-").concat(fn.xxlarge),xxxlarge:"".concat(pn.prefix,"-").concat(Dn.prefix,"-").concat(fn.xxxlarge)}},svg:{main:"",flipH:"",flipV:""}},lo=e=>{const{iconNameProp:t,themeColor:n,flipH:o,flipV:i,size:r,c:a=so}=e,s=a.wrapper||{};return{[s.main||""]:!0,[s.svgPrefix||""]:!0,["".concat(s.namePrefix||"").concat(t)]:t,[s.themeColor[n]||""]:n,[s.flipH||""]:o,[s.flipV||""]:i,[s.size[r]||""]:s.size[r]}},co=e=>{const{flipH:t,flipV:n,c:o=so}=e,i=o.svg;return{[i.main||""]:!0,[i.flipH||""]:t,[i.flipV||""]:n}},uo=o.createContext(void 0),po=()=>o.useContext(uo),ho=["children","className","svgClassName","icon","flip","id","tabIndex","size","style","svgStyle","themeColor","viewBox","name","onClick"],mo=o.forwardRef((e,t)=>{const{children:n,className:i,svgClassName:r,icon:a,flip:l,id:c,tabIndex:d,size:u,style:h,svgStyle:m,themeColor:f,viewBox:g,name:v,onClick:y}=e,x=s(e,ho),b=o.useRef(null),w=po(),k=w&&w.uSvgIcon;o.useImperativeHandle(t,()=>({element:b.current}));const C=o.useMemo(()=>a?a.name:fo.icon,[a]),S=o.useMemo(()=>a?a.content:void 0,[a]),I=o.useMemo(()=>u||fo.size,[u]),E=o.useMemo(()=>l||fo.flip,[l]),j=o.useMemo(()=>g||fo.viewBox,[g]),A=o.useMemo(()=>rn(lo({c:k,iconNameProp:C,themeColor:f,flipH:"horizontal"===E||"both"===E,flipV:"vertical"===E||"both"===E,size:I}),i),[k,C,f,E,I,i]),_=o.useMemo(()=>e.width&&e.height?p({width:e.width,height:e.height},h):e.width?p({width:e.width,height:e.width},h):e.height?p({width:e.height,height:e.height},h):p({},h),[e.width,e.height,h]),D=o.useMemo(()=>S?{__html:S}:void 0,[S]);return o.createElement("span",{className:rn(co({c:k,themeColor:f,flipH:"horizontal"===E||"both"===E,flipV:"vertical"===E||"both"===E}),A),style:_,ref:b,onClick:y,"aria-hidden":!0},o.createElement("svg",p({id:c,className:r,style:m,"aria-hidden":!0,tabIndex:d,focusable:!1,xmlns:"http://www.w3.org/2000/svg",viewBox:a?a.viewBox:j,dangerouslySetInnerHTML:D},x),a?void 0:n))});mo.propTypes={style:jt.object,classNames:jt.string,children:jt.any,icon:jt.object,themeColor:jt.oneOf(["inherit","primary","secondary","tertiary","info","success","error","warning","dark","light","inverse"]),size:jt.oneOf(["default","xsmall","small","medium","large","xlarge","xxlarge","xxxlarge"]),flip:jt.oneOf(["default","horizontal","vertical","both"])};const fo={size:"default",flip:"default",icon:"",viewBox:"0 0 24 24"};mo.displayName="KendoSvgIcon";const go=o.createContext({type:"svg"});go.displayName="KendoReactIconsContext";const vo=["icon"],yo=o.forwardRef((e,t)=>{var n,i;const{type:r,icons:a}=o.useContext(go),{icon:l}=e,c=s(e,vo);let d="svg"===r?(null==(n=e.icon)?void 0:n.name)||e.name:e.name||(null==(i=e.icon)?void 0:i.name);d=d&&a&&a[d]&&"string"==typeof a[d]?a[d]:d;const u=d&&a&&a[d]&&"string"!=typeof a[d]?a[d]:l;return"svg"===r&&u?o.createElement(mo,p(p({},e),{},{icon:u,ref:t})):o.createElement(ro,p(p({},c),{},{name:d,ref:t}))});yo.displayName="KendoIconWrap";const xo=["children","togglable","dir","disabled","selected","icon","iconClass","svgIcon","imageUrl","imageAlt","className","startIcon","endIcon","onClick","size","rounded","fillMode","themeColor"];const bo=o.forwardRef((e,t)=>{const{children:n,togglable:i,dir:r,disabled:a,selected:l,icon:c,iconClass:d,svgIcon:u,imageUrl:h,imageAlt:m,className:f,startIcon:g,endIcon:v,onClick:y,size:x=wo.size,rounded:b=wo.rounded,fillMode:w=wo.fillMode,themeColor:k=wo.themeColor}=e,C=s(e,xo),S=o.useRef(void 0),I=o.useRef(null),[E,j]=o.useState(!0===i&&!0===l),A=void 0!==u||void 0!==c||void 0!==d||void 0!==h,_=void 0!==n,D=po(),N=e.unstyled||D,T=N&&N.uButton;o.useImperativeHandle(t,()=>({element:I.current,selected:void 0!==S.current?S.current:E})),o.useMemo(()=>{i&&void 0!==l&&l!==E&&j(l)},[i,l]),o.useEffect(()=>{S.current=void 0},[E]);const P=function(e){let{imageUrl:t,name:n,iconClass:i,svgIcon:r,imageAlt:a,buttonClasses:s}=e;return t?o.createElement("img",{role:"presentation",className:rn(Zn({c:s})),alt:a,src:t}):n||r?o.createElement(yo,{className:rn(Zn({c:s})),name:n,icon:r}):i?o.createElement("span",{role:"presentation",className:rn(Zn({c:s}),i)}):null}({name:c,svgIcon:u,iconClass:d,imageUrl:h,imageAlt:m,buttonClasses:T}),M=e=>o.cloneElement(e,{className:rn(Zn({c:T}))});return o.createElement("button",p(p({ref:I,"aria-pressed":i?E:void 0},C),{},{dir:r,disabled:a,onClick:e=>{i&&void 0===l&&(S.current=!E,j(!E)),y&&y.call(void 0,e)},className:rn(Jn({c:T,isRtl:"rtl"===r,selected:E,disabled:a,size:x,fillMode:w,rounded:b,themeColor:k,iconButton:!_&&A}),f)}),g&&M(g),P,n&&o.createElement("span",{className:rn(Qn({c:T}))},n),v&&M(v))}),wo={togglable:!1,size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base"};function ko(e,t,n){const[i,r]=o.useState(t);return o.useEffect(()=>{if(!i&&window&&e.current){const t=window.getComputedStyle(e.current).direction;t&&r(t)}},n),i}bo.displayName="KendoReactButton",bo.propTypes={children:jt.node,selected:jt.bool,togglable:jt.bool,icon:jt.string,svgIcon:no,iconClass:jt.string,imageUrl:jt.string,imageAlt:jt.string,size:jt.oneOf([null,"small","medium","large"]),rounded:jt.oneOf([null,"small","medium","large","full"]),fillMode:jt.oneOf([null,"flat","link","outline","solid","clear"]),themeColor:jt.oneOf([null,"base","primary","secondary","tertiary","info","success","warning","error","dark","light","inverse"])};const Co={sizeMap:{small:"sm",medium:"md",large:"lg"},roundedMap:{small:"sm",medium:"md",large:"lg"},orientationMap:{vertical:"vstack",horizontal:"hstack"}},So=o.forwardRef((e,t)=>{const{cutoutBorder:n=Io.cutoutBorder,position:i=Io.position,align:r=Io.align,children:a,className:s,style:l}=e,c=o.useRef(null),d=o.useCallback(()=>{c.current&&c.current.focus()},[]);o.useImperativeHandle(t,()=>({element:c.current,focus:d}));const u=ko(c,e.dir),p=o.useMemo(()=>null===e.size?null:e.size||Io.size,[e.size]),h=o.useMemo(()=>null===e.fillMode?null:e.fillMode||Io.fillMode,[e.fillMode]),m=o.useMemo(()=>e.themeColor||Io.themeColor,[e.themeColor]),f=o.useMemo(()=>void 0!==e.rounded&&e.rounded||"medium",[e.rounded]),g=o.useMemo(()=>rn("k-badge",{"k-badge-sm":"small"===p,"k-badge-md":"medium"===p,"k-badge-lg":"large"===p,["k-badge-".concat(h)]:h,["k-badge-".concat(h,"-").concat(m)]:!(!h||!m),"k-badge-border-cutout":n,["k-badge-".concat(i)]:i,"k-top-start":"top"===r.vertical&&"start"===r.horizontal,"k-top-end":"top"===r.vertical&&"end"===r.horizontal,"k-bottom-start":"bottom"===r.vertical&&"start"===r.horizontal,"k-bottom-end":"bottom"===r.vertical&&"end"===r.horizontal},null!==e.rounded?["k-rounded-".concat(Co.roundedMap[f]||f)]:void 0,s),[p,h,m,f,n,r,i,s]);return o.createElement("span",{className:g,style:l,dir:u},a)});So.propTypes={className:jt.string,dir:jt.string,style:jt.object,align:jt.shape({vertical:jt.oneOf(["top","bottom",null]),horizontal:jt.oneOf(["start","end",null])}),size:jt.oneOf([null,"small","medium","large"]),fillMode:jt.oneOf([null,"solid","outline"]),themeColor:jt.oneOf([null,"base","primary","secondary","tertiary","info","success","warning","error","dark","light","inverse","inherit"]),rounded:jt.oneOf([null,"small","medium","large","full"]),position:jt.oneOf(["edge","outside","inside",null]),cutoutBorder:jt.bool};const Io={size:"medium",fillMode:"solid",themeColor:"primary",position:"edge",align:{vertical:"top",horizontal:"end"},cutoutBorder:!1};So.displayName="KendoBadge";var Eo=n(950);const jo={animationContainer:"".concat(pn.prefix,"-").concat(jn.prefix,"-").concat(Cn.container),animationContainerShown:"".concat(pn.prefix,"-").concat(jn.prefix,"-").concat(Cn.container,"-").concat(En.shown),animationChild:"".concat(pn.prefix,"-").concat(jn.child,"-").concat(jn.prefix,"-").concat(Cn.container),popup:"".concat(pn.prefix,"-").concat(Pn.prefix),slide:{up:{enter:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.up,"-").concat(jn.enter),exit:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.up,"-").concat(jn.exit)},down:{enter:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.down,"-").concat(jn.enter),exit:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.down,"-").concat(jn.exit)},left:{enter:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.left,"-").concat(jn.enter),exit:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.left,"-").concat(jn.exit)},right:{enter:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.right,"-").concat(jn.enter),exit:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.right,"-").concat(jn.exit)}},slideActive:{up:{enter:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.up,"-").concat(jn.enter,"-").concat(jn.active),exit:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.up,"-").concat(jn.exit,"-").concat(jn.active)},down:{enter:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.down,"-").concat(jn.enter,"-").concat(jn.active),exit:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.down,"-").concat(jn.exit,"-").concat(jn.active)},left:{enter:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.left,"-").concat(jn.enter,"-").concat(jn.active),exit:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.left,"-").concat(jn.exit,"-").concat(jn.active)},right:{enter:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.right,"-").concat(jn.enter,"-").concat(jn.active),exit:"".concat(pn.prefix,"-").concat(jn.slide,"-").concat(kn.right,"-").concat(jn.exit,"-").concat(jn.active)}}},Ao=e=>{const{c:t=jo}=e;return{[t.animationContainer]:!0}},_o=e=>{const{c:t=jo}=e;return{[t.animationContainerShown]:!0}},Do=e=>{const{c:t=jo}=e;return{[t.animationChild]:!0}},No=e=>{const{c:t=jo}=e;return{[t.popup]:!0}},To=e=>{const{direction:t,type:n,c:o=jo}=e;return{[o.slide[t][n]]:o.slide[t]&&o.slide[t][n]}},Po=e=>{const{direction:t,type:n,c:o=jo}=e;return{[o.slideActive[t][n]]:o.slideActive[t]&&o.slideActive[t][n]}},Mo=(e,t,n)=>{e.style.transitionDuration="",t&&e.classList.remove(...t.split(" ")),n&&e.classList.remove(...n.split(" "))},Oo="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent),Ro=o.createContext(0);Ro.displayName="KendoReactZIndexContext";const Lo=!("undefined"==typeof window||!window.document||!window.document.createElement);var Fo;!function(e){e.bottom="bottom",e.center="center",e.middle="middle",e.left="left",e.right="right",e.top="top"}(Fo||(Fo={}));var zo;!function(e){e.fit="fit",e.flip="flip",e.none="none"}(zo||(zo={}));var Bo=function(e,t,n){var o=0;return e+t>n&&(o=n-(e+t)),e<0&&(o=-e),o},Vo=function(e){var t=e.offset,n=e.size,o=e.anchorSize,i=e.viewPortSize,r=e.anchorAlignPoint,a=e.elementAlignPoint,s=e.margin,l=0,c=a===Fo.center||a===Fo.middle,d=r===Fo.center||r===Fo.middle,u=2*s;if(a!==r&&!c&&!d){var p=r===Fo.top||r===Fo.left;t<0&&p?t+(l=n+o+u)+n>i&&(l=0):t>=0&&!p&&(t+n>i&&(l+=-(o+n+u)),t+l<0&&(l=0))}return l};var Ho=function(e){var t,n=this,o=!1;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return o||(t=e.apply(n,i),o=!0),t}}(function(e){if(!qo())return!1;var t=e?e.ownerDocument:document;if(!t||!t.body)return!1;var n=t.createElement("div");n.style.transform="matrix(10, 0, 0, 10, 0, 0)",n.innerHTML='<div style="position: fixed; top: '.concat(10,'px;">child</div>'),t.body.appendChild(n);var o=10!==n.children[0].getBoundingClientRect().top;return t.body.removeChild(n),o}),qo=function(){return Boolean("undefined"!==typeof window&&window.document&&window.document.createElement)},Uo={eitherRect:function(e,t){return e||{height:0,left:t.left,top:t.top,width:0}},scaleRect:function(e,t){return e&&1!==t?{height:e.height/t,left:e.left/t,top:e.top/t,width:e.width/t}:e},removeStackingOffset:function(e,t){return t?{height:e.height,left:e.left-t.left,top:e.top-t.top,width:e.width}:e},hasRelativeStackingContext:Ho,canUseDOM:qo},Go=function(e){var t=e.getBoundingClientRect(),n=t.left,o=t.top;return t.height||t.width||(t=function(e){var t=e.style,n=t.display,o=t.left,i=t.position;e.style.display="",e.style.left="-10000px",e.style.position="absolute";var r=e.getBoundingClientRect();return e.style.display=n,e.style.left=o,e.style.position=i,{top:r.top,left:r.left,height:r.height,width:r.width}}(e)),{top:o,left:n,height:t.height,width:t.width}};const Wo=function(e){return e&&e.ownerDocument||document};var Ko=function(e){return Wo(e).documentElement},Yo=0,Xo=function(e){return Wo(e).defaultView},Jo=function(e){var t=Xo(e),n=Ko(e),o={height:t.innerHeight,width:t.innerWidth};return n.scrollHeight-n.clientHeight>0&&(o.width-=function(){if(!Yo&&"undefined"!==typeof document){var e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),Yo=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return Yo}()),o},Qo=function(e){var t=Ko(e),n=Xo(e);return{x:n.pageXOffset||t.scrollLeft||0,y:n.pageYOffset||t.scrollTop||0}},Zo=function(e){for(var t=e.offsetParent;t&&"static"===t.style.position;)t=t.offsetParent;return t||e.ownerDocument.documentElement},$o=function(e){return e===(e.ownerDocument||{}).body?Qo(e):{x:e.scrollLeft,y:e.scrollTop}},ei=function(e,t){return e?$o(e):function(e){var t=Zo(e);return t?$o(t):{x:0,y:0}}(t)},ti=function(e,t,n){void 0===n&&(n=1);var o=t?Zo(t):null,i=function(e,t){var n=Xo(e),o=n.getComputedStyle(e),i=Go(e),r=t||Zo(e),a=e.ownerDocument,s=r!==a.body&&r!==a.documentElement,l={top:0,left:0,height:0,width:0};if("fixed"!==o.position&&s){var c=n.getComputedStyle(r);(l=Go(r)).top+=parseFloat(c.borderTopWidth),l.left+=parseFloat(c.borderLeftWidth)}return{top:i.top-l.top,left:i.left-l.left,height:i.height,width:i.width}}(e,o),r=i.top,a=i.left,s=i.height,l=i.width,c=ei(o,e),d=c.x,u=c.y,p=e.ownerDocument,h=o===p.body||o===p.documentElement?1:n;return{top:r+u*h,left:a+d*h,height:s,width:l}},ni=/auto|scroll/,oi=function(e){return function(e){return"".concat(window.getComputedStyle(e).overflow)}(e)||function(e){var t=window.getComputedStyle(e);return"".concat(t.overflow).concat(t.overflowX).concat(t.overflowY)}(e)},ii=function(e){if(!e||!Uo.hasRelativeStackingContext())return null;for(var t=e.parentElement;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null},ri=function(e,t){return{left:e.left+t.left,top:e.top+t.top}},ai=function(e,t){return{top:e.top+t.y,left:e.left+t.x,height:e.height,width:e.width}},si=function(e){var t=e.anchorRect,n=e.anchorAlign,o=e.elementRect,i=e.elementAlign,r=e.margin,a=void 0===r?{}:r,s=n.horizontal,l=n.vertical,c=i.horizontal,d=i.vertical,u=a.horizontal||0,p=a.vertical||0,h=t.top,m=t.left;return l===Fo.bottom&&(h+=t.height),l!==Fo.center&&l!==Fo.middle||(h+=Math.round(t.height/2)),d===Fo.bottom&&(h-=o.height,p*=-1),d!==Fo.center&&d!==Fo.middle||(h-=Math.round(o.height/2),p*=-1),s===Fo.right&&(m+=t.width),s!==Fo.center&&s!==Fo.middle||(m+=Math.round(t.width/2)),c===Fo.right&&(m-=o.width,u*=-1),c!==Fo.center&&c!==Fo.middle||(m-=Math.round(o.width/2),u*=-1),{top:h+p,left:m+u}},li=function(e){return!!e&&Boolean(e.offsetParent)},ci=function(e){return e?Go(e):null},di=function(e,t){if(!e)return null;var n=e.style,o=n.left,i=n.top,r=n.transition;e.style.transition="none",e.style.left="".concat(t.left,"px"),e.style.top="".concat(t.top,"px");var a=Go(e);return e.style.left=o,e.style.top=i,e.offsetHeight,e.style.transition=r,a},ui=function(e,t,n){return e&&t?ti(e,t,n||1):null},pi=function(e,t){return{top:e.top-t.y,left:e.left-t.x,height:e.height,width:e.width}},hi=function(e){var t=e.anchorRect,n=e.anchorAlign,o=e.elementRect,i=e.elementAlign,r=e.collisions,a=e.viewPort,s=e.margin,l=void 0===s?{}:s,c=o.top,d=o.left,u=o.height,p=o.width,h=a.height,m=a.width,f=l.horizontal||0,g=l.vertical||0,v=0,y=0,x=r.vertical===zo.fit,b=r.horizontal===zo.fit,w=r.vertical===zo.flip,k=r.horizontal===zo.flip;x&&(y+=Bo(c,u,h)),b&&(v+=Bo(d,p,m)),w&&(y+=Vo({margin:g,offset:c,size:u,anchorSize:t.height,viewPortSize:h,anchorAlignPoint:n.vertical,elementAlignPoint:i.vertical})),k&&(v+=Vo({margin:f,offset:d,size:p,anchorSize:t.width,viewPortSize:m,anchorAlignPoint:n.horizontal,elementAlignPoint:i.horizontal}));var C=w&&0!==y,S=k&&0!==v,I=x&&0!==y,E=b&&0!==v;return{flipped:S||C,fitted:I||E,flip:{horizontal:S,vertical:C},fit:{horizontal:E,vertical:I},offset:{left:v,top:y}}},mi=Qo,fi=function(e){var t=[];if(!Uo.canUseDOM())return t;for(var n=e.parentElement;n;)(ni.test(oi(n))||n.hasAttribute("data-scrollable"))&&t.push(n),n=n.parentElement;return t.push(window),t},gi=function(e){var t=ii(e);return t?Go(t):null},vi=function(e){var t=ii(e);return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}},yi=Jo,xi=function(e,t){return e?{x:0,y:0}:mi(t)},bi=function(e){var t=e.anchor,n=e.element,o=e.anchorAlign,i=e.elementAlign,r=e.margin,a=e.offset,s=e.positionMode,l=e.scale||1,c="fixed"===s||!li(n)?function(e,t,n,o){var i=xi(e,t),r=Uo.eitherRect(ci(e),n),a=2*o,s=vi(t);1!==o&&s&&(s.x/=a,s.y/=a);var l=gi(t);return 1!==o&&l&&(l.left/=a,l.top/=a),pi(ai(Uo.removeStackingOffset(Uo.scaleRect(r,o),l),s),i)}(t,n,a,l):function(e,t,n,o){var i=Uo.eitherRect(ui(e,t,o),n);return Uo.scaleRect(i,o)}(t,n,a,l),d=Uo.scaleRect(ci(n),l);return si({anchorAlign:o,anchorRect:c,elementAlign:i,elementRect:d,margin:r})};const wi=o.createContext(e=>e);function ki(e,t){if(e===t)return!0;if(!!e!=!!t)return!1;const n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);if(n.length!==o.length)return!1;for(let i=0;i<n.length;i++){const o=n[i];if(e[o]!==t[o])return!1}return!0}const Ci=o.forwardRef((e,t)=>{const n=o.useContext(wi).call(void 0,e),{collision:i=Si.collision,anchorAlign:r=Si.anchorAlign,popupAlign:a=Si.popupAlign,offset:s=Si.offset,animate:l=Si.animate,show:c=Si.show,margin:d=Si.margin,positionMode:u=Si.positionMode,appendTo:h,contentKey:m,anchor:f,scale:g,role:v,onKeyDown:y,onPosition:x,onOpen:b,onMouseDownOutside:w,onClose:k,className:C,popupClass:S,id:I,style:E,children:j}=n,A=po(),_=n.unstyled||A,D=_&&_.uPopup,[N,T]=o.useState({current:"hidden",previous:"hidden",props:{}}),P=e=>{null==window||window.addEventListener("mousedown",L),M(e),R(e.firstChild,"enter",O),T(p(p({},J),{},{current:"shown",previous:J.current}))},M=e=>{const{width:t,height:n}=e.style;if(0===e.offsetWidth&&0===e.offsetHeight)return;e.style.width=e.offsetWidth+"px",e.style.height=e.offsetHeight+"px";const o=bi({anchor:f,anchorAlign:r,element:e,elementAlign:a,offset:s,margin:d,positionMode:u,scale:g}),l=function(e){var t=e.anchor,n=e.currentLocation,o=e.element,i=e.anchorAlign,r=e.elementAlign,a=e.collisions,s=e.margin,l=e.scale||1,c=di(o,n),d=Uo.scaleRect(c,l),u=Uo.scaleRect(ci(t),l),p=Uo.eitherRect(u,n),h=e.viewPort||yi(o);h.width=h.width/l,h.height=h.height/l;var m=hi({anchorAlign:i,anchorRect:p,collisions:a,elementAlign:r,elementRect:d,margin:s,viewPort:h}),f=ri(n,m.offset);return{flip:m.flip,flipped:m.flipped,fit:m.fit,fitted:m.fitted,offset:f}}({anchor:f,anchorAlign:r,element:e,elementAlign:a,collisions:i,currentLocation:o,margin:d});if(e.style.top=l.offset.top+"px",e.style.left=l.offset.left+"px",e.style.width=t,e.style.height=n,U.current={fit:l.fit,fitted:l.fitted,flip:l.flip,flipped:l.flipped},x){const e={target:K.current,flipped:l.flipped,fitted:l.fitted};x.call(void 0,e)}},O=()=>{const e=W.current;e&&(c&&e.classList.add(...rn(_o({c:D})).split(" ").filter(e=>e)),B(e),b&&b.call(void 0,{target:K.current}))},R=(t,n,o)=>{if(!a)return;let i;const{horizontal:r,vertical:s}=a;i="object"==typeof e.animate&&e.animate.direction?e.animate.direction:"left"===r&&"center"===s?"right":"right"===r&&"center"===s?"left":"top"===s?"down":"up";U.current&&U.current.flipped&&(i={down:"up",up:"down",left:"right",right:"left"}[i]),((e,t,n,o,i,r)=>{if(0===n)return i();const a=rn(To({direction:t,type:o,c:r})),s=rn(Po({direction:t,type:o,c:r})),l=t=>{t.target===e&&(e.removeEventListener("transitionend",l),Mo(e,a,s),e.style.display="exit"===o?"none":"",i())};e.addEventListener("transitionend",l);const c=e.ownerDocument;if(!c)return;const d=c.defaultView;if(!d)return;const u=()=>{Mo(e,a,s),"enter"===o&&(e.style.display=""),a&&e.classList.add(...a.split(" ").filter(e=>e)),d.requestAnimationFrame(()=>{e.style.transitionDuration=n+"ms",e.classList.add(...s.split(" ").filter(e=>e))})};Oo?d.requestAnimationFrame(u):u()})(t,i,z()[n],n,o,D)},L=e=>{var t;const n=null===(null==(t=null==e?void 0:e.target)?void 0:t.closest(".k-animation-container")),o=(null==f?void 0:f.contains(null==e?void 0:e.target))||!1;if(n){if(w){const t={target:K.current,event:e,state:N,isAnchorClicked:o};w.call(void 0,t)}null==window||window.removeEventListener("mousedown",L)}},F=()=>{"hiding"===J.current&&("shown"===J.previous||"reposition"===J.previous)&&T(p(p({},J),{},{current:"hidden",previous:J.current})),k&&k.call(void 0,{target:K.current})},z=()=>{const e=l;let t=0,n=0;return e&&(!0===e?t=n=300:(t=e.openDuration||0,n=e.closeDuration||0)),{enter:t,exit:n}},B=e=>{V(),G.current=fi(f||e),G.current&&G.current.map(e=>e.addEventListener("scroll",H)),window.addEventListener("resize",H)},V=()=>{G.current&&(G.current.map(e=>e.removeEventListener("scroll",H)),G.current=void 0),window.removeEventListener("resize",H)},H=function(e,t){let n,o,i,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=0;a=a||{};const l=function(){s=!1===a.leading?0:(new Date).getTime(),n=void 0,r=e.apply(o,i),n||(o=i=null)};return function(){const c=(new Date).getTime();!s&&!1===a.leading&&(s=c);const d=t-(c-s);return o=void 0,i=arguments,d<=0||d>t?(n&&(clearTimeout(n),n=void 0),s=c,r=e.apply(o,i),n||(o=i=null)):!n&&!1!==a.trailing&&(n=window.setTimeout(l,d)),r}}(()=>{W.current&&"hidden"!==J.current&&"hiding"!==J.current&&T(p(p({},N),{},{current:"reposition",previous:J.current}))},16.666666666666668),q=o.useContext(Ro)||0,U=o.useRef(void 0),G=o.useRef(void 0),W=o.useRef(null),K=o.useRef(null),Y=o.useRef({}),X=o.useRef(!1);o.useImperativeHandle(K,()=>({element:W.current,setPosition:M,props:e})),o.useImperativeHandle(t,()=>K.current);const J=o.useMemo(()=>{const e=p(p({},N),{},{props:{show:c,anchor:f,anchorAlign:r,appendTo:h,collision:i,popupAlign:a,className:C,popupClass:S,style:E,offset:s,contentKey:m}});return c?"hidden"===N.current||"hiding"===N.current?p(p({},e),{},{current:"showing",previous:N.current}):"showing"===N.current?p(p({},e),{},{current:"shown",previous:N.current}):"shown"!==N.current||ki(s,N.props.offset)&&ki(r,N.props.anchorAlign)&&ki(h,N.props.appendTo)&&ki(i,N.props.collision)&&ki(a,N.props.popupAlign)&&ki(E,N.props.style)&&f===N.props.anchor&&S===N.props.popupClass&&C===N.props.className?e:p(p({},e),{},{current:"reposition",previous:N.current}):"hiding"===N.current||"hidden"===N.current?p(p({},e),{},{current:"hidden",previous:N.current}):p(p({},e),{},{current:"hiding",previous:N.current})},[c,f,r,h,i,a,C,S,E,s,m,N]);o.useEffect(()=>{"hiding"===J.current&&!X.current&&W.current?(X.current=!0,(e=>{if(!c){const t=_&&_.uPopup;e.classList.remove(...rn(_o({c:t})).split(" ").filter(e=>e))}V()})(W.current),R(W.current.firstChild,"exit",F)):(X.current=!1,"showing"===J.current&&W.current&&!W.current.classList.contains("k-animation-container-shown")?P(W.current):"hiding"===J.current&&W.current?F():"reposition"===J.current&&"shown"===J.previous?setTimeout(()=>{T(p(p({},J),{},{current:"shown",previous:J.current}))},0):"shown"===J.current&&Y.current.contentKey!==m&&W.current&&M(W.current)),"reposition"===J.current&&("shown"===J.previous||"showing"===J.previous)&&W.current&&M(W.current),Y.current={contentKey:m}},[J]),o.useEffect(()=>("showing"===J.current&&W.current&&P(W.current),()=>{V()}),[]);const Q=h||(Lo?f&&f.ownerDocument?f.ownerDocument.body:document.body:void 0),Z=Object.assign({},{position:u,top:0,left:-1e4},E||{}),$="hiding"===J.current;if((c||$)&&Q){const e=q?q+1:100,t=o.createElement(Ro.Provider,{value:e},o.createElement("div",{onKeyDown:y,className:rn(Ao({c:D}),C),id:I,ref:W,style:p({zIndex:e},Z)},o.createElement("div",{className:rn(Do({c:D})),style:{transitionDelay:"0ms"}},o.createElement("div",{role:v,className:rn(No({c:D}),S)},j))));return null!==h?Eo.createPortal(t,Q):t}return null}),Si={collision:{horizontal:zo.fit,vertical:zo.flip},anchorAlign:{horizontal:Fo.left,vertical:Fo.bottom},popupAlign:{horizontal:Fo.left,vertical:Fo.top},offset:{left:-1e3,top:0},animate:!0,show:!1,margin:{horizontal:0,vertical:0},positionMode:"absolute"};Ci.displayName="Popup",Ci.propTypes={anchor:function(e){const t=e.anchor;return t&&"number"!=typeof t.nodeType?new Error("Invalid prop `anchor` supplied to `Kendo React Popup`. Validation failed."):null},appendTo:function(e){const t=e.appendTo;return t&&"number"!=typeof t.nodeType?new Error("Invalid prop `appendTo` supplied to `Kendo React Popup`. Validation failed."):null},className:jt.oneOfType([jt.string,jt.arrayOf(jt.string.isRequired)]),id:jt.string,popupClass:jt.oneOfType([jt.string,jt.arrayOf(jt.string),jt.object]),collision:jt.shape({horizontal:jt.oneOf([zo.fit,zo.flip,zo.none]),vertical:jt.oneOf([zo.fit,zo.flip,zo.none])}),anchorAlign:jt.shape({horizontal:jt.oneOf([Fo.left,Fo.center,Fo.right]),vertical:jt.oneOf([Fo.top,Fo.center,Fo.bottom])}),popupAlign:jt.shape({horizontal:jt.oneOf([Fo.left,Fo.center,Fo.right]),vertical:jt.oneOf([Fo.top,Fo.center,Fo.bottom])}),offset:jt.shape({left:jt.number,top:jt.number}),children:jt.oneOfType([jt.element,jt.node]),show:jt.bool,animate:jt.oneOfType([jt.bool,jt.shape({openDuration:jt.number,closeDuration:jt.number})]),margin:jt.shape({horizontal:jt.number,vertical:jt.number}),positionMode:jt.oneOf(["fixed","absolute"]),scale:jt.number,style:jt.object,onClose:jt.func,onPosition:jt.func,onOpen:jt.func,onKeyDown:jt.func,onMouseDownOutside:jt.func};var Ii={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ei=o.createContext&&o.createContext(Ii),ji=["attr","size","title"];function Ai(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_i.apply(this,arguments)}function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach(function(t){Ti(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ti(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pi(e){return e&&e.map((e,t)=>o.createElement(e.tag,Ni({key:t},e.attr),Pi(e.child)))}function Mi(e){return t=>o.createElement(Oi,_i({attr:Ni({},e.attr)},t),Pi(e.child))}function Oi(e){var t=t=>{var n,{attr:i,size:r,title:a}=e,s=Ai(e,ji),l=r||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),o.createElement("svg",_i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:Ni(Ni({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&o.createElement("title",null,a),e.children)};return void 0!==Ei?o.createElement(Ei.Consumer,null,e=>t(e)):t(Ii)}function Ri(e){return Mi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Li(e){return Mi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(e)}function Fi(e){return Mi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function zi(e){return Mi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Bi(e){return Mi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function Vi(e){return Mi({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Hi(e){return Mi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function qi(e){return Mi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function Ui(e){return Mi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Gi(e){return Mi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(e)}function Wi(e){return Mi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function Ki(e){return Mi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function Yi(e){return Mi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function Xi(e){return Mi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function Ji(e){return Mi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Qi(e){return Mi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Zi(e){return Mi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function $i(e){return Mi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function er(e){return Mi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(e)}function tr(e){return Mi({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function nr(e){return Mi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function or(e){return Mi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function ir(e){return Mi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function rr(e){return Mi({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function ar(e){return Mi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}var sr=n(579);const lr=e=>{let{onMenuClick:t,expanded:n}=e;const[i,r]=(0,o.useState)(!1),a=(0,o.useRef)(null),s=e=>{a.current&&!a.current.contains(e.target)&&r(!1)};return o.useEffect(()=>(document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}),[]),(0,sr.jsxs)(sn,{className:"header",children:[(0,sr.jsxs)(cn,{className:"left-section",children:[(0,sr.jsx)(bo,{className:"hamburger-button",onClick:t,look:"flat",children:(0,sr.jsxs)("div",{className:"hamburger-icon ".concat(n?"open":""),children:[(0,sr.jsx)("span",{className:"hamburger-line"}),(0,sr.jsx)("span",{className:"hamburger-line"}),(0,sr.jsx)("span",{className:"hamburger-line"})]})}),(0,sr.jsx)("h2",{className:"app-title",children:"Accounting System"})]}),(0,sr.jsx)(dn,{}),(0,sr.jsxs)(cn,{className:"right-section",children:[(0,sr.jsx)("div",{className:"notification-wrapper",children:(0,sr.jsxs)(bo,{className:"notification-button",look:"flat",children:[(0,sr.jsx)(Ri,{className:"notification-icon"}),(0,sr.jsx)(So,{className:"notification-badge",themeColor:"info",size:"small"})]})}),(0,sr.jsx)("div",{className:"divider"}),(0,sr.jsxs)("div",{className:"user-section",ref:a,children:[(0,sr.jsx)(bo,{className:"user-button",look:"flat",onClick:()=>{r(!i)},children:(0,sr.jsxs)("div",{className:"user-info",children:[(0,sr.jsx)("div",{className:"user-avatar",children:(0,sr.jsx)(rr,{})}),(0,sr.jsx)("span",{className:"user-name",children:"Admin"}),(0,sr.jsx)(Bi,{className:"dropdown-arrow ".concat(i?"open":"")})]})}),(0,sr.jsx)(Ci,{show:i,anchor:a.current,popupClass:"user-popup",animate:!1,position:"bottom",align:{horizontal:"right",vertical:"top"},offset:{left:0,top:5},children:(0,sr.jsxs)("div",{className:"popup-content",children:[(0,sr.jsxs)("div",{className:"popup-header",children:[(0,sr.jsx)("div",{className:"popup-avatar",children:(0,sr.jsx)(rr,{})}),(0,sr.jsxs)("div",{className:"popup-user-info",children:[(0,sr.jsx)("span",{className:"popup-user-name",children:"Admin"}),(0,sr.jsx)("span",{className:"popup-user-email",children:"admin@example.com"})]})]}),(0,sr.jsx)("div",{className:"menu-separator"}),(0,sr.jsxs)("ul",{className:"popup-menu",children:[(0,sr.jsx)("li",{children:(0,sr.jsxs)(bo,{look:"flat",className:"menu-item",children:[(0,sr.jsx)(ar,{className:"menu-icon"}),(0,sr.jsx)("span",{children:"My Profile"})]})}),(0,sr.jsx)("li",{children:(0,sr.jsxs)(bo,{look:"flat",className:"menu-item",children:[(0,sr.jsx)(Hi,{className:"menu-icon"}),(0,sr.jsx)("span",{children:"Settings"})]})}),(0,sr.jsx)("li",{className:"menu-separator"}),(0,sr.jsx)("li",{children:(0,sr.jsxs)(bo,{look:"flat",className:"menu-item menu-item-danger",children:[(0,sr.jsx)($i,{className:"menu-icon"}),(0,sr.jsx)("span",{children:"Sign Out"})]})})]})]})})]})]}),(0,sr.jsx)("style",{children:"\n        .header {\n          background-color: #1976d2;\n          padding: 0 16px;\n          height: 60px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          position: relative;\n        }\n\n        .left-section {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n\n        .right-section {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          position: relative;\n        }\n\n        .hamburger-button {\n          color: white !important;\n          background: transparent !important;\n          border: none !important;\n          padding: 8px !important;\n          height: 40px;\n          width: 40px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 4px;\n        }\n\n        .hamburger-button:hover {\n          background-color: rgba(255,255,255,0.1) !important;\n        }\n\n        .app-title {\n          color: white;\n          font-size: 15px;\n          font-weight: 500;\n          margin: 0;\n        }\n\n        .notification-wrapper {\n          position: relative;\n        }\n\n        .notification-button {\n          color: white !important;\n          background: transparent !important;\n          border: none !important;\n          padding: 8px !important;\n          height: 40px;\n          width: 40px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 4px;\n        }\n\n        .notification-button:hover {\n          background-color: rgba(255,255,255,0.1) !important;\n        }\n\n        .notification-icon {\n          font-size: 16px;\n        }\n\n        .notification-badge {\n          position: absolute;\n          top: 8px;\n          right: 8px;\n          width: 8px;\n          height: 8px;\n          background-color: #38b2ac;\n          border: 2px solid #1976d2;\n          border-radius: 50%;\n        }\n\n        .divider {\n          width: 1px;\n          height: 24px;\n          background-color: rgba(255,255,255,0.2);\n          margin: 0 8px;\n        }\n\n        .user-section {\n          position: relative;\n          height: 40px;\n          display: flex;\n          align-items: center;\n        }\n\n        .user-button {\n          color: white !important;\n          background: transparent !important;\n          border: none !important;\n          padding: 6px 12px !important;\n          height: 40px;\n          display: flex;\n          align-items: center;\n          border-radius: 4px;\n          min-width: 160px;\n          transition: background-color 0.2s ease;\n          position: relative;\n        }\n\n        .user-button:hover {\n          background-color: rgba(255,255,255,0.1) !important;\n        }\n\n        .user-info {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          width: 100%;\n        }\n\n        .user-avatar {\n          width: 28px;\n          height: 28px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 20px;\n          color: white;\n          flex-shrink: 0;\n        }\n\n        .user-name {\n          font-size: 13px;\n          font-weight: 500;\n          color: white;\n          flex: 1;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .dropdown-arrow {\n          font-size: 12px;\n          color: rgba(255, 255, 255, 0.8);\n          margin-left: 4px;\n          transform: rotate(0deg);\n          transition: transform 0.2s ease;\n        }\n\n        .dropdown-arrow.open {\n          transform: rotate(180deg);\n        }\n\n        .user-popup {\n          position: absolute !important;\n          right: 0 !important;\n          top: 100% !important;\n          margin-top: 8px;\n          z-index: 9999;\n        }\n\n        .popup-content {\n          background: white;\n          border-radius: 8px;\n          box-shadow: 0 4px 16px rgba(0,0,0,0.2);\n          min-width: 240px;\n          max-width: 280px;\n          width: 100%;\n          padding: 0;\n          border: 1px solid rgba(0,0,0,0.08);\n          overflow: hidden;\n        }\n\n        .popup-header {\n          padding: 16px;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          background-color: #f8fafc;\n          border-bottom: 1px solid #e2e8f0;\n        }\n\n        .popup-avatar {\n          width: 40px;\n          height: 40px;\n          font-size: 40px;\n          color: #64748b;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n        }\n\n        .popup-user-info {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n          flex: 1;\n          min-width: 0;\n        }\n\n        .popup-user-name {\n          font-size: 14px;\n          font-weight: 600;\n          color: #1e293b;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .popup-user-email {\n          font-size: 12px;\n          color: #64748b;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .popup-menu {\n          list-style: none;\n          margin: 0;\n          padding: 8px;\n        }\n\n        .popup-menu li {\n          margin: 2px 0;\n        }\n\n        .menu-item {\n          width: 100%;\n          text-align: left;\n          padding: 8px 12px !important;\n          font-size: 13px;\n          color: #2d3748 !important;\n          border-radius: 6px;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          transition: all 0.2s ease;\n          cursor: pointer;\n        }\n\n        .menu-item:hover {\n          background-color: #f1f5f9 !important;\n        }\n\n        .menu-item-danger {\n          color: #dc2626 !important;\n        }\n\n        .menu-item-danger:hover {\n          background-color: #fef2f2 !important;\n        }\n\n        .menu-icon {\n          font-size: 14px;\n          opacity: 0.8;\n          width: 16px;\n          text-align: center;\n        }\n\n        .menu-separator {\n          height: 1px;\n          background-color: #e2e8f0;\n          margin: 8px 0;\n        }\n\n        /* Only target the user popup inside the header */\n        .user-popup .k-popup,\n        .user-popup .k-animation-container {\n          position: absolute !important;\n          right: 0 !important;\n          left: auto !important;\n          transform: none !important;\n          z-index: 9999;\n        }\n\n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .user-button {\n            min-width: auto;\n            padding: 6px !important;\n          }\n\n          .user-info {\n            justify-content: center;\n          }\n\n          .user-name, .dropdown-arrow {\n            display: none;\n          }\n\n          .user-avatar {\n            margin: 0;\n          }\n        }\n      "})]})},cr=e=>{let{expanded:t,setExpanded:n}=e;const i=ve(),r=me(),[a,s]=(0,o.useState)(new Set(["masterdata"]));(0,o.useEffect)(()=>{const e=r.pathname,t=new Set;e.startsWith("/forms")?t.add("forms"):e.startsWith("/inventory-adjustment")||e.startsWith("/inventory-transfer")?t.add("inventory"):e.startsWith("/sales-order")||e.startsWith("/item-fulfillment")||e.startsWith("/invoice")||e.startsWith("/credit-memo")||e.startsWith("/debit-memo")||e.startsWith("/customer-payment")?t.add("transaction"):e.startsWith("/purchase-order")||e.startsWith("/item-receipt")||e.startsWith("/vendor-bill")||e.startsWith("/vendor-credit")||e.startsWith("/vendor-payment")?t.add("purchases"):e.startsWith("/journal-entry")?t.add("journal"):(e.startsWith("/customer")||e.startsWith("/vendor")||e.startsWith("/chart-of-account")||e.startsWith("/location")||e.startsWith("/product")||e.startsWith("/tax"))&&t.add("masterdata"),t.size>0&&s(t)},[r.pathname]);const l=[{text:"Forms",icon:"k-i-form",id:"forms",items:[{text:"Form List",icon:"k-i-grid",route:"/forms",selected:"/forms"===r.pathname}]},{text:"Master Data",icon:"k-i-folder-open",id:"masterdata",items:[{text:"Customers",icon:"k-i-user",route:"/customer",selected:r.pathname.startsWith("/customer")},{text:"Vendors",icon:"k-i-hyperlink-email",route:"/vendor",selected:r.pathname.startsWith("/vendor")},{text:"Chart of Accounts",icon:"k-i-table-align",route:"/chart-of-account",selected:r.pathname.startsWith("/chart-of-account")},{text:"Locations",icon:"k-i-pin",route:"/location",selected:r.pathname.startsWith("/location")},{text:"Products",icon:"k-i-shopping-cart",route:"/product",selected:r.pathname.startsWith("/product")},{text:"Taxes",icon:"k-i-calculator",route:"/tax",selected:r.pathname.startsWith("/tax")}]},{text:"Inventory",icon:"k-i-box",id:"inventory",items:[{text:"Inventory Adjustment",icon:"k-i-grid-settings",route:"/inventory-adjustment",selected:r.pathname.startsWith("/inventory-adjustment")},{text:"Inventory Transfer",icon:"k-i-arrow-right",route:"/inventory-transfer",selected:r.pathname.startsWith("/inventory-transfer")}]},{text:"Sales",icon:"k-i-dollar",id:"transaction",items:[{text:"Sales Order",icon:"k-i-grid",route:"/sales-order",selected:r.pathname.startsWith("/sales-order")},{text:"Item Fulfillment",icon:"k-i-check",route:"/item-fulfillment",selected:r.pathname.startsWith("/item-fulfillment")},{text:"Invoice",icon:"k-i-dollar",route:"/invoice",selected:r.pathname.startsWith("/invoice")},{text:"Credit Memo",icon:"k-i-minus",route:"/credit-memo",selected:r.pathname.startsWith("/credit-memo")},{text:"Debit Memo",icon:"k-i-plus",route:"/debit-memo",selected:r.pathname.startsWith("/debit-memo")},{text:"Customer Payment",icon:"k-i-dollar",route:"/customer-payment",selected:r.pathname.startsWith("/customer-payment")}]},{text:"Purchases",icon:"k-i-cart",id:"purchases",items:[{text:"Purchase Order",icon:"k-i-grid",route:"/purchase-order",selected:r.pathname.startsWith("/purchase-order")},{text:"Item Receipt",icon:"k-i-check",route:"/item-receipt",selected:r.pathname.startsWith("/item-receipt")},{text:"Vendor Bill",icon:"k-i-dollar",route:"/vendor-bill",selected:r.pathname.startsWith("/vendor-bill")},{text:"Vendor Credit",icon:"k-i-minus",route:"/vendor-credit",selected:r.pathname.startsWith("/vendor-credit")},{text:"Vendor Payment",icon:"k-i-dollar",route:"/vendor-payment",selected:r.pathname.startsWith("/vendor-payment")}]},{text:"Journal",icon:"k-i-book",id:"journal",items:[{text:"Journal Entry",icon:"k-i-edit",route:"/journal-entry",selected:r.pathname.startsWith("/journal-entry")}]},{text:"Reports",icon:"k-i-chart",id:"reports",items:[{text:"Charts",icon:"k-i-file-txt",route:"/charts",selected:"/charts"===r.pathname},{text:"COA Relation",icon:"k-i-table-align",route:"/coa-relation",selected:"/coa-relation"===r.pathname}]}],c=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=e.selected,d=e.items&&e.items.length>0,u=a.has(e.id),p=d&&t&&u,h=e.id||e.route||"".concat(e.text,"-").concat(o);return(0,sr.jsxs)("div",{className:"menu-item-container",children:[(0,sr.jsx)("div",{className:"drawer-item ".concat(r?"selected":""," ").concat(d?"has-submenu":""," ").concat(o>0?"submenu-item":""),onClick:()=>(e=>{if(e.items){const t=a.has(e.id);s(n=>{const o=new Set(n);if(t){o.delete(e.id);const t=e=>{e.items&&e.items.forEach(e=>{e.id&&(o.delete(e.id),t(e))})};t(e)}else o.add(e.id),["forms","inventory","transaction","masterdata","purchases","journal","reports"].includes(e.id)?["forms","inventory","transaction","masterdata","purchases","journal","reports"].forEach(t=>{if(t!==e.id){o.delete(t);const e=l.find(e=>e.id===t);e&&e.items&&e.items.forEach(e=>{e.id&&o.delete(e.id)})}}):"customers"!==e.id&&"vendors"!==e.id&&"chart-of-account"!==e.id||(["customers","vendors","chart-of-account"].forEach(t=>{t!==e.id&&o.delete(t)}),o.add("masterdata"));return o})}else e.route&&(i(e.route),window.innerWidth<768&&n(!1))})(e),children:(0,sr.jsxs)("div",{className:"item-content",children:[(0,sr.jsx)("span",{className:"menu-icon ".concat(e.icon)}),(0,sr.jsxs)("div",{className:"item-text-container ".concat(t?"visible":""),children:[(0,sr.jsx)("span",{className:"item-text",children:e.text}),d&&t&&(0,sr.jsx)("span",{className:"submenu-arrow k-i-arrow-chevron-right ".concat(u?"expanded":"")})]})]})}),p&&(0,sr.jsx)("div",{className:"submenu",children:e.items&&e.items.map((e,t)=>c(e,o+1))})]},h)};return(0,sr.jsx)("div",{className:"drawer-container ".concat(t?"expanded":""),children:(0,sr.jsx)("div",{className:"drawer-content",children:l.map((e,t)=>c(e))})})},dr={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"https://localhost:7184",ur={"Content-Type":"application/json",Accept:"application/json"},pr={baseURL:dr,headers:ur,endpoints:{recordType:"/record-type",forms:"/form",formByRecordType:e=>"/form/by-type-of-record/".concat(e),formByTypeOfRecord:e=>"/form/by-type-of-record/".concat(e),formSequence:"/form-sequence",formSequenceByForm:e=>"/form-sequence/by-form/".concat(e),customFormField:"/custom-form-field",customFormFieldByForm:e=>"/custom-form-field/by-form/".concat(e),customFieldValue:"/custom-field-value",customFieldValueByTypeAndRecord:(e,t)=>"/custom-field-value/by-type-and-record?typeOfRecord=".concat(e,"&recordId=").concat(t),chartOfAccount:"/chart-of-account",chartOfAccountByParentNumber:e=>"/chart-of-account/by-parent-number/".concat(e),salesOrderLine:"/salesorderline",salesOrderLineByOrder:e=>"/salesorderline/by-salesorder/".concat(e),itemFulfillmentLine:"/item-fulfilment-line",itemFulfillmentLineByOrder:e=>"/item-fulfilment-line/by-item-fulfilment/".concat(e),itemFulfillmentLineByFulfillment:e=>"/item-fulfilment-line/by-item-fulfillment/".concat(e),invoice:"/invoice",invoiceByCustomer:e=>"/invoice/by-customer/".concat(e),invoiceLine:"/invoice-line",invoiceLineByInvoice:e=>"/invoice-line/by-invoice/".concat(e),tax:"/tax",inventoryAdjustment:"/inventory-adjustment",inventoryAdjustmentById:e=>"/inventory-adjustment/".concat(e),inventoryAdjustmentLine:"/inventory-adjustment-line",inventoryAdjustmentLineByAdjustment:e=>"/inventory-adjustment-line/by-adjustment/".concat(e),inventoryTransfer:"/inventory-transfer",inventoryTransferById:e=>"/inventory-transfer/".concat(e),inventoryTransferLine:"/inventory-transfer-line",inventoryTransferLineByTransfer:e=>"/inventory-transfer-line/by-transfer/".concat(e),purchaseOrder:"/purchase-order",purchaseOrderById:e=>"/purchase-order/".concat(e),purchaseOrderLine:"/purchase-order-line",purchaseOrderLineByOrder:e=>"/purchase-order-line/by-order/".concat(e),itemReceipt:"/item-receipt",itemReceiptById:e=>"/item-receipt/".concat(e),itemReceiptLine:"/item-receipt-line",itemReceiptLineByReceipt:e=>"/item-receipt-line/by-receipt/".concat(e),vendorBill:"/vendor-bill",vendorBillById:e=>"/vendor-bill/".concat(e),vendorBillByVendor:e=>"/vendor-bill/by-vendor/".concat(e),vendorBillLine:"/vendor-bill-line",vendorBillLineByBill:e=>"/vendor-bill-line/by-bill/".concat(e),vendorCredit:"/vendor-credit",vendorCreditById:e=>"/vendor-credit/".concat(e),vendorCreditLine:"/vendor-credit-line",vendorCreditLineByCredit:e=>"/vendor-credit-line/by-credit/".concat(e),standardField:"/standard-field",standardFieldByRecordType:e=>"/standard-field/by-record-type/".concat(e),creditMemo:"/credit-memo",creditMemoByCustomer:e=>"/credit-memo/by-customer/".concat(e),debitMemo:"/debit-memo",debitMemoByCustomer:e=>"/debit-memo/by-customer/".concat(e),customer:"/customer",vendor:"/vendor",product:"/product",location:"/location"}},hr=e=>{const t=e.startsWith("/")?e:"/".concat(e);return"".concat(dr).concat(t)},mr=(pr.endpoints.salesOrderLine,pr.endpoints.itemFulfillmentLine,pr.endpoints.invoiceLine,pr.endpoints.inventoryAdjustmentLine,pr.endpoints.inventoryTransferLine,pr.endpoints.purchaseOrderLine,pr.endpoints.itemReceiptLine,pr.endpoints.vendorBillLine,pr.endpoints.vendorCreditLine,o.createContext(null)),fr=["name","component","validator","children","onChange"],gr=e=>{const{name:t,component:n,validator:i,children:r,onChange:a}=e,l=s(e,fr),c=o.useContext(mr),d=c?c.id:"";o.useEffect(()=>c?c.registerField(t,i):void 0,[t,d,i]);const u=o.useCallback(e=>{const n=e&&(void 0!==e.value?e.value:e.target?e.target.value:e.target);c.onChange(t,{value:n}),a&&a.call(void 0,e)},[t,d,a]),h=o.useCallback(e=>c.onChange(t,{value:e.target.value}),[t,d]),m=o.useCallback(()=>c.onBlur(t),[t,d]),f=o.useCallback(()=>c.onFocus(t),[t,d]);if(!c)return null;const g=c.valueGetter(t);return"string"==typeof n?o.createElement(n,p({onChange:h,onBlur:m,onFocus:f,value:g,children:r},l)):o.createElement(n,p(p({children:r},l),{},{onChange:u,onBlur:m,onFocus:f,value:g,validationMessage:c.errors[t],touched:c.touched[t],modified:c.modified[t],visited:c.visited[t],valid:!(c.errors[t]&&c.touched[t]),name:t}))};gr.displayName="KendoReactField";function vr(e){const t={};return yr(e,t),t}function yr(e,t){for(const n in e)if("__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&e.hasOwnProperty(n)){const o=e[n];t[n]=xr(o,t[n])}}function xr(e,t){if(Array.isArray(e))return br(e);if(e instanceof Date)return(e=>e?new Date(e.getTime()):null)(e);if(o.isValidElement(e))return o.cloneElement(e,e.props);if(e&&"object"==typeof e){const n=t||{};return yr(e,n),n}return e}function br(e){return e.map(e=>xr(e,void 0))}function wr(e){const t=[];return e.replace(Ht,function(e,n,o,i){t.push(void 0!==n?n:o||i)}),t}const kr={};function Cr(e){if(kr[e])return kr[e];const t=wr(e);return kr[e]=function(e){let n=e;for(let o=0;o<t.length&&n;o++)n=n[t[o]];return n},kr[e]}kr.undefined=()=>{};const Sr={undefined:e=>e},Ir=(e,t)=>t&&t.arrays&&!isNaN(Number(e))?[]:{};const Er=jr;function jr(e,t){const n=Pr();return jr=function(t,o){let i=n[t-=458];if(void 0===jr.HNXGMp){jr.hsTxhI=function(e){let t="",n="";for(let o,i,r=0,a=0;i=e.charAt(a++);~i&&(o=r%4?64*o+i:i,r++%4)?t+=String.fromCharCode(255&o>>(-2*r&6)):0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let o=0,i=t.length;o<i;o++)n+="%"+("00"+t.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,jr.HNXGMp=!0}const r=t+n[0],a=e[r];return a?i=a:(i=jr.hsTxhI(i),e[r]=i),i},jr(e,t)}!function(e){const t=jr,n=e();for(;;)try{if(910208===-parseInt(t(597))/1+-parseInt(t(469))/2+-parseInt(t(631))/3+parseInt(t(592))/4*(parseInt(t(616))/5)+parseInt(t(589))/6*(parseInt(t(622))/7)+-parseInt(t(541))/8*(-parseInt(t(490))/9)+-parseInt(t(561))/10*(-parseInt(t(566))/11))break;n.push(n.shift())}catch(o){n.push(n.shift())}}(Pr);const Ar=Er(582),_r=Er(590),Dr=Er(464);function Nr(e){const t=Er;return Math[t(546)](e[t(640)]()/1e3)}function Tr(e,t){const n=Er,o=new Date(1e3*e);return o[n(636)](o[n(555)]()+t),Nr(o)}function Pr(){const e=["ls0Tls1cruDjtIbqvujmsumGs0vzls0Tls0","vg8Gy29UDgLUDwuGDxnPBMCGB3vYihbYB2r1y3qSignVBNnPzgvYihvWz3jHzgLUzYb0BYbHignVBw1LCMnPywWGBgLJzw5Zzs4G","vw5RBM93BIbSAwnLBNnLigv2AwrLBMnLihr5Cgu","DvrmvhK","ndG5mJG5wNrXzwTk","icbby2nLC3mGDg8GDgHLigXHDgvZDcb1CgrHDgvZigfUzcbZDxbWB3j0ihjLCxvPCMvZigeGpgeGAhjLzJ0I","zNDuAey","DuzLreu","vwrwt2y","swXUqK8","icbmzwfYBIbTB3jLigfIB3v0ia","D2fYBG","igHHCYbLEhbPCMvKia","Dxvbywy","uKTnquy","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","icbuBYbJB250Aw51zsb1C2LUzYbVDxiGChjVzhvJDcWGy29UC2LKzxiGDxbNCMfKAw5NihrVigeGy29TBwvYy2LHBcbSAwnLBNnLoIbODhrWCZOVl3bYz3jLC3mUy28Vm0m5BxiXtq","zw5JB2rL","BMrtt3a","zgvJB2rL","igfUzcbPCYbUB3qGDMfSAwqGzM9Yia","ihzLCNnPB24G","BLDlEhq","nvbmC21cBG","u0Hblti1nG","DhjPBq","sNPbt0m","BMfTzq","C3rYAw5NAwz5","mZqZntK0m2j3DMzRtG","C3bRAq","igXPy2vUC2LUzZWVyt4U","y2XLyxi","vwDLBLq","igLZig5VDcbSAxn0zwqGAw4GEw91CIbJDxjYzw50igXPy2vUC2uGzMLSzs4k","zgf0yq","su5HEfC","su5gtW","mtK5otqZnhbPu3vVvq","CvLhtK0","z2Levxu","y25ot1q","iJ52ywXPzcbSAwnLBNnLpc9HpI4","C2v0rgf0zq","ls0Tls1ftKqGufvcteLdieTfws0Tls0T","reHSBwC","igXPy2vUC2LUzYbHDca","z2v0vgLTzq","B2jQzwn0","veTmmJaZ","yxrVyIbPCYb1BMrLzMLUzwq","vg8Gy29UDgLUDwuGDxnPBMCGDgHLihbYB2r1y3qSigLUC3rHBgWGysa8ysbOCMvMpsi","AgrJDuS","D2PQwxq","y29Kzq","CMvWBgfJzq","tgLJzw5ZzsbRzxKGBwLZC2LUzYbMB3iG","s2LqEge","rwHVAue","zNjVBq","A3zzBvG","iJ5OB3CGDg8GC2v0ihvWigeGBgLJzw5ZzsbRzxK8l2e+lG","ls0Tls1cruDjtIbqvujmsumGs0vzls0Tls0ktuLjqKLQqu5cz2TXAgTPrZL3mejbuuvgqufpq0froefnsuLcq2Dlq0frrueYBw5vvK1TA3rOmNGRtI9prhn6rWPprKLzqKW2tK9pmvHxuMOXD2TTzwnlDuX6AuPeAez6mfDrBxLpALKZnfLTzZLWthvcqtLru1DYCLP1DLb3ndbocM0Wwc9hqM10DezTue52y2eZv21kmM9lttDqCeXPvvu5zJDpDJvxzuLyBNGRk3rZl0Xdl09cn0z0wITmAvjNsJCkmg1ABLbLvg9NzezYqvnMmhPtuuP2ngPTwdG0meXqytzUB21xzvvNsvzhueXmvKKXneDPyJHeBcTUt2nRCunoyWPRqvvvAZrjqKy2n0r1zLj0oxPrEvj4zZK5ExnHA3ziwdjtrgjKr3zjqMr4v3H2AgHTCKjVzwL4mhvtvNrhmMDTcMPKDLnXBfbkvMr2twjRmvHLmITtvwXKsLbYEeGXvNjuwwvsvxq0ExfxEhKXnM5gsLveAJLLEfOYmdjynfriA1uksLfjrefrquikls0Tls1ftKqGufvcteLdieTfws0Tls0T","ww91CIbSAwnLBNnLigLZig5VDcb2ywXPzcbMB3iG","ChjVzhvJDe5HBwu","zxHWAxjHDgLVBG","C2nYAxb0s2v5","mtCZoti3ngHoqM1fsG","iJ52ywXPzcbSAwnLBNnLpc9HpI4G","v0fstG","z2v0rNvSBfLLyxi","DhLWzq","rurLCLy","ChvZAa","veTmmJa0","DxnHz2u","ywrK","AgfZ","ww91CIbJDxjYzw50igXPy2vUC2uGAgfZigv4CgLYzwqGB24G","ww91CIbuCMLHBcbSAwnLBNnLihDPBgWGzxHWAxjLigLUia","CMvKAxn0CMLIDxrLzej5","t2reCw8","BM90AwzPy2f0Aw9UtwvZC2fNzq","DxnLCKLK","Dg9mB2nHBgveyxrLu3rYAw5N","tM8GBgLJzw5ZzsbMB3vUzcbMB3iG","DKjtufC","z3jVDxbfBMq","mtC5mdfJtvvMteS","C2v0","Aw1WB3j0s2v5","icbuBYbHy3f1AxjLigeGy29TBwvYy2LHBcbSAwnLBNnLlcb2AxnPDcbODhrWCZOVl3bYz3jLC3mUy28Vm1b5seLVsa","z2v0tw9UDgG","DMvYAwz5","CuPtu2q","uMvUzxCGpgeGAhjLzJ0IAhr0Chm6lY9WCMDYzxnZlMnVlZnqD1foAteIpNLVDxiGBgLJzw5ZztWVyt4Gyw5KigrVD25SB2fKigeGBMv3igXPy2vUC2uGA2v5lG","zMLSDgvY","z3jVDxa","yMTzz0y","q1bZruG","y2f0y2G","r3HAvuO","CgvYCgv0DwfS","uK95qMu","icbuBYbKB3DUBg9HzcbHigXPy2vUC2uGA2v5igzPBguSihzPC2L0igH0DhbZoI8VChjNCMvZCY5JBY8ZuhDrtuTA","C29YDa","DvD5uwG","ywXNB3jPDgHT","uLnbu1nblvblq1mXlxyXxZu","BwfW","ww91CIb0CMLHBcbSAwnLBNnLigzVCIa","A09kDLi","DMvYC2LVBG","lIbuAguGChjVzhvJDcb3yxmGChvIBgLZAgvKig9Uia","Dw5KzwzPBMvK","DuHyA3O","z2v0","ChvIBgLZAerHDgu","DhLW","C3bSAwnL","DgHLBG","zMLUza","C2XPy2u","tvfXDNe","icbszw5LDYb5B3vYigXPy2vUC2uGyxqGAhr0Chm6lY9WCMDYzxnZlMnVlZnqEdLTnuy","BwvZC2fNzq","ven5Afu","terPq2y","tKfvEfa","igfNBY4G","zNvUy3rPB24","Aw5JBhvKzxm","ChjVzhvJDhm","sw52ywXPzcbSAwnLBNnLigv2AwrLBMnL","ChjVzhvJDenVzgu","EertsLq","ww91CIb0CMLHBcbOyxmGzxHWAxjLzca","DxrMoa","ywXS","ndi0zfLHDuje","igrHEsHZksbHz28UcG","t3HowxK","zNjVBunOyxjdB2rL","CfPryNK","zMXVB3i","BgLJzw5Zzxm","C3bSAxq","Exvfv28","igrHEsHZks4k","qLrRtNO","DgLTzxn0yw1W","BgLJzw5ZAw5Nrg9JC1vYBa","ChjVzhvJDenVzgvZ","z2v0rgf0zq","wfvkCKq","C3vIrxe","AxnbCNjHEq","C3vIDgXL","veTmmJaY","mtqWotb5EK5RyLG","lcb3zsbOB3bLihLVDsbLBMPVEwvKihLVDxiGDhjPywWGCgvYAw9KlGO","CgfYC2u","icbuAgfUAYb5B3uGzM9YihrYEwLUzYbVDxqG","wfjeuvm","ndK3mLbyuKHnwq","rw5fuKS","CgfYC2vjBNq","wfvXC20","AwXyq20","C3vIC2nYAxb0Aw9U","icbbigXPy2vUC2uGA2v5igLZihjLCxvPCMvKigzVCIbIB3rOihbHAwqGyw5KihrYAwfSihvZywDLlIbmzwfYBIa8ysbOCMvMpsi","u3rVuxq","DhjPywW","y2HHCKnVzgvbDa","veDctxi","CKf4Dxu","z1H6quu","veTmmJaX","yMfZzty0","BgvUz3rO","vgvSzxjPAYbmAwnLBNnLiev2AwrLBMnL","q0vbr0y","tgvHCM4GBw9YzsbHyM91Dca8ysbOCMvMpsjODhrWCZOVl3bYz3jLC3mUy28Vm1b3uu1Kwci+","C2v2zxjPDhK","tM8GvgvSzxjPAYbHBMqGs2vUzg8GvuKGtgLJzw5ZzsbMB3vUzc4k","AM9PBG","Dg9tDhjPBMC","nNjiq0DIzG","vgvSzxjPAYbHBMqGs2vUzg8GvuKGtgLJzw5ZAw5N","Ee1Hvu8","nJGWotKXmNPXy3D4AW"];return(Pr=function(){return e})()}function Mr(){return Nr(new Date)}function Or(e){const t=Er,n=function(e){const t=Er;if(typeof atob===t(532)){if(t(488)===t(488))return atob(e);_0x3f9147=new _0x142e0d(_0xa4812e[t(466)],_0x382d22[t(514)],_0x2febde[t(553)])}if(typeof Buffer===t(532)){if(t(474)===t(474))return Buffer[t(461)](e,t(580))[t(588)](t(539));_0x2b2088[t(521)](3,0,"")}throw new Error(t(643))}(e),o=new Uint8Array(n[t(581)]);for(let i=0;i<n[t(581)];i++){if(t(565)!==t(565))return _0x1ec36d[t(546)](_0x4f8442[t(640)]()/1e3);o[i]=n[t(575)](i)}return o}function Rr(e){const t=Er;return Or(e[t(648)](/-/g,"+")[t(648)](/_/g,"/"))}function Lr(e){return new Date(1e3*e)}function Fr(e,t){const n=Er,o=Lr(t);return e>new Date(o[n(472)](),o[n(494)](),o[n(555)]()+1)[n(640)]()/1e3}function zr(e,t){const n=Er;var o,i;let r=[];if((null===(o=e[n(547)])||void 0===o?void 0:o[n(581)])>0){var a,s;if(n(460)===n(573))return(null===(a=_0x1d71c2[n(547)])||void 0===a?void 0:a[n(581)])>0&&_0x1f2346[n(540)](null===(s=_0x3d6149[n(547)])||void 0===s?void 0:s[n(511)](e=>_0x2ea74c(e,_0x2fde18)))[n(522)](()=>{_0x3b5989=!0})[n(502)](()=>{_0x260db5=!1,_0x563f2c[n(625)]()}),_0x23b3af;r=e[n(547)][n(511)](e=>function(e){const t=Er,n=e[t(548)](".")[1],o=String[t(544)](...Rr(n));return JSON[t(563)](o)}(e))}else if((null===(i=e[n(534)])||void 0===i?void 0:i[n(581)])>0){var l,c;if(n(556)!==n(556))return _0x174020[n(536)]===_0xe32b2c[n(647)]||(null===(l=_0xcbbcd9[n(482)])||void 0===l?void 0:l[n(533)](_0x1bcf3a[n(647)]))||(null===(c=_0x3585ec[n(554)])||void 0===c?void 0:c[n(533)](_0x347526[n(647)]));r=e[n(534)][n(511)](t=>({type:t[n(574)]?n(574):n(504),code:t[n(647)],expiration:t[n(608)],licenseId:null,userId:e[n(485)]}))}return function(e,t){const n=Er,o=t[n(498)](e=>e[n(473)]!==n(477))[n(498)](t=>{const o=n;var i,r;if(o(557)===o(557))return e[o(536)]===t[o(647)]||(null===(i=e[o(482)])||void 0===i?void 0:i[o(533)](t[o(647)]))||(null===(r=e[o(554)])||void 0===r?void 0:r[o(533)](t[o(647)]));_0xe9a631=new _0x2ab351(_0x4e77cc[o(466)],_0x40763d[o(514)],_0x5859bd[o(553)])})[n(507)]((e,t)=>t[n(467)]-e[n(467)]);return o[n(523)](e=>e[n(473)]===n(571)&&!Fr(Mr(),e[n(467)]))||o[n(523)](t=>t[n(473)]===n(504)&&!Fr(e[n(519)],t[n(467)]))||o[n(523)](e=>e[n(473)]===n(571)&&!Fr(Tr(Mr(),10),e[n(467)]))||o[n(523)](e=>e[n(473)]===n(574)&&!Fr(Mr(),e[n(467)]))||o[n(523)](e=>e[n(473)]===n(571))||o[n(523)](e=>e[n(473)]===n(504))||o[n(523)](e=>e[n(473)]===n(574))}(t,r)}class Br{constructor(e,t,n){const o=Er;this[o(466)]=e,this[o(585)]=o(471),this[o(647)]=o(579),this[o(527)]=o(586)+o(506),this[o(484)]=o(458)+e+" v"+t+"."+(o(572)+n+o(463))}}class Vr{constructor(e,t,n){const o=Er;this[o(466)]=e,this[o(585)]=o(471),this[o(647)]=o(560),this[o(527)]=e+o(627)+(o(603)+e+o(639)+n),this[o(484)]=o(487)+e+" v"+t+"."+(o(598)+n+o(635))}}class Hr{constructor(e,t,n){const o=Er;this[o(466)]=e,this[o(585)]=o(471),this[o(647)]=o(642),this[o(527)]=o(538)+n+o(542)+(o(564)+e+o(562))+o(609),this[o(484)]=o(512)+e+" v"+t+o(605)+n+o(531)+o(594)+(o(584)+e+o(624))}}class qr{constructor(e,t,n,o,i){const r=Er;this[r(466)]=e,this[r(585)]=r(471),this[r(647)]=r(476);const a=n?r(614)+n:"";this[r(527)]=r(480)+t[r(486)]()+r(613)+""+e+a+r(515)+o[r(486)]()+".\n"+r(526),this[r(484)]=r(465)+e+" v"+n+". "+(r(644)+i+r(470))+r(497)}}class Ur{constructor(e,t){const n=Er;this[n(466)]=e,this[n(585)]=n(630),this[n(527)]=n(481)+-t+n(550)+n(493)}}async function Gr(e,t){const n=Er;if(typeof crypto!==n(641)||typeof crypto[n(559)]!==n(641)||typeof TextEncoder!==n(532)||typeof TextDecoder!==n(532)){if(n(529)!==n(578))return;{const e=_0x12d2c6[n(563)](_0x9f2c78(_0x43319b));_0x5e1466[n(558)](e[3])&&e[n(521)](3,0,"");const t={products:e[1][n(511)](e=>{let[t,n,o]=e;return{code:t,licenseExpirationDate:n,trial:_0x2b8ae3(o)}}),userId:e[2],integrity:e[3],licenses:e[4],scriptKey:!0};try{const e=_0x212110[n(563)](_0x2eccfe[n(628)]);t[n(534)]=[...e[n(534)],...t[n(534)]],t[n(547)]=[...e[n(547)],...t[n(547)]]}catch(h){}_0x53734a[n(628)]=_0x1e6d93[n(621)](t)}}const o=crypto[n(559)],[i,r,a]=e[n(548)]("."),s=Rr(a),l=new TextEncoder,c=new TextDecoder,d=l[n(610)](i+"."+r),u=c[n(612)](Rr(i));if(!(JSON[n(563)](u)[n(520)]===Ar)){if(n(629)!==n(505))throw new Error(n(595));{const e=_0x2b8c6b(_0x4e37b9),t=new _0x4d911f(e[n(581)]);for(let o=0;o<e[n(581)];o++)t[o]=e[n(575)](o);return t}}const p=await function(e){const t=Er,n=t(593),o=t(637),i=Or(e[t(648)](n,"")[t(648)](o,"")[t(648)](/\n/gm,""));return crypto[t(559)][t(492)](t(623),i,{name:t(510),hash:t(617)},!0,[t(495)])}(t);if(!await o[n(495)](p[n(509)],p,s,d)){if(n(500)!==n(462))throw new Error(n(535));_0x7e2b1a=_0x50c9e0(_0x465f44,_0x32b805)}}const Wr={data:'  {"products":[],"licenses":["eyJhbGciOiJSUzI1NiIsInR5cCI6IlRlbGVyaWsgTGljZW5zZSBFdmlkZW5jZSJ9.eyJjb2RlIjoiS0VORE9VSVJFQUNUIiwidHlwZSI6InBlcnBldHVhbCIsImV4cGlyYXRpb24iOjE3NjA3NTE4MTMsInVzZXJJZCI6ImZlMDg3YmU0LTVlNjItNGY5MS1iZWYzLTE0MGMwNTM4OTYxMyIsImxpY2Vuc2VJZCI6ImMwZDM1M2UwLTliYmUtNDAxOS05NGJlLWRkYTM1ZGEzOWE3NSJ9.vb6OguOH7GZl8frxb7AV-UhDLcaPPfAoxKXpkIIq_KSBzI7rvZGt4ZlbqkuFhF6t3-SN2Aa-3UyG748uFg6-wX6Um5-m4UXiVdIzJz6yjNdPSpSu1D8RC9fSJIGELodpQ7oK8nlyWa2bYBNk6L-2v9K0QhwG9z5XFCQMSBNQmyXm7ij45tXLrgkvJOA6l12M0RNyMegXrHkwh8H6HE4YYVqXtVw0xjpdS3IxF3TDnMp_Plci5CQ1EC0twpfEPcx9cKzyuDenfDsySLvFvDL3zJbv0Z8U9NH5MwwTkKr4H09j7oQ9Gpu9QH0ryEcW4hAuJwqZFjWxbseohJi_WoLVjg"],"userId":"fe087be4-5e62-4f91-bef3-140c05389613","integrity":"Q6esZpw5/OwDxKS3Y2ru7TBA2+WbJShFZR+KnsAeWRE=","scriptKey":false,"timestamp":1747581398}  '};let Kr=Dr;const Yr=new Map,Xr=new Set;let Jr=!0;function Qr(e){const t=Er,n=JSON[t(563)](Wr[t(628)]),o=!n[t(468)]&&!n[t(552)],i=n[t(468)]&&typeof KendoLicensing===t(516);let r,a,s=!1;if(o||i||!(e=>{const t=Er;var n,o;return(null===(n=e[t(547)])||void 0===n?void 0:n[t(581)])>0&&(t(591)===t(530)?_0x421b4d[t(499)](_0x297151):Promise[t(540)](null===(o=e[t(547)])||void 0===o?void 0:o[t(511)](e=>Gr(e,Kr)))[t(522)](()=>{const e=t;e(567)!==e(576)?Jr=!0:(_0x27973b=new _0x4f1083(_0x13c3b4[e(466)],_0x109720),_0x5328a8=!0)})[t(502)](()=>{const e=t;if(e(615)!==e(615))return _0x4d94b2(_0x3d509c);Jr=!1,Yr[e(625)]()})),Jr})(n)){if(t(601)!==t(601))return new _0x43ed92(1e3*_0x537ca5);r=new Br(e[t(466)],e[t(514)],e[t(553)])}else if(t(549)===t(537)){this[t(466)]=_0x23c718,this[t(585)]=t(471),this[t(647)]=t(476);const e=_0x375945?t(614)+_0xdd19e5:"";this[t(527)]=t(480)+_0x42ec16[t(486)]()+t(613)+""+_0x31dafe+e+t(515)+_0x5c8ae7[t(486)]()+".\n"+t(526),this[t(484)]=t(465)+_0x338eab+" v"+_0x5c788b+". "+(t(644)+_0x4dacc1+t(470))+t(497)}else if(a=zr(n,e),a){if(a[t(473)]===t(574)){if(t(632)===t(543)){var l,c;let e=[];return(null===(l=_0xa7e67c[t(547)])||void 0===l?void 0:l[t(581)])>0?e=_0x1a819d[t(547)][t(511)](e=>_0xb4c6fc(e)):(null===(c=_0xfadd7e[t(534)])||void 0===c?void 0:c[t(581)])>0&&(e=_0xb01d9f[t(534)][t(511)](e=>({type:e[t(574)]?t(574):t(504),code:e[t(647)],expiration:e[t(608)],licenseId:null,userId:_0x496a35[t(485)]}))),_0x3f58c2(_0x352e4e,e)}{const n=function(e){const t=Er,n=Mr()-Nr(e);return Math[t(546)](n/86400)}(Lr(a[t(467)]));if(Fr(Mr(),a[t(467)])){if(t(626)!==t(626)){if(_0x155598[t(479)](_0x12d0ed[t(620)]))return _0x4d8fdc[t(518)](_0x1622cf[t(620)]);const{isLicenseValid:e,message:n}=_0x51f17c(_0x272926),o=_0x453e2c(_0x2b4069);return n&&!_0x555221[t(479)](o)&&(_0x352892(n,_0x344cab),_0x51749a[t(478)](o)),_0x2b72f9[t(491)](_0x111b72[t(620)],e),e}r=new Hr(e[t(466)],e[t(514)],n)}else t(600)===t(513)?(this[t(466)]=_0x35976e,this[t(585)]=t(471),this[t(647)]=t(579),this[t(527)]=t(586)+t(506),this[t(484)]=t(458)+_0x285ad0+" v"+_0x35d2a3+"."+(t(572)+_0x18b9b1+t(463))):(r=new Ur(e[t(466)],n),s=!0)}}else if(a[t(473)]===t(504)||a[t(473)]===t(571)){if(t(545)===t(570))throw new _0x5f0f00(t(535));{let n=a[t(467)];if(a[t(473)]===t(571)){if(t(607)!==t(607))return _0x4365ad[t(461)](_0x407494,t(580))[t(588)](t(539));n=Tr(n,10)}if(Fr(e[t(519)],n)){if(t(634)!==t(634))throw new _0x285b82(t(595));r=new qr(e[t(466)],Lr(a[t(467)]),e[t(514)],Lr(e[t(519)]),e[t(553)])}else t(619)===t(619)?s=!0:(_0x1e4198(_0x431298,_0x4a05b7),_0x39bec4[t(478)](_0x485458))}}}else{if(t(503)===t(459)){const e=_0x469978^_0x2a41e;return _0x1ec978=_0x3937d9,e}r=new Vr(e[t(466)],e[t(514)],e[t(553)])}const d=a,u=(null===d||void 0===d?void 0:d[t(467)])?Lr(d[t(467)]):void 0;return{isLicenseValid:s,licenseType:null===a||void 0===a?void 0:a[t(473)],licenseProductCode:null===d||void 0===d?void 0:d[t(647)],expiration:u,message:r}}function Zr(e){const t=Er;if(Yr[t(479)](e[t(620)])){if(t(577)!==t(606))return Yr[t(518)](e[t(620)]);_0x473c56[t(489)]()}const{isLicenseValid:n,message:o}=Qr(e),i=(r=e)[Er(536)]||r[Er(554)][0];var r;return o&&!Xr[t(479)](i)&&(t(602)!==t(508)?(function(e,t){const n=Er;if(typeof console===n(641))if(n(638)===n(599))_0x3f8ac1=_0x1445aa[n(547)][n(511)](e=>_0x5c7829(e));else{const i="["+e[n(585)]+"]["+_r+"]"+(o?" "+o+":":"")+" "+t[n(466)],r=typeof console[n(499)]===n(532);if(r){if(n(583)===n(611)){if(typeof _0x3aa332===n(532))return _0x4ef116(_0x51dcdd);if(typeof _0x31ba6f===n(532))return _0x4e420a[n(461)](_0x513fbe,n(580))[n(588)](n(539));throw new _0x4e4ff7(n(643))}console[n(499)](i)}else n(633)!==n(646)?console[n(604)](i):_0x5c387f=!0;if(console[n(604)](e[n(527)]),r)if(n(483)===n(501)){const e=_0x4cbcb5[n(563)](_0x16b5e3[n(628)]);_0x3787f6[n(534)]=[...e[n(534)],..._0x4ec76c[n(534)]],_0x56ecb3[n(547)]=[...e[n(547)],..._0x2de826[n(547)]]}else console[n(489)]()}var o}(o,e),Xr[t(478)](i)):_0x5c92dc=new _0x2ff2a0(_0x47c79d[t(466)],_0x2ebc02[t(514)],_0x1f5410)),Yr[t(491)](e[t(620)],n),n}const $r=["telerik.com","progress.com","stackblitz.io","csb.app"],ea=new Map,ta=()=>{const e=Array.from(ea,e=>{let[t,n]=e;return"- ".concat(t,": ").concat(Array.from(n).join(", ")||"all")}).join("\n");console.group("[WARN][Telerik and Kendo UI Licensing] KendoReact"),console.warn("License check was triggered by these premium KendoReact components/features\n".concat(e,"\nSee the full list of free and premium components here: ").concat("https://www.telerik.com/kendo-react-ui/components/free?utm_medium=product&utm_source=console&utm_campaign=dt_kendoreact_freemium")),console.groupEnd(),ea.clear()},na=(e,t)=>{const n=Zr(e),o=$r.some(e=>{var t;return null==(t=globalThis.document)?void 0:t.location.hostname.endsWith(e)});if(!n&&Lo&&t)if(0===ea.size&&setTimeout(ta,1e3),ea.has(t.component)){const e=ea.get(t.component)||[];ea.set(t.component,new Set([...t.features||[],...e]))}else ea.set(t.component,t.features||[]);return n||o};let oa=!1;const ia=()=>{const[e,t]=o.useState(!0),[n,i]=o.useState(!1);o.useEffect(()=>{oa||(i(!0),oa=!0)},[]);const r=o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"16px",right:"16px",padding:"12px",borderRadius:"4px",boxShadow:"0px 4px 5px 0px rgba(0, 0, 0, 0.04), 0px 2px 4px 0px rgba(0, 0, 0, 0.03)",fontSize:"14px",fontWeight:400,lineHeight:"20px",backgroundColor:"#FFC000",color:"#1E1E1E",zIndex:2e3}},o.createElement("span",{style:{display:"flex",alignSelf:"center",marginRight:"8px"}},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1L0 15H16L8 1ZM7 6V11H9V6H7ZM7 14V12H9V14H7Z",fill:"#1E1E1E"}))),o.createElement("span",null,"No valid license found for KendoReact. Learn how to activate your license."),o.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:"24px"}},o.createElement("a",{href:"https://www.telerik.com/kendo-react-ui/components/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-banner",style:{marginRight:"8px",display:"flex"}},o.createElement("button",{title:"Learn More",style:{display:"inline-flex",position:"relative",border:"none",borderRadius:"4px",padding:"5px",backgroundColor:"transparent",transition:"color 0.2s ease-in-out",outline:"none",cursor:"pointer"}},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},o.createElement("path",{d:"M15 8C15 11.8656 11.8656 15 8 15C4.13437 15 1 11.8656 1 8C1 4.13437 4.13437 1 8 1C11.8656 1 15 4.13437 15 8ZM14 8C14 4.6875 11.3125 2 8 2C4.6875 2 2 4.6875 2 8C2 11.3125 4.6875 14 8 14C11.3125 14 14 11.3125 14 8ZM11 6C11 7.4125 10.2687 8.05937 9.73125 8.53125C9.25937 8.94688 9 9.17813 9 10H7C7 8.275 7.84688 7.525 8.40938 7.03125C8.84062 6.65312 9 6.50938 9 6C9 5.45 8.55 5 8 5C7.45 5 7 5.45 7 6H5C5 4.34375 6.34375 3 8 3C9.65625 3 11 4.34375 11 6ZM9 13V11H7V13H9Z",fill:"#1E1E1E"})))),o.createElement("button",{title:"Close",style:{display:"inline-flex",position:"relative",border:"none",borderRadius:"4px",padding:"5px",backgroundColor:"transparent",transition:"color 0.2s ease-in-out",outline:"none",cursor:"pointer"},onClick:()=>{t(!1)}},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},o.createElement("path",{d:"M13 4.41562L9.41563 8L13 11.5844L11.5844 13L8 9.41563L4.41562 13L3 11.5844L6.58437 8L3 4.41562L4.41562 3L8 6.58437L11.5844 3L13 4.41562Z",fill:"#1E1E1E"})))));return o.createElement(o.Fragment,null,o.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,right:0,bottom:0,opacity:.12,zIndex:101,pointerEvents:"none",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABVxSURBVHgB7Z3tVRtJE4WL9zgANgLLGRCCnAGOADmCxRGgDFAGYiOADKQMIAGO9J8ji42g37mjqlUjBgOanpn+uM85sjC2sKzbVd1dVV0tQgghhBBCCCGEEEIIKRPn3Gn1GAlJmmN1pP558J6OX9540ejh4WGlX09OTk7+EZIclXYXlY43+vVflY7PH3wd9c+AY/Wvvcb9/b0bjUYOz/hBQpICmh1oOPrEa6l/4rTR337AhIMgTSqtzg+0m8gnof7p0mD8EzmGhkFwJiR6np6e7luLL9Q/RTDTBzF+7wfWg2CxWOCHjYVET6XTdLPZrFuLL9Q/NeCkoVUQ4/d+6Ijev1yof1rAUVMvQgjJHebrSRu+CEmWo/O8hISgCjStKpgiGoDWed4AUP/hwGf++Pi4hQYyFHgDzBP3T7A8b0uo/zD4+sMBy1CwWKR/YjF+fS/Uv2di0t/eEAdBT0QnvlD/PolR/xoOgu4JUd7bFdS/e6I1foODoFuqz3M2mUziFF+of5dEb/xGwyAYCwmCVuPNYv5MqX94Yl75NWKD4PLyEm92KqQoqH9Y8Bnis0zC+A14LbxxVqiVCfUPh678plxNFYQe5pjRgAgpDAv4IOAHJyCEkDJoiPaeCyG5UA1oRIYWHNivSSbV0wLq/zbQXz+bS8kV/AeZJ35NCcYPqH8zvv4VS8kVFou8phTjB9T/NcVt+zgI9rjQDRwTgPrvKcn5v4CDYIfT/vtFiS/UHxRr/AYHwQ4t9DiVwihZ/+KN36ATKJsS9U+utr9r/EGQdQSUNFKa/geZkImQ/2rHlznnQDG7oX9b9Xwl5AUl6G9oLcSSxl8Q/p4P13YJIaQMisvzEkJ2lJjnJyQY3lnoJGfNUvP8oUhZf7c70s2eCG1wL7uhRJ0iQnCveiDIhzf7t/f9IvP8IUhJfx/b9rErUkvgRVPIE1fv6xrvbzweu7OzM3d7e4v3OhfSilT092HMJzCxF4u43eWctfFvt1uHu9nxXvF1CWmtroldfx9W+HVErINAjX+M65ngAPxnOAJ1AiMhrUjBCdD4Oya2QYBlPwx8vV47WwFg+a+XZbrz83NzANz/ByBmJ0Dj74lYBgECfrbnt6U/DB/vC7388L2rqyu8vzshwYjRCdD4e8YfBLidVgYA0X7M9jB8PGazmbu5ualnfiz9dSAsufwPTwz6+5jjp/H3CD5ofPB9343u9v3u6+U+0jyY7eEA8Hx3d4c/QjvvMyGdMZT+TeA9wBHR+DPHUn3T6bRe7uMxn89tn18v/TH7O17gQEheYM9vEX7M9hbsg/FbHED3/IPPSISQgNhyE0au+7x7PPtOQFcB3PMTMjTYf4cyRN3zL2DgMHgs/7XU99acgDIWEgUh9W/4uWMh8QKBvCh8qxSR7fmxt0eEv8kJ6MzP8/2REFL/g59bp/o0xsMAb6xAnBB5Yr+6D3X9KOpBxP/ACWA0jFnoEw+h9D/4mYd5/pGQeAlRLFK95tJy+35578PDQ+0E9LAPi3wixAUsFmKRT6I0DIIPzdJuf6R3i+UeZnsz/nqjPx47/fMpZ/54OVb/g5/BZi4pY4Pgo8s2d3CkF0Z/cXFRL/+Xy2W9BdBUH4/5JsBn9W94PZu5pI77QzMOjepiNp/j71hO//fv31sr7qmtfT73i3xWjnvAZHhH/4nquXrLwB2bueSJ27Vmvodhq4df4BmzvQb3IPxWl/zgRl/DwZA4GrhdYFUHfbHE1y0enXsJ2FLfCnggvjqBejDoTI8o38ocgJAscNq8BY4fv/Uf+J46gjkdQcbA+19fXzs7zQfR8TWcgH+kFw/u+fMDKz/o3OQETk9PLcWLPSBbeeWELd91eb+CcTc5gXr6r9J8PNKbF/7S3z+6DYcvDasBOv6M0GUduNDfv+cEYPhjIVmA+I3Vc4gaOQzfHAECvb4joAPICCzlrIJP93h/dAIYDBQ/L8wBNC37rXUblv5CB5AfGvi5h6F7Ed9GJ2CZP0b780O1vreVnnhOAFsBOoCMscg/HMBbTsCO+grJFkvvHmYCSnYA/5MMcbsiH6TykNgfr9fry58/f0oltFxcXMj379+l+h42gBcnJyfr6iXfq1nhJ56FZIeuAq+fn59Xv379Oq0CgVJNBEIydAAavLv98ePHeSX4bfX1OQSv9noQ/a7y9A8HTuAcTqB63FSPZyE5Mq3GwOW3b99kNpu9+5e/fv2Kp3+FpAW8vB3cwbLOOvZYfl9LfGdW9KOn+mZCskZXhCuL9vtLfjvshd97hWArpn8TxGn5rhZzOL/gB19DYBzzxcEeTQEtGfArB7c7xbmyVu4YExoTuNcYEL6eCkkTxHYOmna4wzQfvq8z/+o949e940hIkjTp5/ZXjm/1+VQfr856UP/EcLtqr9s/OQENDl5+wPhH3nHQZK6mJjucNvNo2w+A+icC0jaY4a2LT5MT+Mye3+l58JSupiY7XIA2XtQ/IZw2f7D9v+X6D53AZ/f8LqGrqckOF7CNF/VPAF3Or6xvv53r951Amx5+DYOAXWEjxXXQxov6R4zTSzusht8OfABE+r3U39y1iPbbIODVX3ED4/Tagk8kENQ/QiyaC1Fg7PX6frm0Mk6/wUOQ8l799+j9I0cDwcF1ov4R4Xbde2vjxi92ogsPzPrY92szD7buJiQn3K6+v17q2yxvlV1u3+TRAn4jIYTkAfbymOWx1AcwfHMEXp5/JISQ9PEDd867ohvGbvt+cwRe6+5ee7ltNpuVf7yYdA8+68fHxy0+exkY6t8RGnSxJX19yAd7fWvhjEs7NOCHb2D9/+AGqO3HQGSeuD/8PD/GggwM9e8IBPCwr7ciHnzA6NrqtW5+4QRkIByLRXrDRXhXH/XvCKRccEuPX8mHD9jr7Vc7AV32D9rJh4Oge2I0foP6d8QHnADO9kdxYw8HQXfEbPwG9e+It5yAlvdG1beNgyA8KRi/Qf07oskJIEYQw8x/SMMgGAs5CmR0UjF+g/oHwh00YzAn0OZgT1/YINBU5VTIUeCzw2eYivEb1L8l7o1mDm7X220a48x/iNtVLE4dC5OOxu2794wlMaj/kbgAzRwIIQmS4p6PEBKIp6enexo/IYWCPdNms1nnbPxat7BwvH/+P7Dt08/kUjKH+hcOxGeeeI8f86lYSuZQ/8JhsciehoBv9rMi9VdcwZcucBCkVeEXmuL1dy0vbciBkgdBycZvFKs/8/x7ShwENP49xelP8V9T0iBgncdritGfxv82/iDIORJ+EAGfCKnJXn8a//to7fgy51y45sCX1P812erPZR8hBVMZ/Ax9+2j8hBSIHumcpXikkxBCBsXtz8QnUyXndvfz8Sx8AFLUnwTEveyKE32KyAK+7IYThqT0V88/o+cPBz7TVPLEJdb2d00y+pv4elHHTEgwUigWYaq3O6LXn56/e2IeBDT+7olWf4rfHzEOAurfH9HpT/H7J6ZBQP37Jxr9Kf5w+IMAt9PKQOB6NurfP4Prjyg/jX9Y8JnDAHE/vQwE/m0MQOrfP4PqX/3jp15Dj4kQQspCK5SK7OZDCCGEEBIfbneH4kgCoT9vLCQJguqPaD8CDdXzlZDogaEuFotgKSLL9uBnYmAJiZqg+vupPlzbJSR6YKSh8sSODVyTI5j+LO9NlxDFIqzzSJfW+jPPnz4Ng+DDGRvqnz5t9GeePxNsEHx2+U798+BY/e3FzPNnwLE6Uv88oI6EEEIIIYQQQgghhBBCCCGEEEIIIYQQQkiRoHyQxz/T51gdqX8evKfjlzdeNHp4eFjp15OTk5N/hCQHjoFWOt7o139VOj5/8HXUPwOO1f+/02ApXEhJmmnTzIP6p49r28wlRFMJMgwhmnlQ/3RB854g/RwaBgF7wkVOyGYe1D9N0L4vWDMXGwTaFHIsJGpgpF5TyIm0hPqnR6XTdLPZrF2oZi7aVIDePxFgqCH1ov6EEEIIITHRtl7jixBCkuToPH8ocGMQrihmiqh/8Jnjau6hrwen/sPQOs8fAgxA5on7xxcfBigDQf2HIUSdR6g3wmKRnolGfKH+QxCT/vaGOAh6Ijrxhfr3SYz613AQdE+04gv174Ng5b1dwUHQHTEbv0H9u6X6PGeTySTu69oaBsFYSCui9/we1L87tBpzFv1naoPg8vISA2AqpBX4DPFZxm78BvUn9awF8R07yrRGPf80pdmU+hNCyJHoYa4ZHSghhWEBXwT84ASEEFIGDdmec8mJ6j+EyNAiu/9YACC+fjaXkinU/21SSPW2BuIzT/waX/yKpWQK9W+mCOMHLBZ5TfbLPg/q/5pijN/gINhTnPhC/X1cwAauScFBUKbxG9R/h9P7F0rTv6bkQVCy8Rt0Aju00OtUSqTEQZBSbX/X0AmQF4Mg5wi4cRAJn0jhlKY/aUBrx5c558ANzYUvafx7StAfqxv0UKyer4QQUg5+zAfXdgkhpAxKqvMghHgUm+cPhdufhU/Oa+qRTp6Jb0HK+oOi8/whcC+74SSTIrJlH7vitCMl/RHcqx4I8uHN/u19v9w8f1swi6aWJ+aeLxyp6F+9r2u8v/F47M7Oztzt7S3e61xIe1IqFmGFX3hi19/tLuesjX+73brFYlG/V3xdQlq7F1JwAjT+7ohVfzX+Ma5ngwPwn+EI1AmMhLQnZidA4++e2PTHsh8Gvl6vna0AsPzXy1Ld+fm5OQDu/0MRoxOg8fdHLPoj4Gd7flv6w/DxvtDLD9+7urrC+7sTEhZ/EOB2WhkYE57G3w8x6I9oP2Z7GD4es9nM3dzc1DM/lv46FpZc/ncEBgEMD7XVMjB4DxiINP7+GEp/t7/voF7uI0WJ2R4OAM93d3f4I7TzPhNCSD5Yqm86ndbLfTzm87nt8+ulP2Z/x+vQCMkL7Pktwo/Z3oJ9MH6LA+ief/AVKSEkILbdgJHr3v4ez74T0FUA9/wxgP1XF0Lozx0LiZqQ+uuefwEDh8Fj+a+lvrfmBJSxkOGBEF4UNliKyFJ9usdjgCdSQupve37s7RHhb3ICOvPzfH8swDhD54kb8vwjIVESSn+/ug91/SjqQcT/wAlgNhiz0CcyQhaLsMgnPULoX73m0nL7fnnvw8ND7QT0sA+LfGKlYRB82ks7NnNIlmP1d/sjvVtsJTDbm/HXG/3x2OmfTznzR44NgmOX7Y7NHJLms/q7gyO9MPqLi4t6+b9cLustgKb6eMw3FdwfmjFggKg3X71l4I7NHJLmHf3PVPs5/o7l9H///r214p7a2udzv8hn5RgDShsN3Czg1SE4lom6xKO4heB2rdnvYdi6QljgGbO9BvfgOLa65Ac3+hpOBinjtHkDhMdv/Qe+p45gTkeQL7bUtwIeaK5OoJ4MdKZHlG9lDkBIPsDzQ/QmJ3B6emopHqwB2corQzDDX19fOzvNh7GAr+EE/CO9eHDPnxH+0t8/ugnBpWE1QOHzwpbvurxfwbibnEA9/VdpPh7pzQjs3yyfK2rkMHxzBAj0+I6ADiAvdFsHLvT37zkBGP5YSB6YA2ha9lvrJiz9hQ4gO7CVswo+jfH80QlgMqD2GaKC35unF88JYCtAB5AnGvi9h6F7GZ9GJ2CZP0b7M8XSO4eZADqAvLHIPxzAW07AjvpKYfxPCkBngevn5+fVr1+/TqtAoFQDQUieuF2RD1J5SOyP1+v15c+fP6Vy9HJxcSHfv3+X6nsIAF2cnJysq5d8r1YAP/EshVGEA6iYVkZ/+e3bN5nNZu/+5a9fv+LpXyHJocG72x8/fpxXDv+2+vocDr+K9cDp31UrvYcDJ3AOJ1A9bqrHs5D80BlhZdF+f8lvhz3we68QZMX0T3pglWcHd6Cjdeyx/L6W+M6s6EdP9c2ElIHbneJaWStnFIRoTOBe94D4eiokSZyW72oxl/MLfvA1jB6642CPpoCXDPhljO79RwffG6kj2OrzqT5e1Xo3vZ7EC2K7B0073GGaD9/XmX/1nvFT/4Rx2syjbT+AIW+gIZ/D7ao9b//kBDQ4ePkB46f+qeICtPFy2g8gpavJSwZpW8zw1sWnyQl8Zs9P/RPFBWzj5RK6mrxkTCfb/1uu/9AJfHbPT/0Tw3XQxqthELArcETocn5lffvtXL/vBNr08KP+CQFxvLbQEwmEDQJe/RQXTi/tsBp+O/AFEOn3Un9z1yLaT/0TQgNBwb20Zg/o/SPBsjkwShh7vb5fLq2M22/wEqS8V/+9sRBChsXtuvfWxo1f7EQnHpj1se/XZh5s3U1ITrhdfX+91LdZ3io73b7JqwX8RkIIyQPs5THLY6kPYPjmCLw8/0hI3iAd8/j4uN1sNisZGLwH/3gpCYcfuHPeFd0wdtv3myPwWnf32suR+veMn+fHBy8DA0fEPHF4NOhmS/r6kA/2+tbCHZd2aMAP38D6/8ENUNtP/XvERXhXn2OxSCcggId9vRXx4LNF12avdfsLJyADQf17IkbjNzgIwoOUK27p8Sv58Nl6vf1qJ6DL/kE7+VD/jonZ+A0OgvB8wAngbH8UN/ZQ/45IwfgNDoLwvOUEtLw3qr6N1D8wiOimYvxGwyAYC2lFkxNAjCCGmf8Q6h8QRHeR7knF+A0bBJqqmgr5NO6gGYc5gTYHe/qC+gfC7bv3jCUx3K5ibepYmPJp3BvNXNyut+M0xpn/EOpPyBG4AM1cCCEJkmLMhxASiKenp3saf4Fg2Vc9FsjpSuZo3hr/115r1lMAe+bNZrPO2fip/wH+nq9iKZkD8ZknLhfq79EQ8MneK7JYpGyov5JShV9oOAjKvnSjeP1LNn6j5EHgWl7akgPF6k/j31PiIGCef09x+jPP+5qSBgGd/2uKcgIHEdCJkBp/EOSaCaHxv00J+tdoDnRJ8V+jtePLHGshaPzvk7P+pGC47SOkYCqDn6FvH42fkAJxuyPdaN01FlIGbnc/37TkFE8o3L4nAmvHCyQ5/S3gw24oYXAvuyKxbLgwktK/xNr+rsFqKpU8sa78Zlz5hSMZ/Znq6Y4UikVMf72oYyYkGNHrT+PvnpgHAVd+3ROt/jT+/ohxEFD//ohOf4rfPzENAurfP1E5AVzPRPH7xx8EuJ1WBoDGPxyH+ruhjlTjbnR9AxMhvYLPHA4YGkjPIMpP4x+WIfUnhYMZx2voMRFCSFlohVqR3XwIIaQc3O5OtrGQJFC9RkKKRCsyRxICi/YuFgvs986ERA3Eh1ahUkT4GQg0Vc9XQqInqP6ODRyTA046VJ7Y1x/XdgmJnmD6M8+bLiGKRVjemy6t9WeeN30aBsGHI/bUP33a6M88bybYIPjs9o3658Gx+tuLmefNgGN1pP55QB0JIYQQQgghhBBCCJGy+T9ftRg+rVNPfAAAAABJRU5ErkJggg==')"}}),n&&e&&Eo.createPortal(r,document.body))},ra={name:"@progress/kendo-react-form",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:1745410752,version:"10.2.0",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"},aa=class extends o.Component{constructor(e){super(e),this._touched={},this._visited={},this._modified={},this._validatorsByField={},this._values={},this._fields={},this._unmounted=!1,this._submitted=!1,this.showLicenseWatermark=!1,this.isValid=()=>this.isFormValid(this.errors),this.accumulatedForceUpdate=()=>{this._accumulatorTimeout&&clearTimeout(this._accumulatorTimeout),this._accumulatorTimeout=window.setTimeout(()=>{this._accumulatorTimeout=void 0,this.forceUpdate()},0)},this.resetForm=()=>{this.values=vr(this.props.initialValues),this._key=tn(),this._touched={},this._visited={},this._modified={},this._validatorsByField={},this._fields={},this._submitted=!1,this.forceUpdate()},this.onReset=()=>this.resetForm(),this.addField=e=>{this._fields[e]=!0},this.onSubmit=e=>{const t={},n=this.fields;e&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation()),n.forEach(e=>{t[e]=!0}),this.visited=p({},t),this.touched=p({},t);const o=this.values,i=this.isFormValid(this.errors),r=this.isFormModified(this.modified,n);this.props.onSubmitClick&&this.props.onSubmitClick.call(void 0,{values:o,isValid:i,isModified:r,event:e}),i&&(this.props.ignoreModified||r)&&this.props.onSubmit&&(this._submitted=!0,this.props.onSubmit.call(void 0,o,e)),this.forceUpdate()},this.onChange=(e,t)=>{const{value:n}=t;this.addField(e),this.modified[e]||(this.modified=p(p({},this.modified),{},{[e]:!0})),this.valueSetter(e,n),this.forceUpdate()},this.onFocus=(e,t)=>{this.visited[e]||(this.visited=p(p({},this.visited),{},{[e]:!0}),t||this.forceUpdate())},this.onBlur=(e,t)=>{this.touched[e]||(this.onFocus(e,t),this.touched=p(p({},this.touched),{},{[e]:!0}),t||this.forceUpdate())},this.onFieldRegister=(e,t)=>{this.addField(e);const n=this.validatorsByField[e]||[],o=n.length;return this.validatorsByField=p(p({},this.validatorsByField),{},{[e]:[...n,t]}),this.accumulatedForceUpdate(),()=>{if(this._unmounted)return;const t=[...this.validatorsByField[e]||[]],n=!!t[o];t[o]=void 0,this.validatorsByField=p(p({},this.validatorsByField),{},{[e]:t}),n&&this.accumulatedForceUpdate()}},this.isFormValid=e=>!Object.keys(e).some(t=>!!e[t]),this.isFormModified=(e,t)=>t.some(t=>e[t]),this.isFormHasNotTouched=(e,t)=>t.some(t=>!e[t]),this.isFormTouched=(e,t)=>t.some(t=>e[t]),this.isFormVisited=(e,t)=>t.some(t=>e[t]),this.valueGetter=e=>Cr(e)(this.values),this.valueSetter=(e,t)=>function(e){if(Sr[e])return Sr[e];const t=wr(e);return Sr[e]=(e,n,o)=>{let i=e;const r=t.length-1;for(let a=0;a<r&&i;a++)i=i[t[a]]=i[t[a]]||Ir(t[a+1],o);i[t[r]]=n},Sr[e]}(e)(this.values,t),this.onArrayAction=e=>{this.addField(e),this.modified[e]||(this.modified=p(p({},this.modified),{},{[e]:!0})),this.onBlur(e,!0)},this.onInsert=(e,t)=>{this.onArrayAction(e);const n=[...this.valueGetter(e)||[]];n.splice(t.index,0,t.value),this.valueSetter(e,n),this.forceUpdate()},this.onUnshift=(e,t)=>{this.onInsert(e,{value:t.value,index:0})},this.onPush=(e,t)=>{this.onArrayAction(e);const n=[...this.valueGetter(e)||[],t.value];this.valueSetter(e,n),this.forceUpdate()},this.onPop=e=>{this.onArrayAction(e);const t=[...this.valueGetter(e)||[]],n=t.pop();return this.valueSetter(e,t),this.forceUpdate(),n},this.onRemove=(e,t)=>{this.onArrayAction(e);const n=[...this.valueGetter(e)||[]],o=n.splice(t.index,1);return this.valueSetter(e,n),this.forceUpdate(),o},this.onReplace=(e,t)=>{this.onArrayAction(e);const n=[...this.valueGetter(e)||[]];n.splice(t.index,1,t.value),this.valueSetter(e,n),this.forceUpdate()},this.onMove=(e,t)=>{this.onArrayAction(e);const n=[...this.valueGetter(e)||[]],o=n[t.prevIndex];n.splice(t.prevIndex,1),n.splice(t.nextIndex,0,o),this.valueSetter(e,n),this.forceUpdate()},this.showLicenseWatermark=!na(ra,{component:"Form"}),this.values=vr(e.initialValues)}get touched(){return this._touched}set touched(e){this._touched=e}get visited(){return this._visited}set visited(e){this._visited=e}get modified(){return this._modified}set modified(e){this._modified=e}get validatorsByField(){return this._validatorsByField}set validatorsByField(e){this._validatorsByField=e}get values(){return this._values}set values(e){this._values=e}get fields(){return Object.keys(this._fields)}get formErrors(){if(this.props.validator)return this.props.validator(this.values,this.valueGetter)}get errors(){const e={},t=this.fields,n=this.validatorsByField;return t.forEach(t=>{if(e[t]="",n[t]){const o=[];n[t].forEach(e=>{Array.isArray(e)?o.push(...e):o.push(e)}),o.find(n=>{if(n){const o=n(this.valueGetter(t),this.valueGetter,{name:t});if(o)return e[t]=o,!0}return!1})}}),this.formErrors&&yr(this.formErrors,e),e}componentWillUnmount(){this._unmounted=!0,this._accumulatorTimeout&&clearTimeout(this._accumulatorTimeout)}render(){const{render:e}=this.props,t=this.touched,n=this.visited,i=this.modified,r=this.fields,a=this.errors,s=this.isFormValid(a),l=this.isFormModified(i,r),c=this.isFormTouched(t,r),d=this.isFormVisited(n,r),u=this.isFormHasNotTouched(t,r)&&!s||s&&(this.props.ignoreModified||l);return o.createElement(o.Fragment,null,o.createElement(mr.Provider,{key:this._key||this.props.id,value:{id:this.props.id,valueGetter:this.valueGetter,errors:a,modified:i,touched:t,visited:n,registerField:this.onFieldRegister,onSubmit:this.onSubmit,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onUnshift:this.onUnshift,onPush:this.onPush,onInsert:this.onInsert,onPop:this.onPop,onRemove:this.onRemove,onReplace:this.onReplace,onMove:this.onMove}},e({valid:s,modified:l,touched:c,visited:d,submitted:this._submitted,valueGetter:this.valueGetter,errors:a,allowSubmit:u,onChange:this.onChange,onSubmit:this.onSubmit,onFormReset:this.resetForm})),this.showLicenseWatermark&&o.createElement(ia,null))}};aa.displayName="KendoReactForm",aa.propTypes={initialValues:jt.any,onSubmit:jt.func,onSubmitClick:jt.func,render:jt.func.isRequired,id:jt.string};const sa=e=>o.forwardRef((t,n)=>{const i=on(t.id);return o.createElement(e,p(p({},t),{},{id:i,ref:n}))}),la=sa(aa);la.displayName="KendoReactForm";const ca="".concat(pn.prefix,"-").concat(Tn.form),da="".concat(pn.prefix,"-").concat(Tn.form,"-").concat(Tn.field),ua={form:{main:ca,size:{prefix:"".concat(ca,"-"),small:"".concat(ca,"-").concat(fn.small),medium:"".concat(ca,"-").concat(fn.medium),large:"".concat(ca,"-").concat(fn.large)},orientation:{horizontal:"".concat(ca,"-").concat(xn.horizontal),vertical:"".concat(ca,"-").concat(xn.vertical)}},field:{main:da,isRtl:"".concat(pn.prefix,"-").concat(pn.rtl)}},pa=e=>{var t;const{size:n,orientation:o,c:i=ua}=e,r=i.form;return{[r.main]:!0,[r.size[n]]:r.size[n],[(null==(t=r.size)?void 0:t.prefix)||""]:n&&!r.size[n],[r.orientation[o]]:r.orientation[o]}},ha=["className","style","horizontal","size"],ma=o.forwardRef((e,t)=>{const n=p({size:"medium"},e),i=o.useRef(null),r=o.useRef(null);o.useImperativeHandle(r,()=>({element:i.current,props:n})),o.useImperativeHandle(t,()=>r.current);const a=o.useContext(mr),{className:l,style:c,horizontal:d,size:u}=n,h=s(n,ha),m=po(),f=m&&m.uForm,g=o.useMemo(()=>d?"horizontal":!1===d?"vertical":void 0,[d]),v=o.useMemo(()=>rn(pa({c:f,size:u,orientation:g}),l),[l,f,g,u]);return o.createElement("form",p(p({ref:i},h),{},{id:a?a.id:void 0,style:e.style,className:v,onSubmit:a?a.onSubmit:void 0}),e.children)});ma.displayName="KendoReactFormElement";const fa="".concat(pn.prefix,"-").concat(An.input),ga="".concat(pn.prefix,"-").concat(An.maskedtextbox),va="".concat(pn.prefix,"-").concat(An.radio),ya="".concat(pn.prefix,"-").concat(An.textbox),xa="".concat(pn.prefix,"-").concat(An.input,"-").concat(An.prefix),ba="".concat(pn.prefix,"-").concat(An.input,"-").concat(An.suffix),wa=("".concat(va,"-"),"".concat(va,"-").concat(fn.small),"".concat(va,"-").concat(fn.medium),"".concat(va,"-").concat(fn.large),"".concat(pn.prefix,"-").concat(En.invalid),"".concat(pn.prefix,"-").concat(En.checked),"".concat(va,"-").concat(Cn.wrap),"".concat(va,"-").concat(Sn.label),"".concat(va,"-").concat(Cn.list),"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(En.horizontal),"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(En.vertical),"".concat(va,"-").concat(Cn.list,"-").concat(Cn.item),"".concat(pn.prefix,"-").concat(En.disabled),{wrapper:{main:ga,input:fa,size:{small:"".concat(fa,"-").concat(fn.small),medium:"".concat(fa,"-").concat(fn.medium),large:"".concat(fa,"-").concat(fn.large)},fillMode:{solid:"".concat(fa,"-").concat(gn.solid),outline:"".concat(fa,"-").concat(gn.outline),flat:"".concat(fa,"-").concat(gn.flat)},rounded:{small:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.small),medium:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.medium),large:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.large)},disabled:"".concat(pn.prefix,"-").concat(En.disabled),invalid:"".concat(pn.prefix,"-").concat(En.invalid),isRtl:"".concat(pn.prefix,"-").concat(pn.rtl)},inputInner:"".concat(fa,"-").concat(An.inner)}),ka=(un(wa,"inputInner"),{wrapper:{main:ya,input:fa,size:{small:"".concat(fa,"-").concat(fn.small),medium:"".concat(fa,"-").concat(fn.medium),large:"".concat(fa,"-").concat(fn.large)},fillMode:{solid:"".concat(fa,"-").concat(gn.solid),outline:"".concat(fa,"-").concat(gn.outline),flat:"".concat(fa,"-").concat(gn.flat)},rounded:{small:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.small),medium:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.medium),large:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.large)},disabled:"".concat(pn.prefix,"-").concat(En.disabled),focused:"".concat(pn.prefix,"-").concat(En.focus),required:"".concat(pn.prefix,"-").concat(En.required),invalid:"".concat(pn.prefix,"-").concat(En.invalid),isRtl:"".concat(pn.prefix,"-").concat(pn.rtl)},inputInner:"".concat(fa,"-").concat(An.inner),prefix:{main:xa,orientation:{horizontal:"".concat(xa,"-").concat(xn.horizontal),vertical:"".concat(xa,"-").concat(xn.vertical)}},suffix:{main:ba,orientation:{horizontal:"".concat(ba,"-").concat(xn.horizontal),vertical:"".concat(ba,"-").concat(xn.vertical)}}}),Ca={wrapper:e=>{const{disabled:t,invalid:n,focused:o,required:i,size:r,fillMode:a,rounded:s,isRtl:l,c:c=ka}=e,d=c.wrapper;return{[null==d?void 0:d.main]:!0,[null==d?void 0:d.input]:!0,[null==d?void 0:d.size[r]]:null==d?void 0:d.size[r],["".concat(fa,"-").concat(r)]:r&&!(null!=d&&d.size[r]),[null==d?void 0:d.fillMode[a]]:null==d?void 0:d.fillMode[a],[null==d?void 0:d.rounded[s]]:null==d?void 0:d.rounded[s],["".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(s)]:s&&!(null!=d&&d.rounded[s]),[null==d?void 0:d.disabled]:t,[null==d?void 0:d.focused]:o,[null==d?void 0:d.required]:i,[null==d?void 0:d.invalid]:n,[null==d?void 0:d.isRtl]:l}},inputInner:un(ka,"inputInner"),prefix:e=>{const{orientation:t,c:n=ka}=e,o=n.prefix;return{[o.main]:!0,[o.orientation[t]]:o.orientation[t]}},suffix:e=>{const{orientation:t,c:n=ka}=e,o=n.suffix;return{[null==o?void 0:o.main]:!0,[null==o?void 0:o.orientation[t]]:null==o?void 0:o.orientation[t]}}},Sa={input:{main:"".concat(fa," ").concat(fa,"-").concat(fn.medium," ").concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.medium," ").concat(fa,"-").concat(gn.solid),disabled:"".concat(pn.prefix,"-").concat(En.disabled),required:"".concat(pn.prefix,"-").concat(En.required),invalid:"".concat(pn.prefix,"-").concat(En.invalid),isRtl:"".concat(pn.prefix,"-").concat(pn.rtl)},clearButton:"".concat(pn.prefix,"-").concat(pn.clear,"-").concat(pn.value)},Ia=e=>{const{disabled:t,invalid:n,required:o,isRtl:i,c:r=Sa}=e,a=r.input;return{[null==a?void 0:a.main]:!0,[null==a?void 0:a.disabled]:t,[null==a?void 0:a.required]:o,[null==a?void 0:a.invalid]:n,[null==a?void 0:a.isRtl]:i}},Ea=(un(Sa,"clearButton"),(e,t)=>o.useContext(e)(t)),ja=()=>o.createContext(e=>e),Aa=(e,t)=>o.forwardRef((n,i)=>{const r=Ea(e,n);return o.createElement(t,p(p({},r),{},{ref:i}))}),_a="".concat(pn.prefix,"-").concat(Nn.label),Da="".concat(pn.prefix,"-").concat(Nn.floatingLabel),Na="".concat(pn.prefix,"-").concat(Nn.error),Ta="".concat(pn.prefix,"-").concat(Nn.hint),Pa=("".concat(pn.prefix,"-").concat(Nn.label,"-").concat(En.empty),"".concat(pn.prefix,"-").concat(Nn.text,"-").concat(vn.error),"".concat(pn.prefix,"-").concat(Nn.text,"-").concat(En.disabled),{wrapper:{main:"".concat(Da,"-").concat(Nn.container),focused:"".concat(pn.prefix,"-").concat(En.focus),empty:"".concat(pn.prefix,"-").concat(En.empty),notEmpty:"",disabled:"".concat(pn.prefix,"-").concat(Nn.text,"-").concat(En.disabled),isRtl:"".concat(pn.prefix,"-").concat(pn.rtl)},label:{main:Da,focused:"",empty:"",notEmpty:"",invalid:"".concat(pn.prefix,"-").concat(Nn.text,"-").concat(vn.error),disabled:"".concat(pn.prefix,"-").concat(Nn.text,"-").concat(En.disabled)}}),Ma=e=>{const{focused:t,empty:n,notEmpty:o,disabled:i,isRtl:r,c:a=Pa}=e,s=a.wrapper;return{[null==s?void 0:s.main]:!0,[null==s?void 0:s.focused]:t,[null==s?void 0:s.empty]:n,[null==s?void 0:s.notEmpty]:o,[null==s?void 0:s.disabled]:i,[null==s?void 0:s.isRtl]:r}},Oa=e=>{const{focused:t,empty:n,notEmpty:o,invalid:i,disabled:r,c:a=Pa}=e,s=a.label;return{[null==s?void 0:s.main]:!0,[null==s?void 0:s.focused]:t,[null==s?void 0:s.empty]:n,[null==s?void 0:s.notEmpty]:o,[null==s?void 0:s.invalid]:i,[null==s?void 0:s.disabled]:r}};"".concat(pn.prefix,"-").concat(Nn.text,"-").concat(kn.start),"".concat(pn.prefix,"-").concat(Nn.text,"-").concat(kn.end),"".concat(pn.prefix,"-").concat(Nn.text,"-").concat(kn.start),"".concat(pn.prefix,"-").concat(Nn.text,"-").concat(kn.end),"".concat(pn.prefix,"-").concat(Nn.text,"-").concat(En.disabled);const Ra={en:{name:"en",identity:{version:{_unicodeVersion:"14.0.0",_cldrVersion:"41"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":",approximatelySign:"~"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMd:"M/d/y GGGGG",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era",short:"era",narrow:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},weekOfMonth:{wide:"week of month",short:"wk. of mo.",narrow:"wk. of mo."},day:{wide:"day",short:"day",narrow:"day"},dayOfYear:{wide:"day of year",short:"day of yr.",narrow:"day of yr."},weekday:{wide:"day of the week",short:"day of wk.",narrow:"day of wk."},weekdayOfMonth:{wide:"weekday of the month",short:"wkday. of mo.",narrow:"wkday. of mo."},dayperiod:{short:"AM/PM",wide:"AM/PM",narrow:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone",short:"zone",narrow:"zone"},millisecond:{narrow:"ms",short:"ms",wide:"millisecond"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function La(e){return"string"===typeof e}var Fa=/\{(\d+)}?\}/g,za=function(e){var t=e.name,n=e.message;if(!t||!n)throw new Error("{ name: string, message: string } object is required!");this.name=t,this.message=n};za.prototype.formatMessage=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Ba(e),o=this.message.replace(Fa,function(e,t){return n[parseInt(t,10)]});return this.name+": "+o},za.prototype.error=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new Error(this.formatMessage(e))};var Ba=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},Va=function(e){return Object.keys(e).reduce(function(t,n){return t[n]=new za({name:n,message:e[n]}),t},{})}({NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."});var Ha=Ra;function qa(e){return La(e)?Ua(e):e}function Ua(e){if(Ha[e])return Ha[e];if(Ha.supplemental.likelySubtags){var t=e.split("-"),n=t[0],o=t.slice(1),i=function(e,t){for(var n=Ha.supplemental.likelySubtags,o=0;o<t.length;o++){var i=n[e+"-"+t[o]];if(i)return i}if(n[e])return n[e]}(n,o),r=i?function(e,t){var n=e.split("-"),o=n[0],i=n[1],r=n[2];return Ha[e]||-1!==t.indexOf(r)&&Ha[o+"-"+r]||-1!==t.indexOf(i)&&Ha[o+"-"+i]||Ha[o]}(i,o):null;if(r)return r}throw Va.NoLocale.error(e)}var Ga="decimal",Wa="currency",Ka="accounting",Ya="percent",Xa="scientific",Ja="$",Qa="n",Za=".",$a="",es="en",ts="Formats-numberSystem-latn",ns=/([#,0.]+)/g,os=/\xa4/g;function is(e){return ns.lastIndex=0,e.replace(os,Ja).replace(ns,Qa).split(";")}function rs(e){ns.lastIndex=0;var t=ns.exec(e.split(";")[0])[0].split(Za)[0].split(",").slice(1).map(function(e){return e.length}).reverse();return t}function as(e,t){for(var n in t)n.startsWith("unitPattern")&&(e[n]=t[n].replace("{0}",Qa).replace("{1}",Ja))}function ss(e,t){var n=Ha[e],o=n.numbers=n.numbers||{};for(var i in o.symbols=o.symbols||{},t)if("symbols-numberSystem-latn"===i)Object.assign(o.symbols,t[i]);else if(i.includes(ts)){var r=i.substr(0,i.indexOf(ts)),a=t[i].standard;o[r]={patterns:is(a)},r===Wa?(o[r].groupSize=rs((t[Ga+ts]||t[i]).standard),as(o[r],t[i]),o[Ka]={patterns:is(t[i][Ka]),groupSize:o[r].groupSize}):o[r].groupSize=rs(a)}else"currencies"===i&&(o.currencies=t[i])}var ls={s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},cs=/y+/g,ds=[["dateFormats","short"]],us={D:[["dateFormats","full"]],m:[["dateTimeFormats","availableFormats","MMMd"]],M:[["dateTimeFormats","availableFormats","MMMMd"]],y:[["dateTimeFormats","availableFormats","yMMM"]],Y:[["dateTimeFormats","availableFormats","yMMMM"]],F:[["dateFormats","full"],["timeFormats","medium"]],g:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","short"]],G:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","medium"]],t:[["timeFormats","short"]],T:[["timeFormats","medium"]]};function ps(e){for(var t=[],n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var i=e[n[o]];t.push(i)}return t}function hs(e,t){var n={};for(var o in e){var i=n[o]={};for(var r in e[o]){var a=e[o][r];i[r]=t?a:ps(a)}}return n}function ms(e,t){var n=Ha[e].calendar;n.days=hs(t.days),n.months=hs(t.months),n.quarters=hs(t.quarters),n.dayPeriods=hs(t.dayPeriods,!0),n.eras=function(e){var t={},n=t.format={},o={eraAbbr:"abbreviated",eraNames:"wide",eraNarrow:"narrow"};for(var i in e)n[o[i]]=e[i];return t}(t.eras)}function fs(e,t){var n=Ha[e].calendar,o={};for(var i in t){var r=i.split("-"),a=r[0],s=r[1];void 0===s&&(s="wide");var l=o[a]||{},c=t[i].displayName;c&&(l[s]=c,o[a]=l)}n.dateFields=o}function gs(e,t){for(var n=[],o=0;o<e.length;o++){for(var i=e[o],r=t,a=0;a<i.length;a++)r=r[i[a]];n.push(r)}return n.join(" ")}function vs(e,t){var n=Ha[e].calendar,o=n.patterns={};for(var i in o.d=gs(ds,t).replace(cs,"y"),us)o[i]=gs(us[i],t);for(var r in ls)o[r]=ls[r];var a=t.dateTimeFormats;n.dateTimeFormats={full:a.full,long:a.long,medium:a.medium,short:a.short,availableFormats:a.availableFormats},n.timeFormats=t.timeFormats,n.dateFormats=t.dateFormats}function ys(e,t){var n=Ha[e].calendar=Ha[e].calendar||{};for(var o in t)"timeZoneNames"===o?(n.gmtFormat=t[o].gmtFormat,n.gmtZeroFormat=t[o].gmtZeroFormat):"calendars"===o&&t[o].gregorian?(vs(e,t[o].gregorian),ms(e,t[o].gregorian)):"fields"===o&&fs(e,t.fields)}function xs(e){if(e.territory)return e.territory;var t,n=e.name,o=e.identity;return t=o&&o.territory?o.territory:function(e,t){var n=Ha.supplemental.likelySubtags,o=e.split("-");if(n){var i=n[e]||n[o[0]];i&&(o=i.split("-"))}if(t)for(var r=o.length-1;r>=1;r--){var a=o[r];a!==t.variant&&a!==t.script||o.splice(r,1)}var s=o.length;if(s>1)return o[s-1].toUpperCase()}(n,o),e.territory=t,t}var bs="duration-millisecond",ws=/\{0\}\s?/;function ks(e){return(e["unitPattern-count-one"]||e["unitPattern-count-other"]).replace(ws,"")}function Cs(e,t){e.calendar.dateFields.millisecond={narrow:ks(t.narrow[bs]),short:ks(t.short[bs]),wide:ks(t.long[bs])}}function Ss(e,t){for(var n in t)"numbers"===n?ss(e,t[n]):"dates"===n&&ys(e,t[n])}function Is(e,t){var n=t.type,o=t.nameType,i=t.standAlone,r=t.lower,a=qa(e),s=i?"stand-alone":"format",l=(r?"lower-":$a)+o,c=a.calendar[n][s],d=c[l];return!d&&r&&(d=c[l]=function(e){var t=Array.isArray(e)?function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toLowerCase());return t}(e):function(e){var t={};for(var n in e)t[n]=e[n].toLowerCase();return t}(e);return t}(c[o])),d}function Es(e){var t=e.split("-"),n=parseInt(t[0],10),o=parseInt(t[1],10)-1,i=parseInt(t[2],10);return new Date(n,o,i)}var js=Va.NoCurrency,As=Va.NoCurrencyDisplay,_s=Va.NoSupplementalCurrency,Ds=Va.NoCurrencyRegion,Ns=Va.NoValidCurrency,Ts="symbol",Ps={"001":"USD",150:"EUR"};function Ms(e,t,n){var o=qa(e).numbers.currencies;if(o){var i=o[t];if(i)return i;if(n)throw As.error()}else if(n)throw js.error()}function Os(e,t){return t.length-e.length}function Rs(e,t){if(void 0===t&&(t=!0),Ps[e])return Ps[e];var n=Ha.supplemental.currencyData;if(n){var o=n.region[e];if(o){var i=function(e){for(var t,n,o,i,r=0;r<e.length;r++){var a=e[r],s=Object.keys(a)[0],l=a[s];if("XXX"!==s&&"false"!==l._tender&&l._from)if(l._to){if(!o){var c=Es(l._from),d=Es(l._to);(!n||n.to<d||n.from<c)&&(t=s,n={from:c,to:d})}}else{var u=Es(l._from);(!i||i<u)&&(o=s,i=u)}}return o||t}(o);return i}if(t)throw Ds.error(e)}else if(t)throw _s.error()}function Ls(e,t){var n=qa(e),o=n.numbers;if(!o.localeCurrency){var i=Rs(xs(n),t);if(!i&&t)throw Ns.error(n.name);o.localeCurrency=i}return o.localeCurrency}var Fs=["sun","mon","tue","wed","thu","fri","sat"],zs=Va.NoWeekData,Bs=Va.NoFirstDay;function Vs(e){var t=qa(e);if(!isNaN(t.firstDay))return t.firstDay;var n=Ha.supplemental.weekData;if(!n)throw zs.error();var o=n.firstDay[xs(t)]||n.firstDay["001"];if(!o)throw Bs.error();return t.firstDay=Fs.indexOf(o),t.firstDay}Va.NoWeekData;function Hs(e){return 1/e===-1/0}function qs(e,t){void 0===t&&(t={}),t.currency||(t.currency=Ls(e,!0));var n=function(e,t){var n=t.value,o=t.currency,i=t.currencyDisplay;if(void 0===i&&(i=Ts),"code"===i)return o;var r=Ms(e,o,!0);return i===Ts?r["symbol-alt-narrow"]||r[Ts]||o:"undefined"===typeof n||1!==n?r["displayName-count-other"]:r["displayName-count-one"]}(e,t);return n}function Us(e,t,n,o,i){var r=i.numbers.symbols,a=e.indexOf(r.decimal),s=o.groupSize.slice(),l=s.shift(),c=-1!==a?a:n+1,d=e.substring(t,c),u=e,p=d.length;if(p>=l){for(var h=p,m=[];h>-1;){var f=d.substring(h-l,h);f&&m.push(f),h-=l;var g=s.shift();if(0===(l=void 0!==g?g:l)){(f=d.substring(0,h))&&m.push(f);break}}d=m.reverse().join(r.group),u=e.substring(0,t)+d+e.substring(c)}return u}function Gs(e){return e===Wa||e===Ka}function Ws(e,t,n){void 0===t&&(t=2),void 0===n&&(n=!1);var o=t-String(e).length,i=e;if(o>0){var r=new Array(o+1).join("0");i=n?e+r:r+e}return i}function Ks(e,t){var n=e,o=t||0;return n=n.toString().split("e"),n=(n=Math.round(Number(n[0]+"e"+(n[1]?Number(n[1])+o:o)))).toString().split("e"),(n=Number(n[0]+"e"+(n[1]?Number(n[1])-o:-o))).toFixed(Math.min(o,20))}var Ys=/0+$/;function Xs(e){var t,n=e.minimumFractionDigits,o=e.maximumFractionDigits,i=e.style,r=Gs(i);return r&&(t=function(e){var t=2,n=2,o=((Ha.supplemental.currencyData||{}).fractions||{})[e];return o&&o._digits&&(n=t=parseInt(o._digits,10)),{minimumFractionDigits:t,maximumFractionDigits:n}}(e.currency)),void 0===n&&(n=r?t.minimumFractionDigits:0),void 0===o&&(o=i===Ya?Math.max(n,0):r?Math.max(n,t.maximumFractionDigits):Math.max(n,3)),{minimumFractionDigits:n,maximumFractionDigits:o}}function Js(e,t,n){var o=n.numbers.symbols,i=t.style,r=Gs(i);if(i===Xa)return(void 0!==t.minimumFractionDigits?e.toExponential(t.minimumFractionDigits):e.toExponential()).replace(Za,o.decimal);var a,s=e;r&&(t.value=s,a=qs(n,t)),i===Ya&&(s*=100,a=o.percentSign);var l=Xs(t),c=l.minimumFractionDigits,d=(s=Ks(s,l.maximumFractionDigits))<0,u=Hs(e),p=s.split(Za),h=p[0],m=Ws(p[1]?p[1].replace(Ys,$a):$a,c,!0);d&&(h=h.substring(1)),t.minimumIntegerDigits&&(h=Ws(h,t.minimumIntegerDigits));var f,g=!1!==t.useGrouping?Us(h,0,h.length,t,n):h;if(m&&(g+=o.decimal+m),r&&"name"===t.currencyDisplay)f=function(e,t){var n=e.numbers.currency,o=1!==t?n["unitPattern-count-other"]:n["unitPattern-count-one"];return t<0&&(o=o.replace(Qa,"-n")),o}(n,e);else{var v=t.patterns;f=d||u?v[1]||"-"+v[0]:v[0]}if(f===Qa&&!d)return g;var y=function(e,t,n){for(var o=$a,i=0,r=t.length;i<r;i++){var a=t.charAt(i);o+=a===Qa?e:a===Ja||"%"===a?n:a}return o}(g,f,a);return y}var Qs=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,Zs="__??__";function $s(e,t){var n=e.format;-1!==n.indexOf("%")&&(e.style=Ya,e.symbol=t.numbers.symbols.percentSign,e.number*=100),-1!==n.indexOf(Ja)&&(e.style=Wa,e.symbol=qs(t))}function el(e){var t=e.format;if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1){var n=e.literals=[];e.format=t.replace(Qs,function(e){var t=e.charAt(0).replace("\\",$a),o=e.slice(1).replace(t,$a);return n.push(o),Zs})}}var tl="#",nl="0",ol=/(\.(?:[0-9]*[1-9])?)0+$/g,il=/\.$/,rl=/,/g;function al(e){var t=e.number,n=e.format,o=n.indexOf(Za);if(-1!==o){var i=n.lastIndexOf(nl)-o,r=n.lastIndexOf(tl)-o,a=i>-1,s=r>-1,l=t.toString().split("e"),c=(l=(l=l[1]?Ks(t,Math.abs(l[1])):l[0]).split(Za)[1]||$a).length,d=-1;a||s?a&&i>r?c=i:r>i&&(s&&c>r?c=r:a&&c<i&&(c=i),d=a?i:0):(e.format=n.substring(0,o)+n.substring(o+1),o=-1,c=0),c>-1&&(t=Ks(t,c),d>-1&&(t=function(e,t){var n;return n=0===t?ol:new RegExp("(\\.[0-9]{"+t+"}[1-9]*)0+$","g"),e.replace(n,"$1").replace(il,$a)}(t,d)))}else t=Ks(t);e.negative&&-1*t>=0&&!e.negativeZero&&(e.negative=!1),e.number=t,e.decimalIndex=o}function sl(e){var t=e.number,n=e.format;if(n=n.split(";"),(e.negative||e.negativeZero)&&n[1])n=n[1],e.hasNegativeFormat=!0;else if(0===t){var o=n[2];n=o||n[0],o&&function(e){return-1===e.indexOf(tl)&&-1===e.indexOf(nl)}(o)&&(e.constant=o)}else n=n[0];e.format=n}function ll(e,t,n){return-1===e&&-1!==t?t:-1!==e&&-1===t?e:n?Math.min(e,t):Math.max(e,t)}function cl(e,t){var n=e.number;return-1!==e.start&&(n=function(e,t){var n=e.start,o=e.end,i=e.negative,r=e.negativeZero,a=e.format,s=e.decimalIndex,l=e.lastZeroIndex,c=e.hasNegativeFormat,d=e.hasGroup,u=e.number,p=u.toString().split(Za),h=a.length,m=p[0],f=p[1]||$a,g=m.length,v=$a;u=a.substring(0,n),!i&&!r||c||(u+="-");for(var y=n;y<h;y++){var x=a.charAt(y);if(-1===s){if(o-y<g){u+=m;break}}else if(-1!==l&&l<y&&(v=$a),s-y<=g&&s-y>-1&&(u+=m,y=s),s===y){u+=(f?t.numbers.symbols.decimal:$a)+f,y+=o-s+1;continue}x===nl?(u+=x,v=x):x===tl&&(u+=v)}return d&&(u=Us(u,n+(i&&!c?1:0),Math.max(o,g+n),t.numbers.decimal,t)),o>=n&&(u+=a.substring(o+1)),u}(e,t),n=function(e,t){var n=e;if(t)for(var o=t.length,i=0;i<o;i++)n=n.replace(Zs,t[i]);return n}(n=function(e,t,n){var o=e;if(t===Wa||t===Ya){o=$a;for(var i=0,r=e.length;i<r;i++){var a=e.charAt(i);o+=a===Ja||"%"===a?n:a}}return o}(n,e.style,e.symbol),e.literals)),n}function dl(e,t,n){var o={negative:e<0,number:Math.abs(e),negativeZero:Hs(e),format:t};return sl(o),o.constant?o.constant:(el(o),$s(o,n),function(e){e.hasGroup=e.format.indexOf(",")>-1,e.hasGroup&&(e.format=e.format.replace(rl,$a))}(o),al(o),function(e){var t=e.format,n=t.indexOf(tl),o=t.indexOf(nl),i=ll(n,o,!0),r=ll(n=t.lastIndexOf(tl),o=t.lastIndexOf(nl));i===t.length&&(r=i),e.start=i,e.end=r,e.lastZeroIndex=o}(o),cl(o,n))}var ul=/^(n|c|p|e|a)(\d*)$/i;function pl(e){return La(e)?function(e){var t=ul.exec(e);if(t){var n={style:Ga},o=t[1].toLowerCase();return"c"===o?n.style=Wa:"a"===o?n.style=Ka:"p"===o?n.style=Ya:"e"===o&&(n.style=Xa),t[2]&&(n.minimumFractionDigits=n.maximumFractionDigits=parseInt(t[2],10)),n}}(e):e}function hl(e,t,n){if(void 0===t&&(t=Qa),void 0===n&&(n=es),void 0===e||null===e)return $a;if(!isFinite(e))return String(e);var o,i=Ua(n),r=pl(t);if(r){var a=r.style||Ga;o=Js(e,Object.assign({},i.numbers[a],r),i)}else o=dl(e,t,i);return o}function ml(e){return"number"===typeof e}var fl=/[eE][-+]?[0-9]+/,gl=/\u00A0/g;function vl(e,t){if(t.length>1){var n=(t[1]||$a).replace(Ja,$a).split(Qa);if(e.indexOf(n[0])>-1&&e.indexOf(n[1])>-1)return e.replace(n[0],$a).replace(n[1],$a)}}function yl(e,t,n){var o,i=pl(n)||{},r=Gs(i.style),a=e,s=i.currency||Ls(t,r);if(s){var l=function(e,t,n){void 0===n&&(n=!0);var o=Ms(e,t,n);if(o){if(!o.displays){var i=[t];for(var r in o)i.push(o[r]);i.sort(Os),o.displays=i}return o.displays}}(t,s,r);if(l)for(var c=0;c<l.length;c++){var d=l[c];if(a.includes(d)){a=a.replace(d,$a),r=!0;break}}if(r){var u=vl(a,t.numbers.currency.patterns)||vl(a,t.numbers.accounting.patterns);u&&(o=!0,a=u)}}return{number:a,negative:o}}function xl(e,t,n){if(void 0===t&&(t=es),void 0===n&&(n={}),!e&&0!==e)return null;if(ml(e))return e;var o,i=Ua(t),r=i.numbers.symbols,a=e.toString(),s=n||{};if(La(n)&&(el(s={format:n}),a=function(e,t){var n=t.literals,o=e;if(n)for(var i=0;i<n.length;i++)o=o.replace(n[i],$a);return o}(a,s),$s(s,i)),(s.style===Ya||a.indexOf(r.percentSign)>-1)&&(a=a.replace(r.percentSign,$a),o=!0),fl.test(a))return a=parseFloat(a.replace(r.decimal,Za)),isNaN(a)?null:a;var l=yl(a,i,s),c=l.negative,d=l.number,u=(a=String(d).trim()).indexOf("-");if(u>0)return null;var p=u>-1;return p=void 0!==c?c:p,a=a.replace("-",$a).replace(gl," ").split(r.group.replace(gl," ")).join($a).replace(r.decimal,Za),a=parseFloat(a),isNaN(a)?a=null:p&&(a*=-1),a&&o&&(a=function(e){var t=String(e),n=t.indexOf(Za),o=e/Math.pow(10,2);if(-1===n||String(o).length<=t.length+2)return o;var i=t.length-n+1+2;return parseFloat(o.toFixed(i))}(a)),a}var bl=/\{(\d+)}/g;function wl(e){var t=arguments;return e.replace(bl,function(e,n){return t[parseInt(n,10)+1]})}var kl=[2,1,5,3,4],Cl={};Cl[(-2).toString()]=8,Cl[(-1).toString()]=6,Cl[2..toString()]=6,Cl[1..toString()]=3;var Sl={numeric:1,"2-digit":2,short:3,long:4,narrow:5},Il=/[hHmsSzZoOvVxX]/;var El=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(e){return e.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],jl={e:"c",E:"c",M:"L",Q:"q"},Al={},_l={};function Dl(e){return Al[e]||(Al[e]=new RegExp(e+"+")),Al[e]}function Nl(e){for(var t=[],n=e.charAt(0),o=n,i=1;i<e.length;i++){var r=e.charAt(i);r===o?n+=r:(t.push(n),n=o=r)}return t.push(n),t}function Tl(e,t){var n,o,i=e.length,r=-Number.MAX_VALUE;for(var a in t){for(var s=[],l=a.replace("v","z"),c=0,d=0;d<i;d++){var u=e[d],p=(Dl(u[0]).exec(l)||[])[0];if(p){if(l=l.replace(p,$a),p.length!==u.length){var h=Math.max(Math.min(kl[p.length]-kl[u.length],2),-2);c-=Cl[h]}}else c-=120;if(s.push(p),c<r)break}l.length&&(c-=20*Nl(l).length),c>r&&(r=c,n=s,o=t[a])}o=o.replace("v","z");for(var m=0;m<i;m++){var f=n[m];if(f&&f!==e[m]){var g=n[m][0];o=o.replace(Dl(g),e[m]),jl[g]&&(o=o.replace(Dl(jl[g]),e[m]))}}return o}function Pl(e,t){var n=t.calendar.dateTimeFormats.availableFormats;if(n[e])return n[e];if(_l[t.name]&&_l[t.name][e])return _l[t.name][e];var o,i=e.search(Il);if(i>0){var r=e.substr(0,i),a=e.substr(i);o=wl(t.calendar.dateTimeFormats.short,n[a]||Tl(Nl(a),n),n[r]||Tl(Nl(r),n))}else o=Tl(Nl(e),n);return function(e,t,n){_l[n]||(_l[n]={}),_l[n][e]=t}(e,o,t.name),o}function Ml(e,t){var n,o=t.calendar;if(La(e))n=o.patterns[e]?o.patterns[e]:e;else if(e){if(e.pattern)return e.pattern;var i=e.skeleton;i||(e.datetime?n=wl(o.dateTimeFormats[e.datetime],o.timeFormats[e.datetime],o.dateFormats[e.datetime]):e.date?n=o.dateFormats[e.date]:e.time?n=o.timeFormats[e.time]:i=function(e){for(var t=[],n=0;n<El.length;n++){var o=El[n],i=e[o.key];if(i){var r=o.specifier||o.getSpecifier(e);t.push(r.repeat(Sl[i]))}}return t.join($a)}(e)),i&&(n=Pl(i,t))}return n||(n=o.patterns.d),n}function Ol(e){var t;return e<=3?t="abbreviated":4===e?t="wide":5===e?t="narrow":6===e&&(t="short"),t}function Rl(e,t,n,o,i){return Is(e,{type:t,nameType:Ol(n),standAlone:o,lower:i})}function Ll(e){return"function"===typeof e}function Fl(e){return Boolean(e)&&Ll(e.getTime)&&Ll(e.getMonth)}var zl="month",Bl="hour",Vl="zone",Hl="weekday",ql="quarter",Ul={G:"era",y:"year",q:ql,Q:ql,M:zl,L:zl,d:"day",E:Hl,c:Hl,e:Hl,h:Bl,H:Bl,k:Bl,K:Bl,m:"minute",s:"second",S:"millisecond",a:"dayperiod",x:Vl,X:Vl,z:Vl,Z:Vl},Gl=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function Wl(e,t,n,o){return t<=2?Ws(e+1,t):Rl(n,"months",t,o)[e]}function Kl(e,t,n,o){var i=Math.floor(e.getMonth()/3);return t<3?i+1:Rl(n,"quarters",t,o)[i]}function Yl(e,t,n){var o=n.shortHours,i=n.optionalMinutes,r=n.separator,a=n.localizedName,s=n.zZeroOffset,l=e.getTimezoneOffset()/60;if(0===l&&s)return"Z";var c=l<=0?"+":"-",d=Math.abs(l).toString().split("."),u=d[1]||0,p=c+(o?d[0]:Ws(d[0],2));(!u&&i||(p+=(r?":":$a)+Ws(u,2)),a)&&(p=wl(0===l?t.calendar.gmtZeroFormat:t.calendar.gmtFormat,p));return p}function Xl(e,t,n,o){var i;return i=t<3?function(e,t,n){var o=Vs(n);return(e<o?7-o+e:e-o)+1}(e.getDay(),0,n):Rl(n,"days",t,o)[e.getDay()],i}var Jl={};function Ql(e,t,n){if(void 0===n&&(n=es),!Fl(e))return void 0===e||null===e?$a:e;var o=Ua(n);return Ml(t,o).replace(Gl,function(t){var n=t.length;return t.includes("'")||t.includes('"')?t.slice(1,n-1):Jl[t[0]](e,n,o)})}function Zl(e,t,n){var o=e.getTimezoneOffset(),i=new Date(e.getTime()+6e4*(t-n)),r=i.getTimezoneOffset();return new Date(i.getTime()+6e4*(r-o))}Jl.d=function(e,t){return Ws(e.getDate(),t)},Jl.E=function(e,t,n){return Rl(n,"days",t)[e.getDay()]},Jl.M=function(e,t,n){return Wl(e.getMonth(),t,n,!1)},Jl.L=function(e,t,n){return Wl(e.getMonth(),t,n,!0)},Jl.y=function(e,t){var n=e.getFullYear();return 2===t&&(n%=100),Ws(n,t)},Jl.h=function(e,t){return Ws(e.getHours()%12||12,t)},Jl.H=function(e,t){return Ws(e.getHours(),t)},Jl.k=function(e,t){return Ws(e.getHours()||24,t)},Jl.K=function(e,t){return Ws(e.getHours()%12,t)},Jl.m=function(e,t){return Ws(e.getMinutes(),t)},Jl.s=function(e,t){return Ws(e.getSeconds(),t)},Jl.S=function(e,t){var n=e.getMilliseconds();return 0!==n?Ws(String(n/1e3).split(".")[1].substr(0,t),t,!0):Ws($a,t)},Jl.a=function(e,t,n){return Rl(n,"dayPeriods",t)[e.getHours()<12?"am":"pm"]},Jl.z=function(e,t,n){return Yl(e,n,{shortHours:t<4,optionalMinutes:t<4,separator:!0,localizedName:!0})},Jl.Z=function(e,t,n){return Yl(e,n,{separator:t>3,localizedName:4===t,zZeroOffset:5===t})},Jl.x=function(e,t,n){return Yl(e,n,{optionalMinutes:1===t,separator:3===t||5===t})},Jl.X=function(e,t,n){return Yl(e,n,{optionalMinutes:1===t,separator:3===t||5===t,zZeroOffset:!0})},Jl.G=function(e,t,n){var o=e.getFullYear()>=0?1:0;return Rl(n,"eras",t)[o]},Jl.e=Xl,Jl.c=function(e,t,n){return Xl(e,t,n,!0)},Jl.q=function(e,t,n){return Kl(e,t,n,!0)},Jl.Q=Kl;var $l=/([+|-]\d{1,2})(:?)(\d{2})?/,ec=/^\/Date\((.*?)\)\/$/,tc=/[+-]\d*/,nc={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},oc=/\d+/,ic=/^ */,rc=/ *$/,ac=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],sc=["G","g","F","Y","y","M","m","D","d","y","T","t"];function lc(e,t,n){return!(e>=t&&e<=n)}function cc(e,t){for(var n=t.format,o=t.idx,i=0;n[o]===e;)i++,o++;return i>0&&(o-=1),t.idx=o,i}function dc(e,t){var n=e?nc[e]||new RegExp("^\\d{1,"+e+"}"):oc,o=t.value.substr(t.valueIdx,e).match(n);return o?(o=o[0],t.valueIdx+=o.length,parseInt(o,10)):null}function uc(e,t,n){for(var o,i,r,a=0,s=e.length,l=0,c=0;a<s;a++)i=(o=e[a]).length,r=t.value.substr(t.valueIdx,i),n&&(r=r.toLowerCase()),r===o&&i>l&&(l=i,c=a);return l?(t.valueIdx+=l,c+1):null}function pc(e){var t=!1;return e.value.charAt(e.valueIdx)===e.format[e.idx]&&(e.valueIdx++,t=!0),t}function hc(e,t,n){var o=n.shortHours,i=n.noSeparator,r=n.optionalMinutes,a=n.localizedName,s=n.zLiteral;if(e.UTC=!0,s&&"Z"===e.value.charAt(e.valueIdx))return e.valueIdx++,!1;if(a&&!uc(function(e){var t=e.gmtFormat,n=e.gmtZeroFormat;if(!t)throw Va.NoGMTInfo.error();return[t.replace("{0}",$a).toLowerCase(),n.replace("{0}",$a).toLowerCase()]}(t.calendar),e,!0))return!0;var l=$l.exec(e.value.substr(e.valueIdx,6));if(!l)return!a;var c=l[1],d=l[3],u=parseInt(c,10),p=l[2],h=parseInt(d,10);return!!(isNaN(u)||!o&&3!==c.length||!r&&isNaN(h)||i&&p)||(isNaN(h)&&(h=null),!!(lc(u,-12,13)||h&&lc(h,0,59))||(e.valueIdx+=l[0].length,e.hoursOffset=u,void(e.minutesOffset=h)))}function mc(e,t,n){var o=cc(e,t),i=Rl(n,"months",o,"L"===e,!0),r=o<3?dc(2,t):uc(i,t,!0);if(null===r||lc(r,1,12))return!0;t.month=r-1}function fc(e,t,n){var o=cc(e,t),i=Rl(n,"days",o,"c"===e,!0),r=o<3?dc(1,t):uc(i,t,!0);if(!r&&0!==r||lc(r,1,7))return!0}var gc={};function vc(e,t){return""+ic.exec(t)[0]+e+rc.exec(t)[0]}function yc(e,t,n){for(var o=Ml(t,n).split($a),i={format:o,idx:0,value:vc(e,t),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},r=o.length,a=!1;i.idx<r;i.idx++){var s=o[i.idx];if(a)"'"===s&&(a=!1),pc(i);else if(gc[s]){if(gc[s](i,n))return null}else if("'"===s)a=!0,pc(i);else if(!pc(i))return null}return i.valueIdx<e.length?null:function(e){var t,n=e.year,o=e.month,i=e.day,r=e.hours,a=e.minutes,s=e.seconds,l=e.milliseconds,c=e.pmHour,d=e.UTC,u=e.hoursOffset,p=e.minutesOffset,h=null!==r||null!==a||s||null,m=new Date;return null===n&&null===o&&null===i&&h?(n=m.getFullYear(),o=m.getMonth(),i=m.getDate()):(null===n&&(n=m.getFullYear()),null===i&&(i=1)),c&&r<12&&(r+=12),d?(u&&(r+=-u),p&&(a+=-p*(u<0?-1:1)),t=new Date(Date.UTC(n,o,i,r,a,s,l))):function(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}(t=new Date(n,o,i,r,a,s,l),r),n<100&&t.setFullYear(n),t.getDate()!==i&&void 0===d?null:t}(i)||null}function xc(e){if(e&&0===e.indexOf("/D")){var t=ec.exec(e);if(t){t=t[1];var n=tc.exec(t.substring(1));return t=new Date(parseInt(t,10)),n&&(n=function(e){var t="-"===e.substr(0,1)?-1:1,n=e.substring(1);return t*(60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10))}(n[0]),t=Zl(t,t.getTimezoneOffset(),0),t=Zl(t,0,-1*n)),t}}}function bc(e,t,n){if(void 0===n&&(n=es),!e)return null;if(Fl(e))return e;var o=String(e).trim(),i=xc(o);if(i)return i;for(var r=Ua(n),a=t||function(e){for(var t=[],n=e.patterns,o=sc.length,i=0;i<o;i++)t.push(n[sc[i]]);return t.concat(ac)}(r.calendar),s=(a=Array.isArray(a)?a:[a]).length,l=0;l<s;l++)if(i=yc(o,a[l],r))return i;return i}gc.d=function(e){cc("d",e);var t=dc(2,e);if(null===t||lc(t,1,31))return!0;null===e.day&&(e.day=t)},gc.E=function(e,t){if(null===uc(Rl(t,"days",cc("E",e),!1,!0),e,!0))return!0},gc.M=function(e,t){return mc("M",e,t)},gc.L=function(e,t){return mc("L",e,t)},gc.y=function(e){var t=cc("y",e),n=dc(1===t?void 0:t,e);if(null===n)return!0;if(2===t){var o=(new Date).getFullYear();(n=o-o%100+n)>2029&&(n-=100)}e.year=n},gc.h=function(e){cc("h",e);var t=dc(2,e);if(12===t&&(t=0),null===t||lc(t,0,11))return!0;e.hours=t},gc.K=function(e){cc("K",e);var t=dc(2,e);if(null===t||lc(t,0,11))return!0;e.hours=t},gc.a=function(e,t){var n=Rl(t,"dayPeriods",cc("a",e),!1,!0),o=uc([n.pm],e,!0);if(!o&&!uc([n.am],e,!0))return!0;e.pmHour=o},gc.H=function(e){cc("H",e);var t=dc(2,e);if(null===t||lc(t,0,23))return!0;e.hours=t},gc.k=function(e){cc("k",e);var t=dc(2,e);if(null===t||lc(t,1,24))return!0;e.hours=24===t?0:t},gc.m=function(e){cc("m",e);var t=dc(2,e);if(null===t||lc(t,0,59))return!0;e.minutes=t},gc.s=function(e){cc("s",e);var t=dc(2,e);if(null===t||lc(t,0,59))return!0;e.seconds=t},gc.S=function(e){var t=cc("S",e),n=e.value.substr(e.valueIdx,t),o=null;if(isNaN(parseInt(n,10))||(o=Ks(o=parseFloat("0."+n,10),3),o*=1e3,e.valueIdx+=t),null===o||lc(o,0,999))return!0;e.milliseconds=o},gc.z=function(e,t){var n=cc("z",e)<4,o=hc(e,t,{shortHours:n,optionalMinutes:n,localizedName:!0});if(o)return o},gc.Z=function(e,t){var n=cc("Z",e),o=hc(e,t,{noSeparator:n<4,zLiteral:5===n,localizedName:4===n});if(o)return o},gc.x=function(e,t){var n=cc("x",e),o=hc(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n});if(o)return o},gc.X=function(e,t){var n=cc("X",e),o=hc(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n,zLiteral:!0});if(o)return o},gc.G=function(e,t){var n=Rl(t,"eras",cc("G",e),!1,!0);if(null===uc([n[0],n[1]],e,!0))return!0},gc.e=function(e,t){return fc("e",e,t)},gc.c=function(e,t){return fc("c",e,t)};var wc={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},kc="literal";function Cc(e,t){var n=e[e.length-1];n&&n.type===kc?n.pattern+=t:e.push({type:kc,pattern:t})}function Sc(e){return"h"===e||"K"===e}var Ic=/\{(\d+)(:[^}]+)?\}/g;function Ec(e,t,n){if(t){if(Fl(e))return Ql(e,t,n);if(ml(e))return hl(e,t,n)}return void 0!==e&&null!==e?e:$a}function jc(e,t,n){return e.replace(Ic,function(e,o,i){return Ec(t[parseInt(o,10)],i?i.substring(1):$a,n)})}class Ac{constructor(e){this.locale=e,0}format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return 1===n.length&&Array.isArray(n[0])?jc(e,n[0],this.locale):jc(e,n,this.locale)}formatDate(e,t){return Ql(e,t,this.locale)}toString(e,t){return Ec(e,t,this.locale)}parseNumber(e,t){return xl(e,this.locale,t)}parseDate(e,t){return bc(e,t,this.locale)}formatNumber(e,t){return hl(e,t,this.locale)}dateFieldName(e){return function(e,t){void 0===t&&(t=es);var n=Ua(t).calendar.dateFields;if(!n)throw Va.NoDateFieldNames.error();var o=n[e.type]||{};return o[e.nameType]||o.wide}(e,this.locale)}dateFormatNames(e){return Is(this.locale,e)}splitDateFormat(e){return function(e,t){void 0===t&&(t=es);for(var n=Ml(e,Ua(t)),o=[],i=Gl.lastIndex=0,r=Gl.exec(n);r;){var a=r[0];if(i<r.index&&Cc(o,n.substring(i,r.index)),a.startsWith('"')||a.startsWith("'"))Cc(o,a);else{var s=a[0],l=Ul[s],c={type:l,pattern:a};"hour"===l&&(c.hour12=Sc(a));var d=wc[l];if(d){var u=ml(d.minLength)?d.minLength:d.minLength[s],p=a.length;p>=u&&(c.names={type:d.type,nameType:Ol(p),standAlone:d.standAlone===s})}o.push(c)}i=Gl.lastIndex,r=Gl.exec(n)}return i<n.length&&Cc(o,n.substring(i)),o}(e,this.locale)}numberSymbols(){return qa(this.locale).numbers.symbols}firstDay(){return Vs(this.locale)}localeInfo(){return Ua(this.locale)}localeCurrency(){return Ls(this.locale)}}const _c=Object.create({});class Dc{constructor(e){this.language=e,0}toLanguageString(e,t){return this.language&&_c[this.language]&&_c[this.language].hasOwnProperty(e)?_c[this.language][e]:t}}const Nc=o.createContext({intl:new Ac("en"),localization:new Dc}),Tc=()=>o.useContext(Nc).localization,Pc="labels.optional",Mc={[Pc]:"(Optional)"},Oc=["label","editorId","className","labelClassName","editorValue","editorPlaceholder","editorValid","editorDisabled","style","id","optional","unstyled"],Rc=e=>{const[t,n]=o.useState({focused:!1}),{label:i,editorId:r,className:a,labelClassName:l,editorValue:c,editorPlaceholder:d,editorValid:u,editorDisabled:h,style:m,id:f,optional:g,unstyled:v}=e,y=s(e,Oc),x=Tc(),b=g?x.toLanguageString(Pc,Mc[Pc]):"",w=b&&o.createElement("span",{className:"k-label-optional"},b),k=v&&v.uFloatingLabel,C=!d&&!c&&0!==c,S=rn(Ma({c:k,focused:t.focused,empty:C,notEmpty:!C,disabled:h,isRtl:"rtl"===e.dir}),a),I=rn(Oa({c:k,focused:t.focused,empty:C,notEmpty:!C,invalid:!1===u,disabled:h}),l);return o.createElement("span",p(p({},y),{},{id:e.id,className:S,onFocus:e=>{n({focused:!0})},onBlur:e=>{n({focused:!1})},style:m,dir:e.dir}),e.children,i?r?o.createElement("label",{id:f,htmlFor:r,className:I},i,w):o.createElement("span",{id:f,className:I},i,w):null)};Rc.propTypes={label:jt.string,editorId:jt.string,editorValue:jt.oneOfType([jt.string,jt.bool,jt.number]),editorPlaceholder:jt.string,editorValid:jt.bool,editorDisabled:jt.bool,id:jt.string,style:jt.object,className:jt.string,labelClassName:jt.string,optional:jt.bool};const Lc=["className","label","labelClassName","id","validationMessage","defaultValue","valid","unstyled","visited","touched","modified","autoFocus","ariaLabelledBy","ariaDescribedBy","validityStyles","style","ariaLabel"],Fc=o.forwardRef((e,t)=>{const n=o.useContext(zc).call(void 0,e),[,i]=o.useReducer(e=>e,!0),r=((e,t)=>{const n=p({},t);for(const o in e)void 0!==e[o]&&(n[o]=e[o]);return n})(n,Bc),{className:a,label:l,labelClassName:c,id:d,validationMessage:u,defaultValue:h,valid:m,unstyled:f,visited:g,touched:v,modified:y,autoFocus:x,ariaLabelledBy:b,ariaDescribedBy:w,validityStyles:k,style:C,ariaLabel:S}=r,I=s(r,Lc),E=po(),j=f||E,A=j&&j.uInput,_=on(),[D,N]=o.useState({value:h}),T=d||_,P=o.useRef(null),M=o.useRef(void 0),O=o.useRef(null),R=()=>{P.current&&P.current.focus()},L=()=>void 0!==M.current?M.current:void 0!==r.value?r.value:D.value,F=()=>{const e={badInput:!!P.current&&P.current.validity.badInput,patternMismatch:!!P.current&&P.current.validity.patternMismatch,rangeOverflow:!!P.current&&P.current.validity.rangeOverflow,rangeUnderflow:!!P.current&&P.current.validity.rangeUnderflow,stepMismatch:!!P.current&&P.current.validity.stepMismatch,tooLong:!!P.current&&P.current.validity.tooLong,typeMismatch:!!P.current&&P.current.validity.typeMismatch,valueMissing:!!P.current&&P.current.validity.valueMissing};return p(p({},e),{},{customError:void 0!==u,valid:void 0!==m?m:!P.current||!z(e)})};o.useImperativeHandle(O,()=>({element:P.current,props:r,get value(){return L()},name:r.name,get validity(){return F()},focus:R})),o.useImperativeHandle(t,()=>O.current);const z=e=>{let t=!1;for(const n in e)e.hasOwnProperty(n)&&(t=t||!!e[n]);return t},B=!k||F().valid,V=rn(a,Ia({c:A,invalid:!B,disabled:r.disabled}));o.useEffect(()=>{i()},[]),o.useEffect(()=>{P.current&&P.current.setCustomValidity&&(F().valid||!k?P.current.classList.remove("k-invalid"):P.current.classList.add("k-invalid"),P.current.setCustomValidity(F().valid?"":u||""))});const H=o.createElement("input",p(p({"aria-labelledby":b,"aria-describedby":w,"aria-disabled":r.disabled||void 0,"aria-invalid":!B||void 0,"aria-label":S||void 0},I),{},{style:l?void 0:C,value:L(),id:T,autoFocus:x,className:V,onChange:e=>{N({value:e.target.value}),M.current=e.target.value,r.onChange&&r.onChange.call(void 0,{syntheticEvent:e,nativeEvent:e.nativeEvent,value:e.target.value,target:O.current}),M.current=void 0},onAnimationStart:e=>{if("autoFillStart"===e.animationName){const t=e.target.parentNode;t&&t.classList.contains("k-empty")&&t.classList.remove("k-empty")}},ref:P}));return l?o.createElement(Rc,{label:l,labelClassName:c,editorId:T,editorValue:String(L()),editorValid:B,editorDisabled:r.disabled,editorPlaceholder:r.placeholder,children:H,style:C,dir:r.dir,unstyled:j}):H}),zc=ja(),Bc={defaultValue:"",required:!1,validityStyles:!0,autoFocus:!1};Fc.displayName="KendoReactInput",Fc.propTypes={label:jt.string,labelClassName:jt.string,validationMessage:jt.string,required:jt.bool,validate:jt.bool,id:jt.string,ariaLabelledBy:jt.string,ariaDescribedBy:jt.string,ariaLabel:jt.string,autoFocus:jt.bool,value:jt.oneOfType([jt.string,jt.number,jt.array])};const Vc=()=>o.useContext(Nc).intl,Hc=()=>null,qc=e=>{let{children:t}=e;return t},Uc=e=>e?e===o.Fragment?[qc,{}]:o.isValidElement(e)?[e.type,e.props]:[e,{}]:[Hc,{}];function Gc(e,t,n,o){if(e){const i={syntheticEvent:t,nativeEvent:t.nativeEvent,target:n};e.call(void 0,Object.assign(i,o))}}const Wc=e=>{const t=e.shadowRoot,n=e.contentDocument;return t&&t.activeElement?Wc(t.activeElement):n&&n.activeElement?Wc(n.activeElement):e},Kc=e=>{if(e&&e.activeElement)return Wc(e.activeElement)},Yc=(e,t,n)=>{const o="string"==typeof e?parseInt(e):e;if(!Number.isNaN(o))return void 0!==o?o:t?n?void 0:-1:0},Xc={name:"caret-alt-up",content:'<path d="m256 160 128 192H128z" />',viewBox:"0 0 512 512"},Jc={name:"caret-alt-right",content:'<path d="M352 256 160 384V128z" />',viewBox:"0 0 512 512"},Qc={name:"caret-alt-down",content:'<path d="M256 352 128 160h256z" />',viewBox:"0 0 512 512"},Zc={name:"caret-alt-left",content:'<path d="m160 256 192-128v256z" />',viewBox:"0 0 512 512"},$c={name:"caret-alt-to-right",content:'<path d="m128 128 192 128-192 128zm224 256V128h-32v256z" />',viewBox:"0 0 512 512"},ed={name:"caret-alt-to-left",content:'<path d="M352 384 160 256l192-128zM128 128v256h32V128z" />',viewBox:"0 0 512 512"},td={name:"reorder",content:'<path d="M480 128v64H32v-64zM32 224v64h448v-64zm448 96H32v64h448z" />',viewBox:"0 0 512 512"},nd={name:"more-vertical",content:'<path d="M240 128c26.4 0 48-21.6 48-48s-21.6-48-48-48-48 21.6-48 48 21.6 48 48 48m0 64c-26.4 0-48 21.6-48 48s21.6 48 48 48 48-21.6 48-48-21.6-48-48-48m0 160c-26.4 0-48 21.6-48 48s21.6 48 48 48 48-21.6 48-48-21.6-48-48-48" />',viewBox:"0 0 512 512"},od={name:"calendar",content:'<path d="M416 416H288V288h128zm64-352v384c0 17.6-14.4 32-32 32H64c-17.6 0-32-14.4-32-32V64c0-17.6 14.4-32 32-32h64V0h64v32h128V0h64v32h64c17.6 0 32 14.4 32 32m-32 128H64v255.9l.1.1 383.9-.1zm0-127.9q-.15-.15 0 0l-64-.1v32h-64V64H192v32h-64V64H64.1l-.1.1V160h384z" />',viewBox:"0 0 512 512"},id={name:"cancel",content:'<path d="M256 32c-50.3 0-96.8 16.6-134.1 44.6-17.2 12.8-32.4 28.1-45.3 45.3C48.6 159.2 32 205.7 32 256c0 123.7 100.3 224 224 224 50.3 0 96.8-16.6 134.1-44.6 17.2-12.8 32.4-28.1 45.3-45.3 28-37.4 44.6-83.8 44.6-134.1 0-123.7-100.3-224-224-224m0 384c-88.2 0-160-71.8-160-160 0-32.6 9.8-62.9 26.6-88.2l221.6 221.6C318.9 406.2 288.6 416 256 416m133.4-71.8L167.8 122.6C193.1 105.8 223.4 96 256 96c88.2 0 160 71.8 160 160 0 32.6-9.8 62.9-26.6 88.2" />',viewBox:"0 0 512 512"},rd={name:"x",content:'<path d="M416 141.3 301.3 256 416 370.7 370.7 416 256 301.3 141.3 416 96 370.7 210.7 256 96 141.3 141.3 96 256 210.7 370.7 96z" />',viewBox:"0 0 512 512"},ad={name:"x-circle",content:'<path d="M256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m128 306.7L338.7 384 256 301.3 173.3 384 128 338.7l82.7-82.7-82.7-82.7 45.3-45.3 82.7 82.7 82.7-82.7 45.3 45.3-82.7 82.7z" />',viewBox:"0 0 512 512"},sd={name:"plus",content:'<path d="M288 224V96h-64v128H96v64h128v128h64V288h128v-64z" />',viewBox:"0 0 512 512"},ld={name:"minus",content:'<path d="M96 224v64h320v-64z" />',viewBox:"0 0 512 512"},cd={name:"sort-asc-small",content:'<path d="M256 192v224h-32V192h-96L240 64l112 128z" />',viewBox:"0 0 512 512"},dd={name:"sort-desc-small",content:'<path d="M352 288 240 416 128 288h96V64h32v224z" />',viewBox:"0 0 512 512"},ud={name:"filter",content:'<path d="M64 64v32l160 160v224l64-64V256L448 96V64z" />',viewBox:"0 0 512 512"},pd={name:"filter-clear",content:'<path d="m143.5 64 168.2 168.2L288 256v160l-64 64V256L64 96V64zm236.1 100.4L448 96V64H279.3l-64-64L192 22l298 298 22-23.3z" />',viewBox:"0 0 512 512"},hd={name:"search",content:'<path d="M365.3 320h-22.7l-26.7-26.7C338.5 265.7 352 230.4 352 192c0-88.4-71.6-160-160-160S32 103.6 32 192s71.6 160 160 160c38.4 0 73.7-13.5 101.3-36.1l26.7 26.7v22.7L434.7 480l45.3-45.3zM64 192c0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128S64 262.7 64 192" />',viewBox:"0 0 512 512"},md={name:"insert-middle",content:'<path d="M192 128h192v32H192zm0 128h288v-32H192zm192 64H192v32h192zM32 128v224l96-112z" />',viewBox:"0 0 512 512"},fd="numerictextbox.increment",gd="numerictextbox.decrement",vd="slider.increment",yd="slider.decrement",xd="slider.dragTitle",bd="colorGradient.r",wd="colorGradient.g",kd="colorGradient.b",Cd="colorGradient.a",Sd="colorGradient.hex",Id="colorGradient.contrastRatio",Ed="colorGradient.colorGradientAALevel",jd="colorGradient.colorGradientAAALevel",Ad="colorGradient.colorGradientPass",_d="colorGradient.colorGradientFail",Dd="colorGradient.hueSliderLabel",Nd="colorGradient.alphaSliderLabel",Td="colorGradient.toggleInputsButton",Pd="flatColorPicker.cancelBtn",Md="flatColorPicker.applyBtn",Od="flatColorPicker.colorGradientBtn",Rd="flatColorPicker.colorPaletteBtn",Ld="flatColorPicker.clearBtn",Fd="colorPicker.adaptiveTitle",zd="checkbox.validation",Bd="checkbox.optionalText",Vd="radioButton.validation",Hd="switch.validation",qd="colorPicker.dropdownButtonAriaLabel",Ud="rating.ariaLabel",Gd="signature.clear",Wd="signature.maximize",Kd="signature.minimize",Yd={[fd]:"Increase value",[gd]:"Decrease value",[vd]:"Increase",[yd]:"Decrease",[xd]:"Drag",[bd]:"r",[wd]:"g",[kd]:"b",[Cd]:"a",[Sd]:"hex",[Id]:"Contrast ratio",[Ed]:"AA",[jd]:"AAA",[Ad]:"Pass",[_d]:"Fail",[Dd]:"Hue slider",[Nd]:"Alpha slider",[Td]:"Toggle colorgradient inputs",[Pd]:"Cancel",[Md]:"Apply",[Od]:"Color Gradient view",[Rd]:"Color Palette view",[Ld]:"Clear color value",[Fd]:"Choose color",[zd]:"Please check this box if you want to proceed!",[Bd]:"(Optional)",[Vd]:"Please select option if you want to proceed!",[Hd]:"Please turn on if you want to proceed!",[qd]:"Select",[Ud]:"Rating",[Gd]:"Clear",[Wd]:"Maximize",[Kd]:"Minimize"},Xd=1111111.1111111,Jd=/\d/,Qd=(e,t)=>void 0!==e?e:t,Zd=(e,t,n)=>null===e&&void 0===e?"":"string"==typeof e?e:n.formatNumber(e,t),$d=e=>(String(e).split(".")[1]||"").length,eu=(e,t)=>Math.max($d(e),$d(t)),tu=(e,t)=>{const n=(e=>Math.min(e,15))(t);return parseFloat(e.toFixed(n))},nu=(e,t,n,o,i,r,a)=>{const s=eu(e||0,n||0),l=iu(tu((e||0)+(n||0),s),o,i);t.eventValue=l,t.currentLooseValue=Zd(l,r,a),t.selectionStart=t.selectionEnd=du(t.currentLooseValue,Jd)},ou=(e,t,n,o,i,r,a)=>{const s=eu(e||0,n||0),l=iu(tu((e||0)-(n||0),s),o,i);t.eventValue=l,t.currentLooseValue=Zd(l,r,a),t.selectionStart=t.selectionEnd=du(t.currentLooseValue,Jd)},iu=(e,t,n)=>null==e?e:!(e>1||e<1||1===e)||void 0!==n&&void 0!==t&&n<t?null:(void 0!==n&&e>n&&(e=n),void 0!==t&&e<t&&(e=t),e),ru=(e,t,n,o)=>{e.selectionStart=e.selectionEnd=t,((e,t,n)=>{const o=((e,t)=>{const n=t.findIndex(t=>{let[n,o]=t;return!!o&&e.indexOf(o)===e.length-o.length});if(-1===n)return-1;const o=t[n][1];return e.length-o.length})(e,t);if(-1!==o&&n.selectionStart>o)return void(n.selectionStart=n.selectionEnd=o);n.selectionStart>e.length&&(n.selectionStart=n.selectionEnd=e.length);const i=((e,t)=>{const n=t.findIndex(t=>{let[n,o]=t;return!!n&&0===e.indexOf(n)});return-1===n?-1:t[n][0].length})(e,t);-1!==i&&n.selectionStart<i&&(n.selectionStart=n.selectionEnd=i),-1===n.selectionStart&&(n.selectionStart=n.selectionEnd=0)})(n,o,e)},au=(e,t,n,o)=>{e.eventValue=o.parseNumber(e.prevLooseValue,t),e.currentLooseValue=e.prevLooseValue,e.valueIsCorrected=!0,ru(e,e.selectionStart,e.currentLooseValue,n)},su=(e,t,n)=>t.split(e).length!==n.split(e).length&&t.length===n.length+e.length,lu=(e,t)=>{const n=e.indexOf(t.decimal);return n>-1?n:du(e,Jd)},cu=e=>e.split("").reverse().join(""),du=(e,t)=>e.length-cu(e).search(t),uu=e=>e.split(e[e.search(Jd)])[0],pu=e=>{const t=cu(e);return cu(t.split(t[t.search(Jd)])[0])},hu=(e,t)=>e.search(t),mu=(e,t)=>{const n=e.indexOf(t);return n>-1?e.length-n-1:0},fu=(e,t,n,o,i)=>{const r="0"===e.replace(i,"")[0],a="0"===t.replace(i,"")[0];if(r&&!a)return n-1;if(a&&o)return n+1;let s=0;for(let c=0;c<n;c++)Jd.test(e.charAt(c))&&s++;let l=0;for(;s>0&&t.length>l;)Jd.test(t.charAt(l))&&s--,l++;return l},gu=(e,t,n)=>{const o=p({},e),{prevLooseValue:i}=o,r=n.numberSymbols(),a=((e,t)=>{const n=t.formatNumber(Xd,e),o=t.formatNumber(-Xd,e),i=t.formatNumber(0,e),r=t.formatNumber(1,e),a=t.numberSymbols(),s=new RegExp("[\\d\\".concat(a.decimal).concat(a.group,"]"),"g");return[n,o,i,r].map(e=>e.replace(s,"")).join("").split("").filter((e,t,n)=>n.indexOf(e)===t).join("")})(t,n),s=String(o.currentLooseValue),l=String(i),c=new RegExp("[^\\d\\".concat(r.decimal,"]"),"g"),d=new RegExp("[^\\d\\".concat(r.decimal,"\\").concat(r.group,"]"),"g"),u=new RegExp("[\\d\\".concat(r.decimal,"\\").concat(r.group,"]")),h=s.replace(c,""),m=hu(s,Jd),f=-1===m?-1:du(s,Jd),g=s.indexOf(r.decimal),v=(s.substring(0,m)+s.substring(m,f).replace(d,"")+s.substring(f,s.length)).split("").filter(e=>-1!==a.indexOf(e)||-1!==e.search(u)).join(""),y=n.formatNumber(.31111111111111117,t).replace(c,""),x=y.indexOf(r.decimal),b=x>-1?y.length-x-1:0,w=n.formatNumber(1,t).replace(c,""),k=w.indexOf(r.decimal),C=k>-1?w.length-k-1:0,{positiveInfo:S,negativeInfo:I,zeroInfo:E,oneInfo:j}=((e,t)=>{const n=t.formatNumber(Xd,e),o=t.formatNumber(-Xd,e),i=t.formatNumber(0,e),r=t.formatNumber(1,e),a=uu(n),s=uu(o),l=uu(i),c=uu(r);return{positiveInfo:[a,pu(n)],negativeInfo:[s,pu(o)],zeroInfo:[l,pu(i)],oneInfo:[c,pu(r)]}})(t,n),A=[S,I,E,j],_=1!==A.findIndex(e=>-1!==e.findIndex(e=>!!e)),D=s.length>0&&s.length<l.length,N="string"==typeof t&&"p"===t[0]&&s&&-1===s.indexOf(r.percentSign);if(!o.isPaste){if(""===s)return o.eventValue=null,o.currentLooseValue="",o;if(o.currentLooseValue===r.minusSign&&n.formatNumber(-0,t)!==l)return o.eventValue=-0,o.currentLooseValue=Zd(o.eventValue,t,n),ru(o,lu(o.currentLooseValue,r),o.currentLooseValue,A),o;if(o.currentLooseValue===r.decimal){o.eventValue=0;const e=Zd(o.eventValue,t,n);if(0===C&&b>0){const t=du(e,Jd);o.currentLooseValue=e.substring(0,t)+r.decimal+e.substring(t)}else o.currentLooseValue=e;return ru(o,lu(o.currentLooseValue,r)+1,o.currentLooseValue,A),o}if(((e,t)=>{const n=String(e.currentLooseValue),o=String(e.prevLooseValue);return su(t.minusSign,n,o)||su("-",n,o)||su("\u2212",n,o)})(o,r)){const e=n.parseNumber(i,t);o.eventValue=-(null!==e?e:0),o.currentLooseValue=Zd(o.eventValue,t,n);const r=hu(o.currentLooseValue,Jd),a=hu(l,Jd);return ru(o,o.selectionEnd-1+(r-a),o.currentLooseValue,A),o}if(((e,t)=>{const n=String(e.currentLooseValue),o=String(e.prevLooseValue);return-1===n.indexOf(t.minusSign)&&-1!==o.indexOf(t.minusSign)})(o,r))return o.eventValue=n.parseNumber(o.currentLooseValue,t),ru(o,o.selectionStart,o.currentLooseValue,A),o;if(((e,t)=>String(e.currentLooseValue).split(t.decimal).length>2)(o,r))return au(o,t,A,n),o;if(N)return o.eventValue=n.parseNumber(s,t)/100,o.currentLooseValue=Zd(o.eventValue,t,n),o;if(String(o.currentLooseValue).replace(/[^\d]/g,"").length>15||h!==s&&s&&_&&-1===A.findIndex(e=>{let[t,n]=e;const o=s.indexOf(t),i=s.indexOf(n),a=0===o,l=i===s.length-n.length,c=o+t.length!==m&&-1!==m&&s[o+t.length]!==r.decimal,d=i!==f&&-1!==f&&s[i-1]!==r.decimal;return t&&n?!c&&!d&&(a&&l):t?!c&&a:!!n&&(!d&&l)}))return au(o,t,A,n),o;if(h[h.length-1]===r.decimal&&b>0)return o.eventValue=n.parseNumber(s,t),o.currentLooseValue=v,o;if(o.currentLooseValue&&i&&(a+r.decimal+r.group).split("").findIndex(e=>s.split("").filter(t=>t===e).length<l.split("").filter(t=>t===e).length&&s.length+1===l.length&&!(e===r.decimal&&0===mu(l.replace(c,""),r.decimal)))>-1)return o.eventValue=n.parseNumber(e.prevLooseValue,t),o.currentLooseValue=e.prevLooseValue,o;const d=mu(h,r.decimal),u="0"===h[h.length-1];if(D&&u&&d<C)return o.eventValue=n.parseNumber(o.currentLooseValue,t),o.currentLooseValue=Zd(o.eventValue,t,n),o;if(d>0){const e=s.substring(0,g);if(u&&(!e||0!==l.indexOf(e))){o.eventValue=n.parseNumber(o.currentLooseValue,t);const e=Zd(o.eventValue,t,n);return ru(o,fu(s,e,o.selectionEnd,D,c),e,A),o.currentLooseValue=e,o}if(d>b){const e=s.indexOf(r.decimal),i=s.substring(0,e)+s.substring(e,e+1+b)+s.substring(f,String(o.currentLooseValue).length);return o.eventValue=n.parseNumber(i,t),o.currentLooseValue=i,ru(o,o.selectionStart,i,A),o}if(C!==b&&d<=b&&u)return o.eventValue=n.parseNumber(o.currentLooseValue,t),o.currentLooseValue=v,o;if(d<C)return o.eventValue=n.parseNumber(o.currentLooseValue,t),o.currentLooseValue=Zd(o.eventValue,t,n),o}}if(o.eventValue=n.parseNumber(o.currentLooseValue,t),N&&(o.eventValue=o.eventValue/100),"number"==typeof o.eventValue){const e=Zd(o.eventValue,t,n);1===s.length?ru(o,lu(e,r),e,A):ru(o,fu(s,e,o.selectionEnd,D,c),e,A),o.currentLooseValue=e}else o.currentLooseValue=Zd(n.parseNumber(h),t,n);return o},vu=["className","value","defaultValue","format","width","tabIndex","accessKey","title","placeholder","min","max","dir","name","label","id","ariaDescribedBy","ariaLabelledBy","ariaLabel","inputType","readOnly","validationMessage","children","touched","visited","modified","style","inputStyle","valid","step","spinners","disabled","required","validityStyles","prefix","suffix","onChange","onFocus","onBlur","rangeOnEnter","size","rounded","fillMode","autoFocus","inputAttributes"],yu=ja(),xu=o.forwardRef((e,t)=>{const n=Ea(yu,e),{className:i,value:r,defaultValue:a,format:l,width:c,tabIndex:d,accessKey:u,title:h,placeholder:m,min:f,max:g,dir:v,name:y,label:x,id:b,ariaDescribedBy:w,ariaLabelledBy:k,ariaLabel:C,inputType:S,readOnly:I,validationMessage:E,children:j,touched:A,visited:_,modified:D,style:N,inputStyle:T,valid:P,step:M=bu.step,spinners:O=bu.spinners,disabled:R=bu.disabled,required:L=bu.required,validityStyles:F=bu.validityStyles,prefix:z=bu.prefix,suffix:B=bu.suffix,onChange:V=bu.onChange,onFocus:H=bu.onFocus,onBlur:q=bu.onBlur,rangeOnEnter:U=bu.rangeOnEnter,size:G=bu.size,rounded:W=bu.rounded,fillMode:K=bu.fillMode,autoFocus:Y=bu.autoFocus,inputAttributes:X}=n,J=s(n,vu),Q=on(),Z=b||Q,$=Vc(),ee=Tc(),te=o.useRef(null),ne=o.useRef(void 0),[oe,ie]=o.useState(!1),re=o.useRef({eventValue:null,prevLooseValue:"",currentLooseValue:"",focused:!1,selectionStart:void 0,selectionEnd:void 0,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1}),ae=o.useRef(!1),se=o.useRef(void 0),le=o.useRef(a),ce=Zd(re.current.focused&&!R?re.current.currentLooseValue:Qd(r,le.current),l,$);se.current=ce;const[de]=Uc(z),[ue]=Uc(B);o.useEffect(()=>{te.current&&te.current.setCustomValidity&&te.current.setCustomValidity(ge().valid?"":E||"Please enter a valid value!")});const pe=o.useCallback(()=>{te.current&&te.current.focus()},[]),he=o.useCallback(()=>void 0!==ne.current?ne.current:Qd(r,le.current),[r]),me=o.useCallback(()=>y,[y]),fe=o.useCallback(()=>L,[L]),ge=o.useCallback(()=>{const e=void 0!==E,t=he();return{customError:e,valid:void 0!==P?P:!re.current.valueIsOutOfRange&&(!fe()||null!=t),valueMissing:null==t}},[E,P,he,fe]),ve=o.useCallback(()=>F,[F]),ye=o.useCallback(()=>n,[n]),xe=o.useCallback(()=>{const e={element:te.current,focus:pe};return Object.defineProperty(e,"name",{get:me}),Object.defineProperty(e,"value",{get:he}),Object.defineProperty(e,"validity",{get:ge}),Object.defineProperty(e,"validityStyles",{get:ve}),Object.defineProperty(e,"required",{get:fe}),Object.defineProperty(e,"props",{get:ye}),e},[me,he,ge,ve,fe,pe,ye]);o.useImperativeHandle(t,xe);const be=o.useCallback(()=>({eventValue:Qd(r,le.current),prevLooseValue:se.current,currentLooseValue:te.current.value,selectionStart:te.current.selectionStart,selectionEnd:te.current.selectionEnd,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1,isPaste:ae.current,focused:re.current.focused}),[r]),we=o.useCallback((e,t)=>{if(R)return;ne.current=t.eventValue,le.current=t.eventValue;const n=Zd(iu(t.eventValue,f,g),l,$),o=iu($.parseNumber(n,l),f,g);o!==t.eventValue&&(t.valueIsOutOfRange=!0,t.eventValue=o,le.current=o),r!==t.eventValue&&Gc(V,e,xe(),{value:t.eventValue}),ne.current=void 0,re.current=t,ie(e=>!e)},[r,V,R,ie,xe]),ke=o.useCallback(e=>{const t=be();ae.current=!1,we(e,gu(t,l,$))},[l,V,$,we,be]),Ce=o.useCallback(e=>{let t=be();const n=$.parseNumber(String(t.currentLooseValue),l);if(t.selectionEnd>t.selectionStart&&t.selectionEnd-t.selectionStart===String(t.currentLooseValue).length){const t=$.numberSymbols(),n=t&&e.key===t.minusSign,o=t&&e.key===t.decimal;return void(ae.current=!n&&!o)}switch(e.keyCode){case 38:nu(n,t,M,f,g,l,$);break;case 40:ou(n,t,M,f,g,l,$);break;case 13:{if(!1===U)return;const e=Zd(iu(n,f,g),l,$),o=iu($.parseNumber(e,l),f,g);t.eventValue=o,t.currentLooseValue=Zd(o,l,$),t.selectionStart=t.selectionEnd=t.currentLooseValue.length;break}case 110:{const e=te.current,n=$.numberSymbols();e&&(t.currentLooseValue=t.currentLooseValue.slice(0,t.selectionStart)+n.decimal+t.currentLooseValue.slice(t.selectionEnd),t.selectionStart=t.selectionEnd=t.selectionStart+1,t=gu(t,l,$));break}default:return}e.preventDefault(),we(e,t)},[l,f,g,M,V,U,we,be]),Se=o.useCallback(()=>{ae.current=!0},[]),Ie=o.useCallback(e=>{if(I||R)return;const t=be();nu($.parseNumber(String(t.currentLooseValue),l),t,M,f,g,l,$),we(e,t)},[l,f,g,M,V,I,R,we,be]),Ee=o.useCallback(e=>{if(I||R)return;const t=be();ou($.parseNumber(String(t.currentLooseValue),l),t,M,f,g,l,$),we(e,t)},[l,f,g,M,V,I,R,we,be]),je=o.useCallback(e=>{const t=Kc(document);!document||t!==te.current||!te.current||I||R||(e.nativeEvent.deltaY<0&&Ie(e),e.nativeEvent.deltaY>0&&Ee(e))},[Ie,Ee,R,I]),Ae=o.useCallback(e=>{re.current.currentLooseValue=se.current,re.current.focused=!0,Gc(H,e,xe(),{}),ie(e=>!e)},[H,ie,xe]),_e=o.useCallback(e=>{re.current={eventValue:null,prevLooseValue:"",currentLooseValue:"",focused:!1,selectionStart:void 0,selectionEnd:void 0,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1},Gc(q,e,xe(),{}),ie(e=>!e)},[q,ie,xe]),De=o.useCallback(e=>{if(document&&te.current){const t=Kc(document);e.preventDefault(),t!==te.current&&te.current.focus()}},[]);nn(()=>{te.current&&"number"!==te.current.type&&void 0!==re.current.selectionStart&&void 0!==re.current.selectionEnd&&(te.current.selectionStart=re.current.selectionStart,te.current.selectionEnd=re.current.selectionEnd,re.current.selectionStart=void 0,re.current.selectionEnd=void 0)},[oe]);const Ne=!ve()||ge().valid,Te=o.createElement("span",p({dir:v,style:x?N:p({width:c},N),className:rn("k-input","k-numerictextbox",{["k-input-".concat(Co.sizeMap[G]||G)]:G,["k-input-".concat(K)]:K,["k-rounded-".concat(Co.roundedMap[W]||W)]:W,"k-invalid":!Ne,"k-required":L,"k-disabled":R},i),"aria-disabled":R?"true":void 0},x?{}:J),o.createElement(de,null),o.createElement("input",p({role:"spinbutton",value:null===ce?"":ce,tabIndex:Yc(d,R),accessKey:u,disabled:R,title:h,"aria-disabled":R?"true":void 0,"aria-valuemin":f,"aria-valuemax":g,"aria-label":C,"aria-labelledby":k,"aria-describedby":w,"aria-required":L,placeholder:m,spellCheck:!1,autoComplete:"off",autoCorrect:"off",autoFocus:Y,type:S||"tel",className:"k-input-inner",id:Z,name:y,readOnly:I,style:T,onChange:ke,onFocus:Ae,onBlur:_e,onKeyDown:Ce,onPaste:Se,onWheel:je,ref:te},X)),o.createElement(ue,null),j,O&&o.createElement("span",{className:"k-input-spinner k-spin-button",onMouseDown:De},o.createElement(bo,{tabIndex:-1,type:"button",icon:"caret-alt-up",svgIcon:Xc,rounded:null,fillMode:K,className:"k-spinner-increase","aria-label":ee.toLanguageString(fd,Yd[fd]),title:ee.toLanguageString(fd,Yd[fd]),onClick:Ie}),o.createElement(bo,{tabIndex:-1,type:"button",icon:"caret-alt-down",svgIcon:Qc,rounded:null,fillMode:K,className:"k-spinner-decrease","aria-label":ee.toLanguageString(gd,Yd[gd]),title:ee.toLanguageString(gd,Yd[gd]),onClick:Ee})));return x?o.createElement(Rc,p({label:x,editorId:Z,editorValue:null===ce?"":ce,editorValid:Ne,editorDisabled:R,editorPlaceholder:m,children:Te,style:{width:c},dir:v},J)):Te});xu.propTypes={value:jt.number,defaultValue:jt.number,step:jt.number,format:jt.oneOfType([jt.string,jt.shape({style:jt.oneOf(["decimal","currency","percent","scientific","accounting"]),currency:jt.string,currencyDisplay:jt.oneOf(["symbol","code","name"]),useGrouping:jt.bool,minimumIntegerDigits:jt.number,minimumFractionDigits:jt.number,maximumFractionDigits:jt.number})]),width:jt.oneOfType([jt.string,jt.number]),tabIndex:jt.number,accessKey:jt.string,title:jt.string,placeholder:jt.string,min:jt.number,max:jt.number,spinners:jt.bool,disabled:jt.bool,readOnly:jt.bool,dir:jt.string,name:jt.string,label:jt.string,validationMessage:jt.string,required:jt.bool,id:jt.string,rangeOnEnter:jt.bool,ariaLabelledBy:jt.string,ariaDescribedBy:jt.string,ariaLabel:jt.string,onChange:jt.func,onFocus:jt.func,onBlur:jt.func,size:jt.oneOf([null,"small","medium","large"]),rounded:jt.oneOf([null,"small","medium","large","full"]),fillMode:jt.oneOf([null,"solid","flat","outline"]),inputAttributes:jt.object};const bu={prefix:e=>null,suffix:e=>null,step:1,spinners:!0,disabled:!1,required:!1,validityStyles:!0,rangeOnEnter:!0,autoFocus:!1,onChange:e=>{},onFocus:e=>{},onBlur:e=>{},size:"medium",rounded:"medium",fillMode:"solid"};xu.displayName="KendoNumericTextBox";const wu=["size","rounded","fillMode","autoFocus","prefix","suffix","ariaDescribedBy","ariaLabelledBy","autoSize","className","defaultValue","disabled","readOnly","required","rows","id","name","placeholder","style","tabIndex","value","valid","validationMessage","validityStyles","onChange","onFocus","onBlur","visited","touched","modified","resizable","inputAttributes"],ku=ja(),Cu=o.forwardRef((e,t)=>{const n=Ea(ku,e),{size:i=Su.size,rounded:r=Su.rounded,fillMode:a=Su.fillMode,autoFocus:l=Su.autoFocus,prefix:c=null,suffix:d=null,ariaDescribedBy:u,ariaLabelledBy:h,autoSize:m,className:f,defaultValue:g,disabled:v,readOnly:y,required:x,rows:b,id:w,name:k,placeholder:C,style:S,tabIndex:I,value:E,valid:j,validationMessage:A,validityStyles:_,onChange:D,onFocus:N,onBlur:T,visited:P,touched:M,modified:O,resizable:R,inputAttributes:L}=n,F=s(n,wu),z=o.useRef(null),B=o.useCallback(()=>{z.current&&z.current.focus()},[]),[V,H]=o.useState(g),[q,U]=Uc(c),[G,W]=Uc(d),K=void 0!==E,Y=K?E:V,X=o.useCallback(()=>({element:z,focus:B,get value(){return Y},get name(){return z.current&&z.current.name}}),[B,Y]);o.useImperativeHandle(t,X);const[J,Q]=o.useState("auto"),Z=on(),$=ko(z,n.dir),ee=void 0!==j?j:!x||!!Y;o.useEffect(()=>{z.current&&z.current.setCustomValidity&&z.current.setCustomValidity(ee?"":A||"")},[ee,A]),nn(()=>{z.current&&Q("".concat(z.current.scrollHeight,"px"))},[Y]);const te=o.useCallback(e=>{const t=e.target.value;Q("auto"),!K&&!v&&H(t),D&&!v&&Gc(D,e,p(p({},X()),{},{value:t}),{value:t})},[H,D,v,K]),ne=o.useCallback(e=>{N&&!v&&Gc(N,e,X(),void 0)},[N,v]),oe=o.useCallback(e=>{T&&!v&&Gc(T,e,X(),void 0)},[T,v]),ie=p(p({id:w||Z,role:"textbox",name:k,className:rn("k-input-inner","!k-overflow-auto",{"k-resize":!m&&"none"!==R}),ref:z,disabled:v,rows:b,placeholder:C,readOnly:y,required:x,tabIndex:Yc(I,v),autoFocus:l,style:m?{resize:"none",overflow:"hidden",height:J}:R?{resize:R}:{},"aria-labelledby":h,"aria-describedby":u,"aria-multiline":!0,"aria-disabled":v||void 0,"aria-required":x,value:K?E:V},Object.assign({},F,L)),{},{onChange:te,onFocus:ne,onBlur:oe});return o.createElement("span",{className:rn("k-input","k-textarea",{["k-input-".concat(Co.sizeMap[i]||i)]:i,["k-input-".concat(a)]:a,["k-rounded-".concat(Co.roundedMap[r]||r)]:r,"k-invalid":!(ee||void 0!==_||!0===_),"k-required":x,"k-disabled":v},f),style:S,dir:$},n.prefix&&o.createElement(q,p({},U)),o.createElement("textarea",p({},ie)),n.suffix&&o.createElement(G,p({},W)))});Cu.propTypes={ariaDescribedBy:jt.string,ariaLabelledBy:jt.string,autoSize:jt.bool,className:jt.string,defaultValue:jt.string,dir:jt.string,disabled:jt.bool,readOnly:jt.bool,rows:jt.number,id:jt.string,name:jt.string,placeholder:jt.string,style:jt.object,tabIndex:jt.number,value:jt.oneOfType([jt.string,jt.arrayOf(jt.string),jt.number]),onChange:jt.func,onFocus:jt.func,onBlur:jt.func,size:jt.oneOf([null,"small","medium","large"]),rounded:jt.oneOf([null,"small","medium","large","full"]),fillMode:jt.oneOf([null,"solid","flat","outline"]),resizable:jt.oneOf(["none","both","horizontal","vertical"]),autoFocus:jt.bool};const Su={size:"medium",rounded:"medium",fillMode:"solid",autoFocus:!1};Cu.displayName="KendoTextArea";const Iu=["ariaDescribedBy","ariaLabelledBy","checked","className","labelClassName","children","defaultChecked","disabled","defaultValue","id","size","rounded","label","labelPlacement","name","labelOptional","onChange","onFocus","onBlur","tabIndex","value","required","valid","validationMessage","validityStyles","autoFocus","visited","touched","modified"],Eu=ja(),ju=o.forwardRef((e,t)=>{const n=Ea(Eu,e),{ariaDescribedBy:i,ariaLabelledBy:r,checked:a,className:l,labelClassName:c,children:d,defaultChecked:u,disabled:h,defaultValue:m,id:f,size:g=Au.size,rounded:v=Au.rounded,label:y,labelPlacement:x,name:b,labelOptional:w,onChange:k,onFocus:C,onBlur:S,tabIndex:I,value:E,required:j,valid:A,validationMessage:_,validityStyles:D,autoFocus:N,visited:T,touched:P,modified:M}=n,O=s(n,Iu),R=o.useRef(null),L=o.useCallback(()=>{R.current&&R.current.focus()},[]),F=o.useCallback(()=>({element:R.current,focus:L,get name(){return R.current&&R.current.name}}),[L]);o.useImperativeHandle(t,F);const[z,B]=o.useState(u),[V,H]=o.useState(m),q="boolean"==typeof E||null===E,U=void 0!==a,G=q,W=G?E:V,K=U?a:G?void 0:z,Y=void 0===K&&W,X=Y?W:K,J=Y||G?null===E?E:void 0:E||W,Q=null===X||null===J,Z=on(),$=Tc(),ee=e=>$.toLanguageString(e,Yd[e]),te=ee(zd),ne=ee(Bd),oe=void 0!==A?A:!j||!!K;o.useEffect(()=>{R.current&&R.current.setCustomValidity&&R.current.setCustomValidity(oe?"":_||te)},[oe,_,te]);const ie=o.useCallback((e,t)=>{!G&&!h&&(H(t),!U&&!h&&B(t)),k&&!h&&Gc(k,e,p(p({},F()),{},{value:t}),{value:t})},[U,h,k,G,F]),re=o.useCallback(e=>{const t=e.target.checked;ie(e,t)},[ie,E]),ae=o.useCallback(e=>{if(h)return;const{keyCode:t}=e,n=e.currentTarget.checked;t===Tt&&(e.preventDefault(),e.stopPropagation(),ie(e,!n))},[h,ie]),se=o.useCallback(e=>{if(h)return;const{keyCode:t}=e;t===Tt&&e.preventDefault()},[h]),le=o.useCallback(e=>{C&&!h&&Gc(C,e,F(),void 0)},[C,h,F]),ce=o.useCallback(e=>{S&&!h&&Gc(S,e,F(),void 0)},[S,h,F]),de=ko(R,n.dir),ue=rn("k-checkbox-wrap",l),pe=p(p({type:"checkbox",className:rn("k-checkbox",{["k-checkbox-".concat(Co.sizeMap[g]||g)]:g,["k-rounded-".concat(Co.roundedMap[v]||v)]:v,"k-indeterminate":Q,"k-disabled":h,"k-invalid k-invalid":!(oe||void 0!==D||!0===D)}),ref:R,name:b,id:f||Z,disabled:h,required:void 0!==j&&j,tabIndex:Yc(I,h),role:"checkbox",checked:!!X,"aria-describedby":i,"aria-labelledby":r,"aria-disabled":h||void 0,"aria-required":j,autoFocus:N},O),{},{onChange:re,onKeyDown:ae,onKeyUp:se,onFocus:le,onBlur:ce}),he=void 0===J?o.createElement("input",p({},pe)):o.createElement("input",p(p({},pe),{},{value:q?void 0:null===J?"":J})),me=void 0!==y?o.createElement("label",{className:rn("k-checkbox-label",c),htmlFor:f||Z,style:{userSelect:"none"}},y,w&&o.createElement("span",{className:"k-label-optional"},ne)):null,fe=o.createElement("span",{className:ue},he,d);return o.createElement(o.Fragment,null,"before"===x?o.createElement("div",{dir:"rtl"},fe,me):"after"===x?o.createElement("div",{dir:"ltr"},fe,me):o.createElement("div",{dir:de},fe,me))});ju.propTypes={checked:jt.bool,className:jt.string,defaultChecked:jt.bool,defaultValue:jt.any,dir:jt.string,disabled:jt.bool,id:jt.string,size:jt.oneOf([null,"small","medium","large"]),rounded:jt.oneOf([null,"small","medium","large"]),ariaLabelledBy:jt.string,ariaDescribedBy:jt.string,label:jt.any,labelPlacement:jt.string,labelOptional:jt.bool,name:jt.string,tabIndex:jt.number,value:jt.any,validationMessage:jt.string,required:jt.bool,validate:jt.bool,valid:jt.bool,autoFocus:jt.bool,onChange:jt.func,onFocus:jt.func,onBlur:jt.func};const Au={size:"medium",rounded:"medium",autoFocus:!1};ju.displayName="KendoCheckbox";const _u={clearButton:"".concat(pn.prefix,"-").concat(pn.clear,"-").concat(pn.value),groupStickyHeader:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Cn.group,"-").concat(En.sticky,"-").concat(Sn.header),listHeaderText:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Sn.header,"-").concat(Sn.text),ul:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Sn.ul),li:{main:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Cn.item),selected:"".concat(pn.prefix,"-").concat(En.selected),focused:"".concat(pn.prefix,"-").concat(En.focus),first:"".concat(pn.prefix,"-").concat(En.first),disabled:"".concat(pn.prefix,"-").concat(En.disabled)},groupLi:{list:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Cn.group,"-").concat(Cn.item),table:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Cn.group,"-").concat(Cn.row)},itemText:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Cn.item,"-").concat(Sn.text),groupItemText:{list:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Cn.item,"-").concat(Sn.text),table:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Sn.th)},itemGroupLabel:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Cn.item,"-").concat(Cn.group,"-").concat(Sn.label),noData:"".concat(pn.prefix,"-").concat(pn.nodata),heightContainer:"".concat(pn.prefix,"-").concat(bn.height,"-").concat(Cn.container),optionLabel:{main:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Cn.optionLabel),selected:"".concat(pn.prefix,"-").concat(En.selected)},inputInner:"".concat(Vn,"-").concat(An.inner),inputIcon:"".concat(pn.prefix,"-").concat(An.input,"-").concat(Dn.prefix),searchbox:"".concat(pn.prefix,"-").concat(mn.searchbox),listFilter:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(pn.filter)},Du={clearButton:un(_u,"clearButton"),groupStickyHeader:un(_u,"groupStickyHeader"),listHeaderText:un(_u,"listHeaderText"),ul:un(_u,"ul"),li:e=>{const{c:t=_u,selected:n,focused:o,first:i,disabled:r}=e,a=t.li;return{[a.main]:!0,[a.selected]:n,[a.focused]:o,[a.first]:i,[a.disabled]:r}},groupLi:e=>{const{c:t=_u,isMultiColumn:n}=e,o=t.groupLi;return{[o.table]:n,[o.list]:!n}},itemText:un(_u,"itemText"),groupItemText:e=>{const{c:t=_u,isMultiColumn:n}=e,o=t.groupItemText;return{[o.table]:n,[o.list]:!n}},itemGroupLabel:un(_u,"itemGroupLabel"),noData:un(_u,"noData"),heightContainer:un(_u,"heightContainer"),optionLabel:e=>{const{c:t=_u,selected:n}=e,o=t.optionLabel;return{[o.main]:!0,[o.selected]:n}},inputInner:un(_u,"inputInner"),inputIcon:un(_u,"inputIcon"),searchbox:un(_u,"searchbox"),listFilter:un(_u,"listFilter")},Nu={wrapper:{main:"".concat(pn.prefix,"-").concat(En.adaptive,"-").concat(mn.actionsheet),fullscreen:"".concat(pn.prefix,"-").concat(mn.actionsheet,"-").concat(En.fullscreen),bottom:"".concat(pn.prefix,"-").concat(mn.actionsheet,"-").concat(En.bottom)},header:"".concat(pn.prefix,"-").concat(Sn.text,"-").concat(hn.center),titleBar:{main:"".concat(pn.prefix,"-").concat(mn.actionsheet,"-").concat(Cn.titlebar,"-").concat(Cn.group),position:"".concat(pn.prefix,"-").concat(hn.hbox)},title:"".concat(pn.prefix,"-").concat(mn.actionsheet,"-").concat(Sn.title),subtitle:{main:"".concat(pn.prefix,"-").concat(mn.actionsheet,"-").concat(Sn.subtitle),textCenter:"".concat(pn.prefix,"-").concat(Sn.text,"-").concat(hn.center)},actions:"".concat(pn.prefix,"-").concat(mn.actionsheet,"-").concat(Cn.actions),titleBarGroup:{main:"".concat(pn.prefix,"-").concat(mn.actionsheet,"-").concat(Cn.titlebar,"-").concat(Cn.group),filter:"".concat(pn.prefix,"-").concat(mn.actionsheet,"-").concat(pn.filter)}},Tu={wrapper:e=>{const{c:t=Nu,isFullScreen:n}=e,o=t.wrapper;return{[o.main]:!0,[o.fullscreen]:n,[o.bottom]:!n}},header:un(Nu,"header"),titleBar:e=>{const{c:t=Nu}=e,n=t.titleBar;return{[n.main]:!0,[n.position]:!0}},title:un(Nu,"title"),subtitle:e=>{const{c:t=Nu}=e,n=t.subtitle;return{[n.main]:!0,[n.textCenter]:!0}},actions:un(Nu,"actions"),titleBarGroup:e=>{const{c:t=Nu}=e,n=t.titleBarGroup;return{[n.main]:!0,[n.filter]:!0}}},Pu={wrapper:{main:Wn,picker:Gn,size:{small:"".concat(Gn,"-").concat(fn.small),medium:"".concat(Gn,"-").concat(fn.medium),large:"".concat(Gn,"-").concat(fn.large)},fillMode:{solid:"".concat(Gn,"-").concat(gn.solid),outline:"".concat(Gn,"-").concat(gn.outline),flat:"".concat(Gn,"-").concat(gn.flat),link:"".concat(Gn,"-").concat(gn.link),clear:"".concat(Gn,"-").concat(gn.clear)},rounded:{small:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.small),medium:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.medium),large:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.large)},disabled:"".concat(pn.prefix,"-").concat(En.disabled),focused:"".concat(pn.prefix,"-").concat(En.focus),invalid:"".concat(pn.prefix,"-").concat(En.invalid),loading:"".concat(pn.prefix,"-").concat(En.loading),required:"".concat(pn.prefix,"-").concat(En.required)},loadingIcon:"".concat(Vn,"-").concat(En.loading,"-").concat(Dn.prefix),inputButton:"".concat(Vn,"-").concat(Sn.button),listContainer:{main:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Cn.container),popup:"".concat(pn.prefix,"-").concat(mn.dropdownlist,"-").concat(Cn.popup)},inputInner:"".concat(Vn,"-").concat(An.inner),inputText:"".concat(Vn,"-").concat(pn.value,"-").concat(Sn.text),listHeader:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Sn.header),list:{main:"".concat(pn.prefix,"-").concat(Cn.list),size:{small:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(fn.small),medium:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(fn.medium),large:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(fn.large)},virtual:"".concat(pn.prefix,"-").concat(pn.virtual,"-").concat(Cn.list)},listContent:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Cn.content),listFooter:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Sn.footer)},Mu={wrapper:e=>{const{c:t=Pu,size:n,rounded:o,fillMode:i,focused:r,disabled:a,invalid:s,loading:l,required:c}=e,d=t.wrapper;return{[d.main]:!0,[d.picker]:!0,[d.size[n]]:d.size[n],["".concat(Gn,"-").concat(n)]:n&&!d.size[n],[d.fillMode[i]]:d.fillMode[i],[d.rounded[o]]:d.rounded[o],["".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(o)]:o&&!d.rounded[o],[d.focused]:r,[d.disabled]:a,[d.loading]:l,[d.invalid]:s,[d.required]:c}},loadingIcon:un(Pu,"loadingIcon"),inputButton:un(Pu,"inputButton"),listContainer:e=>{const{c:t=Pu}=e,n=t.listContainer;return{[n.main]:!0,[n.popup]:!0}},inputInner:un(Pu,"inputInner"),inputText:un(Pu,"inputText"),listHeader:un(Pu,"listHeader"),list:e=>{const{c:t=Pu,size:n,virtual:o}=e,i=t.list;return{[i.main]:!0,[i.size[n]]:i.size[n],["".concat(pn.prefix,"-").concat(Cn.list,"-").concat(n)]:n&&!i.size[n],[i.virtual]:o}},listContent:un(Pu,"listContent"),listFooter:un(Pu,"listFooter")},Ou={wrapper:{main:Kn,input:Vn,size:{small:"".concat(Vn,"-").concat(fn.small),medium:"".concat(Vn,"-").concat(fn.medium),large:"".concat(Vn,"-").concat(fn.large)},fillMode:{solid:"".concat(Vn,"-").concat(gn.solid),outline:"".concat(Vn,"-").concat(gn.outline),flat:"".concat(Vn,"-").concat(gn.flat),link:"".concat(Vn,"-").concat(gn.link),clear:"".concat(Vn,"-").concat(gn.clear)},rounded:{small:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.small),medium:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.medium),large:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.large)},disabled:"".concat(pn.prefix,"-").concat(En.disabled),invalid:"".concat(pn.prefix,"-").concat(En.invalid),loading:"".concat(pn.prefix,"-").concat(En.loading),required:"".concat(pn.prefix,"-").concat(En.required)},loadingIcon:"".concat(Vn,"-").concat(En.loading,"-").concat(Dn.prefix),inputButton:"".concat(Vn,"-").concat(Sn.button),listContainer:{main:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Cn.container),popup:"".concat(pn.prefix,"-").concat(mn.combobox,"-").concat(Cn.popup)},listHeader:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Sn.header),list:{list:"".concat(pn.prefix,"-").concat(Cn.list),table:"".concat(pn.prefix,"-").concat(pn.data,"-").concat(Sn.table),size:{prefix:"".concat(pn.prefix,"-").concat(Cn.list,"-"),small:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(fn.small),medium:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(fn.medium),large:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(fn.large)},tableSize:{prefix:"".concat(pn.prefix,"-").concat(Sn.table,"-"),small:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(fn.small),medium:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(fn.medium),large:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(fn.large)},virtual:"".concat(pn.prefix,"-").concat(pn.virtual,"-").concat(Cn.list)},listContent:{main:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Cn.content),scroller:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(pn.scroller)},listFooter:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Sn.footer)},Ru=(un(Ou,"loadingIcon"),un(Ou,"inputButton"),un(Ou,"listHeader"),un(Ou,"listFooter"),{small:500,medium:768}),Lu=o.createContext(Ru),Fu=()=>o.useContext(Lu);Lu.displayName="KendoReactAdaptiveModeContext";const zu=e=>{const{children:t,width:n,dir:i,itemsCount:r,popupSettings:a}=e,s=o.useContext(Ro),l=s?s+2e3:12e3;return o.createElement(Ro.Provider,{value:l},o.createElement(Ci,p({style:{width:n,direction:i},contentKey:r&&r.join()},a),t))},Bu=["orientation"],Vu=o.forwardRef((e,t)=>{let{orientation:n="horizontal"}=e,i=s(e,Bu);const r=o.useRef(null),a=o.useRef(null),l=po(),c=l&&l.uTextBox;o.useImperativeHandle(r,()=>({element:a.current})),o.useImperativeHandle(t,()=>r.current);const d=o.useMemo(()=>rn(Ca.prefix({c:c,orientation:n}),i.className),[i.className,c,n]);return o.createElement("span",p(p({},i),{},{className:d}))});Vu.displayName="KendoReactInputPrefix";const Hu=["orientation"],qu=o.forwardRef((e,t)=>{let{orientation:n="vertical"}=e,i=s(e,Hu);const r=o.useRef(null),a=o.useRef(null);return o.useImperativeHandle(r,()=>({element:a.current})),o.useImperativeHandle(t,()=>r.current),o.createElement("span",p(p({},i),{},{className:rn("k-input-separator",i.className,"k-input-separator-".concat(n))}))});function Uu(e){let{onFocus:t,onBlur:n,onSyncFocus:i,onSyncBlur:r}=e;const a=o.useRef(!1),s=o.useRef(0),l=o.useCallback(e=>{clearTimeout(s.current),s.current=window.setTimeout(()=>e())},[s]),c=o.useCallback(function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];clearTimeout(s.current),i&&i.call(void 0,n[0]),!a.current&&(a.current=!0,t&&t.call(void 0,...n))},[a,t,i]),d=o.useCallback(function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];r&&r.call(void 0,t[0]),l(()=>{a.current&&n&&(a.current=!1,n.call(void 0,...t))})},[a,l,n,r]);return o.useEffect(()=>()=>{clearTimeout(s.current)},[]),{onFocus:c,onBlur:d}}qu.displayName="KendoReactInputSeparator";const Gu=["size","fillMode","rounded","autoFocus","inputAttributes","className","dir","style","prefix","suffix","valid","onFocus","onBlur","modified","touched","visited"],Wu=o.forwardRef((e,t)=>{const n=o.useRef(null),i=o.useRef(null),r=o.useRef(void 0),a=po(),l=a&&a.uTextBox,c=o.useCallback(()=>{var e;return void 0!==r.current?r.current:null==(e=n.current)?void 0:e.value},[]);o.useImperativeHandle(i,()=>({get element(){return n.current},get name(){return n.current&&n.current.name},get value(){return c()}})),o.useImperativeHandle(t,()=>i.current);const{size:d=Ku.size,fillMode:u=Ku.fillMode,rounded:h=Ku.rounded,autoFocus:m=Ku.autoFocus,inputAttributes:f,className:g,dir:v,style:y,prefix:x=Ku.prefix,suffix:b=Ku.suffix,valid:w,onFocus:k,onBlur:C,modified:S,touched:I,visited:E}=e,j=s(e,Gu),[A]=Uc(x),[_]=Uc(b),[D,N]=o.useState(!1),T=o.useCallback(t=>{r.current=t.target.value,e.onChange&&e.onChange.call(void 0,{syntheticEvent:t,nativeEvent:t.nativeEvent,value:t.target.value,target:i.current}),r.current=void 0},[e.onChange]),{onFocus:P,onBlur:M}=Uu({onFocus:e=>{N(!0)},onBlur:e=>{N(!1)},onSyncFocus:k,onSyncBlur:C}),O=o.useMemo(()=>rn(Ca.wrapper({c:l,rounded:h,fillMode:u,size:d,focused:D,required:e.required,disabled:e.disabled,invalid:!1===e.valid}),g),[g,u,D,e.disabled,e.required,e.valid,h,d,l]);return o.createElement("span",{style:y,dir:v,className:O,onFocus:P,onBlur:M},o.createElement(A,null),o.createElement("input",p(p({ref:n,className:rn(Ca.inputInner({c:l})),autoFocus:m},Object.assign({},j,f)),{},{"aria-required":e.required,onChange:T})),o.createElement(_,null))}),Ku={prefix:e=>null,suffix:e=>null,size:"medium",rounded:"medium",fillMode:"solid",autoFocus:!1};Wu.propTypes={size:jt.oneOf([null,"small","medium","large"]),rounded:jt.oneOf([null,"small","medium","large","full"]),fillMode:jt.oneOf([null,"solid","flat","outline"]),autoFocus:jt.bool,inputAttributes:jt.object},Wu.displayName="KendoReactTextBoxComponent";const Yu=["renderListFilterWrapper","renderPrefixSeparator"],Xu=o.forwardRef((e,t)=>{const n=o.useRef(null),{renderListFilterWrapper:i=!1,renderPrefixSeparator:r=!1}=e,a=s(e,Yu),l=po(),c=l&&l.uDropDownsBase;o.useImperativeHandle(t,()=>n.current);const d=o.createElement(Wu,p(p({},a),{},{ref:n,className:rn(Du.searchbox({c:c})),value:e.value||"",onChange:e.onChange,onKeyDown:e.onKeyDown,tabIndex:e.tabIndex,onClick:e=>e.stopPropagation(),size:e.size,fillMode:e.fillMode,rounded:e.rounded,prefix:()=>o.createElement(o.Fragment,null,o.createElement(Vu,null,o.createElement(yo,{name:"search",icon:hd,className:rn(Du.inputIcon({c:c}))})),r&&o.createElement(qu,null))}));return i?o.createElement("div",{className:rn(Du.listFilter({c:c}))}," ",d," "):d});Xu.propTypes={value:jt.oneOfType([jt.string,jt.number,jt.array]),tabIndex:jt.number,onChange:jt.func,onKeyDown:jt.func,size:jt.oneOf([null,"small","medium","large"]),rounded:jt.oneOf([null,"small","medium","large","full"]),fillMode:jt.oneOf([null,"solid","flat","outline"]),renderListFilterWrapper:jt.bool,renderPrefixSeparator:jt.bool},Xu.displayName="KendoReactListFilter";const Ju=e=>{const{group:t,groupMode:n,render:i}=e,r=po(),a=r&&r.uDropDownsBase,s=o.createElement("div",{className:rn(Du.groupStickyHeader({c:a}))},"classic"===n?t:o.createElement("div",{className:rn(Du.listHeaderText({c:a}))},t));return void 0!==i?i.call(void 0,s,e):s},Qu=e=>null!=e,Zu=(e,t,n)=>{if(!Qu(e))return!1;let o=String(e);return n&&(o=o.toLowerCase()),0===o.indexOf(t)},$u=(e,t,n)=>{let o=-1;if(t){t=t.toLowerCase();for(let i=0;i<e.length;i++){const r=(ep(e[i],n)||"")+"";if(r&&r.toLowerCase().startsWith(t)){o=i;break}}}return o},ep=(e,t)=>{if(t&&Qu(e)){const n=t.split(".");let o=e;return n.forEach(e=>{o=o?o[e]:void 0}),o}return e},tp=(e,t,n)=>{t.forEach(t=>{const o=e.findIndex(e=>np(e,t,n));-1!==o&&e.splice(o,1)})},np=(e,t,n)=>e===t||Qu(e)===Qu(t)&&ep(e,n)===ep(t,n),op=e=>{"INPUT"!==e.target.nodeName&&e.preventDefault()},ip=(e,t,n)=>!!e==!!t&&e.text===t.text&&(e===t||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(e===t)return!0;if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!np(e[o],t[o],n))return!1;return!0}(e.data,t.data,n)),rp=e=>{const{data:t=[],groupField:n}=e;return n?t.filter(e=>n&&void 0!==e[n]):t},ap=e=>e.preventDefault(),sp=e=>{const{selected:t,defaultItem:n,textField:i}=e,r=po(),a=r&&r.uDropDownsBase;return o.createElement("div",{onClick:e.onClick,onMouseDown:ap,style:{position:"unset"},className:rn(Du.optionLabel({c:a,selected:t}))},ep(n,i)||"")},lp=e=>{const{selected:t,group:n,dataItem:i,virtual:r,groupMode:a,disabled:s,id:l,focused:c,render:d}=e,u=po(),p=u&&u.uDropDownsBase,h=o.createElement("li",{id:l,role:"option","aria-selected":t,"aria-disabled":!!s||void 0,className:rn(Du.li({c:p,selected:t,focused:c,first:!!n&&"classic"===a,disabled:s})),onClick:t=>e.onClick(e.index,t),style:{position:r?"relative":"unset"}},o.createElement("span",{className:rn(Du.itemText({c:p}))},ep(i,e.textField).toString()),void 0!==n&&"classic"===a?o.createElement("div",{className:rn(Du.itemGroupLabel({c:p}))},n):null);return void 0!==d?d.call(void 0,h,e):h},cp=e=>{const{group:t,virtual:n,render:i,isMultiColumn:r=!1,id:a}=e,s=po(),l=s&&s.uDropDownsBase,c=o.createElement("li",{id:a,role:"group",className:rn(Du.groupLi({c:l,isMultiColumn:r})),style:r?{boxSizing:"inherit",position:n?"relative":"unset"}:{position:n?"relative":"unset"}},o.createElement("span",{className:i?void 0:rn(Du.groupItemText({c:l,isMultiColumn:r}))},t));return void 0!==i?i.call(void 0,c,e):c},dp="dropdowns.nodata",up="dropdowns.clear",pp="dropdowns.comboArrowBtnAriaLabelExpand",hp="dropdowns.comboArrowBtnAriaLabelCollapse",mp="dropdowns.dropDownListArrowBtnAriaLabel",fp="dropdowns.apply",gp="dropdowns.cancel",vp={[up]:"clear",[dp]:"NO DATA FOUND.",[pp]:"expand combobox",[hp]:"collapse combobox",[mp]:"select",[fp]:"Apply",[gp]:"Cancel"},yp=e=>{const t=Tc(),n=po(),i=n&&n.uDropDownsBase,{id:r,show:a,wrapperCssClass:s,wrapperStyle:l,listStyle:c,listRef:d,wrapperRef:u,listClassName:p,ariaSetSize:h}=e,m=(()=>{const{textField:t,valueField:n,groupField:i,groupMode:r,isMultiColumn:a,optionsGuid:s,skip:l=0,virtual:c,focusedIndex:d,hasDuplicates:u,highlightSelected:p=!0,value:h,data:m,itemRender:f,groupHeaderItemRender:g}=e,v=Array.isArray(h);let y=0;return m.map((x,b)=>{const w=l+b,k=l+b+y,C=u?!!h&&d===b:!x.disabled&&(p&&(!v&&np(x,h,n)||v&&-1!==h.findIndex(e=>np(e,x,n))));let S,I,E;b>0&&void 0!==i&&(I=ep(x,i),E=ep(m[b-1],i),I&&E&&I!==E&&(S=I));const j=void 0!==S&&"modern"===r;return j?y+=1:y=0,[j&&o.createElement(cp,{id:"option-".concat(s,"-").concat(k),virtual:c,key:w+"-group-item",group:S,isMultiColumn:a,render:g}),o.createElement(lp,{id:"option-".concat(s,"-").concat(j?k+1:k),virtual:c,dataItem:x,groupMode:r,selected:C,focused:d===b,index:w,key:w,onClick:e.onClick,textField:t,group:S,render:f,disabled:x.disabled})]})})();return m.length?o.createElement("div",{className:s,style:l,ref:u,onMouseDown:e.onMouseDown,onBlur:e.onBlur,onScroll:e.onScroll,unselectable:"on"},o.createElement("ul",{id:r,role:"listbox","aria-hidden":!a||void 0,"aria-setsize":h,className:p||rn(Du.ul({c:i})),ref:d,style:c},m),e.scroller&&o.createElement("div",{className:rn(Du.heightContainer({c:i}))},e.scroller)):(()=>{const n=e.noDataRender,r=o.createElement("div",{className:rn(Du.noData({c:i}))},o.createElement("div",null,t.toLanguageString(dp,vp[dp])));return n?n.call(void 0,r):r})()};function xp(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function bp(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!xp(e[n],t[n]))return!1;return!0}function wp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bp,n=null;function o(){for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return o.clear=function(){n=null},o}class kp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;this.total=e,this.offsets=[],this.heights=[];let i=0;for(let r=0;r<e;r++){this.offsets.push(i);const e=o&&o[r].expanded&&"data"===o[r].rowType?n:t;i+=e,this.heights.push(e)}}height(e){return this.heights[e]}index(e){for(let t=0;t<this.offsets.length;t++){if(e===this.offsets[t])return t;if(e<this.offsets[t])return t-1}return this.total-1}offset(e){return this.offsets[e]}totalHeight(){return this.offsets[this.offsets.length-1]+this.heights[this.heights.length-1]}}const Cp="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent);class Sp{constructor(){this.table=null,this.total=0,this.enabled=!1,this.skip=0,this.pageSize=0,this.PageChange=null,this.scrollElement=null,this.listTransform="",this.itemHeight=0,this.containerHeight=0,this.reactVersion=Number.parseFloat(o.version),this.scrollSyncing=!1,this.lastLoaded=0,this.firstLoaded=0,this.lastScrollTop=0,this.listTranslate=0,this.list=null,this.container=null,this.calcScrollElementHeight=()=>{var e;this.scrollSyncing=!0;let t=!1;this.itemHeight=this.list?this.list.children[0].offsetHeight:this.itemHeight;const n=this.itemHeight*this.total-((null==(e=this.list)?void 0:e.offsetHeight)||0);this.containerHeight=Cp?Math.min(17895697,n):n;const o=this.containerHeight;return this.scrollElement&&(t=this.scrollElement.style.height!==o+"px",t&&(this.scrollElement.style.height=o+"px")),this.scrollSyncing=!1,t},this.scrollerRef=e=>{this.container=e,e&&(e.setAttribute("unselectable","on"),window.setTimeout(this.calcScrollElementHeight.bind(this),0))},this.getRowHeightService=wp((e,t)=>new kp(t,e,0)),this.firstLoaded=this.pageSize,this.lastLoaded=this.skip+this.pageSize,this.scrollHandler=this.scrollHandler.bind(this)}get translate(){return this.listTranslate}translateTo(e,t){this.listTranslate=e,this.enabled&&this.list&&(Cp||this.reactVersion<=17||t?this.list.style.transform="translateY("+e+"px)":this.listTransform="translateY("+e+"px)")}changePage(e,t){const n=Math.min(Math.max(0,e),this.total-this.pageSize);n!==this.skip&&this.PageChange&&this.PageChange({skip:n,take:this.pageSize},t)}reset(){this.container&&(this.calcScrollElementHeight(),this.container.scrollTop=0,this.translateTo(0,!0))}scrollToEnd(){if(this.container&&this.list){this.calcScrollElementHeight();const{scrollHeight:e,offsetHeight:t}=this.container;this.container.scrollTop=e,this.translateTo(e-t,!0)}}scrollHandler(e){if(!this.enabled||!this.container||!this.list)return;if(this.scrollSyncing)return void(this.scrollSyncing=!1);this.rowHeightService=this.getRowHeightService(this.itemHeight,this.total);const t=this.container.scrollTop,n=this.lastScrollTop>=t,o=!n,i=Math.abs(t-this.lastScrollTop);this.lastScrollTop=t;let r=this.rowHeightService.index(t),a=this.rowHeightService.offset(r);const{offsetHeight:s}=this.container,l=this.rowHeightService.index(t+s);if(o&&l>=this.lastLoaded&&this.lastLoaded<this.total){const t=r+this.pageSize-this.total;t>0&&(r-=t,a=this.rowHeightService.offset(r)),this.firstLoaded=r,this.translateTo(a);const n=this.firstLoaded+this.pageSize;this.lastLoaded=Math.min(n,this.total),this.changePage(this.firstLoaded,e)}else if(n&&r-1<=this.firstLoaded){const t=i===this.itemHeight;if(0===this.skip&&t)this.lastScrollTop=0,this.firstLoaded=0,this.lastLoaded=this.pageSize,this.container.scrollTop=0,this.translateTo(0,!0);else{const t=Math.floor(.3*this.pageSize);this.firstLoaded=Math.max(r-t,0),this.translateTo(this.rowHeightService.offset(this.firstLoaded)),this.lastLoaded=Math.min(this.firstLoaded+this.pageSize,this.total),this.changePage(this.firstLoaded,e)}}}}class Ip{navigate(e){const t=e.keyCode;return t===Ft||t===Lt?this.next({current:e.current,min:e.min,max:e.max,step:e.skipItems?e.skipItems:-1}):t===Bt||t===zt?this.next({current:e.current,min:e.min,max:e.max,step:e.skipItems?e.skipItems:1}):t===Rt?0:t===Ot?e.max:void 0}next(e){return Qu(e.current)?Math.min(e.max,Math.max(e.current+e.step,e.min)):e.min}}const Ep=class e{constructor(e){this.wrapper=null,this.list=null,this.vs=new Sp,this.navigation=new Ip,this.handleItemClick=(e,t)=>{const n=this.initState();n.syntheticEvent=t,t.stopPropagation(),this.component.handleItemSelect(e,n),this.togglePopup(n),this.applyState(n)},this.handleFocus=e=>{if(!this.component.state.focused){const t=this.initState();t.data.focused=!0,t.events.push({type:"onFocus"}),t.syntheticEvent=e,this.applyState(t)}},this.filterChanged=(e,t)=>{const{textField:n,filterable:o}=this.component.props;o&&t.events.push({type:"onFilterChange",filter:{field:n,operator:"contains",ignoreCase:!0,value:e}})},this.togglePopup=e=>{const t=this.component.props,n=void 0!==t.opened?t.opened:this.component.state.opened;void 0===t.opened&&(e.data.opened=!n),n?e.events.push({type:"onClose"}):(e.events.push({type:"onOpen"}),this.calculatePopupWidth())},this.pageChange=(e,t)=>{const n=this.initState();n.syntheticEvent=t,this.triggerOnPageChange(n,e.skip,e.take),this.applyState(n)},this.scrollToVirtualItem=(e,t)=>{const n=this.vs;if(0===e.skip)n.reset();else{let o=n.translate;0===o&&(n.calcScrollElementHeight(),o=n.itemHeight*e.skip,n.translateTo(o,!0)),t<0&&o>0&&(o+=n.itemHeight*(e.pageSize/4)),n.container&&(n.container.scrollTop=o),this.scrollToItem(t,!0)}},this.scrollPopupByPageSize=e=>{var t,n,o,i,r,a;const s=this.vs,l=null==(n=null==(t=this.list)?void 0:t.parentElement)?void 0:n.scrollTop,c=s.enabled&&s.itemHeight?s.itemHeight:this.list?this.list.children[0].offsetHeight:0,d=null==(i=null==(o=this.list)?void 0:o.parentElement)?void 0:i.offsetHeight;void 0!==l&&void 0!==d&&(null==(a=null==(r=this.list)?void 0:r.parentElement)||a.scroll({top:l+e*Math.floor(d/c)*c}))},this.renderScrollElement=()=>{const e=this.vs;return e.enabled&&o.createElement("div",{ref:t=>{e.scrollElement=t},key:"scrollElementKey"})},this.resetGroupStickyHeader=(e,t)=>{e!==t.state.group&&t.setState({group:e})},this.listBoxId=e.props.id+"list",this.guid=e.props.id,this.component=e,this.vs.PageChange=this.pageChange}didUpdate(){this.vs.listTransform&&this.vs.list&&(this.vs.list.style.transform=this.vs.listTransform,this.vs.listTransform="")}didMount(){const e=this.component.props,t=e.popupSettings||{},n=e.style||{},o=t.width;let i=!0===e.opened;void 0===o&&this.calculatePopupWidth(),void 0===e.dir&&void 0===n.direction&&(this.calculateDir(),i=!0),i&&this.component.forceUpdate()}calculateDir(){const e=this.component.element;e&&e.ownerDocument&&e.ownerDocument.defaultView&&(this.dirCalculated=e.ownerDocument.defaultView.getComputedStyle(e).direction||void 0)}calculatePopupWidth(){this.wrapper&&(this.popupWidth=this.wrapper.offsetWidth+"px")}scrollToItem(e,t,n){const o=this.list||this.vs.list;if(!o&&!n&&setTimeout(()=>{this.scrollToItem(e,t,!0)},10),0===e&&t&&0===this.vs.skip)this.vs.reset();else if(o&&e>=0){const n=this.vs,i=n.container||o.parentNode,r=void 0!==t?t:n.enabled;((e,t,n,o,i)=>{const r=e.offsetHeight,a=t.children.item(n),s=a.offsetTop+(i?o-e.scrollTop:0),l=a.offsetHeight;if(i){let t=0;s+l>r?t=s+l-r:s<0&&(t=s),0!==t?e.scrollTop+=t:0===e.scrollTop&&0!==o&&(e.scrollTop=o)}else s+l>r+e.scrollTop?e.scrollTop=s+l-r:s<e.scrollTop&&(e.scrollTop-=e.scrollTop-s)})(i,o,e,n.translate,r)}}updateComponentArgs(e){for(let t in e)Object.hasOwnProperty.call(e,t)&&(this.component[t]=e[t])}initState(){return{data:{},events:[],syntheticEvent:void 0}}applyState(e){Object.keys(e.data).length>0&&this.component.setState(e.data);const t={syntheticEvent:e.syntheticEvent,nativeEvent:e.syntheticEvent?e.syntheticEvent.nativeEvent:void 0,target:this.component,value:this.component.value};e.events.forEach(e=>{const n=e.type;delete e.type;const o=n&&this.component.props[n];o&&o.call(void 0,p(p({},t),e))})}triggerOnPageChange(e,t,n){const o=this.component.props.virtual;if(o){const i=Math.min(Math.max(0,t),Math.max(0,o.total-n));i!==o.skip&&e.events.push({type:"onPageChange",page:{skip:i,take:n}})}}triggerPageChangeCornerItems(e,t){const n=this.component.props,{data:o=[],dataItemKey:i,virtual:r}=n,a=void 0!==n.opened?n.opened:this.component.state.opened;e&&r&&this.vs.enabled&&(r.skip>0&&np(e,o[0],i)?this.triggerOnPageChange(t,r.skip-1,r.pageSize):!a&&r.skip+r.pageSize<r.total&&np(e,o[o.length-1],i)&&this.triggerOnPageChange(t,r.skip+1,r.pageSize))}getPopupSettings(){return Object.assign({},e.defaultProps.popupSettings,this.component.props.popupSettings)}getAdaptiveAnimation(){const e=this.getPopupSettings();return void 0===e.animate||e.animate}getGroupedDataModernMode(e,t){const n=[];return e.forEach((o,i)=>{e[i-1]&&o[t]!==e[i-1][t]&&n.push({[t]:o[t]}),n.push(e[i])}),n}};Ep.basicPropTypes={opened:jt.bool,disabled:jt.bool,dir:jt.string,tabIndex:jt.number,accessKey:jt.string,data:jt.array,textField:jt.string,className:jt.string,label:jt.string,loading:jt.bool,popupSettings:jt.shape({animate:jt.oneOfType([jt.bool,jt.shape({openDuration:jt.number,closeDuration:jt.number})]),popupClass:jt.string,className:jt.string,appendTo:jt.any,width:jt.oneOfType([jt.string,jt.number]),height:jt.oneOfType([jt.string,jt.number])}),onOpen:jt.func,onClose:jt.func,onFocus:jt.func,onBlur:jt.func,onChange:jt.func,itemRender:jt.func,listNoDataRender:jt.func,focusedItemIndex:jt.func,header:jt.node,footer:jt.node},Ep.propTypes=p(p({},Ep.basicPropTypes),{},{value:jt.any,defaultValue:jt.any,filterable:jt.bool,filter:jt.string,virtual:jt.shape({pageSize:jt.number.isRequired,skip:jt.number.isRequired,total:jt.number.isRequired}),onFilterChange:jt.func,onPageChange:jt.func}),Ep.defaultProps={popupSettings:{height:"200px"},required:!1,validityStyles:!0};let jp=Ep;const Ap={name:"@progress/kendo-react-dropdowns",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:1745410715,version:"10.2.0",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},_p={child:{container:"".concat(pn.prefix,"-").concat(jn["".concat(jn.prefix,"-").concat(Cn.container)]),relative:"".concat(pn.prefix,"-").concat(jn["".concat(jn.prefix,"-").concat(Cn.container,"-").concat(jn.relative)])},childContainer:{container:"".concat(pn.prefix,"-").concat(jn["".concat(jn.child,"-").concat(jn.prefix,"-").concat(Cn.container)])},appear:{"push-right":"".concat(pn.prefix,"-").concat(jn.pushRight,"-").concat(jn.appear),"push-left":"".concat(pn.prefix,"-").concat(jn.pushLeft,"-").concat(jn.appear),"push-down":"".concat(pn.prefix,"-").concat(jn.pushDown,"-").concat(jn.appear),"push-up":"".concat(pn.prefix,"-").concat(jn.pushUp,"-").concat(jn.appear),"expand-vertical":"".concat(pn.prefix,"-").concat(jn.expandVertical,"-").concat(jn.appear),"expand-horizontal":"".concat(pn.prefix,"-").concat(jn.expandHorizontal,"-").concat(jn.appear),fade:"".concat(pn.prefix,"-").concat(jn.fade,"-").concat(jn.appear),"zoom-in":"".concat(pn.prefix,"-").concat(jn.zoomIn,"-").concat(jn.appear),"zoom-out":"".concat(pn.prefix,"-").concat(jn.zoomOut,"-").concat(jn.appear),"slide-in":"".concat(pn.prefix,"-").concat(jn.slideIn,"-").concat(jn.appear),"slide-down":"".concat(pn.prefix,"-").concat(jn.slideDown,"-").concat(jn.appear),"slide-up":"".concat(pn.prefix,"-").concat(jn.slideUp,"-").concat(jn.appear),"slide-right":"".concat(pn.prefix,"-").concat(jn.slideRight,"-").concat(jn.appear),"slide-left":"".concat(pn.prefix,"-").concat(jn.slideLeft,"-").concat(jn.appear),"reveal-vertical":"".concat(pn.prefix,"-").concat(jn.revealVertical,"-").concat(jn.appear),"reveal-horizontal":"".concat(pn.prefix,"-").concat(jn.revealHorizontal,"-").concat(jn.appear)},appearActive:{"push-right":"".concat(pn.prefix,"-").concat(jn.pushRight,"-").concat(jn.appear,"-").concat(jn.active),"push-left":"".concat(pn.prefix,"-").concat(jn.pushLeft,"-").concat(jn.appear,"-").concat(jn.active),"push-down":"".concat(pn.prefix,"-").concat(jn.pushDown,"-").concat(jn.appear,"-").concat(jn.active),"push-up":"".concat(pn.prefix,"-").concat(jn.pushUp,"-").concat(jn.appear,"-").concat(jn.active),"expand-vertical":"".concat(pn.prefix,"-").concat(jn.expandVertical,"-").concat(jn.appear,"-").concat(jn.active),"expand-horizontal":"".concat(pn.prefix,"-").concat(jn.expandHorizontal,"-").concat(jn.appear,"-").concat(jn.active),fade:"".concat(pn.prefix,"-").concat(jn.fade,"-").concat(jn.appear,"-").concat(jn.active),"zoom-in":"".concat(pn.prefix,"-").concat(jn.zoomIn,"-").concat(jn.appear,"-").concat(jn.active),"zoom-out":"".concat(pn.prefix,"-").concat(jn.zoomOut,"-").concat(jn.appear,"-").concat(jn.active),"slide-in":"".concat(pn.prefix,"-").concat(jn.slideIn,"-").concat(jn.appear,"-").concat(jn.active),"slide-down":"".concat(pn.prefix,"-").concat(jn.slideDown,"-").concat(jn.appear,"-").concat(jn.active),"slide-up":"".concat(pn.prefix,"-").concat(jn.slideUp,"-").concat(jn.appear,"-").concat(jn.active),"slide-right":"".concat(pn.prefix,"-").concat(jn.slideRight,"-").concat(jn.appear,"-").concat(jn.active),"slide-left":"".concat(pn.prefix,"-").concat(jn.slideLeft,"-").concat(jn.appear,"-").concat(jn.active),"reveal-vertical":"".concat(pn.prefix,"-").concat(jn.revealVertical,"-").concat(jn.appear,"-").concat(jn.active),"reveal-horizontal":"".concat(pn.prefix,"-").concat(jn.revealHorizontal,"-").concat(jn.appear,"-").concat(jn.active)},enter:{"push-right":"".concat(pn.prefix,"-").concat(jn.pushRight,"-").concat(jn.enter),"push-left":"".concat(pn.prefix,"-").concat(jn.pushLeft,"-").concat(jn.enter),"push-down":"".concat(pn.prefix,"-").concat(jn.pushDown,"-").concat(jn.enter),"push-up":"".concat(pn.prefix,"-").concat(jn.pushUp,"-").concat(jn.enter),"expand-vertical":"".concat(pn.prefix,"-").concat(jn.expandVertical,"-").concat(jn.enter),"expand-horizontal":"".concat(pn.prefix,"-").concat(jn.expandHorizontal,"-").concat(jn.enter),fade:"".concat(pn.prefix,"-").concat(jn.fade,"-").concat(jn.enter),"zoom-in":"".concat(pn.prefix,"-").concat(jn.zoomIn,"-").concat(jn.enter),"zoom-out":"".concat(pn.prefix,"-").concat(jn.zoomOut,"-").concat(jn.enter),"slide-in":"".concat(pn.prefix,"-").concat(jn.slideIn,"-").concat(jn.enter),"slide-down":"".concat(pn.prefix,"-").concat(jn.slideDown,"-").concat(jn.enter),"slide-up":"".concat(pn.prefix,"-").concat(jn.slideUp,"-").concat(jn.enter),"slide-right":"".concat(pn.prefix,"-").concat(jn.slideRight,"-").concat(jn.enter),"slide-left":"".concat(pn.prefix,"-").concat(jn.slideLeft,"-").concat(jn.enter),"reveal-vertical":"".concat(pn.prefix,"-").concat(jn.revealVertical,"-").concat(jn.enter),"reveal-horizontal":"".concat(pn.prefix,"-").concat(jn.revealHorizontal,"-").concat(jn.enter)},enterActive:{"push-right":"".concat(pn.prefix,"-").concat(jn.pushRight,"-").concat(jn.enter,"-").concat(jn.active),"push-left":"".concat(pn.prefix,"-").concat(jn.pushLeft,"-").concat(jn.enter,"-").concat(jn.active),"push-down":"".concat(pn.prefix,"-").concat(jn.pushDown,"-").concat(jn.enter,"-").concat(jn.active),"push-up":"".concat(pn.prefix,"-").concat(jn.pushUp,"-").concat(jn.enter,"-").concat(jn.active),"expand-vertical":"".concat(pn.prefix,"-").concat(jn.expandVertical,"-").concat(jn.enter,"-").concat(jn.active),"expand-horizontal":"".concat(pn.prefix,"-").concat(jn.expandHorizontal,"-").concat(jn.enter,"-").concat(jn.active),fade:"".concat(pn.prefix,"-").concat(jn.fade,"-").concat(jn.enter,"-").concat(jn.active),"zoom-in":"".concat(pn.prefix,"-").concat(jn.zoomIn,"-").concat(jn.enter,"-").concat(jn.active),"zoom-out":"".concat(pn.prefix,"-").concat(jn.zoomOut,"-").concat(jn.enter,"-").concat(jn.active),"slide-in":"".concat(pn.prefix,"-").concat(jn.slideIn,"-").concat(jn.enter,"-").concat(jn.active),"slide-down":"".concat(pn.prefix,"-").concat(jn.slideDown,"-").concat(jn.enter,"-").concat(jn.active),"slide-up":"".concat(pn.prefix,"-").concat(jn.slideUp,"-").concat(jn.enter,"-").concat(jn.active),"slide-right":"".concat(pn.prefix,"-").concat(jn.slideRight,"-").concat(jn.enter,"-").concat(jn.active),"slide-left":"".concat(pn.prefix,"-").concat(jn.slideLeft,"-").concat(jn.enter,"-").concat(jn.active),"reveal-vertical":"".concat(pn.prefix,"-").concat(jn.revealVertical,"-").concat(jn.enter,"-").concat(jn.active),"reveal-horizontal":"".concat(pn.prefix,"-").concat(jn.revealHorizontal,"-").concat(jn.enter,"-").concat(jn.active)},exit:{"push-right":"".concat(pn.prefix,"-").concat(jn.pushRight,"-").concat(jn.exit),"push-left":"".concat(pn.prefix,"-").concat(jn.pushLeft,"-").concat(jn.exit),"push-down":"".concat(pn.prefix,"-").concat(jn.pushDown,"-").concat(jn.exit),"push-up":"".concat(pn.prefix,"-").concat(jn.pushUp,"-").concat(jn.exit),"expand-vertical":"".concat(pn.prefix,"-").concat(jn.expandVertical,"-").concat(jn.exit),"expand-horizontal":"".concat(pn.prefix,"-").concat(jn.expandHorizontal,"-").concat(jn.exit),fade:"".concat(pn.prefix,"-").concat(jn.fade,"-").concat(jn.exit),"zoom-in":"".concat(pn.prefix,"-").concat(jn.zoomIn,"-").concat(jn.exit),"zoom-out":"".concat(pn.prefix,"-").concat(jn.zoomOut,"-").concat(jn.exit),"slide-in":"".concat(pn.prefix,"-").concat(jn.slideIn,"-").concat(jn.exit),"slide-down":"".concat(pn.prefix,"-").concat(jn.slideDown,"-").concat(jn.exit),"slide-up":"".concat(pn.prefix,"-").concat(jn.slideUp,"-").concat(jn.exit),"slide-right":"".concat(pn.prefix,"-").concat(jn.slideRight,"-").concat(jn.exit),"slide-left":"".concat(pn.prefix,"-").concat(jn.slideLeft,"-").concat(jn.exit),"reveal-vertical":"".concat(pn.prefix,"-").concat(jn.revealVertical,"-").concat(jn.exit),"reveal-horizontal":"".concat(pn.prefix,"-").concat(jn.revealHorizontal,"-").concat(jn.exit)},exitActive:{"push-right":"".concat(pn.prefix,"-").concat(jn.pushRight,"-").concat(jn.exit,"-").concat(jn.active),"push-left":"".concat(pn.prefix,"-").concat(jn.pushLeft,"-").concat(jn.exit,"-").concat(jn.active),"push-down":"".concat(pn.prefix,"-").concat(jn.pushDown,"-").concat(jn.exit,"-").concat(jn.active),"push-up":"".concat(pn.prefix,"-").concat(jn.pushUp,"-").concat(jn.exit,"-").concat(jn.active),"expand-vertical":"".concat(pn.prefix,"-").concat(jn.expandVertical,"-").concat(jn.exit,"-").concat(jn.active),"expand-horizontal":"".concat(pn.prefix,"-").concat(jn.expandHorizontal,"-").concat(jn.exit,"-").concat(jn.active),fade:"".concat(pn.prefix,"-").concat(jn.fade,"-").concat(jn.exit,"-").concat(jn.active),"zoom-in":"".concat(pn.prefix,"-").concat(jn.zoomIn,"-").concat(jn.exit,"-").concat(jn.active),"zoom-out":"".concat(pn.prefix,"-").concat(jn.zoomOut,"-").concat(jn.exit,"-").concat(jn.active),"slide-in":"".concat(pn.prefix,"-").concat(jn.slideIn,"-").concat(jn.exit,"-").concat(jn.active),"slide-down":"".concat(pn.prefix,"-").concat(jn.slideDown,"-").concat(jn.exit,"-").concat(jn.active),"slide-up":"".concat(pn.prefix,"-").concat(jn.slideUp,"-").concat(jn.exit,"-").concat(jn.active),"slide-right":"".concat(pn.prefix,"-").concat(jn.slideRight,"-").concat(jn.exit,"-").concat(jn.active),"slide-left":"".concat(pn.prefix,"-").concat(jn.slideLeft,"-").concat(jn.exit,"-").concat(jn.active),"reveal-vertical":"".concat(pn.prefix,"-").concat(jn.revealVertical,"-").concat(jn.exit,"-").concat(jn.active),"reveal-horizontal":"".concat(pn.prefix,"-").concat(jn.revealHorizontal,"-").concat(jn.exit,"-").concat(jn.active)}},Dp=e=>{const{c:t=_p}=e;return{[t.child.container]:!0,[t.child.relative]:!0}},Np=e=>{const{c:t=_p}=e;return{[t.childContainer.container]:!0}},Tp=e=>{const{c:t=_p,transitionName:n}=e;return{["".concat(t.appear[n])]:t.appear[n],["".concat(n,"-").concat(jn.appear)]:!t.appear[n]}},Pp=e=>{const{c:t=_p,transitionName:n}=e;return{["".concat(t.appearActive[n])]:t.appearActive[n],["".concat(n,"-").concat(jn.appear,"-").concat(jn.active)]:!t.appearActive[n]}},Mp=e=>{const{c:t=_p,transitionName:n}=e;return{["".concat(t.enter[n])]:t.enter[n],["".concat(n,"-").concat(jn.enter)]:!t.enter[n]}},Op=e=>{const{c:t=_p,transitionName:n}=e;return{["".concat(t.enterActive[n])]:t.enterActive[n],["".concat(n,"-").concat(jn.enter,"-").concat(jn.active)]:!t.enterActive[n]}},Rp=e=>{const{c:t=_p,transitionName:n}=e;return{["".concat(t.exit[n])]:t.exit[n],["".concat(n,"-").concat(jn.exit)]:!t.exit[n]}},Lp=e=>{const{c:t=_p,transitionName:n}=e;return{["".concat(t.exitActive[n])]:t.exitActive[n],["".concat(n,"-").concat(jn.exit,"-").concat(jn.active)]:!t.exitActive[n]}},Fp=function(){};function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},zp.apply(null,arguments)}function Bp(e,t){return Bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bp(e,t)}function Vp(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Bp(e,t)}function Hp(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const qp=!1,Up=o.createContext(null);var Gp=function(e){return e.scrollTop},Wp="unmounted",Kp="exited",Yp="entering",Xp="entered",Jp="exiting",Qp=function(e){function t(t,n){var o;o=e.call(this,t,n)||this;var i,r=n&&!n.isMounting?t.enter:t.appear;return o.appearStatus=null,t.in?r?(i=Kp,o.appearStatus=Yp):i=Xp:i=t.unmountOnExit||t.mountOnEnter?Wp:Kp,o.state={status:i},o.nextCallback=null,o}Vp(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Wp?{status:Kp}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Yp&&n!==Xp&&(t=Yp):n!==Yp&&n!==Xp||(t=Jp)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,o=this.props.timeout;return e=t=n=o,null!=o&&"number"!==typeof o&&(e=o.exit,t=o.enter,n=void 0!==o.appear?o.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Yp){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Eo.findDOMNode(this);n&&Gp(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Kp&&this.setState({status:Wp})},n.performEnter=function(e){var t=this,n=this.props.enter,o=this.context?this.context.isMounting:e,i=this.props.nodeRef?[o]:[Eo.findDOMNode(this),o],r=i[0],a=i[1],s=this.getTimeouts(),l=o?s.appear:s.enter;!e&&!n||qp?this.safeSetState({status:Xp},function(){t.props.onEntered(r)}):(this.props.onEnter(r,a),this.safeSetState({status:Yp},function(){t.props.onEntering(r,a),t.onTransitionEnd(l,function(){t.safeSetState({status:Xp},function(){t.props.onEntered(r,a)})})}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),o=this.props.nodeRef?void 0:Eo.findDOMNode(this);t&&!qp?(this.props.onExit(o),this.safeSetState({status:Jp},function(){e.props.onExiting(o),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:Kp},function(){e.props.onExited(o)})})})):this.safeSetState({status:Kp},function(){e.props.onExited(o)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,t.nextCallback=null,e(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Eo.findDOMNode(this),o=null==e&&!this.props.addEndListener;if(n&&!o){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],r=i[0],a=i[1];this.props.addEndListener(r,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Wp)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,a(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(Up.Provider,{value:null},"function"===typeof n?n(e,i):o.cloneElement(o.Children.only(n),i))},t}(o.Component);function Zp(){}Qp.contextType=Up,Qp.propTypes={},Qp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Zp,onEntering:Zp,onEntered:Zp,onExit:Zp,onExiting:Zp,onExited:Zp},Qp.UNMOUNTED=Wp,Qp.EXITED=Kp,Qp.ENTERING=Yp,Qp.ENTERED=Xp,Qp.EXITING=Jp;const $p=Qp;var eh=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return o=t,void((n=e).classList?n.classList.remove(o):"string"===typeof n.className?n.className=Hp(n.className,o):n.setAttribute("class",Hp(n.className&&n.className.baseVal||"",o)));var n,o})},th=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var o=t.resolveArguments(e,n),i=o[0],r=o[1];t.removeClasses(i,"exit"),t.addClass(i,r?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var o=t.resolveArguments(e,n),i=o[0],r=o[1]?"appear":"enter";t.addClass(i,r,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var o=t.resolveArguments(e,n),i=o[0],r=o[1]?"appear":"enter";t.removeClasses(i,r),t.addClass(i,r,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,o="string"===typeof n,i=o?""+(o&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:o?i+"-active":n[e+"Active"],doneClassName:o?i+"-done":n[e+"Done"]}},t}Vp(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var o=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(o+=" "+i),"active"===n&&e&&Gp(e),o&&(this.appliedClasses[t][n]=o,function(e,t){e&&t&&t.split(" ").forEach(function(t){return o=t,void((n=e).classList?n.classList.add(o):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,o)||("string"===typeof n.className?n.className=n.className+" "+o:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+o)));var n,o})}(e,o))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],o=n.base,i=n.active,r=n.done;this.appliedClasses[t]={},o&&eh(e,o),i&&eh(e,i),r&&eh(e,r)},n.render=function(){var e=this.props,t=(e.classNames,a(e,["classNames"]));return o.createElement($p,zp({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.Component);th.defaultProps={classNames:""},th.propTypes={};const nh=th,oh=["mountOnEnter","unmountOnExit","onEnter","onEntering","onEntered","onExit","onExiting","onExited","onAfterExited","animationEnteringStyle","animationEnteredStyle","animationExitingStyle","animationExitedStyle","children","style","appear","enter","exit","transitionName","transitionEnterDuration","transitionExitDuration","className","unstyled"],ih=o.forwardRef((e,t)=>{const n=o.useRef(null),{mountOnEnter:i=rh.mountOnEnter,unmountOnExit:r=rh.unmountOnExit,onEnter:a=rh.onEnter,onEntering:l=rh.onEntering,onEntered:c=rh.onEntered,onExit:d=rh.onExit,onExiting:u=rh.onExiting,onExited:h=rh.onExited,onAfterExited:m=rh.onAfterExited,animationEnteringStyle:f=rh.animationEnteringStyle,animationEnteredStyle:g=rh.animationEnteredStyle,animationExitingStyle:v=rh.animationExitingStyle,animationExitedStyle:y=rh.animationExitedStyle,children:x,style:b,appear:w,enter:k,exit:C,transitionName:S,transitionEnterDuration:I,transitionExitDuration:E,className:j,unstyled:A}=e,_=s(e,oh),D=p({transitionDelay:"0ms"},b),N=A&&A.uAnimation,T=rn(j,Np({c:N})),P=o.useRef({element:n.current,props:e}),M=o.useRef(null);o.useImperativeHandle(M,()=>({element:n.current,props:e})),o.useImperativeHandle(t,()=>M.current,[]);const O={entering:p({transitionDuration:"".concat(I,"ms")},f),entered:p({},g),exiting:p({transitionDuration:"".concat(E,"ms")},v),exited:p({},y)},R={in:e.in,appear:w,enter:k,exit:C,mountOnEnter:i,unmountOnExit:r,timeout:{enter:I,exit:E},onEnter:()=>{a&&a.call(void 0,{animatedElement:n.current,target:M.current||P.current})},onEntering:()=>{l&&l.call(void 0,{animatedElement:n.current,target:M.current||P.current})},onEntered:()=>{c&&c.call(void 0,{animatedElement:n.current,target:M.current||P.current})},onExit:()=>{d&&d.call(void 0,{animatedElement:n.current,target:M.current||P.current})},onExiting:()=>{u&&u.call(void 0,{animatedElement:n.current,target:M.current||P.current})},onExited:()=>{m&&m.call(void 0,{animatedElement:n.current,target:M.current||P.current}),h&&h.call(void 0,{animatedElement:n.current,target:M.current||P.current})},classNames:{appear:rn(Tp({c:N,transitionName:S})),appearActive:rn(Pp({c:N,transitionName:S})),enter:rn(Mp({c:N,transitionName:S})),enterActive:rn(Op({c:N,transitionName:S})),exit:rn(Rp({c:N,transitionName:S})),exitActive:rn(Lp({c:N,transitionName:S}))}};return o.createElement(nh,p(p(p({},R),_),{},{nodeRef:n}),e=>o.createElement("div",{style:p(p({},D),O[e]),className:T,ref:e=>{n.current=e,P.current.element=e}},x))}),rh={mountOnEnter:!0,unmountOnExit:!1,onEnter:Fp,onEntering:Fp,onEntered:Fp,onExit:Fp,onExiting:Fp,onExited:Fp,onAfterExited:Fp,animationEnteringStyle:{},animationEnteredStyle:{},animationExitingStyle:{},animationExitedStyle:{}};function ah(e,t){var n=Object.create(null);return e&&o.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&(0,o.isValidElement)(e)?t(e):e}(e)}),n}function sh(e,t,n){return null!=n[t]?n[t]:e.props[t]}function lh(e,t,n){var i=ah(e.children),r=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var o,i=Object.create(null),r=[];for(var a in e)a in t?r.length&&(i[a]=r,r=[]):r.push(a);var s={};for(var l in t){if(i[l])for(o=0;o<i[l].length;o++){var c=i[l][o];s[i[l][o]]=n(c)}s[l]=n(l)}for(o=0;o<r.length;o++)s[r[o]]=n(r[o]);return s}(t,i);return Object.keys(r).forEach(function(a){var s=r[a];if((0,o.isValidElement)(s)){var l=a in t,c=a in i,d=t[a],u=(0,o.isValidElement)(d)&&!d.props.in;!c||l&&!u?c||!l||u?c&&l&&(0,o.isValidElement)(d)&&(r[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:d.props.in,exit:sh(s,"exit",e),enter:sh(s,"enter",e)})):r[a]=(0,o.cloneElement)(s,{in:!1}):r[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:sh(s,"exit",e),enter:sh(s,"enter",e)})}}),r}ih.displayName="KendoReactAnimationChild",ih.propTypes={in:jt.bool,children:jt.oneOfType([jt.arrayOf(jt.node),jt.node]),transitionName:jt.string.isRequired,className:jt.string,appear:jt.bool,enter:jt.bool,exit:jt.bool,transitionEnterDuration:jt.number.isRequired,transitionExitDuration:jt.number.isRequired,mountOnEnter:jt.bool,unmountOnExit:jt.bool,animationEnteringStyle:jt.object,animationEnteredStyle:jt.object,animationExitingStyle:jt.object,animationExitedStyle:jt.object};var ch=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},dh=function(e){function t(t,n){var o,i=(o=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o));return o.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},o}Vp(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,r=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,i=a,ah(n.children,function(e){return(0,o.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:sh(e,"appear",n),enter:sh(e,"enter",n),exit:sh(e,"exit",n)})})):lh(e,r,a),firstRender:!1}},n.handleExited=function(e,t){var n=ah(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=zp({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=a(e,["component","childFactory"]),r=this.state.contextValue,s=ch(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?o.createElement(Up.Provider,{value:r},s):o.createElement(Up.Provider,{value:r},o.createElement(t,i,s))},t}(o.Component);dh.propTypes={},dh.defaultProps={component:"div",childFactory:function(e){return e}};const uh=dh,ph=["id","style","children","component","className","childFactory","stackChildren","componentChildStyle","componentChildClassName"],hh=e=>{const{id:t,style:n,children:i,component:r="div",className:a,childFactory:l,stackChildren:c,componentChildStyle:d,componentChildClassName:u}=e,h=s(e,ph),m=po(),f=e.unstyled||m,g=f&&f.uAnimation,v={id:t,style:n,component:r,childFactory:l,className:rn(Dp({c:g}),a)},y=o.Children.map(i||null,e=>o.createElement(ih,p(p({},h),{},{unstyled:f,style:d,className:u}),e));return o.createElement(uh,p({},v),y)};hh.propTypes={children:jt.oneOfType([jt.arrayOf(jt.node),jt.node]),childFactory:jt.any,className:jt.string,component:jt.string,id:jt.string,style:jt.any,transitionName:jt.string.isRequired,appear:jt.bool.isRequired,enter:jt.bool.isRequired,exit:jt.bool.isRequired,transitionEnterDuration:jt.number.isRequired,transitionExitDuration:jt.number.isRequired};class mh{constructor(e){this.rovingTabIndex=!0,this.update=()=>{},this.setFocusClass=e=>{e.target.classList.add(this.focusClass)},this.disableTabindexForRest=e=>{this.elements.forEach(t=>{t!==e&&t.setAttribute("tabindex","-1")})},this.focusNextIndex=(e,t,n)=>{const o=1===t?this.next(e,n):this.previous(e,n);return this.focusElement(o,e),o},this.tabIndex=e.tabIndex||0,this.root=e.root,this.selectors=e.selectors,this.focusOptions=e.focusOptions||{preventScroll:!0},this.rovingTabIndex=void 0===e.rovingTabIndex||e.rovingTabIndex,this.mouseEvents=e.mouseEvents||{},this.keyboardEvents=e.keyboardEvents||{},this.focusClass=e.focusClass,this.lastFocused=null}get elements(){return this.root.current?Array.from(this.root.current.querySelectorAll(this.selectors.join(","))):[]}get first(){return this.root.current&&this.root.current.querySelector(this.selectors.join(","))||null}get last(){const e=this.elements;return e[e.length-1]||null}get current(){return this.elements.find(e=>e.matches(":focus"))||null}next(e,t){const n=t?this.customElements(t):this.elements;let o=n.indexOf(e)+1;return o=o<0?n.length-1:o,n[o%n.length]}previous(e,t){const n=t?this.customElements(t):this.elements;let o=n.indexOf(e)-1;return o=o<0?n.length-1:o,n[o%n.length]}focusNext(e,t){return this.focusNextIndex(e,1,t)}focusPrevious(e,t){return this.focusNextIndex(e,-1,t)}triggerKeyboardEvent(e,t){const n=this.target(e.target),o=n&&n.closest(this.selectors.join(",")),i=" "===e.key?"Space":e.key,r=e.nativeEvent.type;o&&this.keyboardEvents[r][i]&&this.keyboardEvents[r][i].call(void 0,o,this,e,t)}triggerMouseEvent(e){const t=this.target(e.target),n=t&&t.closest(this.selectors.join(",")),o=e.nativeEvent.type;n&&this.mouseEvents[o].call(void 0,n,this,e)}focusElement(e,t){e&&(t&&(this.rovingTabIndex&&t.setAttribute("tabindex","-1"),this.focusClass&&(this.removeFocusClass(t),t.removeEventListener("focus",this.setFocusClass))),this.rovingTabIndex&&e.setAttribute("tabindex",String(this.tabIndex)),this.focusClass&&(e.classList.add(this.focusClass),e.addEventListener("focus",this.setFocusClass)),e.focus(this.focusOptions),this.lastFocused=e)}initializeRovingTab(e){const t=e?this.elements[e]:this.first;t&&(this.focusClass&&t.addEventListener("focus",this.setFocusClass),t.setAttribute("tabindex",String(this.tabIndex)),this.disableTabindexForRest(t))}removeFocusListener(){this.lastFocused&&this.lastFocused.removeEventListener("focus",this.setFocusClass)}removeFocusClass(e){this.focusClass&&e.classList.remove(this.focusClass)}customElements(e){return this.root.current?Array.from(this.root.current.querySelectorAll(e.join(","))):[]}target(e){var t;const n=e&&e.ownerDocument||null;return e instanceof(n&&(null==(t=null==n?void 0:n.defaultView)?void 0:t.Element)||Element)?e:null}}const fh=e=>{const t=o.useRef(null),n=o.useCallback(t=>{e.onClick&&e.onClick.call(void 0,{syntheticEvent:t,item:e.item,title:e.title})},[e.item,e.title,e.onClick]);return o.useEffect(()=>{t.current&&e.focused&&t.current.focus()},[e.focused]),o.createElement("span",{style:e.style,tabIndex:e.tabIndex,className:rn("k-actionsheet-item","k-cursor-pointer",e.disabled&&"k-disabled",e.className),ref:t,role:"button","aria-disabled":e.disabled,onClick:n},o.createElement("span",{className:"k-actionsheet-action"},e.icon&&o.createElement("span",{className:"k-icon-wrap"},e.icon),(e.title||e.description)&&o.createElement("span",{className:"k-actionsheet-item-text"},e.title&&o.createElement("span",{className:"k-actionsheet-item-title"},e.title),e.description&&o.createElement("span",{className:"k-actionsheet-item-description"},e.description))))};fh.propTypes={className:jt.string,style:jt.object,description:jt.string,disabled:jt.bool,group:jt.oneOf(["top","bottom"]),icon:jt.element,title:jt.string};const gh="ActionSheetHeader",vh=e=>o.createElement("div",{className:rn("k-actionsheet-titlebar",e.className)},e.children);vh.propTypes={className:jt.string},vh.displayName=gh,vh.propTypes={children:jt.any};const yh="ActionSheetFooter",xh=e=>{const{actionButtonsAlignment:t="stretched",actionButtonsOrientation:n="horizontal",className:i,children:r}=e;return o.createElement("div",{className:rn("k-actionsheet-footer",{"k-actions":t||n,"k-actions-horizontal":"horizontal"===n,"k-actions-vertical":"vertical"===n,"k-actions-start":"start"===t&&"horizontal"===n,"k-actions-center":"center"===t&&"horizontal"===n,"k-actions-end":"end"===t&&"horizontal"===n,"k-actions-stretched":"stretched"===t,"k-actions-justify":"justify"===t&&"horizontal"===n},i)},r)};xh.propTypes={className:jt.string,children:jt.any,actionButtonsOrientation:jt.oneOf(["horizontal","vertical"]),actionButtonsAlignment:jt.oneOf(["start","center","end","stretched","justify"])},xh.displayName=yh;const bh="ActionSheetContent",wh=e=>o.createElement("div",{className:rn("k-actionsheet-content",e.className)},e.children);wh.propTypes={className:jt.string},wh.displayName=bh,wh.propTypes={children:jt.any};const kh=o.forwardRef((e,t)=>{var n,i;const{navigatableElements:r=Ch.navigatableElements,navigatable:a=Ch.navigatable,position:s=Ch.position,animationDuration:l=300,prefixActions:c,suffixActions:d,filter:u}=e,h=(e,t,n)=>{n.preventDefault(),n.shiftKey?t.focusPrevious(e):t.focusNext(e)},m=(t,n,o)=>{if(t.ariaDisabled)return;const i=!(!t.className||!t.className.indexOf)&&-1!==t.className.indexOf("k-actionsheet-item"),r=n.elements.filter(e=>-1!==e.className.indexOf("k-actionsheet-item"));if(i&&e.onItemClick){o.preventDefault();const n=e.items[r.indexOf(t)];e.onItemClick.call(void 0,{syntheticEvent:o,item:n,title:n&&n.title})}if(i&&e.onItemSelect){o.preventDefault();const n=e.items[r.indexOf(t)];e.onItemSelect.call(void 0,{syntheticEvent:o,item:n,title:n&&n.title})}e.animation||g()},f=(t,n,o)=>{e.onOverlayClick&&(o.preventDefault(),e.onOverlayClick.call(void 0,o)),e.onClose&&(o.preventDefault(),e.onClose.call(void 0,o)),e.animation||g()},g=()=>{I({show:!1})},v=t=>{e.onItemClick&&e.onItemClick.call(void 0,t),e.onItemSelect&&e.onItemSelect.call(void 0,t),e.animation||g()},y=o.useRef(null),x=o.useRef(null);o.useImperativeHandle(y,()=>({props:e})),o.useImperativeHandle(t,()=>y.current);const b=o.useRef(void 0),w=o.useRef({bottom:"0",width:"100%"}),k=o.useRef(void 0),[C,S]=o.useState({show:!1,slide:!1}),I=e=>{S(t=>p(p({},t),e))};o.useEffect(()=>{e.expand&&!C.show&&I({show:!0})},[]),o.useEffect(()=>{const t=x.current;if(e.expand&&!C.show&&I({show:!0}),e.expand&&C.show&&!C.slide&&I({slide:!0}),!e.expand&&C.show&&C.slide&&I({slide:!1}),k!==C&&C.slide&&t&&!e.className&&(t.style.setProperty("--kendo-actionsheet-height","auto"),t.style.setProperty("--kendo-actionsheet-max-height","none")),t&&a){const t=[".k-actionsheet-item",...[".k-actionsheet-footer",".k-actionsheet-content",".k-actionsheet-titlebar"].map(e=>Wt.concat(r).map(t=>"".concat(e," ").concat(t))).flat()];b.current=new mh({tabIndex:e.tabIndex||0,root:x,rovingTabIndex:!1,selectors:t,keyboardEvents:{keydown:{Tab:h,Enter:m,Escape:f}}}),b.current.focusElement(b.current.first,null)}k.current=p({},C)});const E="k-actionsheet-title",j=E,A=null==(n=e.items)?void 0:n.filter(e=>!e.group||"top"===e.group),_=null==(i=e.items)?void 0:i.filter(e=>"bottom"===e.group),D=A&&A.length>0&&_&&_.length>0,N=(e=>{const t={};return o.Children.forEach(e,e=>{e&&(t[e.type.displayName]=e)}),t})(e.children),T=C.slide&&o.createElement("div",{className:rn("k-actionsheet k-actionsheet-".concat(s),e.className),role:"dialog","aria-modal":"true","aria-hidden":!1,"aria-labelledby":j,ref:x,onKeyDown:e=>{a&&b.current.triggerKeyboardEvent(e)}},N[gh]&&!e.title&&!e.subTitle&&N[gh],(e.title||e.subTitle)&&o.createElement("div",{className:"k-actionsheet-titlebar"},o.createElement("div",{className:"k-actionsheet-titlebar-group k-hbox"},c&&o.createElement("div",{className:"k-actionsheet-actions"},c),o.createElement("div",{className:E,id:j},o.createElement("div",{className:"k-text-center"},e.title),e.subTitle&&o.createElement("div",{className:"k-actionsheet-subtitle k-text-center"},e.subTitle)),d&&o.createElement("div",{className:"k-actionsheet-actions"},d)),u&&o.createElement("div",{className:"k-actionsheet-titlebar-group k-actionsheet-filter"},u)),N[bh]||o.createElement("div",{className:"k-actionsheet-content"},o.createElement("div",{className:"k-list-ul",role:"group"},A&&A.map((t,n)=>o.createElement(fh,p(p({},t),{},{id:n,key:n,item:t,tabIndex:e.tabIndex||0,onClick:v}))),D&&o.createElement("hr",{className:"k-hr"}),_&&_.map((t,n)=>o.createElement(fh,p(p({},t),{},{id:n+((null==A?void 0:A.length)||0),key:n,item:t,tabIndex:e.tabIndex||0,onClick:v}))))),N[yh]);return o.createElement(o.Fragment,null,e.expand||C.show?o.createElement("div",{className:"k-actionsheet-container"},o.createElement("div",{className:"k-overlay",onClick:t=>{e.onOverlayClick&&e.onOverlayClick.call(void 0,t),e.onClose&&e.onClose.call(void 0,t),e.animation||g()}}),e.animation?o.createElement(hh,{transitionName:C.slide?"slide-up":"slide-down",onExited:g,transitionEnterDuration:"object"==typeof l&&Object.keys(l).length>0&&l.openDuration?Number(l.openDuration):Number(l),transitionExitDuration:"object"==typeof l&&Object.keys(l).length>0&&l.closeDuration?Number(l.closeDuration):Number(l),animationEnteringStyle:e.animationStyles||w.current,animationEnteredStyle:e.animationStyles||w.current,animationExitingStyle:e.animationStyles||w.current,exit:!0,enter:!0,appear:!1},T):T):null)}),Ch={navigatable:!0,navigatableElements:[],position:"bottom"};kh.propTypes={items:jt.array,subTitle:jt.string,title:jt.string,navigatable:jt.bool,navigatableElements:jt.array,position:jt.oneOf(["top","bottom","left","right","fullscreen"])},kh.displayName="KendoReactActionSheet";const Sh=o.forwardRef((e,t)=>{let n=!1;const i=Ea(Eh,e),{delay:r=Ih.delay,tabIndex:a=Ih.tabIndex,ignoreCase:s=Ih.ignoreCase,size:l=Ih.size,rounded:c=Ih.rounded,fillMode:d=Ih.fillMode,groupMode:u=Ih.groupMode}=i;if(i.filterable||i.virtual){const e=[];i.filterable&&e.push("filterable"),i.virtual&&e.push("virtualization"),n=!na(Ap,{component:"DropDownList",features:e})}const h=po(),m=on(i.id),f=()=>{var e;if(Lo)return(null==(e=G.current)?void 0:e.ownerDocument)||window.document},g=()=>{var e,t;null!=(e=null==ne?void 0:ne.current)&&e.wrapper&&(null==(t=null==ne?void 0:ne.current)||t.wrapper.focus({preventScroll:!0}))},v=()=>{let e;return void 0!==Q.current&&null!==Q.current?e=Q.current:void 0!==i.value?e=i.value:void 0!==re.value&&null!==re.value?e=re.value:void 0!==i.defaultValue&&null!==i.defaultValue&&(e=i.defaultValue),!Qu(e)&&void 0!==i.defaultItem&&null!==i.defaultItem&&(e=i.defaultItem),e},y=()=>void 0!==i.required?i.required:Ih.required,x=()=>{const e=void 0!==i.validationMessage,t=v(),n=!y()||null!==t&&""!==t&&void 0!==t;return{customError:e,valid:void 0!==i.valid?i.valid:n,valueMissing:null===t}},b=e=>{J.current=!0,e.focus(),window.setTimeout(()=>J.current=!1,30)},w=()=>{K.current&&b(K.current),i.adaptive&&setTimeout(()=>{K.current&&b(K.current)},300)},k=o.useCallback(e=>{for(const t of e)le(t.target.clientWidth)},[]),C=()=>{var e;null!=(e=W.current)&&e.setCustomValidity&&W.current.setCustomValidity(x().valid?"":i.validationMessage||"Please select a value from the list!")},S=(e,t)=>{const n=v();np(n,e,i.dataItemKey)||(void 0===i.value&&(t.data.value=e),ne.current.updateComponentArgs({value:e}),Q.current=e,t.events.push({type:"onChange"}))},I=e=>{var t;null==(t=null==ne?void 0:ne.current)||t.applyState(e),Q.current=void 0},E=(e,t)=>{var n;const{virtual:o,dataItemKey:r,defaultItem:a}=i,s=rp(i),l=o?o.skip:0,c=v(),d=-1===e&&void 0!==a?a:s[e-l],u=!np(d,c,r);S(d,t),u&&(null==(n=null==ne?void 0:ne.current)||n.triggerPageChangeCornerItems(d,t))},j=(e,t,n)=>{var o,r;const{defaultItem:a,dataItemKey:s,virtual:l={skip:0,total:0,pageSize:0}}=i,c=v(),d=rp(i),u=null==(o=null==ne?void 0:ne.current)?void 0:o.vs,p=d.findIndex(e=>np(e,c,s)),h=null==(r=null==ne?void 0:ne.current)?void 0:r.navigation.navigate({current:l.skip+p,max:(null!=u&&u.enabled?l.total:d.length)-1,min:void 0!==a?-1:0,keyCode:t,skipItems:n||void 0});void 0!==h&&E(h,e),I(e)},A=()=>{const{textField:e,dataItemKey:t,virtual:n={skip:0},focusedItemIndex:o=$u,filterable:r,skipDisabledItems:a=!0}=i,s=v(),l=rp(i),c=i.filter?i.filter:re.text;return a&&e&&!c&&!s?l.findIndex(t=>!t.disabled&&t[e]):Qu(s)&&void 0===c||r&&""===c?l.findIndex(e=>np(e,s,t)):c?$.current?o(l,c,e):l.findIndex(e=>np(e,s,t)):0===n.skip?0:-1},_=(e,t)=>void 0!==t&&-1!==t&&e&&e.length>0&&e[t].disabled,D=()=>{const e=rp(i),t=ne.current.initState(),n=A();_(e,n)&&(S(null,t),I(t))},N=e=>{if(e.isPropagationStopped())return;const t=ne.current.initState();t.syntheticEvent=e,re.focused||(t.data.focused=!0),D(),ne.current.togglePopup(t),I(t)},T=e=>{var t,n,o,r,a,s,l;e&&e.target instanceof Element&&"INPUT"===e.target.nodeName&&e.stopPropagation&&e.stopPropagation();const{filterable:c,disabled:d,defaultItem:u,leftRightKeysNavigation:p=!0,virtual:h={skip:0,total:0,pageSize:0},dataItemKey:m,groupField:f="",textField:g,skipDisabledItems:y=!0}=i,x=rp(i),b=v(),w=x.findIndex(e=>np(e,b,m)),k=void 0!==i.opened?i.opened:re.opened,C=e.keyCode,N=C===Rt||C===Ot,T=C===Ft||C===Bt,P=!k&&(e.altKey&&C===Bt||C===Dt||C===Tt),M=k&&(e.altKey&&C===Ft||C===Nt),O=T||p&&(C===Lt||C===zt)&&!c||N,R=ne.current.initState();if(R.syntheticEvent=e,!d){if(N&&null!=(t=null==ne?void 0:ne.current)&&t.vs.enabled)C===Rt?0!==h.skip?(null==(n=null==ne?void 0:ne.current)||n.triggerOnPageChange(R,0,h.pageSize),Z.current=!0):S(x[0],R):h.skip<h.total-h.pageSize?(null==(o=null==ne?void 0:ne.current)||o.triggerOnPageChange(R,h.total-h.pageSize,h.pageSize),Z.current=!0):S(x[x.length-1],R);else if(k&&C===Pt)e.preventDefault(),null==(r=null==ne?void 0:ne.current)||r.scrollPopupByPageSize(-1);else if(k&&C===Mt)e.preventDefault(),null==(a=null==ne?void 0:ne.current)||a.scrollPopupByPageSize(1);else if(k&&C===Dt){const t=A();_(x,t)?(S(null,R),I(R)):E(t,R),null==(s=null==ne?void 0:ne.current)||s.togglePopup(R),e.preventDefault()}else if(P||M)M&&D(),null==(l=null==ne?void 0:ne.current)||l.togglePopup(R),e.preventDefault();else if(O){if($.current=!1,""!==f&&g)if(!y&&k)j(R,C);else{let e;if(C===Bt||C===zt){const t=x.slice(w+1).find(e=>!e.disabled&&e[g]);e=t&&x.findIndex(e=>e[g]===t[g])}else if(C===Ft||C===Lt){let t;if(0===w&&u)e=-1;else if(-1===w)t=x,e=x.findIndex(e=>!e.disabled&&e[g]);else{t=x.slice(0,w);let n=t.pop();for(;n&&n.disabled;)n=t.pop();e=n&&x.findIndex(e=>e[g]===n[g])}}if(void 0!==e){j(R,C,e-w)}else void 0===e&&x.findIndex(e=>e[g]===b[g])===x.length-1&&j(R,C)}else if(!y&&k||N)j(R,C);else if(g){let e;if(C===Bt||C===zt){const t=x.slice(w+1).find(e=>!e.disabled&&e[g]);e=t&&x.findIndex(e=>e[g]===t[g])}else if(C===Ft||C===Lt){let t;if(0===w&&u)e=-1;else if(-1===w)t=x,e=x.find(e=>!e.disabled&&e[g]);else{t=x.slice(0,w);let n=t.pop();for(;n&&n.disabled;)n=t.pop();e=n&&x.findIndex(e=>e[g]===n[g])}}if(void 0!==e){j(R,C,e-w)}else void 0===e&&x.findIndex(e=>e[g]===b[g])===x.length-1&&j(R,C)}else j(R,C);e.preventDefault()}I(R)}},P=e=>{const t=ne.current.initState();t.syntheticEvent=e.syntheticEvent,void 0===i.filter&&(t.data.text=e.target.value),ne.current.filterChanged(e.target.value,t),$.current=!0,I(t),ue({group:void 0,text:String(e.target.value)})},M=()=>{const e=void 0!==i.filter?i.filter:re.text;return i.filterable&&o.createElement(Xu,{value:e,ref:e=>{K.current=e&&e.element},onChange:P,onKeyDown:T,size:l,rounded:c,fillMode:d,renderListFilterWrapper:!0})},O=e=>{var t;const n=ne.current.initState();n.syntheticEvent=e,null==(t=null==ne?void 0:ne.current)||t.togglePopup(n),S(i.defaultItem,n),I(n)},R=()=>{const{textField:e,defaultItem:t,dataItemKey:n}=i,r=v();return void 0!==t&&o.createElement(sp,{defaultItem:t,textField:e,selected:np(r,t,n),key:"defaultitemkey",onClick:O})},L=(e,t)=>{var n;null==(n=null==ne?void 0:ne.current)||n.handleItemClick(e,t),Q.current=void 0},F=e=>{const{vs:t,list:n}=ne.current;t.scrollHandler(e);const{groupField:o}=i;let r=rp(i);if(o&&r.length&&o){const i=oe.current=oe.current||(t.enabled?t.itemHeight:n?n.children[0].offsetHeight:0),a=e.target.scrollTop-t.skip*i;r=ne.current.getGroupedDataModernMode(r,o);let s=r[0][o];for(let e=1;e<r.length&&!(i*e>a);e++)r[e]&&r[e][o]&&(s=r[e][o]);s!==re.group&&ue({group:s})}},z=()=>{var e;const{textField:t,dataItemKey:n,virtual:r={skip:0,total:void 0},groupHeaderItemRender:a,listNoDataRender:s,itemRender:l}=i,c=rp(i),d=h&&h.uDropDownList,u=ne.current.vs,p=r.skip,m=void 0!==i.opened?i.opened:re.opened,f=ne.current.getPopupSettings(),g="translateY(".concat(u.translate,"px)"),y=v();return o.createElement(yp,{id:he,show:m,data:c.slice(),focusedIndex:A(),value:y,textField:t,valueField:n,optionsGuid:me,groupField:i.groupField,groupMode:"modern",listRef:e=>{u.list=ne.current.list=e},wrapperStyle:{maxHeight:f.height},wrapperCssClass:rn(Mu.listContent({c:d})),listStyle:u.enabled?{transform:g}:void 0,key:"listkey",skip:p,onClick:L,itemRender:l,groupHeaderItemRender:a,noDataRender:s,onScroll:F,wrapperRef:u.scrollerRef,scroller:null==(e=null==ne?void 0:ne.current)?void 0:e.renderScrollElement(),ariaSetSize:r.total})},B=()=>{re.focused&&window.setTimeout(()=>{re.focused&&ne.current.wrapper&&b(ne.current.wrapper)})},V=e=>{"onMouseDownOutside"in(i.popupSettings||{})&&i.popupSettings.onMouseDownOutside.call(void 0,e)},H=e=>{clearTimeout(Y.current),i.filterable||(Y.current=window.setTimeout(()=>X.current.word="",r),(e=>{const{dataItemKey:t}=i,n=rp(i),o=v();let r=n.map((e,t)=>({item:e,itemIndex:t}));const a=X.current.word,l=X.current.last,c=((e,t)=>{for(let n=0;n<e.length;n++)if(e.charAt(n)!==t)return!1;return!0})(a,l);let d,u=r.length,p=Math.max(0,n.findIndex(e=>np(e,o,t)));i.defaultItem&&(d={item:i.defaultItem,itemIndex:-1},u+=1,p+=1),p+=c?1:0,r=((e,t,n)=>{let o=e;return n&&(o=[n].concat(o)),o.slice(t).concat(o.slice(0,t))})(r,p,d);let h,m,f,g=0;const{textField:y}=i;for(;g<u;){if(h=ep(r[g].item,y),m=c&&Zu(h,l,s),f=Zu(h,a,s),m||f){g=r[g].itemIndex;break}g++}if(g!==u){const t=ne.current.initState();t.syntheticEvent=e,E(g,t),I(t),Q.current=void 0}})(e))},q=()=>{const e=ne.current.initState();e.data.opened=re.opened,ne.current.togglePopup(e),I(e)},U=o.useRef(null),G=o.useRef(null),W=o.useRef(null),K=o.useRef(null);o.useImperativeHandle(U,()=>({get element(){return G.current},get index(){return(()=>{const{dataItemKey:e}=i,t=rp(i),n=v();return t.findIndex(t=>np(t,n,e))})()},get name(){return i.name},get validity(){return x()},get value(){return v()},get focused(){return re.focused},get opened(){return re.opened},focus:g,props:i,togglePopup:q})),o.useImperativeHandle(t,()=>U.current);const Y=o.useRef(null),X=o.useRef({word:"",last:""}),J=o.useRef(!1),Q=o.useRef(null),Z=o.useRef(!1),$=o.useRef(!1),ee=o.useRef({}),te=o.useRef({}),ne=o.useRef(new jp({props:i,setState:()=>{},state:{},forceUpdate:()=>{},element:null,value:null,handleItemSelect:()=>{}})),oe=o.useRef(0),ie=o.useRef(null),[re,ae]=o.useState({}),[se,le]=o.useState(),[,ce]=o.useReducer(e=>e,!0),de=Tc(),ue=e=>{ae(p(p({},re),e))};o.useEffect(()=>{ne.current.updateComponentArgs({props:i,setState:ue,state:re,forceUpdate:ce,element:G.current,handleItemSelect:E,value:v()})},[ue,re,ce,E,v]),o.useEffect(()=>{var e,t,n,o,r,a,s,l,c,d,u,p,h;const{dataItemKey:m,virtual:f,groupField:g="",textField:y}=i,x=rp(i),b=ee.current.virtual?ee.current.virtual.total:0,k=void 0!==i.opened?i.opened:re.opened,S=void 0!==ee.current.opened?ee.current.opened:te.current.opened,I=!S&&k;if(null==(e=null==ne?void 0:ne.current)||e.didUpdate(),null!=(t=null==ne?void 0:ne.current)&&t.getPopupSettings().animate||I&&w(),f&&f.total!==b)null==(n=null==ne?void 0:ne.current)||n.vs.calcScrollElementHeight(),null==(o=null==ne?void 0:ne.current)||o.vs.reset();else{const e=v(),t=void 0!==ee.current.value?ee.current.value:te.current.value;let n=x.findIndex(t=>np(t,e,m));""!==g&&e&&y&&(n=null==(a=null==(r=null==ne?void 0:ne.current)?void 0:r.getGroupedDataModernMode(x,g))?void 0:a.map(e=>e[y]).indexOf(e[y]));const o=!np(t,e,m);I&&f?null==(s=null==ne?void 0:ne.current)||s.scrollToVirtualItem(f,n):I&&!f?(w(),x&&0!==x.length&&(null==(l=null==ne?void 0:ne.current)||l.resetGroupStickyHeader(x[0][g],{setState:ue,group:re.group,state:re})),null==(c=null==ne?void 0:ne.current)||c.scrollToItem(n)):k&&S&&e&&o&&!Z.current?null==(u=null==ne?void 0:ne.current)||u.scrollToItem(n,null==(d=null==ne?void 0:ne.current)?void 0:d.vs.enabled):k&&S&&Z.current&&(Z.current&&f&&0===f.skip?null==(p=null==ne?void 0:ne.current)||p.vs.reset():Z.current&&f&&f.skip===f.total-f.pageSize&&(null==(h=null==ne?void 0:ne.current)||h.vs.scrollToEnd()))}Z.current=!1,te.current=re,ee.current=i,C()}),o.useEffect(()=>{var e,t;return ie.current=Lo&&window.ResizeObserver&&new window.ResizeObserver(k.bind(void 0)),null==(e=null==ne?void 0:ne.current)||e.didMount(),C(),null!=(t=f())&&t.body&&ie.current&&ie.current.observe(f().body),()=>{var e;null!=(e=f())&&e.body&&ie.current&&ie.current.disconnect()}},[]);const pe=m+"-accessibility-id",he=m+"-listbox-id",me=m+"-guid",fe=de.toLanguageString(mp,vp[mp]),{style:ge,className:ve,label:ye,dir:xe,virtual:be,adaptive:we,dataItemKey:ke,disabled:Ce,loading:Se,iconClassName:Ie,svgIcon:Ee,valueRender:je}=i,Ae=void 0!==i.opened?i.opened:re.opened,_e=v(),De=ep(_e,i.textField),Ne=!(void 0!==i.validityStyles?i.validityStyles:Ih.validityStyles)||x().valid,Te=ne.current,Pe=Te.vs,Me=h&&h.uDropDownList;Pe.enabled=void 0!==be;const Oe=Fu(),Re=!!(se&&Oe&&se<=Oe.medium&&i.adaptive);void 0!==be&&(Te.vs.skip=be.skip,Te.vs.total=be.total,Te.vs.pageSize=be.pageSize);const Le=rp(i),{focused:Fe}=re,ze=Le.findIndex(e=>np(e,_e,ke)),Be=o.createElement("span",{id:pe,className:rn(Mu.inputInner({c:Me}))},De&&o.createElement("span",{className:rn(Mu.inputText({c:Me}))},De)),Ve=void 0!==je?je.call(void 0,Be,_e):Be,He=o.createElement(o.Fragment,null,o.createElement("span",{ref:e=>{G.current=e,ne.current.wrapper=e},className:rn(Mu.wrapper({c:Me,size:l,rounded:c,fillMode:d,focused:Fe,disabled:Ce,invalid:!Ne,loading:Se,required:y()}),ve),style:ye?p(p({},ge),{},{width:void 0}):ge,dir:xe,onMouseDown:Ae?e=>{"INPUT"!==e.target.nodeName&&(b(ne.current.wrapper),e.preventDefault())}:void 0,onFocus:e=>{J.current||ne.current.handleFocus(e)},onBlur:e=>{if(J.current||!re.focused)return;const t=void 0!==i.opened?i.opened:re.opened,n=ne.current.initState();n.syntheticEvent=e,n.data.focused=!1,n.events.push({type:"onBlur"}),t&&D(),t&&!Re&&ne.current.togglePopup(n),I(n)},tabIndex:Yc(a,Ce),accessKey:i.accessKey,onKeyDown:T,onKeyPress:e=>{if(i.filterable||0===e.which||e.keyCode===Dt)return;let t=String.fromCharCode(e.charCode||e.keyCode);s&&(t=t.toLowerCase())," "===t&&e.preventDefault(),X.current={word:X.current.word+t,last:X.current.last+t},H(e)},onClick:Ce?void 0:N,role:"combobox","aria-required":y(),"aria-disabled":Ce||void 0,"aria-haspopup":"listbox","aria-expanded":Ae||!1,"aria-owns":he,"aria-activedescendant":Ae?"option-"+me+"-"+(ze+(be?be.skip:0)):void 0,"aria-label":i.ariaLabel||i.label,"aria-labelledby":i.ariaLabelledBy,"aria-describedby":i.ariaDescribedBy||pe,"aria-controls":he,id:i.id,title:i.title},Ve,Se&&o.createElement(yo,{className:rn(Mu.loadingIcon({c:Me})),name:"loading"}),o.createElement(bo,{tabIndex:-1,type:"button","aria-label":fe,size:l,fillMode:d,className:rn(Mu.inputButton({c:Me})),rounded:null,themeColor:"base",iconClass:Ie,svgIcon:Ie?void 0:Ee||Qc,onMouseDown:e=>re.focused&&e.preventDefault()}),(e=>o.createElement("select",{name:i.name,ref:e=>{W.current=e},tabIndex:-1,"aria-hidden":!0,title:i.label,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},o.createElement("option",{value:i.valueMap?i.valueMap.call(void 0,e):e})))(_e),!Re&&(()=>{const{header:e,footer:t,dir:r,groupField:a,groupStickyHeaderItemRender:s,list:c}=i,d=rp(i),u=ne.current,m=u.getPopupSettings(),f=void 0!==i.opened?i.opened:re.opened,g=void 0!==m.width?m.width:u.popupWidth,v=h&&h.uDropDownList,y={dir:void 0!==r?r:u.dirCalculated,width:g,popupSettings:p(p({},m),{},{popupClass:rn(m.popupClass,Mu.listContainer({c:v})),anchor:m.anchor||G.current,show:f,onOpen:w,onClose:B,onMouseDownOutside:V}),itemsCount:[d.length]};let{group:x}=re;return void 0===x&&void 0!==a&&(x=ep(d[0],a)),o.createElement(zu,p({},y),M(),e&&o.createElement("div",{className:rn(Mu.listHeader({c:v}))},e),o.createElement("div",{className:rn(Mu.list({c:v,size:l,virtual:ne.current.vs.enabled}))},R(),!c&&x&&0!==d.length&&o.createElement(Ju,{group:x,groupMode:"modern",render:s}),z()),t&&o.createElement("div",{className:rn(Mu.listFooter({c:v}))},t),n&&o.createElement(ia,null))})()),Re&&(()=>{var e;const{header:t,footer:n,adaptiveTitle:r,groupField:a,groupStickyHeaderItemRender:s,list:c}=i,d=rp(i),u=void 0!==i.opened?i.opened:re.opened,m=h&&h.uDropDownList,f=h&&h.uDropDownsActionSheet,g={navigatable:!1,navigatableElements:[],expand:u,animation:!0,onClose:e=>N(e),className:rn(Tu.wrapper({c:f}),"k-adaptive-actionsheet"),animationStyles:se&&Oe&&se<=Oe.small?{top:0,width:"100%",height:"100%"}:void 0,position:se&&Oe&&se<=Oe.small?"fullscreen":void 0};let{group:v}=re;return void 0===v&&void 0!==a&&(v=ep(d[0],a)),o.createElement(kh,p({},g),o.createElement(vh,{className:rn(Tu.header({c:f}))},o.createElement("div",{className:rn(Tu.titleBar({c:f}))},o.createElement("div",{className:rn(Tu.title({c:f}))},o.createElement("div",null,r)),o.createElement("div",{className:rn(Tu.actions({c:f}))},o.createElement(bo,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",onClick:N,icon:"x",svgIcon:rd}))),o.createElement("div",{className:rn(Tu.titleBarGroup({c:f}))},M())),o.createElement(wh,null,t&&o.createElement("div",{className:rn(Mu.listHeader({c:m}))},t),o.createElement("div",{className:rn(Mu.list({c:m,size:l,virtual:null==(e=null==ne?void 0:ne.current)?void 0:e.vs.enabled}))},R(),!c&&v&&0!==d.length&&o.createElement(Ju,{group:v,groupMode:"modern",render:s}),z()),n&&o.createElement("div",{className:rn(Mu.listFooter({c:m}))},n)))})());return ye?o.createElement(Rc,{label:ye,editorValue:De,editorValid:Ne,editorDisabled:i.disabled,style:{width:ge?ge.width:void 0},children:He}):He});Sh.propTypes={delay:jt.number,ignoreCase:jt.bool,iconClassName:jt.string,svgIcon:no,defaultItem:jt.any,valueRender:jt.func,valueMap:jt.func,validationMessage:jt.string,required:jt.bool,id:jt.string,ariaLabelledBy:jt.string,ariaDescribedBy:jt.string,ariaLabel:jt.string,leftRightKeysNavigation:jt.bool,title:jt.string,groupField:jt.string,list:jt.any,skipDisabledItems:jt.bool};const Ih=p(p({delay:500,tabIndex:0,ignoreCase:!0},jp.defaultProps),{},{required:!1,size:"medium",rounded:"medium",fillMode:"solid",groupMode:"modern"});Sh.displayName="KendoReactDropDownList";const Eh=ja();Sh.displayName="KendoReactDropDownList";const jh=o.createContext([null,e=>{}]),Ah=o.createContext([null,e=>{}]),_h=o.createContext([null,e=>{}]);var Dh=(e=>(e.next="next",e.prev="prev",e.current="current",e.reset="reset",e))(Dh||{});var Nh=(e=>(e.remove="remove",e.add="add",e.reorder="reorder",e))(Nh||{});var Th=(e=>(e.toggle="toggle",e.remove="remove",e))(Th||{});const Ph=o.forwardRef((e,t)=>{const n=o.useRef(null),i=o.useRef(null),{disabled:r=Oh.disabled,fillMode:a=Oh.fillMode,themeColor:s=Oh.themeColor,size:l=Oh.size,rounded:c=Oh.rounded,dir:d=Oh.dir,removeIcon:u=Oh.removeIcon,removeSvgIcon:h=Oh.removeSvgIcon,removable:m=Oh.removable}=e,f=ko(i,d);o.useImperativeHandle(n,()=>({element:i.current,props:e})),o.useImperativeHandle(t,()=>n.current);const[g,v]=o.useContext(jh),[y,x]=o.useContext(Ah),[,b]=o.useContext(_h),w=o.useMemo(()=>e.selected||(Array.isArray(g)?g.some(t=>t===e.value):g===e.value),[e.selected,e.value,g]),k=o.useMemo(()=>y===e.value,[e.value,y]);o.useEffect(()=>{k&&i.current&&i.current.focus()},[k]);const C=o.useCallback(t=>{v({type:Th.toggle,payload:e.value,event:t})},[v,e.value]),S=o.useCallback(t=>{m&&(b({type:Nh.remove,payload:e.value,event:t}),x({type:Dh.reset,payload:e.value,event:t}),v({type:Th.remove,payload:e.value,event:t}),e.onRemove&&e.onRemove.call(void 0,{target:n.current,syntheticEvent:t}))},[e.onRemove,e.value,m,b,x,v]),I=o.useCallback(t=>{switch(t.keyCode){case Lt:x({type:Dh.prev,payload:e.value,event:t});break;case zt:x({type:Dh.next,payload:e.value,event:t});break;case Dt:v({type:Th.toggle,payload:e.value,event:t});break;case Vt:S(t)}e.onKeyDown&&e.onKeyDown.call(void 0,{target:n.current,syntheticEvent:t})},[e.onKeyDown,e.value,x,v,S]),E=o.useCallback(t=>{x({payload:e.value,type:Dh.current,event:t}),e.onFocus&&e.onFocus.call(void 0,{target:n.current,syntheticEvent:t})},[e.onFocus,e.value,x]),j=o.useCallback(t=>{e.onBlur&&e.onBlur.call(void 0,{target:n.current,syntheticEvent:t})},[e.onBlur]),A=oo(e,n,{onClick:C});return o.createElement("div",p(p({},A),{},{role:e.role||"button",id:e.value,style:e.style,ref:i,dir:f,tabIndex:Yc(e.tabIndex,r,void 0),className:rn("k-chip",{"k-rtl":"rtl"===f,"k-disabled":r,"k-selected":w,"k-focus":k,["k-chip-".concat(Co.sizeMap[l]||l)]:l,["k-rounded-".concat(Co.roundedMap[c]||c)]:c,["k-chip-".concat(a)]:a,["k-chip-".concat(a,"-").concat(s)]:!(!a||!s)},e.className),"aria-pressed":e.role?void 0:w,"aria-disabled":r,"aria-describedby":e.ariaDescribedBy,"aria-keyshortcuts":m?"Enter Delete":void 0,onFocus:E,onBlur:j,onKeyDown:I}),w&&(e.selectedIcon||e.selectedSvgIcon)&&o.createElement(yo,{className:"k-chip-icon",name:e.selectedIcon?to(e.selectedIcon):void 0,icon:e.selectedSvgIcon,size:"small"}),(e.icon||e.svgIcon)&&o.createElement(yo,{className:"k-chip-icon",name:e.icon?to(e.icon):void 0,icon:e.svgIcon,size:"small"}),e.avatar&&o.createElement("div",{className:"k-chip-avatar k-avatar k-rounded-".concat(e.avatar.rounded," k-avatar-md k-avatar-solid k-avatar-solid-primary"),style:e.avatar.style},o.createElement("span",{className:"k-avatar-image"},o.createElement("img",{src:e.avatar.image,alt:e.avatar.imageAlt}))),o.createElement("span",{className:"k-chip-content"},void 0!==e.children?e.children:e.text&&o.createElement("span",{"aria-label":e.ariaLabel||e.text,className:"k-chip-label"},e.text)),m&&o.createElement("span",{className:"k-chip-actions"},o.createElement("span",{className:rn("k-chip-action","k-chip-remove-action"),onClick:S},o.createElement(yo,{name:u?to(u):void 0,icon:h||ad,size:"small"}))))}),Mh={id:jt.string,text:jt.string,value:jt.any,dir:jt.oneOf(["ltr","rtl"]),removable:jt.bool,removeIcon:jt.string,removeIconSvg:no,disabled:jt.bool,icon:jt.string,svgIcon:no,selectedIcon:jt.string,selectedIconSvg:no,onRemove:jt.func,dataItem:jt.any,selected:jt.bool,ariaDescribedBy:jt.string,size:jt.oneOf([null,"small","medium","large"]),rounded:jt.oneOf([null,"small","medium","large","full"]),fillMode:jt.oneOf([null,"outline","solid"]),themeColor:jt.oneOf([null,"base","info","success","warning","error"])},Oh={disabled:!1,removable:!1,removeIcon:"k-i-x-circle",removeSvgIcon:ad,dir:"ltr",size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base"};Ph.displayName="KendoReactChip",Ph.propTypes=Mh;const Rh=e=>e.syntheticEvent.preventDefault(),Lh=e=>e.syntheticEvent.stopPropagation();class Fh extends o.Component{render(){const{data:e,guid:t,focused:n,tagRender:i,tag:r,onTagDelete:a,size:s}=this.props;return o.createElement(o.Fragment,null,e.map((l,c)=>{const d=r?o.createElement(r,{key:l.text+c,tagData:l,guid:t,focusedTag:n,onTagDelete:a}):o.createElement(Ph,{id:"tag-".concat(t,"-").concat(l.text.replace(/\s+/g,"-")),"aria-selected":!0,role:"option","aria-setsize":e.length,key:l.text+c,text:l.text,removable:!0,onRemove:e=>a.call(void 0,l.data,e.syntheticEvent),onMouseDown:Rh,onClick:Lh,className:l===n?"k-focus":void 0,size:s});return i?i(l,d):d}),this.props.children)}}class zh extends o.Component{constructor(){super(...arguments),this._input=null}get input(){return this._input}componentDidUpdate(e){const t=e.value,n=e.suggestedText,{value:o,suggestedText:i,focused:r}=this.props,a=this.input,s=t!==o||i!==n,l=s&&t.startsWith(o)&&!(n&&i&&n.endsWith(i)),c=Kc(document);r&&a&&c!==a&&a.focus(),i&&s&&!l&&a&&a.setSelectionRange(o.length-i.length,o.length)}render(){const{expanded:e=!1,disabled:t,role:n="listbox",render:i,tabIndex:r,accessKey:a,unstyled:s,inputAttributes:l}=this.props,c=s&&s.uDropDownsBase,d={tabIndex:r,accessKey:a},u=o.createElement("input",p({autoComplete:"off",id:this.props.id,type:"text",key:"searchbar",size:this.props.size,placeholder:this.props.placeholder,className:rn(Du.inputInner({c:c})),role:n,name:this.props.name,value:this.props.value,onChange:this.props.onChange,ref:e=>{this._input=e},onKeyDown:this.props.onKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onClick:this.props.onClick,"aria-disabled":t||void 0,disabled:t||void 0,readOnly:this.props.readOnly||void 0,title:this.props.title,"aria-haspopup":"listbox","aria-expanded":e,"aria-owns":this.props.owns,"aria-activedescendant":e?this.props.activedescendant:void 0,"aria-describedby":this.props.ariaDescribedBy,"aria-labelledby":this.props.ariaLabelledBy,"aria-label":this.props.ariaLabel,"aria-required":this.props.ariaRequired,"aria-controls":this.props.ariaControls},Object.assign({},d,l)));return i?i.call(void 0,u):u}}var Bh=(e=>(e[e.PopupList=0]="PopupList",e[e.TagsList=1]="TagsList",e))(Bh||{});const Vh=e=>{const t=Tc(),n=po(),i=n&&n.uDropDownsBase,r=t.toLanguageString(up,vp[up]);return o.createElement("span",{className:rn(Du.clearButton({c:i})),role:"button",onClick:e.onClick,onMouseDown:e=>e.preventDefault(),tabIndex:-1,title:r,key:"clearbutton"},o.createElement(yo,{name:"x",icon:rd}))},Hh=e=>{const{footer:t,windowWidth:n=0,mobileFilter:i,children:r,navigatable:a,navigatableElements:s,expand:l,animation:c,title:d,subTitle:u,onClose:h}=e,m=Fu(),f={navigatable:a||!1,navigatableElements:s||[],expand:l,animation:!1!==c,suffixActions:o.createElement(bo,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",icon:"x",svgIcon:rd,onClick:h}),filter:i,onClose:h,animationStyles:m&&n<=m.small?{top:0,width:"100%",height:"100%"}:void 0,title:d,subTitle:u,className:"k-adaptive-actionsheet",position:m&&n<=m.small?"fullscreen":void 0};return o.createElement(kh,p({},f),r,t&&o.createElement(xh,{className:"k-actions k-actions-stretched"},o.createElement(bo,{size:"large",tabIndex:0,"aria-label":t.cancelText,"aria-disabled":"false",type:"button",onClick:t.onCancel},t.cancelText),o.createElement(bo,{tabIndex:0,themeColor:"primary",size:"large","aria-label":t.applyText,"aria-disabled":"false",type:"button",onClick:t.onApply},t.applyText)))};function qh(e){const t=e.context;return t&&t.intl?t.intl:new Ac("en")}function Uh(e){const t=e.context;return t&&t.localization?t.localization:new Dc}function Gh(e){e.contextType=Nc}function Wh(e){e.contextType=Nc}const Kh=Uc,{sizeMap:Yh,roundedMap:Xh}=Co,Jh=e=>e.preventDefault(),Qh=e=>2===e,Zh=class e extends o.Component{constructor(e){super(e),this.state={activedescendant:Bh.PopupList,currentValue:[]},this._element=null,this._valueItemsDuringOnChange=null,this.base=new jp(this),this._tags=[],this._input=null,this._adaptiveInput=null,this._skipFocusEvent=!1,this._lastSelectedOrDeslectedItemIndex=null,this.itemHeight=0,this.scrollToFocused=!1,this.localization=null,this.showLicenseWatermark=!1,this.focus=()=>{this._input&&this._input.focus()},this.handleItemSelect=(e,t)=>{const{dataItemKey:n,virtual:o}=this.props,i=rp(this.props),r=i[e-(o?o.skip:0)],a=this.value.findIndex(e=>np(e,r,n));this._lastSelectedOrDeslectedItemIndex=i.findIndex(e=>np(e,r,n));let s=[];-1!==a?(s=this.value,s.splice(a,1)):s=[...this.value,r],(void 0!==this.props.filter?this.props.filter:this.state.text)&&!this.mobileMode&&(this.state.text&&(t.data.text=""),this.base.filterChanged("",t)),this._adaptiveInput&&this._adaptiveInput.blur(),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.triggerOnChange(s,t),this.base.triggerPageChangeCornerItems(r,t)},this.onTagDelete=(e,t)=>{const n=this.base.initState();n.syntheticEvent=t,this.opened&&this.base.togglePopup(n),!this.state.focused&&!this.mobileMode&&(n.data.focused=!0,this.focus());const o=this.value;tp(o,e,this.props.dataItemKey),this.triggerOnChange(o,n),this.applyState(n)},this.itemFocus=(e,t)=>{const{allowCustom:n,virtual:o}=this.props,i=rp(this.props),r=o?o.skip:0,a=void 0!==this.props.filter?this.props.filter:this.state.text,{focusedIndex:s}=this.getFocusedState(),l=n&&a,c=i[e-r];c&&s!==e?this.state.focusedIndex!==e&&(t.data.focusedIndex=e,t.data.activedescendant=Bh.PopupList):l&&-1===e&&void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.base.triggerPageChangeCornerItems(c,t)},this.componentRef=e=>{this._element=e,this.base.wrapper=e},this.searchbarRef=e=>{const t=this._input=e&&e.input;t&&this.state.focused&&window.setTimeout(()=>t.focus(),0)},this.onChangeHandler=e=>{const t=this.base.initState(),n=e.target.value;t.syntheticEvent=e,void 0===this.props.filter&&(t.data.text=n),t.data.focusedIndex=void 0,this.opened||(this.base.togglePopup(t),this.setState({currentValue:this.value})),this.base.filterChanged(n,t),this.applyState(t),this.setState({group:void 0})},this.clearButtonClick=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),this.value.length>0&&this.triggerOnChange([],t),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t);const n=void 0!==this.props.filter?this.props.filter:this.state.text;Qu(n)&&""!==n&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this._lastSelectedOrDeslectedItemIndex=null,this.applyState(t)},this.onInputKeyDown=e=>{const{textField:t,groupField:n}=this.props,o=rp(this.props),i=e.keyCode,r=void 0!==this.props.filter?this.props.filter:this.state.text,a=void 0!==this.props.opened?this.props.opened:this.state.opened,{focusedItem:s,focusedIndex:l}=this.getFocusedState(),c=this.base.initState();if(c.syntheticEvent=e,!r&&this.value.length>0&&(i===Lt||i===zt||i===Rt||i===Ot||i===Vt||i===At)&&!e.shiftKey)return this.onTagsNavigate(e,c);const d=()=>{e.preventDefault(),this.base.togglePopup(c),this.applyState(c)};if(this.opened)if(i===Pt)e.preventDefault(),this.base.scrollPopupByPageSize(-1);else if(i===Mt)e.preventDefault(),this.base.scrollPopupByPageSize(1);else if((e.ctrlKey||e.metaKey)&&"KeyA"===e.code){const e=(this.state.value&&this.state.value.length)===o.length?[]:o;this.updateStateOnKeyboardNavigation(e,c)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===Ot){const e=o.slice(this.getFocusedState().focusedIndex);this.itemFocus(o.length-1,c),this.updateStateOnKeyboardNavigation(e,c)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===Rt){const e=o.slice(0,this.getFocusedState().focusedIndex+1);this.itemFocus(0,c),this.updateStateOnKeyboardNavigation(e,c)}else if(e.shiftKey&&e.keyCode===Ft){let e;const t=this.getLastSelectedOrDeselectedIndex(1,l);null===t?e=0!==l?o.slice(l-1,l):[o[l]]:t===l?e=[o[t-1]]:l>=0&&(e=t>l?o.slice(l-1,t):o.slice(t-1,l)),e&&e.length>0&&(l>=1&&this.itemFocus(l-1,c),this.updateStateOnKeyboardNavigation(e,c))}else if(e.shiftKey&&e.keyCode===Bt){let e;const t=this.getLastSelectedOrDeselectedIndex(0,l);null===t?e=l!==o.length-1?o.slice(l,l+1):[o[l]]:t===l?e=o.slice(l,l+2):l>=0&&(e=t>l?o.slice(l+1,t+1):o.slice(t,l+2)),e&&e.length>=1&&(this.itemFocus(l+1,c),this.updateStateOnKeyboardNavigation(e,c))}else if(e.altKey&&i===Ft)d();else if(i===Ft||i===Bt){if(""!==n&&t)if(!this.props.skipDisabledItems&&a)this.onNavigate(c,i);else{let e=0;if(i===Bt||i===zt){const n=o.slice(l+1).find(e=>!e.disabled&&e[t]);e=n&&o.findIndex(e=>e[t]===n[t])}else if(i===Ft||i===Lt){let n;if(-1===l)n=o,e=o.findIndex(e=>!e.disabled&&e[t]);else{n=o.slice(0,l);let i=n.pop();for(;i&&i.disabled;)i=n.pop();e=i&&o.findIndex(e=>e[t]===i[t])}}if(e){const t=e-l;this.onNavigate(c,i,t)}else void 0!==e&&this.onNavigate(c,i)}else if(!this.props.skipDisabledItems&&a)this.onNavigate(c,i);else{let e=null;if(i===Bt||i===zt)e=o.slice(l+1).find(e=>!e.disabled);else if(i===Ft||i===Lt){const t=o.slice(0,l);for(e=t.pop();e&&e.disabled;)e=t.pop()}if(e){const t=e.id-l-1;this.onNavigate(c,i,t)}else this.onNavigate(c,i)}this.applyState(c),e.preventDefault()}else i===Dt?(e.preventDefault(),this.props.allowCustom&&r&&null===s?this.customItemSelect(e):s&&s.disabled?d():this.selectFocusedItem(e)):i===Nt&&d();else e.altKey&&i===Bt?d():i===Nt&&this.clearButtonClick(e)},this.listContainerContent=()=>{const{header:e,footer:t,allowCustom:n,size:i,groupStickyHeaderItemRender:r,groupField:a,list:s}=this.props,l=rp(this.props),c=void 0!==this.props.filter?this.props.filter:this.state.text,{focusedType:d}=this.getFocusedState(),u=n&&c&&o.createElement("div",{className:rn("k-list",{["k-list-".concat(Yh[i]||i)]:i}),key:"customitem",onClick:this.customItemSelect,onMouseDown:Jh},o.createElement("div",{className:rn("k-list-item k-custom-item",{"k-focus":Qh(d)}),style:{fontStyle:"italic"}},c,o.createElement(yo,{name:"plus",icon:sd,style:{position:"absolute",right:"0.5em"}})));let{group:p}=this.state;return void 0===p&&void 0!==a&&(p=ep(l[0],a)),o.createElement(o.Fragment,null,e&&o.createElement("div",{className:"k-list-header"},e),u,o.createElement("div",{className:rn("k-list",{["k-list-".concat(this.mobileMode?"lg":Yh[i]||i)]:i,"k-virtual-list":this.base.vs.enabled})},!s&&p&&0!==l.length&&o.createElement(Ju,{group:p,groupMode:"modern",render:r}),this.renderList()),this.showLicenseWatermark&&o.createElement(ia,null),t&&o.createElement("div",{className:"k-list-footer"},t))},this.renderListContainer=()=>{const e=this.base,{dir:t}=this.props,n=rp(this.props),i=this.base.getPopupSettings(),r=void 0!==i.width?i.width:e.popupWidth,a={dir:void 0!==t?t:e.dirCalculated,width:r,popupSettings:p(p({},i),{},{popupClass:rn(i.popupClass,"k-list-container","k-multiselect-popup"),anchor:i.anchor||this.element,show:this.opened,onOpen:this.onPopupOpened,onClose:this.onPopupClosed}),itemsCount:[n.length,this.value.length]};return o.createElement(zu,p({},a),this.listContainerContent())},this.renderAdaptiveListContainer=()=>{const{adaptiveTitle:e,filterable:t,filter:n}=this.props,{windowWidth:i=0}=this.state,r=void 0!==n?n:this.state.text;this.localization=Uh(this);const a=t?o.createElement(Xu,{value:r,ref:e=>{this._adaptiveInput=e&&e.element},onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,size:this.props.size,rounded:this.props.rounded,fillMode:this.props.fillMode}):null,s={title:e,expand:this.opened,onClose:e=>this.onCancel(e),windowWidth:i,mobileFilter:a,footer:{cancelText:this.localization.toLanguageString(gp,vp[gp]),onCancel:this.onCancel,applyText:this.localization.toLanguageString(fp,vp[fp]),onApply:this.closePopup}};return o.createElement(Hh,p({},s),o.createElement(wh,null,o.createElement("div",{className:"k-list-container"},this.listContainerContent())))},this.closePopup=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onClose"});const n=void 0!==this.props.filter?this.props.filter:this.state.text;Qu(n)&&""!==n&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.onCancel=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onCancel"});const n=void 0!==this.props.filter?this.props.filter:this.state.text;Qu(n)&&""!==n&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.renderList=()=>{const{textField:e,listNoDataRender:t,itemRender:n,groupHeaderItemRender:i,dataItemKey:r,virtual:a={skip:0,total:void 0}}=this.props,s=rp(this.props),l=this.base.vs,{focusedIndex:c}=this.getFocusedState(),d=this.base.getPopupSettings(),u="translateY(".concat(l.translate,"px)");return o.createElement(yp,{id:this.base.listBoxId,show:this.opened,data:s.slice(),focusedIndex:c-a.skip,value:this.value,textField:e,valueField:r,optionsGuid:this.base.guid,groupField:this.props.groupField,groupMode:"modern",listRef:e=>{l.list=this.base.list=e},wrapperStyle:this.mobileMode?{}:{maxHeight:d.height},wrapperCssClass:"k-list-content",listStyle:l.enabled?{transform:u}:void 0,key:"listKey",skip:a.skip,onClick:this.handleItemClick,itemRender:n,groupHeaderItemRender:i,noDataRender:t,onMouseDown:Jh,onBlur:this.handleBlur,onScroll:this.onScroll,wrapperRef:l.scrollerRef,scroller:this.base.renderScrollElement(),ariaSetSize:a.total})},this.onScroll=e=>{const{vs:t,list:n}=this.base;t.scrollHandler(e);const{groupField:o}=this.props;let i=rp(this.props);if(o&&i.length&&o){const r=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:n?n.children[0].offsetHeight:0),a=e.target.scrollTop-t.skip*r;i=this.base.getGroupedDataModernMode(i,o);let s=i[0][o];for(let e=1;e<i.length&&!(r*e>a);e++)i[e]&&i[e][o]&&(s=i[e][o]);s!==this.state.group&&this.setState({group:s})}},this.customItemSelect=e=>{const t=void 0!==this.props.filter?this.props.filter:this.state.text,{textField:n}=this.props;if(!t)return;const o=this.base.initState();o.syntheticEvent=e;const i=n?{[n]:t}:t;void 0!==this.state.text&&(o.data.text=""),o.data.focusedIndex=void 0,this.base.filterChanged("",o);const r=[...this.value,i];this.triggerOnChange(r,o),this.base.togglePopup(o),this.applyState(o)},this.handleWrapperClick=e=>{const t=this._input;!this.opened&&t&&this.focusElement(t);const n=this.base.initState();n.syntheticEvent=e,!this.state.focused&&!this.mobileMode&&(n.events.push({type:"onFocus"}),n.data.focused=!0),this.mobileMode&&(this.setState({currentValue:this.tagsToRender}),this.mobileMode&&window.setTimeout(()=>this._adaptiveInput&&this._adaptiveInput.focus(),300)),this.base.togglePopup(n),this.applyState(n)},this.handleItemClick=(e,t)=>{const n=this.base.initState();n.syntheticEvent=t,this.handleItemSelect(e,n),this.props.autoClose&&!this.mobileMode&&this.base.togglePopup(n),t.stopPropagation(),this.applyState(n)},this.handleBlur=e=>{if(!this.state.focused||this._skipFocusEvent)return;const t=this.base.initState(),{allowCustom:n,filterable:o}=this.props;t.syntheticEvent=e,t.data.focused=!1,t.events.push({type:"onBlur"}),this.opened&&!this.mobileMode&&(this.state.opened&&(t.data.opened=!1),t.events.push({type:"onClose"})),!n&&!o&&this.state.text&&(t.data.text=""),this.applyState(t)},this.handleFocus=e=>{this._skipFocusEvent||this.base.handleFocus(e)},this.onPopupOpened=()=>{this._input&&this.state.focused&&!this.mobileMode&&this.focusElement(this._input)},this.onPopupClosed=()=>{this.state.focused&&window.setTimeout(()=>{this.state.focused&&this.focusElement(this._input)},0)},this.setValidity=()=>{this._input&&this._input.setCustomValidity&&this._input.setCustomValidity(this.validity.valid?"":this.props.validationMessage||"Please enter a valid value!")},this.validate(e)}get _inputId(){return this.props.id}get document(){if(Lo)return this.element&&this.element.ownerDocument||document}validate(e){if(e.filterable||e.virtual){const t=[];e.filterable&&t.push("filterable"),e.virtual&&t.push("virtualization"),this.showLicenseWatermark=!na(Ap,{component:"MultiSelect",features:t})}}get element(){return this._element}get opened(){return!!(void 0!==this.props.opened?this.props.opened:this.state.opened)}get tagsToRender(){const{tags:e,textField:t}=this.props,n=[];return void 0===e?this.value.forEach(e=>{n.push({text:ep(e,t),data:[e]})}):n.push(...e),n}get mobileMode(){var e;return!!(this.state.windowWidth&&this.props._adaptiveMode&&this.state.windowWidth<=(null==(e=this.props._adaptiveMode)?void 0:e.medium)&&this.props.adaptive)}get value(){const e=[];return this._valueItemsDuringOnChange?e.push(...this._valueItemsDuringOnChange):this.props.value?e.push(...this.props.value):this.state.value?e.push(...this.state.value):this.props.defaultValue&&e.push(...this.props.defaultValue),e}get name(){return this.props.name}get validity(){const e=void 0!==this.props.validationMessage,t=!this.required||null!==this.value&&this.value.length>0&&void 0!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}}get required(){return void 0!==this.props.required?this.props.required:e.defaultProps.required}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles}componentDidUpdate(e,t){var n;const{virtual:o,groupField:i=""}=this.props,r=rp(this.props),a=o?o.skip:0,s=e.virtual?e.virtual.total:0,l=void 0!==e.opened?e.opened:t.opened,c=!l&&this.opened,d=l&&!this.opened,u=this.base.getPopupSettings();if(this.validate(this.props),this.base.didUpdate(),!u.animate&&d&&this.onPopupClosed(),o&&o.total!==s)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{let{focusedItem:e,focusedIndex:t}=this.getFocusedState();""!==i&&(t=null==(n=this.base.getGroupedDataModernMode(r,i))?void 0:n.indexOf(e)),c&&o?this.base.scrollToVirtualItem(o,t-a):c&&!o?(r&&0!==r.length&&this.base.resetGroupStickyHeader(r[0][i],this),this.base.scrollToItem(t)):this.opened&&l&&e&&this.scrollToFocused&&this.base.scrollToItem(t-a)}this.scrollToFocused=!1,this.setValidity()}componentDidMount(){var e;this.observerResize=Lo&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.base.didMount(),this.setValidity(),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentWillUnmount(){var e;null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.disconnect()}onNavigate(e,t,n){const{allowCustom:o}=this.props,i=rp(this.props),r=void 0!==this.props.filter?this.props.filter:this.state.text,{focusedType:a,focusedIndex:s}=this.getFocusedState(),l=o&&r,c=Qh(a),d=this.base,u=d.vs;if(this.opened&&t===Ft&&c)void 0!==this.state.focusedIndex&&(e.data.focusedIndex=void 0);else{const o=d.navigation.navigate({keyCode:t,current:s,max:(u.enabled?u.total:i.length)-1,min:l?-1:0,skipItems:n||void 0});void 0!==o&&(this.itemFocus(o,e),this.scrollToFocused=!0)}this.applyState(e)}render(){const{style:e,className:t,label:n,dir:i,disabled:r,textField:a,dataItemKey:s,virtual:l,size:c,rounded:d,fillMode:u,loading:h,filter:m}=this.props,{text:f,focused:g,focusedTag:v,currentValue:y}=this.state,x=this.base.vs,b=this.props.id||this._inputId;x.enabled=void 0!==l,void 0!==l&&(x.skip=l.skip,x.total=l.total,x.pageSize=l.pageSize);const w=this.mobileMode&&this.opened?y:this.tagsToRender;this.setItems(this.tagsToRender,this._tags);const k=!this.validityStyles||this.validity.valid,C=!!(void 0!==m?m:f)||w&&w.length>0,[S,I]=Kh(this.props.prefix||o.Fragment),[E,j]=Kh(this.props.suffix||o.Fragment),A=o.createElement(o.Fragment,null,o.createElement("div",{ref:this.componentRef,className:rn("k-multiselect k-input",t,{["k-input-".concat(Yh[c]||c)]:c,["k-rounded-".concat(Xh[d]||d)]:d,["k-input-".concat(u)]:u,"k-focus":g&&!r,"k-invalid":!k,"k-disabled":r,"k-loading":h,"k-required":this.required}),style:n?p(p({},e),{},{width:void 0}):e,dir:i,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleWrapperClick,onMouseDown:op},this.props.prefix&&o.createElement(S,p({},I)),o.createElement("div",{className:rn("k-input-values")},o.createElement("div",{className:rn("k-chip-list",{["k-chip-list-".concat(Yh[c]||c)]:c}),role:"listbox",id:"tagslist-"+this.base.guid},w&&w.length>0&&o.createElement(Fh,{tagRender:this.props.tagRender,onTagDelete:this.onTagDelete,data:w,guid:this.base.guid,focused:v?w.find(e=>ip(e,v,s)):void 0,size:c})),this.renderSearchBar(b)),h&&o.createElement(yo,{className:"k-input-loading-icon",name:"loading"}),this.props.suffix&&o.createElement(E,p({},j)),C&&o.createElement(Vh,{onClick:this.clearButtonClick}),!this.mobileMode&&this.renderListContainer()),this.mobileMode&&this.renderAdaptiveListContainer());return n?o.createElement(Rc,{label:n,editorId:b,editorValue:f||ep(this.value[0],a),editorValid:k,editorDisabled:r,style:{width:e?e.width:void 0},children:A}):A}renderSearchBar(e){const{activedescendant:t,focusedTag:n,currentValue:i}=this.state,{disabled:r,placeholder:a,ariaDescribedBy:s,ariaLabelledBy:l,ariaLabel:c,inputAttributes:d}=this.props,u=!this.mobileMode&&(void 0!==this.props.filter?this.props.filter:this.state.text)||"",{focusedIndex:h}=this.getFocusedState(),m=0!==this.value.length||u?void 0:a,f=i&&i.length>0?void 0:a,g=t===Bh.TagsList&&void 0!==n?"tag-".concat(this.base.guid,"-").concat(n.text.replace(/\s+/g,"-")):"option-".concat(this.base.guid,"-").concat(h),v={accessKey:this.props.accessKey,tabIndex:this.props.tabIndex};return o.createElement(zh,p({id:e,size:Math.max((m||"").length,u.length,1),placeholder:this.mobileMode&&this.opened?f:m,value:u,onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,ref:this.searchbarRef,disabled:r,expanded:this.opened,owns:this.base.listBoxId,role:"combobox",activedescendant:g,ariaDescribedBy:"tagslist-".concat(this.base.guid).concat(s?" "+s:""),ariaLabelledBy:l,ariaRequired:this.required,ariaLabel:c,inputAttributes:d},v))}onTagsNavigate(e,t){const n=e.keyCode,{focusedTag:o}=this.state,i=this._tags,r=this.props.dataItemKey;let a,s=o?i.findIndex(e=>ip(e,o,r)):-1;const l=-1!==s;if(n===Lt)s=l?Math.max(0,s-1):i.length-1,a=i[s];else if(n===zt)s===i.length-1?a=void 0:l&&(s=Math.min(i.length-1,s+1),a=i[s]);else if(n!==Rt||e.shiftKey)if(n!==Ot||e.shiftKey){if(n===Vt){if(l){const e=this.value;tp(e,i[s].data,r),this.triggerOnChange(e,t)}}else if(n===At){const e=this.value;if(l)tp(e,i[s].data,r),this.triggerOnChange(e,t);else if(!l&&i.length){const n=i.pop();tp(e,n.data,r),this.triggerOnChange(e,t)}}}else a=i[i.length-1];else a=i[0];a!==o&&(t.data.focusedTag=a,t.data.activedescendant=Bh.TagsList),this.applyState(t)}triggerOnChange(e,t){void 0===this.props.value&&(t.data.value=[...e]),this._valueItemsDuringOnChange=[],this.setItems(e,this._valueItemsDuringOnChange),t.events.push({type:"onChange"})}selectFocusedItem(e,t){const{virtual:n}=this.props,o=rp(this.props),{focusedIndex:i}=t||this.getFocusedState();void 0!==o[i-(n?n.skip:0)]&&this.handleItemClick(i,e)}setItems(e,t){t.length=0,t.push(...e)}getFocusedState(){const{focusedIndex:e}=this.state,t=void 0!==this.props.filter?this.props.filter:this.state.text,{allowCustom:n,dataItemKey:o,virtual:i,textField:r,focusedItemIndex:a=$u,skipDisabledItems:s}=this.props,l=rp(this.props),c=i&&i.skip||0;let d;if(void 0!==e)return{focusedIndex:e,focusedItem:l[e-c],focusedType:1};const u=this.value;if(n&&t)return{focusedItem:null,focusedIndex:-1,focusedType:2};if(t)return d=a(l,t,r),{focusedItem:l[d],focusedIndex:d+c,focusedType:1};if(u.length){const e=u[u.length-1];return d=l.findIndex(t=>np(t,e,o)),void 0!==l[d]?{focusedIndex:d+c,focusedItem:l[d],focusedType:1}:{focusedType:0,focusedIndex:-1}}if(s&&r&&!t&&0===c){const e=l.findIndex(e=>!e.disabled&&e[r]);return{focusedIndex:e,focusedItem:l[e-c],focusedType:1}}return 0===c?{focusedItem:l[0],focusedIndex:0,focusedType:1}:{focusedType:0,focusedIndex:-1}}focusElement(e){this._skipFocusEvent=!0,e.focus(),window.setTimeout(()=>this._skipFocusEvent=!1,0)}applyState(e){this.base.applyState(e),this._valueItemsDuringOnChange=null}calculateMedia(e){for(const t of e)this.setState({windowWidth:t.target.clientWidth})}updateStateOnKeyboardNavigation(e,t){this.setState({value:e}),this.triggerOnChange(e,t),this.applyState(t)}getLastSelectedOrDeselectedIndex(e,t){return null===this._lastSelectedOrDeslectedItemIndex&&(this._lastSelectedOrDeslectedItemIndex=t),null!==this._lastSelectedOrDeslectedItemIndex?this._lastSelectedOrDeslectedItemIndex+e:null}};Zh.displayName="MultiSelect",Zh.propTypes=p(p({},jp.propTypes),{},{autoClose:jt.bool,value:jt.arrayOf(jt.any),defaultValue:jt.arrayOf(jt.any),dataItemKey:jt.string,placeholder:jt.string,tags:jt.arrayOf(jt.shape({text:jt.string,data:jt.arrayOf(jt.any)})),tagRender:jt.func,id:jt.string,ariaLabelledBy:jt.string,ariaDescribedBy:jt.string,groupField:jt.string,list:jt.any,adaptive:jt.bool,adaptiveTitle:jt.string,onCancel:jt.func,skipDisabledItems:jt.bool,inputAttributes:jt.object}),Zh.defaultProps=p(p({},jp.defaultProps),{},{autoClose:!0,required:!1,size:"medium",rounded:"medium",fillMode:"solid",groupMode:"modern",skipDisabledItems:!0,prefix:void 0,suffix:void 0});let $h=Zh;const em=sa(Aa(ja(),(e=>o.forwardRef((t,n)=>{const i=Fu();return o.createElement(e,p(p({},t),{},{ref:n,_adaptiveMode:i}))}))($h)));em.displayName="KendoReactMultiSelect";var tm=function(e){return e?new Date(e.getTime()):null},nm=function(e,t){var n=tm(e);return 0===t&&23===n.getHours()&&n.setHours(n.getHours()+2),n},om=function(e,t,n,o,i,r,a){void 0===o&&(o=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===a&&(a=0);var s=new Date(e,t,n,o,i,r,a);return e>-1&&e<100&&s.setFullYear(s.getFullYear()-1900),nm(s,o)},im=function(e){return om(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0)};const rm=e=>{let{children:t,onFocus:n,onBlur:i,onSyncFocus:r,onSyncBlur:a}=e;const s=Uu({onFocus:n,onBlur:i,onSyncFocus:r,onSyncBlur:a});return o.createElement(o.Fragment,null,t.call(void 0,p({},s)))};var am=function(e,t){return!e&&!t||e&&t&&e.getTime()===t.getTime()};const sm={footer:{main:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(Sn.footer),actions:"".concat(pn.prefix,"-").concat(Cn.actions),stretched:"".concat(pn.prefix,"-").concat(Cn.actions,"-").concat(En.stretched),horizontal:"".concat(pn.prefix,"-").concat(Cn.actions,"-").concat(xn.horizontal)},cancel:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(In.cancel),accept:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(In.accept),part:{main:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(Cn.part),disabled:"".concat(pn.prefix,"-").concat(En.disabled)},header:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(Sn.header),now:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(_n.now),listContainer:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(Cn.list,"-").concat(Cn.container),highlight:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(En.highlight),listWrapper:{main:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(Cn.list,"-").concat(Cn.wrapper),focused:"".concat(pn.prefix,"-").concat(En.focus)},list:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(Cn.list),container:{main:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(Cn.container),scrollable:"".concat(pn.prefix,"-").concat(En.scrollable),content:"".concat(pn.prefix,"-").concat(Cn.content)},containerSelector:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(Cn.container),separator:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(Cn.separator),ul:"".concat(pn.prefix,"-").concat(pn.reset),li:"".concat(pn.prefix,"-").concat(Cn.item),title:"".concat(pn.prefix,"-").concat(Sn.title),scrollablePlaceholder:"".concat(pn.prefix,"-").concat(En.scrollable,"-").concat(Cn.placeholder)},lm=(un(sm,"cancel"),un(sm,"accept"),un(sm,"header"),un(sm,"now"),un(sm,"listContainer"),un(sm,"highlight"),un(sm,"list"),un(sm,"containerSelector"),un(sm,"separator"),un(sm,"ul"),un(sm,"li"),un(sm,"title"),un(sm,"scrollablePlaceholder"),{wrapper:{main:"".concat(pn.prefix,"-").concat(mn.timepicker),input:"".concat(Vn),size:{small:"".concat(Vn,"-").concat(fn.small),medium:"".concat(Vn,"-").concat(fn.medium),large:"".concat(Vn,"-").concat(fn.large)},fillMode:{solid:"".concat(Vn,"-").concat(gn.solid),outline:"".concat(Vn,"-").concat(gn.outline),flat:"".concat(Vn,"-").concat(gn.flat)},rounded:{small:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.small),medium:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.medium),large:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.large)},disabled:"".concat(pn.prefix,"-").concat(En.disabled),required:"".concat(pn.prefix,"-").concat(En.required),invalid:"".concat(pn.prefix,"-").concat(En.invalid)},inputButton:"".concat(Vn,"-").concat(Sn.button),popup:{main:"".concat(pn.prefix,"-").concat(mn.timepicker,"-").concat(Cn.popup),container:"".concat(pn.prefix,"-").concat(Cn.list,"-").concat(Cn.container)},timeSelector:{main:"".concat(pn.prefix,"-").concat(_n.timeselector),size:{medium:"".concat(pn.prefix,"-").concat(_n.timeselector,"-").concat(fn.medium),large:"".concat(pn.prefix,"-").concat(_n.timeselector,"-").concat(fn.large)},disabled:"".concat(pn.prefix,"-").concat(En.disabled),reset:"".concat(pn.prefix,"-").concat(pn.reset)}}),cm=(un(lm,"inputButton"),{wrapper:{main:"".concat(Hn),infinite:"".concat(Hn,"-").concat(pn.infinite),disabled:"".concat(pn.prefix,"-").concat(En.disabled),weekNumber:"".concat(pn.prefix,"-").concat(_n.week,"-").concat(_n.number),size:{medium:"".concat(Hn,"-").concat(fn.medium),large:"".concat(Hn,"-").concat(fn.large)}},view:{main:"".concat(Hn,"-").concat(Cn.view),vertical:"".concat(pn.prefix,"-").concat(hn.vstack),month:"".concat(Hn,"-").concat(_n.month).concat(Cn.view),year:"".concat(Hn,"-").concat(_n.year).concat(Cn.view),decade:"".concat(Hn,"-").concat(_n.decade).concat(Cn.view),century:"".concat(Hn,"-").concat(_n.century).concat(Cn.view)},navigation:"".concat(Hn,"-").concat(_n.navigation),navigationHighlight:"".concat(Hn,"-").concat(_n.navigation,"-").concat(En.highlight),table:{main:"".concat(Hn,"-").concat(Sn.table),weekdays:"".concat(Hn,"-").concat(_n.weekdays)},thead:"".concat(Hn,"-").concat(Sn.thead),tr:"".concat(Hn,"-").concat(Sn.tr),th:"".concat(Hn,"-").concat(Sn.th),caption:"".concat(Hn,"-").concat(Sn.caption),tbody:"".concat(Hn,"-").concat(Sn.tbody),ul:"".concat(pn.prefix,"-").concat(pn.reset),li:"",td:{main:"".concat(Hn,"-").concat(Sn.td),rangeStart:"".concat(pn.prefix,"-").concat(_n.range,"-").concat(kn.start),rangeEnd:"".concat(pn.prefix,"-").concat(_n.range,"-").concat(kn.end),rangeMid:"".concat(pn.prefix,"-").concat(_n.range,"-").concat(kn.mid),rangeSplitEnd:"".concat(pn.prefix,"-").concat(_n.range,"-").concat(In.split,"-").concat(kn.end),rangeSplitStart:"".concat(pn.prefix,"-").concat(_n.range,"-").concat(In.split,"-").concat(kn.start),active:"".concat(pn.prefix,"-").concat(En.active),focused:"".concat(pn.prefix,"-").concat(pn.state,"-").concat(En.pending,"-").concat(En.focus),selected:"".concat(pn.prefix,"-").concat(En.selected),today:"".concat(pn.prefix,"-").concat(_n.today),weekend:"".concat(pn.prefix,"-").concat(_n.weekend),disabled:"".concat(pn.prefix,"-").concat(En.disabled),isOtherMonth:"".concat(pn.prefix,"-").concat(_n.other,"-").concat(_n.month),isEmpty:"".concat(pn.prefix,"-").concat(En.empty),isWeek:"".concat(pn.prefix,"-").concat(En.alt)},title:"".concat(Hn,"-").concat(Sn.title),header:{main:"".concat(Hn,"-").concat(Sn.header),vertical:"".concat(pn.prefix,"-").concat(hn.hstack)},spacer:"".concat(pn.prefix,"-").concat(Cn.spacer),nav:"".concat(Hn,"-").concat(Cn.nav),today:{main:"".concat(Hn,"-").concat(Cn.nav,"-").concat(_n.today),disabled:"".concat(pn.prefix,"-").concat(En.disabled)},scrollable:{main:"".concat(pn.prefix,"-").concat(En.scrollable),content:"".concat(pn.prefix,"-").concat(Cn.content),horizontal:"".concat(pn.prefix,"-").concat(En.scrollable,"-").concat(xn.horizontal)},scrollableSelector:"".concat(pn.prefix,"-").concat(En.scrollable),scrollablePlaceholder:{main:"".concat(pn.prefix,"-").concat(En.scrollable,"-").concat(Cn.placeholder),horizontal:"".concat(pn.prefix,"-").concat(En.scrollable,"-").concat(xn.horizontal,"-").concat(Cn.placeholder)},link:"".concat(pn.prefix,"-").concat(Sn.link),navigationMarker:"".concat(Hn,"-").concat(_n.navigation,"-").concat(_n.marker)}),dm={wrapper:e=>{const{c:t=cm,disabled:n,weekNumber:o,mobileMode:i}=e,r=t.wrapper;return{[r.main]:!0,[r.infinite]:!0,[r.disabled]:n,[r.weekNumber]:o,[r.size.large]:i,[r.size.medium]:!i}},view:e=>{const{c:t=cm,month:n,year:o,decade:i,century:r}=e,a=t.view;return{[a.main]:!0,[a.vertical]:!0,[a.month]:n,[a.year]:o,[a.decade]:i,[a.century]:r}},navigation:un(cm,"navigation"),navigationHighlight:un(cm,"navigationHighlight"),table:e=>{const{c:t=cm,weekdays:n}=e,o=t.table;return{[o.main]:!0,[o.weekdays]:n}},thead:un(cm,"thead"),tr:un(cm,"tr"),th:un(cm,"th"),tbody:un(cm,"tbody"),title:un(cm,"title"),header:e=>{const{c:t=cm,vertical:n}=e,o=t.header;return{[o.main]:!0,[o.vertical]:n}},today:e=>{const{c:t=cm,disabled:n}=e,o=t.today;return{[o.main]:!0,[o.disabled]:n}},spacer:un(cm,"spacer"),nav:un(cm,"nav"),caption:un(cm,"caption"),ul:un(cm,"ul"),li:un(cm,"li"),td:e=>{const{c:t=cm,rangeStart:n,rangeEnd:o,rangeMid:i,rangeSplitEnd:r,rangeSplitStart:a,active:s,focused:l,selected:c,today:d,weekend:u,disabled:p,isOtherMonth:h,isEmpty:m,isWeek:f}=e,g=t.td;return f?{[g.main]:!0,[g.isWeek]:f}:m?{[g.main]:!0,[g.isEmpty]:m}:{[g.main]:!0,[g.rangeStart]:n,[g.rangeEnd]:o,[g.rangeMid]:i,[g.rangeSplitEnd]:r,[g.rangeSplitStart]:a,[g.active]:s,[g.focused]:l,[g.selected]:c,[g.today]:d,[g.weekend]:u,[g.disabled]:p,[g.isOtherMonth]:h}},scrollable:e=>{const{c:t=cm,horizontal:n}=e,o=t.scrollable;return{[o.main]:!0,[o.content]:!0,[o.horizontal]:n}},scrollableSelector:un(cm,"scrollableSelector"),scrollablePlaceholder:e=>{const{c:t=cm,horizontal:n}=e,o=t.scrollablePlaceholder;return{[o.main]:!0,[o.horizontal]:n}},link:un(cm,"link"),navigationMarker:e=>{const{c:t=cm,isRangeStart:n}=e;return{[t.navigationMarker]:n}}},um={wrapper:{main:"".concat(pn.prefix,"-").concat(mn.dateinput),input:"".concat(Vn),size:{small:"".concat(Vn,"-").concat(fn.small),medium:"".concat(Vn,"-").concat(fn.medium),large:"".concat(Vn,"-").concat(fn.large)},fillMode:{solid:"".concat(Vn,"-").concat(gn.solid),outline:"".concat(Vn,"-").concat(gn.outline),flat:"".concat(Vn,"-").concat(gn.flat)},rounded:{small:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.small),medium:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.medium),large:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.large)},disabled:"".concat(pn.prefix,"-").concat(En.disabled),required:"".concat(pn.prefix,"-").concat(En.required),invalid:"".concat(pn.prefix,"-").concat(En.invalid)},inputInner:"".concat(Vn,"-").concat(An.inner),inputSpinner:{main:"".concat(Vn,"-").concat(An.spinner),button:"".concat(pn.prefix,"-").concat(An.spin,"-").concat(Sn.button)},spinnerIncrease:"".concat(pn.prefix,"-").concat(An.spinner,"-").concat(In.increase),spinnerDecrease:"".concat(pn.prefix,"-").concat(An.spinner,"-").concat(In.decrease),clearButton:"".concat(pn.prefix,"-").concat(pn.clear,"-").concat(pn.value)},pm={wrapper:e=>{const{c:t=um,size:n,fillMode:o,rounded:i,disabled:r,required:a,invalid:s}=e,l=t.wrapper;return{[l.main]:!0,[l.input]:!0,[l.size[n]]:l.size[n],["".concat(Vn,"-").concat(n)]:n&&!l.size[n],[l.fillMode[o]]:l.fillMode[o],[l.rounded[i]]:l.rounded[i],["".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(i)]:i&&!l.rounded[i],[l.disabled]:r,[l.invalid]:s,[l.required]:a}},inputInner:un(um,"inputInner"),inputSpinner:e=>{const{c:t=um}=e,n=t.inputSpinner;return{[n.main]:!0,[n.button]:!0}},spinnerIncrease:un(um,"spinnerIncrease"),spinnerDecrease:un(um,"spinnerDecrease"),clearButton:un(um,"clearButton")},hm={wrapper:{main:"".concat(pn.prefix,"-").concat(mn.datetimepicker),input:"".concat(Vn),size:{small:"".concat(Vn,"-").concat(fn.small),medium:"".concat(Vn,"-").concat(fn.medium),large:"".concat(Vn,"-").concat(fn.large)},fillMode:{solid:"".concat(Vn,"-").concat(gn.solid),outline:"".concat(Vn,"-").concat(gn.outline),flat:"".concat(Vn,"-").concat(gn.flat)},rounded:{small:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.small),medium:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.medium),large:"".concat(pn.prefix,"-").concat(pn.rounded,"-").concat(yn.large)},disabled:"".concat(pn.prefix,"-").concat(En.disabled),required:"".concat(pn.prefix,"-").concat(En.required),invalid:"".concat(pn.prefix,"-").concat(En.invalid)},inputButton:"".concat(Vn,"-").concat(Sn.button),popup:{main:"".concat(pn.prefix,"-").concat(mn.datetime,"-").concat(Cn.container),reset:"".concat(pn.prefix,"-").concat(pn.reset)},wrap:{main:"".concat(pn.prefix,"-").concat(mn.datetime,"-").concat(Cn.wrap),date:"".concat(pn.prefix,"-").concat(_n.date,"-").concat(Cn.tab),time:"".concat(pn.prefix,"-").concat(_n.time,"-").concat(Cn.tab),disabled:"".concat(pn.prefix,"-").concat(En.disabled)},timeFooter:{main:"".concat(pn.prefix,"-").concat(mn.datetime,"-").concat(Sn.footer),actions:"".concat(pn.prefix,"-").concat(Cn.actions),stretched:"".concat(pn.prefix,"-").concat(Cn.actions,"-").concat(En.stretched)},buttonGroup:"".concat(pn.prefix,"-").concat(mn.datetime,"-").concat(mn.buttongroup),selector:"".concat(pn.prefix,"-").concat(mn.datetime,"-").concat(_n.selector),calendarWrap:"".concat(pn.prefix,"-").concat(mn.datetime,"-").concat(Hn,"-").concat(Cn.wrap),timeWrap:"".concat(pn.prefix,"-").concat(mn.datetime,"-").concat(_n.time,"-").concat(Cn.wrap),timeSelector:{main:"".concat(pn.prefix,"-").concat(_n.timeselector),size:{medium:"".concat(pn.prefix,"-").concat(_n.timeselector,"-").concat(fn.medium),large:"".concat(pn.prefix,"-").concat(_n.timeselector,"-").concat(fn.large)},disabled:"".concat(pn.prefix,"-").concat(En.disabled),reset:"".concat(pn.prefix,"-").concat(pn.reset)}};un(hm,"inputButton"),un(hm,"buttonGroup"),un(hm,"selector"),un(hm,"calendarWrap"),un(hm,"timeWrap");var mm=function(e,t){return mm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},mm(e,t)};function fm(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}mm(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var gm=function(){return gm=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gm.apply(this,arguments)};Object.create;function vm(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var ym,xm,bm,wm=function(e,t){var n=tm(e);return n.setDate(n.getDate()+t),nm(n,e.getHours())},km=function(e){var t=om(e.getFullYear(),e.getMonth()+1,1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return wm(t,-1)},Cm=function(e,t){var n=tm(e),o=(12+(n.getMonth()+t)%12)%12;return n.setMonth(n.getMonth()+t),function(e,t){return e.getMonth()!==t?km(Cm(e,-1)):e}(nm(n,e.getHours()),o)},Sm=function(){this.symbols="",this.partMap=[]},Im="_",Em=68,jm="d",Am="en",_m="Delete",Dm="Backspace",Nm=" ",Tm=function(e){return new Array(Math.max(e,0)).fill("0").join("")},Pm=function(e){return e.replace(/^0*/,"")},Mm=function(e,t){return e[t.pattern[0]]=t.type,e},Om=function(e){return void 0!==e&&null!==e},Rm=function(){return!!document},Lm=function(e){return Om(e)&&"number"===typeof e&&!Number.isNaN(e)},Fm=function(e){return parseInt(e,10)},zm=function(e){return Lm(Fm(e))&&/^[0-9]+$/.test(e)},Bm=function(e,t,n){return Math.min(n,Math.max(t,e))},Vm=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object.assign.apply(Object,e)},Hm=(ym="setFullYear",function(e,t){var n=tm(e);return n[ym](t),n}),qm=function(e,t,n,o,i,r,a,s){return!(!e||e.getFullYear()!==t||e.getMonth()!==n||e.getDate()!==o||e.getHours()!==i||e.getMinutes()!==r||e.getSeconds()!==a||e.getMilliseconds()!==s)},Um=function(e){return Om(e)&&e.getTime&&Lm(e.getTime())},Gm=/d|M|H|h|m|s/,Wm=function(){function e(e){var t=e.intlService,n=e.formatPlaceholder,o=e.format,i=e.cycleTime,r=void 0!==i&&i,a=e.twoDigitYearMax,s=void 0===a?Em:a,l=e.value,c=void 0===l?null:l,d=e.autoCorrectParts,u=void 0===d||d,p=e.toggleDayPeriod,h=void 0!==p&&p,m=e.autoSwitchParts,f=void 0===m||m;if(this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.dayperiod=!0,this.leadingZero=null,this.typedMonthPart="",this.knownParts="adHhmMsEyS",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y",S:"S"},this._value=this.getDefaultDate(),this.cycleTime=!1,this._partiallyInvalidDate={startDate:null,invalidDateParts:{E:{value:null,date:null,startDateOffset:0},H:{value:null,date:null,startDateOffset:0},M:{value:null,date:null,startDateOffset:0},a:{value:null,date:null,startDateOffset:0},d:{value:null,date:null,startDateOffset:0},h:{value:null,date:null,startDateOffset:0},m:{value:null,date:null,startDateOffset:0},s:{value:null,date:null,startDateOffset:0},y:{value:null,date:null,startDateOffset:0},S:{value:null,date:null,startDateOffset:0}}},this.setOptions({intlService:t,formatPlaceholder:n,format:o,cycleTime:r,twoDigitYearMax:s,value:c,autoCorrectParts:u,toggleDayPeriod:h,autoSwitchParts:f}),c)this._value=tm(c);else{this._value=this.getDefaultDate();for(var g=this.dateFormatString(this.value,this.format).symbols,v=0;v<g.length;v++)this.setExisting(g[v],!1)}}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){(!e||e instanceof Date)&&(this._value=e,this.resetInvalidDate())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localeId",{get:function(){for(var e=Am,t=Object.keys(this.intl.cldr),n=0;n<t.length;n++){var o=t[n],i=this.intl.cldr[o];if(i.name&&i.calendar&&i.numbers&&i.name!==Am){e=i.name;break}}return e},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this.intl=e.intlService,this.formatPlaceholder=e.formatPlaceholder||"wide",this.format=e.format,this.cycleTime=e.cycleTime,this.monthNames=this.allFormattedMonths(this.localeId),this.dayPeriods=this.allDayPeriods(this.localeId),this.twoDigitYearMax=e.twoDigitYearMax,this.autoCorrectParts=e.autoCorrectParts,this.toggleDayPeriod=e.toggleDayPeriod,this.autoSwitchParts=e.autoSwitchParts},e.prototype.setValue=function(e){e?am(e,this._value)?am(e,this._value)&&this.dayPeriods&&this.setExisting("a",!0):(this._value=tm(e),this.modifyExisting(!0)):(this._value=this.getDefaultDate(),this.modifyExisting(!1)),this.resetInvalidDate()},e.prototype.hasValue=function(){var e=this;return this.intl.splitDateFormat(this.format,this.localeId).reduce(function(t,n){return t||"literal"!==n.type&&"dayperiod"!==n.type&&e.getExisting(n.pattern[0])},!1)},e.prototype.getValue=function(){for(var e=0;e<this.knownParts.length;e++)if(!this.getExisting(this.knownParts[e]))return null;return tm(this.value)},e.prototype.createDefaultDate=function(){return om(2e3,0,31)},e.prototype.getDefaultDate=function(){return im(this.createDefaultDate())},e.prototype.getFormattedDate=function(e){return this.intl.formatDate(this.getValue(),e,this.localeId)},e.prototype.getTextAndFormat=function(e){void 0===e&&(e="");var t=e||this.format,n=this.intl.formatDate(this.value,t,this.localeId),o=this.dateFormatString(this.value,t);if(!this.autoCorrectParts&&this._partiallyInvalidDate.startDate){for(var i="",r=this.intl.formatDate(this.value,t,this.localeId),a=this.getFormattedInvalidDates(t),s=0;s<r.length;s++){var l=o.symbols[s];if("literal"===o.partMap[s].type)i+=n[s];else if(this.getInvalidDatePartValue(l)){var c=this.getPartsForSegment(o,s);if("M"===l){var d=(Fm(this.getInvalidDatePartValue(l))+1).toString();if(c.length>2)i+=a[l][s];else if(this.getInvalidDatePartValue(l))i+=Tm(c.length-d.length)+d,s+=c.length-1;else i+=a[l][s]}else if(this.getInvalidDatePartValue(l)){d=this.getInvalidDatePartValue(l).toString();i+=Tm(c.length-d.length)+d,s+=c.length-1}else i+=a[l][s]}else i+=n[s]}n=i}return this.merge(n,o)},e.prototype.getFormattedInvalidDates=function(e){var t=this;void 0===e&&(e="");var n=e||this.format,o={E:"",H:"",M:"",a:"",d:"",h:"",m:"",s:"",y:"",S:""};return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(function(e){var i=t.getInvalidDatePart(e).date;if(i){var r=t.intl.formatDate(i,n,t.localeId);o[e]=r}}),o},e.prototype.modifyExisting=function(e){for(var t=this.dateFormatString(this.value,this.format).symbols,n=0;n<t.length;n++)this.setExisting(t[n],e)},e.prototype.getExisting=function(e){switch(e){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"t":case"a":return this.dayperiod;case"m":return this.minutes;case"s":return this.seconds;case"S":return this.milliseconds;default:return!0}},e.prototype.setExisting=function(e,t){switch(e){case"y":this.year=t,!1===t&&this._value.setFullYear(2e3);break;case"M":this.month=t,!1===t&&this.autoCorrectParts&&this._value.setMonth(0);break;case"d":this.date=t;break;case"h":case"H":this.hours=t;break;case"t":case"a":this.dayperiod=t;break;case"m":this.minutes=t;break;case"s":this.seconds=t;break;case"S":this.milliseconds=t}this.getValue()&&this.resetInvalidDate()},e.prototype.modifyPart=function(e,t){if(Om(e)&&Om(t)&&0!==t){var n,o=tm(this.value),i=!1,r="M"===e,a="d"===e||"E"===e,s=this.getExisting(e);if(this.autoCorrectParts||!a&&!r){var l=o.getHours();switch(e){case"y":o.setFullYear(o.getFullYear()+t);break;case"M":o=Cm(this.value,t);break;case"d":case"E":o.setDate(o.getDate()+t);break;case"h":case"H":o.setHours(o.getHours()+t),i=!0;break;case"m":o.setMinutes(o.getMinutes()+t),i=!0;break;case"s":o.setSeconds(o.getSeconds()+t),i=!0;break;case"S":o.setMilliseconds(o.getMilliseconds()+t);break;case"a":this.toggleDayPeriod?o.setHours(l>=12?l-12:l+12):o.setHours(o.getHours()+12*t),i=!0}}else{var c=this._partiallyInvalidDate.invalidDateParts||{},d=this.getInvalidDatePartValue(e),u=c.y.value||o.getFullYear(),p=c.M.value||o.getMonth(),h=c.d.value||c.E.value||o.getDate(),m=c.h.value||c.H.value||o.getHours(),f=c.m.value||o.getMinutes(),g=c.s.value||o.getSeconds(),v=c.S.value||o.getMilliseconds();switch(e){case"y":u+=t;break;case"M":p+=t;break;case"d":case"E":h+=t}if("M"===e){if((p<0||p>11)&&s)return this.setExisting(e,!1),void this.resetInvalidDateSymbol(e);if(!s){if(p<0)p=Bm(p%11+1+11,0,11);else{var y=Om(d)?p:(t-1)%12;p=Bm(y,0,11)}p=Bm(p,0,11)}p=Bm(p,0,11)}else if("d"===e)if(s){if(h<=0||h>31)return this.setExisting(e,!1),void this.resetInvalidDateSymbol(e)}else if(!s){if(Om(d)&&(h<=0||h>31))return this.setExisting(e,!1),void this.resetInvalidDateSymbol(e);if(t<0){var x=Om(d)?h:31-Math.abs(t%31)+1;h=Bm(x,1,31)}else{x=Om(d)?h:t%31;h=Bm(x,1,31)}h=Bm(h,1,31)}var b=om(u,p,h,m,f,g,v),w=r||a?this.modifyDateSymbolWithValue(o,e,r?p:h):null,k=qm(b,u,p,h,m,f,g,v);this.getValue()&&qm(b,u,p,h,m,f,g,v)?(o=tm(b),this.markDatePartsAsExisting()):r&&w?w.getMonth()===p?this.getExisting("d")?k?(o=tm(b),this.resetInvalidDateSymbol(e)):(n=!0,this.setInvalidDatePart(e,{value:p,date:tm(w),startDateOffset:t,startDate:tm(this.value)}),this.setExisting(e,!1)):k?(this.resetInvalidDateSymbol(e),o=tm(b),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(e),o=tm(w)):(n=!0,this.setInvalidDatePart(e,{value:p,date:tm(w),startDateOffset:t,startDate:tm(this.value)}),this.setExisting(e,!1)):a&&w&&(w.getDate()===h?this.getExisting("M")?k?(o=tm(b),this.resetInvalidDateSymbol(e)):(n=!0,this.setInvalidDatePart(e,{value:h,date:tm(w),startDateOffset:t,startDate:tm(this.value)}),this.setExisting(e,!1)):k?(o=tm(b),this.resetInvalidDateSymbol(e),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(e),o=tm(w)):(n=!0,this.setInvalidDatePart(e,{value:h,date:tm(this.value),startDateOffset:t,startDate:tm(this.value)}),this.setExisting(e,!1)))}this.shouldNormalizeCentury()&&(o=this.normalizeCentury(o)),i&&!this.cycleTime&&(o.getDate(),this._value.getDate()),n||(this.setExisting(e,!0),this._value=o,this.getValue()&&this.resetInvalidDate())}},e.prototype.parsePart=function(e){for(var t=e.symbol,n=e.currentChar,o=e.resetSegmentValue,i=e.cycleSegmentValue,r=e.rawTextValue,a=e.isDeleting,s=e.originalFormat,l=!i,c=this.dateFormatString(this.value,this.format),d=c.partMap.filter(function(e){return"literal"===e.type}).map(function(e,t){return{datePartIndex:t,type:e.type,pattern:e.pattern,literal:""}}),u=c.partMap.map(function(e){return{type:e.type,pattern:e.pattern,text:""}}),p=0;p<d.length;p++){for(var h=d[p],m=0;m<h.pattern.length;m++)d[p+m]&&(d[p+m].literal=h.pattern[m]);p+=h.pattern.length-1}for(p=0;p<u.length;p++){for(h=u[p],m=0;m<h.pattern.length;m++)u[p+m]&&(u[p+m].text=h.pattern[m]);p+=h.pattern.length-1}var f=l&&"M"===t&&c.partMap.filter(function(e){return"month"===e.type}).some(function(e){return e.pattern.length>2}),g={value:null,switchToNext:!1,resetPart:f,hasInvalidDatePart:!1};if(!n){if(!l)return this.resetLeadingZero(),this.setExisting(t,!1),this.resetInvalidDateSymbol(t),Vm(g,{value:null,switchToNext:!1});for(p=0;p<d.length;p++){var v=d[p].literal,y=r.startsWith(v),x=r.endsWith(v),b=r.indexOf(v+v)>=0;if(y||x||b)return this.resetLeadingZero(),this.setExisting(t,!1),this.resetInvalidDateSymbol(t),Vm(g,{value:null,switchToNext:!1})}}var w=this.intl.formatDate(this.value,this.format,this.localeId),k=c.symbols,C=!1,S="",I="",E="",j="",A="",_="",D="";for(p=0;p<u.length;p++)D+=u[p].text;var N=this.format===k||this.format===D||this.format===s||this.format.length===s.length,T=(N?D:s).indexOf(t),P=(N?D:s).lastIndexOf(t)-T+1,M=s.length-r.length;if(l||!l&&!this.autoCorrectParts){var O=0;for(p=0;p<w.length;p++)if(k[p]===t){var R=this.getExisting(t);if("y"===t)if(!this.hasInvalidDatePart()&&this.getExisting("y"))I+=w[p];else{var L=this.getInvalidDatePartValue(t);Om(L)?(I+=(L||"").toString()[O]||"",O++):I+=R?w[p]:"0"}else I+=R?w[p]:"0";M>0?E.length+M<P&&(E+=r[p]||""):E+=r[p]||"",C=!0}else C?(_+=w[p],A+=w[p]):(S+=w[p],j+=w[p]);if(N&&(D.length<r.length?E+=n:!a&&(s.length,r.length),E.length>P))return Vm(g,{value:null,switchToNext:!1});if(!N||N&&!this.autoCorrectParts){I="",E="",S="",_="",C=!1;var F=0;for(p=0;p<s.length;p++)if(s[p]===t){R=this.getExisting(t);if("y"===t)if(!this.hasInvalidDatePart()&&this.getExisting("y"))I+=w[p];else{L=this.getInvalidDatePartValue(t);Om(L)?(I+=(L||"").toString()[F]||"",F++):I+=R?w[p]:"0"}else I+=R?w[p]||"":"0";M>0?E.length+M<P&&(E+=r[p]||""):E+=r[p]||"",C=!0}else C?_+=r[p-M]||"":S+=r[p]||"";s.length<r.length&&(E+=n)}}if(!l)if(this.autoCorrectParts){I="",E="",S="",_="",C=!1;for(p=0;p<w.length;p++){if(k[p]===t)I+=(R=this.getExisting(t))?w[p]:"0",C=!0;else C?_+=w[p]:S+=w[p]}}else I=o?E:I;var z=null,B=this.matchMonth(n),V=this.matchDayPeriod(n,t),H="0"===n,q=this.leadingZero||{};H?("0"===E&&(E=I),0!==Fm(o?n:(l?E:I)+n)||this.isAbbrMonth(c.partMap,t)||"a"===t||this.incrementLeadingZero(t)):this.resetLeadingZero();var U=this.partPattern(c.partMap,t),G=U?U.pattern:null,W=this.patternLength(G)||G.length;if(l&&a&&!E)return this.setExisting(t,!1),Vm(g,{value:null,switchToNext:!1});var K=I.length-3,Y=!0,X=l?E:I;for(p=Math.max(0,K);p<=I.length&&Y;p++){X=o?n:l?E:I.substring(p)+n,this.autoSwitchParts&&"h"===t&&"12"===I.substring(p)&&(X=X.replace("12","0")),!l&&this.autoCorrectParts||(Y=!1,X=Pm(X),X=Tm(W-X.length)+X);var J=parseInt(X,10),Q=S+X+_;(z=this.intl.parseDate(Q,this.format,this.localeId))&&this.value&&c.partMap.every(function(e){return"year"!==e.type&&"month"!==e.type&&"day"!=e.type})&&(z.setFullYear(this.value.getFullYear()),z.setMonth(this.value.getMonth()),z.setDate(this.value.getDate()));var Z=!1;l&&!Um(z)&&this.autoCorrectParts&&(z=this.intl.parseDate(j+X+A,this.format,this.localeId),Z=!0);var $=!isNaN(parseInt(n,10))||l&&a&&""===n;if(!z&&!isNaN(J)&&$&&this.autoCorrectParts){if("M"===t&&!B){var ee=J-1;ee>-1&&ee<12&&((z=tm(this.value)).setMonth(ee),z.getMonth()!==ee&&(z=km(Cm(z,-1))))}"y"===t&&(z=om(parseInt(X,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),(l&&Um(z)||!l&&z)&&this.date&&z.getDate()!==this.value.getDate()&&(z=km(Cm(z,-1))))}if(l&&Um(z)||!l&&z){var te=this.isPeekDateOverflowingDatePart({useBasePrefixAndSuffix:Z,middle:X,patternValue:G,basePrefix:j,baseSuffix:A,prefix:S,suffix:_,symbol:t,patternLength:W,leadingZero:q}),ne=te.switchToNext;return this.shouldNormalizeCentury()&&(z=this.normalizeCentury(z)),"H"===t&&z.getHours()>=12&&this.setExisting("a",!0),this._value=z,this.setExisting(t,!0),this.resetInvalidDateSymbol(t),this.autoCorrectParts||("M"===t?this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d")):"d"===t?this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M")):"y"===t&&this.markDatePartsAsExisting(),this.hasInvalidDatePart()||(this.markDatePartsAsExisting(),te.peekedDate||!te.switchToNext||this.autoCorrectParts||"M"===t||"d"===t&&30===te.parsedPeekedValue&&1===this.value.getMonth()&&(ne=!1))),Vm(g,{value:this.value,switchToNext:ne})}}if(B&&(z=this.intl.parseDate(S+B+_,this.format,this.localeId)))return this._value=z,this.setExisting(t,!0),Vm(g,{value:this.value,switchToNext:!1});if(V&&(z=this.intl.parseDate(S+V+_,this.format)||this.intl.parseDate(j+V+A,this.format)))return this._value=z,this.setExisting(t,!0),Vm(g,{value:this.value,switchToNext:!0});if(H&&"a"!==t&&this.setExisting(t,!1),!this.autoCorrectParts){var oe=void 0,ie=l?E:X,re=Fm(ie);if(Lm(re)&&zm(ie)){if("d"===t&&(re<=0||re>31)||"M"===t&&(re<=0||re>11)){if(l)return Vm(g,{value:null,switchToNext:!1});re=Fm(ie=n)}if(!Lm(re)||!zm(ie))return Vm(g,{value:null,switchToNext:!1});oe="M"===t?re-1:re;var ae="y"===t,se="M"===t,le="d"===t,ce=tm(this._value),de=this._partiallyInvalidDate.invalidDateParts||{},ue=ae?oe:de.y.value||ce.getFullYear(),pe=se?oe:de.M.value||ce.getMonth(),he=le?oe:de.d.value||de.E.value||ce.getDate(),me=de.h.value||de.H.value||ce.getHours(),fe=de.m.value||ce.getMinutes(),ge=de.s.value||ce.getSeconds(),ve=de.S.value||ce.getMilliseconds(),ye=om(ue,pe,he,me,fe,ge,ve),xe=qm(ye,ue,pe,he,me,fe,ge,ve),be=ae||se||le?this.modifyDateSymbolWithValue(ce,t,ae?ue:se?pe:he):null,we=!1;if(se&&be?be.getMonth()===pe?this.getExisting("d")?xe?(ce=tm(ye),this.resetInvalidDateSymbol(t)):(we=!0,this.setInvalidDatePart(t,{value:pe,date:tm(be),startDate:tm(this.value)}),this.setExisting(t,!1)):xe?(this.resetInvalidDateSymbol(t),ce=tm(ye),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(t),ce=tm(be)):(we=!0,this.setInvalidDatePart(t,{value:pe,date:tm(be),startDate:tm(this.value)}),this.setExisting(t,!1)):le&&be?be.getDate()===he?this.getExisting("M")?xe?(ce=tm(ye),this.resetInvalidDateSymbol(t)):(we=!0,this.setInvalidDatePart(t,{value:he,date:tm(be),startDate:tm(this.value)}),this.setExisting(t,!1)):xe?(ce=tm(ye),this.resetInvalidDateSymbol(t),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(t),ce=tm(be)):(we=!0,this.setInvalidDatePart(t,{value:he,date:tm(this.value),startDate:tm(this.value)}),this.setExisting(t,!1)):ae&&be&&(be.getFullYear()===ue?this.getExisting("d")&&this.getExisting("M")?xe?(ce=tm(ye),this.resetInvalidDateSymbol(t)):(we=!0,this.setInvalidDatePart(t,{value:ue,date:tm(be),startDate:tm(this.value)}),this.setExisting(t,!1)):xe?(this.resetInvalidDateSymbol(t),ce=tm(ye),this.getExisting("M")&&this.getExisting("d")&&(this.setExisting("y",!0),this.resetInvalidDateSymbol("y"))):(this.resetInvalidDateSymbol(t),ce=tm(be)):(we=!0,this.setInvalidDatePart(t,{value:ue,date:tm(be),startDate:tm(this.value)}),this.setExisting(t,!1))),!we){if(this.setExisting(t,!0),l&&!Um(z)){var ke=this.intl.parseDate(j+X+A,this.format,this.localeId);Um(ke)&&(this._value=ke)}else this._value=ce;this.getValue()&&this.resetInvalidDate()}ne=!1;if("M"===t)ne=re>=2||ie.length>=2;else if(N)ne=this.isPeekDateOverflowingDatePart({useBasePrefixAndSuffix:!this.autoCorrectParts,middle:X,patternValue:G,basePrefix:j,baseSuffix:A,prefix:S,suffix:_,symbol:t,patternLength:W,leadingZero:q}).switchToNext;else ne=ie.length>P;return Vm(g,{value:null,switchToNext:ne,hasInvalidDatePart:we})}}return Vm(g,{value:null,switchToNext:!1})},e.prototype.symbolMap=function(e){return this.intl.splitDateFormat(this.format,this.localeId).reduce(Mm,{})[e]},e.prototype.resetLeadingZero=function(){var e=null!==this.leadingZero;return this.setLeadingZero(null),e},e.prototype.setLeadingZero=function(e){this.leadingZero=e},e.prototype.getLeadingZero=function(){return this.leadingZero||{}},e.prototype.normalizeCentury=function(e){if(!Om(e))return e;var t=function(e){return!Om(e)||isNaN(e.getTime())?0:Number(e.getFullYear().toString().slice(-2))}(e),n=this.getNormalizedCenturyBase(t);return Hm(e,n+t)},e.prototype.incrementLeadingZero=function(e){var t=this.leadingZero||{};t[e]=(t[e]||0)+1,this.leadingZero=t},e.prototype.isAbbrMonth=function(e,t){var n=this.partPattern(e,t);return"month"===n.type&&n.names},e.prototype.partPattern=function(e,t){return e.filter(function(e){return-1!==e.pattern.indexOf(t)})[0]},e.prototype.peek=function(e,t){var n=e.replace(/^0*/,"")+"0";return Tm(t.length-n.length)+n},e.prototype.matchMonth=function(e){if(this.typedMonthPart+=e.toLowerCase(),0===this.monthNames.length)return"";for(;this.typedMonthPart.length>0;){for(var t=0;t<this.monthNames.length;t++)if(0===this.monthNames[t].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[t];var n=parseInt(this.typedMonthPart,10);if(n>=1&&n<=12&&n.toString()===this.typedMonthPart)return this.monthNames[n-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""},e.prototype.matchDayPeriod=function(e,t){var n=e.toLowerCase();if("a"===t&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(n))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(n))return this.dayPeriods.pm}return""},e.prototype.allFormattedMonths=function(e){void 0===e&&(e="en");for(var t=this.intl.splitDateFormat(this.format,this.localeId),n=0;n<t.length;n++)if("month"===t[n].type&&t[n].names)return this.intl.dateFormatNames(e,t[n].names);return[]},e.prototype.allDayPeriods=function(e){void 0===e&&(e="en");for(var t=this.intl.splitDateFormat(this.format),n=0;n<t.length;n++)if("dayperiod"===t[n].type&&t[n].names)return this.intl.dateFormatNames(e,t[n].names);return null},e.prototype.patternLength=function(e){return"y"===e[0]?4:Gm.test(e)?2:0},e.prototype.dateFormatString=function(e,t){for(var n=this.intl.splitDateFormat(t,this.localeId),o=[],i=[],r=0;r<n.length;r++)for(var a=this.intl.formatDate(e,{pattern:n[r].pattern},this.localeId).length;a>0;)o.push(this.symbols[n[r].pattern[0]]||Im),i.push(n[r]),a--;var s=new Sm;return s.symbols=o.join(""),s.partMap=i,s},e.prototype.merge=function(e,t){for(var n="",o="",i=t.symbols,r=!1,a=0,s=this.getFormattedInvalidDates(i),l=i.length-1;l>=0;l--){var c=this.getPartsForSegment(t,l);if(-1===this.knownParts.indexOf(i[l])||this.getExisting(i[l]))this.autoCorrectParts?n=e[l]+n:e.length!==i.length?r?n=e[l]+n:a>0?(n=e[l]+n,--a<=0&&(r=!0)):n=(e[l+e.length-i.length]||"")+n:n=e[l]+n,o=i[l]+o;else{var d=i[l],u=0;if(this.autoCorrectParts||!this.autoCorrectParts&&!this.getInvalidDatePartValue(d)){for(;l>=0&&d===i[l];)l--;l++}if(this.leadingZero&&this.leadingZero[d])n="0"+n;else if(!this.autoCorrectParts&&this.getInvalidDatePartValue(d)){var p=this.getInvalidDatePartValue(d).toString();if("M"===d)if(p=(Fm(this.getInvalidDatePartValue(d))+1).toString(),c.length>2)n=s[d][l]+n;else p=(Fm(this.getInvalidDatePartValue(d))+1).toString(),n=Tm(c.length-p.length)+p+n,u=c.length-1,a=p.length-c.length;else n=Tm(c.length-p.length)+p+n,u=c.length-1,a=p.length-c.length}else n=this.dateFieldName(t.partMap[l])+n;for(;o.length<n.length;)o=i[l]+o;0!==u&&(l=l-u+(e.length-i.length))}}return{text:n,format:o}},e.prototype.dateFieldName=function(e){var t=this.formatPlaceholder||"wide";return t[e.type]?t[e.type]:"formatPattern"===t?e.pattern:this.intl.dateFieldName(Object.assign(e,{nameType:t}))},e.prototype.getNormalizedCenturyBase=function(e){return e>this.twoDigitYearMax?1900:2e3},e.prototype.shouldNormalizeCentury=function(){return this.intl.splitDateFormat(this.format).some(function(e){return"yy"===e.pattern})},e.prototype.resetInvalidDate=function(){var e=this;this._partiallyInvalidDate.startDate=null,Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(function(t){e.resetInvalidDatePart(t)})},e.prototype.resetInvalidDateSymbol=function(e){var t=this;this.resetInvalidDatePart(e);var n=!0;Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(function(e){t._partiallyInvalidDate.invalidDateParts[e]&&Om(t._partiallyInvalidDate.invalidDateParts[e].value)&&(n=!1)}),n&&this.resetInvalidDate()},e.prototype.resetInvalidDatePart=function(e){this._partiallyInvalidDate.invalidDateParts[e]&&(this._partiallyInvalidDate.invalidDateParts[e]={value:null,date:null,startDateOffset:0})},e.prototype.getInvalidDatePart=function(e){return this._partiallyInvalidDate.invalidDateParts[e]||{}},e.prototype.getInvalidDatePartValue=function(e){return(this._partiallyInvalidDate.invalidDateParts[e]||{}).value},e.prototype.setInvalidDatePart=function(e,t){var n=t.value,o=void 0===n?null:n,i=t.date,r=void 0===i?null:i,a=t.startDateOffset,s=void 0===a?0:a,l=t.startDate,c=void 0===l?null:l;this._partiallyInvalidDate.invalidDateParts[e]&&(this._partiallyInvalidDate.invalidDateParts[e].value=o,this._partiallyInvalidDate.invalidDateParts[e].date=r,this._partiallyInvalidDate.invalidDateParts[e].startDateOffset=s,this._partiallyInvalidDate.startDate=c)},e.prototype.hasInvalidDatePart=function(){var e=this,t=!1;return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(function(n){e._partiallyInvalidDate.invalidDateParts[n]&&Om(e._partiallyInvalidDate.invalidDateParts[n].value)&&(t=!0)}),t},e.prototype.modifyDateSymbolWithOffset=function(e,t,n){var o=tm(e),i=!1;switch(t){case"y":o.setFullYear(o.getFullYear()+n);break;case"M":o=Cm(this.value,n);break;case"d":case"E":o.setDate(o.getDate()+n);break;case"h":case"H":o.setHours(o.getHours()+n),i=!0;break;case"m":o.setMinutes(o.getMinutes()+n),i=!0;break;case"s":o.setSeconds(o.getSeconds()+n),i=!0;break;case"S":o.setMilliseconds(o.getMilliseconds()+n);break;case"a":o.setHours(o.getHours()+12*n),i=!0}return{date:o,timeModified:i}},e.prototype.modifyDateSymbolWithValue=function(e,t,n){var o=tm(e);switch(t){case"y":o.setFullYear(n);break;case"M":o=Cm(e,n-e.getMonth());break;case"d":case"E":o.setDate(n);break;case"h":case"H":case"a":o.setHours(n);break;case"m":o.setMinutes(n);break;case"s":o.setSeconds(n);break;case"S":o.setMilliseconds(n)}return o},e.prototype.markDatePartsAsExisting=function(){this.modifyExisting(!0)},e.prototype.getPartsForSegment=function(e,t){for(var n=e.partMap[t],o=[],i=t;i<e.partMap.length;i++){var r=e.partMap[i];if(n.type!==r.type||n.pattern!==r.pattern)break;o.push(r)}for(i=t-1;i>=0;i--){r=e.partMap[i];if(n.type!==r.type||n.pattern!==r.pattern)break;o.unshift(r)}return o},e.prototype.isPeekDateOverflowingDatePart=function(e){var t=e.useBasePrefixAndSuffix,n=e.middle,o=e.patternValue,i=e.basePrefix,r=e.baseSuffix,a=e.prefix,s=e.suffix,l=e.symbol,c=e.patternLength,d=e.leadingZero,u=this.peek(n,o),p=t?"".concat(i).concat(u).concat(r):"".concat(a).concat(u).concat(s),h=this.intl.parseDate(p,this.format,this.localeId),m=((this.leadingZero||{})[l]||0)+Pm(n).length>=c;return{peekedDate:h,peekedDateString:p,peekedValue:u,parsedPeekedValue:Fm(u),switchToNext:null===h||(d[l]?o.length<=n.length:m)}},e}(),Km=8,Ym=46,Xm=9,Jm=13,Qm=37,Zm=38,$m=39,ef=40,tf=35,nf=36,of={events:{}},rf=function(){function e(e){this.options=Vm({},of,e)}return e.prototype.destroy=function(){this.options={}},e.prototype.trigger=function(e,t){void 0===t&&(t={});var n={defaultPrevented:!1,preventDefault:function(){n.defaultPrevented=!0}};return"function"===typeof this.options.events[e]&&(this.options.events[e](Vm(n,t,{sender:this})),n.defaultPrevented)},e}();!function(e){e.None="none",e.Caret="caret",e.Selection="selection"}(xm||(xm={}));var af="dragStart",sf="drop",lf="touchstart",cf="mousedown",df="mouseup",uf="click",pf="input",hf="keydown",mf="focus",ff="blur",gf="paste",vf="DOMMouseScroll",yf="mousewheel",xf="valueChange",bf="inputEnd",wf="blurEnd",kf="focusEnd",Cf="change",Sf={format:"d",hasPlaceholder:!1,placeholder:null,cycleTime:!0,locale:null,steps:{millisecond:1,second:1,minute:1,hour:1,day:1,month:1,year:1},formatPlaceholder:null,events:(bm={},bm[xf]=null,bm[pf]=null,bm[bf]=null,bm[mf]=null,bm[kf]=null,bm[ff]=null,bm[wf]=null,bm[hf]=null,bm[yf]=null,bm[Cf]=null,bm),selectNearestSegmentOnFocus:!1,selectPreviousSegmentOnBackspace:!1,enableMouseWheel:!1,allowCaretMode:!1,autoSwitchParts:!0,autoSwitchKeys:[],twoDigitYearMax:Em,autoCorrectParts:!0,autoFill:!1,toggleDayPeriod:!1},If=function(e){function t(t,n){var o=e.call(this,n)||this;return o.dateObject=null,o.currentText="",o.currentFormat="",o.interactionMode=xm.None,o.previousElementSelection={start:0,end:0},o.init(t,n),o}return fm(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.dateObject&&this.dateObject.getValue()},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t){var n=Um(this.options.value)?tm(this.options.value):new Date(t.formattedValue);Um(n)||(n=null),this.element=e,this.options=Vm({},Sf,t,{steps:gm(gm({},Sf.steps),t.steps)}),this.intl=this.options.intlService,this.dateObject=this.createDateObject(),this.dateObject.setValue(n),this.setTextAndFormat(),this.bindEvents(),this.resetSegmentValue=!0,this.interactionMode=xm.None,this.forceUpdate()},t.prototype.destroy=function(){this.unbindEvents(),this.dateObject=null,e.prototype.destroy.call(this)},t.prototype.bindEvents=function(){this.onElementDragStart=this.onElementDragStart.bind(this),this.element.addEventListener(af,this.onElementDragStart),this.onElementDrop=this.onElementDrop.bind(this),this.element.addEventListener(sf,this.onElementDrop),this.onElementClick=this.onElementClick.bind(this),this.element.addEventListener(uf,this.onElementClick),this.onElementMouseDown=this.onElementMouseDown.bind(this),this.element.addEventListener(cf,this.onElementMouseDown),this.element.addEventListener(lf,this.onElementMouseDown),this.onElementMouseUp=this.onElementMouseUp.bind(this),this.element.addEventListener(df,this.onElementMouseUp),this.onElementInput=this.onElementInput.bind(this),this.element.addEventListener(pf,this.onElementInput),this.onElementKeyDown=this.onElementKeyDown.bind(this),this.element.addEventListener(hf,this.onElementKeyDown),this.onElementFocus=this.onElementFocus.bind(this),this.element.addEventListener(mf,this.onElementFocus),this.onElementBlur=this.onElementBlur.bind(this),this.element.addEventListener(ff,this.onElementBlur),this.onElementChange=this.onElementChange.bind(this),this.element.addEventListener(Cf,this.onElementChange),this.onElementPaste=this.onElementPaste.bind(this),this.element.addEventListener(gf,this.onElementPaste),this.onElementMouseWheel=this.onElementMouseWheel.bind(this),this.element.addEventListener(vf,this.onElementMouseWheel),this.element.addEventListener(yf,this.onElementMouseWheel)},t.prototype.unbindEvents=function(){this.element.removeEventListener(af,this.onElementDragStart),this.element.removeEventListener(sf,this.onElementDrop),this.element.removeEventListener(lf,this.onElementMouseDown),this.element.removeEventListener(cf,this.onElementMouseDown),this.element.removeEventListener(df,this.onElementMouseUp),this.element.removeEventListener(uf,this.onElementClick),this.element.removeEventListener(pf,this.onElementInput),this.element.removeEventListener(hf,this.onElementKeyDown),this.element.removeEventListener(mf,this.onElementFocus),this.element.removeEventListener(ff,this.onElementBlur),this.element.removeEventListener(Cf,this.onElementChange),this.element.removeEventListener(gf,this.onElementPaste),this.element.removeEventListener(vf,this.onElementMouseWheel),this.element.removeEventListener(yf,this.onElementMouseWheel)},t.prototype.setOptions=function(e,t){void 0===t&&(t=!1),this.options=Vm({},this.options,e,{steps:gm(gm({},Sf.steps),e.steps)}),this.setDateObjectOptions(),t&&(this.unbindEvents(),this.init(this.element,this.options))},t.prototype.setDateObjectOptions=function(){if(this.dateObject){var e=this.getDateObjectOptions();this.dateObject.setOptions(e)}},t.prototype.resetLocale=function(){this.unbindEvents(),this.init(this.element,this.options)},t.prototype.isInCaretMode=function(){return this.interactionMode===xm.Caret},t.prototype.focus=function(){this.element.focus(),this.options.selectNearestSegmentOnFocus&&this.selectNearestSegment(0)},t.prototype.onElementDragStart=function(e){e.preventDefault()},t.prototype.onElementDrop=function(e){e.preventDefault()},t.prototype.onElementMouseDown=function(){this.mouseDownStarted=!0,this.focusedPriorToMouseDown=this.isActive},t.prototype.onElementMouseUp=function(e){this.mouseDownStarted=!1,e.preventDefault()},t.prototype.onElementClick=function(e){this.mouseDownStarted=!1,this.switchedPartOnPreviousKeyAction=!1;var t=this.selection;if(this.isInCaretMode()&&this.forceUpdate(),3===e.detail);else if(this.isActive&&this.options.selectNearestSegmentOnFocus){var n=this.element.selectionStart!==this.element.selectionEnd,o=Om(this.options.placeholder)&&!this.dateObject.hasValue()&&!this.focusedPriorToMouseDown,i=!n&&o?0:this.caret()[0];this.selectNearestSegment(i)}else this.setSelection(this.selectionByIndex(t.start))},t.prototype.onElementInput=function(e){this.triggerInput({event:e});var t=this.elementValue;if(this.element&&this.dateObject){var n=this.switchedPartOnPreviousKeyAction;if(this.isPasteInProgress)return this.options.allowCaretMode&&(this.resetSegmentValue=!1),this.updateOnPaste(e),void(this.isPasteInProgress=!1);var o=this.keyDownEvent||{},i=o.keyCode===Km||o.key===Dm,r=o.keyCode===Ym||o.key===_m,a=this.interactionMode;!this.options.allowCaretMode||a===xm.Caret||r||i||(this.resetSegmentValue=!0),this.options.allowCaretMode?this.interactionMode=xm.Caret:this.interactionMode=xm.Selection;var s=this.isInCaretMode();if(s&&this.keyDownEvent.key===Nm)this.restorePreviousInputEventState();else{var l=this.dateObject&&this.dateObject.getValue(),c=this.dateObject?this.dateObject.value:null,d=this.dateObject.getTextAndFormat(),u=d.text,p=d.format;this.currentFormat=p;var h=function(e){var t=e.oldText,n=e.newText,o=e.formatPattern,i=e.selectionStart,r=e.isInCaretMode,a=e.keyEvent,s=i+t.length-n.length,l=t[s],c=t.substring(0,s),d=n.substring(0,i),u=[];if(c===d&&i>0)return u.push([o[i-1],d[i-1]]),u;if(0===c.indexOf(d)&&r&&(a.key===_m||a.key===Dm)||0===c.indexOf(d)&&!r&&(0===d.length||o[d.length-1]!==o[d.length])){var p="";r||1!==d.length||u.push([o[0],d[0]]);for(var h=d.length;h<c.length;h++)o[h]!==p&&o[h]!==Im&&(p=o[h],u.push([p,""]));return u}if(r&&(0===d.indexOf(c)||o[i-1]===Im)||!r&&(0===d.indexOf(c)||o[i-1]===Im)){var m=o[0];for(h=Math.max(0,c.length-1);h<o.length;h++)if(o[h]!==Im){m=o[h];break}return[[m,d[i-1]]]}return" "===d[d.length-1]||d[d.length-1]===l&&"_"===o[s]?[[o[i-1],Im]]:[[o[i-1],d[i-1]]]}({oldText:s&&(i||r||a===xm.Caret)?this.previousElementValue:u,newText:this.elementValue,formatPattern:this.currentFormat,selectionStart:this.selection.start,isInCaretMode:s,keyEvent:this.keyDownEvent});if(h&&h.length&&h[0]&&h[0][1]!==Im&&(this.switchedPartOnPreviousKeyAction=!1),!s||h&&0!==h.length){if(s&&1===h.length){if(!h[0]||!h[0][0])return void this.restorePreviousInputEventState();if(s&&h[0]&&(h[0][0]===Im||h[0][1]===Im))return void this.restorePreviousInputEventState()}var m=1===h.length&&h[0][1]===Im,f=[],g=!1,v=null;if(!m)for(var y=0;y<h.length;y++){var x=this.dateObject.parsePart({symbol:h[y][0],currentChar:h[y][1],resetSegmentValue:this.resetSegmentValue,cycleSegmentValue:!this.isInCaretMode(),rawTextValue:this.element.value,isDeleting:i||r,originalFormat:this.currentFormat});f.push(x),x.value||(v={type:"parse"}),g=x.switchToNext}this.options.autoSwitchParts||(g=!1),this.resetSegmentValue=!1;var b,w=this.options.format===this.currentFormat||Om(this.options.format)&&this.options.format.length>1,k=f[f.length-1],C=k&&!Om(k.value),S=s&&(i||r)&&C,I=!!k&&k.resetPart,E=this.dateObject.getValue(),j=!am(l,E),A=this.dateObject.value,_=this.selection;if(s){var D=h&&h.length>0?h[0][0]:null,N=this.dateObject.getLeadingZero()[D];h.length&&h[0][0]!==Im?g?(this.forceUpdateWithSelection(),this.switchDateSegment(1)):I?(b=this.currentFormat[_.start])?(this.forceUpdate(),this.setSelection(this.selectionBySymbol(b))):this.restorePreviousInputEventState():S?(this.forceUpdate(),h.length&&h[0][0]!==Im&&this.setSelection(this.selectionBySymbol(h[0][0]))):C?"0"===e.data&&N||(Om(l)&&!Om(E)?this.restorePreviousInputEventState():!Om(l)&&Om(E)?this.forceUpdateWithSelection():Om(l)&&Om(E)?j?this.forceUpdateWithSelection():this.restorePreviousInputEventState():Om(l)||Om(E)?c!==A||this.restorePreviousInputEventState():this.forceUpdateWithSelection()):C||w||this.forceUpdateWithSelection():(this.options.autoSwitchParts||h[0][1]!==Im)&&this.setSelection(this.selectionBySymbol(h[0][0]))}else s||(this.forceUpdate(),h.length&&h[0][0]!==Im&&this.setSelection(this.selectionBySymbol(h[0][0])),this.options.autoSwitchParts?m?(this.resetSegmentValue=!0,n||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):g&&(this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):k&&k.switchToNext?this.resetSegmentValue=!0:m&&(this.resetSegmentValue=!0,n||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0),i&&this.options.selectPreviousSegmentOnBackspace&&this.switchDateSegment(-1));this.tryTriggerValueChange({oldValue:l,event:e}),this.triggerInputEnd({event:e,error:v,oldElementValue:t,newElementValue:this.elementValue}),s&&this.setTextAndFormat()}else this.restorePreviousInputEventState()}}},t.prototype.onElementFocus=function(e){this.triggerFocus({event:e})||(this.isActive=!0,this.interactionMode=xm.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.mouseDownStarted||this.caret(0,this.elementValue.length),this.mouseDownStarted=!1,this.triggerFocusEnd({event:e}))},t.prototype.onElementBlur=function(e){this.resetSegmentValue=!0,this.isActive=!1,this.triggerBlur({event:e})||(this.options.autoFill&&this.autoFill(),this.interactionMode=xm.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.triggerBlurEnd({event:e}))},t.prototype.onElementChange=function(e){this.triggerChange({event:e})},t.prototype.onElementKeyDown=function(e){if(!this.triggerKeyDown({event:e})){var t=this.selection,n=t.start,o=t.end,i=e;if(this.keyDownEvent=e,this.previousElementValue=this.element.value,this.previousElementSelection={start:n,end:o},this.keyEventMatchesAutoSwitchKeys(e)){var r=e.keyCode===Xm;if(!r)return e.preventDefault(),void this.switchDateSegment(1);var a=this.selection,s=a.start,l=a.end;if(e.shiftKey&&r?this.switchDateSegment(-1):this.switchDateSegment(1),s!==this.selection.start||l!==this.selection.end)return void e.preventDefault()}var c=this.currentFormat[this.selection.start],d=this.getStepFromSymbol(c),u=!1,p=this.elementValue;if(!(e.altKey||e.ctrlKey||e.metaKey||e.keyCode===Xm)){switch(e.keyCode){case Qm:this.switchDateSegment(-1),u=!0,this.switchedPartOnPreviousKeyAction=!1;break;case Zm:this.modifyDateSegmentValue(d,c,i),p!==this.elementValue&&this.triggerInputEnd({event:e,error:null,newElementValue:this.elementValue,oldElementValue:p}),u=!0,this.switchedPartOnPreviousKeyAction=!1;break;case $m:this.switchDateSegment(1),u=!0,this.switchedPartOnPreviousKeyAction=!1;break;case ef:this.modifyDateSegmentValue(-d,c,i),p!==this.elementValue&&this.triggerInputEnd({event:e,error:null,newElementValue:this.elementValue,oldElementValue:p}),u=!0,this.switchedPartOnPreviousKeyAction=!1;break;case Jm:break;case nf:this.selectNearestSegment(0),u=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;case tf:this.selectNearestSegment(this.elementValue.length),u=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;default:return}u&&e.preventDefault()}}},t.prototype.onElementPaste=function(){this.isPasteInProgress=!0},t.prototype.onElementMouseWheel=function(e){var t=this.elementValue;if(this.options.enableMouseWheel&&!this.triggerMouseWheel({event:e})&&this.isActive){var n=e;n.shiftKey?this.switchDateSegment((n.wheelDelta||-n.detail)>0?-1:1):this.modifyDateSegmentValue((n.wheelDelta||-n.detail)>0?1:-1),n.returnValue=!1,n.preventDefault&&n.preventDefault(),t!==this.elementValue&&this.triggerInputEnd({event:e,error:null,newElementValue:this.elementValue,oldElementValue:t})}},t.prototype.updateOnPaste=function(e){var t=this.intl.parseDate(this.elementValue,this.inputFormat)||this.value;Om(t)&&this.dateObject.shouldNormalizeCentury()&&(t=this.dateObject.normalizeCentury(t));var n=this.dateObject&&this.dateObject.getValue();this.writeValue(t),this.tryTriggerValueChange({oldValue:n,event:e})},Object.defineProperty(t.prototype,"elementValue",{get:function(){return(this.element||{}).value||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputFormat",{get:function(){return this.options.format?"string"===typeof this.options.format?this.options.format:this.options.format.inputFormat:jm},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayFormat",{get:function(){return this.options.format?"string"===typeof this.options.format?this.options.format:this.options.format.displayFormat:jm},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){var e={start:0,end:0};return null!==this.element&&void 0!==this.element.selectionStart&&(e={start:this.element.selectionStart,end:this.element.selectionEnd}),e},enumerable:!1,configurable:!0}),t.prototype.setSelection=function(e){this.element&&document.activeElement===this.element&&(this.element.setSelectionRange(e.start,e.end),Rm()&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/Macintosh/i.test(navigator.userAgent))&&this.element.scrollIntoView({block:"nearest",inline:"nearest"}),e.start!==e.end&&(this.interactionMode=xm.Selection))},t.prototype.selectionBySymbol=function(e){for(var t=-1,n=0,o=0;o<this.currentFormat.length;o++)this.currentFormat[o]===e&&(n=o+1,-1===t&&(t=o));return t<0&&(t=0),this.options.autoCorrectParts||this.currentFormat.length===this.currentText.length||(this.currentFormat.length<this.currentText.length?n+=this.currentText.length-this.currentFormat.length:n=Math.max(0,n-(this.currentFormat.length-this.currentText.length))),{start:t,end:n}},t.prototype.selectionByIndex=function(e){for(var t={start:e,end:e},n=e,o=e-1;n<this.currentFormat.length||o>=0;n++,o--){if(n<this.currentFormat.length&&this.currentFormat[n]!==Im){t=this.selectionBySymbol(this.currentFormat[n]);break}if(o>=0&&this.currentFormat[o]!==Im){t=this.selectionBySymbol(this.currentFormat[o]);break}}return t},t.prototype.switchDateSegment=function(e){var t=this.selection;if(this.isInCaretMode()){var n=t.start,o=this.currentFormat[n-1],i="",r="";if(e<0){for(var a=n+e;a>=0;a--)if((r=this.currentFormat[a])!==Im&&r!==o){n=a,i=r;break}}else for(a=n+e;a<this.currentFormat.length;a++)if((r=this.currentFormat[a])!==Im&&r!==o){n=a,i=r;break}if(i)return this.forceUpdate(),this.setSelection(this.selectionBySymbol(i)),void(this.interactionMode=xm.Selection)}this.interactionMode=xm.None;var s=this.selection,l=s.start,c=s.end;if(l<c&&this.currentFormat[l]!==this.currentFormat[c-1])return this.setSelection(this.selectionByIndex(e>0?l:c-1)),this.resetSegmentValue=!0,void(this.interactionMode=xm.None);for(var d=this.currentFormat[l],u=l+e;u>0&&u<this.currentFormat.length&&(this.currentFormat[u]===d||this.currentFormat[u]===Im);)u+=e;if(this.currentFormat[u]!==Im){for(var p=u;p>=0&&p<this.currentFormat.length&&this.currentFormat[p]===this.currentFormat[u];)p+=e;u>p&&(p+1!==l||u+1!==c)?(this.setSelection({start:p+1,end:u+1}),this.resetSegmentValue=!0):u<p&&(u!==l||p!==c)&&(this.setSelection({start:u,end:p}),this.resetSegmentValue=!0),this.interactionMode=xm.None}},t.prototype.modifyDateSegmentValue=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n={}),this.dateObject&&!this.options.readonly){var o,i=this.value,r=1,a=this.caret();if("S"===(t=t||this.currentFormat[a[0]])&&(!this.options.steps.millisecond||1===this.options.steps.millisecond)){var s=function(e){var t=e&&e.match(/S+(\1)/);return t?t[0].length:0}(this.inputFormat);o=s,r=Math.pow(10,3-o)}this.dateObject.modifyPart(t,r*e),this.tryTriggerValueChange({oldValue:i,event:n}),this.forceUpdate(),this.setSelection(this.selectionBySymbol(t))}},t.prototype.tryTriggerValueChange=function(e){if(void 0===e&&(e={oldValue:null,event:{}}),!am(this.value,e.oldValue))return this.triggerValueChange(e)},t.prototype.triggerValueChange=function(e){return void 0===e&&(e={oldValue:null,event:{}}),this.trigger(xf,Vm(e,{value:this.value}))},t.prototype.triggerInput=function(e){return void 0===e&&(e={event:{}}),this.trigger(pf,Vm(e,{value:this.value}))},t.prototype.triggerInputEnd=function(e){return void 0===e&&(e={event:{},error:null,oldElementValue:"",newElementValue:""}),this.trigger(bf,Vm(e,{value:this.value}))},t.prototype.triggerFocus=function(e){return void 0===e&&(e={event:{}}),this.trigger(mf,Vm({},e))},t.prototype.triggerFocusEnd=function(e){return void 0===e&&(e={event:{}}),this.trigger(kf,Vm({},e))},t.prototype.triggerBlur=function(e){return void 0===e&&(e={event:{}}),this.trigger(ff,Vm({},e))},t.prototype.triggerBlurEnd=function(e){return void 0===e&&(e={event:{}}),this.trigger(wf,Vm({},e))},t.prototype.triggerChange=function(e){return void 0===e&&(e={event:{}}),this.trigger(Cf,Vm(e,{value:this.value}))},t.prototype.triggerKeyDown=function(e){return void 0===e&&(e={event:{}}),this.trigger(hf,Vm({},e))},t.prototype.triggerMouseWheel=function(e){return void 0===e&&(e={event:{}}),this.trigger(yf,Vm({},e))},t.prototype.forceUpdate=function(){this.setTextAndFormat(),this.refreshElementValue()},t.prototype.forceUpdateWithSelection=function(){var e=this.selection,t=e.start,n=e.end,o=this.elementValue.length;this.forceUpdate();var i=this.elementValue.length-o;this.setSelection({start:t+i,end:n+i})},t.prototype.setTextAndFormat=function(){var e=this.dateObject.getTextAndFormat(),t=e.text,n=e.format;this.currentFormat=n,this.currentText=t},t.prototype.setElementValue=function(e){this.element.value=e},t.prototype.getStepFromSymbol=function(e){switch(e){case"S":return Number(this.options.steps.millisecond);case"s":return Number(this.options.steps.second);case"m":return Number(this.options.steps.minute);case"h":case"H":return Number(this.options.steps.hour);case"M":return Number(this.options.steps.month);case"d":case"E":return Number(this.options.steps.day);case"y":return Number(this.options.steps.year);default:return 1}},t.prototype.restorePreviousInputEventState=function(){this.restorePreviousElementValue(),this.restorePreviousElementSelection()},t.prototype.restorePreviousElementValue=function(){this.setElementValue(this.previousElementValue||"")},t.prototype.restorePreviousElementSelection=function(){var e=this.previousElementSelection,t=e.start,n=e.end;this.setSelection({start:t||0,end:n||0})},t.prototype.writeValue=function(e){this.verifyValue(e),this.dateObject=this.getDateObject(e),this.refreshElementValue()},t.prototype.verifyValue=function(e){if(e&&!Um(e))throw new Error("The 'value' should be a valid JavaScript Date instance.")},t.prototype.refreshElementValue=function(){var e=this.element,t=this.isActive?this.inputFormat:this.displayFormat,n=this.dateObject.getTextAndFormat(t),o=n.text,i=n.format;this.currentFormat=i,this.currentText=o;var r=this.options.hasPlaceholder||Om(this.options.placeholder),a=!this.isActive&&r&&!this.dateObject.hasValue();r&&Om(this.options.placeholder)&&(e.placeholder=this.options.placeholder);var s=a?"":o;this.previousElementValue=this.elementValue,this.setElementValue(s)},t.prototype.caret=function(e,t){void 0===t&&(t=e);var n=void 0!==e,o=[e,e],i=this.element;if(!n||!this.options.disabled&&!this.options.readonly){try{void 0!==i.selectionStart&&(n&&(Rm()&&document.activeElement!==i&&i.focus(),i.setSelectionRange(e,t)),o=[i.selectionStart,i.selectionEnd])}catch(uo){o=[]}return o}},t.prototype.selectNearestSegment=function(e){for(var t=e,n=e-1;t<this.currentFormat.length||n>=0;t++,n--){if(t<this.currentFormat.length&&"_"!==this.currentFormat[t])return void this.selectDateSegment(this.currentFormat[t]);if(n>=0&&"_"!==this.currentFormat[n])return void this.selectDateSegment(this.currentFormat[n])}},t.prototype.selectDateSegment=function(e){for(var t=-1,n=0,o=0;o<this.currentFormat.length;o++)this.currentFormat[o]===e&&(n=o+1,-1===t&&(t=o));t<0&&(t=0),this.caret(0,0),this.caret(t,n)},t.prototype.getDateObject=function(e){var t=(this.dateObject||{}||null).leadingZero;this.options.value=e;var n=this.createDateObject();return n.setLeadingZero(this.isActive?t:null),n},t.prototype.createDateObject=function(){var e=this.getDateObjectOptions();return new Wm(Vm({},e))},t.prototype.getDateObjectOptions=function(){return{intlService:this.options.intlService,formatPlaceholder:this.options.formatPlaceholder?this.options.formatPlaceholder:"formatPattern",format:this.inputFormat,cycleTime:this.options.cycleTime,twoDigitYearMax:this.options.twoDigitYearMax,autoCorrectParts:this.options.autoCorrectParts,value:this.options.value,toggleDayPeriod:this.options.toggleDayPeriod,autoSwitchParts:this.options.autoSwitchParts}},t.prototype.keyEventMatchesAutoSwitchKeys=function(e){var t=(this.options.autoSwitchKeys||[]).map(function(e){return e.toString().toLowerCase().trim()});return t.indexOf(e.keyCode.toString())>=0||t.indexOf(e.keyCode)>=0||t.indexOf(e.key.toLowerCase().trim())>=0},t.prototype.autoFill=function(){var e,t,n,o,i,r,a=this.dateObject,s=new Date;(a.date||a.month||a.year||a.hours||a.minutes||a.seconds)&&(n=a.year?a.value.getFullYear():s.getFullYear(),t=a.month?a.value.getMonth():s.getMonth(),e=a.date?a.value.getDate():s.getDate(),o=a.hours?a.value.getHours():s.getHours(),i=a.minutes?a.value.getMinutes():s.getMinutes(),r=a.seconds?a.value.getSeconds():s.getSeconds(),a.setValue(new Date(n,t,e,o,i,r)),this.refreshElementValue(),this.triggerValueChange())},t}(rf);const Ef={start:null,end:null};function jf(e){const t=function(t,n,o){for(var i=arguments.length,r=new Array(i>3?i-3:0),a=3;a<i;a++)r[a-3]=arguments[a];return null===n[o]?null:(t?e.isRequired:e)(n,o,...r)},n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}const Af=(e,t,n)=>void 0===t||void 0===n||t<=e&&e<=n?e:e<t?t:n,_f=new Date(1980,0,1),Df=new Date(1900,0,1),Nf=new Date(2099,11,31),Tf=new Date(1980,0,1),Pf=new Date(1980,0,1,23,59,59),Mf=(e,t)=>{const n=tm(e);return n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n},Of=()=>im(new Date),Rf=(e,t,n)=>!e||!(t&&t>e||n&&n<e),Lf=(e,t)=>{const{start:n,end:o}=t||Ef;return!(!n||!o)&&(n<e&&e<o)},Ff=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const o=[];for(let i=e;i<t;i+=n)o.push(i);return o},zf=(e,t,n)=>t.getTime()<=e.getTime()&&e.getTime()<=n.getTime(),Bf=(e,t,n)=>e&&(t&&e<t?tm(t):n&&e>n?tm(n):e),Vf=e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=document.createElement(e);return i.className=n,Object.keys(o).map(e=>i.style[e]=o[e]),"string"==typeof t?i.innerHTML=t||"":(t||[]).forEach(e=>e&&i.appendChild(e)),i};const Hf="multiviewcalendar.prevView",qf="multiviewcalendar.nextView",Uf="dateinput.increment",Gf="dateinput.decrement",Wf="dateinput.clear",Kf="calendar.today",Yf="datepicker.toggleCalendar",Xf="daterangepicker.swapStartEnd",Jf="daterangepicker.start",Qf="daterangepicker.end",Zf="daterangepicker.separator",$f="datetimepicker.toggleDateTimeSelector",eg="timepicker.now",tg="timepicker.selectNow",ng="timepicker.cancel",og="timepicker.set",ig="timepicker.toggleTimeSelector",rg="timepicker.toggleClock",ag="datetimepicker.date",sg="datetimepicker.time",lg="datetimepicker.cancel",cg="datetimepicker.set",dg="daterangepicker.cancel",ug="daterangepicker.set",pg={[Kf]:"Today",[eg]:"NOW",[og]:"Set",[ng]:"Cancel",[ag]:"Date",[sg]:"Time",[lg]:"Cancel",[cg]:"Set",[dg]:"Cancel",[ug]:"Set",[Jf]:"Start",[Qf]:"End",[Zf]:" ",[tg]:"Select Now",[ig]:"Toggle TimeSelector",[rg]:"Toggle Clock",[Uf]:"Increase value",[Gf]:"Decrease value",[Wf]:"clear",[Yf]:"Toggle calendar",[Hf]:"Navigate to previous view",[qf]:"Navigate to next view",[Xf]:"Swap start and end values",[$f]:"Toggle date-time selector"},hg=e=>(t,n)=>{const o=tm(t);return o[e](n),o},mg=[{type:"hour",getter:e=>e.getHours()},{type:"minute",getter:e=>e.getMinutes()},{type:"second",getter:e=>e.getSeconds()},{type:"millisecond",getter:e=>e.getMilliseconds()}],fg=((e=>{})(mg),(e=>{})(mg),hg("setHours"),hg("setMinutes"),hg("setSeconds"),(e,t,n)=>({candidateValue:Mf(_f,e),maxValue:wm(Mf(_f,n),t.getHours()<n.getHours()?0:1),minValue:Mf(_f,t)})),gg=e=>{const t=Tc(),n=po(),i=n&&n.uDateInput,r=t.toLanguageString(Wf,pg[Wf]);return o.createElement("span",{className:rn(pm.clearButton({c:i})),role:"button",onClick:t=>{t.stopPropagation();const{onClick:n}=e;n&&n.call(void 0,t)},tabIndex:e.tabindex||-1,title:r,key:"clearbutton"},o.createElement(yo,{name:"x",icon:rd}))};class vg{constructor(e){this.service=e,this.cldr={},this.locale=e.locale,this.format=e.format,this.toString=e.toString,this.formatDate=e.formatDate,this.parseDate=e.parseDate,this.parseNumber=e.parseNumber,this.formatNumber=e.formatNumber,this.splitDateFormat=e.splitDateFormat,this.numberSymbols=e.numberSymbols,this.firstDay=e.firstDay,this.dateFieldName=e.dateFieldName,this.dateFormatNames=(e,t)=>this.service.dateFormatNames(t),this.weekendRange=e=>{};const t=Ua(this.locale);this.cldr[t.name]=t}}const yg=o.forwardRef((e,t)=>{var n;const i=on(e.id),r=Vc(),a=Tc(),s=po(),l=Ea(bg,e).unstyled||s,{format:c=xg.format,size:d=xg.size,rounded:u=xg.rounded,fillMode:h=xg.fillMode,formatPlaceholder:m=xg.formatPlaceholder,spinners:f=xg.spinners,disabled:g=xg.disabled,min:v=xg.min,max:y=xg.max,minTime:x=xg.minTime,maxTime:b=xg.maxTime,validityStyles:w=xg.validityStyles,validationMessage:k=xg.validationMessage,placeholder:C=xg.placeholder,enableMouseWheel:S=xg.enableMouseWheel,autoCorrectParts:I=xg.autoCorrectParts,autoSwitchParts:E=xg.autoSwitchParts,allowCaretMode:j=xg.allowCaretMode,twoDigitYearMax:A=xg.twoDigitYearMax,ariaHasPopup:_=xg.ariaHasPopup,autoFocus:D=xg.autoFocus}=Ea(bg,e),N=()=>void 0!==$.current?$.current:J.current&&J.current.value,T=()=>{const e=J.current&&J.current.currentText||"",t=N();return null==C||ne.focused||t?e:C},P=()=>void 0!==e.required&&e.required,M=()=>{const t=N()||e.value,n=v,o=y,i=((e,t,n)=>null===e||!(t&&t>e||n&&n<e))(t,n,o)&&((e,t,n)=>{if(!e||!t||!n)return!0;const{candidateValue:o,minValue:i,maxValue:r}=fg(e,t,n);return i<=o&&o<=r})(t,x,b),r=void 0!==k,a=(!P()||null!=t)&&i,s=void 0!==e.valid?e.valid:a;return{customError:r,rangeOverflow:t&&o.getTime()<t.getTime()||!1,rangeUnderflow:t&&t.getTime()<n.getTime()||!1,valid:s,valueMissing:null===t}},O=()=>{Y.current&&Y.current.focus()},R=()=>new vg(r),L=()=>{const t=N();return{format:c,steps:e.steps,formatPlaceholder:m,placeholder:C,selectPreviousSegmentOnBackspace:!0,value:e.value||t,intlService:R(),autoFill:void 0!==e.autoFill&&e.autoFill,enableMouseWheel:S,autoCorrectParts:I,autoSwitchParts:E,autoSwitchKeys:e.autoSwitchKeys||[],twoDigitYearMax:A,allowCaretMode:j}},F=e=>{X.current&&X.current.classList.add("k-focus"),oe({focused:!0})},z=e=>{X.current&&X.current.classList.remove("k-focus"),oe({focused:!1})},B=e=>"string"==typeof e?e:{inputFormat:e,displayFormat:e},V=e=>{$.current=N(),ie(),ee.current=e,$.current=void 0},H=t=>{e.onChange&&e.onChange(t)},q=e=>{Kc(document)===Y.current&&e.preventDefault()},U=()=>{Y.current&&Y.current.setCustomValidity&&Y.current.setCustomValidity(M().valid?"":k||xg.validationMessage)},G=e=>{!Y.current||!J.current||V(e)},W=t=>{const n=N();ee.current&&e.onChange&&!am(ee.current.oldValue,n)&&e.onChange.call(void 0,{syntheticEvent:t,nativeEvent:ee.current.event,value:ee.current.value,target:K.current}),ee.current=null},K=o.useRef(null),Y=o.useRef(null),X=o.useRef(null);o.useImperativeHandle(K,()=>({props:e,get options(){return L()},get text(){return T()},get element(){return Y.current},get name(){return e.name},get value(){return N()},get validity(){return M()},focus:O,updateOnPaste:G})),o.useImperativeHandle(t,()=>K.current);const J=o.useRef(null),Q=o.useRef(null),Z=o.useRef(!1),$=o.useRef(null),ee=o.useRef(null),te=o.useRef(e),[ne,oe]=o.useState({focused:!1}),[,ie]=o.useReducer(e=>e+1,0);o.useLayoutEffect(()=>{Z.current||(J.current=new If(Y.current,p(p({},L()),{},{format:B(L().format),events:{focus:F,blur:z,valueChange:V,click:H}})),Q.current=J.current.dateObject,Z.current=!0)},[]),o.useEffect(()=>(U(),Z.current||X.current&&X.current.addEventListener("wheel",q,{passive:!1}),()=>{X.current&&X.current.removeEventListener("wheel",q)}),[]),o.useEffect(()=>{U(),J.current&&((((e,t)=>typeof e!=typeof t||("string"==typeof e&&"string"==typeof t?e!==t:"object"==typeof e&&"object"==typeof t&&JSON.stringify(e)!==JSON.stringify(t)))(te.current.format,c)||te.current.readonly!==e.readonly||JSON.stringify(te.current.steps)!==JSON.stringify(e.steps)||R().locale!==J.current.options.intlService.locale)&&J.current.setOptions(L(),!0),te.current.value!==e.value&&(null!==Q.current.getValue()||null!==e.value)&&Q.current.setValue(e.value),void 0!==e.ariaExpanded&&e.ariaExpanded&&(J.current.options.placeholder=null),void 0!==e.ariaExpanded&&!e.ariaExpanded&&(J.current.options.placeholder=C),J.current.refreshElementValue(),te.current={format:c,readonly:e.readonly,ariaExpanded:e.ariaExpanded,steps:e.steps,value:e.value})});const re=e.id||i+"-accessibility-id",ae=l&&l.uDateInput,se=T(),le=!w||M().valid;o.useImperativeHandle(e._ref,()=>K.current);const ce=o.createElement("span",{ref:e=>{X.current=e},style:e.label?void 0:{width:e.width},dir:e.dir,className:rn(pm.wrapper({c:ae,size:d,fillMode:h,rounded:u,disabled:g,required:P(),invalid:!le}),e.className)},o.createElement("input",p({ref:e=>{Y.current=e},role:e.ariaRole||"textbox",readOnly:e.readonly,tabIndex:e.tabIndex||0,disabled:g,title:void 0!==e.title?e.title:se,type:"text",spellCheck:!1,autoComplete:"off",autoCorrect:"off",autoFocus:D,className:rn(pm.inputInner({c:ae})),id:re,value:se,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy,"aria-haspopup":_,"aria-disabled":g,"aria-expanded":e.ariaExpanded,"aria-controls":e.ariaControls,"aria-required":e.required,"aria-invalid":!le,onKeyDown:W,onChange:W,onWheel:W,onInput:W,onClick:W,name:e.name},e.inputAttributes)),e.children,e.clearButton&&e.value&&o.createElement(gg,{onClick:H,key:"clearbutton"}),f&&o.createElement("span",{className:rn(pm.inputSpinner({c:ae})),onMouseDown:e=>{e.preventDefault();const t=Kc(document);Y.current&&t!==Y.current&&Y.current.focus({preventScroll:!0})}},o.createElement(bo,{tabIndex:-1,type:"button",rounded:null,className:rn(pm.spinnerIncrease({c:ae})),icon:"caret-alt-up",svgIcon:Xc,"aria-label":a.toLanguageString(Uf,pg[Uf]),title:a.toLanguageString(Uf,pg[Uf]),onClick:e=>{var t;null==(t=J.current)||t.modifyDateSegmentValue(1),W(e)}}),o.createElement(bo,{tabIndex:-1,type:"button",rounded:null,className:rn(pm.spinnerDecrease({c:ae})),icon:"caret-alt-down",svgIcon:Qc,"aria-label":a.toLanguageString(Gf,pg[Gf]),title:a.toLanguageString(Gf,pg[Gf]),onClick:e=>{var t;null==(t=J.current)||t.modifyDateSegmentValue(-1),W(e)}})));return e.label?o.createElement(Rc,{label:e.label,editorId:re,editorValue:null==(n=Y.current)?void 0:n.value,editorValid:le,editorDisabled:g,children:ce,style:{width:e.width}}):ce});yg.propTypes={value:jt.instanceOf(Date),format:jt.oneOfType([jf(jt.string),jt.shape({skeleton:jt.string,pattern:jt.string,date:jt.oneOf(["short","medium","long","full"]),time:jt.oneOf(["short","medium","long","full"]),datetime:jt.oneOf(["short","medium","long","full"]),era:jt.oneOf(["narrow","short","long"]),year:jt.oneOf(["numeric","2-digit"]),month:jt.oneOf(["numeric","2-digit","narrow","short","long"]),day:jt.oneOf(["numeric","2-digit"]),weekday:jt.oneOf(["narrow","short","long"]),hour:jt.oneOf(["numeric","2-digit"]),hour12:jt.bool,minute:jt.oneOf(["numeric","2-digit"]),second:jt.oneOf(["numeric","2-digit"]),timeZoneName:jt.oneOf(["short","long"])})]),formatPlaceholder:jt.oneOfType([jf(jt.oneOf(["wide","narrow","short","formatPattern"])),jt.shape({year:jf(jt.string),month:jf(jt.string),day:jf(jt.string),hour:jf(jt.string),minute:jf(jt.string),second:jf(jt.string)})]),width:jt.oneOfType([jt.string,jt.number]),tabIndex:jt.number,title:jt.string,steps:jt.shape({year:jf(jt.number),month:jf(jt.number),day:jf(jt.number),hour:jf(jt.number),minute:jf(jt.number),second:jf(jt.number)}),min:jt.instanceOf(Date),max:jt.instanceOf(Date),disabled:jt.bool,spinners:jt.bool,name:jt.string,dir:jt.string,label:jt.string,id:jt.string,ariaLabelledBy:jt.string,ariaDescribedBy:jt.string,ariaLabel:jt.string,ariaRole:jt.string,ariaHasPopup:jt.oneOfType([jt.bool,jt.oneOf(["grid","dialog"])]),ariaExpanded:jt.oneOfType([jt.bool]),onChange:jt.func,validationMessage:jt.string,required:jt.bool,valid:jt.bool,size:jt.oneOf([null,"small","medium","large"]),rounded:jt.oneOf([null,"small","medium","large","full"]),fillMode:jt.oneOf([null,"solid","flat","outline"]),autoFocus:jt.bool,inputAttributes:jt.object};const xg={format:"d",size:"medium",rounded:"medium",fillMode:"solid",formatPlaceholder:"wide",spinners:!1,disabled:!1,max:tm(Nf),min:tm(Df),minTime:tm(Tf),maxTime:tm(Pf),validityStyles:!0,validationMessage:"Please enter a valid value!",placeholder:null,enableMouseWheel:!0,autoCorrectParts:!0,autoSwitchParts:!0,allowCaretMode:!1,twoDigitYearMax:68,ariaHasPopup:"grid",autoFocus:!1},bg=ja();yg.displayName="KendoReactDateInput";class wg{constructor(){this.scrollbar=0}get scrollbarWidth(){const e="undefined"!=typeof document?document:{};if(!this.scrollbar&&e&&e.createElement){const t=e.createElement("div");t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",e.body.appendChild(t),this.scrollbar=t.offsetWidth-t.scrollWidth,e.body.removeChild(t)}return this.scrollbar}}const kg=e=>{if(!Lo||!document.body)return!1;const t=e||(new wg).scrollbarWidth;document.body.style.setProperty("--kendo-scrollbar-width","".concat(t,"px"))};var Cg=function(e,t){return!e&&!t||e&&t&&am(im(e),im(t))};const Sg=e=>Math.max(e,0);class Ig{constructor(e){this.offset=e}}class Eg{constructor(e){this.skip=e}}class jg{constructor(e,t){this.onScrollAction=e,this.onPageAction=t,this.direction="vertical",this.firstLoaded=0,this.lastLoaded=0,this.lastScrollTop=0,this.take=0,this.total=0,this.rowHeightService=null,this.bottomOffset=0,this.topOffset=0}create(e,t,n,o){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"vertical";this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+n,this.take=n,this.total=o,this.lastScrollTop=0,this.topOffset=i,this.bottomOffset=r,this.direction=a;const s=this.rowsForHeight(i),l=Sg(t-s);this.onScrollAction(new Ig(this.rowOffset(l))),this.onPageAction(new Eg(l))}onScroll(e){let{scrollLeft:t,scrollTop:n,offsetHeight:o,offsetWidth:i}=e;const r="vertical"===this.direction?n:t,a="vertical"===this.direction?o:i;if(this.lastScrollTop===r||!this.rowHeightService)return;const s=this.lastScrollTop>=r;this.lastScrollTop=r;const l=this.rowHeightService.index(Sg(r-this.topOffset)),c=this.rowHeightService.index(Sg(r+a-this.bottomOffset));if(!s&&c>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=l,this.onScrollAction(new Ig(this.rowOffset(l))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),this.onPageAction(new Eg(this.firstLoaded))),s&&l<=this.firstLoaded){const e=Math.floor(.3*this.take);this.firstLoaded=Sg(l-e),this.onScrollAction(new Ig(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),this.onPageAction(new Eg(this.firstLoaded))}}rowOffset(e){return this.rowHeightService?this.rowHeightService.offset(e)+this.topOffset:0}rowsForHeight(e){return this.rowHeightService?Math.ceil(e/this.rowHeightService.height(0)):0}}const Ag={1:e=>t=>t+e,0:e=>t=>t-e},_g={1:e=>t=>Math.min(t,e),0:e=>t=>Math.max(t,e)},Dg={1:e=>t=>t<e,0:e=>t=>t>e},Ng=class e extends o.Component{constructor(t){var n;super(t),n=this,this.rowHeightService=null,this.scrollContainer=null,this.lastDirection=null,this.lastTotal=0,this.lastTake=0,this.animationInProgress=!1,this.restrictScroll=!1,this.scrollTo=e=>{const t="vertical"===this.direction?"scrollTop":"scrollLeft";if(!this.scrollContainer)return;const n=this.scrollContainer[t];this.restrictScroll&&"scrollTop"===t&&(!Number.isInteger(n)||!Number.isInteger(e))&&Math.abs(n-e)<10||(this.scrollContainer[t]=e)},this.scrollToIndex=e=>{this.animationInProgress=!1,this.rowHeightService&&this.scrollTo(this.rowHeightService.offset(e))},this.animateToIndex=e=>{if(!this.rowHeightService||!window)return;window.cancelAnimationFrame(this.cancelAnimation);const t=this.rowHeightService.offset(e),n=this.getContainerScrollDirection(t),{start:o,end:i}=this.scrollRange(t,n);if(o===i)return;const r=this.scrollStep(o,i),a=Ag[n](r),s=_g[n](i),l=Dg[n](a(i)),c=e=>{this.animationInProgress=!0;const t=a(e);this.scrollTo(s(t)),l(t)?this.cancelAnimation=window.requestAnimationFrame(()=>{c(t)}):this.animationInProgress=!1};this.cancelAnimation=window.requestAnimationFrame(()=>{c(o)})},this.scrollToBottom=()=>{this.rowHeightService&&this.scrollTo(this.rowHeightService.totalHeight()+this.props.bottomOffset)},this.scrollStep=(t,n)=>{const o=this.props.scrollDuration||e.defaultProps.scrollDuration;return Math.abs(n-t)/(o/17)},this.scrollRange=(e,t)=>{const n=this.containerScrollPosition;if(parseInt("".concat(e),10)===parseInt("".concat(n),10))return{start:e,end:e};const o=this.containerMaxScroll(),i=0===t?1:-1,r=((e,t,n)=>Math.min(Math.abs(t-e),n))(n,e,this.props.maxScrollDifference||0),a=Math.min(e,o);return{start:Math.min(Math.max(a+i*r,0),o),end:a}},this.containerMaxScroll=()=>this.containerScrollSize-this.containerOffsetSize,this.getContainerScrollDirection=e=>e<this.containerScrollPosition?0:1,this.initServices=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props;const t="vertical"===n.direction?e.itemHeight:e.itemWidth;void 0!==t&&(n.rowHeightService=new kp(e.total,t,0),n.scrollerService.create(n.rowHeightService,e.skip,e.take,e.total,e.topOffset,n.scrollOffsetSize,n.direction))},this.getContainerProperty=e=>this.scrollContainer?this.scrollContainer[e]:0,this.handleScroll=e=>{if(!this.scrollContainer||!this.rowHeightService)return;const t=e.target;this.scrollerService.onScroll({scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,offsetHeight:t.offsetHeight,offsetWidth:t.offsetWidth});const n=this.rowHeightService.index(this.containerScrollPosition-this.props.topOffset),{onScrollAction:o}=this.props,i={index:n,target:t,scrollAction:this.scrollAction,pageAction:this.pageAction,animationInProgress:this.animationInProgress};this.props.onScroll&&this.props.onScroll.call(void 0,e),o&&o.call(void 0,i),this.scrollAction=void 0,this.pageAction=void 0},this.handleScrollAction=e=>{this.scrollAction=e},this.handlePageAction=e=>{this.pageAction=e},this.scrollerService=new jg(this.handleScrollAction,this.handlePageAction),this.restrictScroll=Number.parseFloat(o.version)>17}get element(){return this.scrollContainer}get containerOffsetSize(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}get containerScrollSize(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}get containerScrollPosition(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}get direction(){return void 0!==this.props.direction?this.props.direction:e.defaultProps.direction}get scrollOffsetSize(){return void 0!==this.props.scrollOffsetSize?this.props.scrollOffsetSize:e.defaultProps.scrollOffsetSize}activeIndex(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}itemIndex(e){return this.rowHeightService?this.rowHeightService.index(e):0}itemOffset(e){return this.rowHeightService?this.rowHeightService.offset(e):0}isIndexVisible(e){if(!this.rowHeightService)return!1;const t=this.containerScrollPosition,n=t+this.containerOffsetSize,o=this.rowHeightService.offset(e),i=o+this.rowHeightService.height(e);return o>=t&&i<=n}isListScrolled(e){return!!this.rowHeightService&&this.containerScrollPosition!==this.rowHeightService.offset(e)}componentDidMount(){const{onMount:e}=this.props;e&&e.call(void 0,this)}render(){const{total:e,take:t,bottomOffset:n,className:i,tabIndex:r,role:a,children:s,unstyled:l}=this.props,c=l&&l.uCalendar;(this.lastTotal!==e||this.lastDirection!==this.direction||this.lastTake!==t)&&(this.initServices(),this.lastTotal=e,this.lastDirection=this.direction,this.lastTake=t);const d="".concat((this.rowHeightService?this.rowHeightService.totalHeight():0)+n),u="vertical"===this.direction?{height:"".concat(d,"px")}:{width:"".concat(d,"px")},p=rn(dm.scrollableSelector({c:c}),dm.scrollable({c:c,horizontal:"horizontal"===this.direction}),i),h=rn(dm.scrollablePlaceholder({c:c,horizontal:"horizontal"===this.direction}));return o.createElement("div",{ref:e=>{this.scrollContainer=e},onScroll:this.handleScroll,className:p,tabIndex:r,role:a},s,o.createElement("div",{style:u,className:h}))}};Ng.propTypes={bottomOffset:jt.number.isRequired,className:jt.string,direction:jt.oneOf(["horizontal","vertical"]),forceScroll:jt.bool,itemHeight:jt.number,itemWidth:jt.number,maxScrollDifference:jt.number,onScroll:jt.func,onScrollAction:jt.func,scrollDuration:jt.number,scrollOffsetSize:jt.number,skip:jt.number.isRequired,tabIndex:jt.number,take:jt.number.isRequired,topOffset:jt.number.isRequired,total:jt.number.isRequired,role:jt.string},Ng.defaultProps={direction:"vertical",forceScroll:!1,scrollOffsetSize:0,maxScrollDifference:100,scrollDuration:100};let Tg=Ng;var Pg,Mg;!function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(Pg||(Pg={})),function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Mg||(Mg={}));var Og=function(e,t,n){void 0===n&&(n=Mg.Forward);var o=tm(e),i=(t-o.getDay()+7*n)%7;return o.setDate(o.getDate()+i),nm(o,e.getHours())},Rg=function(e,t){return t!==Pg.Monday?wm(function(e,t){return Og(e,t,Mg.Backward)}(e,t),4):wm(e,4-(e.getDay()||7))},Lg=function(e,t){var n=om(e.getFullYear(),0,1,-6),o=Rg(e,t).getTime()-n.getTime(),i=Math.floor(o/864e5);return 1+Math.floor(i/7)};const Fg=["value"],zg=["value"],Bg=["className","formattedValue","isWeekend","isFocused","isInRange","isSelected","isRangeStart","isRangeMid","isRangeEnd","isRangeSplitStart","isRangeSplitEnd","isToday","isDisabled","view","value","isOtherMonth","showOtherMonthDays","allowReverse","unstyled"];class Vg extends o.Component{constructor(){super(...arguments),this.handleClick=e=>{const{onClick:t,value:n}=this.props;t&&t.call(void 0,n,e)},this.handleMouseEnter=()=>{const{onMouseEnter:e,value:t}=this.props;e&&e.call(void 0,t)},this.handleMouseLeave=()=>{const{onMouseLeave:e,value:t}=this.props;e&&e.call(void 0,t)}}shouldComponentUpdate(e){const t=this.props,{value:n}=t,o=s(t,Fg),{value:i}=e,r=s(e,zg);return!((!n||!i||n.getTime()===i.getTime())&&((e,t)=>{const n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);if(n.length!==o.length)return!1;for(let i=0;i<n.length;i++){const o=n[i];if(e[o]!==t[o])return!1}return!0})(o,r))}render(){const e=this.props,{className:t,formattedValue:n,isWeekend:i,isFocused:r,isInRange:a,isSelected:l,isRangeStart:c,isRangeMid:d,isRangeEnd:u,isRangeSplitStart:h,isRangeSplitEnd:m,isToday:f,isDisabled:g,view:v,value:y,isOtherMonth:x,showOtherMonthDays:b,allowReverse:w,unstyled:k}=e,C=s(e,Bg),S="end"===this.props.activeRangeEnd&&u,I="start"===this.props.activeRangeEnd&&c,E=k&&k.uCalendar,j=rn(dm.td({c:E,rangeStart:!x&&!w&&c,rangeEnd:!x&&!w&&u,rangeMid:!x&&d,rangeSplitEnd:!x&&m,rangeSplitStart:!x&&h,active:I||S,focused:r,selected:!x&&(l||c||u),today:!x&&f,weekend:i,disabled:g,isOtherMonth:x,isEmpty:!b&&x}),t);return!b&&x?o.createElement("td",{role:"gridcell",className:j}):o.createElement("td",p(p({},C),{},{className:j,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),o.createElement("span",{className:rn(dm.link({c:E}))},this.props.children))}}const Hg=["className","firstDate","weekDays"],qg=e=>{const{className:t,firstDate:n,weekDays:i}=e,r=s(e,Hg),a=po(),l=a&&a.uCalendar;return o.createElement("td",p(p({className:rn(dm.td({c:l,isWeek:!0}),t)},r),{},{onClick:t=>{const{onClick:o}=e;o&&t&&o.call(void 0,n,i||[],t)}}),e.children)};var Ug=(e=>(e[e.month=0]="month",e[e.year=1]="year",e[e.decade=2]="decade",e[e.century=3]="century",e))(Ug||{});class Gg{constructor(e){this.intl=e}getWeekNames(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;const n=((e,t)=>e.slice(t).concat(e.slice(0,t)))(this.intl.dateFormatNames({nameType:null!=t?t:"short",type:"days"}),this.intl.firstDay());return e?[""].concat(n):n}}const Wg=(e,t)=>{const n=t;return o.createElement("td",{key:e,role:"gridcell",className:rn(dm.td({c:n,isEmpty:!0}))},"\xa0")},Kg=class e extends o.Component{constructor(){super(...arguments),this.intl=null,this.weekService=null,this.buildWeekNumber=(e,t)=>{if(!this.firstDate(e))return Wg("week-cell-".concat(t));const n=this.firstDate(e),i=this.getWeekNumber(n),r="kendo-react-calendar-week-cell-".concat(i),a={value:i,firstDate:n,weekDays:e,unstyled:this.props.unstyled,onClick:this.handleWeekCellClick};return this.props.weekCell?o.createElement(this.props.weekCell,p(p({},a),{},{key:r}),i):o.createElement(qg,p(p({},a),{},{key:r}),i)},this.buildRow=e=>e.map((e,t)=>{if(!e)return Wg(t);const n={"aria-selected":e.isSelected},i="kendo-react-calendar-cell-".concat(e.value.getTime()),r=p(p(p({},n),e),{},{isDisabled:!e.isInRange,view:this.props.activeView,showOtherMonthDays:this.props.showOtherMonthDays,allowReverse:this.props.allowReverse,unstyled:this.props.unstyled,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave});return this.props.cell?o.createElement(this.props.cell,p(p({},r),{},{key:i}),e.formattedValue):o.createElement(Vg,p(p({},r),{},{key:i}),e.formattedValue)}),this.firstDate=e=>{const t=this.firstWeekDateContext(e);return t?t.value:null},this.firstWeekDateContext=e=>{if(!this.weekNumber)return null;let t=0,n=e[t];for(;!n&&t<e.length;)n=e[++t];return n},this.handleClick=(e,t)=>{const{onChange:n}=this.props;if(n&&t){const o={value:tm(e),target:this,nativeEvent:t&&t.nativeEvent,syntheticEvent:t};n.call(void 0,o)}},this.handleWeekCellClick=(e,t,n)=>{const{onWeekSelect:o}=this.props,i=t.findIndex(t=>t&&t.value===e);o&&n&&o.call(void 0,e,i,n)},this.handleMouseEnter=e=>{const{onCellEnter:t}=this.props;t&&t.call(void 0,tm(e))},this.handleMouseLeave=e=>{const{onCellLeave:t}=this.props;t&&t.call(void 0,tm(e))}}get min(){return this.props.min}get max(){return this.props.max}get isHorizontal(){return"horizontal"===this.props.direction}get isMonthView(){return this.props.activeView===Ug.month}get weekNumber(){return!(!this.props.showWeekNumbers||this.props.activeView!==Ug.month)}get selectedDate(){return void 0!==this.props.selectedDate?this.props.selectedDate:e.defaultProps.selectedDate}render(){const{service:e,weekDaysFormat:t,cellUID:n,focusedDate:i,bus:r,activeView:a,selectionRange:s,unstyled:l}=this.props,c=l&&l.uCalendar;this.intl=qh(this),this.weekService=new Gg(this.intl);const d=this.weekService.getWeekNames(this.weekNumber,t),u=e.rowLength(this.weekNumber),p=e.title(this.props.viewDate),h=Of(),m=Mf(this.props.viewDate,h),f=e.data({cellUID:n,min:this.min,max:this.max,focusedDate:i,isActiveView:!r.canMoveDown(a),selectedDate:this.selectedDate,selectionRange:s,viewDate:m});return o.createElement(o.Fragment,null,this.isMonthView&&this.isHorizontal&&o.createElement("thead",{role:"rowgroup",className:rn(dm.thead({c:c}))},o.createElement("tr",{role:"row",className:rn(dm.tr({c:c}))},d.map((e,t)=>o.createElement("th",{key:t,className:rn(dm.th({c:c}))},e)))),o.createElement("tbody",{role:"rowgroup",className:rn(dm.tbody({c:c}))},!this.isHorizontal&&o.createElement("tr",{role:"presentation",className:rn(dm.tr({c:c}))},o.createElement("th",{scope:"col",colSpan:u,className:rn(dm.caption({c:c}))},p)),f.map((e,t)=>o.createElement("tr",{role:"row",className:rn(dm.tr({c:c})),key:t},this.weekNumber&&this.buildWeekNumber(e,t),this.buildRow(e)))))}getWeekNumber(e){return this.weekNumber&&this.intl?function(e,t){void 0===t&&(t=Pg.Monday),e=im(e);var n=wm(e,-7),o=wm(e,7),i=Lg(e,t);return 0===i?Lg(n,t)+1:53===i&&Lg(o,t)>1?1:i}(e,this.intl.firstDay()):null}};Kg.propTypes={activeRangeEnd:jt.oneOf(["start","end",null]),activeView:jt.number.isRequired,cellUID:jt.string.isRequired,direction:jt.oneOf(["horizontal","vertical"]),focusedDate:jt.instanceOf(Date).isRequired,max:jt.instanceOf(Date).isRequired,min:jt.instanceOf(Date).isRequired,onChange:jt.func,selectedDate:jt.oneOfType([jt.instanceOf(Date),jt.arrayOf(jt.instanceOf(Date))]),showWeekNumbers:jt.bool,showOtherMonthDays:jt.bool,viewDate:jt.instanceOf(Date).isRequired},Kg.defaultProps={direction:"vertical",selectedDate:Of(),showWeekNumbers:!1};let Yg=Kg;Gh(Yg);const Xg=["view"],Jg=e=>{const{view:t}=e,n=s(e,Xg);return o.createElement(bo,p({type:"button",fillMode:"flat",themeColor:"primary"},n),e.children)},Qg=class e extends o.Component{constructor(){super(...arguments),this.getTitle=()=>{if(!this.props.currentDate)return"";const e=this.rangeLength-1,t=this.props.service.title(this.props.currentDate),n=this.props.service.addToDate(this.props.currentDate,e);return e<1||!this.props.service.isInRange(n,this.min,this.max)?t:"".concat(t," - ").concat(this.props.service.title(n))},this.handleTitleClick=e=>{this.canMoveUp&&this.props.bus.moveUp(this.props.activeView,e)}}get min(){return void 0!==this.props.min?this.props.min:e.defaultProps.min}get max(){return void 0!==this.props.max?this.props.max:e.defaultProps.max}get rangeLength(){return void 0!==this.props.rangeLength?this.props.rangeLength:e.defaultProps.rangeLength}get canMoveUp(){return this.props.bus.canMoveUp(this.props.activeView)}render(){const{activeView:e,commands:t,unstyled:n}=this.props,i=n&&n.uCalendar,r=this.getTitle(),a={children:r,value:r,view:e,className:rn(dm.title({c:i})),onClick:this.handleTitleClick,disabled:!this.canMoveUp},s={headerTitleProps:a,commands:t},l=this.props.headerTitle?o.createElement(this.props.headerTitle,p({},a),r):o.createElement(Jg,p({},a),r),c=this.props.header?o.createElement(this.props.header,p({},s)):o.createElement(o.Fragment,null,l,o.createElement("span",{className:rn(dm.spacer({c:i}))}),o.createElement("span",{className:rn(dm.nav({c:i}))},this.props.commands));return o.createElement("div",{className:rn(dm.header({c:i,vertical:this.props.verticalView}))},c)}};Qg.propTypes={activeView:jt.number.isRequired,currentDate:jt.instanceOf(Date).isRequired,max:jt.instanceOf(Date).isRequired,min:jt.instanceOf(Date).isRequired,rangeLength:jt.number},Qg.defaultProps={rangeLength:1,min:Df,max:Nf};let Zg=Qg;Wh(Zg);const $g=class e extends o.Component{constructor(){super(...arguments),this.localization=null,this.handleClick=e=>{if(this.todayIsInRange&&this.props.onClick){const t={syntheticEvent:e,nativeEvent:e.nativeEvent,value:Bf(Of(),this.min,this.max),target:this,isTodayClick:!0};this.props.onClick.call(void 0,t)}}}get min(){return void 0!==this.props.min?this.props.min:e.defaultProps.min}get max(){return void 0!==this.props.max?this.props.max:e.defaultProps.max}get todayIsInRange(){return Rf(Of(),im(this.min),im(this.max))}render(){const{disabled:e,tabIndex:t,unstyled:n}=this.props,i=n&&n.uCalendar;this.localization=Uh(this);const r=this.localization.toLanguageString(Kf,pg[Kf]),a=rn(dm.today({c:i,disabled:e}));return o.createElement(bo,{className:a,onClick:this.handleClick,tabIndex:t,fillMode:"flat",themeColor:"base",role:"link"},r)}};$g.propTypes={max:jt.instanceOf(Date).isRequired,min:jt.instanceOf(Date).isRequired,onClick:jt.func,disabled:jt.bool},$g.defaultProps={min:Df,max:Nf};let ev=$g;Wh(ev);const tv=class e extends o.Component{constructor(e){var t;super(e),t=this,this.virtualization=null,this.calendarView=null,this.table=null,this.intl=null,this.bottomOffset=0,this.viewOffset=0,this.viewHeight=0,this._element=null,this.isActive=!1,this.animateToIndex=!0,this.shouldScroll=!1,this.weekService=null,this.focusActiveDate=()=>{if(!this._element)return;const e=this._element.querySelector("td.k-focus"),t=this._element.querySelector(".k-state-pending-focus");e&&e[0]&&e[0].classList.remove("k-focus"),t&&t.classList.add("k-focus"),this.isActive=!0},this.blurActiveDate=()=>{if(!this._element)return;const e=this._element.querySelector("td.k-focus");e&&e.classList.remove("k-focus"),this.isActive=!1},this.handleVirtualizationMount=e=>{if(this.virtualization=e,this.virtualization&&this.table){this.table.style.transform="translateY(".concat(this.viewOffset,"px)");const e=Bf(this.props.focusedDate,this.props.min,this.props.max),t=this.props.service.skip(e,this.props.min);this.virtualization.scrollToIndex(t)}},this.buildMonthView=(e,t)=>{const{unstyled:n}=this.props,i=n&&n.uCalendar;return o.createElement("table",{key:"calendar-view-list-weekdays",className:rn(dm.table({c:i,weekdays:!0})),role:"grid",tabIndex:this.props.tabIndex},o.createElement("colgroup",null,e.map((e,t)=>o.createElement("col",{key:t}))),o.createElement("thead",{className:rn(dm.thead({c:i}))},o.createElement("tr",{className:rn(dm.tr({c:i}))},t.map((e,t)=>o.createElement("th",{key:t,className:rn(dm.th({c:i}))},e)))))},this.buildDates=(e,t)=>{const n=this.props.cellUID,{unstyled:i}=this.props,r=i&&i.uCalendar;return o.createElement("table",{className:rn(dm.table({c:r})),ref:e=>{this.table=e},role:"grid",tabIndex:this.props.tabIndex,"aria-activedescendant":n+this.props.focusedDate.getTime()},o.createElement("colgroup",null,e.map((e,t)=>o.createElement("col",{key:t}))),t.map(e=>o.createElement(Yg,{ref:e=>{this.calendarView||(this.calendarView=e)},key:e.getTime(),activeView:this.props.activeView,viewDate:e,min:this.props.min,max:this.props.max,cellUID:n,focusedDate:this.props.focusedDate,cell:this.props.cell,selectedDate:this.props.value,showWeekNumbers:this.weekNumber,onChange:this.handleDateChange,bus:this.props.bus,service:this.props.service,weekCell:this.props.weekCell,showOtherMonthDays:this.props.showOtherMonthDays,unstyled:i})))},this.calculateHeights=()=>{if(!this.props.dom)return;const e=this.props.activeView===Ug.month?this.props.dom.scrollableContentHeight:this.props.dom.scrollableYearContentHeight;this.bottomOffset=e-this.props.dom.viewHeight(this.props.activeView),this.viewOffset=-1*this.props.dom.headerHeight,this.viewHeight=this.props.dom.viewHeight(this.props.activeView)||1},this.getTake=(e,t)=>Math.min(t-e,this.take),this.handleScrollAction=e=>{let{index:t,scrollAction:n,pageAction:o}=e;const i=o?o.skip:this.state.skip;if((this.state.index!==t||this.state.skip!==i)&&this.setState({index:t,skip:i}),this.table&&n){const e="translateY(".concat(n.offset,"px)");this.table.style.transform=e}},this.handleTodayClick=e=>{this.shouldScroll=!0,this.handleDateChange.call(void 0,e,!0)},this.handleDateChange=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{onChange:o}=t.props;if(o){const i={syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,value:tm(e.value),target:t,isTodayClick:n};o.call(void 0,i)}},this.lastView=this.props.activeView,this.lastFocus=this.props.focusedDate,this.state={skip:this.props.service.skip(this.props.focusedDate,this.props.min),index:this.props.service.skip(this.props.focusedDate,this.props.min)}}get element(){return this._element}get weekNames(){return this.intl=qh(this),this.weekService=new Gg(this.intl),this.weekService.getWeekNames(this.weekNumber,this.props.weekDaysFormat)}get weekNumber(){return!(!this.props.showWeekNumbers||this.props.activeView!==Ug.month)}get take(){return void 0!==this.props.take?this.props.take:e.defaultProps.take}get animate(){return!(!this.props.smoothScroll||!this.animateToIndex)}get todayIsInRange(){return Rf(Of(),im(this.props.min),im(this.props.max))}componentDidUpdate(e,t){this.shouldScroll=!1,void 0!==this.indexToScroll&&this.virtualization&&this.virtualization[this.animate?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.isActive&&this.focusActiveDate(),this.lastView=this.props.activeView,this.indexToScroll=void 0}render(){const{activeView:e,min:t,max:n,service:i,unstyled:r}=this.props,a=r&&r.uCalendar;this.calculateHeights();const s=this.lastView!==e,l=Bf(this.props.focusedDate,t,n),c=s?i.skip(l,t):this.state.skip,d=i.total(t,n),u=this.getTake(c,d),p=i.addToDate(t,c),h=i.addToDate(t,this.state.index),m=new Array(i.rowLength(this.weekNumber)).fill(""),f=e!==this.lastView;this.animateToIndex=!f,(f||!Cg(this.lastFocus,l)||this.shouldScroll||!this.props.shouldScroll||this.props.shouldScroll())&&(this.indexToScroll=this.props.service.skip(l,this.props.min)),this.lastFocus=l;const g=rn(dm.view({c:a,month:e===Ug.month,year:e===Ug.year,decade:e===Ug.decade,century:e===Ug.century})),v=this.buildDates(m,i.datesList(p,u)),y=o.createElement(o.Fragment,null,o.createElement(Zg,{key:"calendar-view-list-header",currentDate:h,min:this.props.min,max:this.props.max,activeView:this.props.activeView,bus:this.props.bus,service:this.props.service,headerTitle:this.props.headerTitle,header:this.props.header,unstyled:r,commands:o.createElement(ev,{min:this.props.min,max:this.props.max,onClick:this.handleTodayClick,disabled:!this.todayIsInRange,tabIndex:this.props.tabIndex,unstyled:r})}),this.props.activeView===Ug.month&&this.buildMonthView(m,this.weekNames),o.createElement(Tg,{key:"calendar-view-list-content",skip:c,take:this.take,total:d,itemHeight:this.viewHeight,topOffset:this.viewOffset,bottomOffset:this.bottomOffset,scrollOffsetSize:this.viewOffset,maxScrollDifference:this.viewHeight,onScroll:this.props.onScroll,onScrollAction:this.handleScrollAction,onMount:e=>!this.virtualization&&this.handleVirtualizationMount(e),children:v,tabIndex:this.props.tabIndex,unstyled:r}));return o.createElement("div",{ref:e=>{this._element=e},className:g},this.props.dom.didCalculate?y:null)}};tv.propTypes={activeView:jt.number.isRequired,bottomOffset:jt.number,cellUID:jt.string.isRequired,focusedDate:jt.instanceOf(Date).isRequired,max:jt.instanceOf(Date).isRequired,min:jt.instanceOf(Date).isRequired,onChange:jt.func,showWeekNumbers:jt.bool,smoothScroll:jt.bool,take:jt.number,value:jt.instanceOf(Date),viewHeight:jt.number,viewOffset:jt.number,weekDaysFormat:jt.oneOf(["short","abbreviated","narrow"]),tabIndex:jt.number},tv.defaultProps={take:5,showWeekNumbers:!1,weekDaysFormat:"short",smoothScroll:!0};let nv=tv;Gh(nv);const ov=["className","isRangeStart","value","text","view"],iv=e=>{const{className:t,isRangeStart:n,value:i,text:r,view:a}=e,l=s(e,ov),c=po(),d=c&&c.uCalendar;return o.createElement("li",p(p({},l),{},{onClick:t=>{var n;null==(n=e.onClick)||n.call(e,i,t)},className:rn(dm.li({c:d}),t)}),o.createElement("span",{className:rn(dm.navigationMarker({c:d,isRangeStart:n}))},e.children))},rv=class e extends o.Component{constructor(e){super(e),this.virtualization=null,this.list=null,this.itemHeight=0,this.topOffset=0,this.maxViewHeight=0,this.bottomOffset=0,this.handleVirtualizationMount=e=>{if(this.virtualization=e,this.virtualization&&this.list){this.list.style.transform="translateY(".concat(this.topOffset,"px)");const e=Bf(this.props.focusedDate,this.props.min,this.props.max),t=this.props.service.skip(e,this.props.min);this.virtualization.scrollToIndex(t)}},this.buildNavigationItem=e=>{const t=this.props.service.navigationTitle(e),n=this.props.service.isRangeStart(e),i="kendo-react-calendar-nav-item-".concat(e.getTime()),r={text:t,value:e,isRangeStart:n,view:this.props.activeView,onClick:this.handleDateChange};return this.props.navigationItem?o.createElement(this.props.navigationItem,p(p({},r),{},{key:i}),t):o.createElement(iv,p(p({},r),{},{key:i}),t)},this.calculateHeights=()=>{const e=this.props.dom.calendarHeight;this.itemHeight=this.props.dom.navigationItemHeight||1,this.maxViewHeight=this.props.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight},this.handleDateChange=(e,t)=>{const{onChange:n}=this.props;if(n&&t){const o={value:tm(e),target:this,nativeEvent:t&&t.nativeEvent,syntheticEvent:t};n.call(void 0,o)}},this.handleScrollAction=e=>{let{scrollAction:t,pageAction:n}=e;const o=n?n.skip:this.state.skip;if(this.state.skip!==o&&this.setState({skip:o}),this.list&&t){const e="translateY(".concat(t.offset,"px)");this.list.style.transform=e}},this.lastView=this.props.activeView,this.lastFocus=this.props.focusedDate;const t=this.props.service.skip(this.props.focusedDate,this.props.min),n=this.props.service.total(this.props.min,this.props.max);this.state={skip:t-this.getTake(t,n)>0?t:0}}get take(){return void 0!==this.props.take?this.props.take:e.defaultProps.take}componentDidUpdate(e,t){void 0!==this.indexToScroll&&this.virtualization&&this.virtualization.scrollToIndex(this.indexToScroll),this.lastView=this.props.activeView,this.lastFocus=this.props.focusedDate,this.indexToScroll=void 0}render(){const{activeView:e,min:t,max:n,service:i,unstyled:r}=this.props;this.calculateHeights();const a=r&&r.uCalendar,s=this.lastView!==e,l=Bf(this.props.focusedDate,t,n),c=s?i.skip(l,t):this.state.skip,d=i.total(t,n),u=this.getTake(c,d),p=i.addToDate(t,c),h=i.datesList(p,u);(e!==this.lastView||!am(l,this.lastFocus))&&(this.indexToScroll=i.skip(l,t));const m=o.createElement(Tg,{skip:c,take:this.take,total:d,itemHeight:this.itemHeight,topOffset:this.topOffset,bottomOffset:this.bottomOffset,onScroll:this.props.onScroll,maxScrollDifference:this.maxViewHeight,onScrollAction:this.handleScrollAction,onMount:e=>!this.virtualization&&this.handleVirtualizationMount(e),tabIndex:this.props.tabIndex,unstyled:r},o.createElement("ul",{ref:e=>{this.list=e},className:rn(dm.ul({c:a}))},h.map(e=>this.buildNavigationItem(e))));return o.createElement("div",{className:rn(dm.navigation({c:a}))},o.createElement("span",{className:rn(dm.navigationHighlight({c:a}))}),this.props.dom.didCalculate?m:null)}getTake(e,t){return Math.min(t-e,this.take)}};rv.propTypes={activeView:jt.number.isRequired,focusedDate:jt.instanceOf(Date).isRequired,max:jt.instanceOf(Date).isRequired,min:jt.instanceOf(Date).isRequired,onChange:jt.func,take:jt.number,tabIndex:jt.number},rv.defaultProps={take:30};let av=rv;var sv=function(e,t){var n=e.getMonth(),o=om(t,n,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return o.getMonth()===n?o:km(Cm(o,-1))},lv=function(e,t){return nm(sv(e,e.getFullYear()+t),e.getHours())},cv=function(e,t){return lv(e,10*t)},dv=function(e,t){return lv(e,100*t)},uv=function(e,t){return sv(e,t(e.getFullYear()))},pv=function(e){return uv(e,function(e){return e-e%100})},hv=function(e){return uv(e,function(e){return e-e%100+90})},mv=function(e){return uv(e,function(e){return e-e%10})},fv=function(e,t){return(pv(t).getFullYear()-pv(e).getFullYear())/100},gv=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down",e[e.PrevView=4]="PrevView",e[e.NextView=5]="NextView",e[e.FirstInView=6]="FirstInView",e[e.LastInView=7]="LastInView",e[e.LowerView=8]="LowerView",e[e.UpperView=9]="UpperView",e))(gv||{});const vv=[[]],yv={[gv.Left]:e=>cv(e,-1),[gv.Up]:e=>cv(e,-5),[gv.Right]:e=>cv(e,1),[gv.Down]:e=>cv(e,5),[gv.PrevView]:e=>dv(e,-1),[gv.NextView]:e=>dv(e,1),[gv.FirstInView]:e=>pv(e),[gv.LastInView]:e=>hv(e)};var xv=function(e){return uv(e,function(e){return e-e%10+9})},bv=function(e,t){return(mv(t).getFullYear()-mv(e).getFullYear())/10};const wv=[[]],kv={[gv.Left]:e=>lv(e,-1),[gv.Up]:e=>lv(e,-5),[gv.Right]:e=>lv(e,1),[gv.Down]:e=>lv(e,5),[gv.PrevView]:e=>cv(e,-1),[gv.NextView]:e=>cv(e,1),[gv.FirstInView]:e=>mv(e),[gv.LastInView]:e=>xv(e)};var Cv=function(e,t){return wm(e,7*t)},Sv=function(e){return om(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},Iv=function(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())};const Ev=[[]],jv={[gv.Left]:e=>wm(e,-1),[gv.Up]:e=>Cv(e,-1),[gv.Right]:e=>wm(e,1),[gv.Down]:e=>Cv(e,1),[gv.PrevView]:e=>Cm(e,-1),[gv.NextView]:e=>Cm(e,1),[gv.FirstInView]:e=>Sv(e),[gv.LastInView]:e=>km(e)};var Av=function(e,t){var n=e.getDate(),o=om(e.getFullYear(),t,n,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return o.getDate()===n?o:km(Cm(o,-1))},_v=function(e){return Av(e,0)},Dv=function(e){return Av(e,11)},Nv=function(e,t){return t.getFullYear()-e.getFullYear()};const Tv=[[]],Pv={[gv.Left]:e=>Cm(e,-1),[gv.Up]:e=>Cm(e,(e=>e>4?-5:e<2?-2:-7)(e.getMonth())),[gv.Right]:e=>Cm(e,1),[gv.Down]:e=>Cm(e,(e=>e<7?5:e<10?7:2)(e.getMonth())),[gv.PrevView]:e=>lv(e,-1),[gv.NextView]:e=>lv(e,1),[gv.FirstInView]:e=>_v(e),[gv.LastInView]:e=>Dv(e)};const Mv={[Ug.month]:class{constructor(e){this.intl=e}addToDate(e,t){return Cm(e,t)}datesList(e,t){return Ff(0,t).map(t=>Cm(e,t))}data(e){const{cellUID:t,focusedDate:n,isActiveView:o,max:i,min:r,selectedDate:a,selectionRange:s=Ef,viewDate:l}=e;if(!l)return Ev;const c=Sv(l),d=km(l),u=Og(c,this.intl.firstDay(),-1),p=Ff(0,7),h=Of();return Ff(0,6).map(e=>{const l=wm(u,7*e);return p.map(e=>{const u=this.normalize(wm(l,e),r,i),p=u<c||u>d,m=this.isEqual(u,s.start),f=this.isEqual(u,s.end),g=!m&&!f&&Lf(u,s),v=o&&(Array.isArray(a)?this.isSelectedFromArray(u,a,r,i):Rf(a,r,i)&&this.isEqual(u,a));return{formattedValue:this.value(u),id:"".concat(t).concat(u.getTime()),isFocused:this.isEqual(u,n),isSelected:v,isInRange:Rf(u,r,i),isWeekend:this.isWeekend(u),isRangeStart:m,isRangeMid:g,isRangeEnd:f,isRangeSplitStart:g&&this.isEqual(u,c),isRangeSplitEnd:g&&this.isEqual(u,d),isToday:this.isEqual(u,h),title:this.cellTitle(u),value:u,isOtherMonth:p}})})}isEqual(e,t){return!(!e||!t)&&im(e).getTime()===im(t).getTime()}isSelectedFromArray(e,t,n,o){let i=!1;return t.forEach(t=>{Rf(e,n,o)&&this.isEqual(e,t)&&(i=!0)}),i}isInArray(e,t){return!!t.length&&Sv(t[0])<=e&&e<=km(t[t.length-1])}isInRange(e,t,n){const o=im(e),i=!t||im(t)<=o,r=!n||o<=im(n);return i&&r}isInSameView(e,t){return 0===Iv(e,t)}isRangeStart(e){return!e.getMonth()}move(e,t){const n=jv[t];return n?n(e):e}cellTitle(e){return this.intl.formatDate(e,"D")}navigationTitle(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}title(e){return"".concat(this.wideMonthNames()[e.getMonth()]," ").concat(e.getFullYear())}rowLength(e){return 7+(e?1:0)}skip(e,t){return Iv(t,e)}total(e,t){return Iv(e,t)+1}value(e){return e?e.getDate().toString():""}viewDate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Iv(e,t)<n?Cm(e,-1):e}isWeekend(e){const t=e.getDay();return 6===t||0===t}abbrMonthNames(){return this.intl.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,n){return e<t&&this.isEqual(e,t)?im(t):e>n&&this.isEqual(e,n)?im(n):e}wideMonthNames(){return this.intl.dateFormatNames({nameType:"wide",type:"months",standAlone:!0})}},[Ug.year]:class{constructor(e){this._intl=e}addToDate(e,t){return lv(e,t)}datesList(e,t){return Ff(0,t).map(t=>lv(e,t))}data(e){const{cellUID:t,focusedDate:n,isActiveView:o,max:i,min:r,selectedDate:a,selectionRange:s=Ef,viewDate:l}=e;if(!l)return Tv;const c=this.abbrMonthNames(),d=_v(l),u=Dv(l),p=d.getFullYear(),h=Ff(0,4),m=Of();return Ff(0,3).map(e=>{const l=Cm(d,4*e);return h.map(e=>{const h=this.normalize(Cm(l,e),r,i);if(p<h.getFullYear())return null;const f=this.isEqual(h,s.start),g=this.isEqual(h,s.end),v=!f&&!g&&Lf(h,s),y=o&&(Array.isArray(a)?this.isSelectedFromArray(h,a,r,i):Rf(a,r,i)&&this.isEqual(h,a));return{formattedValue:c[h.getMonth()],id:"".concat(t).concat(h.getTime()),isFocused:this.isEqual(h,n),isSelected:y,isInRange:Rf(h,r,i),isWeekend:!1,isRangeStart:f,isRangeMid:v,isRangeEnd:g,isRangeSplitEnd:v&&this.isEqual(h,u),isRangeSplitStart:v&&this.isEqual(h,d),isToday:this.isEqual(h,m),title:this.cellTitle(h),value:h}})})}isSelectedFromArray(e,t,n,o){let i=!1;return t.forEach(t=>{Rf(e,n,o)&&this.isEqual(e,t)&&(i=!0)}),i}isEqual(e,t){return!(!e||!t)&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth())}isInArray(e,t){if(!t.length)return!1;const n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()}isInRange(e,t,n){const o=om(e.getFullYear(),e.getMonth(),1),i=!t||om(t.getFullYear(),t.getMonth(),1)<=o,r=!n||o<=om(n.getFullYear(),n.getMonth(),1);return i&&r}isInSameView(e,t){return 0===Nv(e,t)}isRangeStart(e){return e.getFullYear()%10===0}move(e,t){const n=Pv[t];return n?n(e):e}cellTitle(e){return"".concat(e.getFullYear()," ").concat(this.value(e))}navigationTitle(e){return this.title(e)}title(e){return e?e.getFullYear().toString():""}rowLength(e){return 4}skip(e,t){return Nv(t,e)}total(e,t){return Nv(e,t)+1}value(e){return e?this.abbrMonthNames()[e.getMonth()]:""}viewDate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Nv(e,t)<n?lv(e,-1):e}abbrMonthNames(){return this._intl.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,n){return e<t&&this.isEqual(e,t)?tm(t):e>n&&this.isEqual(e,n)?tm(n):e}},[Ug.decade]:class{addToDate(e,t){return cv(e,t)}datesList(e,t){return Ff(0,t).map(t=>cv(e,t))}data(e){const{cellUID:t,focusedDate:n,isActiveView:o,max:i,min:r,selectedDate:a,selectionRange:s=Ef,viewDate:l}=e;if(!l)return wv;const c=Ff(0,4),d=mv(l),u=xv(l),p=Of();return Ff(0,3).map(e=>{const l=lv(d,4*e);return c.map(e=>{const c=this.normalize(lv(l,e),r,i),h=this.isEqual(c,s.start),m=this.isEqual(c,s.end),f=!h&&!m&&Lf(c,s),g=o&&(Array.isArray(a)?this.isSelectedFromArray(c,a,r,i):Rf(a,r,i)&&this.isEqual(c,a));return zf(c,d,u)?{formattedValue:this.value(c),id:"".concat(t).concat(c.getTime()),isFocused:this.isEqual(c,n),isSelected:g,isWeekend:!1,isInRange:Rf(c,r,i),isRangeStart:h,isRangeMid:f,isRangeEnd:m,isRangeSplitEnd:f&&this.isEqual(c,u),isRangeSplitStart:f&&this.isEqual(c,d),isToday:this.isEqual(c,p),title:this.cellTitle(c),value:c}:null})})}isSelectedFromArray(e,t,n,o){let i=!1;return t.forEach(t=>{Rf(e,n,o)&&this.isEqual(e,t)&&(i=!0)}),i}isEqual(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()}isInArray(e,t){if(!t.length)return!1;const n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+9}isInRange(e,t,n){const o=e.getFullYear(),i=!t||t.getFullYear()<=o,r=!n||o<=n.getFullYear();return i&&r}isRangeStart(e){return e.getFullYear()%100===0}isInSameView(e,t){return 0===bv(e,t)}move(e,t){const n=kv[t];return n?n(e):e}cellTitle(e){return e.getFullYear().toString()}navigationTitle(e){return e?mv(e).getFullYear().toString():""}title(e){return e?"".concat(mv(e).getFullYear()," - ").concat(xv(e).getFullYear()):""}rowLength(e){return 4}skip(e,t){return bv(t,e)}total(e,t){return bv(e,t)+1}value(e){return e?e.getFullYear().toString():""}viewDate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return bv(e,t)<n?cv(e,-1):e}normalize(e,t,n){return e<t&&this.isEqual(e,t)?tm(t):e>n&&this.isEqual(e,n)?tm(n):e}},[Ug.century]:class{addToDate(e,t){return dv(e,t)}datesList(e,t){return Ff(0,t).map(t=>dv(e,t))}data(e){const{cellUID:t,focusedDate:n,isActiveView:o,max:i,min:r,selectedDate:a,selectionRange:s=Ef,viewDate:l}=e;if(!l)return vv;const c=Ff(0,4),d=pv(l),u=hv(l),p=Of();return Ff(0,3).map(e=>{const l=cv(d,4*e);return c.map(e=>{const c=this.normalize(cv(l,e),r,i),h=this.isEqual(c,s.start),m=this.isEqual(c,s.end),f=!h&&!m&&Lf(c,s),g=o&&(Array.isArray(a)?this.isSelectedFromArray(c,a,r,i):Rf(a,r,i)&&this.isEqual(c,a));return zf(c,d,u)?{formattedValue:this.value(c),id:"".concat(t).concat(c.getTime()),isFocused:this.isEqual(c,n),isSelected:g,isWeekend:!1,isInRange:Rf(c,r,i),isRangeStart:h,isRangeMid:f,isRangeEnd:m,isRangeSplitEnd:f&&this.isEqual(c,u),isRangeSplitStart:f&&this.isEqual(c,d),isToday:this.isEqual(c,p),title:this.cellTitle(c),value:c}:null})})}isSelectedFromArray(e,t,n,o){let i=!1;return t.forEach(t=>{Rf(e,n,o)&&this.isEqual(e,t)&&(i=!0)}),i}isEqual(e,t){return!(!e||!t)&&mv(e).getFullYear()===mv(t).getFullYear()}isInArray(e,t){if(!t.length)return!1;const n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+99}isInRange(e,t,n){const o=mv(e).getFullYear(),i=!t||mv(t).getFullYear()<=o,r=!n||o<=mv(n).getFullYear();return i&&r}isInSameView(e,t){return 0===fv(e,t)}isRangeStart(e){return e.getFullYear()%1e3===0}move(e,t){const n=yv[t];return n?n(e):e}cellTitle(e){return mv(e).getFullYear().toString()}navigationTitle(e){return e?pv(e).getFullYear().toString():""}title(e){return e?"".concat(pv(e).getFullYear()," - ").concat(hv(e).getFullYear()):""}rowLength(e){return 4}skip(e,t){return fv(t,e)}total(e,t){return fv(e,t)+1}value(e){return e?mv(e).getFullYear().toString():""}viewDate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return fv(e,t)<n?dv(e,-1):e}normalize(e,t,n){return e<t&&this.isEqual(e,t)?tm(t):e>n&&this.isEqual(e,n)?tm(n):e}}};class Ov{constructor(e){this.bottom=Ug.month,this.top=Ug.century,this.onViewChanged=e}configure(e,t){this.bottom=e,this.top=t}service(e,t){return new(Mv["".concat(e)])(t)}moveDown(e,t){this.move(e,-1,t)}moveUp(e,t){this.move(e,1,t)}moveToBottom(e){e!==this.bottom&&this.onViewChanged({view:this.bottom})}canMoveDown(e){return this.bottom<e}canMoveUp(e){return e<this.top}clamp(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}move(e,t,n){const o=this.clamp(((e,t)=>{const n=Ug[Ug[e+t]];return void 0!==n?n:e})(e,t));o!==e&&this.onViewChanged({view:o},n)}}class Rv{constructor(){this.calendarHeight=0,this.headerHeight=0,this.monthViewHeight=0,this.yearViewHeight=0,this.decadeViewHeight=0,this.centuryViewHeight=0,this.navigationItemHeight=0,this.scrollableContentHeight=0,this.scrollableYearContentHeight=0,this.calendarWidth=0,this.monthViewWidth=0,this.yearViewWidth=0,this.decadeViewWidth=0,this.centuryViewWidth=0,this.scrollableContentWidth=0,this.didCalculate=!1,this.hostContainer=null}ensureHeights(){void 0===this.calendarHeight&&this.calculateHeights()}calculateHeights(e,t){if(!Lo)return;const n=Vf("div"),o=Vf("ul"),i=Vf("li"),r=Vf("td"),a=Vf("th"),s=Vf("tr"),l=Vf("tbody"),c=Vf("thead"),d=Vf("table"),u=t&&t.uCalendar,p=t&&t.uButton,h=an(Jn({c:p,fillMode:"flat",size:"medium",rounded:"medium",themeColor:"primary"}),dm.title({c:u})),m=()=>n('\n                <span class="'.concat(h,'">\n                    <span class="').concat(an(Qn({c:p})),'">March 2017</span>\n                </span>\n                <span class="').concat(an(dm.spacer({c:u})),'"></span>\n                <span class="').concat(an(dm.nav({c:u})),'"><button class="').concat(an(dm.today({c:u})),'">TODAY</button></span>\n            '),an(dm.header({c:u,vertical:!0}))),f=(e,t)=>new Array(e).fill("1").map(t),g=e=>n(e,an(dm.scrollableSelector({c:u}),dm.scrollable({c:u,horizontal:!0}))),v=(()=>{let e;return()=>Lo?(e||(e=n([g([o([i("<span>FEB</span>")])])],an(dm.navigation({c:u})),{left:"0px",position:"absolute"})),e):null})(),y=(e,t,o)=>{let i,{cells:p,rows:h}=e;return()=>Lo?(i||(i=((e,t,o)=>n(o?[m(),d([c([s([a("MO",an(dm.th({c:u})))],an(dm.tr({c:u})))],an(dm.thead({c:u})))],an(dm.table({c:u,weekdays:!0}))),g([e,e])]:[m(),g([e,e])],t,{left:"-10000px",position:"absolute"}))(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return d([l([s([r("1",an(dm.td({c:u,isWeek:!0})))])].concat(f(e,()=>s(f(t,e=>r('<span class="'.concat(an(dm.link({c:u})),'">').concat(e,"</span>"),an(dm.td({c:u})))),an(dm.tr({c:u}))))),an(dm.tbody({c:u})))],an(dm.table({c:u})))}(h,p),t,o)),i):null},x=e=>e.querySelector(".".concat(an(dm.scrollableSelector({c:u})))),b=e=>{const t=x(e);return t.className="".concat(t.className," scrollable-horizontal"),e},w=y({cells:7,rows:6},an(dm.view({c:u,month:!0})),!0),k=y({cells:5,rows:3},an(dm.view({c:u,year:!0})),!1),C=y({cells:5,rows:2},an(dm.view({c:u,decade:!0})),!1),S=e=>parseFloat(window.getComputedStyle(e).height)||e.offsetHeight,I=e=>{const t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)||e.offsetWidth},E=e=>e.querySelector("tbody");this.didCalculate=!0,e&&(this.hostContainer=e),this.batch(w(),e=>{const t=E(e);this.calendarHeight=S(e),this.monthViewHeight=S(t),this.headerHeight=S(t.children[0]),this.scrollableContentHeight=S(x(e))}),this.batch(b(w()),e=>{const t=E(e);this.calendarWidth=I(e),this.monthViewWidth=I(t),this.scrollableContentWidth=I(x(e))}),this.batch(k(),e=>{this.yearViewHeight=S(E(e)),this.scrollableYearContentHeight=S(x(e))}),this.batch(b(k()),e=>{this.yearViewWidth=I(E(e))}),this.batch(C(),e=>{this.decadeViewHeight=S(E(e)),this.centuryViewHeight=this.decadeViewHeight}),this.batch(b(C()),e=>{this.decadeViewWidth=I(E(e)),this.centuryViewWidth=this.decadeViewWidth}),this.batch(v(),e=>{this.navigationItemHeight=S(e.querySelector("li"))})}viewHeight(e){return this.viewDimension(e,"height")}viewWidth(e){return this.viewDimension(e,"width")}viewDimension(e,t){const n="height"===t?"ViewHeight":"ViewWidth";switch(e){case Ug.month:return this["month".concat(n)];case Ug.year:return this["year".concat(n)];case Ug.decade:return this["decade".concat(n)];case Ug.century:return this["century".concat(n)];default:return 1}}batch(e,t){const n=this.hostContainer||document.body,o=n.appendChild(e);t(o),n.removeChild(o)}}const Lv={33:gv.PrevView,34:gv.NextView,35:gv.LastInView,36:gv.FirstInView,37:gv.Left,38:gv.Up,39:gv.Right,40:gv.Down,"meta+38":gv.UpperView,"meta+40":gv.LowerView};class Fv{constructor(e){this.bus=e}action(e){const t="".concat(e.ctrlKey||e.metaKey?"meta+":"").concat(e.keyCode);return Lv[t]}move(e,t,n,o,i){return o?t===gv.UpperView&&this.bus.canMoveUp(n)?(this.bus.moveUp(n,i),e):t===gv.LowerView&&this.bus.canMoveDown(n)?(this.bus.moveDown(n,i),e):o.move(e,t):e}}class zv{constructor(e){this.dom=e,this.divideByMagnitude=null,this.powerByMagnitude=null,this.navigator=null,this.view=null,this.monthScrolled=!1,this.navScrolled=!1}configure(e){const t=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=(e=>t=>Math.floor(t/e))(t),this.powerByMagnitude=(e=>t=>t*e)(t)}sync(e,t,n){if(e&&t){if(this.navigator=e,this.view=t,n.target===this.navigator.element){if(this.monthScrolled)return void(this.monthScrolled=!1);this.navScrolled=!0,this.scrollSiblingOf(this.navigator.element)}if(n.target===this.view.element){if(this.navScrolled)return void(this.navScrolled=!1);this.monthScrolled=!0,this.scrollSiblingOf(this.view.element)}}}scrollSiblingOf(e){const t=this.siblingComponent(e),n=this.calculateScroll(t,e.scrollTop);t.scrollTo(n)}siblingComponent(e){return this.navigator.element===e?this.view:this.navigator}calculateScroll(e,t){const n=e===this.navigator?this.divideByMagnitude:this.powerByMagnitude;return n?n(t):0}}const Bv=e=>e?e.virtualization:null,Vv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qv.defaultProps.min,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qv.defaultProps.max,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return void 0!==o?null!==o&&Rf(im(o),e,t)?o:null:null!==n&&Rf(im(n),e,t)?n:null},Hv=class e extends o.Component{constructor(t){super(t),this.scrollSyncService=null,this.focusedDate=null,this.Navigation=null,this.calendarViewList=null,this._element=null,this.intl=null,this.service=null,this.isActive=!1,this.didNavigationChange=!1,this.focus=()=>{this._element&&this._element.focus()},this.shouldScroll=()=>this.didNavigationChange,this.handleScroll=e=>{this.scrollSyncService&&this.scrollSyncService.sync(Bv(this.Navigation),Bv(this.calendarViewList),e)},this.handleNavigationChange=e=>{if(this.props.disabled)return;this.didNavigationChange=!0;const t=tm(e.value);this.setState({focusedDate:t})},this.handleViewChange=e=>{let{view:t}=e;this.scrollSyncService&&this.scrollSyncService.configure(t),this.setState({activeView:t})},this.handleDateChange=e=>{const t=tm(e.value),n=tm(e.value),o=this.bus.canMoveDown(this.state.activeView);if(this.props.disabled)return;if(o){if(!e.isTodayClick)return this.bus.moveDown(this.state.activeView,e.syntheticEvent),void this.setState({focusedDate:n});this.bus.moveToBottom(this.state.activeView)}this.setState({value:t,focusedDate:n}),this.valueDuringOnChange=t;const{onChange:i}=this.props;if(i){const n={syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,value:t,target:this};i.call(void 0,n)}this.valueDuringOnChange=void 0},this.handleFocus=e=>{if(this.isActive=!0,!this.calendarViewList)return;this.calendarViewList.focusActiveDate();const{onFocus:t}=this.props;t&&t.call(void 0,e)},this.handleBlur=e=>{if(this.isActive=!1,!this.calendarViewList)return;this.calendarViewList.blurActiveDate();const{onBlur:t}=this.props;t&&t.call(void 0,e)},this.handleKeyDown=e=>{const{keyCode:t,ctrlKey:n,metaKey:o}=e;if(this.focusedDate&&this.service){if(84===t&&this.setState({focusedDate:Of()}),(n||o)&&(t===Lt||t===zt)){if(this.props.disabled)return;this.didNavigationChange=!0,31===this.focusedDate.getDate()&&this.focusedDate.setDate(30);const e=t===Lt?this.focusedDate.getMonth()-1:this.focusedDate.getMonth()+1,n=new Date(this.focusedDate.setMonth(e)),o=tm(n);this.setState({focusedDate:o})}if(t===Dt){if(null!==this.value&&Cg(this.focusedDate,this.value)){const e=Bf(this.focusedDate,this.min,this.max);Bv(this.calendarViewList).scrollToIndex(this.service.skip(e,this.min))}const t={syntheticEvent:e,nativeEvent:e.nativeEvent,value:this.focusedDate,target:this};this.handleDateChange(t)}else{const t=Bf(this.navigation.move(this.focusedDate,this.navigation.action(e),this.state.activeView,this.service,e),this.min,this.max);if(Cg(this.focusedDate,t))return;this.setState({focusedDate:t})}e.preventDefault()}},this.handleMouseDown=e=>{e.preventDefault()},this.handleClick=e=>{this._element&&this._element.focus({preventScroll:!0})};const n=Vv(this.min,this.max,this.props.defaultValue||e.defaultProps.defaultValue,this.props.value);this.state={value:n,activeView:Af(Ug[t.defaultActiveView],this.bottomView,this.topView),focusedDate:Bf(t.focusedDate||n||Of(),this.min,this.max)},this.dom=new Rv,this.bus=new Ov(this.handleViewChange),this.navigation=new Fv(this.bus),this.oldValue=n}get cellUID(){return this.props.id+"-cell-uid"}get id(){return this.props.id+"-id"}get element(){return this._element}get value(){return void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value}get min(){return im(void 0!==this.props.min?this.props.min:e.defaultProps.min)}get max(){return im(void 0!==this.props.max?this.props.max:e.defaultProps.max)}get bottomView(){return Ug[void 0!==this.props.bottomView?this.props.bottomView:e.defaultProps.bottomView]}get topView(){return Ug[void 0!==this.props.topView?this.props.topView:e.defaultProps.topView]}componentDidMount(){const{unstyled:e}=this.props;Promise.resolve().then(()=>{kg(),this._element&&(this.dom.calculateHeights(this._element,e),this.scrollSyncService=new zv(this.dom),this.scrollSyncService.configure(this.state.activeView),this.forceUpdate())})}componentDidUpdate(e,t){kg(),t.activeView!==this.state.activeView&&this.scrollSyncService&&this.scrollSyncService.configure(this.state.activeView),this.calendarViewList&&(this.isActive?this.calendarViewList.focusActiveDate:this.calendarViewList.blurActiveDate)(),this.didNavigationChange=!1,this.isActive&&(this.oldValue=this.value)}render(){const{_ref:t,unstyled:n,bottomView:i,topView:r,disabled:a,weekNumber:s,mobileMode:l,className:c}=this.props;t&&t(this);const d=n&&n.uCalendar,u=null!==this.value&&null!==this.oldValue?!Cg(this.value,this.oldValue):this.value!==this.oldValue,p=Af(this.state.activeView,Ug[void 0!==i?i:e.defaultProps.bottomView],Ug[void 0!==r?r:e.defaultProps.topView]),h=Vv(this.min,this.max,this.value,this.value),m=h?im(h):null;this.focusedDate=im(Bf(u&&null!==h?h:this.state.focusedDate,this.min,this.max)),this.intl=qh(this),this.bus.configure(this.bottomView,this.topView),this.service=this.bus.service(p,this.intl);const{smoothScroll:f=Number.parseFloat(o.version)<18}=this.props,g=rn(dm.wrapper({c:d,disabled:a,weekNumber:s,mobileMode:l}),c),v=[this.props.navigation&&o.createElement(av,{key:0,ref:e=>{this.Navigation=e},activeView:this.state.activeView,focusedDate:this.focusedDate,min:this.min,max:this.max,onScroll:this.handleScroll,onChange:this.handleNavigationChange,service:this.service,dom:this.dom,navigationItem:this.props.navigationItem,tabIndex:this.props.tabIndex,unstyled:n}),o.createElement(nv,{key:1,ref:e=>{this.calendarViewList=e},activeView:this.state.activeView,focusedDate:this.focusedDate,min:this.min,max:this.max,bus:this.bus,shouldScroll:this.shouldScroll,onScroll:this.handleScroll,service:this.service,cell:this.props.cell,weekCell:this.props.weekCell,dom:this.dom,smoothScroll:f,showWeekNumbers:this.props.weekNumber,onChange:this.handleDateChange,value:m,cellUID:this.cellUID,headerTitle:this.props.headerTitle,header:this.props.header,tabIndex:this.props.tabIndex,weekDaysFormat:this.props.weekDaysFormat,showOtherMonthDays:this.props.showOtherMonthDays,unstyled:n})];return o.createElement("div",{ref:e=>{this._element=e},className:g,id:this.props.id||this.id,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,"aria-disabled":this.props.disabled,tabIndex:this.props.disabled?void 0:this.props.tabIndex||0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onClick:this.handleClick},v)}};Hv.displayName="Calendar",Hv.propTypes={className:jt.string,defaultActiveView:jt.oneOf(["month","year","decade","century"]),defaultValue:jt.instanceOf(Date),disabled:jt.bool,focusedDate:jt.instanceOf(Date),id:jt.string,ariaLabelledBy:jt.string,ariaDescribedBy:jt.string,weekDaysFormat:jt.oneOf(["short","abbreviated","narrow"]),max:jt.instanceOf(Date),min:jt.instanceOf(Date),navigation:jt.bool,smoothScroll:jt.bool,onBlur:jt.func,onChange:jt.func,onFocus:jt.func,tabIndex:jt.number,value:jt.instanceOf(Date),weekNumber:jt.bool,topView:(e,t,n)=>{const o=e[t],i=e.bottomView;return o&&i&&Ug[o]<Ug[i]?new Error("Invalid prop + ".concat(t," suplied to ").concat(n,".\n                    ").concat(t," can not be smaller than bottomView.\n                    ")):null},bottomView:(e,t,n)=>{const o=e[t],i=e.topView;return o&&i&&Ug[o]>Ug[i]?new Error("Invalid prop + ".concat(t," suplied to ").concat(n,".\n                    ").concat(t," can not be bigger than topView.\n                    ")):null}},Hv.defaultProps={disabled:!1,min:Df,max:Nf,weekDaysFormat:"short",navigation:!0,defaultActiveView:"month",defaultValue:null,topView:"century",bottomView:"month",showOtherMonthDays:!1};let qv=Hv;const Uv=sa(Aa(ja(),(e=>o.forwardRef((t,n)=>{const i=po();return o.createElement(e,p(p({},t),{},{ref:n,unstyled:i}))}))(qv)));Uv.displayName="KendoReactCalendar",Gh(qv);const Gv=bo,Wv=o.forwardRef((e,t)=>{const{_ref:n}=e,i=o.useRef(null);o.useImperativeHandle(t,()=>i.current),o.useImperativeHandle(n,()=>i.current);const r=o.useMemo(()=>rn(e.className,"k-picker-wrap"),[e.className]);return o.createElement("span",{ref:i,id:e.id,style:e.style,className:r,tabIndex:e.tabIndex},e.children)}),Kv=["dateInput"],Yv=e=>{const{dateInput:t}=e,n=s(e,Kv),i=(e=>{const[t,n]=o.useState(!1);return o.useEffect(()=>{var t;e.current&&n(!!(null!=(t=e.current.element)&&t.value||e.current.text))}),{editorValue:t}})(t);return o.createElement(Rc,p(p({},n),i))},Xv=e=>{const{footer:t,windowWidth:n=0,mobileFilter:i,children:r,navigatable:a,navigatableElements:s,expand:l,animation:c,title:d,subTitle:u,onClose:h}=e,m=Fu(),f={navigatable:a||!1,navigatableElements:s||[],expand:l,animation:!1!==c,suffixActions:o.createElement(bo,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",icon:"x",svgIcon:rd,onClick:h}),filter:i,onClose:h,animationStyles:m&&n<=m.small?{top:0,width:"100%",height:"100%"}:void 0,title:d,subTitle:u,className:"k-adaptive-actionsheet",position:m&&n<=m.small?"fullscreen":void 0};return o.createElement(kh,p({},f),r,t&&o.createElement(xh,{className:"k-actions k-actions-stretched"},o.createElement(bo,{size:"large",tabIndex:0,"aria-label":t.cancelText,"aria-disabled":"false",type:"button",onClick:t.onCancel},t.cancelText),o.createElement(bo,{tabIndex:0,themeColor:"primary",size:"large","aria-label":t.applyText,"aria-disabled":"false",type:"button",onClick:t.onApply},t.applyText)))},Jv=["defaultShow","defaultValue","dateInput","calendar","toggleButton","popup","pickerWrap","disabled","format","max","min","popupSettings","tabIndex","weekNumber","validityStyles","size","rounded","fillMode","autoFocus","show","autoSwitchParts","autoSwitchKeys","twoDigitYearMax","ariaLabel","adaptive","formatPlaceholder","adaptiveTitle","inputAttributes","validationMessage","visited","value","touched","modified","_adaptiveMode","valid","focusedDate","id","ariaLabelledBy"],Qv=["popupClass"],Zv=o.forwardRef((e,t)=>{const n=on(e.id),i=Tc(),r=Fu(),a=Ea(ey,e),{defaultShow:l=$v.defaultShow,defaultValue:c=$v.defaultValue,dateInput:d=$v.dateInput,calendar:u=$v.calendar,toggleButton:h=$v.toggleButton,popup:m=$v.popup,pickerWrap:f=$v.pickerWrap,disabled:g=$v.disabled,format:v=$v.format,max:y=$v.max,min:x=$v.min,popupSettings:b=$v.popupSettings,tabIndex:w=$v.tabIndex,weekNumber:k=$v.weekNumber,validityStyles:C=$v.validityStyles,size:S=$v.size,rounded:I=$v.rounded,fillMode:E=$v.fillMode,autoFocus:j=$v.autoFocus,show:A,autoSwitchParts:_,autoSwitchKeys:D,twoDigitYearMax:N,ariaLabel:T,adaptive:P,formatPlaceholder:M,adaptiveTitle:O,inputAttributes:R,validationMessage:L,visited:F,value:z,touched:B,modified:V,_adaptiveMode:H=r,valid:q,focusedDate:U,id:G,ariaLabelledBy:W}=a,K=s(a,Jv),Y=()=>{if(Lo)return he.current&&he.current.ownerDocument||window.document},X=()=>!!(ke.windowWidth&&r&&ke.windowWidth<=(null==r?void 0:r.medium)&&e.adaptive),J=()=>{const e=void 0!==ge.current?ge.current:void 0!==z?z:ke.value;return null!==e?tm(e):null},Q=()=>void 0!==ve.current?ve.current:void 0!==A?A:ke.show,Z=()=>void 0!==e.required&&e.required,$=()=>{const e=J()||z||null,t=x,n=y,o=((e,t,n)=>null===e||!(t&&im(t)>im(e)||n&&im(n)<im(e)))(e,t,n),i=void 0!==L,r=(!Z()||null!=e)&&o,a=void 0!==q?q:r;return{customError:i,rangeOverflow:e&&n.getTime()<e.getTime()||!1,rangeUnderflow:e&&e.getTime()<t.getTime()||!1,valid:a,valueMissing:null===e}},ee=()=>{me.current&&me.current.focus()},te=e=>{fe.current=e},ne=t=>{Q()!==t&&(Ie({show:t}),t&&e.onOpen&&e.onOpen.call(void 0,{target:pe.current}),!t&&e.onClose&&e.onClose.call(void 0,{target:pe.current}))},oe=e=>{null!=b&&b.onMouseDownOutside&&b.onMouseDownOutside.call(void 0,e)},ie=(t,n)=>{Ie({value:tm(t||void 0)}),ge.current=t,ve.current=!1,X()||(xe.current=!0),e.onChange&&e.onChange.call(void 0,{syntheticEvent:n.syntheticEvent,nativeEvent:n.nativeEvent,value:J(),show:Q(),target:pe.current}),ge.current=void 0,ve.current=void 0,ne(!1)},re=e=>{const t=(e=>{const t=J();return t&&e?Mf(e,t):e})(e.value);ie(t,e)},ae=()=>{const{popupClass:e}=b,t=s(b,Qv),n=Q(),i=J(),r=i&&im(i),a=rn(e),l=p(p({popupClass:"k-datepicker-popup",show:n,anchor:he.current,className:a,id:Ee,anchorAlign:{horizontal:"left",vertical:"bottom"},popupAlign:{horizontal:"left",vertical:"top"}},t),{},{onMouseDownOutside:oe}),c={disabled:g,value:r,min:x,max:y,weekNumber:k,focusedDate:U,className:X()?"k-calendar-lg":"",navigation:!X(),onChange:re},d=u||$v.calendar,h=m||$v.popup;return X()?o.createElement(d,p({_ref:te},c)):o.createElement(h,p({},l),o.createElement(d,p({_ref:te},c)))},se=()=>{Ie({focused:!1}),ne(!1)},le=()=>{ne(!Q())},ce=()=>{g||(xe.current=!0,ne(!Q()))},de=e=>{e.preventDefault()},ue=e=>{const{altKey:t,keyCode:n}=e;if(n===Nt&&Q())return xe.current=!0,void ne(!1);t&&(n===Ft||n===Bt)&&(e.preventDefault(),e.stopPropagation(),xe.current=n===Ft,ne(n===Bt))},pe=o.useRef(null),he=o.useRef(null),me=o.useRef(null),fe=o.useRef(null);o.useImperativeHandle(pe,()=>({props:e,get element(){return he.current},get calendar(){return fe.current},get dateInput(){return me.current},get name(){return e.name},get show(){return Q()},get validity(){return $()},get value(){return J()},get mobileMode(){return X()},togglePopup:le,focus:ee})),o.useImperativeHandle(t,()=>pe.current);const ge=o.useRef(void 0),ve=o.useRef(void 0),ye=o.useRef(null),xe=o.useRef(!1),be=o.useRef(!1),we=o.useRef(null),[ke,Ce]=o.useState({value:c,show:l,focused:!1}),[,Se]=o.useReducer(e=>e,!0),Ie=e=>{Ce(t=>p(p({},t),e))};o.useEffect(()=>{fe.current&&fe.current.element&&Q()&&!be.current&&fe.current.element.focus({preventScroll:!0}),me.current&&me.current.element&&!Q()&&xe.current&&me.current.element.focus({preventScroll:!0}),be.current=Q(),xe.current=!1}),o.useEffect(()=>{var e;return we.current=Lo&&window.ResizeObserver&&new window.ResizeObserver(e=>(e=>{for(const t of e)Ie({windowWidth:t.target.clientWidth})})(e)),Q()&&Se(),null!=(e=Y())&&e.body&&we.current&&we.current.observe(Y().body),()=>{var e;clearTimeout(ye.current),null!=(e=Y())&&e.body&&we.current&&we.current.disconnect()}},[]);const Ee=n+"-popup-id",je=ae(),Ae=d||$v.dateInput,_e=J(),De=h||$v.toggleButton,Ne=(()=>{const{windowWidth:e=0}=ke,t={expand:Q(),onClose:se,adaptiveTitle:O,windowWidth:e},n=ae();return o.createElement(Xv,p({},t),o.createElement(wh,null,n))})(),Te=!C||$().valid,Pe=i.toLanguageString(Yf,pg[Yf]),Me={disabled:g,format:v,formatPlaceholder:M,id:G,ariaLabelledBy:W,ariaDescribedBy:e.ariaDescribedBy,ariaLabel:T,max:y,min:x,name:e.name,onChange:e=>{ie(e.value,e)},required:e.required,_ref:me,tabIndex:Q()?-1:w,title:e.title,valid:$().valid,validationMessage:L,validityStyles:C,value:_e,label:void 0,placeholder:ke.focused?null:e.placeholder,ariaExpanded:Q(),size:null,fillMode:null,rounded:null,autoFill:e.autoFill,twoDigitYearMax:N,enableMouseWheel:e.enableMouseWheel,autoCorrectParts:e.autoCorrectParts,autoSwitchParts:_,autoSwitchKeys:D,allowCaretMode:e.allowCaretMode,inputAttributes:R},Oe=o.createElement(rm,{onFocus:()=>{Ie({focused:!0})},onBlur:X()?void 0:se,onSyncBlur:e.onBlur,onSyncFocus:e.onFocus},t=>o.createElement(o.Fragment,null,o.createElement("span",p(p({},e.label?{}:K),{},{ref:he,className:rn("k-input","k-datepicker",{["k-input-".concat(Co.sizeMap[S]||S)]:S,["k-rounded-".concat(Co.roundedMap[I]||I)]:I,["k-input-".concat(E)]:E,"k-invalid":!Te,"k-required":Z(),"k-disabled":g},e.className),onKeyDown:ue,style:{width:e.width},onFocus:t.onFocus,onBlur:t.onBlur,onClick:X()?ce:void 0}),o.createElement(Ae,p({_ref:me,ariaRole:"combobox",ariaExpanded:Q(),ariaControls:Ee,autoFocus:j},Me)),o.createElement(De,{type:"button",icon:"calendar",svgIcon:od,title:Pe,className:"k-input-button",rounded:null,onClick:X()?void 0:ce,"aria-label":Pe,fillMode:E,onMouseDown:de}),!X()&&je),X()&&Ne));return e.label?o.createElement(Yv,p({dateInput:me,label:e.label,editorId:n,editorValid:Te,editorDisabled:g,children:Oe,style:{width:e.width}},K)):Oe});Zv.propTypes={className:jt.string,defaultShow:jt.bool,defaultValue:jt.instanceOf(Date),disabled:jt.bool,focusedDate:jt.instanceOf(Date),format:jt.oneOfType([jt.string,jt.shape({skeleton:jf(jt.string),pattern:jf(jt.string),date:jf(jt.oneOf(["short","medium","long","full"])),time:jf(jt.oneOf(["short","medium","long","full"])),datetime:jf(jt.oneOf(["short","medium","long","full"])),era:jf(jt.oneOf(["narrow","short","long"])),year:jf(jt.oneOf(["numeric","2-digit"])),month:jf(jt.oneOf(["numeric","2-digit","narrow","short","long"])),day:jf(jt.oneOf(["numeric","2-digit"])),weekday:jf(jt.oneOf(["narrow","short","long"])),hour:jf(jt.oneOf(["numeric","2-digit"])),hour12:jf(jt.bool),minute:jf(jt.oneOf(["numeric","2-digit"])),second:jf(jt.oneOf(["numeric","2-digit"])),timeZoneName:jf(jt.oneOf(["short","long"]))})]),formatPlaceholder:jt.oneOfType([jf(jt.oneOf(["wide","narrow","short","formatPattern"])),jt.shape({year:jf(jt.string),month:jf(jt.string),day:jf(jt.string),hour:jf(jt.string),minute:jf(jt.string),second:jf(jt.string)})]),id:jt.string,ariaLabelledBy:jt.string,ariaDescribedBy:jt.string,ariaLabel:jt.string,min:jt.instanceOf(Date),max:jt.instanceOf(Date),name:jt.string,popupSettings:jt.shape({animate:jf(jt.bool),appendTo:jf(jt.any),popupClass:jf(jt.string)}),show:jt.bool,tabIndex:jt.number,title:jt.string,value:jt.instanceOf(Date),weekNumber:jt.bool,width:jt.oneOfType([jt.number,jt.string]),validationMessage:jt.string,required:jt.bool,valid:jt.bool,size:jt.oneOf([null,"small","medium","large"]),rounded:jt.oneOf([null,"small","medium","large","full"]),fillMode:jt.oneOf([null,"solid","flat","outline"]),adaptive:jt.bool,adaptiveTitle:jt.string,autoFocus:jt.bool,inputAttributes:jt.object};const $v={defaultShow:!1,defaultValue:null,dateInput:yg,calendar:Uv,toggleButton:Gv,popup:Ci,pickerWrap:Wv,disabled:!1,format:"d",max:Nf,min:Df,popupSettings:{},tabIndex:0,weekNumber:!1,validityStyles:!0,size:"medium",rounded:"medium",fillMode:"solid",autoFocus:!1},ey=ja();Zv.displayName="KendoReactDatePicker";const ty={success:"check-outline",error:"x-outline",info:"info-circle",warning:"exclamation-circle"},ny={success:{name:"check-outline",content:'<path d="M256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m0 416c-106 0-192-86-192-192S150 64 256 64s192 86 192 192-86 192-192 192m-32-154-83-83-45 45 128 128 176-176-45-45z" />',viewBox:"0 0 512 512"},error:{name:"x-outline",content:'<path d="M384 338.7 338.7 384 256 301.3 173.3 384 128 338.7l82.7-82.7-82.7-82.7 45.3-45.3 82.7 82.7 82.7-82.7 45.3 45.3-82.7 82.7zM256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m0 416c-106 0-192-86-192-192S150 64 256 64s192 86 192 192-86 192-192 192" />',viewBox:"0 0 512 512"},info:{name:"info-circle",content:'<path d="M288 352h32v32H192v-32h32v-96h-32v-32h96zm0-224h-64v64h64zm192 128c0 123.7-100.3 224-224 224S32 379.7 32 256 132.3 32 256 32s224 100.3 224 224m-32 0c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192" />',viewBox:"0 0 512 512"},warning:{name:"exclamation-circle",content:'<path d="M224 128h64v160h-64zm0 256h64v-64h-64zm256-128c0 123.7-100.3 224-224 224S32 379.7 32 256 132.3 32 256 32s224 100.3 224 224m-32 0c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192" />',viewBox:"0 0 512 512"}},oy=class e extends o.Component{render(){const{onClose:t,className:n,closable:i=e.defaultProps.closable,type:r=e.defaultProps.type}=this.props;return o.createElement("div",{dir:this.props.dir,className:"k-notification"+(n?" ".concat(n):"")+("none"===r.style?"":" k-notification-".concat(r.style))+(i?" k-notification-closable":""),style:this.props.style},r.icon&&o.createElement(yo,{className:"k-notification-status",name:ty[r.style],icon:ny[r.style]}),o.createElement("div",{className:"k-notification-content"},this.props.children),i&&o.createElement("span",{className:"k-notification-actions"},o.createElement("span",p({className:"k-notification-action k-notification-close-action",title:"Close",onClick:e=>{t&&t.call(void 0,{target:this,syntheticEvent:e,nativeEvent:e.nativeEvent})}},"boolean"!=typeof i?i:{}),o.createElement(yo,{name:"x",icon:rd}))))}};oy.propTypes={className:jt.string,closable:jt.oneOfType([jt.bool,jt.object]),dir:jt.string,style:jt.object,type:jt.shape({style:jt.oneOf(["none","success","error","warning","info"]),icon:jt.bool}),onClose:jt.func},oy.defaultProps={closable:!1,type:{style:"none",icon:!0}};let iy=oy;const ry=["appear","enter","exit","transitionEnterDuration","transitionExitDuration","children"],ay=e=>{const{appear:t=sy.appear,enter:n=sy.enter,exit:i=sy.exit,transitionEnterDuration:r=sy.transitionEnterDuration,transitionExitDuration:a=sy.transitionExitDuration,children:l}=e,c=s(e,ry);return o.createElement(hh,p(p({},{transitionName:"fade"}),{},{appear:t,enter:n,exit:i,transitionEnterDuration:r,transitionExitDuration:a},c),l)},sy={appear:!1,enter:!0,exit:!1,transitionEnterDuration:500,transitionExitDuration:500};ay.propTypes={children:jt.oneOfType([jt.arrayOf(jt.node),jt.node]),childFactory:jt.any,className:jt.string,component:jt.string,id:jt.string,style:jt.any};const ly=e=>{let{isOpen:t,onClose:n,onConfirm:o,title:i="Confirm Action",message:r,confirmText:a="Confirm",cancelText:s="Cancel",type:l="warning",loading:c=!1,icon:d=null}=e;if(!t)return null;return(0,Eo.createPortal)((0,sr.jsx)("div",{className:"confirm-dialog-overlay",children:(0,sr.jsxs)("div",{className:"confirm-dialog-container",children:[(0,sr.jsxs)("div",{className:"confirm-dialog-header",children:[(0,sr.jsx)("h3",{className:"confirm-dialog-title",children:i}),(0,sr.jsx)("button",{className:"confirm-dialog-close",onClick:n,disabled:c,children:(0,sr.jsx)(tr,{})})]}),(0,sr.jsxs)("div",{className:"confirm-dialog-content",children:[(0,sr.jsx)("div",{className:"dialog-icon-container",children:(()=>{if(d)return d;switch(l){case"danger":return(0,sr.jsx)(or,{className:"dialog-icon danger"});case"warning":return(0,sr.jsx)(Wi,{className:"dialog-icon warning"});case"success":return(0,sr.jsx)(zi,{className:"dialog-icon success"});default:return(0,sr.jsx)(Wi,{className:"dialog-icon info"})}})()}),(0,sr.jsx)("div",{className:"dialog-message",children:"string"===typeof r?(0,sr.jsx)("p",{children:r}):r})]}),(0,sr.jsxs)("div",{className:"confirm-dialog-actions",children:[(0,sr.jsxs)(bo,{onClick:n,className:"k-button k-button-secondary",disabled:c,children:[(0,sr.jsx)(tr,{style:{marginRight:"6px"}}),s]}),(0,sr.jsx)(bo,{onClick:o,className:(()=>{switch(l){case"danger":return"k-button k-button-danger";case"warning":return"k-button k-button-warning";case"success":return"k-button k-button-success";default:return"k-button k-button-primary"}})(),disabled:c,children:c?(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)("div",{className:"spinner-small",style:{marginRight:"6px"}}),"Processing..."]}):(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)(zi,{style:{marginRight:"6px"}}),a]})})]})]})}),document.body)},cy=()=>{const[e,t]=(0,o.useState)(!1),[n,i]=(0,o.useState)(null),r=(0,o.useCallback)(async e=>{try{t(!0),i(null);const n=await fetch(hr("/record-type/by-name/".concat(e)),{method:"GET",headers:pr.headers});if(!n.ok)throw new Error("Failed to fetch record type: ".concat(n.status," ").concat(n.statusText));return await n.json()}catch(n){throw i(n.message),n}finally{t(!1)}},[]),a=(0,o.useCallback)(async(e,n)=>{try{t(!0),i(null);const n=hr("/standard-field/by-record-type/".concat(e)),o=await fetch(n,{method:"GET",headers:pr.headers});if(!o.ok)throw new Error("Failed to fetch standard fields: ".concat(o.status," ").concat(o.statusText));const r=(await o.json()).sort((e,t)=>e.displayOrder-t.displayOrder);return r}catch(o){throw i(o.message),o}finally{t(!1)}},[]),s=(0,o.useCallback)(async e=>{try{t(!0),i(null);const n=await r(e),o=(await a(n.id,e)).sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0));return{recordType:n,recordTypeId:n.id,standardFields:o}}catch(n){throw i(n.message),n}finally{t(!1)}},[r,a]);return{loading:e,error:n,fetchRecordTypeId:r,fetchStandardFields:a,fetchFormConfiguration:s}},dy=e=>{const t={};return Object.keys(e).forEach(n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)}),t},uy=e=>e.errors?Object.entries(e.errors).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(Array.isArray(n)?n.join(", "):n)}).join("\n"):e.message?e.message:"Validation failed",py={headers:pr.headers},hy=e=>{const t=(e=>{const t=e.toLowerCase(),n=t.replace(/([A-Z])/g,"-$1").toLowerCase(),o={chartofaccount:"chart-of-account","chart-of-account":"chart-of-account",itemfulfillment:"item-fulfilment","item-fulfillment":"item-fulfilment",salesorder:"sales-order","sales-order":"sales-order",inventoryadjustment:"inventory-adjustment","inventory-adjustment":"inventory-adjustment",inventorytransfer:"inventory-transfer","inventory-transfer":"inventory-transfer",purchaseorder:"purchase-order","purchase-order":"purchase-order",itemreceipt:"item-receipt","item-receipt":"item-receipt",vendorbill:"vendor-bill","vendor-bill":"vendor-bill",creditmemo:"credit-memo","credit-memo":"credit-memo",debitmemo:"debit-memo","debit-memo":"debit-memo",vendorcredit:"vendor-credit","vendor-credit":"vendor-credit",customerpayment:"customer-payment","customer-payment":"customer-payment",vendorpayment:"vendor-payment","vendor-payment":"vendor-payment",formsourcetype:"form-source-type","form-source-type":"form-source-type"};return{baseUrl:hr("/".concat(o[t]||o[n]||t)),entityName:t,entityNamePlural:"".concat(t,"s"),entityNamePluralCamelCase:t.split("-").map((e,t)=>0===t?e:e.charAt(0).toUpperCase()+e.slice(1)).join("")+"s",transformData:e=>{const t=p({},e);return!t.id&&t.code&&(t.id=t.code),!t.id&&t.customerCode&&(t.id=t.customerCode),t}}})(e);if(!t)throw new Error("Unable to generate configuration for entity type: ".concat(e));const[n,i]=(0,o.useState)({results:[],totalItems:0,pageSize:10,currentPage:1}),[r,a]=(0,o.useState)(!1),[s,l]=(0,o.useState)(null),c=(0,o.useCallback)(async()=>{const n=setTimeout(()=>{l("Request timeout: ".concat(t.entityNamePlural," API is taking too long to respond")),a(!1)},3e4);try{a(!0),l(null),console.log("[".concat(e,"] Fetching from URL:"),t.baseUrl);const o=await fetch(t.baseUrl,p({method:"GET"},py)).catch(n=>{throw console.error("[".concat(e,"] Network error:"),n),new Error("Network error: ".concat(n.message,". Please check if the API is running at ").concat(t.baseUrl))});if(console.log("[".concat(e,"] Response status:"),o.status,o.statusText),!o.ok){const e=await o.text().catch(()=>"");throw new Error("HTTP error! status: ".concat(o.status," - ").concat(o.statusText).concat(e?". Body: ".concat(e):""))}const r=await o.json().catch(t=>{throw console.error("[".concat(e,"] JSON parse error:"),t),new Error("Failed to parse response: ".concat(t.message,". Please check the API response format."))});if(console.log("[".concat(e,"] Raw response data:"),r),!r)throw console.error("[".concat(e,"] No data received")),new Error("No data received from the ".concat(t.entityNamePlural," API"));let s=[],c=0,d=10,u=1;r.results?(s=r.results,c=r.totalItems||s.length,d=r.pageSize||10,u=r.currentPage||1):Array.isArray(r)?(s=r,c=s.length):(s=[r],c=1);const h=s.map(t.transformData);console.log("[".concat(e,"] Final transformed data:"),{results:h,totalItems:c,pageSize:d,currentPage:u}),i({results:h,totalItems:c,pageSize:d,currentPage:u}),clearTimeout(n)}catch(o){clearTimeout(n);const e=o.message||"An unknown error occurred";l(e)}finally{a(!1)}},[t.baseUrl,t.entityNamePlural]),d=(0,o.useCallback)(async e=>{try{a(!0),l(null);const n=await fetch("".concat(t.baseUrl,"/").concat(e),p({method:"GET"},py)).catch(e=>{throw new Error("Network error: ".concat(e.message,". Please check if the API is running at ").concat(t.baseUrl))});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status," - ").concat(n.statusText));const o=await n.json().catch(e=>{throw new Error("Failed to parse response: ".concat(e.message,". Please check the API response format."))});if(!o)throw new Error("".concat(t.entityName," with ID ").concat(e," not found"));return t.transformData(o)}catch(n){const e=n.message||"An unknown error occurred";throw l(e),n}finally{a(!1)}},[t.baseUrl,t.entityName]),u=(0,o.useCallback)(async e=>{try{if(a(!0),l(null),!e||0===Object.keys(e).length)throw new Error("Entity data cannot be empty");const o=await fetch(t.baseUrl,p(p({method:"POST"},py),{},{body:JSON.stringify(dy(e))})).catch(e=>{throw new Error("Network error: ".concat(e.message,". Please check if the API is running at ").concat(t.baseUrl))});let i;try{i=await o.json()}catch(n){i={}}if(!o.ok){if(400===o.status){const e=uy(i);throw new Error("Validation error: \n".concat(e))}throw new Error(i.message||i.title||"Failed to create ".concat(t.entityName,". Status: ").concat(o.status))}if(!i)throw new Error("Failed to create ".concat(t.entityName," - no data received from API"));return await c(),i}catch(n){const e=n.message||"An unknown error occurred";throw l(e),n}finally{a(!1)}},[t.baseUrl,t.entityName,c]),h=(0,o.useCallback)(async(e,n)=>{try{if(a(!0),l(null),!n||0===Object.keys(n).length)throw new Error("Entity data cannot be empty");const o=await fetch("".concat(t.baseUrl,"/").concat(e),p(p({method:"PUT"},py),{},{body:JSON.stringify(p(p({},n),{},{id:String(e)}))})).catch(e=>{throw new Error("Network error: ".concat(e.message,". Please check if the API is running at ").concat(t.baseUrl))});let i;const r=await o.text();try{i=r?JSON.parse(r):{}}catch(uo){i={message:r}}if(!o.ok){if(400===o.status){const e=uy(i);throw new Error("Validation error: \n".concat(e))}throw new Error(i.message||i.title||"Failed to update ".concat(t.entityName,". Status: ").concat(o.status))}return await c(),i}catch(o){const e=o.message||"An unknown error occurred";throw l(e),o}finally{a(!1)}},[t.baseUrl,t.entityName,c]),m=(0,o.useCallback)(async e=>{try{a(!0),l(null);const n=await fetch("".concat(t.baseUrl,"/").concat(e),p({method:"DELETE"},py)).catch(e=>{throw new Error("Network error: ".concat(e.message,". Please check if the API is running at ").concat(t.baseUrl))});if(!n.ok){let e="Failed to delete ".concat(t.entityName,". Status: ").concat(n.status);try{const t=await n.json();e=t.message||t.title||e}catch(uo){}throw new Error(e)}await c()}catch(n){const e=n.message||"An unknown error occurred";throw l(e),n}finally{a(!1)}},[t.baseUrl,t.entityName,c]),f=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{a(!0),l(null);const o=hr("/".concat(t.baseUrl.split("/").pop(),"?PageNumber=").concat(e,"&PageSize=").concat(n)),i=await fetch(o,p({method:"GET"},py)).catch(e=>{throw new Error("Network error: ".concat(e.message,". Please check if the API is running at ").concat(o))});if(!i.ok){const e=await i.text().catch(()=>"");throw new Error("HTTP error! status: ".concat(i.status," - ").concat(i.statusText).concat(e?". Body: ".concat(e):""))}const r=await i.json().catch(e=>{throw new Error("Failed to parse response: ".concat(e.message,". Please check the API response format."))});if(!r)throw new Error("No data received from the API");let s=[],c=0;r.results&&Array.isArray(r.results)?(s=r.results,c=r.totalItems||r.totalCount||r.total||s.length):Array.isArray(r)?(s=r,c=s.length):r.data&&Array.isArray(r.data)?(s=r.data,c=r.totalItems||r.totalCount||r.total||s.length):(s=[],c=0);return{results:s.map(t.transformData),totalItems:c,pageSize:n,currentPage:e}}catch(o){const e=o.message||"An unknown error occurred";throw l(e),o}finally{a(!1)}},[t.baseUrl,t.transformData]);(0,o.useEffect)(()=>{c()},[c]);const g=t.entityName.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("");return{[t.entityNamePluralCamelCase]:n,creditMemos:"credit-memo"===e?n:void 0,debitMemos:"debit-memo"===e?n:void 0,data:n.results||n,loading:r,error:s,refresh:c,["fetch".concat(g,"ById")]:d,["create".concat(g)]:u,["update".concat(g)]:h,["delete".concat(g)]:m,fetchById:d,create:u,update:h,delete:m,fetchWithPagination:f,totalItems:n.totalItems||0,pageSize:n.pageSize||10,currentPage:n.currentPage||1}},my=()=>hy("customer"),fy=()=>hy("vendor"),gy=()=>hy("chart-of-account"),vy=()=>hy("sales-order"),yy=()=>hy("item-fulfillment"),xy=()=>hy("invoice"),by=()=>hy("credit-memo"),wy=()=>hy("debit-memo"),ky=()=>hy("status"),Cy=e=>{const t={};return Object.keys(e).forEach(n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)}),t},Sy=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=p({headers:p(p({},{"Content-Type":"application/json",Accept:"application/json"}),t.headers)},t),o=await fetch(hr(e),n);if(!o.ok){const e=await o.text();throw new Error("API Error: ".concat(o.status," - ").concat(e))}const i=o.headers.get("content-type"),r=o.headers.get("content-length");if(204===o.status||"0"===r||null===i||void 0===i||!i.includes("application/json"))return null;const a=await o.text();if(!a||""===a.trim())return null;try{return JSON.parse(a)}catch(s){return console.warn("Failed to parse JSON response:",a),null}},Iy=e=>({jeid:e.jeid,account:e.accountId,debit:e.debit,credit:e.credit,memo:e.memo,inactive:!1,recordID:e.recordID,recordType:e.recordType}),Ey=async e=>await Sy("/journal-entry-line",{method:"POST",body:JSON.stringify(Cy(Iy(e)))}),jy=async e=>{try{const t=await Sy("/chart-of-account/".concat(e),{method:"GET"});return Number(t.runningBalance||0)}catch(t){return console.error("Error fetching running balance for account ".concat(e,":"),t),0}},Ay=async(e,t)=>{try{await Sy("/chart-of-account/".concat(e),{method:"PUT",body:JSON.stringify({runningBalance:t})})}catch(n){console.error("Error updating running balance for account ".concat(e,":"),n)}};async function _y(e,t,n,o){console.log("=== Start Processing JV Lines ==="),console.log("changes",e),console.log("type",t),console.log("recordID",n),console.log("recordType",o);const i={},r=[],a=[...new Set(e.map(e=>String(e.accountId)).filter(e=>e&&"undefined"!==e&&"null"!==e))];console.log("uniqueAccountIds",a),console.log("all accountIds from changes:",e.map(e=>({accountId:e.accountId,stringified:String(e.accountId)})));for(const l of a)i[l]={running:await jy(l),netDelta:0};console.log("accounts",i);for(const l of e){const e=String(l.accountId);i[e]||(console.warn("Account ".concat(e," not found in accounts object, initializing...")),i[e]={running:await jy(e),netDelta:0});const t=(l.oldCredit||0)-(l.oldDebit||0),n=(l.newCredit||0)-(l.newDebit||0)-t;i[e].netDelta+=n}console.log("accounts after netDelta",i);for(const l of e){const e=String(l.accountId),t={jeid:l.jeid||null,id:l.id||null,accountId:e,memo:l.memo,credit:Number(l.newCredit||0),debit:Number(l.newDebit||0)};n&&""!==n&&null!==n&&(t.recordID=n),o&&""!==o&&null!==o&&(t.recordType=o),r.push(t)}if(console.log("lines---------",r),t&&r.length>0){const e=r.map(async e=>{try{switch(t.toLowerCase()){case"new":return await Ey(e);case"edit":return await(async e=>{if(!e.id||""===e.id||null===e.id)return console.log("Creating new journal line (no ID provided)"),await Ey(e);try{return await Sy("/journal-entry-line/".concat(e.id),{method:"PUT",body:JSON.stringify(p({},Iy(e)))})}catch(t){if(t.message.includes("404"))return console.log("Journal line ".concat(e.id," not found, creating new record")),await Ey(e);throw t}})(e);case"delete":return await(async e=>{if(!e.id||""===e.id||null===e.id)throw new Error("Line ID is required for delete operation");return await Sy("/journal-entry-line/".concat(e.id),{method:"DELETE"}),{deleted:!0,id:e.id}})(e);default:return console.warn("Unknown operation type: ".concat(t)),null}}catch(n){throw console.error("Error processing journal line ".concat(e.id||"new",":"),n),n}});await Promise.all(e)}const s=[];for(const l in i){const e=i[l],t=e.running+e.netDelta;console.log("newRunningBalance",t),s.push(Ay(l,t))}await Promise.all(s)}async function Dy(e,t,n,o){console.log("=== Generating JV Lines ==="),console.log("Line Items:",e),console.log("Form ID:",t),console.log("Total Amount:",n);const i=await Py(t);console.log("Form details fetched:",i);let r=[];if(!i)throw new Error("Form details could not be fetched. Please select a valid form.");const a=i.formType;if("CustomerPayment"===o&&(r.push({accountId:i.accountReceivable,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}),r.push({accountId:i.undepositedFunds,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:""})),"Invoice"===o){let t=0;if(e&&e.length>0)for(const n of e){t+=parseFloat(n.taxAmount||0)}if(a){if(r.push({accountId:i.accountReceivable,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:""}),"3e7a690c-dd04-4254-89f6-58e85139c07d"==a){r.push({accountId:i.accuredAR,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}),r.push({accountId:i.accuredTax,newCredit:0,newDebit:t||0,oldCredit:0,oldDebit:0,memo:""});for(const t of e){var s;const e=(null===(s=t.taxID)||void 0===s?void 0:s.value)||t.taxID;if(e)try{const n=await Ny("/tax/".concat(e),{method:"GET"});n&&n.taxAccount&&r.push({accountId:n.taxAccount,newCredit:t.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""})}catch(g){console.error("Error fetching tax details for taxId ".concat(e,":"),g)}}}if("9d19694e-dac4-4840-a29b-c1e1be0d82f0"==a||"3ddc355d-d7e9-4ae3-bdb5-386012fd9a6f"==a||"69a5b24f-0bd4-4f80-adf1-a03bfb7531a8"==a)for(const t of e){var l,c;const e=(null===(l=t.itemID)||void 0===l?void 0:l.value)||t.itemID,n=Number(t.quantity||t.quantityDelivered||0)*Number(t.rate||0);if(e)try{const t=await Ny("/product/".concat(e),{method:"GET"});if(t.salesAccount&&r.push({accountId:t.salesAccount,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}),"69a5b24f-0bd4-4f80-adf1-a03bfb7531a8"!==a&&t.cogsAccount&&t.standardCost){r.push({accountId:t.cogsAccount,newCredit:0,newDebit:t.standardCost||0,oldCredit:0,oldDebit:0,memo:""});const e="9d19694e-dac4-4840-a29b-c1e1be0d82f0"==a?i.clearing:t.inventoryAccount;r.push({accountId:e,newCredit:t.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""})}}catch(g){console.error("Error fetching item details for itemID ".concat(e,":"),g)}const o=(null===(c=t.taxID)||void 0===c?void 0:c.value)||t.taxID;if(o&&"69a5b24f-0bd4-4f80-adf1-a03bfb7531a8"!==a)try{const e=await Ny("/tax/".concat(o),{method:"GET"});e&&e.taxAccount&&r.push({accountId:e.taxAccount,newCredit:t.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""})}catch(g){console.error("Error fetching tax details for taxId ".concat(o,":"),g)}}}}if("ItemFulfillment"===o&&a){if("3e7a690c-dd04-4254-89f6-58e85139c07d"==a){r.push({accountId:i.accuredAR,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:""});for(const t of e){var d;t.taxAmount&&r.push({accountId:i.accuredTax,newCredit:t.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""});const e=(null===(d=t.itemID)||void 0===d?void 0:d.value)||t.itemID,n=Number(t.quantity||t.quantityDelivered||0)*Number(t.rate||0);if(e)try{const t=await Ny("/product/".concat(e),{method:"GET"});t.salesAccount&&r.push({accountId:t.salesAccount,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}),t.cogsAccount&&t.standardCost&&t.inventoryAccount&&(r.push({accountId:t.cogsAccount,newCredit:0,newDebit:t.standardCost||0,oldCredit:0,oldDebit:0,memo:""}),r.push({accountId:t.inventoryAccount,newCredit:t.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}))}catch(g){console.error("Error fetching item details for itemID ".concat(e,":"),g)}}}if("9d19694e-dac4-4840-a29b-c1e1be0d82f0"==a)for(const t of e){var u;const e=(null===(u=t.itemID)||void 0===u?void 0:u.value)||t.itemID;if(e)try{const t=await Ny("/product/".concat(e),{method:"GET"});t.inventoryAccount&&t.standardCost&&(r.push({accountId:t.inventoryAccount,newCredit:t.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}),r.push({accountId:i.clearing,newCredit:0,newDebit:t.standardCost||0,oldCredit:0,oldDebit:0,memo:""}))}catch(g){console.error("Error fetching item details for itemID ".concat(e,":"),g)}}if("69a5b24f-0bd4-4f80-adf1-a03bfb7531a8"==a||"3ddc355d-d7e9-4ae3-bdb5-386012fd9a6f"==a)for(const t of e){var p;const e=(null===(p=t.itemID)||void 0===p?void 0:p.value)||t.itemID;if(e)try{const n=await Ny("/product/".concat(e),{method:"GET"});n.cogsAccount&&t.rate&&n.inventoryAccount&&(r.push({accountId:n.cogsAccount,newCredit:0,newDebit:t.rate||0,oldCredit:0,oldDebit:0,memo:""}),r.push({accountId:n.inventoryAccount,newCredit:t.rate||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}))}catch(g){console.error("Error fetching item details for itemID ".concat(e,":"),g)}}}if("DebitMemo"===o||"CreditMemo"===o){r.push({accountId:i.accountReceivable,newCredit:"CreditMemo"===o&&n||0,newDebit:"DebitMemo"===o&&n||0,oldCredit:0,oldDebit:0,memo:""});for(const t of e){var h,m;const e=(null===(h=t.itemID)||void 0===h?void 0:h.value)||t.itemID,n=(null===(m=t.taxID)||void 0===m?void 0:m.value)||t.taxID,i=Number(t.quantity||t.quantityDelivered||0)*Number(t.rate||0);if(e)try{const t=await Ny("/product/".concat(e),{method:"GET"});t.salesAccount&&r.push({accountId:t.salesAccount,newCredit:i||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""})}catch(g){console.error("Error fetching item details for itemID ".concat(e,":"),g)}if(n)try{const e=await Ny("/tax/".concat(n),{method:"GET"});e&&e.taxAccount&&r.push({accountId:e.taxAccount,newCredit:"DebitMemo"===o&&t.taxAmount||0,newDebit:"CreditMemo"===o&&t.taxAmount||0,oldCredit:0,oldDebit:0,memo:""})}catch(g){console.error("Error fetching tax details for taxId ".concat(n,":"),g)}}}console.log("Generated jvLines:",r);const f=r.filter(e=>!e.accountId||""===e.accountId||null===e.accountId||void 0===e.accountId);return f.length>0?(console.error("Missing account configurations found in JV lines:",f),{isValid:!1,jvLines:[],errorMessage:"Cannot create ".concat(o,". Some required accounts are not configured in the selected form. Please configure all required accounts before proceeding.")}):{isValid:!0,jvLines:r,errorMessage:null}}const Ny=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=p({headers:p(p({},{"Content-Type":"application/json",Accept:"application/json"}),t.headers)},t),o=await fetch(hr(e),n);if(!o.ok){const e=await o.text();throw new Error("API Error: ".concat(o.status," - ").concat(e))}const i=o.headers.get("content-type"),r=o.headers.get("content-length");if(204===o.status||"0"===r||null===i||void 0===i||!i.includes("application/json"))return null;const a=await o.text();if(!a||""===a.trim())return null;try{return JSON.parse(a)}catch(s){return console.warn("Failed to parse JSON response:",a),null}};let Ty=null;const Py=async e=>{try{if(!e)return console.warn("No form ID provided"),null;console.log("Fetching form details for form ID: ".concat(e));const t=await Ny("/form/".concat(e),{method:"GET"});return t?(console.log("Form details fetched successfully:",t),t):(console.warn("No form details returned from API"),null)}catch(t){return console.error("Error fetching form details:",t),null}};async function My(e,t,n,o,i){console.log("=== Processing JV Lines ==="),console.log("Line Items:",e),console.log("Form ID:",t),console.log("Total Amount:",n),Ty=await Py(t),console.log("Form details stored globally:",Ty);let r=[];if(Ty){"CustomerPayment"==i&&(r.push({recordId:o,recordType:i,accountId:Ty.accountReceivable,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),r.push({recordId:o,recordType:i,accountId:Ty.undepositedFunds,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:"",id:null}));const t=Ty.formType;if("Invoice"===i){let a=0;if(e&&e.length>0)for(const t of e){a+=parseFloat(t.taxAmount||0)}console.log("Total Tax Amount calculated and stored globally:",a),t&&(r.push({recordId:o,recordType:i,accountId:Ty.accountReceivable,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:"",id:null}),"3e7a690c-dd04-4254-89f6-58e85139c07d"==t&&(r.push({recordId:o,recordType:i,accountId:Ty.accuredAR,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),r.push({recordId:o,recordType:i,accountId:Ty.accuredTax,newCredit:0,newDebit:a||0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.forEach(async(e,t)=>{var n;const a=(null===(n=e.taxID)||void 0===n?void 0:n.value)||e.taxID;if(a)try{const t=await Ny("/tax/".concat(a),{method:"GET"});t&&t.taxAccount&&r.push({recordId:o,recordType:i,accountId:t.taxAccount,newCredit:e.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(s){console.error("Error fetching tax details for taxId ".concat(a,":"),s)}})),"9d19694e-dac4-4840-a29b-c1e1be0d82f0"==t&&e.forEach(async(e,t)=>{var n,a;const s=(null===(n=e.taxID)||void 0===n?void 0:n.value)||e.taxID,l=(null===(a=e.itemID)||void 0===a?void 0:a.value)||e.itemID,c=Number(e.quantity||e.quantityDelivered||0)*Number(e.rate||0);if(l)try{const e=await Ny("/product/".concat(l),{method:"GET"});e.salesAccount&&r.push({recordId:o,recordType:i,accountId:e.salesAccount,newCredit:c||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.cogsAccount&&e.standardCost&&(r.push({recordId:o,recordType:i,accountId:e.cogsAccount,newCredit:0,newDebit:e.standardCost||0,oldCredit:0,oldDebit:0,memo:"",id:null}),r.push({recordId:o,recordType:i,accountId:Ty.clearing,newCredit:e.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}))}catch(d){console.error("Error fetching item details for itemID ".concat(l,":"),d)}if(s)try{const t=await Ny("/tax/".concat(s),{method:"GET"});t&&t.taxAccount&&r.push({recordId:o,recordType:i,accountId:t.taxAccount,newCredit:e.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(d){console.error("Error fetching tax details for taxId ".concat(s,":"),d)}}),"3ddc355d-d7e9-4ae3-bdb5-386012fd9a6f"==t&&e.forEach(async(e,t)=>{var n,a;const s=(null===(n=e.taxID)||void 0===n?void 0:n.value)||e.taxID,l=(null===(a=e.itemID)||void 0===a?void 0:a.value)||e.itemID,c=Number(e.quantity||e.quantityDelivered||0)*Number(e.rate||0);if(l)try{const e=await Ny("/product/".concat(l),{method:"GET"});e.salesAccount&&r.push({recordId:o,recordType:i,accountId:e.salesAccount,newCredit:c||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.cogsAccount&&e.standardCost&&(r.push({recordId:o,recordType:i,accountId:e.cogsAccount,newCredit:0,newDebit:e.standardCost||0,oldCredit:0,oldDebit:0,memo:"",id:null}),r.push({recordId:o,recordType:i,accountId:e.inventoryAccount,newCredit:e.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}))}catch(d){console.error("Error fetching item details for itemID ".concat(l,":"),d)}if(s)try{const t=await Ny("/tax/".concat(s),{method:"GET"});t&&t.taxAccount&&r.push({recordId:o,recordType:i,accountId:t.taxAccount,newCredit:e.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(d){console.error("Error fetching tax details for taxId ".concat(s,":"),d)}}),"69a5b24f-0bd4-4f80-adf1-a03bfb7531a8"==t&&e.forEach(async(e,t)=>{var n,a;const s=(null===(n=e.taxID)||void 0===n?void 0:n.value)||e.taxID,l=(null===(a=e.itemID)||void 0===a?void 0:a.value)||e.itemID,c=Number(e.quantity||e.quantityDelivered||0)*Number(e.rate||0);if(l)try{const e=await Ny("/product/".concat(l),{method:"GET"});e.salesAccount&&r.push({recordId:o,recordType:i,accountId:e.salesAccount,newCredit:c||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(d){console.error("Error fetching item details for itemID ".concat(l,":"),d)}if(s)try{const t=await Ny("/tax/".concat(s),{method:"GET"});t&&t.taxAccount&&r.push({recordId:o,recordType:i,accountId:t.taxAccount,newCredit:e.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(d){console.error("Error fetching tax details for taxId ".concat(s,":"),d)}}))}if("ItemFulfillment"===i&&t&&("3e7a690c-dd04-4254-89f6-58e85139c07d"==t&&(r.push({recordId:o,recordType:i,accountId:Ty.accuredAR,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.forEach(async(e,t)=>{var n;const a=(null===(n=e.itemID)||void 0===n?void 0:n.value)||e.itemID,s=Number(e.quantity||e.quantityDelivered||0)*Number(e.rate||0);if(e.taxAmount&&r.push({recordId:o,recordType:i,accountId:Ty.accuredTax,newCredit:e.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),a)try{const e=await Ny("/product/".concat(a),{method:"GET"});e.salesAccount&&r.push({recordId:o,recordType:i,accountId:e.salesAccount,newCredit:s||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.cogsAccount&&e.standardCost&&e.inventoryAccount&&(r.push({recordId:o,recordType:i,accountId:e.cogsAccount,newCredit:0,newDebit:e.standardCost||0,oldCredit:0,oldDebit:0,memo:"",id:null}),r.push({recordId:o,recordType:i,accountId:e.inventoryAccount,newCredit:e.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}))}catch(l){console.error("Error fetching item details for itemID ".concat(a,":"),l)}})),"9d19694e-dac4-4840-a29b-c1e1be0d82f0"==t&&e.forEach(async(e,t)=>{var n;const a=(null===(n=e.itemID)||void 0===n?void 0:n.value)||e.itemID;if(a)try{const e=await Ny("/product/".concat(a),{method:"GET"});e.inventoryAccount&&e.standardCost&&(r.push({recordId:o,recordType:i,accountId:e.inventoryAccount,newCredit:e.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),r.push({recordId:o,recordType:i,accountId:Ty.clearing,newCredit:0,newDebit:e.standardCost||0,oldCredit:0,oldDebit:0,memo:"",id:null}))}catch(s){console.error("Error fetching item details for itemID ".concat(a,":"),s)}}),"69a5b24f-0bd4-4f80-adf1-a03bfb7531a8"==t||"3ddc355d-d7e9-4ae3-bdb5-386012fd9a6f"==t)){console.log("formType",t);for(const t of e){var a;const e=(null===(a=t.itemID)||void 0===a?void 0:a.value)||t.itemID;if(console.log("itemID",e),e)try{const n=await Ny("/product/".concat(e),{method:"GET"});console.log("itemDetails",n),console.log("itemDetails.averageCost",n.averageCost),console.log("itemDetails.cogsAccount",n.cogsAccount),console.log("itemDetails.inventoryAccount",n.inventoryAccount),n.cogsAccount&&t.rate&&n.inventoryAccount&&(r.push({recordId:o,recordType:i,accountId:n.cogsAccount,newCredit:0,newDebit:t.rate||0,oldCredit:0,oldDebit:0,memo:"",id:null}),r.push({recordId:o,recordType:i,accountId:n.inventoryAccount,newCredit:t.rate||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}))}catch(s){console.error("Error fetching item details for itemID ".concat(e,":"),s)}}}"DebitMemo"===i&&(r.push({recordId:o,recordType:i,accountId:Ty.accountReceivable,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.forEach(async(e,t)=>{var n,a;const l=(null===(n=e.taxID)||void 0===n?void 0:n.value)||e.taxID,c=(null===(a=e.itemID)||void 0===a?void 0:a.value)||e.itemID,d=Number(e.quantity||e.quantityDelivered||0)*Number(e.rate||0);if(c)try{const e=await Ny("/product/".concat(c),{method:"GET"});e.salesAccount&&r.push({recordId:o,recordType:i,accountId:e.salesAccount,newCredit:d||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(s){console.error("Error fetching item details for itemID ".concat(c,":"),s)}if(l)try{const t=await Ny("/tax/".concat(l),{method:"GET"});t&&t.taxAccount&&r.push({recordId:o,recordType:i,accountId:t.taxAccount,newCredit:e.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(s){console.error("Error fetching tax details for taxId ".concat(l,":"),s)}})),"CreditMemo"===i&&(r.push({recordId:o,recordType:i,accountId:Ty.accountReceivable,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.forEach(async(e,t)=>{var n,a;const l=(null===(n=e.taxID)||void 0===n?void 0:n.value)||e.taxID,c=(null===(a=e.itemID)||void 0===a?void 0:a.value)||e.itemID,d=Number(e.quantity||e.quantityDelivered||0)*Number(e.rate||0);if(c)try{const e=await Ny("/product/".concat(c),{method:"GET"});e.salesAccount&&r.push({recordId:o,recordType:i,accountId:e.salesAccount,newCredit:d||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(s){console.error("Error fetching item details for itemID ".concat(c,":"),s)}if(l)try{const t=await Ny("/tax/".concat(l),{method:"GET"});t&&t.taxAccount&&r.push({recordId:o,recordType:i,accountId:t.taxAccount,newCredit:0,newDebit:e.taxAmount||0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(s){console.error("Error fetching tax details for taxId ".concat(l,":"),s)}}))}console.log("jvLines",r),await _y(r,"new",o,i),console.log("=== End Processing JV Lines ===")}const Oy=e=>{const t={};return Object.keys(e).forEach(n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)}),t},Ry=()=>{const[e,t]=(0,o.useState)(!1),[n,i]=(0,o.useState)(null),r={headers:pr.headers},a=(0,o.useCallback)(async(e,t)=>{try{const n=hr("/inventory-detail?ItemId=".concat(e,"&LocationId=").concat(t));console.log("Checking inventory detail for item:",e,"and location:",t),console.log("URL:",n);const o=await fetch(n,p({method:"GET"},r));if(!o.ok){if(404===o.status)return null;throw console.error("\u274c API Error:",o.status,"for URL:",n),new Error("Failed to check inventory detail. Status: ".concat(o.status))}const i=await o.json();return console.log("API Response:",i),i.results&&Array.isArray(i.results)?i.results.length>0?i.results[0]:null:Array.isArray(i)?i.length>0?i[0]:null:i&&i.id?i:null}catch(n){throw console.error("\u274c Error checking inventory detail existence:",n),n}},[]),s=(0,o.useCallback)(async e=>{try{const n=hr("/inventory-detail"),o=await fetch(n,p({method:"POST",body:JSON.stringify(Oy(e))},r));if(!o.ok){let e="Failed to create inventory detail. Status: ".concat(o.status);try{const t=await o.json();t.errors?e=Object.entries(t.errors).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(Array.isArray(n)?n.join(", "):n)}).join("\n"):t.message&&(e=t.message)}catch(t){}throw new Error(e)}return await o.json()}catch(n){throw console.error("Error creating inventory detail:",n),n}},[]),l=(0,o.useCallback)(async(e,t)=>{try{const o=hr("/inventory-detail/".concat(e)),i=await fetch(o,p({method:"PUT",body:JSON.stringify(p(p({},t),{},{id:e}))},r));if(!i.ok){let e="Failed to update inventory detail. Status: ".concat(i.status);try{const t=await i.json();t.errors?e=Object.entries(t.errors).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(Array.isArray(n)?n.join(", "):n)}).join("\n"):t.message&&(e=t.message)}catch(n){}throw new Error(e)}return await i.json()}catch(o){throw console.error("Error updating inventory detail:",o),o}},[]),c=(0,o.useCallback)(async e=>{if(!e)return!1;try{const t=hr("/product/".concat(e));console.log("Checking if product is inventory item:",e);const n=await fetch(t,p({method:"GET"},r));if(!n.ok)return 404===n.status?(console.log("Product not found:",e),!1):(console.error("\u274c API Error fetching product:",n.status,"for URL:",t),!1);const o="ef765a67-402b-48ee-b898-8eaa45affb64"===(await n.json()).itemType;return console.log("\ud83d\udce6 Product ".concat(e," is ").concat(o?"INVENTORY":"SERVICE"," item")),o}catch(t){return console.error("\u274c Failed to check product type:",t.message),!1}},[]),d=(0,o.useCallback)(async e=>{let{itemId:n,locationId:o,quantity:r,additionalData:d={}}=e;if(!n||!o||void 0===r||null===r)throw new Error("itemId, locationId, and quantity are required parameters");t(!0),i(null);try{if(!await c(n))return console.warn("\u26a0\ufe0f Item ".concat(n," is a service item. Skipping inventory update (only inventory items are tracked).")),t(!1),null;const e=await a(n,o),i=p({itemId:n,locationId:o,quantity:Number(r)},d);let u;if(e){const t=(e.quantityAvailable||e.quantity||0)+Number(r);u=await l(e.id,p(p({},i),{},{quantityAvailable:t}))}else u=await s(p(p({},i),{},{quantityAvailable:Number(r)}));return u}catch(u){const e=u.message||"An unknown error occurred while managing inventory detail";throw i(e),new Error(e)}finally{t(!1)}},[a,s,l,c]),u=(0,o.useCallback)(async(e,n)=>{if(!e||!n)throw new Error("itemId and locationId are required parameters");t(!0),i(null);try{return await a(e,n)}catch(o){const e=o.message||"An unknown error occurred while fetching inventory detail";throw i(e),new Error(e)}finally{t(!1)}},[a]),h=(0,o.useCallback)(async(e,t)=>{if(!e||!t)return 0;try{const n=await a(e,t),o=n&&n.quantityAvailable||0;return console.log("\ud83d\udce6 Inventory quantity fetched:",o,"for item:",e),o}catch(n){return console.error("\u274c Failed to fetch quantity available:",n.message),0}},[a]),m=(0,o.useCallback)(async(e,t)=>{const n=[];if(!t)return{isValid:!1,errors:["Location is required for inventory validation"]};if(!e||0===e.length)return{isValid:!0,errors:[]};for(const a of e)try{var o;const e=(null===(o=a.itemID)||void 0===o?void 0:o.value)||a.itemID,s=Number(a.quantity||0);if(!e||s<=0)continue;if(!await c(e)){console.log("Item ".concat(e," is a service item, skipping inventory check"));continue}const l=await h(e,t);if(console.log("Inventory validation for item ".concat(e,": available=").concat(l,", requested=").concat(s)),l<s)try{const t=hr("/product/".concat(e)),o=await fetch(t,p({method:"GET"},r));let i=e;if(o.ok){const t=await o.json();i=t.itemName||t.itemCode||e}n.push({itemId:e,itemName:i,availableQty:l,requestedQty:s,message:"Insufficient inventory for ".concat(i,". Available: ").concat(l,", Requested: ").concat(s)})}catch(i){n.push({itemId:e,itemName:e,availableQty:l,requestedQty:s,message:"Insufficient inventory. Available: ".concat(l,", Requested: ").concat(s)})}}catch(i){console.error("Error validating inventory for item ".concat(a.itemID,":"),i.message),n.push({itemId:a.itemID,message:"Failed to validate inventory: ".concat(i.message)})}return{isValid:0===n.length,errors:n}},[c,h]),f=(0,o.useCallback)(async e=>{let{itemId:n,locationId:o,quantity:r,additionalData:d={}}=e;if(!n||!o||void 0===r||null===r)throw new Error("itemId, locationId, and quantity are required parameters");t(!0),i(null);try{if(!await c(n))return console.warn("\u26a0\ufe0f Item ".concat(n," is a service item. Skipping inventory update (only inventory items are tracked).")),t(!1),null;const e=await a(n,o),i=p({itemId:n,locationId:o,quantityAvailable:Number(r)},d);let u;return u=e?await l(e.id,i):await s(i),u}catch(u){const e=u.message||"An unknown error occurred while setting inventory quantity";throw i(e),new Error(e)}finally{t(!1)}},[a,s,l,c]),g=(0,o.useCallback)(async e=>{if(!e)return 0;try{const t=hr("/product/".concat(e));console.log("Fetching product standard cost for:",e);const n=await fetch(t,p({method:"GET"},r));if(!n.ok){if(404===n.status)return console.log("Product not found:",e),0;throw console.error("\u274c API Error fetching product:",n.status,"for URL:",t),new Error("Failed to fetch product. Status: ".concat(n.status))}const o=(await n.json()).standardCost||0;return console.log("\ud83d\udce6 Product standard cost fetched:",o,"for product:",e),o}catch(t){return console.error("\u274c Failed to fetch product standard cost:",t.message),0}},[]),v=(0,o.useCallback)(async e=>{if(!e)return"";try{const t=hr("/product/".concat(e));console.log("Fetching product sales price and tax code for:",e);const n=await fetch(t,p({method:"GET"},r));if(!n.ok){if(404===n.status)return console.log("Product not found:",e),0;throw console.error("\u274c API Error fetching product:",n.status,"for URL:",t),new Error("Failed to fetch product. Status: ".concat(n.status))}const o=await n.json(),i=o.salesPrice||0,a=o.taxCode||"";return console.log("\ud83d\udce6 Product sales price fetched:",i,"for product:",e),{salesPrice:i,taxCode:a}}catch(t){return console.error("\u274c Failed to fetch product sales price:",t.message),{salesPrice:0,taxCode:""}}},[]),y=(0,o.useCallback)(async e=>{if(!e)return"";try{const t=hr("/product/".concat(e));console.log("Fetching product purchase price and tax code for:",e);const n=await fetch(t,p({method:"GET"},r));if(!n.ok){if(404===n.status)return console.log("Product not found:",e),0;throw console.error("\u274c API Error fetching product:",n.status,"for URL:",t),new Error("Failed to fetch product. Status: ".concat(n.status))}const o=await n.json(),i=o.purchasePrice||0,a=o.taxCode||"";return console.log("\ud83d\udce6 Product purchase price fetched:",i,"for product:",e),{purchasePrice:i,taxCode:a}}catch(t){return console.error("\u274c Failed to fetch product purchase price:",t.message),{purchasePrice:0,taxCode:""}}},[]),x=(0,o.useCallback)((e,t,n)=>{const o=e*t,i=n*e,r=t-n,a=o-i;let s=0;return r>0&&(s=a/r),console.log("\ud83d\udcb0 Cost Calculation (Fulfillment):",{currentAvgCost:e,availableQty:t,fulfillmentQty:n,currentTotalValue:o,cogs:i,newQuantity:r,newValue:a,newAvgCost:s}),{newAvgCost:s,cogs:i,newQuantity:r,newValue:a}},[]),b=(0,o.useCallback)((e,t,n,o)=>{const i=e*t,r=n*o,a=i+r,s=t+n;let l=0;return s>0&&(l=a/s),console.log("\ud83d\udcb0 Cost Calculation (Reverse):",{currentAvgCost:e,currentQuantity:t,fulfilledQuantity:n,originalFulfillmentAvgCost:o,currentTotalValue:i,valueToAddBack:r,newTotalValue:a,newQuantity:s,newAvgCost:l}),{newAvgCost:l,newQuantity:s,newTotalValue:a}},[]),w=(0,o.useCallback)(async(e,t)=>{if(!e)throw new Error("productId is required");try{const n=hr("/product/".concat(e));console.log("\ud83d\udcdd Updating product average cost:",e,"New cost:",t);const o=await fetch(n,p({method:"PUT",body:JSON.stringify({averageCost:Number(t)})},r));if(!o.ok)throw console.error("\u274c API Error updating product average cost:",o.status),new Error("Failed to update product average cost. Status: ".concat(o.status));const i=await o.json();return console.log("\u2705 Product average cost updated successfully"),i}catch(n){throw console.error("\u274c Failed to update product average cost:",n.message),n}},[]),k=(0,o.useCallback)(async e=>{let{itemId:t,locationId:n,fulfillmentQty:o,mode:i,originalFulfillmentAvgCost:s}=e;if(!t||!n||void 0===o||null===o)throw new Error("itemId, locationId, and fulfillmentQty are required");if("create"!==i)throw new Error("Only create mode is supported for ItemFulfillment. Edit and delete modes are not supported.");try{console.log("\ud83d\udd04 Processing ItemFulfillment (".concat(i,"):"),{itemId:t,locationId:n,fulfillmentQty:o,originalFulfillmentAvgCost:s});if(!await c(t))return console.warn("\u26a0\ufe0f Item ".concat(t," is a service item. Skipping inventory and cost updates.")),{skipped:!0,reason:"Service item"};const e=hr("/product/".concat(t)),l=await fetch(e,p({method:"GET"},r));if(!l.ok)throw new Error("Failed to fetch product. Status: ".concat(l.status));const d=await l.json(),u=Number(d.averageCost||0),h=await a(t,n);if(!h)throw new Error("Inventory detail not found for item ".concat(t," at location ").concat(n));const m=Number(h.quantityAvailable||0);let g,v=u,y=null;if(m<o)throw new Error("Insufficient inventory. Available: ".concat(m,", Requested: ").concat(o));return y=x(u,m,o),g=y.newQuantity,v=y.newAvgCost,await f({itemId:t,locationId:n,quantity:g}),await w(t,v),console.log("\u2705 ItemFulfillment processing complete:",{mode:i,oldQty:m,newQty:g,oldAvgCost:u,newAvgCost:v}),{success:!0,mode:i,inventory:{oldQuantity:m,newQuantity:g},cost:p({oldAvgCost:u,newAvgCost:v},y)}}catch(l){throw console.error("\u274c Error processing ItemFulfillment:",l.message),l}},[c,a,x,b,f,w]);return{createOrUpdateInventoryDetail:d,setInventoryQuantity:f,getInventoryDetail:u,getQuantityAvailable:h,validateInventoryAvailability:m,processItemFulfillment:k,getProductStandardCost:g,getProductSalesPriceTaxCode:v,getProductPurchasePriceTaxCode:y,createInventoryDetail:s,updateInventoryDetail:l,checkInventoryDetailExists:a,calculateFulfillmentCost:x,reverseItemFulfillment:b,updateProductAverageCost:w,loading:e,error:n,clearError:(0,o.useCallback)(()=>i(null),[])}},Ly=["name","component","validator","type","children"],Fy=e=>{const{name:t,component:n,validator:i,type:r,children:a}=e,l=s(e,Ly),c=o.useContext(mr),d=c?c.id:"";o.useEffect(()=>c?c.registerField(t,i):void 0,[t,d,i]);const u=o.useCallback(e=>c.onUnshift(t,e),[t,d]),h=o.useCallback(e=>c.onPush(t,e),[t,d]),m=o.useCallback(e=>c.onInsert(t,e),[t,d]),f=o.useCallback(()=>c.onPop(t),[t,d]),g=o.useCallback(e=>c.onRemove(t,e),[t,d]),v=o.useCallback(e=>c.onReplace(t,e),[t,d]),y=o.useCallback(e=>c.onMove(t,e),[t,d]);if(!c)return null;const x=c.valueGetter(t);return o.createElement(n,p({value:x,validationMessage:c.errors[t],touched:c.touched[t],modified:c.modified[t],visited:c.visited[t],valid:!(c.errors[t]&&c.touched[t]),onUnshift:u,onPush:h,onInsert:m,onPop:f,onRemove:g,onReplace:v,onMove:y,children:a,name:t},l))};Fy.displayName="KendoReactFieldArray";const zy=e=>null;zy.displayName="KendoReactGridColumn";const By={filterable:!0,editable:!0,sortable:!0,resizable:!0,reorderable:!0,groupable:!0};zy.propTypes={field:jt.string,title:jt.string,editable:jt.bool,sortable:jt.oneOfType([jt.bool,jt.shape({allowUnsort:jt.bool.isRequired})]),cell:jt.any,filterCell:jt.any,filterTitle:jt.string,filterable:jt.bool,filter:jt.oneOf(["text","numeric","boolean","date"]),editor:jt.oneOf(["text","numeric","boolean","date"]),width:jt.oneOfType([jt.string,jt.number]),minResizableWidth:jt.number,headerCell:jt.any,footerCell:jt.any,headerSelectionValue:jt.bool,format:jt.string,headerClassName:jt.string,className:jt.string,reorderable:jt.bool,resizable:jt.bool,orderIndex:jt.number,groupable:jt.bool,columnMenu:jt.any,menuIcon:jt.any,locked:jt.bool,hidden:jt.bool,media:jt.string};var Vy=function(e,t,n){return function(o){return e(o)?t(o):n(o)}},Hy=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduceRight(function(e,t){return t(e)},t)}},qy=(function(e){}(""),function(e){return null!==e&&void 0!==e}),Uy=function(e){return null===e||void 0===e},Gy=function(e){return Array.isArray(e)},Wy=function(e){return"function"===typeof e},Ky=function(e){return"string"===typeof e},Yy=function(e){return!function(e){return Uy(e)||0===e.trim().length}(e)},Xy=function(e){return!isNaN(e-parseFloat(e))},Jy=function(e){return e&&e.getTime},Qy={},Zy=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;Qy[void 0]=function(e){return e};var $y,ex,tx=function(e,t){var n=e+t;if(Qy[n])return Qy[n];var o=[];return e.replace(Zy,function(e,t,n,i){o.push(qy(t)?t:n||i)}),Qy[n]=function(e){for(var n=e,i=0;i<o.length;i++)if(n=n[o[i]],!qy(n)&&t)return n;return n},Qy[n]},nx=function(e){return function(t){return[e,t]}},ox=function(){return null},ix=function(e){return function(t){return qy(e(t))}},rx=function(e){return function(t){return function(e){return qy(e)&&Gy(e)&&e.length>0}(e(t))}},ax=function(e,t){return Vy(e,t,ox)},sx=function(e,t){return function(n){return e(n).map(t).join("~")}},lx=Hy.apply(void 0,[['"',""],[":","-"]].map(function(e){var t=e[0],n=e[1];return function(e){return e.replace(new RegExp(t,"g"),n)}})),cx=($y=".",function(e){return e.slice(0,e.indexOf($y))}),dx=function(e){var t=e.field,n=e.dir,o=void 0===n?"asc":n;return"".concat(t,"-").concat(o)},ux=tx("take"),px=tx("aggregates"),hx=tx("skip"),mx=tx("group"),fx=tx("sort",!0),gx=sx(fx,dx),vx=sx(mx,dx),yx=sx(px,function(e){var t=e.field,n=e.aggregate;return"".concat(t,"-").concat(n)}),xx=Hy(function(e){return"datetime'".concat(e,"'")},cx,lx,JSON.stringify,function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}),bx=Hy(nx("page"),function(e){var t=e.skip,n=e.take;return Math.floor((t||0)/n)+1}),wx=Hy(nx("pageSize"),ux),kx=Hy(nx("group"),vx),Cx=Hy(nx("sort"),gx),Sx=Hy(nx("aggregate"),yx),Ix=(ax(ix(hx),bx),ax(ix(ux),wx),ax(rx(mx),kx),ax(ix(px),Sx),Hy(ax(rx(fx),Cx),function(e){return Object.assign({},e,{sort:(fx(e)||[]).filter(function(e){var t=e.dir;return Yy(t)})})}),function(e){var t=e.field,n=e.operator,o=e.value;return"".concat(t,"~").concat(n,"~").concat(o)}),Ex=(Vy(function(e){return Jy(e.value)},Hy(Ix,function(e){var t=e.field,n=e.value,o=e.ignoreCase,i=e.operator;return{value:xx(n),field:t,ignoreCase:o,operator:i}}),Ix),function(e,t,n){return t[e]=n,t}),jx=function(e){return function(t){var n,o=t[e];return qy(o)?o:t[(n=e,n.replace(/(^[A-Z])/g,function(e,t){return t.toLowerCase()}))]}},Ax=(jx("Member"),jx("AggregateMethodName"),jx("Value"),function(e){return function(t){return Object.keys(t).reduce(e.bind(null,t),{})}}),_x=Ax(function(e,t,n){return Ex(n.toLowerCase(),t,e[n])}),Dx=Ax(function(e,t,n){return Ex(n,t,_x(e[n]))}),Nx=function(e,t){return qy(e)?e:t},Tx=Hy(function(e){var t=e.field,n=e.hasSubgroups,o=e.value,i=e.aggregates,r=e.items;return{aggregates:Dx(i),field:t,items:n?r.map(Tx):r,value:o}},function(e){return{aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:Nx(e.Key,Nx(e.key,e.value))}}),Px=function(e,t){return Uy(e)?e===t?0:-1:Uy(t)?1:e.localeCompare?e.localeCompare(t):e>t?1:e<t?-1:0},Mx=function(e,t){return Px(t,e)},Ox=function(e){if("function"===typeof e.compare)return e.compare;var t=tx(e.field,!0);return function(n,o){return("asc"===e.dir?Px:Mx)(t(n),t(o))}},Rx=function(e,t){return 0},Lx=function(e){var t=tx(e,!0),n=0;return function(o,i){o[e]=o[e]||{};var r=t(i),a=function(e){return(e=qy(e)&&e.getTime?e.getTime():e)+""}(r),s=o[e][a]||{__position:n++,aggregates:{},items:[],value:r};return s.items.push(i),o[e][a]=s,o}},Fx=function(e){var t=e.map(function(e){var t=tx(e.field,!0),n=(e.aggregate||"").toLowerCase(),o=tx(n,!0);return function(i,r){var a=i[e.field]||{},s=o(a)||function(e){return{average:function(){var e=0,t=0;return{calc:function(n){Xy(n)?(e+=n,t++):e=n},result:function(){return Xy(e)?e/t:e}}},count:function(){var e=0;return{calc:function(){return e++},result:function(){return e}}},max:function(){var e=Number.NEGATIVE_INFINITY;return{calc:function(t){(e=Xy(e)||Jy(e)?e:t)<t&&(Xy(t)||Jy(t))&&(e=t)},result:function(){return e}}},min:function(){var e=Number.POSITIVE_INFINITY;return{calc:function(t){(e=Xy(e)||Jy(e)?e:t)>t&&(Xy(t)||Jy(t))&&(e=t)},result:function(){return e}}},sum:function(){var e=0;return{calc:function(t){t=qy(t)?t:0,e+=t},result:function(){return e}}}}[e]()}(n);return s.calc(t(r)),a[e.aggregate]=s,i[e.field]=a,i}});return function(e,n){return t.reduce(function(e,t){return t(e,n)},e)}},zx=function(e,t){return e.push(t),e},Bx=function(e){return function(t){return function(n,o,i){return t(n,e(o,i))}}},Vx=function(e){return function(t){return function(n,o){return e(o)?t(n,o):n}}},Hx=function(e){return qy(e.__value)},qx=function(e){return Hx(e)?e:{__value:e,reduced:!0}},Ux=function(e,t,n){for(var o=t,i=0,r=n.length;i<r;i++)if(o=e(o,n[i],i),Hx(o)){o=o.__value;break}return o},Gx=Bx(function(e){return e}),Wx=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=Gx);var o={};return t.length?function(e){return void 0===e&&(e={}),Object.keys(e).forEach(function(t){var n=e[t];Object.keys(n).forEach(function(e){n[e]=n[e].result()})}),e}(Ux(n(Fx(t)),o,e)):o},Kx=function(e){return qy(e.filters)},Yx=function(e){e.filters&&(e.filters=e.filters.map(function(e){var t,n=Object.assign({},e);return!Kx(e)&&Ky(e.operator)&&(n.operator={"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[(t=e.operator).toLowerCase()]||t),Kx(e)&&Yx(n),n}))},Xx=function(e){return qy(e)&&(e=function(e){return Kx(e)?Object.assign({},e):{filters:Gy(e)?e:[e],logic:"and"}}(e),Yx(e)),e},Jx={or:{concat:function(e,t){return function(n){return e(n)||t(n)}},identity:function(){return!1}},and:{concat:function(e,t){return function(n){return e(n)&&t(n)}},identity:function(){return!0}}},Qx={contains:function(e,t){return(e||"").indexOf(t)>=0},doesnotcontain:function(e,t){return-1===(e||"").indexOf(t)},doesnotendwith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)<0},doesnotstartwith:function(e,t){return-1===(e||"").lastIndexOf(t,0)},endswith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)>=0},eq:function(e,t){return e===t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},isempty:function(e){return""===e},isnotempty:function(e){return""!==e},isnotnull:function(e){return qy(e)},isnull:function(e){return Uy(e)},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},neq:function(e,t){return e!=t},startswith:function(e,t){return 0===(e||"").lastIndexOf(t,0)}},Zx=/^\/Date\((.*?)\)\/$/,$x=function(e){var t=e.field,n=e.ignoreCase,o=e.value,i=e.operator;t=qy(t)?t:function(e){return e},n=!qy(n)||n;var r=function(e,t,n){if(!qy(t))return e;var o=e;if(Ky(t)){var i=Zx.exec(t);i?t=new Date(+i[1]):o=function(t){var o=e(t);if(null===o)return o;var i="string"===typeof o?o:o+"";return n?i.toLowerCase():i}}return Jy(t)?function(e){var t=o(e);return Jy(t)?t.getTime():t}:o}(Wy(t)?t:tx(t,!0),o,n);o=function(e,t){if(null!=e&&Ky(e)){var n=Zx.exec(e);if(n)return new Date(+n[1]).getTime();if(t)return e.toLowerCase()}else if(null!=e&&Jy(e))return e.getTime();return e}(o,n);var a=Wy(i)?i:Qx[i];return function(e){return a(r(e),o,n)}},eb=function(e){var t=Jx[e.logic];return e.filters.filter(qy).map(function(e){return Kx(e)?eb(e):$x(e)}).reduce(t.concat,t.identity)},tb=function(e){return e&&0!==e.filters.length?eb(e):function(){return!0}},nb=function(e){return(e=Gy(e)?e:[e]).map(function(e){return Object.assign({dir:"asc"},e)})},ob=Bx(function(e){return e}),ib=function(e,t,n,o){if(void 0===t&&(t=[]),void 0===n&&(n=ob),void 0===o&&(o=e),!(t=nb(t)).length)return e;var i=t[0],r=Ux(n(Lx(i.field)),{},e),a=[];return Object.keys(r).forEach(function(e){Object.keys(r[e]).forEach(function(n){var s=r[e][n],l={},c=o;qy(i.aggregates)&&(c=function(e,t){return!qy(t)||Kx(t)&&0===t.filters.length?e:e.filter(tb(Xx(t)))}(o,{field:i.field,ignoreCase:!1,operator:"eq",value:s.value}),l=Wx(c,i.aggregates)),a[s.__position]={aggregates:l,field:e,items:t.length>1?ib(s.items,t.slice(1),ob,c):s.items,value:s.value}})}),a},rb=function(e,t){if(t.some(function(e){return qy(e.dir)||qy(e.compare)})){e=e.slice(0);var n=function(e){return e.filter(function(e){return qy(e.dir)||qy(e.compare)}).map(function(e){return Ox(e)}).reduce(function(e,t){return function(n,o){return e(n,o)||t(n,o)}},Rx)}(t);e.sort(n)}return e},ab=function(e,t){var n=t.skip,o=t.take,i=t.filter,r=t.sort,a=t.group,s=vm(vm([],nb(a||[]),!0),r||[],!0);s.length&&(e=rb(e,s));var l,c=qy(i)&&Vx.length,d=qy(a)&&a.length;if(!c&&!d)return{data:o?e.slice(n,n+o):e,total:e.length};var u,p=[];if(c?(l=function(e,t){for(var n=0,o=0,i=e.length;o<i;o++)t(e[o])&&n++;return n}(e,u=tb(Xx(i))),p.push(Vx(u))):l=e.length,qy(n)&&qy(o)&&(p.push(function(e){return function(t){return function(n,o){return e--<=0?t(n,o):n}}}(n)),p.push(function(e){return function(t){return function(n,o){return e-- >0?t(n,o):qx(n)}}}(o))),p.length){var h=Hy.apply(void 0,p),m=d?ib(e,a,h,function(e,t){return t?e.filter(t):e}(e,u)):Ux(h(zx),[],e);return{data:m,total:l}}return{data:d?ib(e,a):e,total:l}};!function(e){e.Contains="contains",e.DoesNotContain="doesnotcontain",e.DoesNotEndWith="doesnotendwith",e.DoesNotStartWith="doesnotstartwith",e.EndsWith="endswith",e.EqualTo="eq",e.GreaterThan="gt",e.GreaterThanOrEqual="gte",e.IsEmpty="isempty",e.IsNotEmpty="isnotempty",e.IsNotNull="isnotnull",e.IsNull="isnull",e.LessThan="lt",e.LessThanOrEqual="lte",e.NotEqualTo="neq",e.StartsWith="startswith"}(ex||(ex={}));var sb=(e=>(e.TOGGLE="GROUP-EXPAND_TOGGLE",e.EXPAND="GROUP-EXPAND_EXPAND",e.COLLAPSE="GROUP-EXPAND_COLLAPSE",e.RESET="GROUP-EXPAND_RESET",e))(sb||{});const lb=e=>{var t;return{enabled:"boolean"==typeof e?e:null==(t=null==e?void 0:e.enabled)||t,defaultExpand:"object"!=typeof e||(null==e?void 0:e.defaultExpand)}},cb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];return null==e||e.forEach(e=>{var o;const i={value:e.value,field:e.field,parents:t?[t,...null!=(o=t.parents)?o:[]]:[]};void 0!==e.expanded&&(i.expanded=e.expanded),e.groups&&n.push(...cb(e.groups,i)),n.push(i)}),n},db=e=>{var t,n,o,i;return"".concat(null!=(t=e.parents)&&t.length?(null==(i=null==(o=null==(n=e.parents)?void 0:n.slice())?void 0:o.reverse())?void 0:i.map(e=>db({field:e.field,value:e.value})).join("/"))+"/":"").concat(e.field,":").concat(e.value)},ub=(e,t)=>{const n=cb(e);return hb(n,t)},pb=e=>{var t;const n=new Map;n.set("root",{value:null,field:"",groups:new Set}),(e=>{e.forEach(e=>{var t,o,i,r;const a=db(e),s=null!=(t=n.get(a))?t:{value:e.value,field:e.field};void 0!==e.expanded&&(s.expanded=e.expanded),n.has(a)||n.set(a,s);let l=s;null!=(o=e.parents)&&o.length?e.parents.forEach((t,o)=>{var i,r,a,s,c,d,u;const p=db({value:t.value,field:t.field,parents:null==(r=e.parents)?void 0:r.slice(o+1,null==(i=null==e?void 0:e.parents)?void 0:i.length)}),h=null!=(a=n.get(p))?a:{value:t.value,field:t.field};t.expanded&&(h.expanded=t.expanded),n.has(p)||n.set(p,h),null!=h&&h.groups||(h.groups=new Set),h.groups.add(l),l=h,o===(null!=(c=null==(s=e.parents)?void 0:s.length)?c:-1)-1&&(null==(u=null==(d=n.get("root"))?void 0:d.groups)||u.add(h))}):null==(r=null==(i=n.get("root"))?void 0:i.groups)||r.add(l)})})(e);const o=e=>{e.groups&&(e.groups=Array.from(e.groups),e.groups.forEach(o))};return o(n.get("root")),(null==(t=n.get("root"))?void 0:t.groups)||[]},hb=(e,t)=>e.find(e=>e.value===t.value&&e.field===t.field&&((e,t)=>{var n;return!(null==(n=t.parents)||!n.every((t,n)=>{var o;return null==(o=e.parents)?void 0:o.find(e=>t.value===e.value&&t.field===e.field)}))})(e,t)),mb="data-keyboardnavlevel",fb="data-keyboardnavscope",gb="data-keyboardnavheader",vb="data-keyboardnavbody",yb="data-keyboardnavid",xb={[fb]:!0},bb={[gb]:!0},wb={[vb]:!0},kb=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cell";return"".concat(t,"_").concat(e,"_").concat(n)},Cb=e=>{if(!e)return;return e.getAttribute(yb)||void 0},Sb=e=>!!e&&!!e.getAttribute(yb),Ib=e=>e&&e.parentElement&&e.parentElement.closest("[".concat(mb,"]")),Eb=(e,t)=>e.querySelector("[".concat(yb,"='").concat(t,"']")),jb=e=>document.querySelector('[data-keyboardnavid="'.concat(e,'"]'));async function Ab(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const o=Date.now();if(t)for(;Date.now()-o<n;){const n=t.querySelector(e);if(n)return n;await new Promise(e=>setTimeout(e,20))}return!1}const _b=e=>e.querySelector("[".concat(gb,"]")),Db=e=>e.querySelector("[".concat(vb,"]")),Nb=(e,t)=>{const{scope:n,navigationStateRef:o,contextStateRef:i}=e;if(!o.current||!n)return;const r=Fb(o.current.navigationMatrix),a=Eb(n,r);Tb({elementForFocus:a,contextStateRef:i,event:t})},Tb=e=>{const{elementForFocus:t,event:n,contextStateRef:o,prevElement:i}=e;if(o.current&&t&&t.focus){null==n||n.preventDefault();const e=t.querySelector(".k-checkbox-wrap .k-checkbox");e&&e.focus?e.focus():t.focus(),Sb(t)&&(t.setAttribute("tabIndex","0"),o.current.activeId=Cb(t)),i&&Sb(i)&&i.setAttribute("tabIndex","-1")}},Pb=(e,t,n,o,i)=>{if(!n)return[];let r=e+(i?-1:1);for(;r>=0&&r<o.length;){const e=o[r][t];if(e!==n)return[e,[r,t]];r+=i?-1:1}return[]},Mb=(e,t,n,o,i)=>{if(!n)return[];let r=t+(i?-1:1);for(;r>=0&&o[e]&&r<o[e].length;){const t=o[e][r];if(t!==n)return[t,[e,r]];r+=i?-1:1}return[]},Ob=(e,t)=>{if(t)for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++)if(e[n][o]===t)return[n,o]},Rb=(e,t,n)=>{let o;do{if(o=t[n-(e+=1)],o&&o.editable)break}while(n-e>=0);return o},Lb=(e,t,n)=>{let o;do{if(o=t[n+(e+=1)],o&&o.editable)break}while(n+e-1<t.length);return o},Fb=e=>e.flat().find(e=>e.endsWith("cell")),zb=e=>e?"".concat(e).concat("_filter"):"",Bb={generateNavigatableId:kb,getNavigatableId:Cb,getNavigatableLevel:e=>{if(e)return parseInt(e.getAttribute(mb)||"",10)},getNavigatableElement:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{level:0};return e.querySelector("[".concat(mb,"='").concat(t.level,"']"))},getClosestNavigatableElement:Ib,getActiveNavDataElement:Eb,getClosestScope:e=>e&&e.parentElement&&e.parentElement.closest("[".concat(fb,"]")),getHeaderElement:_b,getBodyElement:Db,getFocusableElements:function(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focusable:!1}).focusable?Wt:Kt;return Array.from(e.querySelectorAll(t.join(",")))},getNavigatableElements:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{level:0};if(!e)return[];const n=Wt.map(e=>e+"[".concat(mb,"='").concat(t.level,"']")).join(",");return Array.from(e.querySelectorAll(n))},filterNavigatableElements:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{level:0};const t=Wt.map(t=>t+"[".concat(mb,"='").concat(e.level,"']")).join(",");return e=>e.matches(t)},focusElement:Tb,getIdPrefix:e=>e.current?e.current.idPrefix:"",isNavigatable:Sb,findNextIdByRowIndex:Pb,findNextIdByCellIndex:Mb,findId:Ob,getNextNavigationIndex:e=>e.current?e.current.navigationMatrix.length:0,getFilterColumnId:zb,focusFirstDataElement:Nb,getClosestCancelButton:e=>{const t=e&&e.parentElement&&e.parentElement.closest(".k-grid-edit-row");return t&&t.querySelector(".k-grid-cancel-command")},getClosestEditButton:async e=>{const t=e&&e.parentElement&&e.parentElement.closest(".k-grid-edit-row");return await Ab(".k-grid-edit-command",t)},getRowAriaRowIndex:e=>{var t;const n=e&&e.parentElement&&e.parentElement.closest(".k-table-row");let o;return null==(t=null==n?void 0:n.parentElement)||t.childNodes.forEach(e=>{if(n===e){const t=e.previousSibling;o={current:n.getAttribute("aria-rowindex"),prev:t&&t.getAttribute("aria-rowindex")}}}),o},getRemoveButtonByAriaRowIndex:e=>document.querySelector('[aria-rowindex="'.concat(e,'"] .k-grid-remove-command')),getTableCellByKeyboardNavId:jb,getParentCell:e=>(null==e?void 0:e.closest(".k-table-td"))||null,waitForElementToBeVisible:Ab,getNextEditableCell:(e,t,n,o)=>{var i;let r;if(e){const[i,a]=e;let s,l=0;s=Lb(l,t,a),s?r=Mb(i,s.ariaColumnIndex,n,o,!0):(l=-1,s=Lb(l,t,0),r=Mb(i+1,s.ariaColumnIndex,n,o,!0))}return{nextCell:r&&r[0]&&jb(r[0]),elementToFocus:r&&r[0]&&(null==(i=jb(r[0]))?void 0:i.getAttribute("role"))}},getPrevEditableCell:(e,t,n,o)=>{var i;let r;const[a,s]=e;let l;const c=t.length;return l=Rb(0,t,s),l?r=Mb(a,l.ariaColumnIndex,n,o,!0):(l=Rb(0,t,c),r=Mb(a-1,l.ariaColumnIndex,n,o,!0)),{prevCell:r&&r[0]&&jb(r[0]),elementToFocus:r&&r[0]&&(null==(i=jb(r[0]))?void 0:i.getAttribute("role"))}},getClosestCellNavId:e=>{var t;return(null==(t=Ib(e))?void 0:t.getAttribute("data-keyboardnavid"))||e.getAttribute("data-keyboardnavid")}},Vb={filterable:!0,editable:!0,sortable:!0,resizable:!0,reorderable:!0,groupable:!0};function Hb(e,t){const n=e[t].depth;let o=null;for(let i=t+1;i<e.length;i++)if(e[i].depth===n){o=e[i];break}return o}const qb=e=>{let t=e.width?parseFloat(e.width.toString()):0;return!t&&e.children&&e.children.length&&(t=e.children.reduce((e,t)=>qb(t)+e,0)),t};function Ub(e,t,n){const o=new Array(e.length).fill(0);let i=0;t.forEach(e=>{if(e.locked&&(!e.left||n))if(e.left=o[e.depth],i=qb(e),0===e.children.length)for(let t=e.depth;t<o.length;t++)o[t]+=i;else o[e.depth]+=i})}function Gb(e,t,n){let o=0;const i=new Array(e.length).fill(0);for(let r=t.length-1;r>=0;r--){const e=t[r];if(e.locked&&(!e.right||n)){if(e.right=i[e.depth],o=qb(e),0===e.children.length)for(let t=e.depth;t<i.length;t++)i[t]+=o;else i[e.depth]+=o;const n=Hb(t,r);e.rightBorder=!(n&&n.locked)}}}function Wb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=[];if(!e||!e.length)return[];e.forEach(e=>{const i=Wb(e.children||[],t,n+1);o.push(Object.assign({},{depth:n},Vb,e,{id:e.id?e.id:kb("".concat(t.prevId++),t.idPrefix,"column"),declarationIndex:o.length,children:i,rowSpan:0,colSpan:0,isAccessible:!0}))});if(o.sort((e,t)=>e.orderIndex===t.orderIndex?e.declarationIndex-t.declarationIndex:(e.orderIndex||0)-(t.orderIndex||0)),0===n){const e=[],t=(n,o)=>n.forEach(n=>{n.parentIndex=o,t(n.children,e.push(n)-1)});return t(o,-1),e}return o}function Kb(e,t){if(!t||!e||!e.originalEvent)return-1;const n={x:e.clientX,y:e.originalEvent.clientY};let o=t.ownerDocument?t.ownerDocument.elementFromPoint(n.x,n.y):null;for(;o&&o.parentElement!==t;)o=o.parentElement;if(!o&&t.matches("tr")){const e=e=>{const t=e.getBoundingClientRect();return n.x>t.left&&n.x<t.left+t.width&&n.y>t.top&&n.y<t.top+t.height};o=Array.from(t.children).find(e)||null}const i=t.children;for(let r=0;r<i.length;r++)if(i[r]===o)return r;return-1}const Yb=()=>o.createElement(o.Fragment,null),Xb=Yb;var Jb=(e=>(e.head="head",e.body="body",e))(Jb||{}),Qb=(e=>(e.create="create",e.edit="edit",e.delete="delete",e.select="select",e.copySelection="copySelection",e.copySelectionNoHeaders="copySelectionNoHeaders",e.paste="paste",e.reorderRow="reorderRow",e.exportPDF="exportPDF",e.exportExcel="exportExcel",e.separator="separator",e.sortAsc="sortAsc",e.sortDesc="sortDesc",e))(Qb||{});const Zb=["declarationIndex","parentIndex","depth","headerColSpan","rowSpan","index","kFirst","children"],$b=["filterCell","headerCell","footerCell","cells","cell","rowSpannable"];function ew(e,t){const n=(null!=e?e:"").split(".");let o=t;return n.forEach(e=>{o=o?o[e]:void 0}),o}function tw(e,t,n,o,i,r,a,s,l,c){let d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,u=arguments.length>11?arguments[11]:void 0;var p;let h=d;for(let m=0;m<t.length;m++){let f;if(!i||void 0===t[m].value||void 0===t[m].items){e[e.length]={dataIndex:o.index,dataItem:t[m],rowType:"data",level:d,group:u,expanded:null!=(p=r?ew(r,t[m]):c&&!(null==a||!a[tx(c)(t[m])]))&&p},o.index++;continue}{let e;e=null!=u&&u.parents?[{field:u.field,value:u.value},...u.parents]:u?[u]:[],f={field:t[m].field,value:t[m].value,parents:e}}h=Math.max(h,d+1);let g=!1;if(r)g=!1!==ew(r,t[m]);else{const e=ub(s||[],f);g=e?!1!==e.expanded:!1!==l}e[e.length]={dataIndex:-1,dataItem:t[m],level:d,group:f,rowType:"groupHeader",expanded:g},g&&(f.expanded=g,h=Math.max(tw(e,t[m].items,n,o,i,r,a,s,l,c,d+1,f),h)),("always"===n||g&&"visible"===n)&&(e[e.length]={dataIndex:-1,dataItem:t[m],rowType:"groupFooter",level:d,expanded:g})}return h}function nw(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=[];if(!e)return[];e&&void 0===e.length&&(e=[e]),e.forEach((e,a)=>{const s=(e=e.props?e.props:e).id?e.id:Bb.generateNavigatableId("".concat(n.prevId++),n.idPrefix,"column"),l=!!(Lo&&e.media&&window.matchMedia)&&!window.matchMedia(e.media).matches,c=i||l||e.hidden,d=null==t?void 0:t.find(e=>e.id===s),u=nw(e.children,(null==d?void 0:d.children)||[],n,o+1,c);r.push(Object.assign({depth:o},By,u.length?{cell:()=>null,filterCell:()=>null}:{},e,{id:s,declarationIndex:r.length,children:u,headerColSpan:0,rowSpan:0,columnType:e.columnType||"data",colSpan:e.colSpan||1,isAccessible:!0,hidden:c,left:null,right:null,rowSpannable:e.rowSpannable},d?{width:d.width,orderIndex:d.orderIndex}:{}))});if(r.sort((e,t)=>e.orderIndex===t.orderIndex?e.declarationIndex-t.declarationIndex:(e.orderIndex||0)-(t.orderIndex||0)),0===o){const e=[],t=(n,o)=>n.forEach(n=>{n.parentIndex=o,t(n.children,e.push(n)-1)});return t(r,-1),e}return r}const ow=e=>Array.isArray(e)?e:e?e.data:[];const iw=e=>void 0!==e.width?Math.floor(parseFloat(e.width.toString()))+"px":void 0,rw=(e,t)=>t&&t.filter(t=>t.field===e).length>0,aw=e=>(e.sort((e,t)=>e.declarationIndex-t.declarationIndex),e.map(e=>{const{declarationIndex:t,parentIndex:n,depth:o,headerColSpan:i,rowSpan:r,index:a,kFirst:l,children:c}=e,d=s(e,Zb);return c.length?p({children:aw(c)},d):d})),sw=e=>{const{filterCell:t,headerCell:n,footerCell:o,cells:i,cell:r,rowSpannable:a}=e,l=s(e,$b);return e.children.length?p(p({},l),{},{children:e.children.map(sw)}):l},lw=e=>({id:e.id,field:e.field,title:e.title,width:e.width,hidden:!1,children:e.children?cw(e.children):null}),cw=e=>e.map(lw),dw=e=>{const t=[],n=e=>null==e?void 0:e.forEach(e=>{t.push(e),n(e.children)});return n(e),t},uw="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent),pw=17895697,hw=(e,t)=>{if(e||t)return t?e?p(p(p({},e),t),{},{select:p(p({},e.select||{}),t.select||{}),hierarchy:p(p({},e.hierarchy||{}),t.hierarchy||{}),group:p(p({},e.group||{}),t.group||{}),edit:p(p({},e.edit||{}),t.edit||{})}):t:e},mw=e=>{var t;return"object"==typeof e?null==(t=e.enabled)||t:null!=e&&e},fw=e=>!(!e||e.$$typeof!==Symbol.for("react.client.reference")),gw=e=>({id:e.id,ariaColumnIndex:e.ariaColumnIndex,isSelected:e.isSelected,isInEdit:e.isInEdit,isSorted:e.isSorted,isAlt:e.isAlt,expanded:e.expanded,className:e.className,style:e.style,field:e.field,dataItem:e.dataItem,format:e.format,colSpan:e.colSpan,dataIndex:e.dataIndex,columnIndex:e.columnIndex,columnsCount:e.columnsCount,rowType:e.rowType,level:e.level,editor:e.editor,render:e.render,locked:e.locked,isRtl:e.isRtl,rowDataIndex:e.rowDataIndex,columnPosition:e.columnPosition,group:e.group}),vw=e=>{var t,n;const o="object"==typeof e?null==(t=e.enabled)||t:null!=e&&e,i="object"==typeof e&&null!=(n=e.valueGetter)?n:(e,t)=>tx(t)(e);return{enabled:o,valueGetter:i}},yw=(e,t)=>{const n=(e=>{var t;return o.isValidElement(e)?e:null==(t=o.Children.toArray(e))?void 0:t[0]})(e);return n?o.cloneElement(n,t):null},xw=o.createContext([{},()=>{},{}]),bw=e=>{var t,n,i,r,a,s,l,c,d,u,h,m,f,g,v,y,x,b,w,k,C,S;const{children:I,onEditChange:E,onFilterChange:j,onSortChange:A,onSearchChange:_,onPageChange:D,onGroupChange:N,onDataStateChange:T,onSelectionChange:P,onDetailExpandChange:M,onGroupExpandChange:O,onHeaderSelectionChange:R,onColumnsStateChange:L}=e,[F,z]=o.useState({edit:null!=(t=e.defaultEdit)?t:e.edit,filter:null!=(n=e.defaultFilter)?n:e.filter,select:null!=(i=e.defaultSelect)?i:e.select,search:null!=(r=e.defaultSearch)?r:e.search,sort:null!=(a=e.defaultSort)?a:e.sort,take:null!=(s=e.defaultTake)?s:e.take,skip:null!=(l=e.defaultSkip)?l:e.skip,group:null!=(c=e.defaultGroup)?c:e.group,detailExpand:null!=(d=e.defaultDetailExpand)?d:e.detailExpand,groupExpand:null!=(u=e.defaultGroupExpand)?u:e.groupExpand,columnsState:null!=(h=e.defaultColumnsState)?h:e.columnsState}),B={edit:null!=(m=e.edit)?m:F.edit,filter:null!=(f=e.filter)?f:F.filter,search:null!=(g=e.search)?g:F.search,sort:null!=(v=e.sort)?v:F.sort,take:null!=(y=e.take)?y:F.take,skip:null!=(x=e.skip)?x:F.skip,group:null!=(b=e.group)?b:F.group,select:null!=(w=e.select)?w:F.select,detailExpand:null!=(k=e.detailExpand)?k:F.detailExpand,groupExpand:null!=(C=e.groupExpand)?C:F.groupExpand,columnsState:null!=(S=e.columnsState)?S:F.columnsState};return o.createElement(xw.Provider,{value:[B,e=>{},{onEditChange:e=>{z(t=>p(p({},t),{},{edit:e.edit})),null==E||E(e)},onFilterChange:j&&(e=>{z(t=>p(p({},t),{},{filter:e.filter})),null==j||j(e)}),onSearchChange:e=>{z(t=>p(p({},t),{},{search:e.search})),null==_||_(e)},onSortChange:A&&(e=>{z(t=>p(p({},t),{},{sort:e.sort})),null==A||A(e)}),onPageChange:D&&(e=>{z(t=>p(p({},t),e.page)),null==D||D(e)}),onGroupChange:N&&(e=>{z(t=>p(p({},t),{},{group:e.group})),null==N||N(e)}),onDataStateChange:e=>{z(t=>p(p({},t),e.dataState)),null==T||T(e)},onSelectionChange:e=>{z(t=>p(p({},t),{},{select:e.select})),null==P||P(e)},onHeaderSelectionChange:e=>{z(t=>p(p({},t),{},{select:e.select})),null==R||R(e)},onDetailExpandChange:e=>{z(t=>p(p({},t),{},{detailExpand:e.detailExpand})),null==M||M(e)},onGroupExpandChange:e=>{z(t=>p(p({},t),{},{groupExpand:e.groupExpand})),null==O||O(e)},onColumnsStateChange:e=>{z(t=>p(p({},t),{},{columnsState:e.columnsState})),null==L||L(e)}}]},I)},ww=e=>{const t=on(),n=e.id||t,i=po(),r=Tc(),a=Vc(),[,s]=o.useReducer(e=>!e,!0),l=o.useRef(0),c=o.useRef(0),[d,,u]=o.useContext(xw);return yw(e.children,p(p(p({},d),u),{},{id:n,unstyled:i,localization:r,intl:a,scrollLeftRef:l,widthRef:c,forceUpdate:s,isClient:!0}))},kw={wrapper:{main:Yn,size:{small:"".concat(Yn,"-").concat(fn.small),medium:"".concat(Yn,"-").concat(fn.medium)},virtual:"".concat(Yn,"-").concat(pn.virtual)},ariaRoot:"".concat(Yn,"-").concat(Mn.ariaRoot),container:"".concat(Yn,"-").concat(Cn.container),content:{main:"".concat(Yn,"-").concat(Cn.content),virtual:"".concat(pn.prefix,"-").concat(pn.virtual,"-").concat(Cn.content)},tableWrap:"".concat(Yn,"-").concat(Mn.tableWrap),table:{main:"".concat(pn.prefix,"-").concat(Sn.table),gridTable:"".concat(Yn,"-").concat(Sn.table),size:{small:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(fn.small),medium:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(fn.medium)}},tbody:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Sn.tbody),thead:{main:"".concat(Yn,"-").concat(Sn.table,"-").concat(Sn.thead),draggable:"".concat(Yn,"-").concat(En.draggable,"-").concat(Sn.header)},header:{main:"".concat(Yn,"-").concat(Sn.header),draggable:"".concat(Yn,"-").concat(En.draggable,"-").concat(Sn.header)},headerWrap:"".concat(Yn,"-").concat(Sn.header,"-").concat(Cn.wrap),headerTable:{main:"".concat(pn.prefix,"-").concat(Sn.table),header:"".concat(Yn,"-").concat(Sn.header,"-").concat(Sn.table),size:{small:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(fn.small),medium:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(fn.medium)}},headerTh:{main:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Sn.th),header:"".concat(pn.prefix,"-").concat(Sn.header),first:"".concat(pn.prefix,"-").concat(En.first),filterable:"".concat(pn.prefix,"-").concat(En.filterable),locked:"".concat(Yn,"-").concat(Sn.header,"-").concat(En.sticky),sorted:"".concat(pn.prefix,"-").concat(En.sorted)},tableThead:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Sn.thead),heightContainer:"".concat(pn.prefix,"-").concat(bn.height,"-").concat(Cn.container),sortIcon:"".concat(pn.prefix,"-").concat(En.sort,"-").concat(Sn.icon),sortOrder:"".concat(pn.prefix,"-").concat(En.sort,"-").concat(En.order),tr:{main:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Mn.row),header:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Mn.group,"-").concat(Mn.row),grouping:"".concat(pn.prefix,"-").concat(En.grouping,"-").concat(Mn.row),footer:"".concat(pn.prefix,"-").concat(Mn.group,"-").concat(Sn.footer),master:"".concat(pn.prefix,"-").concat(Mn.master,"-").concat(Mn.row),rowAlt:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(En.alt,"-").concat(Mn.row),alt:"".concat(pn.prefix,"-").concat(En.alt),selected:"".concat(pn.prefix,"-").concat(En.selected),isInEdit:"".concat(Yn,"-").concat(En.edit,"-").concat(Mn.row)},detailTr:{main:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Mn.row),row:"".concat(pn.prefix,"-").concat(Mn.detail,"-").concat(Mn.row),rowAlt:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(En.alt,"-").concat(Mn.row),alt:"".concat(pn.prefix,"-").concat(En.alt)},simpleTr:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Mn.row),headerCellInner:"".concat(pn.prefix,"-").concat(Mn.cellInner),columnTitle:"".concat(pn.prefix,"-").concat(Mn.column,"-").concat(Sn.title),headerCellLink:{main:"".concat(pn.prefix,"-").concat(Sn.link),notSortable:"".concat(pn.important).concat(pn.prefix,"-").concat(wn.default)},noRecords:"".concat(Yn,"-").concat(Mn.noRecords),noRecordsTemplate:"".concat(Yn,"-").concat(Mn.noRecords,"-").concat(En.template),pager:"".concat(Yn,"-").concat(Mn.pager),sorted:"".concat(pn.prefix,"-").concat(En.sorted),contentSticky:"".concat(Yn,"-").concat(Cn.content,"-").concat(En.sticky),hierarchyCell:{main:"".concat(pn.prefix,"-").concat(Mn.hierarchy,"-").concat(Mn.cell),header:"".concat(pn.prefix,"-").concat(Sn.header)},rowReorder:{dropIndicator:{main:"".concat(pn.prefix,"-").concat(On,"-").concat(Ln),direction:"".concat(pn.prefix,"-").concat(On,"-").concat(Ln,"-").concat(Fn)},dragClue:{main:"".concat(pn.prefix,"-").concat(Rn,"-").concat(zn),operation:"".concat(pn.prefix,"-").concat(Bn,"-").concat(zn)}},td:{main:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Sn.td),selected:"".concat(pn.prefix,"-").concat(En.selected)},detailTd:{main:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Sn.td),cell:"".concat(pn.prefix,"-").concat(Mn.detail,"-").concat(Mn.cell)},editTd:{main:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Sn.td),cell:"".concat(Yn,"-").concat(En.edit,"-").concat(Mn.cell),selected:"".concat(pn.prefix,"-").concat(En.selected)},hierarchyTd:{main:"".concat(pn.prefix,"-").concat(Sn.table,"-").concat(Sn.td),cell:"".concat(pn.prefix,"-").concat(Mn.hierarchy,"-").concat(Mn.cell)}},Cw={wrapper:e=>{const{size:t,virtual:n,c:o=kw.wrapper}=e;return{[o.main]:!0,[o.size[t]]:o.size[t],["".concat(Yn,"-").concat(t)]:t&&!o.size[t],[o.virtual]:n}},ariaRoot:e=>{const{c:t=kw}=e;return t.ariaRoot},container:e=>{const{c:t=kw}=e;return t.container},content:e=>{const{c:t=kw.content}=e;return{[t.main]:!0,[t.virtual]:!0}},tableWrap:e=>{const{c:t=kw}=e;return t.tableWrap},table:e=>{const{size:t,c:n=kw.table}=e;return{[n.main]:!0,[n.gridTable]:!0,[n.size[t]]:n.size[t],["".concat(pn.prefix,"-").concat(Sn,"-").concat(t)]:!n.size[t]}},tbody:e=>{const{c:t=kw}=e;return t.tbody},thead:e=>{const{draggable:t,c:n=kw.thead}=e;return{[n.main]:!0,[n.draggable]:t}},header:e=>{const{draggable:t,c:n=kw.header}=e;return{[n.main]:!0,[n.draggable]:t}},headerWrap:e=>{const{c:t=kw}=e;return t.headerWrap},headerTable:e=>{const{size:t,c:n=kw.headerTable}=e;return{[n.main]:!0,[n.header]:!0,[n.size[t]]:n.size[t],["".concat(pn.prefix,"-").concat(Sn.table,"-").concat(t)]:!n.size[t]}},headerTh:e=>{const{first:t,filterable:n,locked:o,sorted:i,c:r=kw.headerTh}=e;return{[r.main]:!0,[r.header]:!0,[r.first]:t,[r.filterable]:n,[r.locked]:o,[r.sorted]:i}},tableThead:e=>{const{c:t=kw}=e;return t.tableThead},heightContainer:e=>{const{c:t=kw}=e;return t.heightContainer},sortIcon:e=>{const{c:t=kw}=e;return t.sortIcon},sortOrder:e=>{const{c:t=kw}=e;return t.sortOrder},tr:e=>{const{isHeader:t,isFooter:n,isMaster:o,isAltRow:i,selected:r,isInEdit:a,c:s=kw.tr}=e;return{[s.main]:!0,[s.header]:t,[s.grouping]:t,[s.footer]:n,[s.master]:o,[s.rowAlt]:o&&i,[s.alt]:o&&i,[s.selected]:r,[s.isInEdit]:a}},detailTr:e=>{const{isAlt:t,c:n=kw.detailTr}=e;return{[n.main]:!0,[n.row]:!0,[n.rowAlt]:t,[n.alt]:t}},simpleTr:e=>{const{c:t=kw}=e;return t.simpleTr},rowReorder:e=>{const{dropIndicatorMain:t,dropIndicatorDirection:n,dragClueMain:o,dragClueOperation:i,c:r=kw.rowReorder}=e;return{[r.dropIndicator.main]:t,[r.dropIndicator.direction]:n,[r.dragClue.main]:o,[r.dragClue.operation]:i}},headerCellInner:e=>{const{c:t=kw}=e;return t.headerCellInner},columnTitle:e=>{const{c:t=kw}=e;return t.columnTitle},headerCellLink:e=>{const{sortable:t,c:n=kw.headerCellLink}=e;return{[n.main]:!0,[n.notSortable]:!t}},noRecords:e=>{const{c:t=kw}=e;return t.noRecords},noRecordsTemplate:e=>{const{c:t=kw}=e;return t.noRecordsTemplate},pager:e=>{const{c:t=kw}=e;return t.pager},sorted:e=>{const{c:t=kw}=e;return t.sorted},contentSticky:e=>{const{locked:t,c:n=kw}=e;return{[n.contentSticky]:t}},hierarchyCell:e=>{const{c:t=kw.hierarchyCell}=e;return{[t.main]:!0,[t.header]:!0}},td:e=>{const{selected:t,c:n=kw.td}=e;return{[n.main]:!0,[n.selected]:t}},detailTd:e=>{const{c:t=kw.detailTd}=e;return{[t.main]:!0,[t.cell]:!0}},editTd:e=>{const{selected:t,c:n=kw.editTd}=e;return{[n.main]:!0,[n.cell]:!0,[n.selected]:t}},hierarchyTd:e=>{const{c:t=kw.hierarchyTd}=e;return{[t.main]:!0,[t.cell]:!0}}};const Sw=(e,t)=>t&&!e?t:e&&!t?e:e&&t?{logic:"and",filters:[e,t]}:void 0,Iw=e=>{var t;return{enabled:"boolean"==typeof e?e:null==(t=null==e?void 0:e.enabled)||t,column:"boolean"==typeof e||null==e?void 0:e.column}},Ew="data-grid-row-index",jw="data-grid-col-index",Aw="data-prevent-selection",_w={},Dw=(e,t)=>{let n=e;for(;n;){if(n.tagName===t)return n;if("TABLE"===n.tagName)return null;n=n.parentElement}return null},Nw=e=>{if(!e)return;const t=e.getAttribute(Ew);return t?parseInt(t,10):void 0},Tw=e=>{if(!e)return;const t=e.getAttribute(jw);return t?parseInt(t,10):void 0},Pw=e=>{const{event:t,dataItemKey:n,selectedState:o}=e,{dataItems:i,startRowIndex:r,endRowIndex:a,startColIndex:s,endColIndex:l,cell:c,isDrag:d,ctrlKey:u,shiftKey:h,metaKey:m,componentId:f,mode:g,dataItem:v}=t,y=Cr(n);let x={};const b=null!==v;if("single"===g){const e=i.slice(r,r+1)[0],t=y(e);_w[f]={rowIndex:r,colIndex:s},void 0!==t&&(x[t]=!c||[s])}else if(!d&&(h||u||m||b)){if(u||m||b){_w[f]={rowIndex:r,colIndex:s};const e=i.slice(r,a+1)[0],t=y(e);void 0!==t&&(x=p({},o),x[t]=c&&!b?((e,t)=>!e||Array.isArray(e)&&0===e.length?[t]:e.findIndex(e=>e===t)>-1?e.filter(e=>e!==t):[...e,t])(x[t],s):!x[t])}else if(h){const e=_w[f]&&_w[f].rowIndex||0,t=_w[f]&&_w[f].colIndex||0,n=Math.min(e,r,a),o=Math.max(e,r,a),d=Math.min(t,s,l),u=Math.max(t,s,l),p=[];for(let i=d;i<=u;i++)p.push(i);i.slice(n,o+1).forEach(e=>{const t=y(e);void 0!==t&&(x[t]=!c||[...p])})}}else{d||(_w[f]={rowIndex:r,colIndex:s});const e=[];for(let t=s;t<=l;t++)e.push(t);i.slice(r,a+1).forEach(t=>{const n=y(t);void 0!==n&&(x[n]=!c||[...e])})}return x},Mw=(e=>{if(!Lo)return!1;const t=e?e.ownerDocument:document;if(!t||!t.body)return!1;const n=t.createElement("div");n.style.transform="matrix(10, 0, 0, 10, 0, 0)";const o=t.createElement("div");o.appendChild(t.createTextNode("child")),o.style.position="fixed",o.style.top="10px",n.appendChild(o),t.body.appendChild(n);const i=10!==o.getBoundingClientRect().top;return t.body.removeChild(n),i})(),Ow=e=>{var t,n,o,i;return{enabled:"object"==typeof e?null==(t=e.enabled)||t:null!=e&&e,drag:"object"==typeof e&&null!=(n=e.drag)&&n,mode:"object"==typeof e&&null!=(o=e.mode)?o:"multiple",cell:"object"==typeof e&&null!=(i=e.cell)&&i}},Rw="pager.info",Lw="pager.firstPage",Fw="pager.previousPage",zw="pager.nextPage",Bw="pager.lastPage",Vw="pager.itemsPerPage",Hw="pager.pageSelection",qw="pager.page",Uw="pager.of",Gw="pager.totalPages",Ww="pager.pageNumberLabel",Kw="pager.pageLabel",Yw="pager.ariaKeyshortcuts",Xw="pager.ariaLabel",Jw="pager.pageSizeAriaLabel",Qw="pager.mobileSelect",Zw="pager.moreButtonLabel",$w="filter.eqOperator",ek="filter.notEqOperator",tk="filter.isNullOperator",nk="filter.isNotNullOperator",ok="filter.isEmptyOperator",ik="filter.isNotEmptyOperator",rk="filter.startsWithOperator",ak="filter.containsOperator",sk="filter.notContainsOperator",lk="filter.endsWithOperator",ck="filter.gteOperator",dk="filter.gtOperator",uk="filter.lteOperator",pk="filter.ltOperator",hk="filter.isTrue",mk="filter.isFalse",fk="filter.afterOrEqualOperator",gk="filter.afterOperator",vk="filter.beforeOperator",yk="filter.beforeOrEqualOperator",xk="filter.andLogic",bk="filter.orLogic",wk="filter.addExpression",kk="filter.addGroup",Ck="filter.close",Sk="filter.groupAriaLabel",Ik="filter.expressionAriaLabel",Ek="filter.expressionDropdownAriaLabel",jk="filter.expressionOperatorDropdownAriaLabel",Ak="filter.enumFilterDropdownAriaLabel",_k="filter.numericFilterAriaLabel",Dk="filter.textFilterAriaLabel",Nk="columnMenu.filterClearButton",Tk="columnMenu.filterSubmitButton",Pk="columnMenu.filterTitle",Mk="columnMenu.sortAscending",Ok="columnMenu.sortDescending",Rk="columnMenu.filterEqOperator",Lk="columnMenu.filterNotEqOperator",Fk="columnMenu.filterIsNullOperator",zk="columnMenu.filterIsNotNullOperator",Bk="columnMenu.filterIsEmptyOperator",Vk="columnMenu.filterIsNotEmptyOperator",Hk="columnMenu.filterStartsWithOperator",qk="columnMenu.filterContainsOperator",Uk="columnMenu.filterNotContainsOperator",Gk="columnMenu.filterEndsWithOperator",Wk="columnMenu.filterGteOperator",Kk="columnMenu.filterGtOperator",Yk="columnMenu.filterLteOperator",Xk="columnMenu.filterLtOperator",Jk="columnMenu.filterIsTrue",Qk="columnMenu.filterAfterOrEqualOperator",Zk="columnMenu.filterAfterOperator",$k="columnMenu.filterBeforeOperator",eC="columnMenu.filterBeforeOrEqualOperator",tC="columnMenu.filterAndLogic",nC="columnMenu.filterOrLogic",oC="sort.ariaLabel",iC="filter.ariaLabel",rC={[Vw]:"items per page",[Hw]:"Select page",[Rw]:"{0} - {1} of {2} items",[Lw]:"Go to the first page",[Fw]:"Go to the previous page",[zw]:"Go to the next page",[Bw]:"Go to the last page",[qw]:"Page",[Uw]:"of",[Gw]:"{0}",[Kw]:"Page",[Yw]:"Enter ArrowRight ArrowLeft",[Xw]:"Pager",[Jw]:"Page size",[Qw]:"Select",[Zw]:"More pages",[Ww]:"Type a page number",[oC]:"Sortable",[iC]:"Filter",[$w]:"Is equal to",[ek]:"Is not equal to",[tk]:"Is null",[nk]:"Is not null",[ok]:"Is empty",[ik]:"Is not empty",[rk]:"Starts with",[ak]:"Contains",[sk]:"Does not contain",[lk]:"Ends with",[ck]:"Is greater than or equal to",[dk]:"Is greater than",[uk]:"Is less than or equal to",[pk]:"Is less than",[hk]:"Is true",[mk]:"Is false",[fk]:"Is after or equal to",[gk]:"Is after",[vk]:"Is before",[yk]:"Is before or equal to",[xk]:"And",[bk]:"Or",[wk]:"Add Expression",[kk]:"Add Group",[Ck]:"Remove",[Sk]:"Filter toolbar",[Ik]:"Filter expression row",[Ek]:"Filter dropdown",[jk]:"Filter operator dropdown",[Ak]:"Select True/False",[_k]:"Enter number",[Dk]:"Enter text",[Nk]:"Clear",[Tk]:"Filter",[Pk]:"Filter",[Mk]:"Sort Ascending",[Ok]:"Sort Descending",[Rk]:"Is equal to",[Lk]:"Is not equal to",[Fk]:"Is null",[zk]:"Is not null",[Bk]:"Is empty",[Vk]:"Is not empty",[Hk]:"Starts with",[qk]:"Contains",[Uk]:"Does not contain",[Gk]:"Ends with",[Wk]:"Is greater than or equal to",[Kk]:"Is greater than",[Yk]:"Is less than or equal to",[Xk]:"Is less than",[Jk]:"Is true",[Qk]:"Is after or equal to",[Zk]:"Is after",[$k]:"Is before",[eC]:"Is before or equal to",[tC]:"And",[nC]:"Or"},aC=(e,t)=>t?t(e):{messageKey:e,defaultMessage:rC[e]},sC=(e,t)=>e.toLanguageString(t.messageKey,t.defaultMessage),lC=e=>{const t=Tc(),{messagesMap:n,size:i,totalPages:r,type:a,navigatable:s}=e,l=aC(Qw,n),c=aC(qw,n),d=aC(Zw,n),u=sC(t,d),p=(t,n)=>{t.preventDefault(),e.pageChange(n,t)},h=(e,t)=>o.createElement(bo,{fillMode:"flat",themeColor:"primary",size:i,rounded:null,role:"button","aria-label":t,onClick:t=>p(t,e),tabIndex:s?-1:void 0},"..."),m=e=>o.createElement("option",{value:e},"...");let f=1;const g=e.currentPage,v=e.buttonCount;if(g>v){const e=g%v;f=0===e?g-v+1:g-e+1}const y=Math.min(f+e.buttonCount-1,e.totalPages),x=f>1&&h(f-1,u),b=y<r&&h(y+1,u),w=f>1&&m(f-1),k=y<r&&m(y+1),C=[];for(let o=f;o<=y;o++)C.push(o);const S=C.map(e=>o.createElement(bo,{className:rn({"k-selected":g===e}),key:e,fillMode:"flat",themeColor:"primary",size:i,rounded:null,role:"button","aria-label":sC(t,c)+" "+e,"aria-current":g===e||void 0,onClick:t=>p(t,e),tabIndex:s?-1:void 0},e)),I=C.map(e=>o.createElement("option",{key:e},e));return o.createElement(o.Fragment,null,o.createElement("select",{style:{width:"5em",margin:"0px 1em",display:"inline-flex"},className:rn("k-picker k-dropdown-list k-dropdown k-rounded-md k-picker-solid",{["k-picker-".concat(Co.sizeMap[i]||i)]:i,"k-hidden":"dropdown"!==a}),"aria-label":sC(t,l),value:g,onChange:t=>(t=>{t.preventDefault(),e.pageChange(t.target.value,t)})(t)},w,I,k),o.createElement("div",{className:"k-pager-numbers",style:{display:"numbers"===a?"":"none"}},x,S,b))},cC=e=>{const[t,n]=o.useState(e.currentPage),i=Vc(),r=Tc(),a=aC(qw,e.messagesMap),s=aC(Uw,e.messagesMap),l=aC(Gw,e.messagesMap),c=aC(Ww,e.messagesMap);return o.createElement("span",{className:"k-pager-input"},o.createElement("span",null,sC(r,a)),o.createElement(xu,{value:void 0!==e.currentPage?e.currentPage:t,onChange:t=>{n(t.target.value),t.target.value&&e.pageChange(t.target.value,t)},min:1,spinners:!1,ariaLabel:sC(r,c),tabIndex:e.navigatable?-1:void 0}),o.createElement("span",null,"".concat(sC(r,s)," ").concat(i.format(sC(r,l),[e.totalPages]))))},dC=e=>{const{value:t,pageSizes:n,pageSize:i,messagesMap:r,size:a,navigatable:s}=e,l=n.slice(),c=Tc();void 0===t&&0===l.filter(e=>e===i).length&&l.unshift(i);const d=aC(Vw,r),u=aC(Jw,r);return o.createElement("span",{className:"k-pager-sizes"},o.createElement(Sh,{value:void 0!==t?t:i,data:l,onChange:t=>{e.pageChange&&e.pageChange({skip:0,take:parseInt(t.target.value,10)},t)},ariaLabel:sC(c,u),size:a,tabIndex:s?-1:void 0}),o.createElement("span",null,sC(c,d)))},uC=o.forwardRef((e,t)=>{const{buttonCount:n=pC.buttonCount,info:i=pC.info,type:r=pC.type,size:a=pC.size,disabled:s=pC.disabled,total:l,skip:c,take:d,className:u,style:h,pageSizes:m,pageSizeValue:f,previousNext:g,responsive:v,messagesMap:y,dir:x,navigatable:b}=e,w=Tc(),k=Vc(),C=o.useRef({element:null,props:e}),S=o.useRef(null);o.useImperativeHandle(C,()=>({get element(){return I()},props:e})),o.useImperativeHandle(t,()=>C.current);const I=()=>S.current,[E,j]=o.useState(!0),[A,_]=o.useState(!0);o.useEffect(()=>(window.addEventListener("resize",M),M(),()=>{window.removeEventListener("resize",M)}),[]);const D="rtl"===x,N=Math.floor(c/d)+1,T=Math.ceil((l||0)/d),P=(t,n)=>{e.onPageChange&&t>0&&t<=T&&e.onPageChange({target:C.current,skip:(t-1)*e.take,take:e.take,syntheticEvent:n,nativeEvent:n.nativeEvent,targetEvent:n})},M=()=>{const e=S.current;if(!e||!v)return;const t=e.offsetWidth;t<600?j(!1):t>=600&&t<768?(_(!1),j(!0)):(_(!0),j(!0))},O=aC(Lw,y),R=aC(Fw,y),L=aC(zw,y),F=aC(Bw,y),z=aC(Rw,y),B=aC(Yw,y),V=aC(qw,y),H=aC(Uw,y),q=aC(Gw,y),U="".concat(w.toLanguageString(V.messageKey,V.defaultMessage)," ").concat(k.format(w.toLanguageString(q.messageKey,q.defaultMessage),[N])," ").concat(w.toLanguageString(H.messageKey,H.defaultMessage)," ").concat(k.format(w.toLanguageString(q.messageKey,q.defaultMessage),[T])),G=(e,t,n,i,r,s)=>o.createElement(bo,{fillMode:"flat",themeColor:"base",size:a,rounded:null,className:t,icon:i,svgIcon:r,title:n,role:"button","aria-disabled":s,tabIndex:b?-1:void 0,onClick:t=>{t.preventDefault(),P(e,t)}}),W=m&&o.createElement(dC,{pageChange:(t,n)=>{const o=p({target:null==C?void 0:C.current,syntheticEvent:n.syntheticEvent,nativeEvent:n.nativeEvent,targetEvent:n},t);e.onPageChange&&e.onPageChange(o)},pageSize:d,pageSizes:m,value:f,messagesMap:y,size:a,navigatable:b}),K=i&&o.createElement("span",{className:"k-pager-info"},k.format(w.toLanguageString(z.messageKey,z.defaultMessage),[Math.min(c+1,l),Math.min(c+d,l),l])),Y="numeric"===r?o.createElement(lC,{type:v&&!E?"dropdown":"numbers",buttonCount:n||0,totalPages:T,currentPage:N,pageChange:P,messagesMap:y,size:a,navigatable:b}):o.createElement(cC,{buttonCount:n||0,totalPages:T,currentPage:N,pageChange:P,messagesMap:y,size:a,navigatable:b});let X,J,Q,Z;if(g){const e=sC(w,O),{rtlClass:t,rtlIcon:n,isDisabledClass:o,isDisabled:i}=((e,t,n)=>({rtlClass:e?"caret-alt-to-right":"caret-alt-to-left",rtlIcon:e?$c:ed,isDisabledClass:"k-pager-nav k-pager-first"+(1!==t||n?"":" k-disabled"),isDisabled:1===t||void 0}))(D,N,s);X=G(1,o,e,t,n,i);const r=sC(w,R),{rtlClass:a,rtlIcon:l,isDisabledClass:c,isDisabled:d}=((e,t,n)=>({rtlClass:e?"caret-alt-right":"caret-alt-left",rtlIcon:e?Jc:Zc,isDisabledClass:"k-pager-nav"+(1!==t||n?"":" k-disabled"),isDisabled:1===t||void 0}))(D,N,s);J=G(N-1,c,r,a,l,d);const u=sC(w,L),{rtlClass:p,rtlIcon:h,isDisabledClass:m,isDisabled:f}=((e,t,n,o)=>({rtlClass:e?"caret-alt-left":"caret-alt-right",rtlIcon:e?Zc:Jc,isDisabledClass:"k-pager-nav"+(t>=n&&!o?" k-disabled":""),isDisabled:t>=n||void 0}))(D,N,T,s);Q=G(N+1,m,u,p,h,f);const g=sC(w,F),{rtlClass:v,rtlIcon:y,isDisabledClass:x,isDisabled:b}=((e,t,n,o)=>({rtlClass:e?"caret-alt-to-left":"caret-alt-to-right",rtlIcon:e?ed:$c,isDisabledClass:"k-pager-nav k-pager-last"+(t>=n&&!o?" k-disabled":""),isDisabled:t>=n||void 0}))(D,N,T,s);Z=G(T,x,g,v,y,b)}return o.createElement("div",{ref:S,className:rn("k-pager",{["k-pager-".concat(Co.sizeMap[a]||a)]:a,"k-disabled":s},u),style:h,role:"application","aria-roledescription":"pager",dir:x,"aria-keyshortcuts":w.toLanguageString(B.messageKey,B.defaultMessage),"aria-label":U,tabIndex:b?0:void 0,onKeyDown:e=>{const t=S.current,n=e.keyCode;!t||!b||((n===Rt||e.metaKey&&n===Lt)&&P(1,e),(n===Ot||e.metaKey&&n===zt)&&P(T,e),document.activeElement===t?(n===Dt&&(Qt(t),$t(t)),(n===Lt||n===Ft)&&P(N-1,e),(n===zt||n===Bt)&&P(N+1,e)):(n===Nt&&(t.focus(),en(t)),Zt(e,t,Kt)))}},o.createElement("div",{className:rn("k-pager-numbers-wrap")},X,J,Y,Q,Z),v?E&&W:W,v?A&&K:K)}),pC={buttonCount:10,info:!0,type:"numeric",size:"medium",disabled:!1};function hC(e,t){const n=(e||"").split(".");let o=t;return n.forEach(e=>{o=o?o[e]:void 0}),o}uC.displayName="Pager",uC.propTypes={className:jt.string,style:jt.object,total:jt.number.isRequired,skip:jt.number.isRequired,take:jt.number.isRequired,buttonCount:jt.number,info:jt.bool,type:jt.oneOf(["numeric","input"]),pageSizes:jt.oneOfType([jt.arrayOf(jt.number.isRequired),jt.arrayOf(jt.oneOfType([jt.number.isRequired,jt.string.isRequired]).isRequired)]),previousNext:jt.bool,onPageChange:jt.func,messagesMap:jt.func,size:jt.oneOf([null,"small","medium","large"]),dir:jt.string,disabled:jt.bool};var mC=(e=>(e.copy="copy",e.cut="cut",e.paste="paste",e))(mC||{});const fC=(e,t)=>{var n,o,i;const{event:r}=e,a=r.dataItem,s=null!=(o=null!=(n=e.dataItemKey)?n:r.dataItemKey)?o:"",l=Cr(s),c=a&&!a.selected&&r.field?[{dataItem:r.dataItem,fields:[r.field]}]:gC(e),d=c.length?c[0].fields[0]:null!=(i=r.columns[0].field)?i:"",u=r.columns.map(e=>{var t;return null!=(t=e.field)?t:""}),p=u.indexOf(d),h=((e,t)=>{var n;return"paste"===(null==(n=e.event.nativeEvent)?void 0:n.type)?((e,t)=>{var n,o;const{event:i}=e,r=t.includes("\n")?"\n":null,a=null!=(n=i.cellDelimiter)?n:"\t",s=null!=(o=i.newLineDelimiter)?o:"\r\n",l=t.includes(s)?s:r;return(l?t.split(l):[t]).map(e=>e.includes(a)?e.split(a):[e])})(e,t):(e=>(null==e?void 0:e.map(e=>e.fields.map(t=>e.dataItem[t].toString())))||[])(e.previousCopiedItems)})(e,t),m=((e,t,n,o)=>{const i=Cr(o),r=e.data.findIndex(e=>i(e)===i(t[0].dataItem))||0,a=t.length<2?n:t.length;return e.data.filter((e,t)=>t>=r&&t<r+a)||[]})(e,c,h.length,s);return h.slice(0,m.length).map((e,t)=>{const n=p+e.length,o=u.slice(p,n),i={[s]:l(m[t])};return o.forEach((t,n)=>i[t]=e[n]),{dataItem:i,fields:o}})},gC=e=>{var t,n;const{event:o,selectedState:i,data:r}=e,a=Cr(null!=(n=null!=(t=e.dataItemKey)?t:o.dataItemKey)?n:""),s={},l=[];return Object.entries(i).forEach(e=>{let[t,n]=e;s[t]=function(e){return void 0!==e.length}(n)?n.map(e=>o.columns[e]).filter(e=>!e.declarationIndex||e.declarationIndex>=0):o.columns.filter(e=>!e.declarationIndex||e.declarationIndex>=0)}),null==r||r.map(e=>{const t=a(e)||"";return s[t]&&l.push({dataItem:e,fields:s[t].map(e=>{var t;return null!=(t=e.field)?t:""})}),e}),l},vC=(e,t)=>{let n="";if("paste"===e.type){const t=e.nativeEvent?e.nativeEvent.clipboardData:"";n=t?t.getData("text").trim():""}else n=((e,t)=>{var n,o;const i=null!=(n=t.newLineDelimiter)?n:"\r\n",r=e.map((e,n)=>{var o;let i=null!=(o=((e,t)=>{if(!t.length)return null;let n="";return t.forEach((t,o,i)=>n+="".concat(e[t]).concat(o<i.length-1?"\t":"")),n})(e.dataItem,e.fields))?o:"";return t.copyHeaders&&0===n&&(i=((e,t,n)=>{var o,i;const r=null!=(o=n.cellDelimiter)?o:"\t",a=null!=(i=n.newLineDelimiter)?i:"\r\n";return"".concat(t.join(r)).concat(a).concat(e)})(i,e.fields,t)),i?[i]:[]}).join(i);return null==(o=navigator.clipboard)||o.writeText(r),r})(t,e);return n};var yC=(e=>(e.incell="incell",e.inline="inline",e))(yC||{});const xC=e=>{const{navigatable:t,contextStateRef:n,navigationStateRef:o,idPrefix:i}=e;t&&(n.current={activeId:"",level:0},o.current={activeElementIsFocused:!1,prevNavigationIndexes:void 0,idPrefix:i||tn(),navigationMatrix:[],lastHeaderIndex:-1})},bC=e=>{const{scope:t,contextStateRef:n,navigationStateRef:o}=e;if(n.current&&o.current&&t){wC(e);const i=Fb(o.current.navigationMatrix);if(i){const e=Bb.getActiveNavDataElement(t,i);e&&(n.current.activeId=i,e.setAttribute("tabIndex","0"))}}},wC=e=>{const{navigationStateRef:t,scope:n}=e;if(!t.current||!n)return;const o=[],i=_b(n),r=Db(n),a=(e=>e.querySelector(".k-grid-norecords"))(n)||{children:[]};if(!i||!r)return;const s=Array.from(i.children),l=Array.from(r.children);[...s,...l,a].forEach((e,t)=>{Array.from(e.children).forEach(e=>{const n=Cb(e);if(!n)return;const i=e.rowSpan||1,r=e.colSpan||1;let a;for(let s=t,l=t+i;s<l;s++){if(o[s]||(o[s]=[]),void 0===a){const e=o[s].findIndex(e=>!e);a=e>-1?e:o[s].length}o[s][a]=n||""}for(let s=a+1,l=a+r;s<l;s++)o[t][s]=n||""})}),t.current.navigationMatrix=o.filter(e=>!!e),t.current.lastHeaderIndex=s.length-1},kC=xC,CC=bC,SC=e=>{const{contextStateRef:t,navigationStateRef:n,document:o}=e;if(t.current&&n.current&&o){const e=Kc(o),i=Bb.getNavigatableId(e);i&&i===t.current.activeId&&(n.current.activeElementIsFocused=!0)}},IC=e=>{const{scope:t,contextStateRef:n,navigationStateRef:o,focusFirst:i,newEditableRow:r,singleEditRow:a,lastActiveElement:s,navigatable:l}=e;if(i&&(xC(e),bC(e),Nb(e)),(!l||l&&l.mode===yC.inline)&&(r&&!a||r&&a&&!s)?(e=>{const t=e.querySelector(".k-grid-edit-cell"),n=t&&t.querySelector("input");n?n.focus():t&&t.firstChild.focus()})(r):l&&l.mode===yC.inline&&r&&a&&s&&s.focus(),wC(e),n.current&&o.current&&t){if(!Bb.getActiveNavDataElement(t,n.current.activeId)){const e=-1===t.className.indexOf("k-treelist")?Fb(o.current.navigationMatrix):o.current.navigationMatrix[0][0],i=Bb.getActiveNavDataElement(t,e);e&&i&&(n.current.activeId=e,i.setAttribute("tabIndex","0"),o.current.activeElementIsFocused&&i.focus())}o.current.activeElementIsFocused=!1}},EC=(e,t)=>{const{contextStateRef:n}=t;if(e.isDefaultPrevented()||!n.current)return;const o=e.target,i=Bb.getNavigatableId(o);if(i&&i!==n.current.activeId){const t=Bb.getClosestScope(o);if(!t)return;const r=Bb.getActiveNavDataElement(t,n.current.activeId);r&&!e.target.classList.contains("k-table-td")&&!e.target.classList.contains("k-detail-cell")&&r.setAttribute("tabIndex","-1"),o.setAttribute("tabIndex","0"),n.current.activeId=i}else if(o.closest(".k-filtercell")&&t.navigatable){const e=o.closest(".k-table-td");$t(e)}},jC=async(e,t)=>{var n,o,i,r;const{contextStateRef:a,navigationStateRef:s,onNavigationAction:l,columns:c}=t;if(e.isDefaultPrevented()||!a.current||!s.current)return;let d;if(e.keyCode===Nt&&!t.navigatable.mode)return d=Bb.getClosestNavigatableElement(e.target),Bb.focusElement({elementForFocus:d,event:e,contextStateRef:a}),void(e.target.closest(".k-filtercell")&&d&&t.navigatable&&en(d));const u=e.target,p=-1===u.className.indexOf("k-checkbox")?u:Bb.getClosestNavigatableElement(u),h=Bb.getNavigatableId(p)||(null==(n=Bb.getParentCell(p))?void 0:n.getAttribute("data-keyboardnavid")),m=null==h?void 0:h.endsWith("column"),f=null==h?void 0:h.endsWith("column_filter"),g=Bb.getNavigatableLevel(p),v=Bb.getClosestScope(p),y=s.current.navigationMatrix,x=e.metaKey||e.ctrlKey,b=((e,t,n)=>{let o;if(e.current&&e.current.prevNavigationIndexes){const[i,r]=e.current.prevNavigationIndexes,a=t[i];o=a&&a[r]===n?e.current.prevNavigationIndexes:Ob(t,n)}else o=Ob(t,n);return o})(s,y,h),w=p.closest(".k-table-td"),k=null==(o=p.closest(".k-table-td"))?void 0:o.classList.contains("k-grid-edit-cell");if(t.navigatable&&t.navigatable.mode===yC.inline){if(e.keyCode===Dt){const e=p.classList.contains("k-grid-remove-command"),t=p.classList.contains("k-grid-cancel-command"),n=Bb.getRowAriaRowIndex(p);if(e)return void setTimeout(()=>{const e=Bb.getRemoveButtonByAriaRowIndex(n.current)||Bb.getRemoveButtonByAriaRowIndex(n.prev);e&&e.focus()});if(t&&p.parentElement){const e=null==(i=Bb.getClosestNavigatableElement(p))?void 0:i.getAttribute("data-keyboardnavid");return void setTimeout(()=>{e&&Bb.getTableCellByKeyboardNavId(e).focus()})}}if(e.keyCode===Nt){const e=Bb.getClosestCancelButton(p);e&&e.click();const t=await Bb.getClosestEditButton(p);return void(t&&t.focus())}}else if(t.navigatable&&t.navigatable.mode===yC.incell)if(e.keyCode===Nt){p.focus(),p.blur();const e=u&&u.parentElement&&u.parentElement.closest(".k-grid-edit-row"),t=Bb.getClosestCellNavId(p),n=await Bb.waitForElementToBeVisible("[data-keyboardnavid='".concat(t,"']:not(.k-grid-edit-cell)"),e);n&&n.focus()}else if(e.keyCode===Dt){let e;if(b){const[t,n]=b;e=Pb(t,n,h,y,!1)}if(k){if(k&&e){const t=e&&e[0]&&Bb.getTableCellByKeyboardNavId(e[0]);t&&t.click()}}else null==(r=Bb.getParentCell(p))||r.click()}else if(e.keyCode===Lt){if(k)return}else if(e.keyCode===zt){if(k)return}else if(e.keyCode===Ft){if(k)return}else if(e.keyCode===Bt){if(k)return}else if(e.keyCode===_t&&k){if(e.shiftKey){const t=b&&c&&Bb.getPrevEditableCell(b,c,h,y);if(t&&t.prevCell&&t.prevCell.click(),t&&"gridcell"!==t.elementToFocus){p.blur();const e=Bb.getClosestCellNavId(p);setTimeout(()=>{e&&Bb.getTableCellByKeyboardNavId(e).focus()})}e.preventDefault()}else{const t=b&&c&&Bb.getNextEditableCell(b,c,h,y);if(t&&t.nextCell&&"gridcell"===t.elementToFocus&&t.nextCell.click(),t&&"gridcell"!==t.elementToFocus){p.blur();const e=Bb.getClosestCellNavId(p);return void(e&&Bb.getTableCellByKeyboardNavId(e).focus())}e.preventDefault()}e.preventDefault()}if(p.closest(".k-filtercell")&&w&&t.navigatable)Zt(e,w,Kt);else if(void 0!==g&&v){if(e.keyCode===Dt){const n=Bb.getNavigatableElement(p,{level:g+1});if(n)return void Bb.focusElement({elementForFocus:n,event:e,contextStateRef:a,prevElement:p});p.querySelector(".k-filtercell")&&t.navigatable&&$t(p),d=Bb.getFocusableElements(p)[0],Bb.focusElement({elementForFocus:d,event:e,contextStateRef:a,prevElement:p})}if(e.keyCode===Rt&&b)if(x)Nb({scope:v,navigationStateRef:s,contextStateRef:a},e);else{const t=((e,t)=>e[t][0])(s.current.navigationMatrix,b[0]);d=Bb.getActiveNavDataElement(v,t),Bb.focusElement({elementForFocus:d,event:e,contextStateRef:a})}if(e.keyCode===Ot&&b)if(x){const t=(e=>e.flat().reverse().find(e=>e.endsWith("cell")))(s.current.navigationMatrix);d=Bb.getActiveNavDataElement(v,t),Bb.focusElement({elementForFocus:d,event:e,contextStateRef:a})}else{const t=((e,t)=>Array.from(e[t]).reverse()[0])(s.current.navigationMatrix,b[0]);d=Bb.getActiveNavDataElement(v,t),Bb.focusElement({elementForFocus:d,event:e,contextStateRef:a})}if(e.keyCode===Ft||e.keyCode===Bt||e.keyCode===Lt||e.keyCode===zt){const t=e.keyCode===Ft||e.keyCode===Lt,n=e.keyCode===Ft||e.keyCode===Bt;if(b){const[o,i]=b,[r,l]=n?Pb(o,i,h,y,t):Mb(o,i,h,y,t);r&&(d=Bb.getActiveNavDataElement(v,r),Bb.focusElement({elementForFocus:d,event:e,contextStateRef:a,prevElement:p}),s.current.prevNavigationIndexes=l)}}if(x&&e.keyCode===Lt&&m)return l&&l({focusElement:p,event:e,action:"reorderToLeft"}),void e.preventDefault();if(x&&e.keyCode===zt&&m)return l&&l({focusElement:p,event:e,action:"reorderToRight"}),void e.preventDefault();if(e.keyCode===Pt)return l&&l({focusElement:d,event:e,action:"moveToNextPage"}),void e.preventDefault();if(e.keyCode===Mt)return l&&l({focusElement:d,event:e,action:"moveToPrevPage"}),void e.preventDefault();if(!m&&!f&&!k&&(e.keyCode===Tt||e.keyCode===Dt||e.shiftKey&&(e.keyCode===Ft||e.keyCode===Bt||e.keyCode===Lt||e.keyCode===zt)))return void(l&&l({focusElement:d,event:e,action:"select"}));l&&l({focusElement:d,event:e})}};var AC=(e=>(e.ENTER_EDIT="EDITING_ENTER_EDIT",e.ENTER_FIELD_EDIT="EDITING_ENTER_FIELD_EDIT",e.ADD_EDIT="EDITING_ADD_EDIT",e.ADD_FIELD_EDIT="EDITING_ADD_FIELD_EDIT",e.EXIT_EDIT="EDITING_EXIT_EDIT",e.EXIT_FIELD_EDIT="EDITING_EXIT_FIELD_EDIT",e.TOGGLE_EDIT="EDITING_TOGGLE_EDIT",e.TOGGLE_FIELD_EDIT="EDITING_TOGGLE_FIELD_EDIT",e))(AC||{});const _C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITING_ENTER_EDIT":return{[t.payload.id]:!0};case"EDITING_ENTER_FIELD_EDIT":return{[t.payload.id]:[t.payload.field]};case"EDITING_ADD_EDIT":return p(p({},e),{},{[t.payload.id]:!0});case"EDITING_ADD_FIELD_EDIT":return p(p({},e),{},{[t.payload.id]:Array.isArray(e[t.payload.id])?[...e[t.payload.id],t.payload.field]:[t.payload.field]});case"EDITING_EXIT_EDIT":{const n=vr(e);return delete n[t.payload.id],n}case"EDITING_EXIT_FIELD_EDIT":return p(p({},e),{},{[t.payload.id]:Array.isArray(e[t.payload.id])?e[t.payload.id].filter(e=>e!==t.payload.field):[]});case"EDITING_TOGGLE_EDIT":return Object.keys(e).includes(t.payload.id)&&e[t.payload.id]?_C(e,{type:"EDITING_EXIT_EDIT",payload:t.payload}):_C(e,{type:"EDITING_ENTER_EDIT",payload:t.payload});case"EDITING_TOGGLE_FIELD_EDIT":return Object.keys(e).includes(t.payload.id)&&Array.isArray(e[t.payload.id])?_C(e,{type:"EDITING_EXIT_FIELD_EDIT",payload:t.payload}):_C(e,{type:"EDITING_ENTER_FIELD_EDIT",payload:t.payload});default:return e}};var DC=(e=>(e.DETAIL_EXPAND="DETAIL_EXPAND_DETAIL_EXPAND",e.COLLAPSE="DETAIL_EXPAND_COLLAPSE",e.TOGGLE="DETAIL_EXPAND_TOGGLE",e.SET="DETAIL_EXPAND_SET",e))(DC||{});const NC=(e,t)=>{switch(t.type){case"DETAIL_EXPAND_DETAIL_EXPAND":return p(p({},e),{},{[t.id]:!0});case"DETAIL_EXPAND_COLLAPSE":return p(p({},e),{},{[t.id]:!1});case"DETAIL_EXPAND_SET":return p(p({},e),{},{[t.id]:t.payload});case"DETAIL_EXPAND_TOGGLE":return p(p({},e),{},{[t.id]:!e[t.id]});default:return e}},TC=e=>{var t,n;return{enabled:"boolean"==typeof e?e:null==(t=null==e?void 0:e.enabled)||t,mode:"boolean"==typeof e?"incell":null!=(n=null==e?void 0:e.mode)?n:"incell"}};class PC{constructor(e){this.copyHandler=e=>{this.clipboardEvent(mC.copy,e)},this.cutHandler=e=>{this.clipboardEvent(mC.cut,e)},this.pasteHandler=e=>{this.clipboardEvent(mC.paste,e)},this.addEventListeners=e=>{e&&(e.addEventListener(mC.copy,this.copyHandler),e.addEventListener(mC.cut,this.cutHandler),e.addEventListener(mC.paste,this.pasteHandler))},this.removeEventListeners=e=>{e&&(e.removeEventListener(mC.copy,this.copyHandler),e.removeEventListener(mC.cut,this.cutHandler),e.removeEventListener(mC.paste,this.pasteHandler))},this.clipboardEvent=e}}const MC=o.createContext(void 0);MC.displayName="KendoReactTableKeyboardNavigationContext";class OC{constructor(e){this.columns=[],this.columnsState=[],this.resizable=!1,this.isRtl=!1,this.setIsRtl=e=>{this.isRtl=e},this.initWidths=()=>{var e;const t=(null==(e=this.colGroupMain)?void 0:e.children)||[],n=dw(this.columnsState),o=this.columns.filter(e=>{var t;return!(null!=(t=e.children)&&t.length)});for(let i=0;i<t.length;i++){const e=t[i];let r="";const a=n.find(e=>e.id===o[i].id);a&&(r=a.width||""),e.width=r,this.colGroupHeader&&(this.colGroupHeader.children[i].width=r),this.colGroupFooter&&(this.colGroupFooter.children[i].width=r)}},this.dragHandler=(e,t,n,o)=>{const i=e.originalEvent;o||(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation());const r=n.closest("th");if(!r||!r)return;const a=r.clientWidth;let s=a;if(this.isRtl?s+=n.getBoundingClientRect().right-n.offsetWidth/2-e.clientX:s+=e.clientX-n.getBoundingClientRect().left-n.offsetWidth/2,!o&&Math.abs(s-a)<1)return;this.fixateInitialWidths(r.parentElement.clientWidth),this.setWidths(t,Math.floor(s)/a);const l=this.columns.filter(e=>!e.children.length).findIndex(e=>e.id===t.id);this.onResize(l,a,s,i,o,this.columnsState,t.id)},this.dblClickHandler=(e,t)=>{const n=this.columns.filter(e=>t.indexOf(e.id)>-1),o=dw(this.columnsState);if(!this.colGroupMain||!n.length)return;const i={},r=n;for(;r.length>0;){const e=r.pop();if(!e)break;e.children.length?r.push(...e.children):i[e.id]=e}const a=this.columns.filter(e=>!e.children.length),s=[];a.forEach((e,t)=>{i[e.id]&&s.push(t)});const l=[this.colGroupMain.parentElement],c=[this.colGroupMain];this.colGroupHeader&&(l.push(this.colGroupHeader.parentElement),c.push(this.colGroupHeader)),this.colGroupFooter&&(l.push(this.colGroupFooter.parentElement),c.push(this.colGroupFooter)),l.forEach(e=>e.classList.add("k-autofitting"));const d=[];c.forEach(e=>{s.forEach(t=>{e.children[t]&&(e.children[t].width="",d[t]=Math.max(d[t]||0,e.children[t].offsetWidth+1))})}),c.forEach(e=>{s.forEach(t=>{if(e.children[t]){e.children[t].width=d[t]+"px";const n=o.find(e=>e.id===a[t].id);n&&(n.width=d[t])}})}),l.forEach(e=>e.classList.remove("k-autofitting")),this.onResize(s[0],0,0,e,!0,this.columnsState,t[0])},this.updateColElements=e=>{const t=this.columns.filter(e=>!e.hidden&&!e.children.length);let n=1e-10;for(let o=0;o<e.length;o++){const i=e[o],r=t.findIndex(e=>e.id===i.id),a=parseFloat((i.width||0).toString()),s=Math.floor(a);n+=a-s;const l=s+Math.floor(n);n-=Math.floor(n);const c=t.find(e=>e.id===i.id);if(!c)return;if(this.colGroupMain&&this.colGroupMain.children[r]){const e=parseInt(this.colGroupMain.children[r].width,10);this.colGroupMain.children[r].width=l+"px",this.updateNextLockedCol(this.colGroupMain.parentElement,c,e-l)}if(this.colGroupHeader&&this.colGroupHeader.children[r]){const e=parseInt(this.colGroupHeader.children[r].width,10);this.colGroupHeader.children[r].width=l+"px",this.updateNextLockedCol(this.colGroupHeader.parentElement,c,e-l)}if(this.colGroupFooter&&this.colGroupFooter.children[r]){const e=parseInt(this.colGroupFooter.children[r].width,10);this.colGroupFooter.children[r].width=l+"px",this.updateNextLockedCol(this.colGroupFooter.parentElement,c,e-l)}}},this.onResize=e}fixateInitialWidths(e){var t;let n=0;const o=(null==(t=this.colGroupMain)?void 0:t.children)||[];for(let s=0;s<o.length;s++)o[s].width?e-=parseFloat(o[s].width):n++;if(0===n)return;const i=Math.floor(e/n),r=dw(this.columnsState),a=this.columns.filter(e=>!e.children.length);for(let s=0;s<o.length;s++){const e=o[s];if(!e.width){e.width=i;const t=r.find(e=>e.id===a[s].id);t&&(t.width=i.toString()),this.colGroupHeader&&(this.colGroupHeader.children[s].width=i),this.colGroupFooter&&(this.colGroupFooter.children[s].width=i)}}}setWidths(e,t){const n=dw(this.columnsState),o=this.columns.findIndex(t=>t.id===e.id),i=[];let r=e.children.filter(e=>!e.hidden).length;for(let s=o+1;s<this.columns.length&&!(r<=0);s++){const e=this.columns[s];e.children.length?r+=e.children.filter(e=>!e.hidden).length:i.push(e),r--}0===i.length&&i.push(e);const a=[];i.forEach(e=>{const o=n.find(t=>t.id===e.id);if(o){let n=o.width?parseFloat(o.width.toString())*t:0;const i=void 0===e.minResizableWidth?10:e.minResizableWidth;n<i&&(n=i),o.width=n,a.push(o)}}),this.updateColElements(a)}updateNextLockedCol(e,t,n){const o=t.index,i=this.colGroupMain.parentElement.closest(".k-grid"),r=null==i?void 0:i.clientWidth,a=this.columns.filter(e=>e.locked).map(e=>parseInt(e.width+"",10)).reduce((e,t)=>e+t,0);!t.locked||r<=a+20||this.columns.forEach(t=>{if(null!=t&&t.locked&&n){const i=null==e?void 0:e.querySelectorAll('[aria-colindex="'+t.ariaColumnIndex+'"]');null==i||i.forEach(e=>{const i=e.style;this.isRtl?(t.index>o&&i&&i.right&&(i.right=parseInt(i.right,10)-n+"px"),t.index<o&&i&&i.left&&(i.left=parseInt(i.left,10)-n+"px")):(t.index>o&&i&&i.left&&(i.left=parseInt(i.left,10)-n+"px"),t.index<o&&i&&i.right&&(i.right=parseInt(i.right,10)-n+"px"))})}})}}class RC{constructor(e,t,n){this.refDragElementClue=o.createRef(),this.refDropElementClue=o.createRef(),this.columns=[],this.reorderable=!1,this.groupable=!1,this.startColumn=-1,this.startGroup=-1,this.currentColumn=-1,this.currentGroup=-1,this.groupPanelDivElement=null,this.refGroupPanelDiv=e=>{this.groupPanelDivElement=e&&e.children?e.children[0]:e},this.pressHandler=(e,t)=>{const n=this.getColumnIndex(e,t);if(this.startGroup=this.getGroupIndex(e),n>=0){const e=this.columns[n];(e.reorderable&&this.reorderable||e.groupable&&this.groupable)&&(this.startColumn=n)}},this.dragHandler=(e,t)=>{if(e.isTouch||e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),-1===this.startColumn&&-1===this.startGroup)return;this.currentColumn=this.getColumnIndex(e,t),this.currentGroup=this.isTargetGroupingContainer(e)?this.getCurrentGroupsLength:this.getGroupIndex(e);const n=!this.isValid();n&&(this.currentColumn=-1,this.currentGroup=-1);const o=this.currentColumn>=0?t.children[this.columns[this.currentColumn].index]:this.isTargetGroupingContainer(e)?e.originalEvent.target:this.groupPanelDivElement&&this.groupPanelDivElement.children[this.currentGroup];this.updateDragElementClue(e,t,o,n),this.updateDropElementClue(e,t,o,n)},this.releaseHandler=e=>{const t=this.startColumn,n=this.currentColumn,o=this.startGroup,i=this.currentGroup;e.originalEvent.preventDefault(),this.dropElementClue&&this.dropElementClue.setState({visible:!1}),this.dragElementClue&&this.dragElementClue.setState({visible:!1});const r=this.isValid();this.startColumn=this.startGroup=this.currentColumn=this.currentGroup=-1,r&&(t>=0&&n>=0?this.columnReorder(t,n,e.originalEvent):o>=0&&i>=0?this.groupReorder(o,i,e.originalEvent):t>=0&&i>=0&&this.columnToGroup(t,i,e.originalEvent))},this.columnReorder=e,this.groupReorder=t,this.columnToGroup=n}get dragClueRef(){return this.refDragElementClue}get dropClueRef(){return this.refDropElementClue}get getCurrentGroupsLength(){const e=this.groupPanelDivElement&&this.groupPanelDivElement.children;return e&&e.length||0}get dragElementClue(){return this.refDragElementClue.current}get dropElementClue(){return this.refDropElementClue.current}getColumnIndex(e,t){if(!t||t.parentElement===this.groupPanelDivElement)return-1;const n=Kb(e,t);if(-1===n)return-1;for(let o=0;o<t.parentNode.children.length;o++)if(t.parentNode.children[o]===t)return this.columns.findIndex(e=>e.index===n&&e.depth===o);return-1}isTargetGroupingContainer(e){const t=e.originalEvent.target;return!!t.className.indexOf&&-1!==t.className.indexOf("k-grouping-drop-container")}getGroupIndex(e){return Kb(e,this.groupPanelDivElement)}isValid(){return this.startGroup>=0?this.currentGroup>=0&&this.currentGroup!==this.startGroup:-1!==this.startColumn&&(this.currentGroup>=0?!0===this.columns[this.startColumn].groupable&&!0===this.groupable:!0===this.reorderable&&this.currentColumn>=0&&this.currentColumn!==this.startColumn&&!0===this.columns[this.startColumn].reorderable&&this.columns[this.currentColumn].parentIndex===this.columns[this.startColumn].parentIndex)}updateDragElementClue(e,t,n,o){if(!this.dragElementClue)return;const i=this.startColumn>=0?t.children[this.columns[this.startColumn].index].innerText:t.innerText;this.dragElementClue.setState({visible:!0,top:e.pageY+10,left:e.pageX,innerText:i,status:o||!n?"k-i-cancel":"k-i-plus"})}updateDropElementClue(e,t,n,o){if(!this.dropElementClue)return;if(o||!n)return void this.dropElementClue.setState({visible:!1});const i=n.getBoundingClientRect(),r=(n.closest(".k-grouping-header")||n).getBoundingClientRect();let a=i.left+e.pageX-e.clientX-6;!this.isTargetGroupingContainer(e)&&(this.currentColumn>this.startColumn||this.currentGroup>this.startGroup&&-1!==this.startGroup)&&"rtl"!==this.dir&&(a+=i.width);const s=r.top+e.pageY-e.clientY;this.dropElementClue.setState({visible:!0,top:s,left:a,height:this.currentColumn>=0?t.clientHeight:r.height})}}const LC=Ew,FC=jw,zC=/^(?!.*\bChrome).*\bSafari/i;class BC{constructor(e){this.table=null,this.containerHeight=0,this.topCacheCount=0,this.attendedSkip=0,this.propsSkip=0,this.total=0,this.scrollableVirtual=!1,this.realSkip=0,this.pageSize=0,this.PageChange=null,this.tableBodyRef=null,this.fixedScroll=!1,this.askedSkip=void 0,this.containerRef=null,this.tableTransform="",this.scrollSyncing=!1,this.lastLoaded=0,this.firstLoaded=0,this.lastScrollTop=0,this.reactVersion=Number.parseFloat(o.version),this.firstLoaded=this.pageSize,this.lastLoaded=this.realSkip+this.pageSize,this.scrollHandler=this.scrollHandler.bind(this)}get container(){var e;return(null==(e=this.containerRef)?void 0:e.current)||void 0}translate(e,t){this.scrollableVirtual&&this.table&&(uw||this.reactVersion<=17||t?this.table.style.transform="translateY("+e+"px)":this.tableTransform="translateY("+e+"px)")}changePage(e,t){this.PageChange&&this.PageChange({skip:Math.max(0,e),take:this.pageSize},t)}reset(){this.scrollSyncing=!0,!this.fixedScroll&&(this.container&&(this.container.scrollTop=0),this.translate(0,!0))}scrollHandler(e){var t;if(!this.scrollableVirtual||!this.container||!this.table||!this.rowHeightService||null==(t=this.containerRef)||!t.current)return;if(this.scrollSyncing)return void(this.scrollSyncing=!1);const n=this.container.scrollTop,o=this.lastScrollTop>=n,i=!o;this.lastScrollTop=n;let r=this.rowHeightService.index(n),a=this.rowHeightService.offset(r);const{offsetHeight:s}=this.containerRef.current,l=this.rowHeightService.index(n+s);if(i&&l>=this.lastLoaded&&this.lastLoaded<this.total){const t=r+this.pageSize-this.total;t>0&&(r-=t,a=this.rowHeightService.offset(r)),this.firstLoaded=r,this.translate(a);const n=this.firstLoaded+this.pageSize;this.lastLoaded=Math.min(n,this.total),this.changePage(this.firstLoaded,e)}else if(o&&r<this.firstLoaded){const t=Math.floor(.3*this.pageSize);this.firstLoaded=Math.max(r-t,0),this.translate(this.rowHeightService.offset(this.firstLoaded)),this.lastLoaded=Math.min(this.firstLoaded+this.pageSize,this.total),this.changePage(this.firstLoaded,e)}}}class VC{constructor(e){this.table=null,this.containerHeight=0,this.topCacheCount=0,this.attendedSkip=0,this.propsSkip=0,this.total=0,this.scrollableVirtual=!1,this.realSkip=0,this.pageSize=0,this.PageChange=null,this.tableBodyRef=null,this.fixedScroll=!1,this.askedSkip=void 0,this.containerRef=null,this.tableTransform="",this.prevScrollPos=0,this.tableTranslate=0,this.scrollSyncing=!1,this.reactVersion=Number.parseFloat(o.version),this.topItems=(e,t)=>{if(!this.container||t)return{topItemsCount:0,topItemsHeight:0};const n=this.container.clientHeight,o=Math.ceil(n/e[0].line),i=Math.ceil((e.length-o)/2);let r=0;for(let a=0;a<i;a++)r+=e[a].line+e[a].acc;return{topItemsCount:i,topItemsHeight:r,itemsNeededOnScreen:o+o/2}},this.horizontalScrollbarHeight=()=>this.container?this.container.offsetHeight-this.container.clientHeight:0,e&&(this.topCacheCount=4,this.attendedSkip=-this.topCacheCount),this.scrollHandler=this.scrollHandler.bind(this)}get container(){var e;return null==(e=this.containerRef)?void 0:e.current}get rowHeights(){var e,t;const n=[],o=(null==(e=this.tableBodyRef)?void 0:e.current)&&(null==(t=this.tableBodyRef)?void 0:t.current.children)||[];let i=0;for(let r=0;r<o.length;r++)o[r].className.indexOf("k-grouping-row")>-1?i+=o[r].scrollHeight:o[r].className.indexOf("k-detail-row")>-1?n[n.length-1].line+=o[r].scrollHeight:(n.push({line:o[r].scrollHeight,acc:i}),i=0);return n}changePage(e,t){this.attendedSkip=e-this.topCacheCount,this.PageChange&&this.PageChange({skip:Math.max(0,e-this.topCacheCount),take:this.pageSize},t)}translate(e,t){this.tableTranslate=e,this.scrollableVirtual&&this.table&&(this.reactVersion<=17||t?this.table.style.transform="translateY("+e+"px)":this.tableTransform="translateY("+e+"px)")}reset(){this.scrollSyncing=!0,!this.fixedScroll&&(this.container&&(this.container.scrollTop=0),this.translate(0,!0))}localScrollUp(e){if(!this.container)return;const t=this.rowHeights,n=this.container.scrollTop;let o=this.tableTranslate,i=0;const{topItemsCount:r,topItemsHeight:a,itemsNeededOnScreen:s}=this.topItems(t,!!this.topCacheCount),l=n-o;if(!(l>a||t.length<=s)){for(;i<this.topCacheCount+this.attendedSkip-this.realSkip+r&&this.propsSkip-i>0&&!(o+(t[t.length-1-i].line+t[t.length-1-i].acc)+l<=n);)o-=t[t.length-1-i].line+t[t.length-1-i].acc,i++;if(0===i&&0===this.topCacheCount&&this.attendedSkip>0&&(o=Math.max(o-t[0].line,0),i=1),this.propsSkip-i<=0&&o>n)return this.translate(0),this.changePage(0,e),void(this.container.scrollTop=0);if(o>n&&(o=n),o!==this.tableTranslate){this.translate(Math.max(0,o-a));const t=Math.max(0,this.propsSkip-i-r);this.changePage(t,e)}}}localScrollDown(e){if(!this.container)return;const t=this.rowHeights,n=this.container.scrollTop;let o=this.tableTranslate,i=0;const{topItemsCount:r,topItemsHeight:a,itemsNeededOnScreen:s}=this.topItems(t,!!this.topCacheCount);for(;i<t.length-this.topCacheCount&&!(o+t[i].line+t[i].acc>n);)o+=t[i].line+t[i].acc,i++;r>this.propsSkip+i||t.length<=s||(i>=t.length-this.topCacheCount&&this.propsSkip+i>=this.total?(this.translate(o-a),this.changePage(this.total-1-r,e)):o!==this.tableTranslate&&this.propsSkip+i-r!==this.propsSkip&&(this.translate(o-a),this.changePage(this.propsSkip+i-r,e)))}scrollNonStrict(e){const t=this.total*this.prevScrollPos/this.containerHeight;let n=Math.floor(t);n>=this.total&&(n=this.total-1);const o=Math.min(t-n,1);let i=0;const r=n-this.propsSkip,a=this.rowHeights;r>=0&&r<=1?i=-(a[0].line+a[0].acc)*o:-1===r&&(i=-(a[a.length-1].line+a[a.length-1].acc)*o);const{topItemsCount:s,topItemsHeight:l}=this.topItems(a,!!this.topCacheCount);this.translate(Math.max(0,i-l-this.horizontalScrollbarHeight()+this.containerHeight*t/this.total)),this.changePage(n-s,e)}scrollHandler(e){if(!this.scrollableVirtual)return;if(this.scrollSyncing||!this.container||!this.table)return void(this.scrollSyncing=!1);const t=this.container.scrollTop,n=this.prevScrollPos;if(this.prevScrollPos=t,void 0!==this.askedSkip)return this.translate(this.containerHeight*this.askedSkip/this.total),this.changePage(this.askedSkip,e),this.prevScrollPos=t,void(this.askedSkip=void 0);t-n<0&&t>this.tableTranslate-this.table.scrollHeight/10?this.localScrollUp(e):t-n>0&&t<this.tableTranslate+2*this.table.scrollHeight/3?this.localScrollDown(e):this.scrollNonStrict(e),this.prevScrollPos=t}}const HC="",qC="0",UC="_";function GC(e,t){if(QC(e))return t[Number(e)];const n=t[Number(WC(e))];return n.items?GC(function(e){if(JC(e))return e;const t=e.indexOf(UC);return e.substring(t+1)}(e),n.items):void 0}function WC(e){return JC(e)?e:e.split(UC)[0]}function KC(e){return YC("0",e)}function YC(e,t){return t?t+UC+e:e}function XC(e){const t=e.lastIndexOf(UC);return t<0?HC:e.substring(0,t)}function JC(e){return e===HC||e.indexOf(UC)<0}function QC(e){return e!==HC&&e.indexOf(UC)<0}function ZC(e){return 1===function(e){return e.split(UC).length-1}(e)}function $C(e){return eS(e)===qC}function eS(e){const t=e.lastIndexOf(UC);return t<0?e:e.substring(t+1)}function tS(e,t,n){return QC(t)?e?Number(t)<n-1?(Number(t)+1).toString():"0":Number(t)>0?(Number(t)-1).toString():(n-1).toString():t}const nS=class extends o.Component{render(){return null}};nS.propTypes={text:jt.string,url:jt.string,icon:jt.string,disabled:jt.bool,cssClass:jt.string,cssStyle:jt.object,render:jt.any,linkRender:jt.any,contentRender:jt.any,data:jt.any,separator:jt.bool};let oS=nS;function iS(e,t){if(e&&e.length>0)return{items:lS(e),inputItems:e};if(aS(t).length>0){const e=sS(aS(t));return{items:lS(e),inputItems:e}}return{items:[],inputItems:[]}}function rS(e,t){const n={},{text:o,url:i,icon:r,svgIcon:a,disabled:s,cssClass:l,cssStyle:c,render:d,linkRender:u,contentRender:p,data:h,separator:m}=e||t.props;return void 0!==o&&(n.text=o),void 0!==i&&(n.url=i),void 0!==r&&(n.icon=r),void 0!==a&&(n.svgIcon=a),void 0!==s&&(n.disabled=s),void 0!==l&&(n.cssClass=l),void 0!==c&&(n.cssStyle=c),void 0!==d&&(n.render=d),void 0!==u&&(n.linkRender=u),void 0!==p&&(n.contentRender=p),void 0!==h&&(n.data=h),void 0!==m&&(n.separator=m),n}function aS(e){return o.Children.toArray(e).filter(e=>e&&e.type===oS)}function sS(e){const t=[];for(let n=0;n<e.length;n++){const o=e[n],i=rS(void 0,o),r=sS(aS(o.props.children));r.length>0&&(i.items=r),t.push(i)}return t}function lS(e,t){const n=[];for(let o=0;o<e.length;o++){const i=e[o],r=rS(i);r.id=YC(o.toString(),t),r.isLastFromSiblings=o===e.length-1,r.separator=!0===i.separator,r.items=cS(i,r),n.push(r)}return n}function cS(e,t){return e.contentRender?[{contentParentItemId:t.id,id:YC(qC,t.id),isLastFromSiblings:!0,separator:!1,contentRender:e.contentRender,items:[]}]:e.items?lS(e.items,t.id):[]}const dS=/\S/;function uS(e,t,n,o,i,r){const a=h();switch(n){case Lt:return i?r?d():l():r?c():s();case zt:return i?r?l():d():r?s():c();case Ft:return i?f():QC(t)?p():f();case Bt:return i?g():QC(t)?u():g();case Dt:case Tt:return a.disabled?t:m()?KC(t):WC(t);case Rt:return v()[0].id;case Ot:return function(){const e=v();return e[e.length-1].id}();case Nt:return QC(t)?t:XC(t);default:return 1===o.length&&dS.test(o)?function(){const e=o.toLowerCase(),n=v(),i=Number(eS(t)),r=n.slice(i+1).concat(n.slice(0,i+1)).find(t=>(t.text||"").toLowerCase().startsWith(e));return r?r.id:t}():t}function s(){return QC(t)?f():ZC(t)?u(f(WC(t))):XC(t)}function l(){return QC(t)?p():XC(t)}function c(){return QC(t)?g():u(m()?t:g(WC(t)))}function d(){return u(QC(t)||m()?t:g(WC(t)))}function u(e){return y(!0,e)}function p(e){return y(!1,e)}function h(n,o){return void 0===n&&(n=t),void 0===o&&(o=e),GC(n,o)}function m(e){return h(e).items.length>0}function f(e){return x(!1,e)}function g(e){return x(!0,e)}function v(){return QC(t)?e:h(XC(t),e).items}function y(e,n){void 0===n&&(n=t);const o=h(n);return m(n)&&!o.disabled?e?KC(n):function(e){const t=h(e).items;return t[t.length-1].id}(n):n}function x(n,o){if(void 0===o&&(o=t),QC(o))return tS(n,o,e.length);const i=XC(o);return YC(tS(n,eS(o),h(i).items.length),i)}}const pS={vertical:"flip",horizontal:"fit"},hS={vertical:"fit",horizontal:"flip"},mS={downward:{anchorAlign:{vertical:"bottom",horizontal:"right"},popupAlign:{vertical:"top",horizontal:"right"},collision:pS,animationDirection:"down"},leftward:{anchorAlign:{vertical:"top",horizontal:"left"},popupAlign:{vertical:"top",horizontal:"right"},collision:hS,animationDirection:"left"}},fS={downward:{anchorAlign:{vertical:"bottom",horizontal:"left"},popupAlign:{vertical:"top",horizontal:"left"},collision:pS,animationDirection:"down"},rightward:{anchorAlign:{vertical:"top",horizontal:"right"},popupAlign:{vertical:"top",horizontal:"left"},collision:hS,animationDirection:"right"}};function gS(e,t,n){return QC(e)?t?n?"leftward":"rightward":"downward":n?"leftward":"rightward"}function vS(e){return e?"rtl":"ltr"}function yS(e,t){return"".concat(e,"_").concat(t)}const xS=class extends o.Component{render(){return this.props.url?o.createElement("a",{className:this.getMenuItemClassName(),role:"presentation",href:this.props.url,tabIndex:-1},this.props.children):o.createElement("span",{id:this.props.id,className:rn(this.getMenuItemClassName(),this.props.className),style:this.props.style,role:"presentation"},this.props.children)}getMenuItemClassName(){return rn("k-link","k-menu-link",{"k-active":this.props.opened})}};xS.propTypes={opened:jt.bool,url:jt.string};let bS=xS;const wS=class extends o.Component{render(){return o.createElement(yo,p({"aria-hidden":!0},this.getIcon()))}getIcon(){switch(gS(this.props.itemId,!0===this.props.verticalMenu,"rtl"===this.props.dir)){case"downward":return{name:"caret-alt-down",icon:Qc};case"rightward":return{name:"caret-alt-right",icon:Jc};case"leftward":return{name:"caret-alt-left",icon:Zc};default:return{}}}};wS.propTypes={itemId:jt.string,dir:jt.string,verticalMenu:jt.bool};let kS=wS;class CS extends o.Component{constructor(){super(...arguments),this.onMouseOver=e=>{this.props.onMouseOver(this.props.parentItemId),e.stopPropagation()},this.onMouseLeave=e=>{this.props.onMouseLeave(this.props.parentItemId),e.stopPropagation()}}render(){const e=this.props.parentItemId;return o.createElement("ul",{className:this.props.className,role:this.props.role?this.props.role:void 0!==e?"menu":"menubar",id:void 0!==e?yS(this.props.menuGuid,e):void 0,onMouseOver:void 0!==e?this.onMouseOver:void 0,onMouseLeave:void 0!==e?this.onMouseLeave:void 0,"aria-orientation":this.props["aria-orientation"]},this.renderChildItems())}renderChildItems(){return this.props.items.length>0?this.props.items.map((e,t)=>o.createElement(SS,{item:e,animate:this.props.animate,isMenuVertical:this.props.isMenuVertical,isDirectionRightToLeft:this.props.isDirectionRightToLeft,focusedItemId:this.props.focusedItemId,lastItemIdToBeOpened:this.props.lastItemIdToBeOpened,tabbableItemId:this.props.tabbableItemId,itemRender:this.props.itemRender,linkRender:this.props.linkRender,menuGuid:this.props.menuGuid,onMouseOver:this.props.onMouseOver,onMouseLeave:this.props.onMouseLeave,onMouseDown:this.props.onMouseDown,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onClick:this.props.onClick,onOriginalItemNeeded:this.props.onOriginalItemNeeded,key:t})):null}}class SS extends o.Component{constructor(e){super(e),this.isFirstRender=!0,this.onMouseOver=e=>{this.props.onMouseOver(this.props.item.id),e.stopPropagation()},this.onMouseLeave=e=>{this.props.onMouseLeave(this.props.item.id),e.stopPropagation()},this.state={opened:!1}}componentDidMount(){const e=this.props.focusedItemId,t=this.props.item.id;e&&e===t&&this.itemElement.focus({preventScroll:!0}),this.isFirstRender=!1}componentDidUpdate(e){const t=this.props.focusedItemId,n=this.props.item.id;if(t){const o=Kc(document);e.focusedItemId!==t&&t===n&&!this.itemElement.contains(o)&&this.itemElement.focus({preventScroll:!0})}}render(){const e=this.props.item,t=e.id,n=yS(this.props.menuGuid,t),i=e.separator;return o.createElement(o.Fragment,null,i?o.createElement("li",{className:"k-separator k-item","aria-hidden":!0,key:n,id:n,ref:e=>{this.itemElement=e}}):o.createElement("li",{id:n,className:this.getMenuItemClassName(e),style:e.cssStyle,tabIndex:t===this.props.tabbableItemId?0:-1,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onMouseDown:e=>this.props.onMouseDown(e),onBlur:e=>this.props.onBlur(t,e),onFocus:()=>this.props.onFocus(t),onClick:e=>this.props.onClick(e,t),role:"menuitem","aria-disabled":!!e.disabled||void 0,"aria-haspopup":e.items.length>0||void 0,"aria-expanded":e.items.length>0?this.Opened:void 0,"aria-label":e.text,"aria-owns":this.Opened?n:void 0,ref:e=>{this.itemElement=e},key:n},this.contentRender?this.renderContent():this.renderMenuItemLink()),this.renderPopupIfOpened())}renderContent(){const e=this.props.item.contentParentItemId;return o.createElement("div",{className:"k-content",role:"presentation"},o.createElement(this.contentRender,{item:this.props.onOriginalItemNeeded(e),itemId:e}))}renderMenuItemLink(){const e=this.props.item;if(this.linkRender)return o.createElement(this.linkRender,{item:this.props.onOriginalItemNeeded(e.id),itemId:e.id,opened:this.Opened,dir:vS(this.props.isDirectionRightToLeft)});const t=this.itemRender?o.createElement(this.itemRender,{item:this.props.onOriginalItemNeeded(e.id),itemId:e.id,key:"1"}):o.createElement("span",{className:"k-menu-link-text"},e.text);return o.createElement(bS,{url:e.url,opened:this.Opened},this.renderMenuIconIfApplicable(),t,this.renderArrowIfApplicable())}renderPopupIfOpened(){const e=this.props.item.id,t=this.props.animate,{anchorAlign:n,popupAlign:i,collision:r,animationDirection:a}=function(e,t,n){const o=gS(e,t,n);return n?"downward"===o?mS.downward:mS.leftward:"downward"===o?fS.downward:fS.rightward}(e,this.props.isMenuVertical,this.props.isDirectionRightToLeft),s=!0===t?{openDuration:300,closeDuration:300,direction:a}:!1!==t&&{openDuration:(null==t?void 0:t.openDuration)||300,closeDuration:(null==t?void 0:t.closeDuration)||300,direction:(null==t?void 0:t.direction)||a};return o.createElement(Ci,{anchor:this.itemElement,show:this.Opened,popupClass:this.getPopupClassName(),anchorAlign:n,popupAlign:i,collision:r,animate:s,key:"1"},o.createElement(CS,{parentItemId:e,animate:this.props.animate,items:this.props.item.items,menuGuid:this.props.menuGuid,focusedItemId:this.props.focusedItemId,lastItemIdToBeOpened:this.props.lastItemIdToBeOpened,tabbableItemId:this.props.tabbableItemId,itemRender:this.props.itemRender,linkRender:this.props.linkRender,isMenuVertical:this.props.isMenuVertical,isDirectionRightToLeft:this.props.isDirectionRightToLeft,className:"k-group k-menu-group k-reset k-menu-group-md",onMouseOver:this.props.onMouseOver,onMouseLeave:this.props.onMouseLeave,onMouseDown:this.props.onMouseDown,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onClick:this.props.onClick,onOriginalItemNeeded:this.props.onOriginalItemNeeded}))}renderMenuIconIfApplicable(){const{icon:e,svgIcon:t}=this.props.item;return e||t?o.createElement(yo,{name:e,icon:t,key:"0"}):null}renderArrowIfApplicable(){return this.props.item.items.length>0?o.createElement("span",{className:"k-menu-expand-arrow","aria-hidden":!0},o.createElement(kS,{itemId:this.props.item.id,verticalMenu:this.props.isMenuVertical,dir:vS(this.props.isDirectionRightToLeft),key:"2"})):null}get itemRender(){return this.props.item.render||this.props.itemRender}get linkRender(){return this.props.item.linkRender||this.props.linkRender}get contentRender(){return this.props.item.contentParentItemId?this.props.item.contentRender:null}get Opened(){const e=this.props;return e.item.items.length>0&&function(e,t){return 0===t.indexOf(e)&&(t.length===e.length||t.charAt(e.length)===UC)}(e.item.id,e.lastItemIdToBeOpened)&&!this.isFirstRender}getPopupClassName(){return rn("k-menu-popup",{"k-rtl":this.props.isDirectionRightToLeft})}getMenuItemClassName(e){return rn("k-item","k-menu-item",{"k-first":$C(e.id),"k-last":e.isLastFromSiblings,"k-disabled":e.disabled},e.cssClass)}}class IS{constructor(){this.phase="Initialized"}getIsDirectionRightToLeft(){return this.isDirectionRightToLeft}setIsDirectionRightToLeft(e){this.phase="NotInitialized"===this.phase?"Initialized":"NewValueReceived",this.previousIsDirectionRightToLeft=this.isDirectionRightToLeft,this.isDirectionRightToLeft=e}hasDirectionChanged(){return"NewValueReceived"===this.phase&&this.previousIsDirectionRightToLeft!==this.isDirectionRightToLeft}}class ES{constructor(e,t,n){this.openOnClick=e,this.resetMenu=t,this.openItem=n,this.mouseDown=!1,this.openOnClick=e,this.isMouseOverEnabled=!e}set OpenOnClick(e){!!e!=!!this.openOnClick&&(this.mouseDown=!1,this.isMouseOverEnabled=!e),this.openOnClick=e}handleItemSelectedViaKeyboard(){this.openOnClick&&(this.isMouseOverEnabled=!1,this.resetMenu())}get IsMouseOverEnabled(){return this.isMouseOverEnabled}handleItemMouseDown(){this.mouseDown=!0}handleItemFocus(){this.openOnClick&&!this.mouseDown&&(this.isMouseOverEnabled=!0),this.mouseDown=!1}handleItemClick(e,t){this.openOnClick&&(this.isMouseOverEnabled?t&&(this.isMouseOverEnabled=!1,this.resetMenu()):(this.isMouseOverEnabled=!0,this.openItem(e)))}}const jS={focusedItemId:HC,hoveredItemId:HC,tabbableItemId:qC},AS=class e extends o.Component{constructor(e){super(e),this.menuWrapperEl=null,this.directionHolder=new IS,this.inputItems=[],this.items=[],this.reset=()=>{this.clearItemHoverAndLeaveRequestsIfApplicable(),this.setState(jS)},this.onKeyDown=e=>{if(this.state.focusedItemId!==HC){const t=GC(this.state.focusedItemId,this.items);let n=uS(this.items,t.id,e.keyCode,e.key,this.props.vertical,this.directionHolder.getIsDirectionRightToLeft());const o=GC(n,this.items);o&&o.separator&&(n=uS(this.items,n,e.keyCode,e.key,this.props.vertical,this.directionHolder.getIsDirectionRightToLeft())),t.id!==n&&(e.preventDefault(),this.setFocusedItemId(n)),(e.keyCode===Dt||e.keyCode===Tt)&&!t.disabled&&(this.mouseOverHandler.handleItemSelectedViaKeyboard(),this.dispatchSelectEventIfWired(e,t.id),!e.isDefaultPrevented()&&0===t.items.length&&t.url&&window.location.assign(t.url))}e.keyCode===Nt&&this.props.onClose&&this.props.onClose.call(void 0,e)},this.onItemMouseOver=e=>{this.mouseOverHandler.IsMouseOverEnabled&&(this.clearItemHoverAndLeaveRequestsIfApplicable(),this.itemHoverRequest=window.setTimeout(()=>{this.setHoveredItemId(e),this.itemHoverRequest=null},function(e){return void 0!==e.hoverOpenDelay?e.hoverOpenDelay:e.openOnClick?0:100}(this.props)))},this.onItemMouseLeave=e=>{this.mouseOverHandler.IsMouseOverEnabled&&this.isItemWithDefaultClose(e)&&(this.clearItemHoverAndLeaveRequestsIfApplicable(),this.itemLeaveRequest=window.setTimeout(()=>{this.setHoveredItemId(HC),this.itemLeaveRequest=null},function(e){return void 0!==e.hoverCloseDelay?e.hoverCloseDelay:100}(this.props)))},this.onItemMouseDown=()=>{this.mouseOverHandler.handleItemMouseDown()},this.onItemFocus=e=>{this.setFocusedItemId(e),this.mouseOverHandler.handleItemFocus()},this.onItemClick=(e,t)=>{const n=GC(t,this.items);n.disabled||(this.setFocusedItemId(t),this.mouseOverHandler.handleItemClick(t,this.isItemWithDefaultClose(t)),this.dispatchSelectEventIfWired(e,t),!e.isDefaultPrevented()&&n.url&&window.location.assign(n.url))},this.onItemBlur=(e,t)=>{if(this.isItemWithDefaultClose(e)&&this.setFocusedItemId(HC),t.relatedTarget&&"LI"===t.relatedTarget.nodeName){const e=t.relatedTarget.getAttribute("id");if(e&&e.includes(this.menuItemId))return}this.props.onClose&&this.props.onClose.call(void 0,t)},this.getInputItem=e=>GC(e,this.inputItems),this.mouseOverHandler=new ES(this.props.openOnClick,this.reset,this.onItemMouseOver),this.state=Object.assign({},jS,{isFirstRender:!0})}get menuItemId(){return this.props.id}get element(){return this.menuWrapperEl}get animate(){return void 0!==this.props.animate?this.props.animate:e.defaultProps.animate}render(){this.prepareItems(),this.state.isFirstRender||this.directionHolder.setIsDirectionRightToLeft(this.checkIsDirectionRightToLeft());const e=this.state.hoveredItemId?this.state.hoveredItemId:this.state.focusedItemId?XC(this.state.focusedItemId):HC;return o.createElement("div",{id:this.props.id,onKeyDown:this.onKeyDown,style:this.props.style,className:this.directionHolder.getIsDirectionRightToLeft()?"k-rtl":void 0,ref:e=>{this.menuWrapperEl=e}},o.createElement(CS,{className:this.getMenuClassName(),"aria-orientation":this.props.vertical?"vertical":void 0,items:this.items,animate:this.animate,isMenuVertical:this.props.vertical,isDirectionRightToLeft:this.directionHolder.getIsDirectionRightToLeft(),focusedItemId:this.state.focusedItemId,lastItemIdToBeOpened:e,tabbableItemId:this.state.tabbableItemId,itemRender:this.props.itemRender,linkRender:this.props.linkRender,menuGuid:this.menuItemId,onMouseLeave:this.onItemMouseLeave,onMouseOver:this.onItemMouseOver,onMouseDown:this.onItemMouseDown,onFocus:this.onItemFocus,onClick:this.onItemClick,onBlur:this.onItemBlur,onOriginalItemNeeded:this.getInputItem,role:this.props.role}))}componentDidMount(){this.setState({isFirstRender:!1})}componentDidUpdate(e){(!!e.vertical!=!!this.props.vertical||this.directionHolder.hasDirectionChanged())&&this.reset(),this.mouseOverHandler.OpenOnClick=this.props.openOnClick}componentWillUnmount(){this.clearItemHoverAndLeaveRequestsIfApplicable()}setFocusedItemId(e){this.setState(t=>{const n=e===HC?t.tabbableItemId:WC(e);return{hoveredItemId:e===HC||JC(t.hoveredItemId)&&JC(e)?t.hoveredItemId:HC,focusedItemId:e,tabbableItemId:n}})}setHoveredItemId(e){this.setState(t=>JC(e)&&JC(t.focusedItemId)?{hoveredItemId:e,focusedItemId:t.focusedItemId,tabbableItemId:t.tabbableItemId}:{hoveredItemId:e,focusedItemId:HC,tabbableItemId:qC})}getMenuClassName(){return rn("k-reset","k-header","k-menu",{"k-menu-horizontal":!this.props.vertical},{"k-menu-vertical":this.props.vertical},this.props.className)}clearItemHoverAndLeaveRequestsIfApplicable(){this.itemHoverRequest&&(clearTimeout(this.itemHoverRequest),this.itemHoverRequest=null),this.itemLeaveRequest&&(clearTimeout(this.itemLeaveRequest),this.itemLeaveRequest=null)}isItemWithDefaultClose(e){return!this.props.customCloseItemIds||-1===this.props.customCloseItemIds.indexOf(e)}checkIsDirectionRightToLeft(){return!!(void 0!==this.props.dir?"rtl"===this.props.dir:this.menuWrapperEl&&"rtl"===getComputedStyle(this.menuWrapperEl).direction)}prepareItems(){const{items:e,inputItems:t}=iS(this.props.items,this.props.children);this.items=e,this.inputItems=t}dispatchSelectEventIfWired(e,t){Gc(this.props.onSelect,e,this,{item:this.getInputItem(t),itemId:t})}};AS.propTypes={vertical:jt.bool,items:jt.arrayOf(jt.object),style:jt.object,animate:jt.oneOfType([jt.bool,jt.shape({openDuration:jt.number,closeDuration:jt.number})]),dir:jt.string,hoverOpenDelay:jt.number,hoverCloseDelay:jt.number,openOnClick:jt.bool,itemRender:jt.any,linkRender:jt.any,customCloseItemIds:jt.arrayOf(jt.string),onSelect:jt.func,role:jt.string},AS.defaultProps={vertical:!1,animate:!0};let _S=AS;const DS=e=>{const t=o.useRef(null),[n,i]=o.useState(e.show),r=on(e.id),{animate:a=NS.animate}=e;return o.useEffect(()=>{i(e.show),e.show&&setTimeout(()=>{const e=t.current&&t.current.element,n=e&&e.querySelector(".k-menu-item"),o=Kc(null==e?void 0:e.ownerDocument);n&&n!==o&&n.focus()})},[e.show]),o.createElement(Ci,{show:n,offset:e.offset,popupClass:"k-menu-popup k-overflow-visible",animate:a},o.createElement(_S,p(p({id:r,vertical:!0},e),{},{ref:t,className:rn("k-context-menu",e.className),onClose:e.onClose,role:"menu"}),e.children))},NS={animate:{openDuration:300,closeDuration:300}};DS.displayName="KendoReactContextMenu";const TS={[Qb.create]:{name:"create",text:"Add",icon:"plus",svgIcon:sd,data:{action:"AddCommand"}},[Qb.edit]:{name:"edit",text:"Edit",icon:"pencil",svgIcon:{name:"pencil",content:'<path d="m334.9 86.6 45.3-45.3c12.4-12.4 32.8-12.4 45.3 0l45.3 45.3c12.4 12.4 12.4 32.8 0 45.3l-45.3 45.3zm-22.6 22.6L32 389.5V480h90.5l280.3-280.3zM99.9 412.1l-22.6-22.6 235-235 22.6 22.6z" />',viewBox:"0 0 512 512"},data:{action:"EditCommand"}},[Qb.delete]:{name:"delete",text:"Delete",icon:"trash",svgIcon:{name:"trash",content:'<path d="M416 96h-96V64c0-17.6-14.4-32-32-32h-96c-17.6 0-32 14.4-32 32v32H64v64h32v288c0 17.6 14.4 32 32 32h224c17.6 0 32-14.4 32-32V160h32zM192 64h95.9l.1.1V96h-96c.1-.1.1-32.1 0-32m160 384H128.1l-.1-.1V160h32v256h32V160h32v256h32V160h32v256h32V160h32z" />',viewBox:"0 0 512 512"},data:{action:"DeleteCommand"}},[Qb.select]:{name:"select",text:"Select",icon:"table-body",svgIcon:{name:"table-body",content:'<path d="M32 32v416h416V32zm256 32v96h-96V64zm128 256v64L224 192h64zM64 64h96v96H64zm0 128h96v96H64zm0 224v-96h96v96zm128 0v-64l64 64zm128 0L192 288v-64l192 192zm96-160-64-64h64zm0-96h-96V64h96z" />',viewBox:"0 0 512 512"},items:[{name:"selectRow",text:"Row",icon:"table-row-groups",svgIcon:{name:"table-row-groups",content:'<path d="M32 32v416h416V32zm256 32v96h-96V64zm-64 128h64l96 96h-64zm32 96h-64l-96-96h64zM64 64h96v96H64zm0 160 64 64H64zm0 192v-96h96v96zm128 0v-96h96v96zm224 0h-96v-96h96zm0-160-64-64h64zm0-96h-96V64h96z" />',viewBox:"0 0 512 512"},data:{action:"SelectRowCommand"}},{name:"selectAllRows",text:"All rows",icon:"grid",svgIcon:{name:"grid",content:'<path d="M32 32h128v128H32zm160 448h128V352H192zm-160 0h128V352H32zm0-160h128V192H32zm160 0h128V192H192zM352 32v128h128V32zm0 288h128V192H352zM192 160h128V32H192zm160 320h128V352H352z" />',viewBox:"0 0 512 512"},data:{action:"SelectAllRowsCommand"}},{name:"clearSelection",text:"Clear selection",icon:"table-unmerge",svgIcon:{name:"table-unmerge",content:'<path d="M32 32v416h416V32zm160 32h96v96h-96zm96 128v96h-96v-96zM64 64h96v96H64zm0 128h96v96H64zm96 224H64v-96h96zm128 0h-96v-96h96zm128 0h-96v-96h96zm0-128h-96v-96h96zm0-128h-96V64h96z" />',viewBox:"0 0 512 512"},data:{action:"ClearSelectionCommand"}}]},[Qb.copySelection]:{name:"copySelection",text:"Copy selection",icon:"page-header-section",svgIcon:{name:"page-header-section",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zm-32-160H128v-96h256zm0 96H128v32h256zm0-64H128v32h256z" />',viewBox:"0 0 512 512"},data:{action:"CopySelectionCommand"},options:"withHeaders"},[Qb.copySelectionNoHeaders]:{name:"copySelectionNoHeaders",text:"Copy selection (No Headers)",icon:"file-txt",svgIcon:{name:"file-txt",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zm-32-96v32H128v-32zM256 160v32H128v-32m256 64v32H128v-32zm-256 96v-32h224v32z" />',viewBox:"0 0 512 512"},data:{action:"CopySelectionCommand"}},[Qb.paste]:{name:"paste",text:"Paste (use CTRL/\u2318 + V)",icon:"clipboard",svgIcon:{name:"clipboard",content:'<path d="M416 32H311.4C300.3 12.9 279.7 0 256 0s-44.3 12.9-55.4 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32m-160 0c17.7 0 32 14.3 32 32h-64c0-17.7 14.3-32 32-32m160 416H96V64h64v64h192V64h64z" />',viewBox:"0 0 512 512"},data:{action:"PasteCommand"}},[Qb.reorderRow]:{name:"reorderRow",text:"Reorder row",icon:"caret-alt-expand",svgIcon:{name:"caret-alt-expand",content:'<path d="M128 288h256L256 480zM256 32 128 224h256.001z" />',viewBox:"0 0 512 512"},items:[{name:"reorderRowUp",text:"Up",icon:"caret-alt-up",svgIcon:Xc,data:{action:"ReorderRowCommand"}},{name:"reorderRowDown",text:"Down",icon:"caret-alt-down",svgIcon:Qc,data:{action:"ReorderRowCommand"}},{name:"reorderRowTop",text:"Top",icon:"caret-alt-to-top",svgIcon:{name:"caret-alt-to-top",content:'<path d="m128 352 128-192 128 192zm256-224H128v32h256z" />',viewBox:"0 0 512 512"},data:{action:"ReorderRowCommand"}},{name:"reorderRowBottom",text:"Bottom",icon:"caret-alt-to-bottom",svgIcon:{name:"caret-alt-to-bottom",content:'<path d="M384 128 256 320 128 128zM128 352h256v-32H128z" />',viewBox:"0 0 512 512"},data:{action:"ReorderRowCommand"}}]},[Qb.exportPDF]:{name:"exportPDF",text:"Export to PDF",icon:"file-pdf",svgIcon:{name:"file-pdf",content:'<path d="M240.9 160c-7.6 0-13.8 4-15.4 9.9-4.9 18.6.2 46.3 9.4 82.3l-2.4 5.9c-6.6 16.4-14.8 33-22.1 47.6l-1 1.9c-7.7 15.3-14.6 28.4-21 39.4l-6.5 3.5c-.5.3-11.6 6.3-14.3 7.9-22.2 13.6-36.9 28.9-39.4 41.2-.8 3.9-.2 8.9 3.7 11.2l6.3 3.2c2.7 1.4 5.6 2.1 8.6 2.1 15.8 0 34.2-20.2 59.5-65.3 29.2-9.7 62.5-17.8 91.6-22.3 22.2 12.8 49.5 21.7 66.8 21.7q4.65 0 7.8-.9c3.3-.9 6.1-2.8 7.8-5.4 3.4-5.2 4-12.2 3.1-19.5-.3-2.1-2-4.8-3.8-6.6-5.1-5.2-16.5-7.9-33.7-8.1-11.7-.1-25.8.9-40.6 3-6.6-3.9-13.5-8.2-18.8-13.3-14.4-13.8-26.5-32.9-34-53.9.5-2 .9-3.7 1.3-5.4 0 0 8.1-47.1 6-63.1-.3-2.2-.5-2.8-1.1-4.5l-.7-1.9c-2.2-5.2-6.5-10.7-13.3-10.4zm2.7 8.4c5.1 0 8 13.1 8.2 25.4.3 12.3-2.6 20.9-6 27.3-2.9-9.4-4.3-24.3-4.3-34-.1-.1-.3-18.7 2.1-18.7m.4 104.1c8.6 16 19.3 29.5 31.9 40.4 1.6 1.3 3.2 2.7 5 4.1-25.6 5.2-47.7 11.5-67.1 19.1 3.6-6.5 7.2-13.3 11-20.6 9.1-17.7 14.9-31.6 19.2-43m102.2 51.6c9.3 0 12 0 21.1 2.3 9.1 2.4 9.2 7.2 7.6 8.2s-6 1.6-8.9 1.6c-9.2 0-20.7-4.3-36.8-11.4 6.3-.4 11.9-.7 17-.7m-165.4 35.8c-17.7 28.8-29.5 40.3-37.3 43.8 2.9-8.1 14.3-24 31.2-38.1 1.1-.9 3.7-3.4 6.1-5.7M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},data:{action:"ExportPDFCommand"}},[Qb.exportExcel]:{name:"exportExcel",text:"Export to Excel",icon:"file-excel",svgIcon:{name:"file-excel",content:'<path d="m288 304 64 112h-48l-48-84.5-31.5 52.5H256v32h-96l64-112-64-112h48l48 84 48-84h48zm64-272H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},items:[{name:"exportToExcelAll",text:"All",data:{action:"ExportExcelCommand"}},{name:"exportToExcelSelection",text:"Selection",data:{action:"ExportExcelCommand"},options:"selection,withHeaders"},{name:"exportToExcelSelectionNoHeaders",text:"Selection (No Headers)",data:{action:"ExportExcelCommand"},options:"selection"}]},[Qb.separator]:{name:"separator",separator:!0},[Qb.sortAsc]:{name:"sortAsc",text:"Sort Ascending",icon:"sort-asc-small",svgIcon:cd,data:{action:"SortCommand"}},[Qb.sortDesc]:{name:"sortDesc",text:"Sort Descending",icon:"sort-desc-small",svgIcon:dd,data:{action:"SortCommand"}}},PS=e=>{const{show:t,offset:n,dataItem:i,field:r,items:a,onClose:s,onSelect:l}=e,c=Tc(),d=o.useCallback(e=>{l.call(void 0,{event:e,dataItem:i,field:r})},[l,i,r]),u=o.useCallback(e=>{const t=e;return t.text&&t.name&&(t.text=c.toLanguageString("contextMenu.".concat(t.name),t.text||"")),t.items&&Array.isArray(t.items)&&(t.items=t.items.map(e=>u(e))),t},[c]),p=o.useMemo(()=>a&&a.map(e=>u("string"==typeof e?TS[e]:e)),[a,u]);return o.createElement(DS,{show:t,offset:n,items:p,onClose:s,onSelect:d})},MS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign({allowUnsort:!0,mode:"single"},...t)},OS={true:{asc:"desc",desc:"","":"asc"},false:{asc:"desc",desc:"asc","":"asc"}},RS=o.createContext(void 0),LS=e=>{var t,n;const i=e.gridProps.isClient,[r,a]=o.useState({}),s=()=>{a({})},l=o.useMemo(()=>e.columnsRef.find(e=>e.field===r.field),[e.columnsRef,r]),c=o.useMemo(()=>(e=>{let t=[];return e.sortable&&(t=t.concat([Qb.sortAsc,Qb.sortDesc])),t})({sortable:!!(e.gridProps.sortable&&(null==l?void 0:l.sortable)),selectable:Ow(e.gridProps.selectable).enabled,clipboard:!!e.gridProps.clipboard}),[l,e.gridProps.sortable,e.gridProps.selectable,e.gridProps.clipboard]),d=o.useMemo(()=>(e=>{let t=[];return e.clipboard&&(t=t.concat([Qb.copySelection,Qb.copySelectionNoHeaders,Qb.paste])),e.editable&&(t.length&&(t=t.concat([Qb.separator])),t=t.concat([Qb.create,Qb.edit,Qb.delete])),e.selectable&&(t.length&&(t=t.concat([Qb.separator])),t=t.concat([Qb.select])),e.rowReorderable&&(t.length&&(t=t.concat([Qb.separator])),t=t.concat([Qb.reorderRow])),t})({sortable:!!(e.gridProps.sortable&&(null==l?void 0:l.sortable)),selectable:Ow(e.gridProps.selectable).enabled,clipboard:!!e.gridProps.clipboard,rowReorderable:mw(e.gridProps.rowReorderable)}),[l,e.gridProps.sortable,e.gridProps.selectable,e.gridProps.clipboard]),u=o.useMemo(()=>{const t=(null==l?void 0:l.contextMenu)||e.gridProps.contextMenu,n="function"==typeof t?t(r):t;if(n&&r.offset){const e=n[r.dataItem?Jb.body:Jb.head],t=r.dataItem?d:c;return!1===e?void 0:!0===e||void 0===e?t:e}},[e.gridProps.contextMenu,r,d,c,l]),h=()=>{const t=e.columnsRef.filter(e=>e.declarationIndex>=0&&-1===e.parentIndex);return aw(t)},m=t=>{if("moveToNextPage"===t.action&&C(t.event),"moveToPrevPage"===t.action&&S(t.event),t.focusElement&&"reorderToRight"===t.action){const n=parseInt(t.focusElement.ariaColIndex,10)-1;n<e.columnsRef.length-1&&A(n,n+1,t.event)}if(t.focusElement&&"reorderToLeft"===t.action){const e=parseInt(t.focusElement.ariaColIndex,10)-1;e>0&&A(e,e-1,t.event)}if("select"===t.action&&g(t.event),e.gridProps.onNavigationAction&&i){const n=p({focusElement:t.focusElement},F(t.event));z(e.gridProps.onNavigationAction,n)}},f=(t,n,o)=>{const{allowUnsort:i,mode:r}=MS(e.gridProps.sortable||!1,n.sortable||!1),a=(e.gridProps.sort||[]).filter(e=>e.field===n.field)[0],s=o||OS[i][a&&a.dir||""],l="single"===r?[]:(e.gridProps.sort||[]).filter(e=>e.field!==n.field);""!==s&&n.field&&l.push({field:n.field,dir:s}),I(l,t)},g=t=>{var n,o;if(e.gridProps.selectedField||!Ae.enabled||!e.gridProps.dataItemKey)return;const i=p({dataItems:B(),mode:Ae.mode,cell:Ae.cell,componentId:e.id,selectedField:e.gridProps.selectedField},F(t)),r=(e=>{const{event:t,dataItemKey:n,selectedState:o}=e,{syntheticEvent:i,nativeEvent:r,dataItems:a,componentId:s,mode:l,cell:c,selectedField:d}=t,{target:u,ctrlKey:p,metaKey:h,altKey:m,shiftKey:f}=r;if(i.isDefaultPrevented()&&!f||r.keyCode!==Tt&&r.keyCode!==Dt&&r.keyCode!==zt&&r.keyCode!==Lt&&r.keyCode!==Ft&&r.keyCode!==Bt)return o;i.preventDefault();const g=Dw(u,"TD"),v=Dw(u,"TR");let y=Tw(g),x=Nw(v),b={};return g&&v&&void 0!==x&&void 0!==y&&(r.keyCode===zt&&y++,r.keyCode===Lt&&y--,r.keyCode===Bt&&x++,r.keyCode===Ft&&x--,b=Pw({selectedState:o,dataItemKey:n,event:{ctrlKey:p,metaKey:h,altKey:m,shiftKey:f,dataItems:a,cell:c,mode:l,selectedField:d,componentId:s,startColIndex:y,endColIndex:y,startRowIndex:x,endRowIndex:x,isDrag:!1,syntheticEvent:i,nativeEvent:r,target:t.target,dataItem:null}})),b})({event:i,selectedState:null!=(n=e.gridProps.select)?n:{},dataItemKey:e.gridProps.dataItemKey});if(r===e.gridProps.select)return;const a=t.target,s=Dw(a,"TD"),l=Dw(a,"TR"),c=Tw(s),d=Nw(l);if(void 0!==c&&void 0!==d){const n=null==(o=ow(e.gridProps.data))?void 0:o[d];e.gridProps.onSelectionChange&&z(e.gridProps.onSelectionChange,p(p({},i),{},{select:r,dataItem:n,startRowIndex:d,startColIndex:c,startDataItem:n,endDataItem:n,endRowIndex:d,endColIndex:c,ctrlKey:t.ctrlKey,altKey:t.altKey,metaKey:t.metaKey,shiftKey:t.shiftKey,isDrag:!1}))}},v=(t,n)=>{e.gridProps.onSelectionChange&&Ae.enabled&&z(e.gridProps.onSelectionChange,p(p({},t),{},{select:n}))},y=t=>{if(e.gridProps.onSelectionChange&&Ae.enabled){const n=t.dataItems[0],o=t.dataItems[t.dataItems.length-1],i={},r=p(p({},t),{},{startDataItem:n,endDataItem:o,startRowIndex:0,endRowIndex:t.dataItems.length-1,startColIndex:0,endColIndex:e.columnsRef.length-1});t.dataItems.forEach(n=>{const o=Cr(e.gridProps.dataItemKey)(n);i[o]=!t.cell||[...Array(e.columnsRef.length).keys()]}),v(r,i)}},x=t=>{if(e.gridProps.onSelectionChange&&Ae.enabled){const n=Cr(e.gridProps.dataItemKey)(t.dataItem),o=0,i=e.columnsRef.length-1,r=t.dataItems.findIndex(n=>n[e.gridProps.dataItemKey]===t.dataItem[e.gridProps.dataItemKey]),a=p(p({},t),{},{startDataItem:r,endDataItem:r,startRowIndex:r,endRowIndex:r,startColIndex:o,endColIndex:i}),s="multiple"===t.mode&&e.gridProps.select||{};!0===s[n]||Array.isArray(s[n])&&s[n].length===e.columnsRef.length?delete s[n]:s[n]=!t.cell||[...Array(e.columnsRef.length).keys()],v(a,s)}},b=t=>{e.gridProps.onSelectionChange&&Ae.enabled&&v(t,{})},w=(t,n,o,i,r)=>{const a=e.gridProps.onDataStateChange;if(t){const e=p(p(p({},F(i)),n),{},{targetEvent:r});z(t,e)}else a&&z(a,p(p({},F(i)),{},{targetEvent:r||{},dataState:p(p({},L()),o)}))},k=(t,n,o)=>{w(e.gridProps.onPageChange,{page:t},{skip:t.skip,take:t.take},n,o)},C=t=>{var n,o;const i=null!=(o=null!=(n=e.gridProps.take)?n:e.gridProps.pageSize)?o:0,r=(e.gridProps.skip||0)+i,a=(()=>{let t=e.gridProps.total||0;return Array.isArray(e.gridProps.data)?t=t||e.gridProps.data.length:e.gridProps.data&&(t=t||e.gridProps.data.total),t})();r<a&&k({skip:r,take:i},t)},S=t=>{var n,o;const i=null!=(o=null!=(n=e.gridProps.take)?n:e.gridProps.pageSize)?o:0,r=(e.gridProps.skip||0)-i;r>=0&&k({skip:r,take:i},t)},I=(t,n)=>{w(e.gridProps.onSortChange,{sort:t},p({sort:t},"virtual"===e.gridProps.scrollable?{skip:0}:{}),n)},E=(t,n)=>{const o=n.nativeEvent?n:{nativeEvent:n.nativeEvent||n.originalEvent};0===t.length&&e.gridProps.navigatable&&(pe.current=!0),w(e.gridProps.onGroupChange,{group:t},{group:t,skip:0},o)},j=t=>{if(e.gridProps.onColumnsStateChange){const n={target:X.current,columnsState:t};z(e.gridProps.onColumnsStateChange,n)}},A=(t,n,o)=>{const{columnsRef:i,columnsState:r}=e,a=i[t],s=dw(r),l=a.depth,c=e=>{do{e++}while(e<i.length&&i[e].depth>l);return e},d=i.splice(t,c(t)-t);i.splice(t<n?c(n-d.length):n,0,...d),i.filter(e=>e.declarationIndex>=0).forEach((e,t)=>{e.orderIndex=t;const n=s.find(t=>t.id===e.id);n&&(n.orderIndex=t)});const u=i[t].locked&&i[n].locked;Ub(e.columnsMapRef,i,u||ge.current),Gb(e.columnsMapRef,i,u||ge.current),ue.current&&(ge.current=!1,ue.current=!1);const p=h();if(Y(),e.gridProps.onColumnReorder){const t={target:X.current,columns:p,columnId:a.id,nativeEvent:o};z(e.gridProps.onColumnReorder,t)}j(r)},_=(t,n,o)=>{const i="object"==typeof e.gridProps.rowReorderable?e.gridProps.rowReorderable.enabled:e.gridProps.rowReorderable;if("forbidden"===o||!i||!ke.current)return;const{slicedData:r,dataRef:a}=e,s=(r||a)[n];e.gridProps.onRowReorder&&z(e.gridProps.onRowReorder,{draggedDataItems:[ke.current],droppedDataItem:null==s?void 0:s.dataItem,dropPosition:o,nativeEvent:t.originalEvent,dragEvent:t,target:X.current}),ke.current=null},D=(t,n,o)=>{if(void 0===e.gridProps.group)return;const i=e.gridProps.group.slice();i.splice(n,0,...i.splice(t,1)),E(i,o)},N=(t,n,o)=>{const i=e.columnsRef[t].field;if(!i)return;const r=(e.gridProps.group||[]).slice();r.splice(n,0,{field:i}),E(r,o)},T=()=>{let e=0;if(!Q.current.colGroupMain)return;const t=Q.current.colGroupMain.children;for(let n=0;n<t.length;n++){const o=t[n].width;if(!o){e=0;break}e+=parseFloat(o.toString())}e=Math.round(e),de.current&&de.current.setWidth(e),ce.current&&ce.current.setWidth(e),ae.current&&(ae.current.style.width=e?e+"px":"")},P=()=>{var t;e.gridProps.widthRef&&(e.gridProps.widthRef.current=(null==(t=le.current)?void 0:t.offsetWidth)||0)},M=o.useCallback((t,n,o,r,a)=>{var s;if(!O()&&!o||!t)return;const l=p(p({type:t,nativeEvent:n,columns:e.columnsRef,dataItemKey:e.gridProps.dataItemKey||"",dataItem:r,field:a},"boolean"!=typeof e.gridProps.clipboard?e.gridProps.clipboard:{}),o),c=(e=>{const{event:t}=e,n=gC(e)||[],o=vC(t,n)||"";return{copiedItems:n,pastedItems:"paste"===t.type&&fC(e,o)||[],clipboardData:o}})({event:l,data:V(),selectedState:null!=(s=e.gridProps.select)?s:{},previousCopiedItems:we.current});t!==mC.paste&&(we.current=c.copiedItems),e.gridProps.onClipboard&&i&&z(e.gridProps.onClipboard,p(p({},l),c))},[e.gridProps.select,e.gridProps.dataItemKey,e.gridProps.data,e.gridProps.clipboard,e.gridProps.onClipboard]),O=()=>{var e,t,n;if(!Lo)return!1;const o=Kc(H()),i=o?o.matches(".k-table-td")?o:null==(e=H())?void 0:e.body:null==(t=H())?void 0:t.body,r=i.closest(".k-grid-container"),a=i&&(null==(n=le.current)?void 0:n.contains(i));return!!(i&&a&&r)},R=(t,n,o,r,a,s,l)=>{T(),ge.current=!0,ue.current=!0,e.gridProps.onColumnResize&&i&&z(e.gridProps.onColumnResize,{columns:h(),nativeEvent:r,targetColumnId:l,index:t,newWidth:n,oldWidth:o,end:a,target:X.current}),a&&j(s)},L=()=>{var t;return{filter:e.gridProps.filter,sort:e.gridProps.sort,skip:e.gridProps.skip,take:null!=(t=e.gridProps.take)?t:e.gridProps.pageSize,group:e.gridProps.group}},F=e=>({nativeEvent:e&&e.nativeEvent,syntheticEvent:e,target:X.current}),z=(t,n)=>{e.gridProps.isClient?t(n):t((e=>p(p({},e),{},{nativeEvent:void 0,syntheticEvent:void 0,target:void 0,targetEvent:void 0,focusElement:void 0}))(n))},B=()=>e.dataRef.filter(e=>"data"===e.rowType).map(e=>e.dataItem),V=()=>(e.slicedData||e.dataRef).filter(e=>"data"===e.rowType).map(e=>e.dataItem),H=()=>{var e;if(Lo)return(null==(e=q())?void 0:e.ownerDocument)||document},q=()=>le.current,U=o.useCallback(t=>{var n;if(!J.current||null==(n=J.current)||!n.container||"none"===e.gridProps.scrollable)return;ne.current&&ne.current.disconnect();const{rowIndex:o}=t,i=q();if("virtual"===e.gridProps.scrollable)J.current.askedSkip=o,J.current.container.scroll(0,Math.round(J.current.askedSkip/J.current.total*J.current.container.scrollHeight));else if(i){const e=o<1?i.querySelector("tbody > tr:nth-child(1)"):i.querySelector("tbody > tr:nth-child(".concat(o+1,")"));e&&re.current&&(re.current.scrollTop=e.offsetTop)}},[e.gridProps.scrollable]),G=e=>JSON.stringify(e.map(e=>({id:e.id,field:e.field,title:e.title,children:e.children}))),W=()=>{G(Ee)===G(e.columnsRef)||Y()},K=o.useCallback(e=>{const t={rowIndex:xe.current};e.forEach(e=>{e.isIntersecting||U(t)})},[U]),Y=()=>{e.gridProps.forceUpdate&&e.gridProps.forceUpdate()},X=o.useRef(null),J=o.useRef(void 0),Q=o.useRef(void 0),Z=o.useRef(void 0),$=o.useRef(void 0),ee=o.useRef(void 0),te=o.useRef(void 0),ne=o.useRef(null),oe=o.useRef(null),ie=o.useRef(null),re=o.useRef(null),ae=o.useRef(null),se=o.useRef(null),le=o.useRef(null),ce=o.useRef(null),de=o.useRef(null),ue=o.useRef(!1),pe=o.useRef(!1),he=o.useRef(void 0),me=o.useRef(void 0),fe=o.useRef(!1),ge=o.useRef(!0),ve=o.useRef(0),ye=o.useRef(void 0),xe=o.useRef(void 0),be=o.useRef([]),we=o.useRef([]),ke=o.useRef(null),Ce=o.useRef(null),Se=o.useRef(null),Ie=ko(le),Ee=o.useMemo(()=>o.Children.toArray(e.gridProps.children),[e.gridProps.children]),je=!0===e.gridProps.groupable||"object"==typeof e.gridProps.groupable&&!1!==e.gridProps.groupable.enabled,Ae=Ow(null!=(t=e.gridProps.selectable)?t:!!e.gridProps.selectedField),_e=TC(null!=(n=e.gridProps.editable)?n:!!e.gridProps.editField);return o.useMemo(()=>{kC({navigatable:!!e.gridProps.navigatable,contextStateRef:$,navigationStateRef:ee,idPrefix:e.id})},[]),o.useMemo(()=>{var t;null==(t=J.current)||t.reset();const n=e.isFixedVirtualScroll?BC:VC;J.current=new n(je||void 0===e.gridProps.rowHeight||0===e.gridProps.rowHeight)},[e.gridProps.scrollable,e.gridProps.total,e.gridProps.filter,e.gridProps.group,je,e.gridProps.sort,e.gridProps.rowHeight]),o.useEffect(()=>(e.gridProps.clipboard&&(te.current=new PC(M),te.current.addEventListeners(H())),()=>{te.current&&te.current.removeEventListeners(H())}),[e.gridProps.onClipboard,e.gridProps.clipboard,M,H]),o.useEffect(()=>(e.gridProps.columnVirtualization&&!window.navigator.userAgent.match(zC)&&(se.current&&(se.current.style.display="block"),ae.current&&(ae.current.style.display="block")),P(),T(),kg(),CC({scope:le.current||void 0,contextStateRef:$,navigationStateRef:ee}),()=>{clearTimeout(ye.current)}),[]),o.useEffect(()=>{var t;P(),T(),kg(),null!=(t=J.current)&&t.tableTransform&&J.current.table&&(J.current.table.style.transform=J.current.tableTransform,J.current.tableTransform=""),(()=>{var e,t,n;if(oe.current&&(null==(e=oe.current)?void 0:e.getElementsByClassName("k-grid-edit-row").length)>0){fe.current=!1,null!=(t=document.activeElement)&&t.closest(".k-grid-edit-row")?me.current=document.activeElement:me.current=void 0;const e=Array.from(null==(n=oe.current)?void 0:n.getElementsByClassName("k-grid-edit-row"));e.length>be.current.length?he.current=e.filter(e=>!be.current.includes(e))[0]:1===e.length&&(he.current=e[0],fe.current=!0),be.current=e}})(),IC({scope:le.current||void 0,contextStateRef:$,navigationStateRef:ee,focusFirst:pe.current,newEditableRow:he.current,singleEditRow:fe.current,lastActiveElement:me.current,navigatable:e.gridProps.navigatable}),pe.current=!1,he.current=void 0}),o.useEffect(()=>{if(Lo){const e={rootMargin:"0px",threshold:.9};ne.current=window.IntersectionObserver&&new window.IntersectionObserver(K,e)||null}},[K]),o.useEffect(()=>{var e;let t;return Lo&&window.ResizeObserver&&(t=new window.ResizeObserver(W),t.observe(null==(e=H())?void 0:e.body)),()=>{null==t||t.disconnect()}},[]),o.useImperativeHandle(X,()=>({get element(){return q()},props:e.gridProps,get columns(){return h()},scrollIntoView:t=>{var n;if(null==(n=J.current)||!n.container||"none"===e.gridProps.scrollable)return;const{rowIndex:o}=t;xe.current=o;const i=q();if(ne.current&&i){ne.current.disconnect();const e=i.querySelector('[absolute-row-index="'.concat(xe.current,'"]'));e?ne.current.observe(e):U(t)}},fitColumns:e=>{Q.current.dblClickHandler(null,e)}})),o.useImperativeHandle(e.gridRef,()=>X.current),o.useMemo(()=>{Q.current=new OC(R)},[e.gridProps.onColumnResize,e.columnsRef]),o.useMemo(()=>{Z.current=new RC(A,D,N)},[e.gridProps.onColumnReorder,e.gridProps.onGroupChange,e.gridProps.group,e.columnsRef,e.gridProps.groupable]),Q.current.resizable=e.gridProps.resizable||!1,Q.current.columns=e.columnsRef,Q.current.columnsState=br(e.columnsState),Z.current.reorderable=e.gridProps.reorderable||!1,Z.current.groupable=je,Z.current.columns=e.columnsRef,Z.current.dir=Ie,(t=>{var n,o;if(J.current){if(J.current.fixedScroll=e.gridProps.fixedScroll||!1,J.current.PageChange=k,J.current.realSkip=e.gridProps.skip||0,J.current.pageSize=null!=(o=null!=(n=e.gridProps.take)?n:e.gridProps.pageSize)?o:0,J.current.scrollableVirtual="virtual"===e.gridProps.scrollable,J.current.total=t,J.current.propsSkip=(e.gridProps.skip||0)+("virtual"===e.gridProps.scrollable?J.current.topCacheCount+(J.current.attendedSkip-(e.gridProps.skip||0)):0),void 0!==e.gridProps.rowHeight&&e.gridProps.rowHeight>0&&!je){const n=e.gridProps.rowHeight*t;J.current.containerHeight=uw?Math.min(pw,n):n}else J.current.containerHeight=1533915;if(J.current.containerRef=re,J.current.tableBodyRef=oe,J.current.table=ae.current,J.current instanceof BC){const{rowHeight:n=0,detail:o,expandField:i}=e.gridProps;let{detailRowHeight:r=0}=e.gridProps;r=o&&i?r:n,e.isAllData?(J.current.total=e.dataRef.length,J.current.rowHeightService=new kp(e.dataRef.length,n,r,e.dataRef)):J.current.rowHeightService=new kp(t,n,r);const a=J.current.rowHeightService.totalHeight();J.current.containerHeight=uw?Math.min(pw,a):a}}})(e.total),o.createElement(RS.Provider,{value:{isClient:i,rowReorder:_,activeDragRowDataItemRef:ke,reorderRowDragTargetRef:Ce,reorderRowDropTargetRef:Se,dir:Ie,getCellPositionStyle:e=>void 0!==e.left?"rtl"!==Ie?{left:e.left,right:e.right}:{left:e.right,right:e.left}:{},dataItemKey:e.gridProps.dataItemKey,columnsState:e.columnsState,onColumnsStateChange:j,groupChange:E,selectionRelease:t=>{var n;if(e.gridProps.onSelectionChange&&Ae.enabled){const o=V()[t.startRowIndex],i=V()[t.endRowIndex],r=p({syntheticEvent:void 0,target:X.current,selectedField:e.gridProps.selectedField||"",componentId:e.id,dataItems:B(),dataItem:null,startDataItem:o,endDataItem:i},t),a=Pw({event:r,selectedState:null!=(n=e.gridProps.select)?n:{},dataItemKey:e.gridProps.dataItemKey});v(r,a)}},pagerPageChange:e=>{k({skip:e.skip,take:e.take},e.syntheticEvent,e.targetEvent)},onContextMenu:(t,n,o)=>{if(e.gridProps.onContextMenu&&i){const i={target:X.current,syntheticEvent:t,nativeEvent:t.nativeEvent,dataItem:n,field:o};z(e.gridProps.onContextMenu,i)}e.gridProps.contextMenu&&(e=>{e.event.preventDefault(),a(p(p({},r),{},{show:!0,offset:{left:e.event.pageX,top:e.event.pageY},dataItem:e.dataItem,field:e.field}))})({event:t,dataItem:n,field:o})},rowClick:(t,n)=>{e.gridProps.onRowClick&&"TD"===t.target.nodeName&&z(e.gridProps.onRowClick,p({dataItem:n},F(t)))},rowDblClick:(t,n)=>{e.gridProps.onRowDoubleClick&&"TD"===t.target.nodeName&&z(e.gridProps.onRowDoubleClick,p({dataItem:n},F(t)))},cellClick:(t,n,o)=>{if(_e.enabled&&"incell"===_e.mode&&e.gridProps.dataItemKey){const i=_C(e.gridProps.edit,{type:AC.ENTER_FIELD_EDIT,payload:{id:n[e.gridProps.dataItemKey],field:o}});e.gridProps.onEditChange&&z(e.gridProps.onEditChange,p({edit:i},F(t)))}},headerCellClick:f,itemChange:t=>{var n;if(t.field===e.gridProps.expandField||t._expand||e.gridProps.group&&void 0===t.field){if(e.gridProps.onExpandChange){const o=e.gridProps.dataItemKey?NC(null!=(n=e.gridProps.detailExpand)?n:{},{type:DC.SET,id:t.dataItem[e.gridProps.dataItemKey],payload:t.value}):e.gridProps.detailExpand;z(e.gridProps.onExpandChange,p(p({},F(t.syntheticEvent)),{},{expand:o,dataItem:t.dataItem,dataIndex:t.dataIndex,value:t.value}))}}else e.gridProps.onItemChange&&z(e.gridProps.onItemChange,p(p({},F(t.syntheticEvent)),{},{dataItem:t.dataItem,dataIndex:t.dataIndex,field:t.field,value:t.value}))},sortChange:I,filterChange:(t,n)=>{w(e.gridProps.onFilterChange,{filter:t},{filter:t||void 0,skip:0},n)},searchChange:t=>{const n=e.gridProps.searchFields||e.columnsRef.map(e=>e.field)||[],o=t.nativeEvent.target.value,i={logic:"or",filters:n.filter(e=>void 0!==e).map(e=>{var t;return"string"==typeof e?{field:e,value:o,operator:"contains"}:{value:o,operator:null!=(t=e.operator)?t:"contains",field:e.field,ignoreCase:e.ignoreCase}})};w(e.gridProps.onSearchChange,{search:i},{},t.syntheticEvent)},onHeaderSelectionChange:t=>{var n;if(e.gridProps.onHeaderSelectionChange&&Ae.enabled){const o=B();z(e.gridProps.onHeaderSelectionChange,{select:t.syntheticEvent.target.checked?o.reduce((t,n)=>(e.gridProps.dataItemKey&&void 0!==Cr(e.gridProps.dataItemKey)(n)&&(t[Cr(e.gridProps.dataItemKey)(n)]=!0),t),{}):{},field:t.field,nativeEvent:t.syntheticEvent&&t.syntheticEvent.nativeEvent,syntheticEvent:t.syntheticEvent,target:X.current,dataItems:o,selectedField:null!=(n=e.gridProps.selectedField)?n:""})}},columnGroupChange:(e,t)=>{const n=Z.current.getCurrentGroupsLength;N(e,n,t)},onKeyDown:t=>{jC(t,{navigatable:e.gridProps.navigatable||!1,contextStateRef:$,navigationStateRef:ee,onNavigationAction:m,columns:h()}),SC({document:H(),contextStateRef:$,navigationStateRef:ee});const n=p({dataItems:B(),mode:Ae.mode,cell:Ae.cell,componentId:e.id,selectedField:e.gridProps.selectedField},F(t));e.gridProps.onKeyDown&&i&&z(e.gridProps.onKeyDown,n)},onFocus:t=>{EC(t,{navigatable:!!e.gridProps.navigatable,contextStateRef:$})},scrollHandler:t=>{if(t.target!==t.currentTarget)return;clearTimeout(ye.current),J.current&&(J.current.table=ae.current);const n=t.currentTarget.scrollLeft,o=t.currentTarget.scrollTop,r="virtual"===e.gridProps.scrollable;e.gridProps.columnVirtualization&&(!r||o===ve.current)&&(ye.current=window.setTimeout(()=>{Y()},0)),e.gridProps.scrollLeftRef&&(e.gridProps.scrollLeftRef.current=n),de.current&&de.current.setScrollLeft(n),ce.current&&ce.current.setScrollLeft(n),J.current&&o!==ve.current&&J.current.scrollHandler(t),e.gridProps.onScroll&&i&&z(e.gridProps.onScroll,p({},F(t))),ve.current=o},selectionChange:t=>{var n;if(e.gridProps.onSelectionChange&&Ae.enabled){const{event:o,dataItem:i,dataIndex:r,columnIndex:a}=t,s=p(p({},F(o.syntheticEvent)),{},{dataItem:i,startColIndex:a,endColIndex:a,startRowIndex:r,endRowIndex:r,dataItems:B(),altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,mode:Ae.mode,cell:Ae.cell,isDrag:!1,componentId:e.id,selectedField:e.gridProps.selectedField||""});z(e.gridProps.onSelectionChange,p(p({},s),{},{select:e.gridProps.dataItemKey?Pw({event:s,selectedState:null!=(n=e.gridProps.select)?n:{},dataItemKey:e.gridProps.dataItemKey}):{}}))}},dispatchDetailExpand:(t,n)=>{var o;if(Iw(e.detailExpandable).enabled){const i=NC(null!=(o=e.gridProps.detailExpand)?o:{},t);e.gridProps.onDetailExpandChange&&z(e.gridProps.onDetailExpandChange,p(p({},F(n)),{},{detailExpand:i}))}},dispatchGroupExpand:(t,n)=>{var o;const i=lb("object"==typeof e.gridProps.groupable?!1!==e.gridProps.groupable.expandable:e.gridProps.groupable);if(i.enabled){const r=((e,t,n)=>{var o,i,r;const a=cb(null!=e?e:[]),s=hb(a,t.group);switch(t.type){case"GROUP-EXPAND_TOGGLE":return pb(s?null==a?void 0:a.map(e=>{var t,o;return e===s?p(p({},e),{},{expanded:!(null==(o=null!=(t=e.expanded)?t:null==n?void 0:n.defaultExpand)||o)}):e}):[...a,p(p({},t.group),{},{expanded:!(null==(o=null==n?void 0:n.defaultExpand)||o)})]);case"GROUP-EXPAND_EXPAND":{let e;return e=s?null==a?void 0:a.map(e=>e===s?p(p({},e),{},{expanded:!0}):e):null==(i=null==n?void 0:n.defaultExpand)||i?a:[...a,p(p({},t.group),{},{expanded:!0})],pb(e)}case"GROUP-EXPAND_COLLAPSE":{let e;return e=s?null==a?void 0:a.map(e=>e===s?p(p({},e),{},{expanded:!1}):e):null==(r=null==n?void 0:n.defaultExpand)||r?[...a,p(p({},t.group),{},{expanded:!1})]:a,pb(e)}default:return e}})(null!=(o=e.gridProps.groupExpand)?o:[],t,i);e.gridProps.onGroupExpandChange&&z(e.gridProps.onGroupExpandChange,p(p({},F(n)),{},{groupExpand:r}))}},columnResizeRef:Q,dragLogicRef:Z,navigationStateRef:ee,tableElementRef:ae,tableBodyElementRef:oe,headerElementRef:ie,containerElementRef:re,headTableElementRef:se,elementRef:le,footerRef:ce,headerRef:de,vsRef:J}},o.createElement(MC.Provider,{value:$.current},e.children),o.createElement(PS,{show:r.show&&(null==u?void 0:u.length),dataItem:r.dataItem,field:r.field,items:u,offset:r.offset,onClose:s,onSelect:t=>{var n,o,i,r,a,c,d,u,h;const m=t.event.item,g=p({target:X.current,syntheticEvent:t.event.syntheticEvent,nativeEvent:t.event.nativeEvent,menuItem:m},t);e.gridProps.onContextMenuItemClick&&z(e.gridProps.onContextMenuItemClick,g);const v=V(),w=p(p({selectedField:e.gridProps.selectedField||"",componentId:e.id,dataItems:v,dataItem:t.dataItem,startRowIndex:-1,endRowIndex:-1,startColIndex:-1,endColIndex:-1,ctrlKey:!1,altKey:!1,metaKey:!1,shiftKey:!1,isDrag:!1},Ow(e.gridProps.selectable)),g),k=v.findIndex(e=>e===t.dataItem);switch(null==(n=m.data)?void 0:n.action){case"SortCommand":if(l){const e=null==(o=m.name)?void 0:o.toLowerCase().includes("asc"),n=(null==(i=m.name)?void 0:i.toLowerCase().includes("desc"))?"desc":void 0,r=e?"asc":n,a=m.name?r:void 0;f(t.event.syntheticEvent,l,a)}break;case"SelectRowCommand":x(w);break;case"SelectAllRowsCommand":y(w);break;case"ClearSelectionCommand":b(w);break;case"ReorderRowCommand":ke.current=t.dataItem,null!=(r=m.name)&&r.toLowerCase().includes("rowup")&&k>0&&_(t.event.syntheticEvent,k-1,"before"),null!=(a=m.name)&&a.toLowerCase().includes("rowdown")&&k<v.length-1&&_(t.event.syntheticEvent,k+1,"after"),null!=(c=m.name)&&c.toLowerCase().includes("rowtop")&&_(t.event.syntheticEvent,0,"before"),null!=(d=m.name)&&d.toLowerCase().includes("rowbottom")&&_(t.event.syntheticEvent,v.length-1,"after");break;case"CopySelectionCommand":M(mC.copy,t.event.nativeEvent,{copyHeaders:!(null!=(u=m.name)&&u.toLowerCase().includes("noheaders"))},t.dataItem,t.field);break;case"PasteCommand":M(mC.paste,t.event.nativeEvent,{copyHeaders:!(null!=(h=m.name)&&h.toLowerCase().includes("noheaders"))},t.dataItem,t.field)}s()}}))},FS="grid.noRecords",zS="grid.pagerInfo",BS="grid.pagerFirstPage",VS="grid.pagerPreviousPage",HS="grid.pagerNextPage",qS="grid.pagerLastPage",US="grid.pagerItemsPerPage",GS="grid.pagerPage",WS="grid.pagerPageSizeAriaLabel",KS="grid.pagerOf",YS="grid.pagerTotalPages",XS="grid.groupPanelEmpty",JS="grid.groupColumn",QS="grid.ungroupColumn",ZS="grid.columnMenu",$S="grid.filterApplyButton",eI="grid.filterClearButton",tI="grid.filterResetButton",nI="grid.filterSubmitButton",oI="grid.filterTitle",iI="grid.sortAscending",rI="grid.sortDescending",aI="grid.searchPlaceholder",sI="grid.searchboxPlaceholder",lI="grid.filterCheckAll",cI="grid.filterChooseOperator",dI="grid.filterSelectAll",uI="grid.filterSelectedItems",pI="grid.sortAriaLabel",hI="grid.filterAriaLabel",mI="grid.groupPanelAriaLabel",fI="grid.groupExpand",gI="grid.groupCollapse",vI="grid.detailExpand",yI="grid.detailCollapse",xI="grid.selectRow",bI="grid.gridAriaLabel",wI="grid.gridRowReorderAriaLabel",kI={[vI]:"Expand detail row",[yI]:"Collapse detail row",[fI]:"Expand group",[gI]:"Collapse Group",[FS]:"No records available",[XS]:"Drag a column header and drop it here to group by that column",[$S]:"Apply",[eI]:"Clear",[tI]:"Reset",[nI]:"Filter",[oI]:"Filter",[iI]:"Sort Ascending",[rI]:"Sort Descending",[pI]:"Sortable",[JS]:"Group Column",[QS]:"Ungroup Column",[ZS]:"Column menu",[US]:"items per page",[zS]:"{0} - {1} of {2} items",[BS]:"Go to the first page",[VS]:"Go to the previous page",[HS]:"Go to the next page",[qS]:"Go to the last page",[GS]:"Page",[WS]:"Page size",[KS]:"of",[YS]:"{0}",[aI]:"Search",[sI]:"Search...",[lI]:"Check All",[cI]:"Choose Operator",[uI]:"selected items",[dI]:"Select All",[hI]:"Filter",[mI]:"Group panel",[bI]:"Table",[wI]:"Drag row",[xI]:"Select Row","grid.filterEqOperator":"Is equal to","grid.filterNotEqOperator":"Is not equal to","grid.filterIsNullOperator":"Is null","grid.filterIsNotNullOperator":"Is not null","grid.filterIsEmptyOperator":"Is empty","grid.filterIsNotEmptyOperator":"Is not empty","grid.filterStartsWithOperator":"Starts with","grid.filterContainsOperator":"Contains","grid.filterNotContainsOperator":"Does not contain","grid.filterEndsWithOperator":"Ends with","grid.filterGteOperator":"Is greater than or equal to","grid.filterGtOperator":"Is greater than","grid.filterLteOperator":"Is less than or equal to","grid.filterLtOperator":"Is less than","grid.filterIsTrue":"Is true","grid.filterIsFalse":"Is false","grid.filterBooleanAll":"(All)","grid.filterAfterOrEqualOperator":"Is after or equal to","grid.filterAfterOperator":"Is after","grid.filterBeforeOperator":"Is before","grid.filterBeforeOrEqualOperator":"Is before or equal to","grid.filterAndLogic":"And","grid.filterOrLogic":"Or"},CI=e=>{var t;const n=o.useContext(RS),i=on(),r=Tc(),a=null!=(t=e.isSelected)?t:hC(e.field,e.dataItem),s="boolean"==typeof a&&a,l=o.useCallback(t=>{null==n||n.selectionChange({event:t,dataItem:e.dataItem,dataIndex:e.rowDataIndex,columnIndex:e.columnIndex})},[n,e.columnIndex,e.rowDataIndex,e.dataItem]);return o.createElement("span",{className:"k-checkbox-wrap"},o.createElement("input",{id:i,tabIndex:-1,type:"checkbox",className:"k-checkbox k-checkbox-md k-rounded-md","aria-label":r.toLanguageString(xI,kI[xI]),"aria-checked":s,checked:s,onChange:l}))},SI=(e,t)=>{const n=o.useContext(MC);return n&&e&&!1!==t?{tabIndex:n&&n.activeId&&n.activeId===e?0:-1,[mb]:n.level,[yb]:e}:{}},II=e=>{var t;const{cellProps:n}=e,i=o.useContext(RS),r=SI(n.id),a={onContextMenu:o.useCallback(e=>{null!=i&&i.onContextMenu&&i.onContextMenu.call(void 0,e,n.dataItem,n.field)},[i,n.dataItem,n.field])},s=i.getCellPositionStyle(n.columnPosition),l={style:p(p({},null==(t=e.tdProps)?void 0:t.style),s)},c=p(p(p({},r),a),l),d={onContextMenu:i.onContextMenu,onChange:i.itemChange,selectionChange:e=>{i.selectionChange({event:e,dataItem:n.dataItem,dataIndex:n.rowDataIndex,columnIndex:n.columnIndex})}};if(e.isCustom)return i.isClient||e.isClient?yw(e.children,p({tdProps:p(p({},e.tdProps),c)},d)):yw(e.children,p({},c));if(n.render){const t="groupHeader"!==n.rowType?o.createElement("td",p(p({},e.tdProps),c),e.content):null;return n.render.call(void 0,t,p(p({},n),d))}return e.children&&yw(e.children,p({},c))},EI=e=>{const{className:t,colSpan:n,style:i,ariaColumnIndex:r,rowType:a,cells:s}=e,l={colSpan:n,style:i,className:rn("k-table-td",t),"aria-colindex":r,role:"gridcell"},c=o.createElement(CI,p({key:1},e)),d=gw(e),u=a||"data",h=s;if(h&&h.select&&h.select[u]){const e=h.select[u],t=fw(e);return o.createElement(II,{cellProps:d,tdProps:l,isCustom:!0,isClient:t},o.createElement(e,p(p({},d),{},{tdProps:l}),c))}const m="groupHeader"!==a?o.createElement("td",p({},l),c):null;return o.createElement(II,{cellProps:d,content:c,tdProps:l},m)},jI=e=>{const{cellProps:t}=e,n=o.useContext(RS),i=SI(t.id),r=e.expanded,a=o.useCallback(e=>{e.isDefaultPrevented()||e.keyCode===Dt&&null!=n&&n.itemChange&&(e.preventDefault(),n.itemChange({dataItem:t.dataItem,dataIndex:t.dataIndex,syntheticEvent:e,field:t.field,value:!r}))},[t.dataItem,t.dataIndex,t.field,n,r]),s="groupHeader"!==t.rowType&&"groupFooter"!==t.rowType?{onKeyDown:a}:{},l=p(p({},i),s),c={onContextMenu:n.onContextMenu,onChange:n.itemChange,selectionChange:e=>{n.selectionChange({event:e,dataItem:t.dataItem,dataIndex:t.rowDataIndex,columnIndex:t.columnIndex})}};if(e.isCustom)return n.isClient||e.isClient?yw(e.children,p({tdProps:p(p({},e.tdProps),l)},c)):yw(e.children,p({},l));if(t.render){const n="groupHeader"!==t.rowType?o.createElement("td",p(p({},e.tdProps),l),e.content):null;return t.render.call(void 0,n,p(p({},t),c))}return e.children&&yw(e.children,p({},l))},AI=e=>{const t=o.useContext(RS),n=Tc(),i=e.expanded,r=i?yI:vI,a=n.toLanguageString(r,kI[r]);return o.createElement("a",{onClick:n=>{n.preventDefault(),null!=t&&t.itemChange&&t.itemChange({dataItem:e.dataItem,dataIndex:e.dataIndex,syntheticEvent:n,field:e.field,value:!i,_expand:!0}),void 0!==e.dataItem[t.dataItemKey]&&(null==t||t.dispatchDetailExpand({type:DC.TOGGLE,id:e.dataItem[t.dataItemKey]}))},"aria-label":a,href:"#",tabIndex:-1},o.createElement(yo,{name:i?"minus":"plus",icon:i?ld:sd}))},_I=e=>{let t=null,n=null,i=null;const r=gw(e),a=e.expanded;"groupFooter"===e.rowType?n={className:"k-table-td k-hierarchy-cell",role:"gridcell"}:"groupHeader"!==e.rowType&&(n={className:"k-table-td k-hierarchy-cell",role:"gridcell","aria-expanded":!!a,"aria-colindex":e.ariaColumnIndex},i=o.createElement(AI,p({},r)));const s=e.rowType||"data",l=e.cells;if(l&&l.hierarchy&&l.hierarchy[s]){const e=l.hierarchy[s],t=fw(e);return o.createElement(jI,{cellProps:r,tdProps:n,isCustom:!0,isClient:t},o.createElement(e,p(p({},r),{},{tdProps:n}),i))}return"groupHeader"!==e.rowType&&(t=o.createElement("td",p({},n),i)),o.createElement(jI,{cellProps:r,content:i,tdProps:n},t)},DI=e=>{const{cellProps:t}=e,n=o.useContext(RS),i=on(),r=hC(t.field,t.dataItem);let a=null;const s=o.useCallback(e=>{null!=n&&n.itemChange&&n.itemChange({dataItem:t.dataItem,dataIndex:t.dataIndex,field:t.field,syntheticEvent:e.syntheticEvent,value:e.value})},[n,t.dataItem,t.dataIndex,t.field]);switch(t.editor){case"numeric":a=o.createElement(xu,{className:e.className,value:void 0===r?null:r,onChange:s,[Aw]:!0});break;case"date":a=o.createElement(Zv,{className:e.className,value:r,onChange:s,[Aw]:!0});break;case"boolean":a=o.createElement(ju,{className:e.className,checked:r||!1,id:i,onChange:s,[Aw]:!0});break;default:a=o.createElement(Wu,{className:e.className,value:r||"",onChange:s,[Aw]:!0})}return a},NI=e=>{var t;const{cellProps:n}=e,i=o.useContext(RS),r=SI(n.id),a={onContextMenu:o.useCallback(e=>{null!=i&&i.onContextMenu&&i.onContextMenu.call(void 0,e,n.dataItem,n.field)},[i,n.dataItem,n.field])},s=i.getCellPositionStyle(n.columnPosition),l={style:p(p({},null==(t=e.tdProps)?void 0:t.style),s)},c=p(p(p({},r),a),l),d={onContextMenu:i.onContextMenu,onChange:i.itemChange,selectionChange:e=>{i.selectionChange({event:e,dataItem:n.dataItem,dataIndex:n.rowDataIndex,columnIndex:n.columnIndex})}};if(e.isCustom)return i.isClient||e.isClient?yw(e.children,p({tdProps:p(p({},e.tdProps),c)},d)):yw(e.children,p({},c));if(n.render){const t=o.createElement("td",p(p({},e.tdProps),c),e.content);return n.render.call(void 0,t,p(p({},n),d))}return e.children&&yw(e.children,p({},c))},TI=e=>{const t=e.unstyled,n=t&&t.uGrid?t.uGrid:Cw,i=rn(n.editTd({selected:e.isSelected}),e.className),r={colSpan:e.colSpan,style:e.style,className:i,"aria-colindex":e.ariaColumnIndex,"aria-selected":e.isSelected,[FC]:e.columnIndex,role:"gridcell"},a=gw(e),s=o.createElement(DI,{cellProps:a}),l=e.editor||"text",c=e.cells;if(c){let e;if(c.edit&&c.edit[l]?e=c.edit[l]:c.data&&(e=c.data),e){const t=fw(e);return o.createElement(NI,{cellProps:a,tdProps:r,isCustom:!0,isClient:t},o.createElement(e,p(p({},a),{},{tdProps:r}),s))}}return o.createElement(NI,{cellProps:a,content:s,tdProps:r},o.createElement("td",p({},r),s))};const PI=e=>{const t=o.useRef(null),n=o.useRef(null),i=o.useRef(!1),r=o.useContext(RS),a=function(e,t,n){const[i,r]=o.useState(t);return o.useEffect(()=>{if(!i&&window&&e.current){const t=window.getComputedStyle(e.current).direction;t&&r(t)}},n),i}(r.headerElementRef);r.columnResizeRef.current&&r.columnResizeRef.current.setIsRtl("rtl"===a),o.useImperativeHandle(r.headerRef,()=>({setScrollLeft:e=>{t.current&&t.current.scrollLeft!==e&&(i.current=!0,t.current.scrollLeft=e)},setWidth:e=>{n.current&&(n.current.style.width=e?e+"px":"")},table:()=>n.current}));const s=po(),l=s&&s.uGrid?s.uGrid:Cw,{size:c="md"}=e;return e.staticHeaders?o.createElement("div",{ref:r.headerElementRef,className:rn(l.header({draggable:e.draggable}),e.className),role:"presentation"},o.createElement("div",{ref:t,className:rn(l.headerWrap({})),onScroll:e=>{var n;if(i.current)return void(i.current=!1);if(!t.current)return;const o=t.current.scrollLeft,a=(null==(n=r.vsRef.current)?void 0:n.container)||null;a&&a.scrollLeft!==o&&(a.scrollLeft=o)},role:"presentation"},o.createElement("table",{ref:n,className:rn(l.headerTable({size:c}),e.className),role:"presentation"},o.createElement("colgroup",{ref:e=>{r.columnResizeRef.current&&(r.columnResizeRef.current.colGroupHeader=e)}},e.cols),o.createElement("thead",p({className:rn(l.tableThead({})),role:"rowgroup"},bb),e.headerRow,e.filterRow)))):o.createElement("thead",p({role:"presentation",className:rn(l.thead({draggable:e.draggable}),e.className)},bb),e.headerRow,e.filterRow)};PI.displayName="KendoReactHeader";const MI=["columnMenu"],OI=[[".k-tabstrip-items"],[".k-columnmenu-item"],...[".k-columnmenu-item-content",".k-filter-menu-container"].map(e=>Kt.map(t=>"".concat(e," ").concat(t)))],RI=e=>{const[t,n]=o.useState(!1),i=o.useRef(null),r=o.useRef(null),a=o.useRef(null),l=o.useRef(0),{columnMenu:c}=e,d=s(e,MI),{column:u,columnMenuIcon:h,navigatable:m}=e,f=Tc(),g=u.title||u.field,v=g?"".concat(g," "):"",y=()=>{e.onCloseMenu&&e.onCloseMenu(),n(!1),!e.navigatable&&i.current&&i.current.focus()},x=o.useMemo(()=>void 0!==e.show?e.show:t,[e.show,t]),b=(e,t,n)=>{n.preventDefault(),n.shiftKey?t.focusPrevious(e):t.focusNext(e)},w=(e,t,n)=>{e&&e.click()},k=(e,t,n)=>{n.preventDefault(),y()},C=(e,t,n)=>{t.focusElement(e)};return o.useEffect(()=>(x&&r.current&&(a.current=new mh({tabIndex:0,root:r,selectors:OI,keyboardEvents:{keydown:{Tab:b,Enter:w,Escape:k}},mouseEvents:{mousedown:C}}),a.current.focusElement(a.current.first,null)),()=>{a.current&&(a.current=null)}),[x]),o.createElement(o.Fragment,null,o.createElement("a",{className:"k-grid-header-menu k-grid-column-menu",ref:i,onClick:o=>{o.preventDefault(),t&&e.onCloseMenu&&e.onCloseMenu(),n(!t)},onKeyDown:e=>{var t;if(e.keyCode===_t){const n=e.target,o=n&&(null==(t=n.closest(".k-grid"))?void 0:t.getElementsByClassName("k-grid-content")[0]);o&&o.scrollWidth>o.clientWidth&&n.scrollIntoView({inline:"center"})}},href:"#",tabIndex:m?-1:void 0,"aria-label":"".concat(m?"":v).concat(f.toLanguageString(ZS,kI[ZS]))},h?o.createElement(yo,{name:h.name,icon:h}):o.createElement(yo,{name:"more-vertical",icon:nd})),o.createElement(Ci,{anchor:i.current,show:x,popupClass:"k-column-menu k-column-menu-popup k-grid-columnmenu-popup",onMouseDownOutside:e=>{!e.isAnchorClicked&&n(!1)}},o.createElement("div",{ref:r,onBlur:e=>{const t=Kc(document);clearTimeout(l.current),l.current=window.setTimeout(()=>{t&&e.relatedTarget!==i.current&&r.current&&!r.current.contains(t)&&y()})},onFocus:()=>{clearTimeout(l.current)},onMouseDown:e=>{var t;null==(t=a.current)||t.triggerMouseEvent(e)},onKeyDown:e=>{var t;null==(t=a.current)||t.triggerKeyboardEvent(e)},style:{outline:"none"}},c&&o.createElement(c,p(p({},d),{},{onCloseMenu:y})))))},LI=e=>{const t=po(),n=t&&t.uGrid?t.uGrid:Cw,i=e.onClick?{onClick:e.onClick}:{},r=o.createElement("span",{className:rn(n.headerCellInner({}))},o.createElement("span",p({className:rn(n.headerCellLink({sortable:e.columnMenuWrapperProps.sortable}))},i),o.createElement("span",{className:rn(n.columnTitle({}))},e.title||e.field||"\xa0"),e.children),e.columnMenuWrapperProps.columnMenu&&o.createElement(RI,p({},e.columnMenuWrapperProps)));return e.render?e.render.call(void 0,r,e):r},FI=["ariaSort","colSpan","rowSpan","columnId","navigatable","ariaColumnIndex","ariaLabel","ariaSelected","ariaDescription"],zI=e=>{const{ariaSort:t,colSpan:n,rowSpan:i,columnId:r,navigatable:a,ariaColumnIndex:l,ariaLabel:c,ariaSelected:d,ariaDescription:u}=e,h=s(e,FI),m=SI(r,a),f=o.useRef(null);return o.useEffect(()=>{f.current&&a&&en(f.current)},[a]),o.createElement("th",p(p({ref:f,"aria-sort":t,"aria-label":c,"aria-colindex":l,"aria-selected":d,colSpan:n,rowSpan:i},m),h),e.children)};zI.displayName="KendoReactHeaderThElement";const BI=o.createContext(void 0),VI=e=>{const t=o.useContext(RS),n=o.useRef(null),[i,r]=o.useState(),a=(n,o)=>{e.sortable&&o.sortable&&(n.preventDefault(),t.sortChange&&t.headerCellClick(n,o))};return o.createElement(BI.Provider,{value:{cellClick:a,cellKeyDown:(o,i)=>{if(o.isDefaultPrevented())return;const{keyCode:s,metaKey:l,ctrlKey:c,altKey:d}=o,u=e.sortable&&i.sortable,p=o.target;if(u&&o.keyCode===Dt&&-1!==p.className.indexOf("k-table-th")&&a(o,i),e.navigatable){if(e.groupable&&(l&&s===Dt||c&&s===Tt)){o.preventDefault();const n=e.columns.findIndex(e=>e.field===i.field);t.columnGroupChange&&t.columnGroupChange(n,o)}d&&s===Bt&&(o.preventDefault(),r(i.field),n.current=p)}},handleCloseMenu:()=>{r(void 0),n.current&&"-1"!==n.current.getAttribute("tabindex")&&n.current.focus()},showColumnMenuField:i}},e.children)},HI=e=>{const t=o.useContext(RS),n=o.useContext(BI),i=t.isClient||e.isClient,r={style:p({},t.getCellPositionStyle(e.column))},a={onKeyDown:t=>{n.cellKeyDown(t,e.column)},onContextMenu:n=>{t.onContextMenu(n,void 0,e.column.field)}};let s={onClick:t=>{n.cellClick(t,e.column)}};return i&&(s=p(p({},s),{},{render:e.render,selectionChange:t.onHeaderSelectionChange,columnMenuWrapperProps:p(p({},e.columnMenuWrapperProps),{},{onSortChange:t.sortChange,onFilterChange:t.filterChange,onGroupChange:t.groupChange,onColumnsStateChange:t.onColumnsStateChange,show:n.showColumnMenuField===e.column.field||void 0,onCloseMenu:n.handleCloseMenu,columnsState:t.columnsState})})),e.isCustom&&(s=i?p(p({},s),{},{thProps:p(p(p({},e.thProps),a),r)}):p(p(p({},s),a),r)),yw(e.children,p({},s))};var qI,UI=function(e,t){var n=0,o=null;return t.forEach(function(t){if(t&&e){var i=function(e,t){var n=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=Math.max(o.top,n.top),r=Math.max(o.left,n.left),a=Math.min(o.left+o.width,n.left+n.width),s=Math.min(o.top+o.height,n.top+n.height),l=a-r,c=s-i;if(r<a&&i<s){var d=o.width*o.height,u=n.width*n.height,p=l*c;return Number((p/(d+u-p)).toFixed(4))}return 0}(e,t);i>n&&(n=i,o=t)}}),o},GI=function(){var e=window&&window.navigator.userAgent;if(!e)return!1;var t=!1,n=[],o={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var i in o)if(o.hasOwnProperty(i)&&(n=e.match(o[i]))){(t={})[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.DOCUMENT_NODE||n[2],10);break}return t},WI=function(e){return e&&e.ownerDocument||window.document},KI=function(e){var t=GI(),n=WI(e);return t.edge||t.safari?n.body:n.documentElement},YI=function(e){if(e&&e.className&&"string"===typeof e.className&&e.className.indexOf("k-auto-scrollable")>-1)return!0;var t=window.getComputedStyle(e,"overflow").overflow;return t.indexOf("auto")>-1||t.indexOf("scroll")>-1},XI=function(e){var t=KI(e);if(!e||e===document.body||e===document.documentElement)return t;for(var n=e;n&&n!==document.body&&n.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&n.nodeType!==Node.DOCUMENT_NODE&&!YI(n);)n=n.parentNode;return!n||n!==document.body&&n.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?n:t};!function(e){e.POINTER_DOWN="pointerdown",e.POINTER_MOVE="pointermove",e.POINTER_UP="pointerup",e.POINTER_CANCEL="pointercancel",e.MOUSE_DOWN="mousedown",e.MOUSE_MOVE="mousemove",e.MOUSE_UP="mouseup",e.CONTEXT_MENU="contextmenu",e.TOUCH_START="touchstart",e.TOUCH_MOVE="touchmove",e.TOUCH_END="touchend",e.TOUCH_CANCEL="touchcancel",e.SCROLL="scroll",e.START="KENDO_DRAG_AND_DROP_START",e.MOVE="KENDO_DRAG_AND_DROP_MOVE",e.END="KENDO_DRAG_AND_DROP_END",e.CANCEL="KENDO_DRAG_AND_DROP_CANCEL"}(qI||(qI={}));var JI=function(){},QI=function(e,t,n){void 0===n&&(n={});var o=n.onIsPressedChange,i=void 0===o?JI:o,r=n.onIsScrollingChange,a=void 0===r?JI:r,s=n.onVelocityChange,l=void 0===s?JI:s,c=n.onOffsetChange,d=void 0===c?JI:c,u=n.onPageOffsetChange,p=void 0===u?JI:u,h=n.onClientOffsetChange,m=void 0===h?JI:h,f=n.onScrollOffsetChange,g=void 0===f?JI:f,v=n.onInitialScrollOffsetChange,y=void 0===v?JI:v,x=t.payload,b=x.element,w=x.hint,k=e.autoScrollDirection,C=e.scrollableParent,S=function(e,t){return function(e){return/^touch/.test(e.type)}(e)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,scrollX:t.scrollOffset.x,scrollY:t.scrollOffset.y,offsetX:t.offset.x,offsetY:t.offset.y,type:e.type,originalEvent:e,isTouch:!0,altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1}:function(e){return/^(scroll)/.test(e.type)}(e)?{pageX:t.pageOffset.x,pageY:t.pageOffset.y,clientX:t.clientOffset.x,clientY:t.clientOffset.y,scrollX:t.scrollOffset.x,scrollY:t.scrollOffset.y,offsetX:t.offset.x,offsetY:t.offset.y,type:e.type,originalEvent:e,altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,scrollX:t.scrollOffset.x,scrollY:t.scrollOffset.y,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,originalEvent:e}}(t.event,e);switch(S.type){case qI.POINTER_DOWN:if(S.type===qI.POINTER_DOWN&&(!S.originalEvent.isPrimary||0!==S.originalEvent.button))break;case qI.MOUSE_DOWN:if(S.type===qI.MOUSE_DOWN&&S.originalEvent.which&&S.originalEvent.which>1||e.ignoreMouse)break;case qI.TOUCH_START:if(S.type===qI.TOUCH_START&&1!==S.originalEvent.touches.length)break;case qI.START:var I=C||XI(t.payload.element);y(I instanceof Window?{x:I.scrollX,y:I.scrollY}:{x:I.scrollLeft,y:I.scrollTop}),m({x:S.clientX,y:S.clientY}),p({x:S.pageX,y:S.pageY}),d({x:S.offsetX,y:S.offsetY}),i(!0),x.onPress&&x.onPress(S);break;case qI.SCROLL:if(S.type===qI.SCROLL&&!e.pressed)break;var E=C||XI(b),j=E instanceof Window?{x:E.scrollX,y:E.scrollY}:{x:E.scrollLeft,y:E.scrollTop};S.scrollX=j.x-e.initialScrollOffset.x,S.scrollY=j.y-e.initialScrollOffset.y,g({x:S.scrollX,y:S.scrollY});case qI.POINTER_MOVE:if(S.type===qI.POINTER_MOVE&&!S.originalEvent.isPrimary)break;case qI.MOUSE_MOVE:case qI.TOUCH_MOVE:if(S.type===qI.TOUCH_MOVE&&1!==S.originalEvent.touches.length)break;case qI.MOVE:if(e.pressed){if(e.autoScroll&&"scroll"!==S.originalEvent.type&&b){var A=WI(b),_=C||XI(A.elementFromPoint(S.clientX,S.clientY)),D=function(e,t,n){var o={x:0,y:0},i=50;return e-n.left<i?o.x=-(i-(e-n.left)):n.right-e<i&&(o.x=i-(n.right-e)),t-n.top<i?o.y=-(i-(t-n.top)):n.bottom-t<i&&(o.y=i-(n.bottom-t)),o}(S.clientX,S.clientY,function(e,t){var n=KI(e);if(e===n)return{top:n.scrollTop,left:n.scrollLeft,bottom:n.scrollTop+t.innerHeight,right:n.scrollLeft+t.innerWidth};var o=e.getBoundingClientRect();return{bottom:o.top+o.height,right:o.left+o.width,left:o.left,top:o.top}}(_,function(e){var t=WI(e);return t&&t.defaultView||window}(b)));l({x:k&&!1===k.horizontal?0:D.x,y:k&&!1===k.vertical?0:D.y}),a(0!==D.y||0!==D.x)}!e.drag&&x.onDragStart&&x.onDragStart(S),x.onDrag&&x.onDrag(S);var N=UI(w||b,e.drops.map(function(e){return e&&e.element}).filter(function(e){return e!==(w||b)})),T=e.drops.find(function(e){return e.element===N});T&&N&&function(e,t,n){var o=n.getBoundingClientRect();return o.top<=t&&o.left<=e&&t<=o.bottom&&e<=o.right}(S.clientX,S.clientY,C||XI(N))&&N!==b?(e.drop&&e.drop.element)!==N?(e.drop&&e.drop.onDragLeave&&e.drop.onDragLeave(S),T.onDragEnter&&T.onDragEnter(S)):T.onDragOver&&T.onDragOver(S):e.drop&&e.drop.onDragLeave&&e.drop.onDragLeave(S)}m({x:S.clientX,y:S.clientY}),p({x:S.pageX,y:S.pageY});break;case qI.POINTER_UP:if(S.type===qI.POINTER_UP&&!S.originalEvent.isPrimary)break;case qI.MOUSE_UP:case qI.TOUCH_END:if(S.type===qI.TOUCH_END&&1!==S.originalEvent.touches.length)break;case qI.END:i(!1),a(!1),g({x:0,y:0}),x.onRelease&&x.onRelease(S),e.drop&&e.drop.onDrop&&e.drop.onDrop(S),e.drag&&x.onDragEnd&&x.onDragEnd(S);break;case qI.POINTER_CANCEL:case qI.CONTEXT_MENU:case qI.TOUCH_CANCEL:case qI.CANCEL:i(!1),a(!1),g({x:0,y:0}),x.onDragEnd&&x.onDragEnd(S),e.drop&&e.drop.onDragLeave&&e.drop.onDragLeave(S)}};const ZI=(e,t)=>{const[n,i]=e,[r,a]=o.useState(t);return[void 0!==n?n:r,function(){void 0!==n?i(...arguments):a(arguments.length<=0?void 0:arguments[0])}]},$I=o.createContext({drag:void 0,setDrag:Fp,drop:void 0,setDrop:Fp,drags:[],registerDrag:Fp,deregisterDrag:Fp,drops:[],registerDrop:Fp,deregisterDrop:Fp});function eE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{onPress:i=Fp,onRelease:r=Fp,onDragStart:a=Fp,onDrag:s=Fp,onDragEnd:l=Fp}=t,{hint:c=null,mouseOnly:d=!1,autoScroll:u=!0,scrollContainer:p=null,context:h=$I}=n,[m,f]=o.useState(!1),[g,v]=o.useState(!1),{drop:y,setDrop:x,drag:b,setDrag:w,drops:k,drags:C,registerDrag:S,deregisterDrag:I}=o.useContext(h),[E]=ZI([y,x]),[j,A]=ZI([b,w]),_=o.useRef({x:0,y:0}),D=o.useRef(void 0),N=o.useRef(!1),T=o.useRef(void 0),P=o.useRef(null),M=o.useRef(!1),O=o.useRef({x:0,y:0}),R=o.useRef({x:0,y:0}),L=o.useRef({x:0,y:0}),F=o.useRef({x:0,y:0}),z=o.useRef({x:0,y:0}),B=o.useRef({x:0,y:0}),V=!("undefined"==typeof window||!window.PointerEvent),H=!d&&V,q=o.useCallback(()=>e.current&&e.current.element?e.current.element:e.current,[e]),U=o.useCallback(()=>c&&c.current&&c.current.element?c.current.element:c?c.current:null,[c]),G=o.useCallback(()=>p&&p.current&&p.current.element?p.current.element:p?p.current:null,[p]),W=o.useCallback(()=>"object"==typeof u&&u.boundaryElementRef&&u.boundaryElementRef.current&&u.boundaryElementRef.current.element?u.boundaryElementRef.current.element:"object"==typeof u&&u.boundaryElementRef&&u.boundaryElementRef.current?u.boundaryElementRef.current:null,[u]),K=o.useRef(null);o.useImperativeHandle(K,()=>({get element(){return q()},get hint(){return U()},onPress:ae,onDragStart:le,onDrag:ce,onDragEnd:de,onRelease:se,data:e.current}));const Y=o.useCallback(()=>{const e=q();return e&&e.ownerDocument||document},[q]),X=o.useCallback(()=>{const e=Y();return e&&e.defaultView||window},[Y]),J=o.useCallback(()=>({get drag(){return j?j.current:null},get drop(){return E?E.current:null},get drags(){return(null!=C?C:[]).map(e=>e.current)},get drops(){return(null!=k?k:[]).map(e=>e.current)},pressed:!!m,ignoreMouse:N.current,scrollOffset:z.current,offset:O.current,pageOffset:R.current,initialScrollOffset:B.current,clientOffset:L.current,initialClientOffset:F.current,velocity:_.current,autoScroll:!!("object"==typeof u?!1!==u.enabled:u),scrollableParent:W(),autoScrollDirection:"object"==typeof u?u.direction:{horizontal:!0,vertical:!0},isScrolling:g}),[j,E,C,k,m,N,z,O,R,B,L,F,_,u,g,W]),Q=o.useCallback(e=>{f(e)},[]),Z=o.useCallback(e=>{v(e)},[]),$=o.useCallback(e=>{_.current=e},[]),ee=o.useCallback(e=>{O.current=e},[]),te=o.useCallback(e=>{L.current=e},[]),ne=o.useCallback(e=>{R.current=e},[]),oe=o.useCallback(e=>{F.current=e},[]),ie=o.useCallback(e=>{z.current=e},[]),re=o.useCallback(e=>{B.current=e},[]),ae=o.useCallback(e=>{i(e)},[i]),se=o.useCallback(e=>{r(e)},[r]),le=o.useCallback(t=>{A(K,{target:e.current,event:t}),a(t)},[A,e,a]),ce=o.useCallback(e=>{s(e)},[s]),de=o.useCallback(t=>{M.current||(A(null,{target:e.current,event:t}),l(t))},[l,A,e]),ue=o.useCallback(e=>{QI(J(),{event:e,payload:K.current},{onVelocityChange:$,onOffsetChange:ee,onClientOffsetChange:te,onPageOffsetChange:ne,onInitialClientOffsetChange:oe,onScrollOffsetChange:ie,onInitialScrollOffsetChange:re,onIsPressedChange:Q,onIsScrollingChange:Z})},[J,$,ee,ne,te,oe,re,Q,ie,Z]),pe=o.useCallback(e=>{ue(e)},[ue]),he=o.useCallback(e=>{ue(e)},[ue]),me=o.useCallback(e=>{ue(e)},[ue]),fe=o.useCallback(e=>{ue(e)},[ue]),ge=o.useCallback(e=>{ue(e)},[ue]),ve=o.useCallback(e=>{ue(e)},[ue]),ye=o.useCallback(e=>{ue(e)},[ue]),xe=o.useCallback(e=>{e.preventDefault(),ue(e)},[ue]),be=o.useCallback(e=>{e.preventDefault(),ue(e)},[ue]),we=o.useCallback(e=>{e.preventDefault(),ue(e)},[ue]),ke=o.useCallback(e=>{if(0===e.touches.length&&1===e.changedTouches.length){const e=X();N.current=!0,T.current=e.setTimeout(()=>{N.current=!1},2e3)}ue(e)},[ue,X]),Ce=o.useCallback(e=>{ue(e)},[ue]),Se=o.useCallback(()=>{const e=q();if(e){const t=e.style.touchAction;return e.style.touchAction="none",()=>{e.style.touchAction=t}}},[q]),Ie=o.useCallback(()=>(null==S||S(K),()=>{null==I||I(K)}),[I,S]);o.useEffect(()=>{const e=X();if(g){const t=G()||XI(document.elementFromPoint(L.current.x,L.current.y));e.clearInterval(D.current),D.current=e.setInterval(()=>{!function(e,t){if(e){var n,o;e===KI(e)?(n=document.body.scrollHeight>window.innerHeight,o=document.body.scrollWidth>window.innerWidth):(n=e.offsetHeight<=e.scrollHeight,o=e.offsetWidth<=e.scrollWidth);var i=e.scrollTop+t.y,r=n&&i>0&&i<e.scrollHeight,a=e.scrollLeft+t.x,s=o&&a>0&&a<e.scrollWidth;r?e.scrollTop+=t.y:n&&i<0&&(e.scrollTop=0),s?e.scrollLeft+=t.x:o&&a<0&&(e.scrollLeft=0)}}(t,{x:_.current.x,y:_.current.y})},50)}return()=>{e.clearInterval(D.current)}},[q,G,X,g]),o.useEffect(Se,[Se]),o.useEffect(()=>{const e=X(),t=q(),n=Y();return H?(t&&(P.current=XI(t),P.current&&P.current.addEventListener("scroll",Ce,{passive:!0}),t.addEventListener("pointerdown",pe,{passive:!0})),m&&(n.addEventListener("pointermove",he),n.addEventListener("pointerup",fe,!0),n.addEventListener("contextmenu",xe),n.addEventListener("pointercancel",me,{passive:!0}))):(e.addEventListener("touchmove",Fp,{capture:!1,passive:!1}),t&&(t.addEventListener("mousedown",ge,{passive:!0}),d||(t.addEventListener("touchstart",be,{passive:!0}),m&&(t.addEventListener("touchmove",we,{passive:!0}),t.addEventListener("touchend",ke,{passive:!0})))),m&&(n.addEventListener("mousemove",ve,{passive:!0}),n.addEventListener("mouseup",ye,{passive:!0}))),()=>{P.current&&P.current.removeEventListener("scroll",Ce),t&&(t.removeEventListener("pointerdown",pe),t.removeEventListener("mousedown",ge),t.removeEventListener("touchstart",be),t.removeEventListener("touchmove",we),t.removeEventListener("touchend",ke)),n.removeEventListener("pointermove",he),n.removeEventListener("pointerup",fe,!0),n.removeEventListener("contextmenu",xe),n.removeEventListener("pointercancel",me),n.removeEventListener("mousemove",ve),n.removeEventListener("mouseup",ye),e.removeEventListener("touchmove",Fp),e.clearTimeout(T.current)}},[m,X,q,Y,d,H,xe,ge,ve,ye,me,pe,he,fe,ke,we,be,Ce]),o.useEffect(()=>(M.current=!1,()=>{M.current=!0}),[]),nn(Ie,[Ie])}const tE=o.forwardRef((e,t)=>{const n=o.useRef(null),i=o.useRef(null),r=o.useCallback(()=>n.current&&n.current.element?n.current.element:n.current,[n]);o.useImperativeHandle(i,()=>({element:r()||null})),o.useImperativeHandle(t,()=>i.current),o.useImperativeHandle(e.childRef,()=>n.current);const a=o.useCallback(t=>{e.onPress&&e.onPress({element:r(),target:i.current,event:t})},[r,e.onPress]),s=o.useCallback(t=>{e.onRelease&&e.onRelease({element:r(),target:i.current,event:t})},[r,e.onRelease]),l=o.useCallback(t=>{e.onDragStart&&e.onDragStart({element:r(),target:i.current,event:t})},[e,r]),c=o.useCallback(t=>{e.onDrag&&e.onDrag({element:r(),target:i.current,event:t})},[r,e.onDrag]),d=o.useCallback(t=>{e.onDragEnd&&e.onDragEnd({element:r(),target:i.current,event:t})},[r,e.onDragEnd]);return eE(n,{onPress:a,onRelease:s,onDragStart:l,onDrag:c,onDragEnd:d},{mouseOnly:e.mouseOnly,autoScroll:e.autoScroll,hint:e.hint,scrollContainer:e.scrollContainer,context:e.context}),e.children?o.cloneElement(o.Children.only(e.children),{ref:n}):null});tE.displayName="KendoReactDraggable";const nE=e=>{const t=o.useRef(null),n=po(),i=n&&n.uGrid?n.uGrid:Cw;return o.createElement(tE,{onPress:n=>{const o=t.current&&t.current.element;o&&e.pressHandler&&e.pressHandler(n.event,o)},onDrag:n=>{const o=t.current&&t.current.element;o&&e.dragHandler&&e.dragHandler(n.event,o)},onRelease:n=>{t.current&&t.current.element&&e.releaseHandler&&e.releaseHandler(n.event)},hint:e.dragClue,autoScroll:{boundaryElementRef:e.headerRef,direction:{horizontal:!0,vertical:!1}},scrollContainer:e.containerRef||void 0,ref:t},o.createElement("tr",{className:rn(i.simpleTr({})),style:{touchAction:"none"},role:"row","aria-rowindex":e.ariaRowIndex},e.children))},oE=e=>{const t=o.useContext(RS);return t.dragLogicRef.current.pressHandler&&o.createElement(nE,{ariaRowIndex:e.ariaRowIndex,pressHandler:t.dragLogicRef.current.pressHandler,dragHandler:t.dragLogicRef.current.dragHandler,releaseHandler:t.dragLogicRef.current.releaseHandler,dragClue:t.dragLogicRef.current.dragClue,headerRef:t.headerElementRef,containerRef:t.containerElementRef},e.children)||o.createElement("tr",{className:e.className,role:"row","aria-rowindex":e.ariaRowIndex},e.children)},iE=e=>{const t=o.useContext(RS),n=o.useContext(BI),i={style:p({},t.getCellPositionStyle(e.column))};return yw(e.children,p({onKeyDown:t=>{n.cellKeyDown(t,e.column)},onContextMenu:n=>{t.onContextMenu(n,void 0,e.column.field)}},i))};class rE extends o.Component{constructor(){super(...arguments),this.draggable=null,this.isDragged=!1,this.onDrag=e=>{this.isDragged=!0;const t=this.draggable&&this.draggable.element;t&&this.props.resize(e.event,t,!1)},this.onRelease=e=>{if(!this.isDragged)return;const t=this.draggable&&this.draggable.element;t&&this.props.resize(e.event,t,!0),this.isDragged=!1},this.onDoubleClick=e=>{if(this.isDragged)return;const t=this.draggable&&this.draggable.element;t&&this.props.autofit&&this.props.autofit(e,t)}}render(){return o.createElement(tE,{onPress:e=>{e.event.originalEvent.stopPropagation()},onDrag:this.onDrag,onRelease:this.onRelease,autoScroll:{direction:{vertical:!1,horizontal:!0}},ref:e=>{this.draggable=e}},o.createElement("span",{className:"k-column-resizer",style:{touchAction:"none"},draggable:!1,onDoubleClick:this.onDoubleClick}))}}const aE=e=>{const{column:t}=e,n=o.useContext(RS);return n.columnResizeRef.current&&n.columnResizeRef.current.resizable&&t.resizable&&o.createElement(rE,{key:2,resize:(e,o,i)=>n.columnResizeRef.current&&n.columnResizeRef.current.dragHandler(e,t,o,i),autofit:e=>n.columnResizeRef.current&&n.columnResizeRef.current.dblClickHandler(e,[t.id])})||o.createElement(o.Fragment,null)},sE={none:"none",asc:"ascending",desc:"descending"},lE=e=>{const t=e.unstyled,n=t&&t.uGrid?t.uGrid:Cw;let i=0,r=-1;const a=t=>{if(!e.sort)return null;const i=rn(n.sortIcon({}));return t>=0&&[o.createElement("span",{key:1,className:i},o.createElement(yo,{name:"sort-"+e.sort[t].dir+"-small",icon:"asc"===e.sort[t].dir?cd:dd})),e.sort.length>1&&o.createElement("span",{key:2,className:i},o.createElement("span",{className:rn(n.sortOrder({}))},t+1))]},s=e.columns.map(sw);return o.createElement(VI,{sortable:e.sortable,sort:e.sort,navigatable:e.navigatable,groupable:e.groupable,columns:s},e.columnsMap.map((t,s)=>o.createElement(oE,{key:s,className:rn(n.simpleTr({})),ariaRowIndex:s+1},(t=>t.map(t=>{var s;const l=e.columns[t],c=e.sortable&&l.sortable,d=e.sort?e.sort.findIndex(e=>e.field===l.field):-1,u=d>=0&&e.sort[d].dir||"none",h=null===l.columnMenu?null:l.columnMenu||e.columnMenu,m=l.menuIcon||e.columnMenuIcon,f=rn(rn(n.headerTh({first:l.kFirst,filterable:!!h,locked:l.locked,sorted:e.sort&&e.sort.some(e=>e.field===l.field)})),l.headerClassName);!1===l.locked&&(l.left=0);const g=e.localization.toLanguageString(pI,kI[pI]),v=l.isAccessible?{ariaSort:sE[u],role:"columnheader",ariaColumnIndex:l.ariaColumnIndex,ariaSelected:!1,ariaDescription:c?g:""}:{role:"presentation"},y=l.declarationIndex>=0?++r:--i,x={field:l.field,title:l.title,selectionValue:null!=(s=l.headerSelectionValue)?s:e.headerSelectionValue,children:a(d),selectionChange:null,columnMenuWrapperProps:{column:{field:l.field,title:l.title,locked:l.locked,filter:l.filter,id:l.id},sortable:c&&e.sortable,sort:e.sort,filter:e.filter,filterable:e.filterable&&l.filterable,filterOperators:e.filterOperators,navigatable:e.navigatable,group:e.group,groupable:e.groupable,columnMenu:h,columnMenuIcon:m}},b=p(p({},v),{},{colSpan:l.headerColSpan,rowSpan:l.rowSpan,className:f,columnId:l.id,navigatable:l.navigatable,role:"columnheader"}),w=sw(l),k={column:w,render:e.cellRender,sortable:e.sortable,sort:e.sort,columnMenuWrapperProps:x.columnMenuWrapperProps},C=l.headerCell?l.headerCell:LI,S=[o.createElement(HI,p(p({key:1},k),{},{isClient:fw(C)}),o.createElement(C,p({},x))),o.createElement(aE,{key:2,column:w})],I=hw(e.cells,l.cells);if(I&&I.headerCell){const e=I.headerCell,n=fw(e);return o.createElement(HI,p(p({key:y},k),{},{thProps:b,isCustom:!0,isClient:n}),o.createElement(e,p(p({},x),{},{thProps:b,index:t}),S))}return o.createElement(iE,{key:y,column:w},o.createElement(zI,p({},b),S))}))(t))))},cE={text:[{text:"grid.filterContainsOperator",operator:"contains"},{text:"grid.filterNotContainsOperator",operator:"doesnotcontain"},{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterStartsWithOperator",operator:"startswith"},{text:"grid.filterEndsWithOperator",operator:"endswith"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"},{text:"grid.filterIsEmptyOperator",operator:"isempty"},{text:"grid.filterIsNotEmptyOperator",operator:"isnotempty"}],numeric:[{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterGteOperator",operator:"gte"},{text:"grid.filterGtOperator",operator:"gt"},{text:"grid.filterLteOperator",operator:"lte"},{text:"grid.filterLtOperator",operator:"lt"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"}],date:[{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterAfterOrEqualOperator",operator:"gte"},{text:"grid.filterAfterOperator",operator:"gt"},{text:"grid.filterBeforeOperator",operator:"lt"},{text:"grid.filterBeforeOrEqualOperator",operator:"lte"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"}],boolean:[{text:"grid.filterEqOperator",operator:"eq"}]},dE=e=>"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e,uE=(e,t)=>e.map(e=>({text:t.toLanguageString(e.text,kI[e.text]),operator:e.operator})),pE=[{text:"grid.filterBooleanAll",operator:""},{text:"grid.filterIsTrue",operator:!0},{text:"grid.filterIsFalse",operator:!1}],hE=(e,t)=>t?e[t][0].operator:e[0].operator,mE=e=>{const t=o.useRef(null),n=Tc(),i=(t,n)=>{((e,t,n)=>{const o=hE(n.operators);let i=n.operator;switch(n.filterType){case"numeric":case"date":(!i||dE(i))&&(i=o),null===e&&i===o&&(i="");break;case"text":(!i||dE(i))&&(i=o),!e&&i===o&&(i="");break;default:return}n.onChange({value:e,operator:i,syntheticEvent:t})})(t,n,e)},r=t=>{((e,t,n)=>{let o=t;const i=e.target.value;e.target.state.opened&&(dE(i.operator)&&(o=null),null===t&&!dE(i.operator)&&(o=void 0),n({value:o,operator:i.operator,syntheticEvent:e.syntheticEvent}))})(t,e.value,e.onChange)},a=t=>{((e,t)=>{const n=e.target.value;t({value:n.operator,operator:""===n.operator?"":"eq",syntheticEvent:e.syntheticEvent})})(t,e.onChange)},s=o.createElement("div",{className:"k-filtercell"},o.createElement("div",{className:"k-filtercell-wrapper"},((n,r,s)=>{switch(n){case"numeric":return o.createElement(xu,{ref:t,size:e.size,value:r,onChange:e=>{i(e.value,e.syntheticEvent)},title:e.title,ariaLabel:e.ariaLabel});case"date":return o.createElement(Zv,{ref:t,size:e.size,value:r,onChange:e=>{i(e.value,e.syntheticEvent)},title:e.title,ariaLabel:e.ariaLabel,popupSettings:{onMouseDownOutside:e=>{!e.isAnchorClicked&&e.state&&e.state.props.show&&t&&t.current.togglePopup()}}});case"boolean":{const n=e=>null==e;return o.createElement(Sh,{ref:t,size:e.size,onChange:a,value:s.find(e=>e.operator===(n(r)?"":r)),data:s,textField:"text",title:e.title,ariaLabel:e.ariaLabel,popupSettings:{onMouseDownOutside:e=>{!e.isAnchorClicked&&e.state&&e.state.props.show&&t&&t.current.togglePopup()}}})}default:return o.createElement(Wu,{ref:t,size:e.size,value:r||"",onChange:e=>{i(e.target.value,e.syntheticEvent)},title:e.title,"aria-label":e.ariaLabel})}})(e.filterType,e.value,e.booleanValues),o.createElement("div",{className:"k-filtercell-operator"},(()=>{if("boolean"===e.filterType)return;let t;const i=e.operators.find(t=>t.operator===e.operator)||null;return o.createElement(Sh,{ref:e=>{t=e},size:e.size,value:i,onChange:r,className:"k-dropdown-operator",svgIcon:ud,data:e.operators,textField:"text",title:n.toLanguageString(cI,kI[cI]),popupSettings:{width:"",onMouseDownOutside:function(e){!e.isAnchorClicked&&e.state&&e.state.props.show&&t&&t.togglePopup()}}})})(),"\xa0",o.createElement(bo,{size:e.size,svgIcon:pd,className:rn({"k-clear-button-visible":!!(null!==e.value&&""!==e.value||e.operator)}),title:n.toLanguageString(eI,kI[eI]),type:"button",onClick:n=>{n.preventDefault(),e.onChange({value:"",operator:"",syntheticEvent:n}),t.current&&(t.current.element.value="",setTimeout(()=>{t.current.element.focus()},0))},disabled:!(null!==e.value&&""!==e.value||e.operator)}))));return e.render?e.render.call(void 0,s,e):s},fE=["ariaSort","colSpan","rowSpan","columnId","navigatable","ariaColumnIndex","ariaLabel","ariaSelected","ariaDescription"],gE=e=>{const{ariaSort:t,colSpan:n,rowSpan:i,columnId:r,navigatable:a,ariaColumnIndex:l,ariaLabel:c,ariaSelected:d,ariaDescription:u}=e,h=s(e,fE),m=SI(r,a),f=o.useRef(null);return o.useEffect(()=>{f.current&&a&&en(f.current)},[a]),o.createElement("td",p(p({ref:f,"aria-sort":t,"aria-label":c,"aria-colindex":l,"aria-selected":d,colSpan:n,rowSpan:i},m),h),e.children)};gE.displayName="KendoReactHeaderTdElement";const vE=e=>{const t=o.useContext(RS),n=t.getCellPositionStyle(e.column),i=e.isCustom?{style:p({},n)}:{};return t.isClient||e.isClient?yw(e.children,{render:e.render,onChange:n=>{((n,o,i,r)=>{if(!t.filterChange)return;const a=[];(""!==n&&null!==n||""!==o)&&a.push({field:i,operator:o,value:n}),e.filter&&e.filter.filters&&(e.filter.filters||[]).forEach(e=>{e&&e.field!==i&&a.push(e)});const s=e.filter&&e.filter.logic?e.filter.logic:"and";t.filterChange(a.length>0?{logic:s,filters:a}:null,r)})(n.value,n.operator,e.field,n.syntheticEvent)},tdProps:p(p({},e.tdProps),i),thProps:p(p({},e.tdProps),i)}):yw(e.children,{})},yE=e=>{const t={style:p({},o.useContext(RS).getCellPositionStyle(e.column))};return yw(e.children,p({},t))},xE=e=>{const t=(t,n)=>{let o="".concat(n?"k-grid-header-sticky":"");return e.sort&&e.sort.filter(e=>e.field===t).length>0&&(o+=" k-sorted"),o},n=e.filter&&e.filter.filters||[];let i=0,r=-1;const a=e.columns.filter(e=>0===e.children.length).map(a=>{const s=(e=>e||"text")(a.filter),l=(e=>{if(void 0===e)return;const t=n.filter(t=>t.field===e);return t.length?t[0]:void 0})(a.field),c="".concat(a.field," ").concat(e.localization.toLanguageString(hI,kI[hI]));let d=l&&l.value;void 0===d&&(d="text"===s?"":null);const u=a.filterable&&{field:a.field,title:a.filterTitle,value:d,operator:l&&l.operator,operators:uE(e.filterOperators[s]||[],e.localization),booleanValues:uE(pE,e.localization),filterType:s,ariaLabel:"reorder"===a.columnType?"":c,size:e.size},h=a.declarationIndex>=0?++r:--i,m={columnId:Bb.getFilterColumnId(a.id),navigatable:a.navigatable||e.navigatable,className:rn("k-table-td",t(a.field,a.locked)||void 0),role:"gridcell",ariaLabel:"reorder"===a.columnType?void 0:c,ariaColumnIndex:a.ariaColumnIndex},f=sw(a),g={column:f,filter:e.filter,field:a.field,tdProps:m,thProps:m,render:e.cellRender};let v=null;if(u&&"reorder"!==a.columnType){const e=a.filterCell?a.filterCell:mE;v=o.createElement(vE,p(p({},g),{},{isClient:fw(e)}),o.createElement(e,p({},u)))}const y=hw(e.cells,a.cells);if(y&&y.filterCell){const e=y.filterCell,t=fw(e);return o.createElement(vE,p(p({key:h},g),{},{isClient:t,isCustom:!0}),o.createElement(e,p(p({key:h},u),{},{tdProps:m,thProps:m,index:r}),v))}return o.createElement(yE,{key:h,column:f},o.createElement(gE,p({},m),v))});return o.createElement("tr",{className:"k-table-row k-filter-row","aria-rowindex":e.ariaRowIndex,role:"row"},a)},bE=e=>{const t=o.useRef(null),{dir:n,title:i}=e;return o.createElement(tE,{onPress:n=>{const o=t.current&&t.current.element;o&&e.onPress&&e.onPress(n.event,o)},onDrag:n=>{const o=t.current&&t.current.element;o&&e.onDrag&&e.onDrag(n.event,o)},onRelease:n=>{t.current&&t.current.element&&e.onRelease&&e.onRelease(n.event)},ref:t},o.createElement("div",{className:"k-chip k-chip-md k-chip-solid k-chip-solid-base k-rounded-md",onClick:t=>{if(t.preventDefault(),e.onSortChange){const n="asc"===e.dir?"desc":"asc";e.onSortChange(t,n)}},onContextMenu:t=>{const n={title:e.title,dir:e.dir,index:e.index};e.onContextMenu&&e.onContextMenu.call(void 0,t,{dataItem:p({},n)})},onKeyDown:t=>{(t.keyCode===Vt||t.keyCode===At)&&(t.preventDefault(),t.stopPropagation(),e.onRemove&&e.onRemove(t))},tabIndex:0,role:"button",style:{touchAction:"none"}},o.createElement("span",null,o.createElement(yo,{name:"sort-"+n+"-small",icon:"asc"===n?cd:dd,size:"small"})),o.createElement("span",{className:"k-chip-content"},o.createElement("span",{className:"k-chip-label"},i)),o.createElement("span",{className:"k-chip-actions"},o.createElement("span",{className:"k-chip-action k-chip-remove-action",onClick:t=>{t.preventDefault(),t.stopPropagation(),e.onRemove&&e.onRemove(t)}},o.createElement(yo,{name:"x-circle",icon:ad,size:"small"})))))},wE=e=>{const t=o.useContext(RS),n=Tc(),i=e.group||[],r=t=>{const n=e.columns.find(e=>e.field===t),o=n&&(n.title||n.field);return void 0===o?t:o},a=i.map((n,i)=>o.createElement(bE,{key:i,index:i,dir:n.dir||"asc",title:r(n.field),onRemove:n=>{((n,o)=>{const i=e.group.slice();i.splice(o,1),t.groupChange(i,n)})(n,i)},onSortChange:(o,r)=>{((n,o,i,r)=>{const a=Object.assign({},i,{dir:r}),s=e.group.slice();s.splice(o,1,a),t.groupChange(s,n)})(o,i,n,r)},onPress:t.dragLogicRef.current.pressHandler,onDrag:t.dragLogicRef.current.dragHandler,onRelease:t.dragLogicRef.current.releaseHandler,onContextMenu:t.onContextMenu}));return o.createElement("div",{ref:t.dragLogicRef.current.refGroupPanelDiv,className:"k-grouping-header",role:"toolbar","aria-label":n.toLanguageString(mI,kI[mI]),"aria-controls":e.ariaControls||""},o.createElement("div",{className:"k-chip-list k-chip-list-md",role:"none"},a),o.createElement("div",{className:"k-grouping-drop-container"},!a.length&&n.toLanguageString(XS,kI[XS]),"\xa0"))},kE=e=>{const t=o.useRef(null),n=o.useRef(null),i=o.useContext(RS);return o.useImperativeHandle(i.footerRef,()=>({setScrollLeft:e=>{t.current&&(t.current.scrollLeft=e)},setWidth:e=>{n.current&&(n.current.style.width=e?e+"px":"")}})),e.staticHeaders?o.createElement("div",{className:"k-grid-footer",role:"presentation"},o.createElement("div",{ref:t,className:"k-grid-footer-wrap",role:"presentation"},o.createElement("table",{ref:n,className:rn("k-table k-grid-footer-table",{"k-table-md":!e.size,["k-table-".concat(Co.sizeMap[e.size]||e.size)]:e.size},e.className),role:"presentation"},o.createElement("colgroup",{ref:e=>{i.columnResizeRef.current.colGroupFooter=e},role:"presentation"},e.cols),o.createElement("tfoot",{className:"k-table-tfoot",role:"presentation"},e.row)))):o.createElement("tfoot",{className:"k-table-tfoot"},e.row)};kE.displayName="KendoReactFooter";const CE=e=>{var t;const{cellProps:n}=e,i=o.useContext(RS),r=SI(n.id),a=o.useCallback(e=>{var t;null==(t=null==i?void 0:i.cellClick)||t.call(i,e,n.dataItem,n.field)},[i,n.dataItem,n.field]),s=o.useCallback(e=>{var t;null==(t=null==i?void 0:i.onContextMenu)||t.call(void 0,e,n.dataItem,n.field)},[i,n.dataItem,n.field]),l="groupFooter"===n.rowType||"groupHeader"!==n.rowType?{onContextMenu:s}:{},c=i.getCellPositionStyle(n.columnPosition),d="groupFooter"!==n.rowType&&"groupHeader"!==n.rowType?{style:p(p({},null==(t=e.tdProps)?void 0:t.style),c)}:{},u=p(p(p(p({},r),l),d),{},{onClick:a}),h={onContextMenu:i.onContextMenu,onChange:i.itemChange,selectionChange:e=>{i.selectionChange({event:e,dataItem:n.dataItem,dataIndex:n.rowDataIndex,columnIndex:n.columnIndex})}};if(e.isCustom)return i.isClient||e.isClient?yw(e.children,p({tdProps:p(p({},e.tdProps),u)},h)):yw(e.children,p({},u));if(n.render){const t="groupHeader"!==n.rowType?o.createElement("td",p(p({},e.tdProps),u),e.content):null;return n.render.call(void 0,t,p(p({},n),h))}return e.children&&yw(e.children,p({},u))},SE=e=>{var t,n,i;let r=null,a=null,s=null;const l=e.unstyled,c=l&&l.uGrid?l.uGrid:Cw;if(null===(null==(t=e._rowSpan)?void 0:t.count))return null;if("groupFooter"===e.rowType)a={className:e.className},r=o.createElement("td",p({},a),s);else if("groupHeader"!==e.rowType){if(void 0!==e.field){const t=ew(e.field,e.dataItem);null!=t&&(s=e.intl&&e.format?e.intl.format(e.format,t):t.toString())}const t=rn(c.td({selected:e.isSelected,sorted:e.isSorted,alt:e.isAlt}),e.className);a={rowSpan:null!=(i=null==(n=e._rowSpan)?void 0:n.count)?i:void 0,colSpan:e.colSpan,style:e.style,className:t,role:"gridcell","aria-colindex":e.ariaColumnIndex,"aria-selected":e.isSelected,[FC]:e.columnIndex},r=o.createElement("td",p({},a),s)}const d=gw(e),u=e.rowType||"data",h=e.cells;if(h&&h[u]){const e=h[u],t=fw(e);return o.createElement(CE,{cellProps:d,tdProps:a,isCustom:!0,isClient:t},o.createElement(e,p(p({},d),{},{tdProps:a}),s))}return o.createElement(CE,{cellProps:d,content:s,tdProps:a},r)},IE=e=>{const t=o.useContext(RS),n=Tc(),i=e.expanded?gI:fI,r=n.toLanguageString(i,kI[i]),a="rtl"===t.dir;return o.createElement("a",{onClick:n=>{var o;n.preventDefault(),null!=t&&t.itemChange&&t.itemChange({dataItem:e.dataItem,dataIndex:e.dataIndex,syntheticEvent:n,field:void 0,value:!e.expanded}),null==(o=null==t?void 0:t.dispatchGroupExpand)||o.call(t,{type:sb.TOGGLE,group:e.group})},href:"#",tabIndex:-1,"aria-label":r},o.createElement(yo,{name:e.expanded?"caret-alt-down":a?"caret-alt-left":"caret-alt-right",icon:e.expanded?Qc:a?Zc:Jc}))},EE=e=>{var t;const{cellProps:n}=e,i=o.useContext(RS),r=SI(n.id),a=o.useCallback(e=>{e.isDefaultPrevented()||e.keyCode===Dt&&null!=i&&i.itemChange&&(e.preventDefault(),i.itemChange({dataItem:n.dataItem,dataIndex:n.dataIndex,syntheticEvent:e,field:void 0,value:!n.expanded}),null==i||i.dispatchGroupExpand({type:sb.TOGGLE,group:n.group},e))},[i,n.dataItem,n.dataIndex,n.expanded,n.group]),s=e.addKeyDownHandler?{onKeyDown:a}:{},l=o.useCallback(e=>{null!=i&&i.onContextMenu&&i.onContextMenu.call(void 0,e,n.dataItem,n.field)},[i,n.dataItem,n.field]),c=i.getCellPositionStyle(n.columnPosition),d={style:p(p({},null==(t=e.tdProps)?void 0:t.style),c)},u=p(p(p({},r),s),{},{onContextMenu:l},d),h={onContextMenu:i.onContextMenu,onChange:i.itemChange,selectionChange:e=>{i.selectionChange({event:e,dataItem:n.dataItem,dataIndex:n.rowDataIndex,columnIndex:n.columnIndex})}};if(e.isCustom)return i.isClient||e.isClient?yw(e.children,p({tdProps:e.tdProps?p(p({},e.tdProps),u):null,td2Props:e.td2Props?p(p({},e.td2Props),{},{onContextMenu:l}):null},h)):yw(e.children,p({},u));const m=e.renderSecondCell?o.createElement("td",p(p({},e.td2Props),{},{onContextMenu:l})):null;if(n.render){let t=null;return e.renderFirstCell&&(t=e.renderSecondCell?o.createElement(o.Fragment,null,o.createElement("td",p(p({},e.tdProps),u),e.content),e.renderSecondCell&&m):o.createElement("td",p(p({},e.tdProps),u),e.content)),n.render.call(void 0,t,p(p({},n),h))}return o.createElement(o.Fragment,null,e.children&&yw(e.children,p({},u)),m)},jE=e=>{const{columnIndex:t,level:n,columnsCount:i,rowType:r,dataItem:a,field:s,expanded:l,render:c,ariaColumnIndex:d}=e,u=s||"";let h=null,m=null,f=null,g=!1,v=!1,y=!1;const x=gw(e);void 0===t||void 0===n||t<n||void 0===i||"groupHeader"!==r||void 0===a[u]?(v=!0,h={style:e.style,key:"g"+t,className:rn("k-table-td","k-group-cell",{"k-grid-content-sticky":e.locked}),role:"gridcell"}):t===n&&(v=!0,h={className:"k-table-td",style:e.style,colSpan:i-t,key:"g-colspan",role:"gridcell","aria-selected":!1,"aria-expanded":l,"aria-colindex":d},f=o.createElement("p",{className:"k-reset"},o.createElement(IE,p({},x)),a[u]instanceof Date&&a[u].toString?a[u].toString():a[u]),g=!0,e.locked&&(y=!0,h=p(p({},h),{},{colSpan:0,style:p(p({},e.style),{},{position:"sticky",zIndex:2})}),m={className:"k-table-td",role:"gridcell",colSpan:i-t,style:{borderLeftWidth:0,borderRightWidth:0}}));const b=e.rowType||"data",w=e.cells;if(w&&w.group&&w.group[b]){const e=w.group[b],t=fw(e);return o.createElement(EE,{cellProps:x,tdProps:h,td2Props:m,isCustom:!0,isClient:t,addKeyDownHandler:!0},o.createElement(e,p(p({},x),{},{tdProps:h,td2Props:m}),f))}const k=v?o.createElement("td",p(p({},h),{},{key:null==h?void 0:h.key}),f):null;return o.createElement(EE,{cellProps:x,addKeyDownHandler:g,tdProps:h,td2Props:m,renderFirstCell:v,renderSecondCell:y,content:f},k)};const AE=e=>{var t;const n=o.useContext(RS),{reorderRowDropTargetRef:i,reorderRowDragTargetRef:r,activeDragRowDataItemRef:a}=n,{rowType:s,isAltRow:l,isInEdit:c,isSelected:d}=e,u=po(),h=u&&u.uGrid?u.uGrid:Cw,m=rn(h.tr({selected:d,isHeader:"groupHeader"===s,isFooter:"groupFooter"===s,isMaster:"groupHeader"!==s&&"groupFooter"!==s,isAltRow:l,isInEdit:c})),f=o.useRef(null);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{onDragEnter:Fp,onDragOver:Fp,onDragLeave:Fp,onDrop:Fp},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{onDragEnter:i=Fp,onDragOver:r=Fp,onDragLeave:a=Fp,onDrop:s=Fp}=t,{context:l=$I}=n,{setDrop:c,registerDrop:d,deregisterDrop:u}=o.useContext(l),[,p]=ZI([null,c]),h=o.useCallback(()=>e.current&&e.current.element?e.current.element:e.current,[e]),m=o.useRef(null);o.useImperativeHandle(m,()=>({element:h(),onDragEnter:f,onDragOver:g,onDragLeave:v,onDrop:y,data:e.current}));const f=o.useCallback(t=>{p(m,{target:e.current,event:t}),i(t)},[p,e,i]),g=o.useCallback(e=>{r(e)},[r]),v=o.useCallback(t=>{p(null,{target:e.current,event:t}),a(t)},[p,e,a]),y=o.useCallback(t=>{p(null,{target:e.current,event:t}),s(t)},[p,e,s]),x=o.useCallback(()=>(null==d||d(m),()=>{null==u||u(m)}),[u,d]);nn(x,[x])}(f,{onDragOver:t=>{if(e.isRowReorderable&&a.current){const e=t.originalEvent.target;i.current=e.closest(".k-table-row")}},onDrop:()=>{r.current&&e.isRowReorderable&&(r.current.style.userSelect="")}});const g={onClick:t=>n.rowClick(t,e.dataItem),onDoubleClick:t=>n.rowDblClick(t,e.dataItem)},v=p(p({ref:f,id:e.id},g),{},{className:m,style:{height:e.rowHeight?e.rowHeight+"px":"",visibility:e.isHidden?"hidden":"",userSelect:null==(t=null==r?void 0:r.current)?void 0:t.style.userSelect},role:"row","aria-rowindex":e.ariaRowIndex,"absolute-row-index":e.absoluteRowIndex,[LC]:"data"===e.rowType?e.dataIndex:void 0}),y=e.rowType||"data",x=e.rows;if(x&&x[y]){const t=x[y];return o.createElement(t,p(p({key:e.absoluteRowIndex},e),{},{trProps:v}),e.children)}const b=o.createElement("tr",p({key:e.absoluteRowIndex},v),e.children);return e.render?e.render.call(void 0,b,p(p({},e),g)):b},_E=e=>{const t=o.useContext(RS),n=on(),i=Tc(),r=e.id||n,a=[o.createElement("span",{key:0,className:"k-checkbox-wrap"},o.createElement("input",{id:r,type:"checkbox",tabIndex:-1,className:"k-checkbox k-checkbox-md k-rounded-md","aria-label":i.toLanguageString(xI,kI[xI]),"aria-checked":e.selectionValue,checked:e.selectionValue,onChange:n=>t.onHeaderSelectionChange({field:e.field,syntheticEvent:n})})),e.columnMenuWrapperProps.columnMenu&&o.createElement(RI,p({},e.columnMenuWrapperProps))];return e.render?e.render.call(void 0,a,e):a},DE=e=>{const t=Tc();return o.createElement(o.Fragment,null,e.children||t.toLanguageString(FS,kI[FS]))};DE.displayName="KendoReactGridNoRecords";const NE=e=>{const t=o.useContext(RS),n=SI(e.id),i=t.getCellPositionStyle(e.column),r=p(p({},n),{},{style:p({},i)});return e.isCustom&&(t.isClient||e.isClient)?yw(e.children,p({tdProps:p(p({},e.tdProps),r)},n)):yw(e.children,p({},r))},TE=e=>{const{column:t,index:n,cells:i}=e,r={colSpan:1!==t.colSpan?t.colSpan:void 0,className:rn("k-table-td",t.locked&&void 0!==t.left?"k-grid-footer-sticky":""),role:"gridcell","aria-colindex":t.ariaColumnIndex},a=p({field:t.field,ariaColumnIndex:t.ariaColumnIndex},r),s=sw(t),l=hw(i,t.cells);if(l&&l.footerCell){const t=l.footerCell,i=fw(t);return o.createElement(NE,{key:n,id:e.id,tdProps:r,isCustom:!0,isClient:i,column:s},o.createElement(t,p(p({},a),{},{tdProps:r,index:n})))}return o.createElement(NE,{key:n,id:e.id,column:s},t.footerCell&&o.createElement(t.footerCell,p({},a))||o.createElement("td",p({},r)))},PE=e=>o.createElement("tr",{className:"k-table-row",role:"row","aria-rowindex":e.ariaRowIndex},(e=>e.filter(t=>!((e,t)=>{let n=e[t.parentIndex];for(;n;){if(n.footerCell)return!0;n=e[n.parentIndex]}return!1})(e,t)&&(!!t.footerCell||!(t.children&&t.children.length>0))))(e.columns).map((t,n)=>{const i=Bb.generateNavigatableId("".concat(n,"-footercell"),e.idPrefix,"nodata");return o.createElement(TE,{key:i,column:t,id:i,index:n,cells:e.cells})})),ME=e=>(e=>{let{buttonCount:t=10,info:n=!0,type:o="numeric",pageSizes:i,previousNext:r=!0,responsive:a,navigatable:s,pageSizeValue:l}=e;return{buttonCount:t,info:n,pageSizes:!0===i?[5,10,20]:i||void 0,previousNext:r,responsive:!1!==a,navigatable:!1!==s,type:o,pageSizeValue:l}})(!0===e?{}:e),OE={name:"@progress/kendo-react-grid",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:1745410806,version:"10.2.0",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"},RE=e=>{const t=o.useContext(RS),n=SI(e.id),i=o.useCallback(n=>{null!=t&&t.onContextMenu&&t.onContextMenu.call(void 0,n,e.dataItem)},[t,e.dataItem]);return yw(e.children,p({onContextMenu:i},n))},LE=e=>{const{colSpan:t,ariaColIndex:n,dataItem:i,dataIndex:r,id:a}=e,s=e.unstyled,l=s&&s.uGrid?s.uGrid:Cw;return o.createElement(RE,{id:a,dataItem:i},o.createElement("td",{className:rn(l.detailTd({})),colSpan:t,"aria-colindex":n,role:"gridcell"},o.createElement(e.detail,{dataItem:i,dataIndex:r})))},FE=e=>{const t=e.unstyled,n=t&&t.uGrid?t.uGrid:Cw;return o.createElement("td",{className:rn(n.hierarchyTd({})),role:"gridcell"})},zE=e=>{const t=o.useContext(RS),n=t.headerRef.current,i=n&&n.table()&&n.table().clientWidth,r=Cw;return o.createElement("div",{key:"no-records",className:rn(r.noRecords({})),style:{width:i}},o.createElement("div",{className:rn(r.noRecordsTemplate({})),[yb]:Bb.generateNavigatableId("no-records",Bb.getIdPrefix(t.navigationStateRef))},e.children))};zE.displayName="KendoReactGridNoRecordsContainer";const BE=e=>{const t=o.useContext(RS);return o.createElement("colgroup",{ref:e=>{t.columnResizeRef.current.colGroupMain=e,t.columnResizeRef.current.initWidths()}},e.children)},VE=e=>{var t;const{onRelease:n,childRef:i}=e,{enabled:r,drag:a,mode:s,cell:l}=Ow(e.selectable),c=o.useRef(null),d=o.useRef(null),u=o.useRef({clientX:0,clientY:0,scrollX:0,scrollY:0,pressedElement:null}),[h,m]=o.useState(null),f=o.useRef(void 0),g=o.useRef(!1),v=o.useRef(!1),y=o.useCallback(e=>{const{event:t}=e;if(v.current=(e=>{let t=e;for(;t;){if(t.hasAttribute(Aw))return!0;t=t.parentElement}return!1})(t.originalEvent.target),v.current||!c.current)return;f.current=(e=>{if(!e||!Mw)return null;let t=e.parentElement;for(;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}})(c.current.element);const n=c.current.element&&c.current.element.ownerDocument;if(!n)return;t.originalEvent.stopImmediatePropagation();const o=n.elementFromPoint(t.clientX,t.clientY);u.current={clientY:t.clientY,clientX:t.clientX,scrollX:t.scrollX,scrollY:t.scrollY,pressedElement:o}},[]),x=o.useCallback(e=>{const{event:t}=e,{clientX:n,clientY:o}=u.current;if(!v.current&&a&&"single"!==s&&((Math.abs(o-t.clientY)>5||Math.abs(n-t.clientX)>5)&&(g.current=!0),t.originalEvent.stopImmediatePropagation(),g.current)){const e=(e=>{if(e&&e.ownerDocument&&e!==e.ownerDocument.body){const t=e.getBoundingClientRect();return{left:t.left-e.scrollLeft,top:t.top-e.scrollTop}}return{left:0,top:0}})(f.current);m({top:Math.min(o,t.clientY)-e.top,left:Math.min(n,t.clientX)-e.left,width:Math.abs(t.clientX-n),height:Math.abs(t.clientY-o)})}},[m,a,s]),b=o.useCallback(e=>{const{event:t}=e,{clientX:o,clientY:i,scrollX:r,scrollY:a,pressedElement:p}=u.current;if(v.current||!c.current)return;const h=c.current.element&&c.current.element.ownerDocument;if(h){if(t.originalEvent.stopImmediatePropagation(),g.current){const e=t.scrollY-a,c=t.scrollX-r,u=Math.min(i,t.clientY),m=Math.min(o,t.clientX),f=Math.max(i,t.clientY),g=Math.max(o,t.clientX),v=d.current;if(!v)return;v.style.visibility="hidden";const y=h.elementFromPoint(m,u),x=e>0||c>0?p:y,b=h.elementFromPoint(g,f);if(v.style.visibility="",!x||!b)return;const w=Dw(x,"TD"),k=Dw(w,"TR"),C=Dw(b,"TD"),S=Dw(C,"TR"),I=Tw(w),E=Nw(k),j=Tw(C),A=Nw(S);void 0!==I&&void 0!==E&&void 0!==j&&void 0!==A&&n({nativeEvent:t.originalEvent,startRowIndex:E,startColIndex:I,endRowIndex:A,endColIndex:j,altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,mode:s,cell:l,isDrag:!0})}else{const e=h.elementFromPoint(o,i);if(!e)return;const r=Dw(e,"TD"),a=Dw(e,"TR"),c=Tw(r),d=Nw(a);r&&a&&void 0!==d&&void 0!==c&&n({nativeEvent:t.originalEvent,startRowIndex:d,startColIndex:c,endRowIndex:d,endColIndex:c,altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,mode:s,cell:l,isDrag:!1})}m(null),g.current=!1,u.current={clientX:0,clientY:0,scrollX:0,scrollY:0,pressedElement:null}}},[m,s,l,n]),w=(e=>{const t=o.useCallback(()=>e.current&&e.current.element?e.current.element:e.current,[e]);return o.useCallback(()=>{const e=t();return e&&e.ownerDocument||document},[t])})(d);return r?o.createElement(o.Fragment,null,o.createElement(tE,{onPress:y,onDrag:x,onRelease:b,ref:c,childRef:i},e.children),h&&Eo.createPortal(o.createElement("div",{ref:d,style:p(p({},h),{},{position:"fixed"}),className:"k-marquee k-marquee-color"}),null==(t=w())?void 0:t.body)):o.cloneElement(o.Children.only(e.children),{ref:i})},HE=e=>{const t=o.useContext(RS);return o.createElement(VE,{selectable:e.selectable,onRelease:t.selectionRelease,childRef:e=>{t.tableElementRef.current=e,t.headTableElementRef.current=e}},o.createElement("table",{ref:t.headTableElementRef,className:e.tableClassName},e.children))};class qE extends o.PureComponent{constructor(e){super(e),this.state={height:0,visible:!1,left:0,top:0},this.hiddenElementRef=o.createRef()}render(){const e=this.hiddenElementRef.current,t=this.state.visible&&Lo&&(0,Eo.createPortal)(o.createElement("div",{className:"k-grouping-dropclue",style:{zIndex:1e4,display:"block",top:this.state.top+"px",left:this.state.left+"px",height:this.state.height+"px"}}),e&&e.ownerDocument?e.ownerDocument.body:document.body);return o.createElement(o.Fragment,null,t,o.createElement("div",{ref:this.hiddenElementRef,style:{display:"none"}}))}}const UE=e=>{const t=o.useContext(RS);return o.createElement(qE,{ref:t.dragLogicRef.current.refDropElementClue})};class GE extends o.PureComponent{constructor(e){super(e),this.elementRef=o.createRef(),this.state={visible:!1,top:0,left:0,innerText:"",status:"k-i-cancel"},this.hiddenElementRef=o.createRef()}get element(){return this.elementRef.current||this.hiddenElementRef.current}render(){const e=this.hiddenElementRef.current,{status:t}=this.state,n=this.state.visible&&Lo&&(0,Eo.createPortal)(o.createElement("div",{ref:this.elementRef,className:"k-header k-drag-clue",style:{display:"block",position:"absolute",zIndex:2e4,padding:"8px 12px",top:this.state.top+"px",left:this.state.left+"px"}},o.createElement(yo,{className:"k-drag-status",name:t,icon:"k-i-cancel"===t?id:sd}),this.state.innerText),e&&e.ownerDocument?e.ownerDocument.body:document.body);return o.createElement(o.Fragment,null,n,o.createElement("div",{ref:this.hiddenElementRef,style:{display:"none"}}))}}const WE=e=>{const t=o.useContext(RS);return o.createElement(GE,{ref:t.dragLogicRef.current.refDragElementClue})},KE=(e,t,n)=>{const[i,r]=o.useState(e),a=o.useCallback((e,t)=>{r(e)},[n,r]);return[i,a]};var YE=(e=>(e[e.add=0]="add",e[e.remove=1]="remove",e))(YE||{});const XE=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=o.useRef(e),n=o.useCallback(e=>{switch(e.type){case 0:t.current.push(e.item);break;case 1:{const n=t.current.indexOf(e.item);t.current.splice(n,1);break}}},[]);return[t.current,n]},JE=e=>{const{context:t=$I}=e,[n,i]=KE(null),[r,a]=KE(null),[s,l]=XE([]),[c,d]=XE([]);return o.createElement(t.Provider,{value:{drag:n,setDrag:i,drop:r,setDrop:a,drags:s,registerDrag:e=>{l({type:YE.add,item:e})},deregisterDrag:e=>{l({type:YE.remove,item:e})},drops:c,registerDrop:e=>{d({type:YE.add,item:e})},deregisterDrop:e=>{d({type:YE.remove,item:e})}}},e.children)};JE.displayName="KendoReactDragAndDrop";const QE=e=>{const t=o.useContext(RS);return o.createElement(o.Fragment,null,e.rowReorderable?o.createElement(JE,null,e.children):yw(e.children,{ref:t.tableBodyElementRef}))};function ZE(e){const t=e.replace(/^pager\.([a-z])/,(e,t)=>"grid.pager"+t.toUpperCase());return{messageKey:t,defaultMessage:kI[t]}}const $E=e=>{const t=o.useContext(RS);return yw(e.children,{onPageChange:t.pagerPageChange,messagesMap:ZE,dir:t.dir})},ej=e=>{const t=o.useContext(RS);return o.createElement(VE,{selectable:e.selectable,onRelease:t.selectionRelease,childRef:e=>{t.tableElementRef.current=e}},o.createElement("table",{className:e.tableClassName,role:"presentation",style:e.tableStyle,ref:t.tableElementRef},e.children))},tj=e=>{const t=o.useContext(RS);return yw(e.children,{ref:t.elementRef,onKeyDown:t.onKeyDown,onFocus:t.onFocus})},nj=e=>{const t=o.useContext(RS);return yw(e.children,{ref:t.containerElementRef,onScroll:t.scrollHandler})},oj=e=>{const t=o.useContext(RS);return o.createElement("div",{style:e.isVirtualScroll?{height:t.vsRef.current.containerHeight+"px"}:{}})},ij=e=>{const t=o.useContext(RS);if(t.isClient||e.isClient){const n=t.getCellPositionStyle(e.columnPosition);return e.children&&yw(e.children,{style:p(p({},e.style),n),onContextMenu:t.onContextMenu,onChange:t.itemChange,selectionChange:n=>{t.selectionChange({event:n,dataItem:e.dataItem,dataIndex:e.rowDataIndex,columnIndex:e.columnIndex})}})}return e.children},rj="before",aj="after",sj="forbidden";const lj=e=>null==e?void 0:e.ownerDocument.documentElement,cj=e=>null==e?void 0:e.ownerDocument.defaultView,dj={zIndex:"19000",position:"absolute",display:"none",visibility:"hidden"},uj={zIndex:"20000",display:"flex",position:"fixed",visibility:"hidden",pointerEvents:"none"},pj=e=>{const{rowReorderSettings:t,columns:n,unstyled:i}=e,{rowReorder:r,reorderRowDragTargetRef:a,reorderRowDropTargetRef:s,activeDragRowDataItemRef:l,tableBodyElementRef:c}=o.useContext(RS),[d,u]=o.useState(!1),[p,h]=o.useState(id),m=o.useRef(null),f=o.useRef(null),g=o.useRef(null),v=o.useRef(null),y=o.useRef(!1),x=o.useRef(null),b="object"==typeof t?t.enabled:t;o.useEffect(()=>{c.current=m.current},[]),eE(m,{onPress:e=>{const t=e.originalEvent.target;t.closest(".k-drag-cell")&&(v.current=e.offsetY,y.current=!0,a.current=t.closest(".k-table-row"))},onDragStart:e=>{!y.current||!b||!l.current||(a.current&&(a.current.style.userSelect="none"),u(!0))},onDrag:e=>{if(!y.current&&!f.current)return;const{clientX:t,clientY:n}=e,o={x:t,y:n-v.current};f.current&&(f.current.style.left="".concat(o.x,"px"),f.current.style.top="".concat(o.y,"px"),f.current.style.visibility="visible"),w(e)},onDragEnd:e=>{var t;if(!b||!l.current)return;u(!1);const n=Number(null==(t=s.current)?void 0:t.getAttribute("absolute-row-index"));r(e,n,x.current),y.current=!1}});const w=e=>{x.current=I(e),k()},k=()=>{var e;if(x.current===sj||!s.current)return void C();S();const t=function(e){const{clientTop:t,clientLeft:n}=lj(e),{pageYOffset:o,pageXOffset:i}=cj(e),{top:r,left:a}=e.getBoundingClientRect();return{top:r+o-t,left:a+i-n}}(s.current);let n=t.top;const o=t.left+((null==(e=g.current)?void 0:e.offsetWidth)||0)/2;x.current===aj&&(n+=s.current.offsetHeight),g.current&&(g.current.style.top="".concat(n,"px"),g.current.style.left="".concat(o,"px"),g.current.style.visibility="visible")},C=()=>{g.current&&(g.current.style.display="none")},S=()=>{g.current&&(g.current.style.display="")},I=e=>{if(s.current===a.current||!s.current)return sj;if(((e,t)=>(null==e?void 0:e.parentElement)!==(null==t?void 0:t.parentElement))(s.current,a.current))return sj;const t=s.current.getBoundingClientRect(),n=t.height/2,o=e.clientY,i=t.top;let r=null;o<i+n?r=rj:o>=i+t.height-n&&(r=aj),(r===rj&&s.current===a.current.nextElementSibling||r===aj&&s.current===a.current.previousElementSibling)&&(r=sj);return h(r===sj?id:md),r},E=o.useMemo(()=>{if(l.current){if(t.dragClue)return"string"==typeof t.dragClue?t.dragClue:t.dragClue(l.current);{const e=n.find(e=>!e.hidden&&"data"===e.columnType);return l.current[e.field]}}},[l.current]);return o.createElement(o.Fragment,null,d&&Eo.createPortal(o.createElement(o.Fragment,null,o.createElement("div",{ref:g,style:dj,className:rn(i.rowReorder({dropIndicatorMain:!0,dropIndicatorDirection:!0}))},o.createElement("div",{className:"k-drop-hint-start"}),o.createElement("div",{className:"k-drop-hint-line"})),o.createElement("div",{ref:f,style:uj,className:rn(i.rowReorder({dragClueMain:!0,dragClueOperation:!0}))},o.createElement(mo,{className:"k-drag-status",icon:p}),E)),document.body),yw(e.children,{ref:m}))};const hj=()=>o.createElement(mo,{icon:td}),mj=e=>{const{cellProps:t,rowReorderable:n}=e,{id:i,dataItem:r}=t,a=Tc(),s=o.useContext(RS),l=SI(i),c=n,d=a.toLanguageString(wI,kI[wI]),u=o.useCallback(e=>{null!=s&&s.onContextMenu&&s.onContextMenu.call(void 0,e,t.dataItem,t.field)},[s,t.dataItem,t.field]);return e.children&&yw(e.children,p(p({"aria-label":d},l),{},{onMouseDown:()=>c?s.activeDragRowDataItemRef.current=r:null,onContextMenu:u}))},fj=e=>{const t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),n=e.unstyled,i=n&&n.uGrid?n.uGrid:Cw,r=rn(i.td({selected:e.isSelected,sorted:e.isSorted,alt:e.isAlt}),e.className),a={colSpan:e.colSpan,style:e.style,className:r,role:"gridcell","aria-colindex":e.ariaColumnIndex,"aria-selected":e.isSelected,[FC]:e.columnIndex},s=rn(null==a?void 0:a.className,["k-drag-cell","".concat(e.rowReorderable?"":"k-disabled")]);return o.createElement(mj,{rowReorderable:e.rowReorderable,cellProps:t},o.createElement("td",p(p({},a),{},{style:{touchAction:"none"},"aria-disabled":!e.rowReorderable,className:s}),o.createElement(hj,null)))},gj=e=>o.createElement(LI,p({},e)),vj={pulsing:2,"infinite-spinner":3,"converging-spinner":4},yj={pulsing:"k-loader-pulsing-2","infinite-spinner":"k-loader-spinner-3","converging-spinner":"k-loader-spinner-4"},xj=o.forwardRef((e,t)=>{const{className:n,style:i}=e,r=o.useRef(null),a=o.useCallback(()=>{r.current&&r.current.focus()},[]);o.useImperativeHandle(t,()=>({element:r.current,focus:a}));const s=o.useMemo(()=>e.size||bj.size,[e.size]),l=o.useMemo(()=>e.themeColor||bj.themeColor,[e.themeColor]),c=o.useMemo(()=>e.type||bj.type,[e.type]),d=o.useMemo(()=>rn("k-loader",{"k-loader-sm":"small"===s,"k-loader-md":"medium"===s,"k-loader-lg":"large"===s,"k-loader-primary":"primary"===l,"k-loader-secondary":"secondary"===l,"k-loader-tertiary":"tertiary"===l,"k-loader-info":"info"===l,"k-loader-success":"success"===l,"k-loader-warning":"warning"===l,"k-loader-error":"error"===l,"k-loader-dark":"dark"===l,"k-loader-light":"light"===l,"k-loader-inverse":"inverse"===l},n,yj[c]),[s,l,n,c]),u=new Array(vj[c]);return u.fill(0,0,vj[c]),o.createElement("div",{className:d,style:i},o.createElement("div",{className:"k-loader-canvas"},u.map((e,t)=>o.createElement("span",{key:t,className:"k-loader-segment"}))))});xj.propTypes={className:jt.string,style:jt.object,type:jt.oneOf(["pulsing","infinite-spinner","converging-spinner"]),size:jt.oneOf(["small","medium","large"]),themeColor:jt.oneOf(["primary","secondary","tertiary","info","success","warning","error","dark","light","inverse"])};const bj={size:"medium",themeColor:"primary",type:"pulsing"};xj.displayName="KendoLoader";const wj={height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},kj=e=>{var t;return o.createElement(o.Fragment,null,e.showLoader?null!=(t=e.loader)?t:o.createElement("div",{className:"k-loading-mask"},o.createElement("div",{className:"k-loading-color"}),o.createElement("div",{style:wj},o.createElement(xj,{size:"large",type:"converging-spinner"}))):null)},Cj=e=>o.Children.toArray(e.children).some(e=>!(!e||!e.type||"KendoReactGridColumn"!==e.type.displayName)&&e.props.hidden),Sj=(e,t)=>{const n=p(p({},(e=>{const t=Ow(e.selectable),n=TC(e.editable),o=e.sortable&&MS(e.sortable),i=e.pageable&&ME(e.pageable);return{cells:!!e.cells,detail:!!e.detail,cellRender:!!e.cellRender,rows:!!e.rows,rowRender:!!e.rowRender,filterCellRender:!!e.filterCellRender,headerCellRender:!!e.headerCellRender,editableInline:"inline"===n.mode,selectionMultiple:t.enabled&&"multiple"===t.mode,selectionDrag:t.enabled&&t.drag,columnMenu:!!e.columnMenu,filterOperators:!!e.filterOperators,groupable:!!e.groupable,group:!!e.group,groupExpand:!!e.groupExpand,customPager:!!e.pager,clipboard:!!e.clipboard,contextMenu:!!e.contextMenu,serverGrid:!e.isClient,scrollableVirtual:"virtual"===e.scrollable,pageableInput:!(!e.pageable||"input"!==i.type),sortableMultiple:!(!e.sortable||"multiple"!==o.mode),hiddenColumns:Cj(e)}})(e)),(e=>p(p(p(p({},(e=>({lockedColumn:e.some(e=>e.locked)}))(e)),(e=>({multiColumn:e.some(e=>e.children&&e.children.length>0)}))(e)),(e=>({columnCellTemplate:e.some(e=>"data"===e.columnType&&(e.cells||e.cell||e.headerCell||e.footerCell||e.filterCell))}))(e)),(e=>({columnMenu:e.some(e=>e.columnMenu)}))(e)))(t));return Object.keys(n).filter(e=>!0===n[e])};const Ij=["detail","cells","rows"],Ej=o.forwardRef((e,t)=>{var n,i,r,a,l,c,d,u;const h=e.id+"-role-element-id",m=e.navigatable?h:"";let f=e.columnsState||[];const g=e=>{const t=e.filter(e=>e&&e.type&&"KendoReactGridColumn"===e.type.displayName);return nw(t,f,{prevId:0,idPrefix:m})},v=e=>{const t=(()=>{const e=[],t=(n,o)=>null==n?void 0:n.forEach(n=>{const i=n.hidden||o;e.push(p(p({},n),{},{hidden:i})),t(n.children,i)});return t(f,!1),e})();return e.filter(e=>{var n;return!e.hidden&&!(null!=(n=t.find(t=>t.id===e.id))&&n.hidden)})},y=(t,n)=>{var o;t.filter(t=>e.selectedField&&t.field===e.selectedField||"checkbox"===t.columnType).forEach(e=>{e.width=e.width||"50px",e.cell=e.cell||EI,e._type="edit",e.headerCell=e.headerCell||_E}),void 0!==P&&t.filter(e=>"reorder"===e.columnType).forEach(e=>{e.width=e.width||"50px",e.cell=e.cell||fj,e.headerCell=e.headerCell||gj,e.sortable=!1,e.filterable=!1,e.editable=!1});const i=dw(f);((e,t)=>{const n=e=>{var o;const i=t.find(t=>t.id===e.id);return i?(i.children=null==(o=e.children)?void 0:o.map(n),i):lw(e)};f=e.filter(e=>-1===e.parentIndex).map(n)})(t,i);const r={id:"",resizable:!0,width:"32px",title:" ",declarationIndex:-1,orderIndex:-1,children:[],parentIndex:-1,depth:0,colSpan:0,headerColSpan:0,rowSpan:0,left:0,right:0,index:0,rightBorder:!1,ariaColumnIndex:0,isAccessible:!0};let a=0;if((e.expandField||V.enabled)&&e.detail){const n=p(p({},r),{},{_type:"expand",id:Bb.generateNavigatableId("".concat(a++),"expand","column"),cell:_I,field:null!=(o=V.column)?o:e.expandField,headerClassName:rn(T.hierarchyCell({}))});t.unshift(n),f.unshift(i.find(e=>e.id===n.id)||lw(n))}for(let s=0;s<n;s++){const n=p(p({},r),{},{isAccessible:!1,cell:jE,id:Bb.generateNavigatableId("".concat(a++),"group","column"),field:"value",locked:e.lockGroups});t.unshift(n),f.unshift(i.find(e=>e.id===n.id)||lw(n))}t.slice(a).forEach(e=>{e.parentIndex>=0&&(e.parentIndex+=a),e.rowSpannable=void 0!==e.rowSpannable?vw(e.rowSpannable):K})},x=()=>{var t;return Array.isArray(e.data)?O.length===e.total:!!O&&e.total===(null==(t=e.data)?void 0:t.total)},b=()=>e.isClient?S:I,w=t=>{const n=[];let o=null,i=0;if(te.forEach((e,r)=>{const a=parseFloat((e.width||"").toString())||10;if(i)return i--,void(o&&(o.width+=a));const s=Math.min(((e,t)=>"function"==typeof e.colSpan?e.colSpan({dataItem:t,column:e}):e.colSpan||1)(e,t),te.length-r);i=s-1,o={width:a,colSpan:s,columnIndex:r},n.push(o)}),e.columnVirtualization){const t=j.current||0,o=A.current||parseFloat(((e.style||{}).width||"").toString());return function(e){const{cellModels:t,columns:n=[],tableViewPortWidth:o,scrollLeft:i}=e;let r=0,a=t.length-1,s=0,l=0;for(let u=0;u<t.length;u++)if(!n[t[u].columnIndex].locked&&(s=l,l+=t[u].width||10,l>=i)){r=u;break}for(let u=r;u<t.length;u++)if(!n[t[u].columnIndex].locked){if(!(s<o+i))break;s+=t[u].width||10,a=u}r>0&&r--,a<t.length-1&&a++;let c=0,d=0;for(let u=0;u<r;u++)n[t[u].columnIndex].locked||(c+=t[u].colSpan);for(let u=a+1;u<t.length;u++)n[t[u].columnIndex].locked||(d+=t[u].colSpan);return t[r].colSpan+=c,t[a].colSpan+=d,t.slice(r,a+1)}({cellModels:n,columns:te,tableViewPortWidth:o,scrollLeft:t})}return n};let k,C=[],S=[],I=[],E=[[]];const j=e.scrollLeftRef||{current:0},A=e.widthRef||{current:0},_=e.localization||new Dc(e.language),D=e.intl||new Ac(null!=(n=e.locale)?n:"en"),N=e.unstyled,T=N&&N.uGrid?N.uGrid:Cw,P=mw(e.rowReorderable),M=!0===e.autoProcessData?{group:!0,sort:!0,filter:!0,search:!0,page:!0}:e.autoProcessData;let O,R;if(Array.isArray(e.data)?(O=e.data,R=null!=(i=e.total)?i:O.length):(O=(null==(r=e.data)?void 0:r.data)||[],R=null!=(c=null!=(l=e.total)?l:null==(a=e.data)?void 0:a.total)?c:O.length),M){const{data:t,total:n}=ab(O,p({group:M.group?e.group:void 0,sort:M.sort?e.sort:void 0,filter:Sw(M.filter?e.filter:void 0,M.search?e.search:void 0)},M.page?{take:e.take,skip:e.skip}:{}));O=t,R=null!=(d=e.total)?d:n}const{size:L="medium"}=e,F="object"==typeof e.groupable&&e.groupable.footer||"none",z="virtual"===e.scrollable,B=!0===e.groupable||"object"==typeof e.groupable&&!1!==e.groupable.enabled,V=Iw(!!e.detail),H=lb("object"==typeof e.groupable&&!1!==e.groupable.enabled?e.groupable.expandable:e.groupable),{resolvedGroupsCount:q,flattedData:U}=((e,t,n,o,i,r,a)=>{const s=[];return{flattedData:s,resolvedGroupsCount:tw(s,O,e,{index:t},void 0!==n,o,i,r,H.defaultExpand,a)}})(F,e.skip||0,e.group,e.expandField,e.detailExpand,e.groupExpand,e.dataItemKey);C=U;const G=(()=>{const{rowHeight:t,detailRowHeight:n,detail:o,expandField:i}=e,r=x();return!(void 0!==t&&t>0)||B&&!r||o&&i&&(!(void 0!==n&&n>0)||!r)?VC:BC})();G===BC&&x()&&(k=C.slice(e.skip||0,(e.skip||0)+((void 0!==e.take?e.take:e.pageSize)||0)));const W=Ow(e.selectable||!!e.selectedField),K=vw(e.rowSpannable),Y=W&&W.drag?"none":void 0,X=o.useMemo(()=>o.Children.toArray(e.children),[e.children]);((t,n)=>{var o;S=g(t),0===S.filter(e=>!e.hidden).length&&(S=function(e,t,n,o){const i=ow(e),r=[];if(i.length>0){let e=i[0];if(t)for(let n=0;n<t.length;n++)e=e.items&&e.items[0];Object.getOwnPropertyNames(e).forEach(e=>{e!==n.column&&r.push(Object.assign({id:Bb.generateNavigatableId("".concat(o.prevId++),o.idPrefix,"column"),declarationIndex:-1,parentIndex:-1,depth:0,colSpan:0,headerColSpan:0,rowSpan:0,index:0,columnType:"data",left:0,right:0,rightBorder:!1,children:[],ariaColumnIndex:0,isAccessible:!0},By,{field:e}))})}return r}(O,e.group,{column:null!=(o=V.column)?o:e.expandField},{prevId:0,idPrefix:m})),y(S,n),S=v(S),E=function(e,t){const n=[[]];let o=0;for(let a=e.length-1;a>=0;a--)o=Math.max(o,e[a].depth),e[a].headerColSpan=e[a].headerColSpan||1,e[a].children.length>0&&(e[a].headerColSpan=e[a].children.reduce((e,t)=>t.hidden?e:e+t.headerColSpan,0));const i=[];let r=1;return e.forEach((e,t)=>{n[e.depth]=n[e.depth]||[];let a=!1;0===n[e.depth].length&&(r<=1?r=1+(e.children.length>0?0:o-e.depth):(r--,a=!0)),e.rowSpan=1+(e.children.length>0?0:o-e.depth),e.kFirst=a,e.index=n[e.depth].length,n[e.depth].push(t),e.ariaColumnIndex=i[e.depth]?i[e.depth]+1:1;for(let n=e.depth;n<e.depth+e.rowSpan;n++)i[n]=(i[n]||0)+e.headerColSpan}),Ub(n,e,t),Gb(n,e,t),n}(S,!0),I=S.map(sw)})(X,q);const J=o.useMemo(()=>{const t=Sj(e,S);return{premium:t.length>0,features:t}},[e,S]),Q=o.useMemo(()=>!!J.premium&&!na(OE,{component:"Grid",features:J.features}),[J.premium]),Z=X.map(e=>e&&e.type&&"KendoReactGridToolbar"===e.type.displayName?o.cloneElement(e,p(p({},e.props),{},{ariaControls:h})):null),$=X.filter(e=>e&&e.type&&"KendoReactGridNoRecords"===e.type.displayName),ee=X.filter(e=>e&&e.type&&"KendoReactGridStatusBar"===e.type.displayName),te=S.filter(e=>0===e.children.length),ne=B&&o.createElement(wE,{columns:b(),group:e.group||[],ariaControls:h}),oe=o.createElement(PI,{size:L,staticHeaders:"none"!==e.scrollable,draggable:e.reorderable||B,headerRow:o.createElement(lE,{cells:e.cells,sort:e.sort,sortable:e.sortable,group:e.group||[],groupable:B,filter:e.filter,filterable:e.filterable,filterOperators:e.filterOperators||cE,columnMenu:e.columnMenu,columnMenuIcon:e.columnMenuIcon,columns:S,columnsMap:E,cellRender:e.headerCellRender,navigatable:!!e.navigatable,localization:_,unstyled:N,headerSelectionValue:!(!e.select||!C.filter(e=>"data"===e.rowType).every(t=>e.select&&e.dataItemKey&&void 0!==Cr(e.dataItemKey)(t.dataItem)?e.select[Cr(e.dataItemKey)(t.dataItem)]:void 0))}),filterRow:e.filterable&&o.createElement(xE,{cells:e.cells,size:L,columns:S,filter:e.filter,filterOperators:e.filterOperators||cE,sort:e.sort,cellRender:e.filterCellRender,navigatable:!!e.navigatable,ariaRowIndex:E.length+1,localization:_})||void 0,cols:te.map((e,t)=>o.createElement("col",{key:t.toString(),width:iw(e)}))}),ie=te.findIndex(e=>"function"==typeof e.colSpan)>-1;let re;ie||(re=w(null));let ae=0;const se=e=>e>=C.length-ae;let le=e.skip||0;const ce=[],de=!C.length,ue=E.length+(e.filterable?1:0)+1;let pe=0;if(C.length){let t=-1,n=0;const i=K.enabled?{}:void 0;(k||C).forEach((r,a)=>{"data"===r.rowType&&(le++,t++);const s=le%2===0,l=e.dataItemKey&&Cr(e.dataItemKey)(r.dataItem),c=a+(e.skip||0),d=l||"ai"+c,u=d+"_1",h=((t,n,i,r,a)=>{let s=!1;const l=e.selectedField?ew(e.selectedField,t.dataItem):e.select&&e.dataItemKey&&void 0!==Cr(e.dataItemKey)(t.dataItem)?e.select[Cr(e.dataItemKey)(t.dataItem)]:void 0;return ie&&(re=w(t.dataItem)),{row:re.map(c=>{let{columnIndex:d,colSpan:u}=c;var h,f,g,v;const y=te[d];let x;if(null!=(h=y.rowSpannable)&&h.enabled&&"data"===t.rowType&&y.field&&a){const e=y.field?null==(g=(f=y.rowSpannable).valueGetter)?void 0:g.call(f,t.dataItem,y.field):null;x={value:e,count:1},a[y.field]&&(null==(v=a[y.field])?void 0:v.value)===e&&null!==a[y.field]?(a[y.field].count++,x.count=null):a[y.field]=x}const b=y.id?y.id:d,w=rn(T.contentSticky({locked:y.locked}),y.className),k=void 0!==y.left?{left:y.left,right:y.right}:{};let C=!1;if(y.editable&&(e.editable||e.editField)){const n=e.editField?ew(e.editField,t.dataItem):e.edit&&e.dataItemKey?e.edit[Cr(e.dataItemKey)(t.dataItem)]:void 0,o="boolean"==typeof n?n:Array.isArray(n)?n.indexOf(y.field)>-1:void 0!==y.field&&n===y.field;o&&"data"===y.columnType&&(!0===o||o===y.field)&&(s=!0,C=!0)}const S=y.cell||C&&TI||SE,I=e.expandField&&e.detail&&y.field===e.expandField||"expand"===y._type,E={locked:e.lockGroups,id:Bb.generateNavigatableId("".concat(n,"-").concat(String(d)),m,I||"groupHeader"===t.rowType||"groupFooter"===t.rowType||"value"===y.field?"nodata":"cell"),colSpan:u,dataItem:t.dataItem,field:y.field,editor:y.editor,format:y.format,columnType:y.columnType,rowReorderable:P,className:w,render:e.cellRender,cells:hw(e.cells,y.cells),columnIndex:d,columnsCount:te.length,rowType:t.rowType,level:t.level,expanded:t.expanded,dataIndex:t.dataIndex,rowDataIndex:i,columnPosition:k,style:{},ariaColumnIndex:y.ariaColumnIndex,isSelected:"edit"===(null==y?void 0:y._type)?l:Array.isArray(l)&&l.indexOf(d)>-1,isSorted:!!rw(y.field,e.sort),isInEdit:C,isAlt:r,unstyled:N,group:t.group,localization:_,intl:D,_rowSpan:x};return y.cell?o.createElement(ij,{key:b,isClient:fw(S),dataItem:E.dataItem,rowDataIndex:E.rowDataIndex,columnIndex:E.columnIndex,columnPosition:E.columnPosition},o.createElement(S,p({},E))):o.createElement(S,p({key:b},E))}),isInEdit:s,isSelected:"boolean"==typeof l&&l}})(r,d,t,s,i);if(pe=c+ue+n,ce.push(o.createElement(AE,{key:d,dataItem:r.dataItem,isAltRow:s,isInEdit:h.isInEdit,rowType:r.rowType,isRowReorderable:P,isHidden:se(a),onClick:null,onDoubleClick:null,selectedField:e.selectedField,rowHeight:e.rowHeight,render:e.rowRender,ariaRowIndex:pe,absoluteRowIndex:c,dataIndex:z&&!e.groupable?c:t,isSelected:h.isSelected,rows:e.rows},h.row)),e.detail&&"data"===r.rowType&&r.expanded){const t=te.length-(e.expandField||V.enabled?1:0)-(e.group?e.group.length:0)||1;n++,pe=c+ue+n,ce.push(o.createElement("tr",{key:u,className:rn(T.detailTr({isAlt:s})),style:{visibility:se(a)?"hidden":"",height:e.detailRowHeight},role:"row","aria-rowindex":pe},e.group&&e.group.map((t,n)=>{var i;const a=null==(i=null==h?void 0:h.row[n])?void 0:i.props.style,s=a?{left:a.left,right:a.right}:{};return o.createElement(jE,{id:"",dataIndex:r.dataIndex,field:t.field,dataItem:r.dataItem,key:n,columnPosition:s,style:{},ariaColumnIndex:1+n,isSelected:!1,locked:e.lockGroups,cells:e.cells,group:r.group})}),(e.expandField||V.enabled)&&o.createElement(FE,{unstyled:N,id:Bb.generateNavigatableId("".concat(u,"-dhcell"),m)}),o.createElement(LE,{dataItem:r.dataItem,dataIndex:r.dataIndex,colSpan:t,ariaColIndex:2+(e.group?e.group.length:0),detail:e.detail,id:Bb.generateNavigatableId("".concat(u,"-dcell"),m)})))}})}const he=p({size:L,total:R,skip:e.skip||0,take:(void 0!==e.take?e.take:e.pageSize)||10},ME(e.pageable||{})),me=o.createElement($E,null,e.pager?o.createElement(e.pager,p({},he)):o.createElement(uC,p({className:rn(T.pager({}))},he))),fe=null!=(u=e.cells)&&u.footerCell||S.some(e=>{var t;return!!(e.footerCell||null!=(t=e.cells)&&t.footerCell)})?o.createElement(kE,{size:L,staticHeaders:"none"!==e.scrollable,row:o.createElement(PE,{cells:e.cells,idPrefix:m,columns:S,ariaRowIndex:pe+1}),cols:te.map((e,t)=>o.createElement("col",{key:t.toString(),width:iw(e)}))}):null,ge=o.createElement(BE,null,te.map((t,n)=>o.createElement("col",{key:n.toString(),className:rw(t.field,e.sort)?rn(T.sorted({})):void 0,width:iw(t)}))),ve=e.reorderable||B,{detail:ye,cells:xe,rows:be}=e,we=s(e,Ij),ke=o.createElement("tbody",p({role:"rowgroup",className:rn(T.tbody({}))},wb),ce);let Ce=ke;if(P&&(Ce=o.createElement(pj,{unstyled:T,columns:S,rowReorderSettings:e.rowReorderable},ke)),"none"===e.scrollable)return o.createElement(LS,{gridRef:t,gridProps:we,columnsRef:b(),columnsMapRef:E,columnsState:f,dataRef:C,slicedData:k,isFixedVirtualScroll:G===BC,id:h,total:R,isAllData:x(),detailExpandable:!!e.detail},o.createElement(tj,null,o.createElement("div",p({id:e.id,style:e.style,className:rn(T.wrapper({size:L}),e.className),"aria-label":e.ariaLabel},xb),Z,ne,o.createElement(HE,{selectable:e.selectable,className:rn(T.table({size:L}))},ge,oe,o.createElement(QE,{rowReorderable:P},Ce),fe),de&&o.createElement(zE,null,$.length?$:o.createElement(DE,null)),ve&&o.createElement(o.Fragment,null,o.createElement(UE,null),o.createElement(WE,null)))),ee,e.pageable&&me,o.createElement(kj,{loader:e.loader,showLoader:e.showLoader}),Q&&o.createElement(ia,null));let Se=e.style||{};return z&&(Se.height||(Se=Object.assign({},Se,{height:"450px"}))),o.createElement(LS,{gridRef:t,gridProps:we,columnsRef:b(),columnsMapRef:E,columnsState:f,dataRef:C,slicedData:k,isFixedVirtualScroll:G===BC,id:h,total:R,isAllData:x(),detailExpandable:!!e.detail},o.createElement(tj,null,o.createElement("div",p({id:e.id,style:Se,className:rn(T.wrapper({size:L,virtual:z}),e.className),"aria-label":e.ariaLabel},xb),Z,ne,o.createElement("div",{className:rn(T.ariaRoot({})),role:"grid","aria-colcount":te.length,"aria-rowcount":R,id:h,"aria-label":_.toLanguageString(bI,kI[bI])},oe,o.createElement("div",{className:rn(T.container({})),role:"presentation"},o.createElement(nj,null,o.createElement("div",{className:rn(T.content({})),role:"presentation"},o.createElement("div",{className:rn(T.tableWrap({})),role:"presentation"},o.createElement(ej,{selectable:e.selectable,tableClassName:rn(T.table({size:L})),tableStyle:{userSelect:Y}},ge,o.createElement(QE,{rowReorderable:P},Ce)),de&&o.createElement(zE,null,$.length?$:o.createElement(DE,null))),z&&o.createElement("div",{className:rn(T.heightContainer({})),role:"presentation"},o.createElement(oj,{isVirtualScroll:z}))))),fe,ve&&o.createElement(o.Fragment,null,o.createElement(UE,null),o.createElement(WE,null)),Q&&o.createElement(ia,null)),ee,e.pageable&&me,o.createElement(kj,{loader:e.loader,showLoader:e.showLoader}))))});Ej.displayName="KendoReactGridComponent";const jj=class extends o.Component{getIntlService(){return new Ac(this.props.locale)}render(){return o.createElement(Nc.Consumer,null,e=>o.createElement(Nc.Provider,{value:p(p({},e),{},{intl:this.getIntlService()})},this.props.children))}};jj.propTypes={locale:jt.string};let Aj=jj;const _j={},Dj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(e=>{const t=Object.keys(e)[0];if(["main","supplemental"].includes(t)){const n=Object.keys(e[t])[0];n in _j?_j[n].includes(e)||(_j[n]=[..._j[n],e]):_j[n]=[e]}}),function(){for(var e=arguments,t=arguments.length,n=0;n<t;n++){var o=e[n];if(o.main){var i=Object.keys(o.main)[0],r=o.main[i],a=Ha[i]=Ha[i]||{};r.units?Cs(a,r.units):(a.name=a.name||i,a.identity=a.identity||r.identity,xs(a),Ss(i,r))}else if(o.supplemental)if(o.supplemental.weekData)Ha.supplemental.weekData={firstDay:o.supplemental.weekData.firstDay,weekendStart:o.supplemental.weekData.weekendStart,weekendEnd:o.supplemental.weekData.weekendEnd};else if(o.supplemental.likelySubtags)Ha.supplemental.likelySubtags=Object.assign(Ha.supplemental.likelySubtags,o.supplemental.likelySubtags);else if(o.supplemental.currencyData){var s=Ha.supplemental.currencyData;s.region=Object.assign(s.region||{},o.supplemental.currencyData.region),s.fractions=Object.assign(s.fractions||{},o.supplemental.currencyData.fractions)}}}(...t)},Nj=e=>{const{locale:t,data:n,children:o}=e;return t&&Dj(n),o},Tj=class extends o.Component{getLocalizationService(){return new Dc(this.props.language)}render(){return o.createElement(Nc.Consumer,null,e=>o.createElement(Nc.Provider,{value:p(p({},e),{},{localization:this.getLocalizationService()})},this.props.children))}};Tj.propTypes={language:jt.string};let Pj=Tj;const Mj=Object.create({}),Oj=(e,t,n)=>{for(const o in e)if(e.hasOwnProperty(o)){const i=[...n];if(i.push(o),"string"!=typeof e[o])Oj(e[o],t,i);else{const n=e[o];Object.defineProperty(t,i.join("."),{value:n,enumerable:!0})}}};const Rj=e=>{const{data:t,language:n,children:o}=e;return n&&function(e,t){const n=_c[t]=_c[t]||{};Mj.lang=t,Oj(e,n,[])}(t,n),o},Lj=e=>{var t,n,i;const{language:r="",locale:a="en",children:s}=e,l=Ua(a),c=null!=(t=_c[r])?t:[],d=(null!=(n=_j.version)?n:[]).concat(null!=(i=_j[l.name])?i:[]),[u]=Uc(a?Aj:o.Fragment),[p]=Uc(r?Pj:o.Fragment);return o.createElement(Rj,{data:c,language:r},o.createElement(Nj,{data:d,locale:a},o.createElement(p,{language:r},o.createElement(u,{locale:a},s))))},Fj=o.forwardRef((e,t)=>{const{isPaid:n}={isPaid:!0},[i]=Uc(n?bw:o.Fragment);return Yb===Xb?o.createElement(i,p({},e),o.createElement(ww,{id:e.id},o.createElement(Ej,p({ref:t},e)))):o.createElement(Lj,{locale:e.locale,language:e.language},o.createElement(Ej,p({ref:t},e)))}),zj={data:jt.oneOfType([jt.array,jt.shape({data:jt.array,total:jt.number})]),sortable:jt.oneOfType([jt.bool,jt.shape({mode:jt.oneOf(["single","multiple"]),allowUnsort:jt.bool})]),onSortChange:jt.func,sort:jt.array,filterable:jt.bool,filter:jt.any,onFilterChange:jt.func,pageable:jt.oneOfType([jt.bool,jt.shape({buttonCount:jt.number,responsive:jt.bool,info:jt.bool,type:jt.oneOf(["numeric","input"]),pageSizes:jt.oneOfType([jt.bool,jt.arrayOf(jt.oneOfType([jt.string,jt.number]))]),previousNext:jt.bool})]),pageSize:jt.number,onPageChange:jt.func,total:jt.number,skip:jt.number,take:jt.number,fixedScroll:jt.bool,onExpandChange:jt.func,expandField:jt.string,selectedField:jt.string,onSelectionChange:jt.func,onHeaderSelectionChange:jt.func,resizable:jt.bool,reorderable:jt.bool,group:jt.any,groupable:jt.oneOfType([jt.bool,jt.shape({enabled:jt.bool,footer:jt.oneOf(["always","visible","none"])})]),onGroupChange:jt.func,onRowClick:jt.func,onRowDoubleClick:jt.func,onItemChange:jt.func,editField:jt.string,scrollable:jt.oneOf(["none","scrollable","virtual"]),rowHeight:jt.number,detailRowHeight:jt.number,detail:jt.any,style:jt.object,onDataStateChange:jt.func,onColumnResize:jt.func,onColumnReorder:jt.func,dataItemKey:jt.string,navigatable:jt.oneOfType([jt.bool,jt.shape({mode:jt.oneOf(["incell","inline","popup"])})]),size:jt.oneOf(["small","medium"])};Fj.displayName="KendoReactGrid",Fj.propTypes=zj;const Bj=["validationMessage","visited","label"],Vj=e=>{const t={};return Object.keys(e).forEach(n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)}),t},Hj=o.createContext({}),qj="itemDataIndex",Uj="id",Gj=o.memo(e=>{let{recordType:t,mode:n="new",embedded:i=!1,onTotalAmountChange:r,headerDiscount:a=0,selectedLocation:l,soid:c=null,dnid:d=null,onUnfulfilledLinesLoaded:u=null,customerId:h=null,onCreditApplicationChange:m=null}=e;const f=ve(),{id:g}=ye(),{fetchFormConfiguration:v}=cy(),{getProductSalesPriceTaxCode:y}=Ry(),[x,b]=(0,o.useState)({show:!1,message:"",type:"success"}),[w,k]=(0,o.useState)(!1),[C,S]=(0,o.useState)(null),[I,E]=(0,o.useState)(null),[j,A]=(0,o.useState)({}),[_,D]=(0,o.useState)({}),[N,T]=(0,o.useState)(!1),[P,M]=(0,o.useState)([]),[O,R]=(0,o.useState)(!1),[L,F]=(0,o.useState)([]),[z,B]=(0,o.useState)(!1),[V,H]=(0,o.useState)("items");(0,o.useEffect)(()=>{const e=()=>{H("items")};return window.addEventListener("resetSalesItemsTab",e),()=>{window.removeEventListener("resetSalesItemsTab",e)}},[]),(0,o.useEffect)(()=>{if("CreditMemo"===t){const e=setInterval(()=>{document.querySelectorAll("table").forEach(e=>{const t=e.querySelectorAll("th"),n=Array.from(t).map(e=>{var t;return null===(t=e.textContent)||void 0===t?void 0:t.trim().toLowerCase()});if(n.includes("account name")&&n.includes("debit")&&n.includes("credit")&&n.includes("memo")){if(e.closest(".apply-invoice-tab-container"))return;"apply"===V?(e.style.display="none",e.parentElement&&e.parentElement.classList.contains("transactions-section")&&(e.parentElement.style.display="none")):(e.style.display="",e.parentElement&&e.parentElement.classList.contains("transactions-section")&&(e.parentElement.style.display=""))}})},100);return()=>clearInterval(e)}},[V,t]);const[q,U]=(0,o.useState)(""),[G,W]=(0,o.useState)([]),[K,Y]=(0,o.useState)(0),[X,J]=(0,o.useState)(0),[Q,Z]=(0,o.useState)(!1),$=(0,o.useRef)(1),ee=(0,o.useRef)(new Map),te=(0,o.useRef)(!0),ne=(0,o.useRef)(null),oe={SalesOrder:"/sales-order",ItemFulfillment:"/item-fulfillment",Invoice:"/invoice"},ie=(0,o.useCallback)(e=>{switch(e){case"SalesOrder":return{title:"Items",fields:["itemID","quantity","fulFillQty","rate","taxID","taxPercent","taxAmount","totalAmount"]};case"ItemFulfillment":return{title:"Items",fields:["itemID","quantity","remQty","invoicedQty","rate","taxID","taxPercent","taxAmount","totalAmount"]};case"Invoice":return{title:"Items",fields:["itemID","quantityDelivered","rate","taxID","taxPercent","taxRate","totalAmount"]};default:return{title:"Items",fields:["itemID","quantity","rate","taxID","taxPercent","taxAmount","totalAmount"]}}},[]),re=(0,o.useCallback)(async(e,t)=>{try{const n=await fetch(hr(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}},[]),ae=(0,o.useCallback)(function(e){b({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{b({show:!1,message:"",type:"success"})},4e3)},[]),se=e=>{const t=parseFloat(String(null!==e&&void 0!==e?e:"").replace(/,/g,""));return Number.isFinite(t)?t:0},le=(e,t,n)=>Math.max(t,Math.min(n,e)),ce=(0,o.useCallback)(async e=>{if(!e)return[];try{const t=hr(pr.endpoints.invoiceByCustomer(e)),n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}},[]),de=(0,o.useCallback)(async e=>{if(!e)return[];try{const t=hr(pr.endpoints.debitMemoByCustomer(e)),n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}},[]),ue=((0,o.useCallback)(()=>{const e=(j.items||[]).reduce((e,t)=>e+(t.totalAmount||0),0);return e},[j.items]),(0,o.useCallback)(e=>{if("CreditMemo"===t){const t=e.toString();q!==t&&(U(t),G&&G.length>0&&me({creditAmountStr:t}))}r&&r(e)},[t,r,q,G]));(0,o.useEffect)(()=>{if(m&&"CreditMemo"===t){const e={creditAmount:q,invoices:G,appliedTo:K,unapplied:X,originalData:ne.current};m(e)}},[q,G,K,X,m,t]);const pe=(0,o.useCallback)(async e=>{try{const t=await fetch("".concat(pr.baseURL,"/credit-memo-payment-line/by-credit-memo/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=await t.json();return Array.isArray(e)?e:e.lines||e.results||[]}return[]}catch(C){return console.error("Error fetching credit memo payment lines:",C),[]}},[]),he=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const i=new Map;o.forEach(e=>i.set(e.recordID,e));let r=[...e.map(e=>{const t=new Date(e.invoiceDate),o="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()),r=i.get(e.id);return{id:e.id,date:o,dateKey:t.getTime(),type:"Invoice",refNo:e.sequenceNumber,dueAmount:se(e.amountDue),originalAmount:se(e.totalAmount),displayAmount:r?r.paymentAmount:0,originalDisplayAmount:r?r.paymentAmount:0,checked:!!r&&r.isApplied,userTyped:!!r,lockedSeq:null,disabled:"view"===n}}),...t.map(e=>{const t=new Date(e.tranDate),o="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()),r=i.get(e.id);return{id:e.id,date:o,dateKey:t.getTime(),type:"Debit Memo",refNo:e.sequenceNumber,dueAmount:se(e.amountDue||e.totalAmount),originalAmount:se(e.totalAmount),displayAmount:r?r.paymentAmount:0,originalDisplayAmount:r?r.paymentAmount:0,checked:!!r&&r.isApplied,userTyped:!!r,lockedSeq:null,disabled:"view"===n}})].sort((e,t)=>e.dateKey-t.dateKey);return"view"===n&&(r=r.filter(e=>e.checked&&e.displayAmount>0)),r},[n]);(0,o.useEffect)(()=>{(async()=>{if("CreditMemo"===t&&h){Z(!0);try{const[e,t]=await Promise.all([ce(h),de(h)]);let o;if("edit"!==n&&"view"!==n||!g)o=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[...(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>{const t=new Date(e.invoiceDate),n="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear());return{id:e.id,date:n,dateKey:t.getTime(),type:"Invoice",refNo:e.sequenceNumber,dueAmount:se(e.amountDue),originalAmount:se(e.totalAmount),displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null,disabled:!1}}),...e.map(e=>{const t=new Date(e.tranDate),n="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear());return{id:e.id,date:n,dateKey:t.getTime(),type:"Debit Memo",refNo:e.sequenceNumber,dueAmount:se(e.amountDue||e.totalAmount),originalAmount:se(e.totalAmount),displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null,disabled:!1}})].sort((e,t)=>e.dateKey-t.dateKey)}(e,t);else{const i=await pe(g);"edit"===n&&(ne.current={lines:i},console.log("Stored original payment lines for edit mode:",ne.current)),o=he(e,t,i)}te.current=!0,W(o)}catch(e){console.error("\u274c Error fetching credit data:",e),W([])}finally{Z(!1)}}else W([])})()},[h,t,n,g,ce,de,pe,he]);const me=e=>{var t,o;const i=se(null!==(t=null===e||void 0===e?void 0:e.creditAmountStr)&&void 0!==t?t:q);let r=i;const a=null!==(o=null===e||void 0===e?void 0:e.invoices)&&void 0!==o?o:G;if(!a||0===a.length)return;const s=a.map(e=>{var t;const o=e.userTyped&&null!==(t=e.lockedSeq)&&void 0!==t?t:1/0,i=e.displayAmount,r=e.originalDisplayAmount||0,a="edit"===n&&g?e.dueAmount+r:e.dueAmount,s=e.userTyped?le(i,0,a):0,l=!e.userTyped&&i>0?le(i,0,a):0;return{id:e.id,dateKey:e.dateKey,dueAmount:e.dueAmount,originalDisplayAmount:r,lineCap:a,checked:e.checked,userTyped:e.userTyped,typedOrder:o,typedRequested:s,stickyRequested:l,appliedCash:0}}),l=s.filter(e=>e.typedRequested>0).sort((e,t)=>e.typedOrder-t.typedOrder||e.dateKey-t.dateKey);for(const n of l){let e=n.typedRequested;const t=Math.min(e,r);n.appliedCash+=t,r-=t}const c=s.filter(e=>0===e.typedRequested&&e.stickyRequested>0).sort((e,t)=>e.dateKey-t.dateKey);console.log("Sticky allocation phase:",{stickyListLength:c.length,stickyItems:c.map(e=>({id:e.id,stickyRequested:e.stickyRequested,checked:e.checked}))});for(const n of c){const e=n.appliedCash;let t=Math.max(n.stickyRequested-e,0);if(t<=0)continue;const o=Math.min(t,r);n.appliedCash+=o,r-=o,console.log("Sticky applied:",{cashUsed:o,remainingCashAvail:r})}const d=s.filter(e=>0===e.typedRequested&&0===e.stickyRequested&&!0===e.checked).sort((e,t)=>e.dateKey-t.dateKey);console.log("Auto allocation phase:",{autoListLength:d.length,autoItems:d.map(e=>({id:e.id,checked:e.checked,typedRequested:e.typedRequested,stickyRequested:e.stickyRequested,dueAmount:e.dueAmount,originalDisplayAmount:e.originalDisplayAmount})),cashAvailForAuto:r});for(const n of d){const e=n.appliedCash,t=Math.max(n.dueAmount-e,0);if(t<=0)continue;let o=t;const i=Math.min(o,r);n.appliedCash+=i,r-=i,console.log("Applied cash:",{cashUsed:i,remainingCashAvail:r})}let u=0;const h=a.map(e=>{const t=s.find(t=>t.id===e.id),n=t.appliedCash;return u+=n,p(p({},e),{},{displayAmount:n,checked:n>0,appliedCash:t.appliedCash})}),m=Math.max(i-u,0),f=((e,t)=>{const n=t;return e.map(e=>{const t=0===e.displayAmount&&n<=0;return p(p({},e),{},{disabled:t})})})(h,m);W(f),Y(u),J(m)},fe=(0,o.useCallback)(async(e,t)=>{if(!e||!t||0===t.length)return;const n=t.filter(e=>e.checked&&e.displayAmount>0).map(async t=>{const n={paymentAmount:t.displayAmount,recordID:t.id,isApplied:!0,refNo:t.refNo,recordType:t.type,cmid:e,creditMemoSeqNum:null,mainRecordAmount:t.originalAmount};try{const e=await fetch(hr("/credit-memo-payment-line"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Vj(n))});if(!e.ok){const t=await e.text();throw new Error("Failed to create credit memo payment line: ".concat(e.status," - ").concat(t))}return await e.json()}catch(C){throw console.error("Error creating credit memo payment line:",C),C}});try{await Promise.all(n),ae("Credit applications saved successfully","success")}catch(C){throw ae("Error saving credit applications: ".concat(C.message),"error"),C}},[ae]),ge=((0,o.useCallback)(async()=>{if("CreditMemo"===t&&g)try{Z(!0),await fe(g,G)}catch(C){console.error("Error saving credit applications:",C)}finally{Z(!1)}},[t,g,G,fe]),(0,o.useCallback)(async e=>{if(!e||"Invoice"!==t)return[];try{B(!0);const t=hr("/item-fulfilment-line/by-item-fulfilment/".concat(e));console.log("[SalesItems] Fetching uninvoiced lines from:",t);const n=await fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("Failed to fetch uninvoiced item fulfillment lines: ".concat(n.status));const o=(await n.json()).lines||[];return console.log("[SalesItems] Fetched uninvoiced lines:",o),F(o),o}catch(n){return console.error("Error fetching uninvoiced item fulfillment lines:",n),ae("Error fetching uninvoiced lines: ".concat(n.message),"error"),F([]),[]}finally{B(!1)}},[t,ae])),xe=(0,o.useCallback)(async e=>{if(!e||"ItemFulfillment"!==t)return[];try{R(!0);const t=hr("/salesorderline/by-salesorder/".concat(e));console.log("[SalesItems] Fetching unfulfilled lines from:",t);const n=await fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("Failed to fetch unfulfilled sales order lines: ".concat(n.status));const o=(await n.json()).lines||[];return console.log("[SalesItems] Fetched unfulfilled lines:",o),M(o),o}catch(n){return console.error("Error fetching unfulfilled sales order lines:",n),ae("Error fetching unfulfilled lines: ".concat(n.message),"error"),M([]),[]}finally{R(!1)}},[t,ae]);(0,o.useEffect)(()=>{"ItemFulfillment"!==t||!c||"new"!==n&&"edit"!==n||(console.log("[SalesItems] SOID changed, fetching unfulfilled items:",c),xe(c))},[c,t,n,xe]),(0,o.useEffect)(()=>{"Invoice"!==t||!d||"new"!==n&&"edit"!==n||(console.log("[SalesItems] DNID changed, fetching uninvoiced items:",d),ge(d))},[d,t,n,ge]);(0,o.useEffect)(()=>{let e=!0;return(async()=>{if(e)try{k(!0),S(null),T(!1);const n=ie(t);E(n);const o=[re("/product").then(e=>({name:"itemID",data:e})),re("/tax").then(e=>({name:"taxID",data:e}))],i=await Promise.all(o);if(!e)return;const r=i.reduce((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e},{});D(r);if(!e)return;A({transactionId:g||null,items:[]}),T(!0)}catch(n){if(!e)return;S(n.message),ae(n.message,"error")}finally{if(!e)return;k(!1)}})(),()=>{e=!1}},[n,g,t,ie,re]);(0,o.useCallback)(function(e,t){const n=(e||0)*(t||0)-(a||0);return n+n*((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)||0)/100},[a]);const be=(0,o.useCallback)(e=>(_[e]||[]).map(t=>{if("string"===typeof t)return{text:t,value:t};if(!t.id)return{text:String(t),value:t};return{text:(t=>{if("itemID"===e&&t.itemName&&t.itemCode)return"".concat(t.itemCode," - ").concat(t.itemName);if("taxID"===e&&t.taxName)return t.taxName;const n=["name","itemName","productName","description","title","taxName"];for(const e of n)if(t[e])return t[e];return String(t.id)})(t),value:t.id,item:t}}),[_]),we=((0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,visited:i,label:r}=e,a=s(e,Bj),l=i&&o,c=p(p({},a),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||a.disabled}),d={text:{component:Fc,props:c},number:{component:xu,props:p(p({},c),{},{min:0,step:0})},textarea:{component:Cu,props:p(p({},c),{},{rows:2})},date:{component:Zv,props:c},dropdown:{component:Sh,props:p(p({},c),be(e))}},u=d[t]||d.text;return(0,sr.jsxs)("div",{children:[(0,sr.jsx)(u.component,p({},u.props)),l&&(0,sr.jsx)("div",{className:"k-form-error",children:o})]})}},[n,be]),e=>{const{parentField:i,editIndex:r,validatedItems:a,onUpdateField:s,soid:l,selectedLocation:c,unfulfilledItems:d,unfulfilledLoading:u,dnid:h,uninvoicedItems:m,uninvoicedLoading:f}=o.useContext(Hj),g=e.dataItem[qj]===r;a.includes(e.dataItem[qj]);if(g){let o;if("ItemFulfillment"===t&&("new"===n||"edit"===n)&&l&&d&&d.length>0){const e=be("itemID");o=d.map(t=>{const n=e.find(e=>e.value===t.itemID);return{text:n?n.text:"Item ".concat(t.itemID),value:t.itemID,unfulfilledItem:t}})}else if("ItemFulfillment"===t&&"new"===n&&l&&u)o=[{text:"Loading unfulfilled items...",value:null}];else if("Invoice"===t&&("new"===n||"edit"===n)&&h&&m&&m.length>0){const e=be("itemID");o=m.map(t=>{const n=e.find(e=>e.value===t.itemID);return{text:n?n.text:"Item ".concat(t.itemID),value:t.itemID,uninvoicedItem:t}})}else o="Invoice"===t&&"new"===n&&h&&f?[{text:"Loading uninvoiced items...",value:null}]:be("itemID");return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Sh,{data:o,textField:"text",dataItemKey:"value",valueField:"value",value:o.find(t=>t.value===e.dataItem[e.field])||null,onChange:async t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;await s(e.dataItem[qj],e.field,o)},style:{width:"100%"}})}))}const v=e.dataItem[e.field],y=be("itemID").find(e=>e.value===v),x=(null===y||void 0===y?void 0:y.text)||"";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:x})}))}),ke=e=>{const{parentField:i,editIndex:r,validatedItems:a,onUpdateField:s,soid:l,selectedLocation:c,unfulfilledItems:d,unfulfilledLoading:u,dnid:h,uninvoicedItems:m,uninvoicedLoading:f}=o.useContext(Hj),g=e.dataItem[qj]===r,v=o.useRef(null);var y;return o.useEffect(()=>{g&&null===v.current?v.current=e.dataItem[e.field]||0:g||(v.current=null)},[g,e.dataItem,e.field]),g?(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Fc,{type:"number",min:"0",step:"1",value:null!==(y=e.dataItem[e.field])&&void 0!==y?y:"",onChange:async o=>{v.current;const i=o.target.value;let r=""===i?"":parseInt(i)||"";if("ItemFulfillment"===t&&("edit"===n||"new"===n)&&""!==r&&e.dataItem.itemID&&l)try{const t=d.find(t=>t.itemID===e.dataItem.itemID);if(t){const e=parseInt(r)||0,n=t.quantity||0,o=n-(t.fulFillQty||0);e>o&&(alert("Quantity ".concat(e," exceeds remaining quantity ").concat(o," from sales order.")),r=Math.max(0,o))}}catch(C){console.error("Error validating quantity in edit mode:",C)}if("Invoice"===t&&("edit"===n||"new"===n)&&""!==r&&e.dataItem.itemID&&h)try{const t=m.find(t=>t.itemID===e.dataItem.itemID);if(t){const e=parseInt(r)||0,n=t.quantity||0,o=n-(t.invoicedQty||0);e>o&&(alert("Quantity ".concat(e," exceeds remaining quantity ").concat(o," from item fulfillment.")),r=Math.max(0,o))}}catch(C){console.error("Error validating quantity in edit mode:",C)}s(e.dataItem[qj],e.field,r)},onKeyDown:e=>{"."!==e.key&&","!==e.key||e.preventDefault()},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})})):(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:e.dataItem[e.field]||""})}))},Ce=e=>{const{parentField:t,editIndex:n,onUpdateField:i}=o.useContext(Hj);var r;if(e.dataItem[qj]===n)return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Fc,{type:"number",min:"0",step:"0.01",value:null!==(r=e.dataItem[e.field])&&void 0!==r?r:"",onChange:t=>{const n=t.target.value,o=""===n?"":parseFloat(n)||"";i(e.dataItem[qj],e.field,o)},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})}));const a=e.dataItem[e.field],s=null!==a&&void 0!==a&&"number"===typeof a?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a):0===a?"0.00":"";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:s})}))},Se=e=>{const{parentField:t,editIndex:n,validatedItems:i,onUpdateField:r}=o.useContext(Hj);if(e.dataItem[qj]===n){const t=be("taxID");return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Sh,{data:t,textField:"text",dataItemKey:"value",valueField:"value",value:t.find(t=>t.value===e.dataItem.taxID)||null,onChange:t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;r(e.dataItem[qj],"taxID",o)},style:{width:"100%"}})}))}const a=e.dataItem.taxID,s=be("taxID");let l;l="object"===typeof a&&null!==a&&void 0!==a&&a.value?a.value:a;const c=s.find(e=>e.value===l),d=(null===c||void 0===c?void 0:c.text)||"";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:d})}))},Ie=e=>{const t=e.dataItem.taxPercent||0;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsxs)("span",{style:{padding:"8px",display:"block"},children:[t.toFixed(1),"%"]})}))},Ee=e=>{const n="Invoice"===t?"taxRate":"taxAmount",o=e.dataItem[n]||0;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:o.toFixed(2)})}))},je=e=>{const t=e.dataItem.totalAmount||0;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block",fontWeight:"bold"},children:t.toFixed(2)})}))},Ae=e=>{const t=e.dataItem.fulFillQty||0;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block",color:"#666",fontStyle:"italic"},children:t})}))},_e=e=>{const t=e.dataItem.invoicedQty||0;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block",color:"#666",fontStyle:"italic"},children:t})}))},De=e=>{const{unfulfilledItems:n,uninvoicedItems:i}=o.useContext(Hj);let r=0;if("ItemFulfillment"===t&&e.dataItem.itemID&&n&&n.length>0){const t=n.find(t=>t.itemID===e.dataItem.itemID);t&&(r=(t.quantity||0)-(t.fulFillQty||0))}if("Invoice"===t&&e.dataItem.itemID&&i&&i.length>0){const t=i.find(t=>t.itemID===e.dataItem.itemID);t&&(r=(t.quantity||0)-(t.invoicedQty||0))}return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block",color:"#666",fontStyle:"italic"},children:r})}))},Ne=e=>{const{onRemove:t,onEdit:i,onSave:r,onCancel:a,editIndex:s,validateItem:l}=o.useContext(Hj),c=e.dataItem[qj]===s,d=!e.dataItem[Uj]||!e.dataItem.itemID,u=(0,o.useCallback)(n=>{n.preventDefault(),t(e.dataItem)},[e.dataItem,t]),h=(0,o.useCallback)(t=>{t.preventDefault(),i(e.dataItem,d)},[e.dataItem,i,d]),m=(0,o.useCallback)(t=>{t.preventDefault(),r(e.dataItem)},[r,e.dataItem]),f=(0,o.useCallback)(n=>{n.preventDefault(),t(e.dataItem)},[e.dataItem,a]);return c?(0,sr.jsxs)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:[(0,sr.jsx)(bo,{type:"button",onClick:m,className:"k-grid-save-command",size:"small",style:{marginRight:"4px",backgroundColor:"#4CAF50",color:"white",fontSize:"12px",padding:"4px 8px"},title:d?"Add this item when complete":"Save changes to this item",disabled:"view"===n,children:d?"Add":"Save"}),(0,sr.jsx)(bo,{type:"button",onClick:d?u:f,className:"k-grid-cancel-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},title:d?"Remove this item":"Cancel editing",disabled:"view"===n,children:d?"Discard":"Cancel"})]})):(0,sr.jsx)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:"view"!==n&&(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)(bo,{type:"button",themeColor:"primary",onClick:h,className:"k-grid-edit-command",size:"small",style:{marginRight:"4px",fontSize:"12px",padding:"4px 8px"},children:"Edit"}),(0,sr.jsx)(bo,{type:"button",onClick:u,className:"k-grid-remove-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},children:"Remove"})]})}))},Te=e=>{const{validationMessage:i,visited:r,name:s,dataItemKey:u,onTotalAmountChange:h}=e,[m,f]=(0,o.useState)(void 0),g=o.useRef(void 0),[v,x]=(0,o.useState)([]),b=(0,o.useCallback)(t=>{if(void 0!==t&&e.value[t]){x(e=>e.includes(t)?e:[...e,t]);const n=e.value[t];return n.itemID&&null!==n.itemID}return!1},[e.value]),w=(0,o.useCallback)(async(o,i,r)=>{if(!e.value||!e.value[o])return;const a=p(p({},e.value[o]),{},{[i]:r});if("itemID"===i&&r)try{if(!l)return alert("Please select a location first"),a.itemID="",void e.onReplace({index:o,value:a});const i=e.value||[];if(-1!==i.findIndex((e,t)=>t!==o&&e.itemID===r))return alert("This item has already been added to the list. Please select a different item."),a.itemID="",void e.onReplace({index:o,value:a});if("ItemFulfillment"===t&&("new"===n||"edit"===n)&&c&&P&&P.length>0)try{const e=P.find(e=>e.itemID===r);console.log("[SalesItems] Looking for item",r,"in session items. Found:",!!e),e?(a.rate=e.rate||0,a.taxID=e.taxID||"",a.taxPercent=e.taxPercent||0,a.taxAmount=e.taxAmount||0,a.quantity=(e.quantity||0)-(e.fulFillQty||0),console.log("[SalesItems] Using session item data:",e)):console.log("[SalesItems] Item not found in unfulfilled items")}catch(C){console.error("[SalesItems] Error processing unfulfilled item data:",C)}if("Invoice"===t&&("new"===n||"edit"===n)&&d&&L&&L.length>0)try{const e=L.find(e=>e.itemID===r);console.log("[SalesItems] Looking for item",r,"in uninvoiced items. Found:",!!e),e&&(a.rate=e.rate||0,a.taxID=e.taxID||"",a.taxPercent=e.taxPercent||0,a.taxAmount=e.taxAmount||0,a.quantityDelivered=(e.quantity||0)-(e.invoicedQty||0),console.log("[SalesItems] Using uninvoiced item data:",e))}catch(C){console.error("Error parsing sessionStorageItems for item selection:",C);const{salesPrice:t,taxCode:n}=await y(r);a.rate=t||0,a.taxID=n||""}else{const{salesPrice:e,taxCode:t}=await y(r);a.rate=e||0,a.taxID=t||""}}catch(C){}e.onReplace({index:o,value:a})},[e,t,ae,l,y]),k=e=>{if(!e||!Array.isArray(e))return{totalAmount:0,totalQuantity:0};const n=e.reduce((e,t)=>e+(t.totalAmount||0),0),o="Invoice"===t?"quantityDelivered":"quantity",i=e.reduce((e,t)=>e+(t[o]||0),0);return{totalAmount:n,totalQuantity:i}},[S,I]=(0,o.useState)(()=>k(e.value));(0,o.useEffect)(()=>{h&&h(S.totalAmount)},[S.totalAmount]);const E=(0,o.useCallback)(()=>{const t=e.value||[],n=k(t);I(n),h&&h(n.totalAmount)},[e.value,t,h]),j=(0,o.useCallback)(o=>{if("view"===n)return;o.preventDefault();const i=Array.isArray(e.value)?e.value:[],r=i.findIndex(e=>!e.itemID);if(-1!==r)return void f(r);const a={id:i.length>0?Math.max(...i.map(e=>parseInt(e.id)||0))+1:1,itemID:"",rate:0,taxID:"",taxPercent:0,totalAmount:0};"Invoice"===t?(a.quantityDelivered=1,a.taxRate=0):(a.quantity=1,a.taxAmount=0),console.log("[DEBUG] Adding new item:",a),e.onUnshift({value:a}),f(0),setTimeout(()=>E(),0)},[e,y,l,t,ae]),A=(0,o.useCallback)(async n=>{const o=n[qj];if("ItemFulfillment"===t&&n.itemID&&c)try{const e=await fetch(hr("/salesorderline/by-salesorder/".concat(c)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json(),o=(t.lines||[]).find(e=>e.itemID===n.itemID);if(o){const e=n.quantity||0,t=o.fulFillQty||0,i=Math.max(0,t-e);(await fetch(hr("/salesorderline/".concat(o.id)),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p(p({},o),{},{fulFillQty:i}))})).ok}}}catch(C){}e.onRemove({index:o}),f(void 0),g.current=void 0;const i=(e.value||[]).filter((e,t)=>t!==o),r=k(i);I(r),h&&h(r.totalAmount)},[e,t,c,k,h]),_=(0,o.useCallback)(e=>{g.current=vr(e),f(e[qj])},[]),D=(0,o.useCallback)(()=>{g.current&&e.onReplace({index:g.current[qj],value:g.current}),g.current=void 0,f(void 0),setTimeout(()=>E(),0)},[e,E]),N=(0,o.useCallback)(n=>{const o=n[qj];if(!e.value||!Array.isArray(e.value)||!e.value[o])return void console.error("Invalid array access in onSave:",{value:e.value,index:o});const i=e.value[o];if(!i.itemID)return void alert("Product is required");const r="Invoice"===t?"quantityDelivered":"quantity";if(!i[r]||i[r]<=0)return void alert("Quantity must be greater than 0");const s=""===i[r]?0:parseFloat(i[r])||0,l=""===i.rate?0:parseFloat(i.rate)||0,c=i.taxID||"";let d=0;if(c){const e=be("taxID"),t=Array.isArray(e)?e.find(e=>e.value===c):null;if(t&&t.item){if(t.item.taxName&&"string"===typeof t.item.taxName){const e=t.item.taxName.match(/-(\d+(?:\.\d+)?)/);e&&(d=parseFloat(e[1]))}0===d&&t.item.taxRate&&(d=parseFloat(t.item.taxRate))}}const u=s*l-(a||0),h="Invoice"===t?"taxRate":"taxAmount",m=Math.round(u*d/100*100)/100,v=Math.round(100*(u+m))/100;e.onReplace({index:o,value:p(p({},i),{},{taxPercent:d,[h]:m,totalAmount:v})}),f(void 0),g.current=void 0,setTimeout(()=>E(),0)},[e,t,be,E]);o.useEffect(()=>{if(void 0!==m&&e.value&&e.value[m]){const n=e.value[m],o="Invoice"===t?"quantityDelivered":"quantity",i=(""===n[o]?0:parseFloat(n[o])||0)*(""===n.rate?0:parseFloat(n.rate)||0)-(a||0),r=i*(parseFloat(n.taxPercent)||0)/100,s=i+r,l=Math.round(100*r)/100,c=Math.round(100*s)/100,d="Invoice"===t?"taxRate":"taxAmount",u=Math.round(100*(parseFloat(n[d])||0))/100;if(c===Math.round(100*(parseFloat(n.totalAmount)||0))/100&&l===u||e.onReplace({index:m,value:p(p({},n),{},{[d]:l,totalAmount:c})}),n.taxID){const t=be("taxID").find(e=>e.value===n.taxID);if(t&&t.item){let o=0;if(t.item.taxName&&"string"===typeof t.item.taxName){const e=t.item.taxName.match(/-(\d+(?:\.\d+)?)/);e&&(o=parseFloat(e[1]))}0===o&&t.item.taxRate&&(o=parseFloat(t.item.taxRate)),o!==parseFloat(n.taxPercent||0)&&e.onReplace({index:m,value:p(p({},n),{},{taxPercent:o})})}}else n.taxPercent>0&&e.onReplace({index:m,value:p(p({},n),{},{taxPercent:0})})}},[m,e.value,t,be,a]);const T=(0,o.useMemo)(()=>(e.value||[]).map((e,t)=>p(p({},e),{},{[qj]:t})),[e.value]);return(0,sr.jsxs)(Hj.Provider,{value:{onCancel:D,onEdit:_,onRemove:A,onSave:N,onUpdateField:w,editIndex:m,parentField:s,validatedItems:v,validateItem:b,soid:c,selectedLocation:l,unfulfilledItems:P,unfulfilledLoading:O,dnid:d,uninvoicedItems:L,uninvoicedLoading:z},children:[r&&i&&(0,sr.jsx)("div",{className:"k-form-error",style:{color:"#e53e3e",fontSize:"12px",marginTop:"4px"},children:i}),"view"!==n&&(0,sr.jsxs)("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:"8px",paddingRight:"8px"},children:[(0,sr.jsxs)(bo,{onClick:j,themeColor:"success",fillMode:"solid",size:"medium",className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-success",children:[(0,sr.jsx)(Ji,{style:{marginRight:"6px"}})," Add Item"]}),(0,sr.jsxs)("div",{style:{fontWeight:"700",fontSize:"1.2rem",color:"#2d3748"},children:["Total Amount: ",S.totalAmount.toFixed(2)]})]}),(0,sr.jsx)("div",{className:"transaction-items-grid-container",style:{overflowX:"auto",overflowY:"visible",width:"100%",maxWidth:"100%"},children:(0,sr.jsxs)(Fj,{className:"transaction-items-grid",data:T,dataItemKey:u,rowRender:e=>{const t=p(p({},e.props),{},{style:p(p({},e.props.style),{},{borderBottom:"1px solid #e0e0e0"})});return o.cloneElement(e,p({},t),e.props.children)},style:{height:"400px"},children:[(0,sr.jsx)(zy,{field:"itemID",title:"Item",cells:{data:we}}),(0,sr.jsx)(zy,{field:"Invoice"===t?"quantityDelivered":"quantity",title:"Qty",width:"70px",cells:{data:ke}}),"SalesOrder"===t&&("edit"===n||"view"===n)&&(0,sr.jsx)(zy,{field:"fulFillQty",title:"FulFill Qty",width:"90px",cells:{data:Ae},media:"(min-width: 768px)"}),("ItemFulfillment"===t||"Invoice"===t)&&("edit"===n||"new"===n)&&(0,sr.jsx)(zy,{field:"remQty",title:"REM Qty",width:"90px",cells:{data:De},media:"(min-width: 768px)"}),"ItemFulfillment"===t&&("edit"===n||"view"===n)&&(0,sr.jsx)(zy,{field:"invoicedQty",title:"Inv Qty",width:"90px",cells:{data:_e},media:"(min-width: 992px)"}),(0,sr.jsx)(zy,{field:"rate",title:"Rate",width:"90px",cells:{data:Ce}}),(0,sr.jsx)(zy,{field:"taxID",title:"Tax",width:"120px",cells:{data:Se},media:"(min-width: 768px)"}),(0,sr.jsx)(zy,{field:"taxPercent",title:"Tax %",width:"80px",cells:{data:Ie},media:"(min-width: 992px)"}),"Invoice"===t?(0,sr.jsx)(zy,{field:"taxRate",title:"Tax Amt",width:"90px",cells:{data:Ee}}):(0,sr.jsx)(zy,{field:"taxAmount",title:"Tax Amt",width:"90px",cells:{data:Ee},media:"(min-width: 992px)"}),(0,sr.jsx)(zy,{field:"totalAmount",title:"Amount",width:"100px",cells:{data:je}}),"view"!==n&&(0,sr.jsx)(zy,{field:"command",title:"Actions",width:"120px",cells:{data:Ne}})]})})]})};(0,o.useCallback)(e=>{const n={};if(e.items&&0!==e.items.length){e.items.map((e,n)=>{const o={};e.itemID||(o.itemID="Product is required");const i="Invoice"===t?"quantityDelivered":"quantity";return(!e[i]||e[i]<=0)&&(o[i]="Quantity must be greater than 0"),Object.keys(o).length>0?o:null}).filter(Boolean).length>0&&(n.items="Please fix item validation errors")}else n.items="At least one item is required";return n},[]);if(w||!I||!N)return(0,sr.jsx)("div",{className:"form-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsxs)("div",{children:["Loading ",t.toLowerCase()," items..."]})]})});if(C)return(0,sr.jsx)("div",{className:"form-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("h3",{children:["Error Loading ",t," Items"]}),(0,sr.jsx)("p",{children:C}),(0,sr.jsxs)(bo,{onClick:()=>f(oe[t]||"/"),children:["Back to ",t," List"]})]})});const Pe=()=>{if("CreditMemo"!==t)return null;const e=G.length>0&&G.every(e=>e.checked);return(0,sr.jsxs)("div",{className:"payment-container apply-invoice-tab-container",children:[(0,sr.jsx)("style",{children:'\n          body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #f0f2f5; color: #333; padding: 20px; }\n          .payment-container { max-width: 1200px; margin: 0 auto; background-color: #fff; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }\n          .header-bar { background-color: #f7f9fa; padding: 15px 20px; border-bottom: 1px solid #ddd; display: flex; align-items: center; gap: 20px; }\n          .header-bar label { font-weight: 600; margin-right: 5px; font-size: 14px; }\n          .header-bar .k-numerictextbox { width: 140px; }\n          .header-bar .k-numerictextbox .k-input { font-size: 14px; }\n          .main-controls-area { padding: 20px 20px 0 20px; }\n          .controls-top-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n          .k-button { margin-right: 5px; }\n          .subtab-nav { border-bottom: 2px solid #dee2e6; display: flex; }\n          .subtab-link { background: none; border: none; padding: 10px 15px; cursor: pointer; font-size: 14px; font-weight: 600; color: #007bff; margin-bottom: -2px; }\n          .subtab-link.active { border-bottom: 2px solid #007bff; }\n          .subtab-header { background-color: #f7f9fa; padding: 10px 20px; border-bottom: 1px solid #ddd; display: flex; gap: 30px; font-size: 14px; font-weight: bold; }\n          .subtab-header strong { color: #000; }\n          .subtab-content { display: block; padding: 20px; }\n          table { width: 100%; border-collapse: collapse; font-size: 13px; }\n          th, td { padding: 10px 8px; text-align: left; border-bottom: 1px solid #e0e0e0; }\n          thead { background-color: #f7f9fa; }\n          th { font-weight: 600; color: #555; }\n          tr:hover { background-color: #f5f5f5; }\n          .text-right { text-align: right; }\n          .k-checkbox { width: 16px; height: 16px; cursor: pointer; }\n          .k-checkbox-wrapper .k-checkbox {\n            border: 3px solid #000 !important;\n            background-color: #fff !important;\n            box-shadow: 0 0 0 1px #000 !important;\n          }\n          .k-checkbox-wrapper .k-checkbox:checked {\n            background-color: #000 !important;\n            border-color: #000 !important;\n            box-shadow: 0 0 0 1px #000 !important;\n          }\n          .k-checkbox-wrapper .k-checkbox:checked::after {\n            color: #fff !important;\n            font-weight: bold !important;\n            font-size: 12px !important;\n          }\n          .k-checkbox-wrapper .k-checkbox:hover {\n            border-color: #000 !important;\n            box-shadow: 0 0 0 2px rgba(0,0,0,0.3) !important;\n          }\n          .payment-input .k-numerictextbox { width: 90%; }\n          .payment-input .k-numerictextbox .k-input { text-align: right; }\n        '}),(0,sr.jsx)("div",{className:"header-bar",children:(0,sr.jsxs)("div",{children:[(0,sr.jsx)("label",{htmlFor:"creditAmountLimit",children:"CREDIT AMOUNT *"}),(0,sr.jsx)(xu,{id:"creditAmountLimit",placeholder:"0.00",min:0,step:0,format:"n2",decimals:2,spinners:!1,value:se(q),disabled:!0})]})}),(0,sr.jsxs)("div",{className:"main-controls-area",children:[(0,sr.jsx)("div",{className:"controls-top-row",children:(0,sr.jsx)("div",{children:(0,sr.jsx)(bo,{type:"button",disabled:"view"===n,onClick:e=>{e.preventDefault(),e.stopPropagation(),(()=>{const e=G.map(e=>p(p({},e),{},{displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null}));W(e),Y(0),J(se(q))})()},children:"Clear All"})})}),(0,sr.jsx)("div",{className:"subtab-nav",children:(0,sr.jsx)(bo,{type:"button",className:"subtab-link active",hidden:"view"==n,children:"Invoices/Debitmemos"})})]}),(0,sr.jsxs)("div",{className:"subtab-header",children:[(0,sr.jsxs)("span",{children:["Applied : ",(0,sr.jsx)("strong",{id:"appliedToTotalDisplay",children:K.toFixed(2)})]}),(0,sr.jsx)("span",{children:"\u2022"}),(0,sr.jsxs)("span",{children:["Unapplied Amount : ",(0,sr.jsx)("strong",{id:"unappliedAmountDisplay",children:X.toFixed(2)})]})]}),(0,sr.jsx)("div",{className:"subtab-content",children:Q?(0,sr.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,sr.jsx)("p",{children:"Loading invoices and debit memos..."})}):0===G.length?(0,sr.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,sr.jsx)("p",{children:"No invoices or debit memos found for this customer."})}):(0,sr.jsxs)("table",{children:[(0,sr.jsx)("thead",{children:(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("th",{children:(0,sr.jsx)(ju,{className:"header-checkbox",checked:e,disabled:"view"===n,onChange:e=>{(()=>{const e=G.length>0&&G.every(e=>e.checked),t=G.map(t=>p(p({},t),{},{checked:!e,userTyped:!1}));me({invoices:t})})()}})}),(0,sr.jsx)("th",{children:"DATE"}),(0,sr.jsx)("th",{children:"TYPE"}),(0,sr.jsx)("th",{children:"REF NO."}),(0,sr.jsx)("th",{className:"text-right",children:"ORG AMT"}),(0,sr.jsx)("th",{className:"text-right",children:"AMT. DUE"}),(0,sr.jsx)("th",{className:"k-text-center",children:"CREDIT"})]})}),(0,sr.jsx)("tbody",{id:"invoiceTableBody",children:G.map(e=>(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("td",{children:(0,sr.jsx)(ju,{className:"invoice-checkbox",checked:e.checked,disabled:"view"===n||e.disabled,onChange:t=>{const n=void 0!==t.value?t.value:!!t.target&&t.target.checked;((e,t)=>{const n=G.map(n=>n.id!==e?n:p(p({},n),{},t?{checked:!0,displayAmount:0,userTyped:!1}:{checked:!1,displayAmount:0,userTyped:!1}));te.current=!0,me({invoices:n})})(e.id,n)}})}),(0,sr.jsx)("td",{children:e.date}),(0,sr.jsx)("td",{children:e.type}),(0,sr.jsx)("td",{children:e.refNo}),(0,sr.jsx)("td",{className:"text-right",children:(e.originalAmount||0).toFixed(2)}),(0,sr.jsx)("td",{className:"text-right",children:e.dueAmount.toFixed(2)}),(0,sr.jsx)("td",{className:"text-right",children:(0,sr.jsx)("div",{className:"payment-input",children:(0,sr.jsx)(xu,{className:"invoice-payment-input",style:{textAlign:"right !important"},min:0,step:0,format:"n2",decimals:2,spinners:!1,value:e.displayAmount>0?parseFloat(e.displayAmount):null,onFocus:()=>"view"===!n&&(e=>{const t=G.find(t=>t.id===e);t&&ee.current.set(e,{startCents:t.displayAmount,unappliedAtFocusCents:X})})(e.id),onBlur:()=>"view"===!n&&(e=>{ee.current.delete(e)})(e.id),onChange:t=>{var o;return"view"===!n&&((e,t)=>{const n=G.map(n=>{if(n.id===e){const e=se(t),o=""!==t&&e>=0;return p(p({},n),{},{displayAmount:e,userTyped:o,lockedSeq:o?$.current++:null})}return n});te.current=!0,me({invoices:n})})(e.id,(null===(o=t.value)||void 0===o?void 0:o.toString())||"0")},disabled:"view"===n})})})]},e.id))})]})})]})};return i?(0,sr.jsxs)("div",{style:{width:"100%"},children:[(0,sr.jsx)(ay,{children:x.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:x.type,icon:!0},closable:!0,onClose:()=>b({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:x.message})})})}),"CreditMemo"===t&&(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)("style",{children:"\n              .credit-memo-tabs {\n                display: flex;\n                gap: 8px;\n                border-bottom: 2px solid #e8eaed;\n                margin-bottom: 0;\n                background: transparent;\n                padding: 0;\n                margin-top: 20px;\n              }\n              .credit-memo-tab {\n                padding: 8px 16px;\n                background: #f8f9fa;\n                border: 1px solid #e8eaed;\n                border-bottom: none;\n                cursor: pointer;\n                font-size: 13px;\n                font-weight: 600;\n                color: #5f6368;\n                transition: all 0.2s ease;\n                display: inline-flex;\n                align-items: center;\n                gap: 6px;\n                position: relative;\n                border-radius: 6px 6px 0 0;\n                white-space: nowrap;\n              }\n              .credit-memo-tab:hover {\n                background: #e8f0fe;\n                color: #1a73e8;\n              }\n              .credit-memo-tab.active {\n                background: white;\n                color: #1a73e8;\n                border-bottom: 2px solid white;\n                margin-bottom: -2px;\n                font-weight: 700;\n              }\n              .credit-memo-tab-content {\n                background: white;\n                border: 1px solid #e8eaed;\n                border-top: none;\n                padding: 0;\n                min-height: 300px;\n              }\n            "}),(0,sr.jsxs)("div",{className:"credit-memo-tabs",children:[(0,sr.jsx)("button",{type:"button",className:"credit-memo-tab ".concat("items"===V?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),H("items")},children:"\ud83d\udccb Add Items"}),(0,sr.jsx)("button",{type:"button",className:"credit-memo-tab ".concat("apply"===V?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),H("apply")},children:"\ud83d\udcb3 Apply Invoice/DebitMemo"})]})]}),"items"===V||"CreditMemo"!==t?(0,sr.jsx)(Fy,{name:"items",component:Te,dataItemKey:Uj,validator:e=>e&&e.length?"":"Please add at least one item",onTotalAmountChange:ue,headerDiscount:a,selectedLocation:l,soid:c,dnid:d,onUnfulfilledLinesLoaded:u}):Pe()]}):(0,sr.jsxs)("div",{className:"form-container",children:[(0,sr.jsx)(ay,{children:x.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:x.type,icon:!0},closable:!0,onClose:()=>b({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:x.message})})})}),(0,sr.jsx)("div",{className:"form-header",children:(0,sr.jsx)("h2",{children:"new"===n?"Add ".concat(I.title):"edit"===n?"Edit ".concat(I.title):"View ".concat(I.title)})}),"CreditMemo"===t&&(0,sr.jsx)("div",{className:"tab-navigation",children:(0,sr.jsxs)("div",{className:"tab-buttons",children:[(0,sr.jsx)("button",{type:"button",className:"tab-button ".concat("items"===V?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),H("items")},children:"Items"}),(0,sr.jsx)("button",{type:"button",className:"tab-button ".concat("apply"===V?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),H("apply")},children:"Apply"})]})}),(0,sr.jsx)(la,{onSubmit:async e=>{try{if(k(!0),S(null),i)return void ae("Line items updated. Save the main form to create the transaction.","info");const n=g;if(!n)throw new Error("Transaction ID is required to save line items");const o=e.items||[];if(0===o.length)return void ae("No items to save","warning");const r={SalesOrder:{endpoint:hr(pr.endpoints.salesOrderLine),idField:"soid",quantityField:"quantity"},ItemFulfillment:{endpoint:hr(pr.endpoints.itemFulfillmentLine),idField:"dnid",quantityField:"quantity"},Invoice:{endpoint:hr(pr.endpoints.invoiceLine),idField:"invoiceId",quantityField:"quantityDelivered"}}[t];if(!r)throw new Error("Unsupported record type: ".concat(t));const s=o.map(async(e,t)=>{var o,i;const s=Number(e.quantity||e.quantityDelivered||0),l=Number(e.rate||0),c=Number(e.taxPercent||0),d=s*l-(a||0),u=d*c/100,p=d+u,h={[r.idField]:n,itemID:(null===(o=e.itemID)||void 0===o?void 0:o.value)||e.itemID,[r.quantityField]:s,rate:l,taxID:(null===(i=e.taxID)||void 0===i?void 0:i.value)||e.taxID,taxPercent:c,taxAmount:u,totalAmount:p},m=await fetch(r.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Vj(h))});if(!m.ok){const e=await m.text();throw new Error("Failed to create line ".concat(t+1,": ").concat(m.status," - ").concat(e))}return await m.json()});await Promise.all(s),ae("".concat(t," items saved successfully (").concat(o.length," items)"),"success"),i||f(oe[t]||"/")}catch(n){S(n.message),ae(n.message,"error")}finally{k(!1)}},initialValues:j,render:e=>(0,sr.jsxs)(ma,{style:{width:"100%"},children:[(0,sr.jsx)("div",{className:"form-grid",children:(0,sr.jsx)("div",{className:"order-items-field",children:"items"===V||"CreditMemo"!==t?(0,sr.jsx)(Fy,{name:"items",component:Te,dataItemKey:Uj,validator:e=>e&&e.length?"":"Please add at least one item",onTotalAmountChange:ue,headerDiscount:a,selectedLocation:l,soid:c,dnid:d,onUnfulfilledLinesLoaded:u}):Pe()})}),(0,sr.jsxs)("div",{className:"form-actions",children:[(0,sr.jsxs)(bo,{type:"button",onClick:()=>f(oe[t]||"/"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",children:[(0,sr.jsx)(tr,{})," ","view"===n?"Close":"Cancel"]}),"view"!==n&&(0,sr.jsxs)(bo,{type:"submit",disabled:w||!e.allowSubmit,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Qi,{})," ",w?"Saving...":"Save Items"]})]})]})}),(0,sr.jsx)("style",{children:'\n        .form-container {\n          background: white;\n          border-radius: 4px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          padding: 16px;\n          margin: 16px;\n        }\n\n        /* Tab Navigation Styles */\n        .tab-navigation {\n          display: flex;\n          gap: 8px;\n          border-bottom: 2px solid #e8eaed;\n          margin-bottom: 0;\n          background: transparent;\n          padding: 0;\n          margin-top: 20px;\n        }\n\n        .tab-buttons {\n          display: flex;\n          gap: 8px;\n          border-bottom: 2px solid #e8eaed;\n          margin-bottom: 0;\n          background: transparent;\n          padding: 0;\n        }\n\n        .tab-button {\n          padding: 8px 16px;\n          background: #f8f9fa;\n          border: 1px solid #e8eaed;\n          border-bottom: none;\n          cursor: pointer;\n          font-size: 13px;\n          font-weight: 600;\n          color: #5f6368;\n          transition: all 0.2s ease;\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          position: relative;\n          border-radius: 6px 6px 0 0;\n          white-space: nowrap;\n        }\n\n        .tab-button:hover {\n          background: #e8f0fe;\n          color: #1a73e8;\n        }\n\n        .tab-button.active {\n          background: white;\n          color: #1a73e8;\n          border-bottom: 2px solid white;\n          margin-bottom: -2px;\n          font-weight: 700;\n        }\n\n        /* Credit Apply Styles */\n        .credit-apply-container {\n          padding: 0;\n          background: transparent;\n          margin-bottom: 20px;\n        }\n\n        .credit-header {\n          margin-bottom: 24px;\n          padding: 20px;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n          border-radius: 8px;\n        }\n\n        .credit-header h3 {\n          margin: 0 0 8px 0;\n          font-size: 20px;\n          font-weight: 600;\n        }\n\n        .credit-description {\n          margin: 0;\n          opacity: 0.9;\n          font-size: 14px;\n          line-height: 1.4;\n        }\n\n        .credit-summary-card {\n          background: white;\n          border-radius: 12px;\n          box-shadow: 0 4px 20px rgba(0,0,0,0.08);\n          margin-bottom: 24px;\n          overflow: hidden;\n          border: 1px solid #e8e8e8;\n        }\n\n        .summary-row {\n          display: flex;\n          align-items: center;\n          padding: 24px;\n          background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);\n        }\n\n        .summary-item {\n          flex: 1;\n          text-align: center;\n          padding: 0 16px;\n        }\n\n        .summary-label {\n          display: block;\n          font-size: 11px;\n          font-weight: 600;\n          color: #64748b;\n          margin-bottom: 8px;\n          text-transform: uppercase;\n          letter-spacing: 0.8px;\n        }\n\n        .summary-value {\n          font-size: 28px;\n          font-weight: 700;\n          margin: 0;\n          font-family: \'Segoe UI\', system-ui, sans-serif;\n        }\n\n        .credit-amount {\n          color: #3b82f6;\n          text-shadow: 0 1px 2px rgba(59, 130, 246, 0.1);\n        }\n\n        .applied-amount {\n          color: #10b981;\n          text-shadow: 0 1px 2px rgba(16, 185, 129, 0.1);\n        }\n\n        .remaining-amount {\n          color: #f59e0b;\n          text-shadow: 0 1px 2px rgba(245, 158, 11, 0.1);\n        }\n\n        .summary-divider {\n          width: 1px;\n          height: 50px;\n          background: linear-gradient(to bottom, transparent, #cbd5e1, transparent);\n          margin: 0 20px;\n        }\n\n        .credit-actions {\n          margin-bottom: 24px;\n          text-align: right;\n        }\n        \n        .credit-actions .k-button {\n          background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);\n          border: none;\n          color: white;\n          font-weight: 500;\n          padding: 12px 24px;\n          border-radius: 8px;\n          transition: all 0.2s ease;\n          box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);\n        }\n        \n        .credit-actions .k-button:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 16px rgba(99, 102, 241, 0.4);\n        }  justify-content: flex-end;\n        }\n\n        .credit-application-table {\n          background: white;\n          border-radius: 12px;\n          box-shadow: 0 4px 20px rgba(0,0,0,0.08);\n          overflow: hidden;\n          border: 1px solid #e8e8e8;\n        }\n\n        .table-header {\n          display: flex;\n          justify-content: space-between;\n{{ ... }}\n\n        .modern-table {\n          width: 100%;\n          border-collapse: collapse;\n          font-size: 14px;\n          font-family: \'Segoe UI\', system-ui, sans-serif;\n        }\n\n        .modern-table th {\n          background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);\n          padding: 18px 16px;\n          text-align: left;\n          font-weight: 600;\n          color: #334155;\n          border-bottom: 2px solid #cbd5e1;\n          font-size: 12px;\n          text-transform: uppercase;\n          letter-spacing: 0.8px;\n        }\n\n        .modern-table td {\n          padding: 16px;\n          border-bottom: 1px solid #f1f5f9;\n          vertical-align: middle;\n          transition: background-color 0.15s ease;\n        }\n\n        .modern-table tr:hover {\n          background-color: #f8fafc;\n        }\n\n        .modern-table tr.selected {\n          background-color: #eff6ff;\n          border-left: 4px solid #3b82f6;\n        }\n\n        .modern-table tbody tr.selected-row {\n          background: #e3f2fd;\n        }\n{{ ... }}\n        .credit-input {\n          text-align: right;\n        }\n\n        .type-badge {\n          display: inline-block;\n          padding: 6px 14px;\n          border-radius: 24px;\n          font-size: 11px;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.6px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n\n        .type-badge.invoice {\n          background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n          color: white;\n          border: 1px solid rgba(16, 185, 129, 0.3);\n        }\n\n        .type-badge.debit-memo {\n          background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);\n          color: white;\n          border: 1px solid rgba(245, 158, 11, 0.3);\n        }\n\n        .no-data-message {\n          text-align: center;\n          padding: 40px;\n{{ ... }}\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .error-message, .no-data-message {\n          text-align: center;\n          padding: 48px 40px;\n          color: #64748b;\n          background: linear-gradient(135deg, #fef2f2 0%, #fdf2f8 100%);\n          border-radius: 12px;\n          margin: 20px 0;\n          border: 1px solid #fecaca;\n        }\n        \n        .no-data-message {\n          background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n          border: 1px solid #bae6fd;\n        }#ffcdd2;\n        }\n\n        .form-header {\n          margin-bottom: 16px;\n          display: flex;\n{{ ... }}\n\n        .loading-indicator {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          .loading-indicator {\n          text-align: center;\n          padding: 60px 40px;\n          color: #64748b;\n          background: #f8fafc;\n          border-radius: 12px;\n          margin: 20px 0;\n        }\n\n        .spinner {\n          border: 3px solid #e2e8f0;\n          border-top: 3px solid #3b82f6;\n          border-radius: 50%;\n          width: 36px;\n          height: 36px;\n          animation: spin 1s linear infinite;\n          margin: 0 auto 20px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n{{ ... }}\n        }\n\n        .k-form-error {\n          color: #e53e3e;\n          font-size: 12px;\n          margin-top: 4px;\n        }\n\n        /* Grid specific styles for consistent field sizing */\n        .k-grid td {\n          padding: 0 !important;\n        }\n\n        .k-grid .k-textbox,\n        .k-grid .k-dropdownlist,\n        .k-grid input[type="number"] {\n          height: 32px !important;\n          font-size: 13px !important;\n          padding: 4px 8px !important;\n          border: 1px solid #e2e8f0 !important;\n          border-radius: 3px !important;\n          width: 100% !important;\n          box-sizing: border-box !important;\n        }\n\n        .k-grid .k-dropdownlist .k-input {\n          height: 30px !important;\n          padding: 4px 8px !important;\n          font-size: 13px !important;\n          line-height: 1.4 !important;\n        }\n\n        /* Hide number input spinners */\n        .k-grid input[type="number"]::-webkit-outer-spin-button,\n        .k-grid input[type="number"]::-webkit-inner-spin-button {\n          -webkit-appearance: none !important;\n          margin: 0 !important;\n        }\n\n        .k-grid input[type="number"] {\n          -moz-appearance: textfield !important;\n        }\n\n        /* Transaction Items Grid Styles - Based on FormCreator.js */\n        .transaction-items-grid-container {\n          background: white;\n          border-radius: 8px;\n          border: 1px solid #e2e8f0;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          overflow-x: auto !important;\n          overflow-y: visible !important;\n          margin-bottom: 16px;\n          width: 100% !important;\n          max-width: 100% !important;\n          -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */\n          display: block !important;\n        }\n\n        .transaction-items-grid {\n          border: none !important;\n          border-radius: 0 !important;\n          margin-bottom: 0 !important;\n          min-width: 900px !important;\n          width: auto !important;\n        }\n\n        /* Remove fixed width constraints for responsive design */\n        .transaction-items-grid {\n          width: 100% !important;\n          min-width: unset !important;\n        }\n\n        .transaction-items-grid .k-grid-header {\n          background: #f8fafc !important;\n          border-bottom: 2px solid #e2e8f0 !important;\n        }\n\n        .transaction-items-grid .k-grid-header th {\n          font-weight: 600 !important;\n          color: #4a5568 !important;\n          text-transform: uppercase !important;\n          font-size: 11px !important;\n          letter-spacing: 0.5px !important;\n          padding: 12px 8px !important;\n          text-align: left !important;\n        }\n\n        .transaction-items-grid .k-grid-header th:last-child {\n          text-align: center !important;\n        }\n\n        .transaction-items-grid td {\n          padding: 8px !important;\n          border-bottom: 1px solid #f0f0f0 !important;\n          vertical-align: middle !important;\n        }\n\n        .transaction-items-grid td:last-child {\n          text-align: center !important;\n        }\n\n        .transaction-items-grid .k-grid-content tr:hover {\n          background-color: #f7fafc !important;\n        }\n\n        /* Responsive Grid Layout */\n        .transaction-items-grid .k-grid-table {\n          width: 100% !important;\n        }\n\n        /* Responsive Grid Layout */\n        .transaction-items-grid .k-grid-table {\n          width: 100% !important;\n        }\n\n        /* Responsive container behavior */\n        .transaction-items-grid-container {\n          overflow-x: auto !important;\n          overflow-y: visible !important;\n        }\n\n        /* Always show horizontal scroll on mobile */\n        @media (max-width: 768px) {\n          .transaction-items-grid-container {\n            overflow-x: scroll !important;\n            overflow-y: visible !important;\n            -webkit-overflow-scrolling: touch !important;\n            scrollbar-width: auto !important;\n          }\n          \n          .transaction-items-grid {\n            min-width: 1200px !important;\n            width: 1200px !important;\n          }\n          \n          .transaction-items-grid .k-grid-table {\n            min-width: 1200px !important;\n            width: 1200px !important;\n            table-layout: fixed !important;\n          }\n          \n          /* Set specific column widths to ensure overflow */\n          .transaction-items-grid .k-grid-header th:nth-child(1),\n          .transaction-items-grid td:nth-child(1) {\n            width: 200px !important;\n            min-width: 200px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(2),\n          .transaction-items-grid td:nth-child(2) {\n            width: 100px !important;\n            min-width: 100px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(3),\n          .transaction-items-grid td:nth-child(3) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(4),\n          .transaction-items-grid td:nth-child(4) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(5),\n          .transaction-items-grid td:nth-child(5) {\n            width: 150px !important;\n            min-width: 150px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(6),\n          .transaction-items-grid td:nth-child(6) {\n            width: 100px !important;\n            min-width: 100px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(7),\n          .transaction-items-grid td:nth-child(7) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(8),\n          .transaction-items-grid td:nth-child(8) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(9),\n          .transaction-items-grid td:nth-child(9) {\n            width: 150px !important;\n            min-width: 150px !important;\n          }\n        }\n\n        /* Horizontal scroll indicator for mobile */\n        .transaction-items-grid-container::after {\n          content: \'\';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 20px;\n          height: 100%;\n          background: linear-gradient(to left, rgba(255,255,255,0.8), transparent);\n          pointer-events: none;\n          opacity: 0;\n          transition: opacity 0.3s ease;\n        }\n\n        /* Form container responsive fixes */\n        body, html {\n          overflow-x: hidden;\n        }\n\n        .form-container, .master-form-container {\n          max-width: 100vw;\n          overflow-x: hidden;  \n          box-sizing: border-box;\n        }\n\n        .master-form-content {\n          max-width: 100%;\n          overflow-x: hidden;\n        }\n\n        @media (max-width: 768px) {\n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .order-items-field {\n            grid-column: span 1;\n          }\n\n          .form-container {\n            margin: 12px;\n            padding: 12px;\n          }\n\n          .transaction-items-grid-container {\n            margin: 0 -16px;\n            border-radius: 0;\n            border-left: none;\n            border-right: none;\n            position: relative;\n            /* Enhanced horizontal scrolling */\n            overflow-x: auto;\n            overflow-y: visible;\n            -webkit-overflow-scrolling: touch;\n            scrollbar-width: thin;\n            scrollbar-color: #cbd5e0 #f7fafc;\n          }\n\n          /* Custom scrollbar for webkit browsers */\n          .transaction-items-grid-container::-webkit-scrollbar {\n            height: 6px;\n          }\n\n          .transaction-items-grid-container::-webkit-scrollbar-track {\n            background: #f7fafc;\n            border-radius: 3px;\n          }\n\n          .transaction-items-grid-container::-webkit-scrollbar-thumb {\n            background: #cbd5e0;\n            border-radius: 3px;\n          }\n\n          .transaction-items-grid-container::-webkit-scrollbar-thumb:hover {\n            background: #a0aec0;\n          }\n\n          /* Show scroll indicator when content overflows */\n          .transaction-items-grid-container::after {\n            opacity: 1;\n          }\n\n          .transaction-items-grid .k-grid-table {\n            min-width: 800px; /* Ensure all columns are visible with horizontal scroll */\n          }\n\n          /* Add padding to prevent content cutoff */\n          .transaction-items-grid .k-grid-header th:first-child,\n          .transaction-items-grid td:first-child {\n            padding-left: 12px !important;\n          }\n\n          .transaction-items-grid .k-grid-header th:last-child,\n          .transaction-items-grid td:last-child {\n            padding-right: 12px !important;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .transaction-items-grid-container {\n            margin: 0 -12px;\n          }\n\n          .transaction-items-grid .k-grid-table {\n            min-width: 700px; /* Slightly smaller for very small screens */\n          }\n\n          /* Compress column widths for mobile */\n          .transaction-items-grid .k-grid-header th,\n          .transaction-items-grid td {\n            padding: 6px 4px !important;\n            font-size: 12px !important;\n          }\n\n          .transaction-items-grid .k-textbox,\n          .transaction-items-grid .k-dropdownlist,\n          .transaction-items-grid input[type="number"] {\n            height: 28px !important;\n            font-size: 12px !important;\n            padding: 2px 6px !important;\n          }\n        }\n      '})]})}),Wj=Gj,Kj=["validationMessage","touched","label"];if("undefined"!==typeof document&&!document.getElementById("sales-form-tab-styles")){const e=document.createElement("style");e.id="sales-form-tab-styles",e.textContent="\n  .sales-tabs {\n    display: flex;\n    gap: 8px;\n    border-bottom: 2px solid #e8eaed;\n    margin-bottom: 0;\n    background: transparent;\n    padding: 0;\n  }\n\n  .sales-tab {\n    padding: 8px 16px;\n    background: #f8f9fa;\n    border: 1px solid #e8eaed;\n    border-bottom: none;\n    cursor: pointer;\n    font-size: 13px;\n    font-weight: 600;\n    color: #5f6368;\n    transition: all 0.2s ease;\n    display: inline-flex;\n    align-items: center;\n    gap: 6px;\n    position: relative;\n    border-radius: 6px 6px 0 0;\n    white-space: nowrap;\n  }\n\n  .sales-tab:hover {\n    background: #e8f0fe;\n    color: #1a73e8;\n  }\n\n  .sales-tab.active {\n    background: white;\n    color: #1a73e8;\n    border-bottom: 2px solid white;\n    margin-bottom: -2px;\n    font-weight: 700;\n  }\n\n  .sales-tab svg {\n    font-size: 14px;\n  }\n\n  .sales-tab:nth-child(1) svg {\n    color: #4285f4;\n  }\n\n  .sales-tab:nth-child(1).active svg {\n    color: #4285f4;\n  }\n\n  .sales-tab:nth-child(2) svg {\n    color: #ea4335;\n  }\n\n  .sales-tab:nth-child(2).active svg {\n    color: #ea4335;\n  }\n\n  .sales-tab:nth-child(3) svg {\n    color: #34a853;\n  }\n\n  .sales-tab:nth-child(3).active svg {\n    color: #34a853;\n  }\n\n  .sales-tab-content {\n    background: white;\n    border: 1px solid #e8eaed;\n    border-top: none;\n    padding: 0;\n    min-height: 300px;\n  }\n  \n  .transactions-section {\n    padding: 24px;\n    background: linear-gradient(135deg, #fafbfc 0%, #ffffff 100%);\n    border-radius: 0;\n    margin: 0;\n    min-height: 300px;\n  }\n\n  .transactions-header {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    margin-bottom: 16px;\n    padding-bottom: 12px;\n    border-bottom: 2px solid #f1f3f4;\n  }\n\n  .transactions-header h3 {\n    margin: 0;\n    color: #202124;\n    font-size: 16px;\n    font-weight: 600;\n  }\n\n  .transactions-icon {\n    color: #1a73e8;\n    font-size: 16px;\n  }\n\n  .transactions-table {\n    width: 100%;\n    border-collapse: separate;\n    border-spacing: 0;\n    margin-top: 0;\n    border-radius: 8px;\n    overflow: hidden;\n    box-shadow: 0 1px 8px rgba(0,0,0,0.06);\n    border: 1px solid #e8eaed;\n    background: white;\n  }\n\n  .transactions-table th {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e8eaed 100%);\n    color: #5f6368;\n    padding: 10px 16px;\n    text-align: left;\n    font-weight: 600;\n    font-size: 12px;\n    text-transform: uppercase;\n    letter-spacing: 0.3px;\n    position: relative;\n    border: none;\n    border-bottom: 2px solid #e8eaed;\n  }\n\n  .transactions-table th:first-child {\n    border-radius: 8px 0 0 0;\n  }\n\n  .transactions-table th:last-child {\n    border-radius: 0 8px 0 0;\n  }\n\n  .transactions-table td {\n    padding: 12px 16px;\n    border-bottom: 1px solid #f1f3f4;\n    font-size: 13px;\n    color: #202124;\n    font-weight: 400;\n    position: relative;\n    vertical-align: middle;\n  }\n  \n  .transactions-table tbody tr {\n    transition: all 0.3s ease;\n    background: white;\n  }\n  \n  .transactions-table tbody tr:nth-child(even) {\n    background: #fafbfc;\n  }\n  \n  .transactions-table tbody tr:hover {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e8f0fe 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 8px rgba(26,115,232,0.12);\n  }\n  \n  .transactions-table tbody tr:hover td {\n    color: #1a73e8;\n  }\n  \n  .transactions-table tbody tr:last-child td {\n    border-bottom: none;\n  }\n  \n  .transactions-table tbody tr:last-child td:first-child {\n    border-radius: 0 0 0 8px;\n  }\n\n  .transactions-table tbody tr:last-child td:last-child {\n    border-radius: 0 0 8px 0;\n  }\n  \n  .view-link {\n    display: inline-flex;\n    align-items: center;\n    gap: 8px;\n    padding: 10px 16px;\n    background: linear-gradient(135deg, #1a73e8 0%, #4285f4 100%);\n    color: white;\n    text-decoration: none;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    box-shadow: 0 2px 4px rgba(26,115,232,0.2);\n    border: none;\n  }\n  \n  .view-link:hover {\n    background: linear-gradient(135deg, #1557b0 0%, #1a73e8 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px rgba(26,115,232,0.3);\n    color: white;\n    text-decoration: none;\n  }\n  \n  .payment-amount {\n    font-weight: 600;\n    color: #137333;\n    font-size: 13px;\n    display: flex;\n    align-items: center;\n    gap: 4px;\n  }\n\n  .payment-amount::before {\n    font-size: 12px;\n    color: #5f6368;\n  }\n  \n  .payment-id {\n    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;\n    background: #f8f9fa;\n    padding: 6px 10px;\n    border-radius: 6px;\n    font-size: 12px;\n    color: #5f6368;\n    border: 1px solid #e8eaed;\n    font-weight: 500;\n  }\n  \n  .empty-state {\n    text-align: center;\n    padding: 40px 20px;\n    color: #5f6368;\n  }\n\n  .empty-state-icon {\n    font-size: 36px;\n    color: #dadce0;\n    margin-bottom: 12px;\n  }\n\n  .empty-state-text {\n    font-size: 14px;\n    font-weight: 400;\n    margin: 0;\n  }\n",document.head.appendChild(e)}const Yj=e=>{const t={};return Object.keys(e).forEach(n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)}),t},Xj=o.memo(e=>{var t,n,i;let{recordType:r,mode:a="new"}=e;const l=ve(),{id:c}=ye(),{loading:d,error:u,fetchFormConfiguration:h}=cy(),m=vy(),f=yy(),g=xy(),v=by(),y=wy(),x=ky(),{createOrUpdateInventoryDetail:b,validateInventoryAvailability:w,processItemFulfillment:k,checkInventoryDetailExists:C,setInventoryQuantity:S}=Ry(),I="SalesOrder"===r?m:"ItemFulfillment"===r?f:"Invoice"===r?g:"CreditMemo"===r?v:"DebitMemo"===r?y:null,[E,j]=(0,o.useState)({show:!1,message:"",type:"success"}),[A,_]=(0,o.useState)(!1),[D,N]=(0,o.useState)(!1),[T,P]=(0,o.useState)(null),[M,O]=(0,o.useState)(null),[R,L]=(0,o.useState)({}),[F,z]=(0,o.useState)({}),[B,V]=(0,o.useState)([]),[H,q]=(0,o.useState)({}),[U,G]=(0,o.useState)({}),[W,K]=(0,o.useState)({}),[Y,X]=(0,o.useState)(null),[J,Q]=(0,o.useState)([]),[Z,$]=(0,o.useState)(null),[ee,te]=(0,o.useState)(!1),[ne,oe]=(0,o.useState)(0),[ie,re]=(0,o.useState)({creditAmount:"",invoices:[],appliedTo:0,unapplied:0}),[ae,se]=(0,o.useState)("items"),[le,ce]=(0,o.useState)([]),[de,ue]=(0,o.useState)(!1),[pe,he]=(0,o.useState)([]),[me,fe]=(0,o.useState)(!1),ge=o.useRef(null),xe="b2dae51c-12b6-4a90-adfd-4e2345026b70",be="5e3f19d1-f615-4954-88cb-30975d52b8cd",we={SalesOrder:"/sales-order",ItemFulfillment:"/item-fulfillment",Invoice:"/invoice",CreditMemo:"/credit-memo",DebitMemo:"/debit-memo"},ke=(0,o.useCallback)(async(e,t)=>{try{const n=await fetch("".concat(pr.baseURL).concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}},[]),Ce=(0,o.useCallback)(async e=>{try{const t=await fetch("".concat(pr.baseURL,"/record-type"),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e});if(!t.ok)throw new Error("Failed to fetch record types: ".concat(t.status));return await t.json()||[]}catch(t){return t.name,[]}},[]),Se=(0,o.useCallback)(async e=>{if(!e||!["Invoice","DebitMemo"].includes(r))return[];try{ue(!0);const[t,n]=await Promise.all([fetch("".concat(pr.baseURL,"/customer-payment-line/by-record-id/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(pr.baseURL,"/credit-memo-payment-line/by-record-id/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let o=[];if(t.ok){const e=await t.json();o=Array.isArray(e)?e.map(e=>p(p({},e),{},{transactionType:"Customer Payment"})):[]}else 404!==t.status&&console.warn("Failed to fetch customer payment lines: ".concat(t.status));let i=[];if(n.ok){const e=await n.json();i=Array.isArray(e)?e.map(e=>p(p({},e),{},{transactionType:"Credit Memo"})):[]}else 404!==n.status&&console.warn("Failed to fetch credit memo payment lines: ".concat(n.status));const r=[...o,...i];return r.sort((e,t)=>e.createdAt&&t.createdAt?new Date(t.createdAt)-new Date(e.createdAt):(t.id||"").localeCompare(e.id||"")),r}catch(t){return console.error("Error fetching transactions:",t),[]}finally{ue(!1)}},[r]),Ie=(0,o.useCallback)(async e=>{if(!e||"SalesOrder"===r)return[];try{fe(!0);const t=await fetch("".concat(pr.baseURL,"/journal-entry-line/by-record-id/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=await t.json();return Array.isArray(e)?e:[]}return 404!==t.status&&console.warn("Failed to fetch GL Impact data: ".concat(t.status)),[]}catch(t){return console.error("Error fetching GL Impact data:",t),[]}finally{fe(!1)}},[r]),Ee=async e=>{try{const t=await fetch("".concat(pr.baseURL,"/custom-form-field/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch custom form fields: ".concat(t.status));const n=await t.json(),o=(Array.isArray(n)?n:[]).sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0)),i={},r=o.filter(e=>["DropDownList","MultiSelect"].includes(e.fieldTypeName)&&e.fieldSource);for(const e of r){const t=await ke(e.fieldSource);i["custom_".concat(e.fieldName)]=t}return Object.keys(i).length>0&&z(e=>p(p({},e),i)),o}catch(t){return De("Failed to load custom form fields: ".concat(t.message),"error"),[]}},je=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{if(!t)return{};const o=await fetch("".concat(pr.baseURL,"/custom-field-value/by-type-and-record?typeOfRecord=").concat(t,"&recordId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return{};const i=await o.json(),r={},a={},s={};return n.forEach(e=>{s[e.fieldName]=e.fieldTypeName}),Array.isArray(i)&&i.forEach(e=>{if(e.customFieldName&&void 0!==e.valueText&&null!==e.valueText){const n=s[e.customFieldName];let o=e.valueText;switch(n){case"DatePicker":case"Date":if("string"===typeof o&&""!==o.trim()){const e=new Date(o);o=isNaN(e.getTime())?null:e}break;case"NumericTextBox":case"Number":if("string"===typeof o&&""!==o.trim()){const e=parseFloat(o);o=isNaN(e)?0:e}break;case"Checkbox":case"Switch":"string"===typeof o&&(o="true"===o.toLowerCase()||"1"===o);break;case"MultiSelect":if("string"===typeof o&&""!==o.trim())try{const e=JSON.parse(o);o=Array.isArray(e)?e:[o]}catch(t){o=[o]}}r[e.customFieldName]=o,a[e.customFieldName]=e.id}}),{customData:r,customFieldIds:a}}catch(o){return{customData:{},customFieldIds:{}}}},Ae=e=>{const t={};return e.forEach(e=>{switch(e.fieldTypeName){case"Checkbox":case"Switch":t[e.name]=!1;break;case"Number":case"NumericTextBox":t[e.name]=0;break;case"Date":case"DropDownList":t[e.name]=null;break;default:t[e.name]=""}}),t};(0,o.useEffect)(()=>{let e=!0;return(async()=>{if(e)try{N(!0),P(null),te(!1),V([]),q({}),G({}),K({}),X(null);const l=await Ce();if(!e)return;Q(l);const d=await h(r);if(!e)return;O(d);const u=d.standardFields.filter(e=>"DropDownList"===e.fieldTypeName&&e.source),m=Te(d,l,r),f=u.map(async e=>{let t;if("form"===e.name&&m)try{const e=await fetch("".concat(pr.baseURL,"/form/by-type-of-record/").concat(m),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch forms for record type: ".concat(e.status));t=await e.json(),t=Array.isArray(t)?t:t.results||t.data||[]}catch(n){t=[]}else t=await ke(e.source);return{name:e.name,data:t}}),g=await Promise.all(f);if(!e)return;const v=g.reduce((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e},{});x.data&&x.data.length>0&&(v.status=x.data),z(v);const y=Ae(d.standardFields);if("new"===a){if(d.standardFields.forEach(e=>{("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date")||"soDate"===e.name||"invoiceDate"===e.name||"deliveryDate"===e.name)&&(y[e.name]=new Date)}),"ItemFulfillment"===r){console.log("[SalesForm] Checking for salesOrderDataForFulfillment in sessionStorage...");const e=sessionStorage.getItem("salesOrderDataForFulfillment");if(console.log("[SalesForm] SessionStorage data found:",!!e),e)try{var t;const n=JSON.parse(e);if(console.log("[SalesForm] Parsed salesOrderData:",n),n.form){y.form=n.form;try{const[e,t]=await Promise.all([fetch("".concat(pr.baseURL,"/form/").concat(n.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(pr.baseURL,"/form-sequence/by-form/").concat(n.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);if(e.ok&&t.ok){const[n,o]=await Promise.all([e.text().then(e=>e.trim()?JSON.parse(e):{}),t.text().then(e=>e.trim()?JSON.parse(e):[])]),i=Array.isArray(o)&&o.length>0?o[0]:{formSequenceNumber:0},r=n.prefix||"",a=(i.formSequenceNumber||0)+1,s="".concat(r).concat(String(a).padStart(4,"0"));y.sequenceNumber=s}}catch(T){console.error("Error generating sequence number for fulfill:",T)}Ve(n.form)}n.soid&&(y.soid=n.soid),n.customerID&&(y.customerID=n.customerID),n.locationID&&(y.locationID=n.locationID,$(n.locationID)),n.deliveryDate&&(y.deliveryDate=new Date(n.deliveryDate)),n.discount&&(y.discount=n.discount),n.totalAmount&&(y.totalAmount=n.totalAmount);const o=(null===(t=n.items)||void 0===t?void 0:t.results)||n.items||[];o&&o.length>0&&(console.log("[SalesForm] Setting items from sessionStorage:",o),y.items=o.map(e=>p(p({},e),{},{quantityDelivered:e.quantity||0,quantity:e.quantity||0})),console.log("[SalesForm] Mapped items for ItemFulfillment:",y.items))}catch(T){console.error("Error parsing SalesOrder data for fulfillment:",T),sessionStorage.removeItem("salesOrderDataForFulfillment")}}if("Invoice"===r){console.log("[SalesForm] Checking for itemFulfillmentDataForBilling in sessionStorage...");const e=sessionStorage.getItem("itemFulfillmentDataForBilling");if(console.log("[SalesForm] SessionStorage data found:",!!e),e)try{var n;const t=JSON.parse(e);if(console.log("[SalesForm] Parsed itemFulfillmentData:",t),t.form){y.form=t.form;try{const[e,n]=await Promise.all([fetch("".concat(pr.baseURL,"/form/").concat(t.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(pr.baseURL,"/form-sequence/by-form/").concat(t.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);if(e.ok&&n.ok){const[t,o]=await Promise.all([e.text().then(e=>e.trim()?JSON.parse(e):{}),n.text().then(e=>e.trim()?JSON.parse(e):[])]),i=Array.isArray(o)&&o.length>0?o[0]:{formSequenceNumber:0},r=t.prefix||"",a=(i.formSequenceNumber||0)+1,s="".concat(r).concat(String(a).padStart(4,"0"));y.sequenceNumber=s}}catch(T){console.error("Error generating sequence number for bill:",T)}Ve(t.form)}t.dnid&&(y.dnid=t.dnid),t.customerID&&(y.customerID=t.customerID),t.locationID&&(y.locationID=t.locationID,$(t.locationID)),t.deliveryDate&&(y.invoiceDate=new Date(t.deliveryDate)),t.discount&&(y.discount=t.discount),t.totalAmount&&(y.totalAmount=t.totalAmount);const o=(null===(n=t.items)||void 0===n?void 0:n.results)||t.items||[];o&&o.length>0&&(console.log("[SalesForm] Setting items from sessionStorage for Invoice:",o),y.items=o.map(e=>p(p({},e),{},{quantityInvoiced:e.quantity||0,quantityDelivered:e.quantity||0})),console.log("[SalesForm] Mapped items for Invoice:",y.items))}catch(T){console.error("Error parsing ItemFulfillment data for billing:",T),sessionStorage.removeItem("itemFulfillmentDataForBilling")}}}if("new"!==a&&c)try{var o;let t;switch(r){case"SalesOrder":null!==I&&void 0!==I&&I.fetchSalesOrderById&&(t=await I.fetchSalesOrderById(c));break;case"ItemFulfillment":null!==I&&void 0!==I&&I.fetchItemFulfillmentById&&(t=await I.fetchItemFulfillmentById(c));break;case"Invoice":null!==I&&void 0!==I&&I.fetchInvoiceById&&(t=await I.fetchInvoiceById(c));break;case"CreditMemo":null!==I&&void 0!==I&&I.fetchCreditMemoById&&(t=await I.fetchCreditMemoById(c));break;case"DebitMemo":null!==I&&void 0!==I&&I.fetchDebitMemoById&&(t=await I.fetchDebitMemoById(c));break;default:console.warn("No fetch method available for record type: ".concat(r)),t={}}if(!e)return;const n=(null===(o=t)||void 0===o?void 0:o.data)||t||{};if(n&&Object.keys(n).length>0){const t=p({},y);d.standardFields.forEach(e=>{if(void 0!==n[e.name]){let o=n[e.name];if(("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date"))&&o&&"string"===typeof o){const e=new Date(o);o=isNaN(e.getTime())?null:e}t[e.name]=o}});const o=d.standardFields.map(e=>e.name);Object.keys(n).forEach(e=>{void 0===n[e]||o.includes(e)||(t[e]=n[e])}),L(t),t.locationID&&$(t.locationID);try{let e=[],n="",o="";switch(r){case"SalesOrder":n="".concat(pr.baseURL,"/salesorderline/by-salesorder/").concat(c),o="soid";break;case"ItemFulfillment":n="".concat(pr.baseURL,"/item-fulfilment-line/by-item-fulfilment/").concat(c),o="dnid";break;case"Invoice":n="".concat(pr.baseURL,"/invoice-line/by-invoice/").concat(c),o="inid";break;case"CreditMemo":n="".concat(pr.baseURL,"/credit-memo-line/by-credit-memo/").concat(c),o="cmid";break;case"DebitMemo":n="".concat(pr.baseURL,"/debit-memo-line/by-debit-memo/").concat(c),o="debitMemoId"}if(n){const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(o.ok){const n=await o.json();if(Array.isArray(n))e=n;else if(n.results&&Array.isArray(n.results))e=n.results;else if(n.data&&Array.isArray(n.data))e=n.data;else if(n.salesOrderLines&&Array.isArray(n.salesOrderLines))e=n.salesOrderLines;else if(n.lines&&Array.isArray(n.lines))e=n.lines;else{const t=Object.values(n).filter(e=>Array.isArray(e));t.length>0&&(e=t[0])}if(e.length>0){let n=[];try{const e=await fetch("".concat(pr.baseURL,"/tax"),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json();n=t.results||t.data||t||[],n.length}}catch(i){console.warn("Failed to load tax data for calculations:",i)}const o=e.map(e=>{const t=parseFloat(e.quantity||e.quantityDelivered||0),o=parseFloat(e.rate||0),i=parseFloat(e.discountAmount||e.discount||0);let a=parseFloat(e.taxPercent||0);if(0===a&&e.taxID&&n.length>0){const t=n.find(t=>t.id===e.taxID);t&&(a=parseFloat(t.taxPercent||t.percentage||t.rate||0))}const s=t*o-i,l=s*a/100,c=s+l;return p(p({},e),{},{quantity:"Invoice"===r?e.quantityDelivered:t,quantityDelivered:"Invoice"===r?t:e.quantityDelivered,rate:o,discountAmount:i,taxPercent:a,taxAmount:"Invoice"===r?l:e.taxAmount||l,taxRate:"Invoice"===r?e.taxRate||l:e.taxRate,totalAmount:c,amount:c})});t.items=o,L(p({},t))}}}}catch(s){}if(n.form)try{const t=await Ee(n.form);if(!e)return;if(V(t),X(n.form),t.length>0){const n=Ae(t.map(e=>p(p({},e),{},{name:e.fieldName}))),o=Te(d,l,r),{customData:i,customFieldIds:a}=await je(c,o,t);if(!e)return;G(a);const s=p(p({},n),i);q(s),K(s)}}catch(i){}if("view"===a&&["Invoice","DebitMemo"].includes(r))try{const t=await Se(c);if(!e)return;ce(t)}catch(i){console.error("Error loading transactions:",i),ce([])}if(("edit"===a||"view"===a)&&("ItemFulfillment"===r||"Invoice"===r||"DebitMemo"===r)||"view"===a&&"CreditMemo"===r)try{const t=await Ie(c);if(!e)return;he(t)}catch(i){console.error("Error loading GL Impact data:",i),he([])}else he([])}else console.warn("No data found for ".concat(r," with ID: ").concat(c)),L(y)}catch(T){console.error("Error fetching ".concat(r,":"),T),L(y)}else{if(!e)return;L(y)}if(!e)return;te(!0)}catch(i){if(!e)return;P(i.message),De(i.message,"error")}finally{if(!e)return;N(!1)}})(),()=>{e=!1}},[a,c,r,x.data]),(0,o.useEffect)(()=>()=>{ge.current&&(clearTimeout(ge.current),ge.current=null),V([]),q({}),G({}),K({}),X(null),L({}),te(!1),j({show:!1,message:"",type:"success"});const e=window.location.pathname;e.includes("/item-fulfillment/new")||e.includes("/invoice/new")||(sessionStorage.removeItem("salesOrderDataForFulfillment"),sessionStorage.removeItem("itemFulfillmentDataForBilling"))},[]),(0,o.useEffect)(()=>{const e=()=>{sessionStorage.removeItem("salesOrderDataForFulfillment"),sessionStorage.removeItem("itemFulfillmentDataForBilling")},t=()=>{document.hidden&&setTimeout(()=>{const e=window.location.pathname;e.includes("/item-fulfillment/new")||e.includes("/invoice/new")||(sessionStorage.removeItem("salesOrderDataForFulfillment"),sessionStorage.removeItem("itemFulfillmentDataForBilling"))},100)};return window.addEventListener("beforeunload",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("beforeunload",e),document.removeEventListener("visibilitychange",t)}},[]);const _e=(0,o.useMemo)(()=>{if(!ee)return{};if(0===Object.keys(H).length)return R;const e={};return Object.keys(H).forEach(t=>{e["custom_".concat(t)]=H[t]}),p(p({},R),e)},[R,H,ee]),De=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";ge.current&&clearTimeout(ge.current),j({show:!0,message:e,type:t}),ge.current=setTimeout(()=>{j({show:!1,message:"",type:"success"}),ge.current=null},4e3)},[]),Ne=(0,o.useCallback)(e=>{const t={};if("CreditMemo"===r)return t;if("ItemFulfillment"===r&&"new"===a){if(sessionStorage.getItem("salesOrderDataForFulfillment"))return t}if("Invoice"===r&&"new"===a){if(sessionStorage.getItem("itemFulfillmentDataForBilling"))return t}return null!==M&&void 0!==M&&M.standardFields?(M.standardFields.forEach(n=>{const o=e[n.name];!n.isMandatory||o&&""!==o||(t[n.name]="".concat(n.name.charAt(0).toUpperCase()+n.name.slice(1)," is required")),"email"===n.name&&o&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(t[n.name]="Please enter a valid email address"),"phone"===n.name&&o&&!/^\d{10}$/.test(o.replace(/\D/g,""))&&(t[n.name]="Phone number must be 10 digits")}),t):t},[M,r]),Te=(e,t,n)=>{if(null!==e&&void 0!==e&&e.recordTypeId)return e.recordTypeId;let o=t.find(e=>e.name===n);if(o)return o.id;if(o=t.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()}),o)return o.id;const i={Customer:["customer","customers"],Vendor:["vendor","vendors"],Product:["product","products"],ChartOfAccount:["chart-of-account","account","accounts"],Location:["location","locations"],Tax:["tax","taxes"]}[n]||[];for(const r of i)if(o=t.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===r.toLowerCase()}),o)return o.id;return null},Pe=()=>{if(null!==M&&void 0!==M&&M.recordTypeId)return M.recordTypeId;let e=J.find(e=>e.name===r);if(e)return e.id;if(e=J.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===r.toLowerCase()}),e)return e.id;const t={Customer:["customer","customers"],Vendor:["vendor","vendors"],Product:["product","products"],ChartOfAccount:["chart-of-account","account","accounts"],Location:["location","locations"],Tax:["tax","taxes"]}[r]||[];for(const n of t)if(e=J.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()}),e)return e.id;return null},Me=async(e,t)=>{try{if("ItemFulfillment"===e){const e=t.soid||t.salesOrderId;if(e){const t=await fetch("".concat(pr.baseURL,"/salesorderline/unfulfilled?SOID=").concat(e),{method:"GET",headers:pr.headers});if(console.log("[Status Update] Setting SalesOrder ".concat(e," status to Closed")),console.log("response",t),t.ok){var n;const o=await t.json();if(0===((null===(n=o.results)||void 0===n?void 0:n.length)||0)){const t=await fetch("".concat(pr.baseURL,"/sales-order/").concat(e),{method:"PUT",headers:pr.headers,body:JSON.stringify({status:xe})});t.ok?console.log("\u2705 SalesOrder ".concat(e," status updated to Closed")):console.warn("Failed to update SalesOrder ".concat(e," status:"),t.status)}}}}else if("Invoice"===e){const e=t.dnid||t.itemFulfillmentId;if(e){console.log("[Status Update] Checking if ItemFulfillment ".concat(e," is fully invoiced..."));const t=await fetch("".concat(pr.baseURL,"/item-fulfilment-line/unfulfilled?DNID=").concat(e),{method:"GET",headers:pr.headers});if(t.ok){var o;const n=await t.json();if(0===((null===(o=n.results)||void 0===o?void 0:o.length)||0)){const t=await fetch("".concat(pr.baseURL,"/item-fulfilment/").concat(e),{method:"PUT",headers:pr.headers,body:JSON.stringify({status:xe})});t.ok?console.log("\u2705 ItemFulfillment ".concat(e," status updated to Closed")):console.warn("Failed to update ItemFulfillment ".concat(e," status:"),t.status)}}}}}catch(T){console.error("[Status Update] Error updating parent record status:",T)}},Oe=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("ItemFulfillment"!==r)return;let o=R.soid||R.salesOrderId;if(!o&&e.length>0){const t=e[0];t&&(t.soid||t.salesOrderId)&&(o=t.soid||t.salesOrderId)}if(!o)try{const e=sessionStorage.getItem("salesOrderDataForFulfillment");if(e){const t=JSON.parse(e);t.soid&&(o=t.soid)}}catch(T){}if(!o){var i;const t=(null===(i=e[0])||void 0===i?void 0:i.fulfillmentId)||c;if(t)try{const e=await fetch("".concat(pr.baseURL,"/item-fulfilment/").concat(t),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json();o=t.soid||t.salesOrderId}}catch(T){}}if(o)try{const i=await fetch("".concat(pr.baseURL,"/salesorderline/by-salesorder/").concat(o),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!i.ok)throw new Error("Failed to fetch sales order lines");const r=await i.json(),a=Array.isArray(r)?r:r.results||Object.values(r).find(e=>Array.isArray(e))||[],s=new Map,l=new Map;e.forEach(e=>{const t=e.itemID||e.itemId,n=parseFloat(e.quantity||e.quantityDelivered||0);t&&n>0&&s.set(t,(s.get(t)||0)+n)}),t&&n.length>0&&n.forEach(e=>{const t=e.itemID||e.itemId,n=parseFloat(e.quantity||e.quantityDelivered||0);t&&n>0&&l.set(t,(l.get(t)||0)+n)});const c=a.map(async e=>{const n=e.itemID;if(!n)return;let i=e.fulFillQty||e.quantityFulfilled||0;if(t&&l.has(n)){i-=l.get(n)}if(s.has(n)){i+=s.get(n)}const r=e.quantity||0;i=Math.min(Math.max(0,i),r);const a={soid:o,itemID:e.itemID,quantity:e.quantity,rate:e.rate,discount:e.discount||0,taxID:e.taxID,taxPercent:e.taxPercent||0,taxAmount:e.taxAmount||0,taxRate:e.taxRate||0,amount:e.amount,fulFillQty:i};return fetch("".concat(pr.baseURL,"/salesorderline/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Yj(a))})});if(o&&t)try{console.log("[Status Update] Setting SalesOrder ".concat(o," status to Open"));const e=await fetch("".concat(pr.baseURL,"/sales-order/").concat(o),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:be})});e.ok?console.log("\u2705 SalesOrder ".concat(o," status updated to Open")):console.warn("Failed to update SalesOrder ".concat(o," status:"),e.status)}catch(T){console.error("Error updating SalesOrder ".concat(o," status:"),T)}const d=await Promise.all(c.filter(e=>e));d.filter(e=>!e.ok).length}catch(T){}},Re=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("Invoice"!==r)return;let o=R.dnid||R.itemFulfillmentId;if(!o&&e.length>0){const t=e[0];t&&(t.dnid||t.itemFulfillmentId)&&(o=t.dnid||t.itemFulfillmentId)}if(!o)try{const e=sessionStorage.getItem("itemFulfillmentDataForBilling");if(e){const t=JSON.parse(e);t.dnid&&(o=t.dnid)}}catch(T){console.error("Error parsing ItemFulfillment data from session storage:",T)}if(o)try{const i=await fetch("".concat(pr.baseURL,"/item-fulfilment-line/by-item-fulfilment/").concat(o),{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to fetch ItemFulfillmentLine records: ".concat(i.status));const r=(await i.json()).lines||[];if(0===r.length)return void console.warn("No ItemFulfillmentLine records found");const a=new Map;t&&n&&n.length>0&&n.forEach(e=>{if(e.itemID){const t=a.get(e.itemID)||0,n=e.quantityInvoiced||e.quantityDelivered||e.quantity||0;a.set(e.itemID,t-n)}}),e.forEach(e=>{if(e.itemID){const t=a.get(e.itemID)||0,n=e.quantityInvoiced||e.quantityDelivered||e.quantity||0;a.set(e.itemID,t+n)}});const s=r.map(e=>{const t=a.get(e.itemID)||0;if(0===t)return null;const n=e.invoicedQty||0,i=Math.max(0,n+t),r=e.quantity||0,s=Math.min(i,r),l={dnid:o,itemID:e.itemID,quantity:e.quantity,rate:e.rate,taxID:e.taxID,taxPercent:e.taxPercent||0,taxAmount:e.taxAmount||0,totalAmount:e.totalAmount,invoicedQty:s};return fetch("".concat(pr.baseURL,"/item-fulfilment-line/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Yj(l))})});if(o&&t)try{console.log("[Status Update] Setting ItemFulfillment ".concat(o," status to Open"));const e=await fetch("".concat(pr.baseURL,"/item-fulfilment/").concat(o),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:be})});e.ok?console.log("\u2705 ItemFulfillment ".concat(o," status updated to Open")):console.warn("Failed to update ItemFulfillment ".concat(o," status:"),e.status)}catch(T){console.error("Error updating ItemFulfillment ".concat(o," status:"),T)}const l=await Promise.all(s.filter(e=>e)),c=l.filter(e=>!e.ok);c.length>0&&console.warn("Failed to update ".concat(c.length," ItemFulfillmentLine records"))}catch(T){console.error("Error updating ItemFulfillmentLine quantities:",T)}else console.warn("No ItemFulfillment ID found for updating quantities")},Le=async(e,t)=>{const n={SalesOrder:{endpoint:"".concat(pr.baseURL,"/salesorderline"),idField:"soid",quantityField:"quantity"},ItemFulfillment:{endpoint:"".concat(pr.baseURL,"/item-fulfilment-line"),idField:"dnid",quantityField:"quantity"},Invoice:{endpoint:"".concat(pr.baseURL,"/invoice-line"),idField:"inid",quantityField:"quantityDelivered"},CreditMemo:{endpoint:"".concat(pr.baseURL,"/credit-memo-line"),idField:"cmid",quantityField:"quantity"},DebitMemo:{endpoint:"".concat(pr.baseURL,"/debit-memo-line"),idField:"debitMemoId",quantityField:"quantity"}}[r];if(!n)throw new Error("Unsupported record type: ".concat(r));const o=t.map(async(t,o)=>{var i,a;let s=t;const l=Number(s.quantity||s.quantityDelivered||0),c=Number(s.rate||0),d=Number(s.discountAmount||0),u=Number(s.taxPercent||0),p=l*c-d,h=p*u/100,m=p+h,f={[n.idField]:e,itemID:(null===(i=s.itemID)||void 0===i?void 0:i.value)||s.itemID,[n.quantityField]:l,rate:c,discountAmount:d,taxID:(null===(a=s.taxID)||void 0===a?void 0:a.value)||s.taxID,taxPercent:u,taxAmount:h,totalAmount:m};"ItemFulfillment"===r&&void 0!==s.fulfillmentAvgCost&&(f.fulfillmentAvgCost=Number(s.fulfillmentAvgCost));const g=await fetch(n.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Yj(f))});if(!g.ok){const e=await g.text();throw new Error("Failed to create line ".concat(o+1,": ").concat(g.status," - ").concat(e))}return await g.json()});if(await Promise.all(o),"ItemFulfillment"===r){const n=t.map(t=>p(p({},t),{},{fulfillmentId:e}));if(await Oe(n,!1,[]),Z){const n=(null===Z||void 0===Z?void 0:Z.value)||Z;for(const o of t)try{var i;const t=(null===(i=o.itemID)||void 0===i?void 0:i.value)||o.itemID,r=Number(o.quantity||0);if(t&&n&&0!==r){console.log("Processing ItemFulfillment for item ".concat(t," at location ").concat(n,": quantity ").concat(r));const o=await k({itemId:t,locationId:n,fulfillmentQty:r,mode:"create"});if(o&&o.cost&&void 0!==o.cost.oldAvgCost)try{const n=await fetch("".concat(pr.baseURL,"/item-fulfilment-line/by-dnid/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(n.ok){const e=await n.json(),i=(Array.isArray(e)?e:e.results||e.lines||[]).find(e=>e.itemID===t||e.itemId===t);i&&i.id&&(await fetch("".concat(pr.baseURL,"/item-fulfilment-line/").concat(i.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(p(p({},i),{},{fulfillmentAvgCost:o.cost.oldAvgCost}))}),console.log("\ud83d\udcdd Stored fulfillment avg cost ".concat(o.cost.oldAvgCost," for item ").concat(t)))}}catch(a){console.error("\u26a0\ufe0f Failed to store fulfillment avg cost for item ".concat(t,":"),a.message)}console.log("\u2705 Inventory and cost updated successfully for item ".concat(t))}}catch(s){console.error("\u274c Failed to update inventory for item ".concat(o.itemID,":"),s.message)}}}if("Invoice"===r){const n=t.map(t=>p(p({},t),{},{invoiceId:e}));await Re(n,!1,[])}},Fe=async(e,t,n)=>{if(!I)throw new Error("No hook available for record type: ".concat(r));let o=p(p({},e),{},{id:c,totalAmount:ne});try{switch(r){case"SalesOrder":if(!I.updateSalesOrder)throw new Error("updateSalesOrder method not available");await I.updateSalesOrder(c,o);break;case"ItemFulfillment":if(!I.updateItemFulfillment)throw new Error("updateItemFulfillment method not available");await I.updateItemFulfillment(c,o);break;case"Invoice":if(!I.updateInvoice)throw new Error("updateInvoice method not available");await I.updateInvoice(c,o);break;case"CreditMemo":if(!I.updateCreditMemo)throw new Error("updateCreditMemo method not available");await I.updateCreditMemo(c,o);break;case"DebitMemo":if(!I.updateDebitMemo)throw new Error("updateDebitMemo method not available");await I.updateDebitMemo(c,o);break;default:throw new Error("Unsupported record type: ".concat(r))}}catch(T){throw console.error("Error updating ".concat(r,":"),T),T}let i=0;if(Object.keys(t).length>0&&n){const e={};Object.entries(t).forEach(t=>{let[n,o]=t;W[n]!==o&&(e[n]=o)}),i=Object.keys(e).length,i>0&&await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o={};if(Object.entries(e).forEach(e=>{let[t,n]=e;W[t]!==n&&(o[t]=n)}),0===Object.keys(o).length)return;const i=Object.entries(o).map(async e=>{let[o,i]=e;const r=B.find(e=>e.fieldName===o),a=null===r||void 0===r?void 0:r.id,s=U[o],l={request:"update",typeOfRecord:n,valueText:String(i),customFieldID:a,recordID:t};let c;if(c=s?await fetch("".concat(pr.baseURL,"/custom-field-value/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Yj(l))}):await fetch("".concat(pr.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Yj(l))}),!c.ok)throw new Error("Failed to ".concat(s?"update":"create",' custom field "').concat(o,'": ').concat(c.status));return await c.json()});await Promise.all(i)})(t,c,n)}return i},ze=async e=>{if(console.log("handleSubmit called for:",r,"mode:",a,"formValues:",e),!e)return console.error("formValues is undefined, cannot proceed with submission"),void P("Form data is not available. Please refresh and try again.");try{N(!0),P(null);const{standardData:o,customData:i}=(e=>{const t={},n={};return Object.keys(e).forEach(o=>{const i=e[o],r=""===i?null:i;if(o.startsWith("custom_")){const e=o.replace("custom_","");n[e]=r}else t[o]=r}),{standardData:t,customData:n}})(e),s=Pe();if(console.log("Separated data:",{standardData:o,customData:i,typeOfRecordId:s}),"ItemFulfillment"===r&&e.items&&e.items.length>0){console.log("\ud83d\udd0d Validating inventory availability for ItemFulfillment...");const t=await w(e.items,Z);if(!t.isValid){const e=t.errors.map(e=>e.message).join("\n");return console.error("\u274c Inventory validation failed:",t.errors),alert("Inventory validation failed:\n\n".concat(e)),void N(!1)}console.log("\u2705 Inventory validation passed")}if("new"===a){var t;const n=await(async(e,t)=>{if(!I)throw new Error("No hook available for record type: ".concat(r));let n=p(p({},e),{},{totalAmount:ne});"CreditMemo"===r&&0==parseInt(e.unApplied)?n.status=xe:n.status=be;try{var o,i,a,s;let l,c=null;if("SalesOrder"!==r){const n=t.items||[];console.log("=== Validating JV Lines before record creation ===");const o=await Dy(n,e.form,ne,r);if(!o.isValid)return void alert(o.errorMessage);c=o.jvLines,console.log("\u2713 JV Lines validated successfully. All accounts are configured.")}switch(r){case"SalesOrder":if(!I.createSalesOrder)throw new Error("createSalesOrder method not available");l=await I.createSalesOrder(n);break;case"ItemFulfillment":if(!I.createItemFulfillment)throw new Error("createItemFulfillment method not available");l=await I.createItemFulfillment(n);break;case"Invoice":if(!I.createInvoice)throw new Error("createInvoice method not available");n.amountDue=ne,l=await I.createInvoice(n);break;case"CreditMemo":if(!I.createCreditMemo)throw new Error("createCreditMemo method not available");l=await I.createCreditMemo(n);break;case"DebitMemo":if(!I.createDebitMemo)throw new Error("createDebitMemo method not available");n.amountDue=ne,l=await I.createDebitMemo(n);break;default:throw new Error("Unsupported record type: ".concat(r))}let d=null;if(null!==(o=l)&&void 0!==o&&o.id)d=l.id;else if(null!==(i=l)&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&a.id)d=l.data.id;else if("string"===typeof l)d=l;else{const e=Object.keys(l||{}).filter(e=>e.toLowerCase().includes("id"));e.length>0&&(d=l[e[0]])}if(!d)throw new Error("".concat(r," header created but no ID returned. Response: ").concat(JSON.stringify(l)));const u=t.items||[];if(u.length>0&&await Le(d,u),"CreditMemo"===r&&ie&&(null===(s=ie.invoices)||void 0===s?void 0:s.length)>0){const t=ie.invoices.filter(e=>e.checked)||[];t.length>0&&(await Ge(d,e.sequenceNumber,t),await We(ie,"new"))}if("SalesOrder"!==r&&c){const e=c.map(e=>p(p({},e),{},{recordId:d,recordType:r,id:null}));console.log("Processing validated JV lines with recordId:",d),await _y(e,"new",d,r)}else"SalesOrder"===r&&console.log("Skipping JV line processing for SalesOrder");return await Me(r,e),d}catch(T){throw console.error("Error creating ".concat(r,":"),T),T}})(o,e);(null===M||void 0===M||null===(t=M.standardFields)||void 0===t?void 0:t.some(e=>"form"===e.name))&&Y&&await(async e=>{if(e)try{const t=await fetch("".concat(pr.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)return;const n=await t.text();if(!n.trim())return;const o=JSON.parse(n);if(!Array.isArray(o)||0===o.length)return;const i=o[0],r=(i.formSequenceNumber||0)+1;await fetch("".concat(pr.baseURL,"/form-sequence/").concat(i.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({formId:e,formSequenceNumber:r})})}catch(t){}})(Y),await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o=Object.entries(e).map(async e=>{let[o,i]=e;const r=B.find(e=>e.fieldName===o),a=null===r||void 0===r?void 0:r.id,s={request:"create",typeOfRecord:n,valueText:String(i),customFieldID:a,recordID:t},l=await fetch("".concat(pr.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Yj(s))});if(!l.ok)throw new Error('Failed to create custom field "'.concat(o,'": ').concat(l.status));return await l.json()});await Promise.all(o)})(i,n,s),De("".concat(r," created successfully with ").concat(Object.keys(i).length," custom fields"),"success"),"ItemFulfillment"===r&&sessionStorage.removeItem("salesOrderDataForFulfillment"),"Invoice"===r&&sessionStorage.removeItem("itemFulfillmentDataForBilling")}else{var n;const t=await Fe(o,i,s);if(e.items&&e.items.length>0&&await(async e=>{const t={SalesOrder:{endpoint:"".concat(pr.baseURL,"/salesorderline"),getEndpoint:"".concat(pr.baseURL,"/salesorderline/by-salesorder/").concat(c),idField:"soid",quantityField:"quantity"},ItemFulfillment:{endpoint:"".concat(pr.baseURL,"/item-fulfilment-line"),getEndpoint:"".concat(pr.baseURL,"/item-fulfilment-line/by-item-fulfilment/").concat(c),idField:"dnid",quantityField:"quantity"},Invoice:{endpoint:"".concat(pr.baseURL,"/invoice-line"),getEndpoint:"".concat(pr.baseURL,"/invoice-line/by-invoice/").concat(c),idField:"inid",quantityField:"quantityDelivered"},CreditMemo:{endpoint:"".concat(pr.baseURL,"/credit-memo-line"),getEndpoint:"".concat(pr.baseURL,"/credit-memo-line/by-credit-memo/").concat(c),idField:"cmid",quantityField:"quantity"},DebitMemo:{endpoint:"".concat(pr.baseURL,"/debit-memo-line"),getEndpoint:"".concat(pr.baseURL,"/debit-memo-line/by-debit-memo/").concat(c),idField:"debitMemoId",quantityField:"quantity"}}[r];if(t)try{const i=await fetch(t.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let s=[];if(i.ok){const e=await i.json();if(Array.isArray(e))s=e;else if(e.results&&Array.isArray(e.results))s=e.results;else{const t=Object.values(e).filter(e=>Array.isArray(e));t.length>0&&(s=t[0])}}const l=new Map;s.forEach(e=>{e.id&&l.set(e.id,e)});const d=new Map;e.forEach(e=>{e.id&&d.set(e.id,e)});const u=[],h=[],m=[];e.forEach((e,t)=>{if(e.id&&l.has(e.id))u.push(e);else if(e.id){const t=p({},e);delete t.id,h.push(t)}else h.push(e)}),s.forEach(e=>{e.id&&!d.has(e.id)&&m.push(e)});const f=u.map(e=>{const n={[t.idField]:c,itemID:e.itemID||e.itemId,[t.quantityField]:parseFloat(e.quantity||e.quantityDelivered||0),rate:parseFloat(e.rate||0),discount:parseFloat(e.discount||0),taxID:e.taxID||e.taxId,taxPercent:parseFloat(e.taxPercent||0),taxAmount:"Invoice"===r?parseFloat(e.taxRate||0):parseFloat(e.taxAmount||0),taxRate:"Invoice"===r?parseFloat(e.taxRate||0):parseFloat(e.taxAmount||0),amount:parseFloat(e.amount||e.totalAmount||0)};return fetch("".concat(t.endpoint,"/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Yj(n))})}),g=h.map(e=>{const n={[t.idField]:c,itemID:e.itemID||e.itemId,[t.quantityField]:parseFloat(e.quantity||e.quantityDelivered||0),rate:parseFloat(e.rate||0),discount:parseFloat(e.discount||0),taxID:e.taxID||e.taxId,taxPercent:parseFloat(e.taxPercent||0),taxAmount:"Invoice"===r?parseFloat(e.taxRate||0):parseFloat(e.taxAmount||0),taxRate:"Invoice"===r?parseFloat(e.taxRate||0):parseFloat(e.taxAmount||0),amount:parseFloat(e.amount||e.totalAmount||0)};return fetch(t.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Yj(n))})}),v=m.map(e=>fetch("".concat(t.endpoint,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}})),y=[...f,...g,...v],x=(await Promise.all(y)).filter(e=>!e.ok);if(x.length>0)throw new Error("Failed to update ".concat(x.length," line items"));if("ItemFulfillment"===r){let t=[];if("edit"===a&&s.length>0&&(t=s),await Oe(e,"edit"===a,t),"edit"===a&&Z){const e=(null===Z||void 0===Z?void 0:Z.value)||Z;for(const t of m)try{const n=t.itemID||t.itemId,o=parseFloat(t.quantity||0);if(t.fulfillmentAvgCost,n&&e&&0!==o){console.log("Reversing inventory for deleted item ".concat(n,": +").concat(o," (without average cost update)"));const t=await C(n,e);if(t){const i=Number(t.quantityAvailable||0),r=i+o;await S({itemId:n,locationId:e,quantity:r}),console.log("\u2705 Inventory reversed for deleted item ".concat(n,": ").concat(i," \u2192 ").concat(r))}}}catch(n){console.error("\u274c Failed to reverse inventory for deleted item ".concat(t.itemID,":"),n.message)}for(const t of u)try{const n=t.itemID||t.itemId,i=parseFloat(t.quantity||0),r=s.find(e=>e.id===t.id),a=parseFloat((null===r||void 0===r?void 0:r.quantity)||0),l=null===r||void 0===r?void 0:r.fulfillmentAvgCost,c=i-a;if(console.log("DEBUG: Inventory calculation for item ".concat(n,":")),console.log("DEBUG: - originalQuantity: ".concat(a)),console.log("DEBUG: - newQuantity: ".concat(i)),console.log("DEBUG: - quantityDifference: ".concat(c)),console.log("DEBUG: - originalAvgCost: ".concat(l)),n&&e&&0!==c){if(console.log("Updating inventory for item ".concat(n,": original ").concat(a,", new ").concat(i,", difference ").concat(c)),a>0){const t=await C(n,e);if(t){const o=Number(t.quantityAvailable||0),i=o+a;await S({itemId:n,locationId:e,quantity:i}),console.log("\u2705 Inventory reversed for item ".concat(n,": ").concat(o," \u2192 ").concat(i))}}if(i>0){const r=await k({itemId:n,locationId:e,fulfillmentQty:i,mode:"create"});if(r&&r.cost&&void 0!==r.cost.oldAvgCost&&t.id)try{await fetch("".concat(pr.baseURL,"/item-fulfilment-line/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(p(p({},t),{},{fulfillmentAvgCost:r.cost.oldAvgCost}))}),console.log("\ud83d\udcdd Updated fulfillment avg cost ".concat(r.cost.oldAvgCost," for item ").concat(n))}catch(o){console.error("\u26a0\ufe0f Failed to update fulfillment avg cost for item ".concat(n,":"),o.message)}}console.log("\u2705 Inventory and cost updated for item ".concat(n))}}catch(n){console.error("\u274c Failed to update inventory for item ".concat(t.itemID,":"),n.message)}for(const t of h)try{const n=t.itemID||t.itemId,i=parseFloat(t.quantity||0);if(n&&e&&0!==i){console.log("Processing new fulfillment line for item ".concat(n,": ").concat(i));const r=await k({itemId:n,locationId:e,fulfillmentQty:i,mode:"create"});if(r&&r.cost&&void 0!==r.cost.oldAvgCost&&t.id)try{await fetch("".concat(pr.baseURL,"/item-fulfilment-line/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(p(p({},t),{},{fulfillmentAvgCost:r.cost.oldAvgCost}))}),console.log("\ud83d\udcdd Stored fulfillment avg cost ".concat(r.cost.oldAvgCost," for new item ").concat(n))}catch(o){console.error("\u26a0\ufe0f Failed to store fulfillment avg cost for new item ".concat(n,":"),o.message)}console.log("\u2705 Inventory and cost updated for new item ".concat(n))}}catch(n){console.error("\u274c Failed to update inventory for new item ".concat(t.itemID,":"),n.message)}}}if("Invoice"===r){let t=[];"edit"===a&&(t=s),await Re(e,"edit"===a,t)}}catch(T){throw T}else console.warn("No line items configuration for record type: ".concat(r))})(e.items),"CreditMemo"===r&&ie&&(null===(n=ie.invoices)||void 0===n?void 0:n.length)>0){const e=[...ie.invoices.filter(e=>e.checked)||[]];if(e.length>0){await Ye(e);const t=ie.originalData||{};await Xe(ie,t)}}try{const e=await fetch("".concat(pr.baseURL,"/journal-entry-line/by-record-id/").concat(c),{method:"GET",headers:{"Content-Type":"application/json"}});let t=[];if(e.ok){const n=await e.json();if(Array.isArray(n))t=n;else if(n.results&&Array.isArray(n.results))t=n.results;else if(n.lines&&Array.isArray(n.lines))t=n.lines;else{const e=Object.values(n).filter(e=>Array.isArray(e));e.length>0&&(t=e[0])}}if(t.length>0){const e=t.map(e=>({jeid:c,id:e.id,accountId:e.account,memo:e.memo,newCredit:0,newDebit:0,oldCredit:Number(e.credit||0),oldDebit:Number(e.debit||0)}));console.log("\ud83d\udd04 Calling processJournal for delete operation with changes:",e),await _y(e,"delete")}}catch(T){console.error("Error deleting journal entry lines:",T)}e.items&&e.items.length>0&&await My(e.items,o.form,ne,c,r),await Me(r,o),De("".concat(r," updated successfully with ").concat(t," custom fields"),"success")}"ItemFulfillment"===r&&"new"===a&&sessionStorage.removeItem("salesOrderDataForFulfillment"),"Invoice"===r&&"new"===a&&sessionStorage.removeItem("itemFulfillmentDataForBilling"),l(we[r]||"/customer")}catch(o){P(o.message),De(o.message,"error")}finally{N(!1)}},Be=async e=>{try{let t=J;t&&0!==t.length||(t=await Ce());const n=t.find(t=>{var n;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===e.toLowerCase()});if(console.log("recordType",n),!n)return console.warn("Record type not found: ".concat(e)),null;const o=await fetch("".concat(pr.baseURL,"/form/default-form-id/").concat(n.id),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(o.ok){const e=await o.text();console.log("defaultFormId",e);return(null===e||void 0===e?void 0:e.replace(/^["']|["']$/g,"").trim())||null}return 404===o.status?(console.warn("No default form found for record type: ".concat(e)),null):(console.error("Failed to get default form for ".concat(e,": ").concat(o.status)),null)}catch(T){return console.error("Error getting default form for ".concat(e,":"),T),null}},Ve=(0,o.useCallback)(async e=>{if(!e)return V([]),q({}),G({}),K({}),X(null),void L(e=>p(p({},e),{},{sequenceNumber:null}));try{var t,n;N(!0);const i=await Ee(e);V(i),X(e);const r=Ae(i.map(e=>p(p({},e),{},{name:e.fieldName})));if("new"!==a&&c){const e=Pe(),{customData:t,customFieldIds:n}=await je(c,e,i);G(n);const o=p(p({},r),t);q(o),K(o)}else q(r),K(r);const[s,l]=await Promise.all([fetch("".concat(pr.baseURL,"/form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(pr.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let d="";if(s.ok&&l.ok){var o;const[e,t]=await Promise.all([s.text().then(e=>e.trim()?JSON.parse(e):{}),l.text().then(e=>e.trim()?JSON.parse(e):[])]),n=Array.isArray(t)&&t.length>0?t[0]:{formSequenceNumber:0},i=e.prefix||"",r=(n.formSequenceNumber||0)+1;d="".concat(i).concat(String(r).padStart(4,"0")),console.log("DEBUG: Form config standard fields:",null===M||void 0===M||null===(o=M.standardFields)||void 0===o?void 0:o.map(e=>e.name))}const u=null===M||void 0===M||null===(t=M.standardFields)||void 0===t?void 0:t.some(e=>"form"===e.name),h=null===M||void 0===M||null===(n=M.standardFields)||void 0===n?void 0:n.some(e=>"sequenceNumber"===e.name),m={};u&&(m.form=e),h&&d&&(m.sequenceNumber=d,console.log("DEBUG: Setting sequence number in form data: ".concat(d))),L(e=>p(p({},e),m))}catch(r){var i;(null===M||void 0===M||null===(i=M.standardFields)||void 0===i?void 0:i.some(e=>"form"===e.name))&&L(t=>p(p({},t),{},{form:e}))}finally{N(!1)}},[M,Ee,a,c,Pe,je,Ae]),He=(0,o.useCallback)((e,t)=>{const n=Object.keys(e);if("parent"===t&&e.name)return e.name;if("dnid"===t&&e.sequenceNumber)return e.sequenceNumber;if("form"===t&&e.formName)return e.formName;if("status"===t&&e.statusName)return e.statusName;if(("salesorder"===t||"soid"===t||"soId"===t||"salesOrderId"===t||t.toLowerCase().includes("salesorder")||t.toLowerCase().includes("sales_order")||t.toLowerCase().includes("so"))&&e.sequenceNumber)return e.sequenceNumber;const o=n.filter(e=>e.toLowerCase().endsWith("name"));if(o.length>0){if("form"===t&&e.formName)return e.formName;const n=o.filter(e=>"name"!==e.toLowerCase()&&("form"===t||"formname"!==e.toLowerCase()));if(n.length>0){const t=n.find(t=>e[t]);if(t)return e[t]}if(e.name)return e.name}const i=["title","description","label","displayName"];for(const s of i)if(e[s])return e[s];if(e.accountName&&e.accountNumber)return"".concat(e.accountNumber," - ").concat(e.accountName);if(e.itemName&&e.itemCode)return"".concat(e.itemCode," - ").concat(e.itemName);const r=n.filter(t=>t.toLowerCase().includes("name")&&e[t]);if(r.length>0){if("form"===t&&e.formName)return e.formName;const n="form"===t?r:r.filter(e=>"formname"!==e.toLowerCase());if(n.length>0)return e[n[0]]}if(e.formName)return e.formName;const a=n.find(t=>"id"!==t&&"string"===typeof e[t]&&e[t].trim().length>0);return a?e[a]:String(e.id)},[]),qe=(0,o.useRef)({}),Ue=((0,o.useRef)({}),(0,o.useRef)(null),(0,o.useCallback)(e=>{oe(e)},[]),(0,o.useCallback)(e=>{console.log("\ud83d\udccb Credit application data received in SalesForm:",e),re(e)},[])),Ge=(0,o.useCallback)(async(e,t,n)=>{try{console.log("\ud83d\udd04 Creating Credit Memo Payment Lines for:",{creditMemoId:e,creditMemoSeqNum:t,appliedInvoices:n});const o=n.map(async n=>{const o={id:null,paymentAmount:n.displayAmount||0,recordID:n.id,isApplied:!0,refNo:n.refNo,recordType:n.type,cmid:e,creditMemoSeqNum:t,mainRecordAmount:n.dueAmount||0},i=await fetch("".concat(pr.baseURL,"/credit-memo-payment-line"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Yj(o))});if(!i.ok){const e=await i.text();throw new Error("Failed to create Credit Memo Payment Line: ".concat(i.status," - ").concat(e))}return await i.json()}),i=await Promise.all(o);return console.log("\u2705 Credit Memo Payment Lines created successfully:",i),i}catch(T){throw console.error("\u274c Error creating Credit Memo Payment Lines:",T),T}},[]),We=(0,o.useCallback)(async(e,t)=>{try{const n=e.invoices.filter(e=>e.checked).map(async e=>{let n,o,i=0;if("Invoice"===e.type){n=hr("/invoice/".concat(e.id));try{const e=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){i=(await e.json()).amountDue||0}}catch(T){console.warn("Failed to fetch current amountDue for Invoice ".concat(e.id,":"),T),i=e.dueAmount||0}}else if("DebitMemo"===e.type){n=hr("/debit-memo/".concat(e.id));try{const e=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){i=(await e.json()).amountDue||0}}catch(T){console.warn("Failed to fetch current amountDue for DebitMemo ".concat(e.id,":"),T),i=e.dueAmount||0}}const r=i-e.displayAmount;let a;if("delete"===t?a=be:"new"===t&&(a=0===r?xe:be),o={amountDue:Math.max(0,r),status:a},n){const t=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Yj(o))});t.ok||console.warn("Failed to update ".concat(e.type," ").concat(e.id,":"),t.status)}});await Promise.all(n),console.log("\u2705 Applied record amounts updated successfully")}catch(T){console.error("\u274c Error updating applied record amounts:",T)}},[]),Ke=(0,o.useCallback)(async e=>{try{console.log("\ud83d\uddd1\ufe0f Deleting existing Credit Memo Payment Lines for:",e);const t=await fetch("".concat(pr.baseURL,"/credit-memo-payment-line/by-credit-memo/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=await t.json(),n=Array.isArray(e)?e:e.lines||e.results||[];if(n.length>0){console.log("\ud83d\uddd1\ufe0f Found ".concat(n.length," Credit Memo Payment Lines to delete"));const e=n.map(async e=>{const t=await fetch("".concat(pr.baseURL,"/credit-memo-payment-line/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok){const n=await t.text();throw new Error("Failed to delete Credit Memo Payment Line ".concat(e.id,": ").concat(t.status," - ").concat(n))}return console.log("\u2705 Deleted Credit Memo Payment Line: ".concat(e.id)),t});await Promise.all(e),console.log("\u2705 All Credit Memo Payment Lines deleted successfully")}else console.log("\u2139\ufe0f No Credit Memo Payment Lines found to delete")}else console.log("\u2139\ufe0f No existing Credit Memo Payment Lines found or endpoint not accessible")}catch(T){throw console.error("\u274c Error deleting Credit Memo Payment Lines:",T),T}},[]),Ye=(0,o.useCallback)(async e=>{try{console.log("\ud83d\udd04 Updating Credit Memo Payment Lines for edit mode:",e),await Ke(c);const t=R.sequenceNumber||"";await Ge(c,t,e),console.log("\u2705 Credit Memo Payment Lines updated successfully")}catch(T){throw console.error("\u274c Error updating Credit Memo Payment Lines:",T),T}},[c,R.sequenceNumber,Ke,Ge]),Xe=(0,o.useCallback)(async(e,t)=>{try{var n;console.log("\ud83d\udd04 Updating Credit Memo record amounts in edit mode:",{paymentData:e,originalPaymentData:t});const i=[],r=(null===(n=e.invoices)||void 0===n?void 0:n.filter(e=>e.checked))||[];for(const e of r){var o;const n=["Invoice","DebitMemo"],r=null===t||void 0===t||null===(o=t.lines)||void 0===o?void 0:o.find(t=>t.recordID===e.id&&n.includes(t.recordType)),a=parseFloat((null===r||void 0===r?void 0:r.paymentAmount)||0),s=parseFloat(e.displayAmount||0),l=s-a;let c,d=0;if("Invoice"===e.type?c=hr("/invoice/".concat(e.id)):"DebitMemo"===e.type&&(c=hr("/debit-memo/".concat(e.id))),c)try{const e=await fetch(c,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json();d=parseFloat(t.amountDue||0)}}catch(T){console.warn("Failed to fetch current amountDue for ".concat(e.type," ").concat(e.id,":"),T),d=parseFloat(e.dueAmount||0)}const u=d-l;let p,h;p=0===u?xe:be,console.log("Edit Mode - ".concat(e.type," ").concat(e.refNo,": Original Payment: ").concat(a,", New Payment: ").concat(s,", Payment Difference: ").concat(l,", Fetched Current Amount Due: ").concat(d,", New Amount Due: ").concat(u)),("Invoice"===e.type||"DebitMemo"===e.type)&&(h={amountDue:u,status:p}),h&&c&&0!==l&&i.push(fetch(c,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Yj(h))}))}if(i.length>0){const e=(await Promise.all(i)).filter(e=>!e.ok);if(e.length>0)throw new Error("Failed to update ".concat(e.length," record amounts"));console.log("\u2705 Credit Memo record amounts updated successfully in edit mode")}}catch(T){throw console.error("\u274c Error updating Credit Memo record amounts in edit mode:",T),T}},[]),Je=(0,o.useCallback)(async e=>{try{console.log("\ud83d\udcd6 Loading existing Credit Memo Payment Lines for:",e);const t=await fetch(hr("/credit-memo-payment-line/by-credit-memo/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=await t.json(),n=Array.isArray(e)?e:e.lines||e.results||[];return console.log("\ud83d\udccb Loaded Credit Memo Payment Lines:",n),n}return[]}catch(T){return console.error("\u274c Error loading Credit Memo Payment Lines:",T),[]}},[]),Qe=(0,o.useCallback)(e=>{var t;const{name:n,onChange:o,value:i}=e,r=F[n]||[],a="".concat(n,"_").concat(r.length,"_").concat((null===(t=r[0])||void 0===t?void 0:t.id)||r[0]||"");let s;qe.current[a]?s=qe.current[a]:(s=r.map(e=>{if("string"===typeof e)return{text:e,value:e};if(!e.id)return{text:String(e),value:e};return{text:He(e,n),value:e.id}}),qe.current[a]=s);const l=[{text:"-- Select --",value:null},...s],c=null!==i&&void 0!==i&&""!==i?l.find(e=>e.value===i):l[0];return{data:l,textField:"text",valueField:"value",value:c,virtual:!1,popupSettings:{appendTo:document.body,animate:!1},onChange:async e=>{var t;const i=(null===(t=e.target.value)||void 0===t?void 0:t.value)||e.target.value,r=""===i||void 0===i?null:i;o&&o({target:{value:r}}),"form"===n&&await Ve(r),"locationID"===n&&(console.log("\ud83d\udccd ".concat(n," selected:"),r),$(r))}}},[F,Ve,$]),Ze=(0,o.useCallback)(e=>{const{name:t}=e,n=(F[t]||[]).map(e=>{if("string"===typeof e)return{text:e,value:e};if(e.name&&e.id)return{text:e.name,value:e.id};if(e.text&&e.value)return e;const t=Object.keys(e);return{text:e[t[0]],value:e[t[0]]}});return{data:n,textField:"text",valueField:"value"}},[F]),$e=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:n,touched:o,label:i}=e,r=s(e,Kj),l=o&&n,c=p(p({},r),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===a||r.disabled}),d={text:{component:Fc,props:c},number:{component:xu,props:p(p({},c),{},{min:0,step:0,spinners:!1})},textarea:{component:Cu,props:p(p({},c),{},{rows:4})},checkbox:{component:ju,props:p(p({},c),{},{label:i,checked:r.value||!1,style:{display:"flex",alignItems:"center"}})},date:{component:Zv,props:c},dropdown:{component:Sh,props:p(p({},c),Qe(e))},multiselect:{component:em,props:p(p({},c),Ze(e))}},u=d[t]||d.text;return(0,sr.jsxs)("div",{children:[(0,sr.jsx)(u.component,p({},u.props)),l&&(0,sr.jsx)("div",{className:"k-form-error",children:n})]})}},[a,Qe,Ze]),et=(0,o.useMemo)(()=>({Input:$e(Fc,"text"),TextArea:$e(Cu,"textarea"),Checkbox:$e(ju,"checkbox"),NumericTextBox:$e(Fc,"number"),Number:$e(Fc,"number"),DropDownList:$e(Sh,"dropdown"),DatePicker:$e(Zv,"date"),MultiSelect:$e(em,"multiselect")}),[$e]),tt=e=>et[e.fieldTypeName]||et.Input,nt=function(e){const t=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);return e.isMandatory?"".concat(t," *"):t},ot=(0,o.useCallback)(function(e){if(e.isMandatory)return t=>t&&""!==t?"email"===e.name&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"Please enter a valid email address":"phone"===e.name&&t&&!/^\d{10}$/.test(t.replace(/\D/g,""))?"Phone number must be 10 digits":"":"".concat(e.displayName||e.name," is required")},[]),it=e=>{if(e.isRequired)return t=>t&&""!==t?"":"".concat(e.fieldLabel||e.fieldName," is required")},rt=(0,o.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const r=t?"custom_".concat(e.fieldName||e.name):e.name,s=t&&e.fieldName||e.name,l=o||"".concat(t?"custom":"standard","-field-").concat(e.id||s),c=t?"".concat(e.fieldLabel||e.fieldName).concat(e.isRequired?" *":""):nt(e,i),d=tt(e),u=t?it(e):ot(e,i),p="Checkbox"===e.fieldTypeName||"Switch"===e.fieldTypeName,h="view"===a||e.isDisabled;return(0,sr.jsxs)("div",{className:"master-field-group ".concat(n?"master-field-full":""," ").concat(p?"checkbox-wrapper":""),children:[!p&&(0,sr.jsx)("label",{className:"k-label",children:c}),(0,sr.jsx)("div",{className:"field-wrapper",children:(0,sr.jsx)(gr,{id:r,name:r,component:d,validator:u,disabled:h,label:p?c:void 0})})]},l)},[a,r,tt,nt,ot,it]),at=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=[];let r=[];return e.forEach(e=>{["TextArea","Checkbox","MultiSelect"].includes(e.fieldTypeName)?(r.length>0&&(i.push({type:"row",fields:[...r]}),r=[]),i.push({type:"fullWidth",field:e})):(r.push(e),3===r.length&&(i.push({type:"row",fields:[...r]}),r=[]))}),r.length>0&&i.push({type:"row",fields:[...r]}),i.map((e,i)=>{const r=t?"custom":"standard";return"row"===e.type?(0,sr.jsx)(o.Fragment,{children:e.fields.map(e=>rt(e,t,!1,null,n))},"".concat(r,"-row-").concat(i)):rt(e.field,t,!0,"".concat(r,"-full-").concat(i),n)})},[rt]);return D||d||!M||!ee?(0,sr.jsx)("div",{className:"master-form-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsxs)("div",{children:["Loading ",r.toLowerCase()," form..."]})]})}):T||u?(0,sr.jsx)("div",{className:"master-form-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("h3",{children:["Error Loading ",r]}),(0,sr.jsx)("p",{children:T||u}),(0,sr.jsx)(bo,{onClick:()=>l("/"),children:"Back to Dashboard"})]})}):(0,sr.jsxs)("div",{className:"master-form-container","data-theme":r.toLowerCase(),children:[(0,sr.jsx)(ay,{children:E.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:E.type,icon:!0},closable:!0,onClose:()=>j({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:E.message})})})}),(0,sr.jsxs)("div",{className:"master-form-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,sr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,sr.jsx)("h2",{children:"new"===a?"Create New ".concat(r):"edit"===a?"Edit ".concat(r):"View ".concat(r)}),("edit"===a||"view"===a)&&R.status&&(()=>{const e=(F.status||[]).find(e=>e.id===R.status),t=(null===e||void 0===e?void 0:e.name)||"",n=(e=>{switch(e.toLowerCase()){case"open":return{bg:"#FEF3C7",text:"#92400E",border:"#F59E0B"};case"closed":return{bg:"#F3F4F6",text:"#374151",border:"#6B7280"};default:return{bg:"#F3F4F6",text:"#374151",border:"#9CA3AF"}}})(t);return(0,sr.jsx)("span",{style:{display:"inline-flex",alignItems:"center",padding:"6px 12px",borderRadius:"16px",fontSize:"12px",fontWeight:"600",backgroundColor:n.bg,color:n.text,border:"1px solid ".concat(n.border),textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:t})})()]}),(0,sr.jsxs)("div",{style:{display:"flex",gap:"8px",marginRight:"16px"},children:[(0,sr.jsxs)(bo,{type:"button",onClick:()=>l(we[r]||"/sales-order"),className:"k-button k-button-secondary",children:[(0,sr.jsx)(tr,{})," ","view"===a?"Close":"Cancel"]}),"SalesOrder"===r&&"view"===a&&"5e3f19d1-f615-4954-88cb-30975d52b8cd"===R.status&&(0,sr.jsxs)(bo,{type:"button",onClick:async()=>{console.log("\ud83d\udd35 handleFulfill started"),console.log("\ud83d\udd35 Current ID:",c),console.log("\ud83d\udd35 Current formData:",R),console.log("\ud83d\udd35 Record types state:",J);try{console.log('\ud83d\udfe1 Calling getDefaultFormForRecordType with "ItemFulfillment"');const e=await Be("ItemFulfillment");console.log("\ud83d\udfe2 Default form ID received:",e);const t="".concat(pr.baseURL,"/salesorderline/unfulfilled?SOID=").concat(c);console.log("\ud83d\udfe1 Making API call to:",t),console.log("\ud83d\udfe1 API headers:",pr.headers);const n=await fetch(t,{method:"GET",headers:pr.headers});if(console.log("\ud83d\udfe1 API response status:",n.status),console.log("\ud83d\udfe1 API response ok:",n.ok),!n.ok)throw new Error("Failed to fetch unfulfilled items");const o=await n.json();console.log("\ud83d\udfe2 Unfulfilled items received:",o);const i={soid:c,customerID:R.customerID,locationID:R.locationID,soDate:R.soDate,deliveryDate:R.deliveryDate,discount:R.discount,totalAmount:R.totalAmount,items:o||[],form:e};console.log("\ud83d\udfe2 Sales order data prepared:",i),console.log("[handleFulfill] Storing salesOrderData in sessionStorage:",i),sessionStorage.setItem("salesOrderDataForFulfillment",JSON.stringify(i)),console.log("[handleFulfill] SessionStorage set, navigating to ItemFulfillment form"),console.log("\ud83d\udfe2 Data stored in sessionStorage"),console.log("\ud83d\udfe2 Navigating to /item-fulfillment/new"),l("/item-fulfillment/new")}catch(T){console.error("\ud83d\udd34 Error in handleFulfill:",T),console.log("\ud83d\udfe1 Falling back to existing formData.items"),console.log("\ud83d\udfe1 Getting default form ID for fallback");const t=await Be("ItemFulfillment");console.log("\ud83d\udfe2 Fallback default form ID:",t);const n={soid:c,customerID:R.customerID,locationID:R.locationID,soDate:R.soDate,deliveryDate:R.deliveryDate,discount:R.discount,totalAmount:R.totalAmount,items:R.items||[],form:t};console.log("\ud83d\udfe2 Fallback sales order data prepared:",n),sessionStorage.setItem("salesOrderDataForFulfillment",JSON.stringify(n)),console.log("\ud83d\udfe2 Fallback data stored in sessionStorage"),console.log("\ud83d\udfe2 Navigating to /item-fulfillment/new (fallback)"),l("/item-fulfillment/new")}},className:"k-button k-button-success",children:[(0,sr.jsx)(ir,{})," Fulfill"]}),"ItemFulfillment"===r&&"view"===a&&"5e3f19d1-f615-4954-88cb-30975d52b8cd"===R.status&&(0,sr.jsxs)(bo,{type:"button",onClick:async()=>{try{const e=await Be("Invoice"),t=await fetch("".concat(pr.baseURL,"/item-fulfilment-line/unfulfilled?DNID=").concat(c),{method:"GET",headers:pr.headers});if(!t.ok)throw new Error("Failed to fetch uninvoiced items");const n=await t.json(),o={dnid:c,customerID:R.customerID,locationID:R.locationID,deliveryDate:R.deliveryDate,discount:R.discount,totalAmount:R.totalAmount,items:n||[],form:e};sessionStorage.setItem("itemFulfillmentDataForBilling",JSON.stringify(o)),l("/invoice/new")}catch(T){console.error("Error fetching uninvoiced items:",T);const t=await Be("Invoice"),n={dnid:c,customerID:R.customerID,locationID:R.locationID,deliveryDate:R.deliveryDate,discount:R.discount,totalAmount:R.totalAmount,items:R.items||[],form:t};sessionStorage.setItem("itemFulfillmentDataForBilling",JSON.stringify(n)),l("/invoice/new")}},className:"k-button k-button-success",children:[(0,sr.jsx)(Vi,{})," Bill"]})]})]}),("Invoice"===r||"DebitMemo"===r||"CreditMemo"===r)&&(0,sr.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px",marginTop:"10px"},children:(0,sr.jsxs)("div",{style:{display:"flex",backgroundColor:"#ffffff",border:"2px solid #e8f4fd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",minWidth:"280px"},children:[(0,sr.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#f8fbff",borderRight:"1px solid #e8f4fd",flex:1},children:[(0,sr.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"Total"}),(0,sr.jsx)("div",{style:{fontSize:"18px",color:"#2c3e50",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:"CreditMemo"===r?(null===R||void 0===R||null===(t=R.totalAmount)||void 0===t?void 0:t.toFixed(2))||"0.00":(null===ne||void 0===ne?void 0:ne.toFixed(2))||"0.00"})]}),(0,sr.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#ffffff",flex:1},children:[(0,sr.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"CreditMemo"===r?"UnApplied":"Amount Due"}),(0,sr.jsx)("div",{style:{fontSize:"18px",color:"CreditMemo"===r?"#27ae60":"#e74c3c",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:"CreditMemo"===r?(null===R||void 0===R||null===(n=R.unApplied)||void 0===n?void 0:n.toFixed(2))||"0.00":(null===R||void 0===R||null===(i=R.amountDue)||void 0===i?void 0:i.toFixed(2))||(null===ne||void 0===ne?void 0:ne.toFixed(2))||"0.00"})]})]})}),(0,sr.jsx)("div",{className:"master-form-element",children:(0,sr.jsx)(la,{initialValues:_e,validator:Ne,onSubmit:ze,render:e=>(0,sr.jsxs)(ma,{children:[(0,sr.jsxs)("div",{className:"master-form-content",children:[(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:at(M.standardFields,!1,e)})]}),B.length>0&&(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:at(B,!0,e)})]}),(0,sr.jsx)("div",{className:"form-section",children:"view"!==a||"SalesOrder"!==r&&"Invoice"!==r&&"ItemFulfillment"!==r&&"CreditMemo"!==r&&"DebitMemo"!==r?(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Items"})}),(0,sr.jsx)("div",{style:{padding:"0",width:"100%",maxWidth:"100%",overflow:"hidden"},children:(0,sr.jsx)(Wj,{recordType:r,mode:a,embedded:!0,onTotalAmountChange:oe,headerDiscount:e.valueGetter("discount")||0,selectedLocation:Z,soid:"ItemFulfillment"===r?"new"===a?e.valueGetter("salesOrderId")||e.valueGetter("soid")||e.valueGetter("salesOrder"):R.soid||R.salesOrderId:"new"===a?c:null,dnid:"Invoice"===r?"new"===a?e.valueGetter("itemFulfillmentId")||e.valueGetter("dnid")||e.valueGetter("itemFulfillment"):R.dnid||R.itemFulfillmentId:null,customerId:"CreditMemo"===r?e.valueGetter("customerID")||e.valueGetter("customer")||R.customerID:null,creditMemoTotalAmount:"CreditMemo"===r&&(ne||e.valueGetter("totalAmount"))||0,onCreditApplicationChange:"CreditMemo"===r?Ue:null})})]}):(0,sr.jsxs)("div",{className:"payment-container",style:{border:"none",boxShadow:"none",background:"transparent",padding:"0"},children:[(0,sr.jsx)("style",{children:'\n                        .payment-container { \n                          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; \n                          background-color: #fff; \n                          color: #333; \n                        }\n                      '}),(0,sr.jsxs)("div",{className:"sales-tabs",children:[(0,sr.jsxs)("button",{type:"button",className:"sales-tab ".concat("items"===ae?"active":""),onClick:()=>{se("items"),window.dispatchEvent(new CustomEvent("resetSalesItemsTab"))},children:[(0,sr.jsx)(Li,{})," Items"]}),("Invoice"===r||"DebitMemo"===r)&&(0,sr.jsxs)("button",{type:"button",className:"sales-tab ".concat("transactions"===ae?"active":""),onClick:()=>{se("transactions"),window.dispatchEvent(new CustomEvent("resetSalesItemsTab"))},children:[(0,sr.jsx)(qi,{})," Payments"]}),("Invoice"===r||"DebitMemo"===r||"CreditMemo"===r||"ItemFulfillment"===r)&&("edit"===a||"view"===a)&&(0,sr.jsxs)("button",{type:"button",className:"sales-tab ".concat("glimpact"===ae?"active":""),onClick:()=>{se("glimpact"),window.dispatchEvent(new CustomEvent("resetSalesItemsTab"))},children:[(0,sr.jsx)(Fi,{})," GL Impact"]})]}),(0,sr.jsxs)("div",{className:"sales-tab-content",children:["items"===ae&&(0,sr.jsx)(Wj,{recordType:r,mode:a,embedded:!0,onTotalAmountChange:oe,headerDiscount:e.valueGetter("discount")||0,selectedLocation:Z,soid:"ItemFulfillment"===r?"new"===a?e.valueGetter("salesOrderId")||e.valueGetter("soid")||e.valueGetter("salesOrder"):R.soid||R.salesOrderId:"new"===a?c:null,dnid:"Invoice"===r?"new"===a?e.valueGetter("itemFulfillmentId")||e.valueGetter("dnid")||e.valueGetter("itemFulfillment"):R.dnid||R.itemFulfillmentId:null,customerId:"CreditMemo"===r?e.valueGetter("customerID")||e.valueGetter("customer")||R.customerID:null,creditMemoTotalAmount:"CreditMemo"===r&&(ne||e.valueGetter("totalAmount"))||0,onCreditApplicationChange:"CreditMemo"===r?Ue:null}),"transactions"===ae&&("Invoice"===r||"DebitMemo"===r)&&(de?(0,sr.jsx)("div",{className:"transactions-section",children:(0,sr.jsxs)("div",{className:"empty-state",children:[(0,sr.jsx)("div",{className:"empty-state-icon",children:"\u23f3"}),(0,sr.jsx)("p",{className:"empty-state-text",children:"Loading transactions..."})]})}):le&&0!==le.length?(0,sr.jsx)("div",{className:"transactions-section",children:(0,sr.jsxs)("table",{className:"transactions-table",children:[(0,sr.jsx)("thead",{children:(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("th",{children:"Action"}),(0,sr.jsx)("th",{children:"Type"}),(0,sr.jsx)("th",{children:"Payment ID"}),(0,sr.jsx)("th",{children:"Amount"})]})}),(0,sr.jsx)("tbody",{children:le.map((e,t)=>(0,sr.jsxs)("tr",{children:[(0,sr.jsxs)("td",{children:["Customer Payment"===e.transactionType&&(0,sr.jsxs)("a",{href:"/customer-payment/view/".concat(e.paymentId),className:"view-link",onClick:t=>{t.preventDefault(),l("/customer-payment/view/".concat(e.paymentId))},children:[(0,sr.jsx)(Ki,{})," View"]}),"Credit Memo"===e.transactionType&&(0,sr.jsxs)("a",{href:"/credit-memo/view/".concat(e.paymentId||e.cmid),className:"view-link",onClick:t=>{t.preventDefault(),l("/credit-memo/view/".concat(e.paymentId||e.cmid))},children:[(0,sr.jsx)(Ki,{})," View"]})]}),(0,sr.jsx)("td",{children:(0,sr.jsx)("span",{className:"payment-id",children:e.transactionType})}),(0,sr.jsx)("td",{children:(0,sr.jsx)("span",{className:"payment-id",children:e.paymentSeqNum||e.creditMemoSeqNum||"N/A"})}),(0,sr.jsx)("td",{children:(0,sr.jsx)("span",{className:"payment-amount",children:(e.paymentAmount||0).toFixed(2)})})]},e.id||t))})]})}):(0,sr.jsx)("div",{className:"transactions-section",children:(0,sr.jsxs)("div",{className:"empty-state",children:[(0,sr.jsx)("div",{className:"empty-state-icon",children:"\ud83d\udcc4"}),(0,sr.jsxs)("p",{className:"empty-state-text",children:["No payment transactions found for this ",r.toLowerCase(),"."]})]})})),"glimpact"===ae&&("Invoice"===r||"DebitMemo"===r||"CreditMemo"===r||"ItemFulfillment"===r)&&("edit"===a||"view"===a)&&(me?(0,sr.jsx)("div",{className:"transactions-section",children:(0,sr.jsxs)("div",{className:"empty-state",children:[(0,sr.jsx)("div",{className:"empty-state-icon",children:"\u23f3"}),(0,sr.jsx)("p",{className:"empty-state-text",children:"Loading GL Impact data..."})]})}):pe&&0!==pe.length?(0,sr.jsx)("div",{className:"transactions-section",children:(0,sr.jsxs)("table",{className:"transactions-table",children:[(0,sr.jsx)("thead",{children:(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("th",{children:"Account Name"}),(0,sr.jsx)("th",{children:"Debit"}),(0,sr.jsx)("th",{children:"Credit"}),(0,sr.jsx)("th",{children:"Memo"})]})}),(0,sr.jsx)("tbody",{children:pe.map((e,t)=>(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("td",{children:e.accountName||""}),(0,sr.jsx)("td",{children:(0,sr.jsx)("span",{className:"payment-amount",children:e.debit?e.debit.toFixed(2):"0.00"})}),(0,sr.jsx)("td",{children:(0,sr.jsx)("span",{className:"payment-amount",children:e.credit?e.credit.toFixed(2):"0.00"})}),(0,sr.jsx)("td",{children:e.memo||""})]},e.id||t))})]})}):(0,sr.jsx)("div",{className:"transactions-section",children:(0,sr.jsxs)("div",{className:"empty-state",children:[(0,sr.jsx)("div",{className:"empty-state-icon",children:"\ud83d\udcca"}),(0,sr.jsxs)("p",{className:"empty-state-text",children:["No GL Impact data found for this ",r.toLowerCase(),"."]})]})}))]})]})})]}),(0,sr.jsxs)("div",{className:"master-form-actions",children:[(0,sr.jsxs)(bo,{type:"button",onClick:()=>l(we[r]||"/sales-order"),className:"k-button k-button-secondary",children:[(0,sr.jsx)(tr,{})," ","view"===a?"Close":"Cancel"]}),"new"!==a&&(0,sr.jsxs)(bo,{type:"button",onClick:()=>_(!0),className:"k-button k-button-danger",children:[(0,sr.jsx)(or,{})," Delete"]}),"view"!==a&&(0,sr.jsxs)(bo,{type:"submit",disabled:D||(()=>{if("CreditMemo"===r)return!1;if("ItemFulfillment"===r&&"new"===a){if(sessionStorage.getItem("salesOrderDataForFulfillment"))return!1}if("Invoice"===r&&"new"===a){if(sessionStorage.getItem("itemFulfillmentDataForBilling"))return!1}return!e.allowSubmit})(),className:"k-button k-button-primary",onClick:t=>{if((()=>{if("CreditMemo"===r)return!0;if("ItemFulfillment"===r&&"new"===a){return sessionStorage.getItem("salesOrderDataForFulfillment")}if("Invoice"===r&&"new"===a){return sessionStorage.getItem("itemFulfillmentDataForBilling")}return!1})()&&!e.allowSubmit){t.preventDefault();const n=e.value||_e;ze(n)}},children:[(0,sr.jsx)(Qi,{})," ",D?"Saving...":"Save"]})]})]})},"".concat(r.toLowerCase(),"-form-").concat(a,"-").concat(c||"new","-").concat(Y||"no-form"))}),(0,sr.jsx)(ly,{isOpen:A,onClose:()=>_(!1),onConfirm:async()=>{if(I)try{N(!0),P(null);const t={SalesOrder:{endpoint:"".concat(pr.baseURL,"/salesorderline"),getEndpoint:"".concat(pr.baseURL,"/salesorderline/by-salesorder/").concat(c),idField:"soid",quantityField:"quantity"},ItemFulfillment:{endpoint:"".concat(pr.baseURL,"/item-fulfilment-line"),getEndpoint:"".concat(pr.baseURL,"/item-fulfilment-line/by-item-fulfilment/").concat(c),idField:"dnid",quantityField:"quantity"},Invoice:{endpoint:"".concat(pr.baseURL,"/invoice-line"),getEndpoint:"".concat(pr.baseURL,"/invoice-line/by-invoice/").concat(c),idField:"inid",quantityField:"quantityDelivered"},CreditMemo:{endpoint:"".concat(pr.baseURL,"/credit-memo-line"),getEndpoint:"".concat(pr.baseURL,"/credit-memo-line/by-credit-memo/").concat(c),idField:"cmid",quantityField:"quantity"},DebitMemo:{endpoint:"".concat(pr.baseURL,"/debit-memo-line"),getEndpoint:"".concat(pr.baseURL,"/debit-memo-line/by-debit-memo/").concat(c),idField:"debitMemoId",quantityField:"quantity"}}[r];if("CreditMemo"===r){try{const e=await Je(c);if(console.log("Existing payment lines:",e),e.length>0){const t={invoices:e.map(e=>({id:e.recordID,type:e.recordType,displayAmount:-e.paymentAmount,checked:!0,dueAmount:e.mainRecordAmount}))};await We(t,"delete")}}catch(T){console.error("\u274c Error reversing applied record amounts:",T)}await Ke(c)}if(t&&t.getEndpoint){const n=await fetch(t.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let o=[];if(n.ok){const e=await n.json();if(Array.isArray(e))o=e;else if(e.results&&Array.isArray(e.results))o=e.results;else{const t=Object.values(e).filter(e=>Array.isArray(e));t.length>0&&(o=t[0])}}if("ItemFulfillment"===r&&o.length>0&&(await Oe([],!0,o),Z)){const t=(null===Z||void 0===Z?void 0:Z.value)||Z;for(const n of o)try{const e=n.itemID||n.itemId,o=parseFloat(n.quantity||0);n.fulfillmentAvgCost;if(e&&t&&0!==o){console.log("Reversing inventory for deleted fulfillment item ".concat(e,": +").concat(o," (without average cost update)"));const n=await C(e,t);if(n){const i=Number(n.quantityAvailable||0),r=i+o;await S({itemId:e,locationId:t,quantity:r}),console.log("\u2705 Inventory reversed for deleted fulfillment item ".concat(e,": ").concat(i," \u2192 ").concat(r))}}}catch(e){console.error("\u274c Failed to reverse inventory for deleted fulfillment item ".concat(n.itemID,":"),e.message)}}if("Invoice"===r&&o.length>0&&await Re([],!0,o),o.length>0){const e=o.map(e=>fetch("".concat(t.endpoint,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}})),n=(await Promise.all(e)).filter(e=>!e.ok);if(n.length>0)throw new Error("Failed to delete ".concat(n.length," line items"))}}let n;switch(r){case"SalesOrder":n=I.deleteSalesOrder;break;case"ItemFulfillment":n=I.deleteItemFulfillment;break;case"Invoice":n=I.deleteInvoice;break;case"CreditMemo":n=I.deleteCreditMemo;break;case"DebitMemo":n=I.deleteDebitMemo;break;default:throw new Error("Unsupported record type: ".concat(r))}if(!n)throw new Error("Delete method not available for ".concat(r));await n(c);try{console.log("existingResponse delete 11111111111111 ---- id",c);const e=await fetch("".concat(pr.baseURL,"/journal-entry-line/by-record-id/").concat(c),{method:"GET",headers:{"Content-Type":"application/json"}});console.log("existingResponse delete 11111111111111",e);let t=[];if(e.ok){const n=await e.json();Array.isArray(n)&&(t=n)}if(console.log("existingItems 22222222",t),t.length>0){const e=t.map(e=>({jeid:c,id:e.id,accountId:e.account,memo:e.memo,newCredit:0,newDebit:0,oldCredit:Number(e.credit||0),oldDebit:Number(e.debit||0)}));await _y(e,"delete")}}catch(T){console.error("Error deleting journal entry lines:",T)}try{const e=Te(M,J,r);await(async(e,t)=>{if(e&&t)try{const n=await fetch("".concat(pr.baseURL,"/custom-field-value/by-type-and-record?typeOfRecord=").concat(t,"&recordId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(n.ok){const t=await n.json();if(Array.isArray(t)&&t.length>0){const n=t.map(async e=>{const t=await fetch("".concat(pr.baseURL,"/custom-field-value/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});t.ok||console.warn("Failed to delete custom field value ".concat(e.id,": ").concat(t.status))});await Promise.all(n),console.log("\u2705 Deleted ".concat(t.length," custom field values for ").concat(r," ").concat(e))}}else 404!==n.status&&console.warn("Failed to fetch custom field values for deletion: ".concat(n.status))}catch(T){console.error("Error deleting custom field values:",T)}})(c,e)}catch(T){console.error("Error deleting custom field values:",T)}De("".concat(r," deleted successfully!"),"success"),_(!1);l(we[r]||"/")}catch(T){De("Failed to delete ".concat(r,": ").concat(T.message),"error")}finally{N(!1)}else De("No hook available for ".concat(r),"error")},title:"Confirm Delete",message:(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsxs)("p",{children:["Are you sure you want to delete this ",r.toLowerCase(),"?"]}),(0,sr.jsx)("p",{children:(0,sr.jsx)("strong",{children:"This action cannot be undone."})})]}),confirmText:"Delete",cancelText:"Cancel",type:"danger",loading:D})]})}),Jj=e=>(0,sr.jsx)(Xj,p(p({},e),{},{recordType:"SalesOrder"})),Qj=e=>(0,sr.jsx)(Xj,p(p({},e),{},{recordType:"ItemFulfillment"})),Zj=e=>(0,sr.jsx)(Xj,p(p({},e),{},{recordType:"Invoice"})),$j=Xj,eA=()=>{const e=ve(),{salesOrders:t,loading:n,error:i,refresh:r}=vy(),{customers:a}=my(),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[m,f]=(0,o.useState)({skip:0,take:10,sort:[{field:"soDate",dir:"desc"}]}),g=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find(t=>t.id===e);return n?n.name:"Unknown Customer"},v=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),y=(0,o.useCallback)(()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];s&&(e=e.filter(e=>{const t=g(e.customerID);return"".concat(e.salesOrderNumber||""," ").concat(t," ").concat(e.status," ").concat(v(e.totalAmount)).toLowerCase().includes(s.toLowerCase())})),"All"!==c&&(e=e.filter(e=>e.status===c));return{data:ab(e,m).data,total:e.length}},[t,s,c,a,m]);return n?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"sales-order-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading sales orders..."})]})})}):i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"sales-order-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading sales orders: ",i]}),(0,sr.jsxs)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"sales-order-list-container",children:[(0,sr.jsx)(ay,{children:u.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:u.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Sales Order Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/sales-order/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Sales Order"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search sales orders...",value:s,onChange:e=>l(e.target.value)})]}),(0,sr.jsxs)("div",{className:"filter-bar",children:[(0,sr.jsx)(Yi,{className:"filter-icon"}),(0,sr.jsx)(Sh,{data:["All","Draft","Fulfilled","Cancelled"],value:c,onChange:e=>d(e.target.value),style:{width:"100%"}})]}),(0,sr.jsx)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===y().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No sales orders match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},m),{},{onDataStateChange:e=>{f(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(m.skip||0);return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,sr.jsx)(zy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,sr.jsx)(zy,{field:"customerID",title:"Customer",width:"200px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:g(e.dataItem.customerID)}))}),(0,sr.jsx)(zy,{field:"status",title:"Status",width:"150px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,sr.jsx)("span",{className:"status-badge ".concat("status-open"),children:"Open"})}))}),(0,sr.jsx)(zy,{field:"totalAmount",title:"Total Amount",width:"140px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:v(e.dataItem[e.field])}))}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/sales-order/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/sales-order/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid order data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No sales orders found. Click the "Add New Sales Order" button above to create your first sales order.'})}),(0,sr.jsx)("style",{children:'\n          .sales-order-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n            max-width: none;\n            white-space: nowrap;\n            text-overflow: clip;\n            overflow: visible;\n            width: auto;\n          }\n\n          .status-draft {\n            background-color: #FEF3C7;\n            color: #92400E;\n          }\n\n          .status-fulfilled {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-cancelled {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .sales-order-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n\n          .k-grid .k-table-td .status-badge {\n            max-width: none !important;\n            overflow: visible !important;\n        }\n      '})]})})},tA=()=>{const e=ve(),{itemFulfillments:t,loading:n,error:i,refresh:r}=yy(),{customers:a}=my(),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)({show:!1,message:"",type:"success"}),[u,h]=(0,o.useState)({skip:0,take:10,sort:[{field:"deliveryDate",dir:"desc"}]}),m=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find(t=>t.id===e);return n?n.name:"Unknown Customer"},f=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},g=(0,o.useCallback)(()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];s&&(e=e.filter(e=>{const t=m(e.customerID);return"".concat(t," ").concat(e.soNumber||"").toLowerCase().includes(s.toLowerCase())}));return{data:ab(e,u).data,total:e.length}},[t,s,a,u]);return n?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"sales-order-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading item fulfillments..."})]})})}):i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"sales-order-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading item fulfillments: ",i]}),(0,sr.jsxs)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"sales-order-list-container",children:[(0,sr.jsx)(ay,{children:c.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:c.type,icon:!0},closable:!0,onClose:()=>d({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:c.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Item Fulfillment Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/item-fulfillment/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Item Fulfillment"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search item fulfillments...",value:s,onChange:e=>l(e.target.value)})]}),(0,sr.jsx)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===g().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No item fulfillments match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:g().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},u),{},{onDataStateChange:e=>{h(e.dataState)},total:g().total,style:{height:"calc(100vh - 250px)",minHeight:"400px",width:"100%"},children:[(0,sr.jsx)(zy,{title:"No",width:"80px",cell:e=>{const t=e.dataIndex+1+(u.skip||0);return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,sr.jsx)(zy,{field:"sequenceNumber",title:"Reference Number",width:"180px"}),(0,sr.jsx)(zy,{field:"deliveryDate",title:"Delivery Date",width:"160px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:f(e.dataItem[e.field])}))}),(0,sr.jsx)(zy,{field:"customerID",title:"Customer",width:"220px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:m(e.dataItem.customerID)}))}),(0,sr.jsx)(zy,{title:"Actions",width:"140px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/item-fulfillment/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/item-fulfillment/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid fulfillment data"}))}})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No item fulfillments found. Click the "Add New Item Fulfillment" button above to create your first item fulfillment.'})}),(0,sr.jsx)("style",{children:'\n          .sales-order-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n            padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n            border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n          }\n\n          @media (max-width: 768px) {\n            .sales-order-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n          }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n          }\n\n          @media (max-width: 768px) {\n            .page-container {\n              padding: 12px;\n            }\n\n            .item-fulfillment-list-container {\n              padding: 12px;\n            }\n\n            .list-header {\n              flex-direction: column;\n              gap: 12px;\n              align-items: stretch;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: 100%;\n            }\n\n            .k-grid {\n              font-size: 13px;\n            }\n\n            .action-buttons {\n              flex-direction: column;\n              gap: 4px;\n            }\n\n            .action-buttons .k-button {\n              min-width: 50px;\n              font-size: 11px;\n            }\n          }\n        '})]})})},nA=()=>{const e=ve(),{invoices:t,loading:n,error:i,refresh:r}=xy(),{customers:a}=my(),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[m,f]=(0,o.useState)({skip:0,take:10,sort:[{field:"invoiceDate",dir:"desc"}]}),g=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find(t=>t.id===e);return n?n.name:"Unknown Customer"},v=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),y=(0,o.useCallback)(()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];s&&(e=e.filter(e=>{const t=g(e.customerID);return"".concat(e.invoiceNumber||""," ").concat(t," ").concat(e.status," ").concat(v(e.totalAmount)).toLowerCase().includes(s.toLowerCase())})),"All"!==c&&(e=e.filter(e=>e.status===c));return{data:ab(e,m).data,total:e.length}},[t,s,c,a,m]);return n?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"sales-order-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading invoices..."})]})})}):i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"sales-order-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading invoices: ",i]}),(0,sr.jsxs)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"sales-order-list-container",children:[(0,sr.jsx)(ay,{children:u.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:u.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Invoice Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/invoice/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Invoice"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search invoices...",value:s,onChange:e=>l(e.target.value)})]}),(0,sr.jsxs)("div",{className:"filter-bar",children:[(0,sr.jsx)(Yi,{className:"filter-icon"}),(0,sr.jsx)(Sh,{data:["All","Draft","Paid","Cancelled"],value:c,onChange:e=>d(e.target.value),style:{width:"100%"}})]}),(0,sr.jsx)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===y().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No invoices match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},m),{},{onDataStateChange:e=>{f(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(m.skip||0);return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,sr.jsx)(zy,{field:"sequenceNumber",title:"Document Number",width:"180px"}),(0,sr.jsx)(zy,{field:"customerID",title:"Customer",width:"200px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:g(e.dataItem.customerID)}))}),(0,sr.jsx)(zy,{field:"status",title:"Status",width:"150px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,sr.jsx)("span",{className:"status-badge ".concat("status-open"),children:"Open"})}))}),(0,sr.jsx)(zy,{field:"totalAmount",title:"Total Amount",width:"140px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:v(e.dataItem[e.field])}))}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/invoice/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/invoice/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid invoice data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No invoices found. Click the "Add New Invoice" button above to create your first invoice.'})}),(0,sr.jsx)("style",{children:'\n          .sales-order-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n            max-width: none;\n            white-space: nowrap;\n            text-overflow: clip;\n            overflow: visible;\n            width: auto;\n          }\n\n          .status-draft {\n            background-color: #FEF3C7;\n            color: #92400E;\n          }\n\n          .status-paid {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-cancelled {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .sales-order-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n\n          .k-grid .k-table-td .status-badge {\n            max-width: none !important;\n            overflow: visible !important;\n        }\n      '})]})})},oA=()=>{console.log("CreditMemoList component mounted");const e=ve(),{creditMemos:t,loading:n,error:i,refresh:r}=by(),{customers:a}=my();console.log("Hook results:",{creditMemos:t,loading:n,error:i});const[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[m,f]=(0,o.useState)({skip:0,take:10,sort:[{field:"tranDate",dir:"desc"}]});(0,o.useEffect)(()=>{console.log("CreditMemoList useEffect - creditMemos changed:",t),console.log("Loading:",n,"Error:",i)},[t,n,i]);const g=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find(t=>t.id===e);return n?n.name:"Unknown Customer"},v=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),y=(0,o.useCallback)(()=>{if(console.log("CreditMemos data:",t),(null===t||void 0===t||!t.results)&&!Array.isArray(t))return{data:[],total:0};let e=[...Array.isArray(t)?t:(null===t||void 0===t?void 0:t.results)||[]];s&&(e=e.filter(e=>{const t=e.customerName||g(e.customerID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(v(e.totalAmount)).toLowerCase().includes(s.toLowerCase())}));return{data:ab(e,m).data,total:e.length}},[t,s,c,a,m]);return i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"sales-order-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading credit memos: ",i]}),(0,sr.jsxs)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"sales-order-list-container",children:[(0,sr.jsx)(ay,{children:u.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:u.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Credit Memo Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/credit-memo/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Credit Memo"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search credit memos...",value:s,onChange:e=>l(e.target.value)})]}),(0,sr.jsx)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===y().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No credit memos match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},m),{},{onDataStateChange:e=>{f(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(m.skip||0);return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,sr.jsx)(zy,{field:"sequenceNumber",title:"Document Number",width:"220px"}),(0,sr.jsx)(zy,{field:"customerID",title:"Customer",width:"260px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.customerName||g(e.dataItem.customerID)}))}),(0,sr.jsx)(zy,{field:"totalAmount",title:"Amount",width:"160px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:v(e.dataItem[e.field])}))}),(0,sr.jsx)(zy,{field:"",title:"Actions",width:"160px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/credit-memo/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/credit-memo/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid credit memo data"}))}})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No credit memos found. Click the "Add New Credit Memo" button above to create your first credit memo.'})}),(0,sr.jsx)("style",{children:'\n          .sales-order-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .sales-order-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n      '})]})})},iA=()=>{const e=ve(),{debitMemos:t,loading:n,error:i,refresh:r}=wy(),{customers:a}=my(),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[m,f]=(0,o.useState)({skip:0,take:10,sort:[{field:"tranDate",dir:"desc"}]}),g=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find(t=>t.id===e);return n?n.name:"Unknown Customer"},v=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),y=(0,o.useCallback)(()=>{if(console.log("DebitMemos data:",t),(null===t||void 0===t||!t.results)&&!Array.isArray(t))return{data:[],total:0};let e=[...Array.isArray(t)?t:(null===t||void 0===t?void 0:t.results)||[]];s&&(e=e.filter(e=>{const t=e.customerName||g(e.customerID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(v(e.totalAmount)).toLowerCase().includes(s.toLowerCase())}));return{data:ab(e,m).data,total:e.length}},[t,s,c,a,m]);return n?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"sales-order-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading debit memos..."})]})})}):i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"sales-order-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading debit memos: ",i]}),(0,sr.jsxs)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"sales-order-list-container",children:[(0,sr.jsx)(ay,{children:u.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:u.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Debit Memo Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/debit-memo/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Debit Memo"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search debit memos...",value:s,onChange:e=>l(e.target.value)})]}),(0,sr.jsx)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===y().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No debit memos match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},m),{},{onDataStateChange:e=>{f(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(m.skip||0);return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,sr.jsx)(zy,{field:"sequenceNumber",title:"Document Number",width:"220px"}),(0,sr.jsx)(zy,{field:"customerID",title:"Customer",width:"260px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.customerName||g(e.dataItem.customerID)}))}),(0,sr.jsx)(zy,{field:"totalAmount",title:"Amount",width:"160px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:v(e.dataItem[e.field])}))}),(0,sr.jsx)(zy,{field:"",title:"Actions",width:"160px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/debit-memo/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/debit-memo/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid debit memo data"}))}})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No debit memos found. Click the "Add New Debit Memo" button above to create your first debit memo.'})}),(0,sr.jsx)("style",{children:'\n          .sales-order-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .sales-order-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n      '})]})})},rA=["validationMessage","visited","label"],aA=e=>{const t={};return Object.keys(e).forEach(n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)}),t},sA=o.createContext({}),lA="itemDataIndex",cA="id",dA=o.memo(e=>{let{recordType:t,mode:n="new",embedded:i=!1,onTotalAmountChange:r,headerDiscount:a=0,selectedLocation:l,poid:c=null,irid:d=null,onUnreceivedLinesLoaded:u=null,vendorId:h=null,onCreditApplicationChange:m=null}=e;const f=ve(),{id:g}=ye(),{loading:v,error:y,fetchFormConfiguration:x}=cy(),{getProductPurchasePriceTaxCode:b}=Ry(),[w,k]=(0,o.useState)({show:!1,message:"",type:"success"}),[C,S]=(0,o.useState)(!1),[I,E]=(0,o.useState)(!1),[j,A]=(0,o.useState)(null),[_,D]=(0,o.useState)(null),[N,T]=(0,o.useState)({}),[P,M]=(0,o.useState)({}),[O,R]=(0,o.useState)(!1),[L,F]=(0,o.useState)("items"),[z,B]=(0,o.useState)(""),[V,H]=(0,o.useState)([]),[q,U]=(0,o.useState)(0),[G,W]=(0,o.useState)(0),[K,Y]=(0,o.useState)(!1),X=(0,o.useRef)(1),J=(0,o.useRef)(new Map),Q=(0,o.useRef)(!0),Z=(0,o.useRef)(null),[$,ee]=(0,o.useState)([]),[te,ne]=(0,o.useState)(!1),[oe,ie]=(0,o.useState)([]),[re,ae]=(0,o.useState)(!1),se={PurchaseOrder:"/purchase-order",ItemReceipt:"/item-receipt",VendorBill:"/vendor-bill",VendorCredit:"/vendor-credit"},le=(0,o.useCallback)(e=>{switch(e){case"PurchaseOrder":return{title:"Items",fields:["itemID","quantity","receivedQty","rate","taxID","taxPercent","taxAmount","totalAmount"]};case"ItemReceipt":return{title:"Items",fields:["itemID","quantityReceived","remQty","rate","taxID","taxPercent","taxAmount","totalAmount"]};default:return{title:"Items",fields:["itemID","quantity","rate","taxID","taxPercent","taxAmount","totalAmount"]}}},[]),ce=(0,o.useCallback)(function(e){k({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{k({show:!1,message:"",type:"success"})},4e3)},[]),de=e=>{const t=parseFloat(String(null!==e&&void 0!==e?e:"").replace(/,/g,""));return Number.isFinite(t)?t:0},ue=(e,t,n)=>Math.max(t,Math.min(n,e)),pe=(0,o.useCallback)(async e=>{if(!e)return[];try{const t=hr("/vendor-bill/by-vendor/".concat(e)),n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}},[]),he=((0,o.useCallback)(()=>{const e=(N.items||[]).reduce((e,t)=>e+(t.totalAmount||0),0);return e},[N.items]),(0,o.useCallback)(e=>{if("VendorCredit"===t){const t=e.toString();z!==t&&(B(t),V&&V.length>0&&ge({creditAmountStr:t}))}r&&r(e)},[t,r,z,V]));(0,o.useEffect)(()=>{if(m&&"VendorCredit"===t){const e={creditAmount:z,vendorBills:V,appliedTo:q,unapplied:G,originalData:Z.current};m(e)}},[z,V,q,G,t]);const me=(0,o.useCallback)(async e=>{try{const t=await fetch("".concat(pr.baseURL,"/vendor-credit-payment-line/by-vendor-credit/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=await t.json();return Array.isArray(e)?e:e.lines||e.results||[]}return[]}catch(j){return console.error("Error fetching vendor credit payment lines:",j),[]}},[]),fe=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const o=new Map;t.forEach(e=>o.set(e.recordID,e));let i=e.map(e=>{let t="N/A",i=0;if(e.invoiceDate){const n=new Date(e.invoiceDate);isNaN(n.getTime())||(t="".concat(n.getDate().toString().padStart(2,"0"),"/").concat((n.getMonth()+1).toString().padStart(2,"0"),"/").concat(n.getFullYear()),i=n.getTime())}const r=o.get(e.id);return{id:e.id,date:t,dateKey:i,type:"Vendor Bill",refNo:e.sequenceNumber,dueAmount:de(e.amountDue||e.totalAmount),originalAmount:de(e.totalAmount),displayAmount:r?r.paymentAmount:0,originalDisplayAmount:r?r.paymentAmount:0,checked:!!r&&r.isApplied,userTyped:!!r,lockedSeq:null,disabled:"view"===n}}).sort((e,t)=>e.dateKey-t.dateKey);return"view"===n&&(i=i.filter(e=>e.checked&&e.displayAmount>0)),i},[n]);(0,o.useEffect)(()=>{(async()=>{if("VendorCredit"===t&&h){Y(!0);try{const e=await pe(h);let t;if("edit"!==n&&"view"!==n||!g)t=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>{let t="N/A",n=0;if(e.invoiceDate){const o=new Date(e.invoiceDate);isNaN(o.getTime())||(t="".concat(o.getDate().toString().padStart(2,"0"),"/").concat((o.getMonth()+1).toString().padStart(2,"0"),"/").concat(o.getFullYear()),n=o.getTime())}return{id:e.id,date:t,dateKey:n,type:"Vendor Bill",refNo:e.sequenceNumber,dueAmount:de(e.amountDue||e.totalAmount),originalAmount:de(e.totalAmount),displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null,disabled:!1}}).sort((e,t)=>e.dateKey-t.dateKey)}(e);else{const o=await me(g);"edit"===n&&(Z.current={lines:o},console.log("Stored original payment lines for edit mode:",Z.current)),t=fe(e,o)}Q.current=!0,H(t)}catch(e){console.error("\u274c Error fetching vendor credit data:",e),H([])}finally{Y(!1)}}else H([])})()},[h,t,n,g,pe,me,fe]);const ge=e=>{var t,o;const i=de(null!==(t=null===e||void 0===e?void 0:e.creditAmountStr)&&void 0!==t?t:z);let r=i;const a=null!==(o=null===e||void 0===e?void 0:e.vendorBills)&&void 0!==o?o:V;if(!a||0===a.length)return;const s=a.map(e=>{var t;const o=e.userTyped&&null!==(t=e.lockedSeq)&&void 0!==t?t:1/0,i=e.displayAmount,r=e.originalDisplayAmount||0,a="edit"===n&&g?e.dueAmount+r:e.dueAmount,s=e.userTyped?ue(i,0,a):0,l=!e.userTyped&&i>0?ue(i,0,a):0;return{id:e.id,dateKey:e.dateKey,dueAmount:e.dueAmount,originalDisplayAmount:r,lineCap:a,checked:e.checked,userTyped:e.userTyped,typedOrder:o,typedRequested:s,stickyRequested:l,appliedCash:0}}),l=s.filter(e=>e.typedRequested>0).sort((e,t)=>e.typedOrder-t.typedOrder||e.dateKey-t.dateKey);for(const n of l){let e=n.typedRequested;const t=Math.min(e,r);n.appliedCash+=t,r-=t}const c=s.filter(e=>0===e.typedRequested&&e.stickyRequested>0).sort((e,t)=>e.dateKey-t.dateKey);for(const n of c){const e=n.appliedCash;let t=Math.max(n.stickyRequested-e,0);if(t<=0)continue;const o=Math.min(t,r);n.appliedCash+=o,r-=o}const d=s.filter(e=>0===e.typedRequested&&0===e.stickyRequested&&!0===e.checked).sort((e,t)=>e.dateKey-t.dateKey);for(const n of d){const e=n.appliedCash,t=Math.max(n.dueAmount-e,0);if(t<=0)continue;let o=t;const i=Math.min(o,r);n.appliedCash+=i,r-=i}let u=0;const h=a.map(e=>{const t=s.find(t=>t.id===e.id),n=t.appliedCash;return u+=n,p(p({},e),{},{displayAmount:n,checked:n>0,appliedCash:t.appliedCash})}),m=Math.max(i-u,0),f=((e,t)=>{const n=t;return e.map(e=>{const t=0===e.displayAmount&&n<=0;return p(p({},e),{},{disabled:t})})})(h,m);H(f),U(u),W(m)},xe=(0,o.useCallback)(async(e,t)=>{if(!e||!t||0===t.length)return;const n=t.filter(e=>e.checked&&e.displayAmount>0).map(async t=>{const n={id:null,paymentAmount:t.displayAmount,recordID:t.id,isApplied:!0,refNo:t.refNo,recordType:t.type,vcid:e,paymentSeqNum:null,mainRecordAmount:t.originalAmount};try{const e=await fetch(hr("/vendor-credit-payment-line"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(aA(n))});if(!e.ok){const t=await e.text();throw new Error("Failed to create vendor credit payment line: ".concat(e.status," - ").concat(t))}return await e.json()}catch(j){throw console.error("Error creating vendor credit payment line:",j),j}});try{await Promise.all(n),ce("Credit applications saved successfully","success")}catch(j){throw ce("Error saving credit applications: ".concat(j.message),"error"),j}},[ce]),be=((0,o.useCallback)(async()=>{if("VendorCredit"===t&&g)try{Y(!0),await xe(g,V)}catch(j){console.error("Error saving credit applications:",j)}finally{Y(!1)}},[t,g,V,xe]),(0,o.useCallback)(async e=>{if(!e)return ee([]),void ne(!1);try{const t="".concat(pr.baseURL,"/purchase-order-line/unreceived/?POID=").concat(e),n=await fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok){if(404===n.status)return ee([]),void ne(!1);throw new Error("Failed to fetch unreceived items: ".concat(n.status))}const o=(await n.json()).results||[];ee(o),ne(o.length>0)}catch(j){ee([]),ne(!1),ce("Failed to load unreceived items: ".concat(j.message),"error")}},[ce])),we=(0,o.useCallback)(async e=>{if(!e||"VendorBill"!==t)return[];try{ae(!0);const t=hr("/item-receipt-line/uninvoiced?IRID=".concat(e));console.log("[PurchaseItems] Fetching unbilled lines from:",t);const n=await fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("Failed to fetch unbilled item receipt lines: ".concat(n.status));const o=await n.json(),i=o.lines||o.results||o||[];return console.log("[PurchaseItems] Fetched unbilled lines:",i),ie(i),i}catch(n){return console.error("Error fetching unbilled item receipt lines:",n),ce("Error fetching unbilled lines: ".concat(n.message),"error"),ie([]),[]}finally{ae(!1)}},[t,ce]),ke=(0,o.useCallback)(async(e,t)=>{try{const n=await fetch("".concat(pr.baseURL).concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}},[]),Ce=(0,o.useCallback)(async e=>{const n={PurchaseOrder:{endpoint:"".concat(pr.baseURL,"/purchase-order-line/by-purchase-order/").concat(e),idField:"poid"},ItemReceipt:{endpoint:"".concat(pr.baseURL,"/item-receipt-line/by-item-receipt/").concat(e),idField:"irid"},VendorBill:{endpoint:"".concat(pr.baseURL,"/vendor-bill-line/by-vendor-bill/").concat(e),idField:"vbid"},VendorCredit:{endpoint:"".concat(pr.baseURL,"/vendor-credit-line/by-vendor-credit/").concat(e),idField:"vcid"}}[t];if(!n)throw new Error("Unsupported record type: ".concat(t));try{const e=await fetch(n.endpoint,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){if(404===e.status)return[];throw new Error("Failed to load transaction items: ".concat(e.status))}const t=await e.json();return(t.results||t||[]).map((e,t)=>({itemID:e.itemID||"",quantity:e.quantity,receivedQty:e.receivedQty||0,rate:e.rate||0,taxID:e.taxID||"",taxPercent:e.taxPercent||0,taxAmount:e.taxAmount||0,totalAmount:e.totalAmount||0}))}catch(o){throw o}},[t]);(0,o.useEffect)(()=>{let e=!0;return(async()=>{if(e)try{E(!0),A(null),R(!1);const i=le(t);D(i);const r=[ke("/product").then(e=>({name:"itemID",data:e})),ke("/tax").then(e=>({name:"taxID",data:e}))],a=await Promise.all(r);if(!e)return;const s=a.reduce((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e},{});M(s);const l={transactionId:g||null,items:[]};if("new"!==n&&g)try{const e=await Ce(g);e&&e.length>0&&(l.items=e)}catch(o){}if(!e)return;T(l),R(!0)}catch(o){if(!e)return;A(o.message),ce(o.message,"error")}finally{if(!e)return;E(!1)}})(),()=>{e=!1}},[n,g,t,le,ke,Ce]),(0,o.useEffect)(()=>{"ItemReceipt"!==t||!c||"new"!==n&&"edit"!==n||be(c)},[c,t,n,be]),(0,o.useEffect)(()=>{"VendorBill"!==t||!d||"new"!==n&&"edit"!==n||(console.log("[PurchaseItems] IRID changed, fetching unbilled items:",d),we(d))},[d,t,n,we]);(0,o.useCallback)(function(e,t){const n=(e||0)*(t||0)-(a||0);return n+n*((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)||0)/100},[a]);const Se=(0,o.useCallback)(e=>(P[e]||[]).map(t=>{if("string"===typeof t)return{text:t,value:t};if(!t.id)return{text:String(t),value:t};return{text:(t=>{if("itemID"===e&&t.itemName&&t.itemCode)return"".concat(t.itemCode," - ").concat(t.itemName);if("taxID"===e&&t.taxName)return t.taxName;const n=["name","itemName","productName","description","title","taxName"];for(const e of n)if(t[e])return t[e];return String(t.id)})(t),value:t.id,item:t}}),[P]),Ie=((0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,visited:i,label:r}=e,a=s(e,rA),l=i&&o,c=p(p({},a),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||a.disabled}),d={text:{component:Fc,props:c},number:{component:xu,props:p(p({},c),{},{min:0,step:0})},textarea:{component:Cu,props:p(p({},c),{},{rows:2})},date:{component:Zv,props:c},dropdown:{component:Sh,props:p(p({},c),Se(e))}},u=d[t]||d.text;return(0,sr.jsxs)("div",{children:[(0,sr.jsx)(u.component,p({},u.props)),l&&(0,sr.jsx)("div",{className:"k-form-error",children:o})]})}},[n,Se]),e=>{const{parentField:i,editIndex:r,validatedItems:a,onUpdateField:s,poid:l,selectedLocation:c,unreceivedLines:d,isRestrictedToUnreceived:u,irid:h,unbilledItems:m,unbilledLoading:f}=o.useContext(sA),g=e.dataItem[lA]===r;a.includes(e.dataItem[lA]);if(g){let o;if("ItemReceipt"===t&&l&&d&&d.length>0){const e=d.map(e=>{const t=Se("itemID").find(t=>t.value===e.itemID);return{text:(null===t||void 0===t?void 0:t.text)||"Item ".concat(e.itemID),value:e.itemID,item:p(p({},null===t||void 0===t?void 0:t.item),{},{unreceivedLine:e})}});o=e}else if("VendorBill"===t&&h&&m&&m.length>0){const e=m.map(e=>{const t=Se("itemID").find(t=>t.value===e.itemID);return{text:(null===t||void 0===t?void 0:t.text)||"Item ".concat(e.itemID),value:e.itemID,item:p(p({},null===t||void 0===t?void 0:t.item),{},{unbilledLine:e})}});o=e}else o="VendorBill"===t&&"new"===n&&h&&f?[{text:"Loading unbilled items...",value:"",disabled:!0}]:Se("itemID");return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Sh,{data:o,textField:"text",dataItemKey:"value",valueField:"value",value:o.find(t=>t.value===e.dataItem[e.field])||null,onChange:async t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;await s(e.dataItem[lA],e.field,o)},style:{width:"100%"}})}))}const v=e.dataItem[e.field],y=Se("itemID").find(e=>e.value===v),x=(null===y||void 0===y?void 0:y.text)||"";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:x})}))}),Ee=e=>{const{parentField:n,editIndex:i,onUpdateField:r,poid:a,selectedLocation:s,unreceivedLines:l,isRestrictedToUnreceived:c,irid:d,unbilledItems:u,unbilledLoading:h}=o.useContext(sA);if(e.dataItem[lA]===i){var m;let n=null,o=null;if("ItemReceipt"===t&&a&&l&&l.length>0){const t=l.find(t=>t.itemID===e.dataItem.itemID);if(t){o=(t.quantity||0)-(t.receivedQty||0),n=o}}if("VendorBill"===t&&d&&u&&u.length>0){const t=u.find(t=>t.itemID===e.dataItem.itemID);if(t){o=(t.quantity||0)-(t.billedQty||0),n=o}}return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Fc,{type:"number",min:"0",max:n||void 0,step:"1",value:null!==(m=e.dataItem[e.field])&&void 0!==m?m:"",onChange:o=>{const i=o.target.value;let a=""===i?"":parseInt(i)||"";if(null!==n&&a>n){alert("Cannot ".concat("VendorBill"===t?"bill":"receive"," more than remaining quantity: ").concat(n)),a=n}r(e.dataItem[lA],e.field,a)},onKeyDown:e=>{"."!==e.key&&","!==e.key||e.preventDefault()},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"},title:null!==o?"Remaining to ".concat("VendorBill"===t?"bill":"receive",": ").concat(o):void 0})}))}return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:e.dataItem[e.field]||""})}))},je=e=>{const{parentField:t,editIndex:n,onUpdateField:i}=o.useContext(sA);var r;if(e.dataItem[lA]===n)return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Fc,{type:"number",min:"0",step:"0.01",value:null!==(r=e.dataItem[e.field])&&void 0!==r?r:"",onChange:t=>{const n=t.target.value,o=""===n?"":parseFloat(n)||"";i(e.dataItem[lA],e.field,o)},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})}));const a=e.dataItem[e.field],s=null!==a&&void 0!==a&&"number"===typeof a?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a):0===a?"0.00":"";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:s})}))},Ae=e=>{const{parentField:t,editIndex:n,validatedItems:i,onUpdateField:r}=o.useContext(sA);if(e.dataItem[lA]===n){const t=Se("taxID");return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Sh,{data:t,textField:"text",dataItemKey:"value",valueField:"value",value:t.find(t=>t.value===e.dataItem.taxID)||null,onChange:t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;r(e.dataItem[lA],"taxID",o)},style:{width:"100%"}})}))}const a=e.dataItem.taxID,s=Se("taxID");let l;l="object"===typeof a&&null!==a&&void 0!==a&&a.value?a.value:a;const c=s.find(e=>e.value===l),d=(null===c||void 0===c?void 0:c.text)||"";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:d})}))},_e=e=>{const t=e.dataItem.taxPercent||0;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsxs)("span",{style:{padding:"8px",display:"block"},children:[t.toFixed(1),"%"]})}))},De=e=>{const t=e.dataItem.taxAmount||0;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:t.toFixed(2)})}))},Ne=e=>{const t=e.dataItem.totalAmount||0;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block",fontWeight:"bold"},children:t.toFixed(2)})}))},Te=e=>{const t=e.dataItem.receivedQty||0;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:t})}))},Pe=e=>{const t=e.dataItem.invoicedQty||0;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block",color:"#666",fontStyle:"italic"},children:t})}))},Me=e=>{const{unreceivedLines:n,unbilledItems:i}=o.useContext(sA);let r=0;if("ItemReceipt"===t&&e.dataItem.itemID&&n&&n.length>0){const t=n.find(t=>t.itemID===e.dataItem.itemID);t&&(r=(t.quantity||0)-(t.receivedQty||0))}if("VendorBill"===t&&e.dataItem.itemID&&i&&i.length>0){const t=i.find(t=>t.itemID===e.dataItem.itemID);t&&(r=(t.quantity||0)-(t.billedQty||0))}return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block",color:"#666",fontStyle:"italic"},children:r})}))},Oe=e=>{const{onRemove:t,onEdit:i,onSave:r,onCancel:a,editIndex:s,validateItem:l}=o.useContext(sA),c=e.dataItem[lA]===s,d=!e.dataItem[cA]||!e.dataItem.itemID,u=(0,o.useCallback)(n=>{n.preventDefault(),t(e.dataItem)},[e.dataItem,t]),h=(0,o.useCallback)(t=>{t.preventDefault(),i(e.dataItem,d)},[e.dataItem,i,d]),m=(0,o.useCallback)(t=>{t.preventDefault(),r(e.dataItem)},[r,e.dataItem]),f=(0,o.useCallback)(n=>{n.preventDefault(),t(e.dataItem)},[e.dataItem,a]);return c?(0,sr.jsxs)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:[(0,sr.jsx)(bo,{type:"button",onClick:m,className:"k-grid-save-command",size:"small",style:{marginRight:"4px",backgroundColor:"#4CAF50",color:"white",fontSize:"12px",padding:"4px 8px"},title:d?"Add this item when complete":"Save changes to this item",disabled:"view"===n,children:d?"Add":"Save"}),(0,sr.jsx)(bo,{type:"button",onClick:d?u:f,className:"k-grid-cancel-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},title:d?"Remove this item":"Cancel editing",disabled:"view"===n,children:d?"Discard":"Cancel"})]})):(0,sr.jsx)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:"view"!==n&&(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)(bo,{type:"button",themeColor:"primary",onClick:h,className:"k-grid-edit-command",size:"small",style:{marginRight:"4px",fontSize:"12px",padding:"4px 8px"},children:"Edit"}),(0,sr.jsx)(bo,{type:"button",onClick:u,className:"k-grid-remove-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},children:"Remove"})]})}))},Re=e=>{const{validationMessage:i,visited:r,name:s,dataItemKey:u,onTotalAmountChange:h}=e,[m,f]=(0,o.useState)(void 0),g=o.useRef(void 0),[v,y]=(0,o.useState)([]),x=(0,o.useCallback)(t=>{if(void 0!==t&&e.value[t]){y(e=>e.includes(t)?e:[...e,t]);const n=e.value[t];return n.itemID&&null!==n.itemID}return!1},[e.value]),w=(0,o.useCallback)(async(n,o,i)=>{const r=p(p({},e.value[n]),{},{[o]:i});if("itemID"===o&&i)try{if(!l)return alert("Please select a location first"),r.itemID="",void e.onReplace({index:n,value:r});const o=e.value||[];if(-1!==o.findIndex((e,t)=>t!==n&&e.itemID===i))return alert("This item has already been added to the list. Please select a different item."),r.itemID="",void e.onReplace({index:n,value:r});if("ItemReceipt"===t&&c&&$&&$.length>0){const e=$.find(e=>e.itemID===i);if(e){r.rate=e.rate||0,r.taxID=e.taxID||"",r.taxPercent=e.taxPercent||0;const n=e.quantity||0,o=n-(e.receivedQty||0);r["ItemReceipt"===t?"quantityReceived":"quantity"]=o>0?o:1}}else if("VendorBill"===t&&d&&oe&&oe.length>0){const e=oe.find(e=>e.itemID===i);if(e){r.rate=e.rate||0,r.taxID=e.taxID||"",r.taxPercent=e.taxPercent||0;const t=e.quantity||0,n=t-(e.billedQty||0);r.quantity=n>0?n:1}}else{const{purchasePrice:e,taxCode:t}=await b(i);r.rate=e||0,r.taxID=t||""}}catch(j){}e.onReplace({index:n,value:r})},[e,t,l,b]),k=e=>{if(!e||0===e.length)return{totalAmount:0,totalQuantity:0};const t=e.reduce((e,t)=>e+(t.totalAmount||0),0),n=e.reduce((e,t)=>e+(t.quantity||0),0);return{totalAmount:t,totalQuantity:n}},[C,S]=(0,o.useState)(()=>k(e.value));(0,o.useEffect)(()=>{h&&h(C.totalAmount)},[h,C.totalAmount]);const I=(0,o.useCallback)(()=>{const t=k(e.value);S(t),h&&h(t.totalAmount)},[e.value,t,h]),E=(0,o.useCallback)(o=>{if(!l)return void alert("Please select a location first! and Mandatory fields are required");if(o.preventDefault(),void 0!==m||"view"===n)return;const i=e.value||[],r=i.findIndex(e=>!e.itemID);if(-1!==r)return void f(r);const a={id:i.length>0?Math.max(...i.map(e=>parseInt(e.id)||0))+1:1,itemID:"",rate:0,taxID:"",taxPercent:0,totalAmount:0};"ItemReceipt"===t?a.quantityReceived=1:"Invoice"===t?a.quantityDelivered=1:a.quantity=1,e.onUnshift({value:a}),f(0),setTimeout(()=>I(),0)},[e,m,t,n,I]),A=(0,o.useCallback)(t=>{e.onRemove({index:t[lA]}),f(void 0),g.current=void 0,setTimeout(()=>I(),0)},[e,I]),_=(0,o.useCallback)(e=>{g.current=vr(e),f(e[lA])},[]),D=(0,o.useCallback)(()=>{g.current&&e.onReplace({index:g.current[lA],value:g.current}),g.current=void 0,f(void 0),setTimeout(()=>I(),0)},[e,I]),N=(0,o.useCallback)(n=>{const o=n[lA],i=e.value[o];if(!i.itemID)return void alert("Product is required");const r="ItemReceipt"===t?"quantityReceived":"Invoice"===t?"quantityDelivered":"quantity";if(!i[r]||i[r]<=0)return void alert("Quantity must be greater than 0");const s=""===i[r]?0:parseFloat(i[r])||0,l=""===i.rate?0:parseFloat(i.rate)||0,c=i.taxID||"";let d=0;if(c){const e=Se("taxID").find(e=>e.value===c);if(e&&e.item){let t=0;if(e.item.taxName&&"string"===typeof e.item.taxName){const n=e.item.taxName.match(/-(\d+(?:\.\d+)?)/);n&&(t=parseFloat(n[1]))}0===t&&e.item.taxRate&&(t=parseFloat(e.item.taxRate)),d=t}}const u=s*l-(a||0),h="Invoice"===t?"taxRate":"taxAmount",m=Math.round(u*d/100*100)/100,v=Math.round(100*(u+m))/100;e.onReplace({index:o,value:p(p({},i),{},{taxPercent:d,[h]:m,totalAmount:v})}),f(void 0),g.current=void 0,setTimeout(()=>I(),0)},[e,t,Se,I]);o.useEffect(()=>{if(void 0!==m&&e.value[m]){const n=e.value[m],o="ItemReceipt"===t?"quantityReceived":"Invoice"===t?"quantityDelivered":"quantity",i=(""===n[o]?0:parseFloat(n[o])||0)*(""===n.rate?0:parseFloat(n.rate)||0)-(a||0),r=i*(parseFloat(n.taxPercent)||0)/100,s=i+r,l=Math.round(100*r)/100,c=Math.round(100*s)/100,d="Invoice"===t?"taxRate":"taxAmount",u=Math.round(100*(parseFloat(n[d])||0))/100;if(c===Math.round(100*(parseFloat(n.totalAmount)||0))/100&&l===u||e.onReplace({index:m,value:p(p({},n),{},{[d]:l,totalAmount:c})}),n.taxID){const t=Se("taxID").find(e=>e.value===n.taxID);if(t&&t.item){let o=0;if(t.item.taxName&&"string"===typeof t.item.taxName){const e=t.item.taxName.match(/-(\d+(?:\.\d+)?)/);e&&(o=parseFloat(e[1]))}0===o&&t.item.taxRate&&(o=parseFloat(t.item.taxRate)),o!==parseFloat(n.taxPercent||0)&&e.onReplace({index:m,value:p(p({},n),{},{taxPercent:o})})}}else n.taxPercent>0&&e.onReplace({index:m,value:p(p({},n),{},{taxPercent:0})})}},[m,e.value,t,Se,a]);const T=(e.value||[]).map((e,t)=>p(p({},e),{},{[lA]:t}));return(0,sr.jsxs)(sA.Provider,{value:{onCancel:D,onEdit:_,onRemove:A,onSave:N,onUpdateField:w,editIndex:m,parentField:s,validatedItems:v,validateItem:x,poid:c,selectedLocation:l,unreceivedLines:$,isRestrictedToUnreceived:te,irid:d,unbilledItems:oe,unbilledLoading:re},children:[r&&i&&(0,sr.jsx)("div",{className:"k-form-error",style:{color:"#e53e3e",fontSize:"12px",marginTop:"4px"},children:i}),"view"!==n&&(0,sr.jsxs)("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:"8px",paddingRight:"8px"},children:[(0,sr.jsxs)(bo,{onClick:E,themeColor:"success",fillMode:"solid",size:"medium",className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-success",children:[(0,sr.jsx)(Ji,{style:{marginRight:"6px"}})," Add Item"]}),(0,sr.jsxs)("div",{style:{fontWeight:"700",fontSize:"1.2rem",color:"#2d3748"},children:["Total Amount: ",C.totalAmount.toFixed(2)]})]}),(0,sr.jsx)("div",{className:"transaction-items-grid-container",style:{overflowX:"auto",overflowY:"visible",width:"100%",maxWidth:"100%"},children:(0,sr.jsxs)(Fj,{className:"transaction-items-grid",data:T,dataItemKey:u,rowRender:e=>{const t=p(p({},e.props),{},{style:p(p({},e.props.style),{},{borderBottom:"1px solid #e0e0e0"})});return o.cloneElement(e,p({},t),e.props.children)},style:{minWidth:"900px"},children:[(0,sr.jsx)(zy,{field:"itemID",title:"Item",cells:{data:Ie}}),(0,sr.jsx)(zy,{field:"ItemReceipt"===t?"quantityReceived":"Invoice"===t?"quantityDelivered":"quantity",title:"ItemReceipt"===t?"Qty Received":"Qty",width:"90px",cells:{data:Ee}}),"PurchaseOrder"===t&&("edit"===n||"view"===n)&&(0,sr.jsx)(zy,{field:"receivedQty",title:"Rec Qty",width:"90px",cells:{data:Te}}),"ItemReceipt"===t&&("edit"===n||"view"===n)&&(0,sr.jsx)(zy,{field:"invoicedQty",title:"Inv Qty",width:"90px",cells:{data:Pe},media:"(min-width: 992px)"}),("ItemReceipt"===t||"VendorBill"===t)&&("edit"===n||"new"===n)&&(0,sr.jsx)(zy,{field:"remQty",title:"REM Qty",width:"90px",cells:{data:Me},media:"(min-width: 768px)"}),(0,sr.jsx)(zy,{field:"rate",title:"Rate",width:"90px",cells:{data:je}}),(0,sr.jsx)(zy,{field:"taxID",title:"Tax",width:"100px",cells:{data:Ae}}),(0,sr.jsx)(zy,{field:"taxPercent",title:"Tax %",width:"70px",cells:{data:_e}}),"Invoice"===t?(0,sr.jsx)(zy,{field:"taxRate",title:"Tax Amt",width:"90px",cells:{data:De}}):(0,sr.jsx)(zy,{field:"taxAmount",title:"Tax Amt",width:"90px",cells:{data:De}}),(0,sr.jsx)(zy,{field:"totalAmount",title:"Amount",width:"90px",cells:{data:Ne}}),"view"!==n&&(0,sr.jsx)(zy,{width:"160px",cells:{data:Oe}})]})})]})};(0,o.useCallback)(e=>{const n={};if(e.items&&0!==e.items.length){e.items.map((e,n)=>{const o={};e.itemID||(o.itemID="Product is required");const i="ItemReceipt"===t?"quantityReceived":"Invoice"===t?"quantityDelivered":"quantity";return(!e[i]||e[i]<=0)&&(o[i]="Quantity must be greater than 0"),Object.keys(o).length>0?o:null}).filter(Boolean).length>0&&(n.items="Please fix item validation errors")}else n.items="At least one item is required";return n},[]);if(I||v||!_||!O)return(0,sr.jsx)("div",{className:"form-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsxs)("div",{children:["Loading ",t.toLowerCase()," items..."]})]})});if(j||y)return(0,sr.jsx)("div",{className:"form-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("h3",{children:["Error Loading ",t," Items"]}),(0,sr.jsx)("p",{children:j||y}),(0,sr.jsxs)(bo,{onClick:()=>f(se[t]||"/"),children:["Back to ",t," List"]})]})});const Le=()=>{if("VendorCredit"!==t)return null;const e=V.length>0&&V.every(e=>e.checked);return(0,sr.jsxs)("div",{className:"payment-container",children:[(0,sr.jsx)("style",{children:'\n          body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #f0f2f5; color: #333; padding: 20px; }\n          .payment-container { max-width: 1200px; margin: 0 auto; background-color: #fff; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }\n          .header-bar { background-color: #f7f9fa; padding: 15px 20px; border-bottom: 1px solid #ddd; display: flex; align-items: center; gap: 20px; }\n          .header-bar label { font-weight: 600; margin-right: 5px; font-size: 14px; }\n          .header-bar .k-numerictextbox { width: 140px; }\n          .header-bar .k-numerictextbox .k-input { font-size: 14px; }\n          .main-controls-area { padding: 20px 20px 0 20px; }\n          .controls-top-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n          .k-button { margin-right: 5px; }\n          .subtab-nav { border-bottom: 2px solid #dee2e6; display: flex; }\n          .subtab-link { background: none; border: none; padding: 10px 15px; cursor: pointer; font-size: 14px; font-weight: 600; color: #007bff; margin-bottom: -2px; }\n          .subtab-link.active { border-bottom: 2px solid #007bff; }\n          .subtab-header { background-color: #f7f9fa; padding: 10px 20px; border-bottom: 1px solid #ddd; display: flex; gap: 30px; font-size: 14px; font-weight: bold; }\n          .subtab-header strong { color: #000; }\n          .subtab-content { display: block; padding: 20px; }\n          table { width: 100%; border-collapse: collapse; font-size: 13px; }\n          th, td { padding: 10px 8px; text-align: left; border-bottom: 1px solid #e0e0e0; }\n          thead { background-color: #f7f9fa; }\n          th { font-weight: 600; color: #555; }\n          tr:hover { background-color: #f5f5f5; }\n          .text-right { text-align: right; }\n          .k-checkbox { width: 16px; height: 16px; cursor: pointer; }\n          .payment-input .k-numerictextbox { width: 90%; }\n          .payment-input .k-numerictextbox .k-input { text-align: right; }\n        '}),(0,sr.jsx)("div",{className:"header-bar",children:(0,sr.jsxs)("div",{children:[(0,sr.jsx)("label",{htmlFor:"creditAmountLimit",children:"CREDIT AMOUNT *"}),(0,sr.jsx)(xu,{id:"creditAmountLimit",placeholder:"0.00",min:0,step:0,format:"n2",decimals:2,spinners:!1,value:de(z),disabled:!0})]})}),(0,sr.jsxs)("div",{className:"main-controls-area",children:[(0,sr.jsx)("div",{className:"controls-top-row",children:(0,sr.jsx)("div",{children:(0,sr.jsx)(bo,{type:"button",disabled:"view"===n,onClick:e=>{e.preventDefault(),e.stopPropagation(),(()=>{const e=V.map(e=>p(p({},e),{},{displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null}));H(e),U(0),W(de(z))})()},children:"Clear All"})})}),(0,sr.jsx)("div",{className:"subtab-nav",children:(0,sr.jsx)("button",{type:"button",className:"subtab-link active",children:"Vendor Bills"})})]}),(0,sr.jsxs)("div",{className:"subtab-header",children:[(0,sr.jsxs)("span",{children:["Applied : ",(0,sr.jsxs)("strong",{children:["$",q.toFixed(2)]})]}),(0,sr.jsx)("span",{children:"\u2022"}),(0,sr.jsxs)("span",{children:["Unapplied Amount : ",(0,sr.jsxs)("strong",{children:["$",G.toFixed(2)]})]})]}),(0,sr.jsx)("div",{className:"subtab-content",children:K?(0,sr.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,sr.jsx)("p",{children:"Loading vendor bills..."})}):0===V.length?(0,sr.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,sr.jsx)("p",{children:"No vendor bills found for this vendor."})}):(0,sr.jsxs)("table",{children:[(0,sr.jsx)("thead",{children:(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("th",{children:(0,sr.jsx)(ju,{checked:e,disabled:"view"===n,onChange:e=>{(()=>{const e=V.length>0&&V.every(e=>e.checked),t=V.map(t=>p(p({},t),{},{checked:!e,userTyped:!1}));ge({vendorBills:t})})()}})}),(0,sr.jsx)("th",{children:"DATE"}),(0,sr.jsx)("th",{children:"TYPE"}),(0,sr.jsx)("th",{children:"REF NO."}),(0,sr.jsx)("th",{className:"text-right",children:"AMT. DUE"}),(0,sr.jsx)("th",{className:"text-right",children:"CREDIT"})]})}),(0,sr.jsx)("tbody",{children:V.map(e=>{const t=0===e.displayAmount?"":e.displayAmount.toFixed(2);return(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("td",{children:(0,sr.jsx)(ju,{checked:e.checked,disabled:"view"===n||e.disabled,onChange:t=>{const n=void 0!==t.value?t.value:!!t.target&&t.target.checked;((e,t)=>{const n=V.map(n=>n.id!==e?n:p(p({},n),{},t?{checked:!0,displayAmount:0,userTyped:!1}:{checked:!1,displayAmount:0,userTyped:!1}));Q.current=!0,ge({vendorBills:n})})(e.id,n)}})}),(0,sr.jsx)("td",{children:e.date}),(0,sr.jsx)("td",{children:e.type}),(0,sr.jsx)("td",{children:e.refNo}),(0,sr.jsxs)("td",{className:"text-right",children:["$",e.dueAmount.toFixed(2)]}),(0,sr.jsx)("td",{className:"text-right payment-input",children:(0,sr.jsx)(xu,{value:t,disabled:"view"===n,onChange:t=>{((e,t)=>{const n=V.map(n=>{if(n.id===e){const e=de(t),o=""!==t&&e>=0;return p(p({},n),{},{displayAmount:e,userTyped:o,lockedSeq:o?X.current++:null})}return n});Q.current=!0,ge({vendorBills:n})})(e.id,t.target.value)},onFocus:()=>(e=>{const t=V.find(t=>t.id===e);t&&J.current.set(e,{startCents:t.displayAmount,unappliedAtFocusCents:G})})(e.id),onBlur:()=>(e=>{J.current.delete(e)})(e.id),format:"n2",step:0,spinners:!1})})]},e.id)})})]})})]})};return i?(0,sr.jsxs)("div",{style:{width:"100%"},children:[(0,sr.jsx)(ay,{children:w.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:w.type,icon:!0},closable:!0,onClose:()=>k({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:w.message})})})}),"VendorCredit"===t&&(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)("style",{children:"\n              .modern-tab-navigation {\n                margin: 20px 0;\n                border-bottom: 2px solid #e8eaed;\n              }\n              .modern-tab-buttons {\n                display: flex;\n                gap: 0;\n                background: #f8f9fa;\n                border-radius: 8px 8px 0 0;\n                padding: 4px;\n                box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n              }\n              .modern-tab-button {\n                background: transparent;\n                border: none;\n                padding: 12px 24px;\n                font-size: 14px;\n                font-weight: 500;\n                color: #5f6368;\n                cursor: pointer;\n                border-radius: 6px;\n                transition: all 0.2s ease;\n                position: relative;\n                min-width: 100px;\n              }\n              .modern-tab-button:hover {\n                background: #e8f0fe;\n                color: #1a73e8;\n              }\n              .modern-tab-button.active {\n                background: #1a73e8;\n                color: white;\n                box-shadow: 0 2px 8px rgba(26, 115, 232, 0.3);\n              }\n              .modern-tab-button:focus {\n                outline: 2px solid #1a73e8;\n                outline-offset: 2px;\n              }\n            "}),(0,sr.jsx)("div",{className:"modern-tab-navigation",children:(0,sr.jsxs)("div",{className:"modern-tab-buttons",children:[(0,sr.jsx)("button",{type:"button",className:"modern-tab-button ".concat("items"===L?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),F("items")},children:"\ud83d\udccb Items"}),(0,sr.jsx)("button",{type:"button",className:"modern-tab-button ".concat("apply"===L?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),F("apply")},children:"\ud83d\udcb3 Apply"})]})})]}),"items"===L||"VendorCredit"!==t?(0,sr.jsx)(Fy,{name:"items",component:Re,dataItemKey:cA,validator:e=>e&&e.length?"":"Please add at least one item",onTotalAmountChange:he,headerDiscount:a,selectedLocation:l,poid:c,irid:d,onUnreceivedLinesLoaded:u}):Le()]}):(0,sr.jsxs)("div",{className:"form-container",children:[(0,sr.jsx)(ay,{children:w.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:w.type,icon:!0},closable:!0,onClose:()=>k({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:w.message})})})}),(0,sr.jsx)("div",{className:"form-header",children:(0,sr.jsx)("h2",{children:"new"===n?"Add ".concat(_.title):"edit"===n?"Edit ".concat(_.title):"View ".concat(_.title)})}),"VendorCredit"===t&&(0,sr.jsx)("div",{className:"tab-navigation",children:(0,sr.jsxs)("div",{className:"tab-buttons",children:[(0,sr.jsx)("button",{type:"button",className:"tab-button ".concat("items"===L?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),F("items")},children:"Items"}),(0,sr.jsx)("button",{type:"button",className:"tab-button ".concat("apply"===L?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),F("apply")},children:"Apply"})]})}),(0,sr.jsx)(la,{onSubmit:async e=>{try{if(E(!0),A(null),i)return void ce("Line items updated. Save the main form to create the transaction.","info");const n=g;if(!n)throw new Error("Transaction ID is required to save line items");const o=e.items||[];if(0===o.length)return void ce("No items to save","warning");const r={PurchaseOrder:{endpoint:"".concat(pr.baseURL,"/purchase-order-line"),idField:"poid",quantityField:"quantity"},ItemReceipt:{endpoint:"".concat(pr.baseURL,"/item-receipt-line"),idField:"irid",quantityField:"quantity"},VendorBill:{endpoint:"".concat(pr.baseURL,"/vendor-bill-line"),idField:"vbid",quantityField:"quantity"}}[t];if(!r)throw new Error("Unsupported record type: ".concat(t));const s=o.map(async(e,o)=>{var i,s;const l=Number(e.quantity||0),c=Number(e.rate||0),d=Number(e.taxPercent||0),u=l*c-(a||0),p=u*d/100,h=u+p,m={[r.idField]:n,itemID:(null===(i=e.itemID)||void 0===i?void 0:i.value)||e.itemID,quantity:l,rate:c,taxID:(null===(s=e.taxID)||void 0===s?void 0:s.value)||e.taxID,taxPercent:d,taxAmount:p,totalAmount:h};"PurchaseOrder"===t?m.poSequenceNumber="PO-".concat(String(o+1).padStart(3,"0")):"ItemReceipt"===t?m.irSequenceNumber="IR-".concat(String(o+1).padStart(3,"0")):"VendorBill"===t&&(m.vbSequenceNumber="VB-".concat(String(o+1).padStart(3,"0")));const f=await fetch(r.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(aA(m))});if(!f.ok){const e=await f.text();throw new Error("Failed to create line ".concat(o+1,": ").concat(f.status," - ").concat(e))}return await f.json()});await Promise.all(s),ce("".concat(t," items saved successfully (").concat(o.length," items)"),"success"),i||f(se[t]||"/")}catch(n){A(n.message),ce(n.message,"error")}finally{E(!1)}},initialValues:N,render:e=>(0,sr.jsxs)(ma,{style:{width:"100%"},children:[(0,sr.jsx)("div",{className:"form-grid",children:(0,sr.jsx)("div",{className:"order-items-field",children:"items"===L||"VendorCredit"!==t?(0,sr.jsx)(Fy,{name:"items",component:Re,dataItemKey:cA,validator:e=>e&&e.length?"":"Please add at least one item",onTotalAmountChange:he,headerDiscount:a,selectedLocation:l,poid:c,irid:d,onUnreceivedLinesLoaded:u}):Le()})}),(0,sr.jsxs)("div",{className:"form-actions",children:[(0,sr.jsxs)(bo,{type:"button",onClick:()=>f(se[t]||"/"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",children:[(0,sr.jsx)(tr,{})," ","view"===n?"Close":"Cancel"]}),"view"!==n&&(0,sr.jsxs)(bo,{type:"submit",disabled:I||!e.allowSubmit,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Qi,{})," ",I?"Saving...":"Save Items"]})]})]})}),(0,sr.jsx)("style",{children:'\n        .form-container {\n          background: white;\n          border-radius: 4px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          padding: 16px;\n          margin: 16px;\n        }\n\n        /* Tab Navigation Styles */\n        .tab-navigation {\n          margin-bottom: 20px;\n          border-bottom: 1px solid #ddd;\n        }\n\n        .tab-buttons {\n          display: flex;\n          gap: 0;\n        }\n\n        .tab-button {\n          padding: 12px 24px;\n          border: none;\n          background: #f5f5f5;\n          cursor: pointer;\n          border-top-left-radius: 4px;\n          border-top-right-radius: 4px;\n          margin-right: 2px;\n          font-weight: 500;\n          color: #666;\n          transition: all 0.2s ease;\n        }\n\n        .tab-button:hover {\n          background: #e9e9e9;\n          color: #333;\n        }\n\n        .tab-button.active {\n          background: white;\n          color: #333;\n          border-bottom: 2px solid #007acc;\n          font-weight: 600;\n        }\n\n        .form-header {\n          margin-bottom: 16px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .form-header h2 {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.25rem;\n          font-weight: 600;\n        }\n\n        .form-grid {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n\n        .k-form-field {\n          margin-bottom: 16px;\n        }\n\n        .k-form-field > .k-label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 500;\n          color: #4a5568;\n          font-size: 14px;\n        }\n\n        .k-textbox,\n        .k-textarea,\n        .k-datepicker,\n        .k-dropdownlist {\n          width: 100%;\n          font-size: 14px;\n        }\n\n        .k-input, \n        .k-textarea {\n          font-size: 14px;\n          padding: 8px 12px;\n        }\n\n        .k-input:disabled,\n        .k-textbox:disabled {\n          background-color: #f5f5f5 !important;\n          color: #666 !important;\n          cursor: not-allowed !important;\n          opacity: 0.7;\n        }\n\n        .order-items-field {\n          grid-column: span 3;\n          margin-top: 16px;\n        }\n\n        .form-actions {\n          display: flex;\n          justify-content: flex-end;\n          gap: 8px;\n          padding-top: 16px;\n          margin-top: 8px;\n          border-top: 1px solid #e2e8f0;\n        }\n\n        .k-button {\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 12px;\n          font-size: 13px;\n          font-weight: 500;\n        }\n\n        .k-button svg {\n          font-size: 13px;\n        }\n\n        .notification-container {\n          position: fixed;\n          right: 12px;\n          top: 12px;\n          z-index: 9999;\n          min-width: 280px;\n        }\n\n        .loading-indicator {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 150px;\n          gap: 12px;\n          font-size: 14px;\n        }\n\n        .spinner {\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid #3498db;\n          border-radius: 50%;\n          width: 32px;\n          height: 32px;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .k-form-error {\n          color: #e53e3e;\n          font-size: 12px;\n          margin-top: 4px;\n        }\n\n        /* Grid specific styles for consistent field sizing */\n        .k-grid td {\n          padding: 0 !important;\n        }\n\n        .k-grid .k-textbox,\n        .k-grid .k-dropdownlist,\n        .k-grid input[type="number"] {\n          height: 32px !important;\n          font-size: 13px !important;\n          padding: 4px 8px !important;\n          border: 1px solid #e2e8f0 !important;\n          border-radius: 3px !important;\n          width: 100% !important;\n          box-sizing: border-box !important;\n        }\n\n        .k-grid .k-dropdownlist .k-input {\n          height: 30px !important;\n          padding: 4px 8px !important;\n          font-size: 13px !important;\n          line-height: 1.4 !important;\n        }\n\n        /* Hide number input spinners */\n        .k-grid input[type="number"]::-webkit-outer-spin-button,\n        .k-grid input[type="number"]::-webkit-inner-spin-button {\n          -webkit-appearance: none !important;\n          margin: 0 !important;\n        }\n\n        .k-grid input[type="number"] {\n          -moz-appearance: textfield !important;\n        }\n\n        /* Transaction Items Grid Styles - Based on FormCreator.js */\n        .transaction-items-grid-container {\n          background: white;\n          border-radius: 8px;\n          border: 1px solid #e2e8f0;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          overflow-x: auto !important;\n          overflow-y: visible !important;\n          margin-bottom: 16px;\n          width: 100% !important;\n          max-width: 100% !important;\n          -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */\n          display: block !important;\n        }\n\n        .transaction-items-grid {\n          border: none !important;\n          border-radius: 0 !important;\n          margin-bottom: 0 !important;\n          min-width: 900px !important;\n          width: auto !important;\n        }\n\n        .transaction-items-grid .k-grid-header {\n          background: #f8fafc !important;\n          border-bottom: 2px solid #e2e8f0 !important;\n        }\n\n        .transaction-items-grid .k-grid-header th {\n          font-weight: 600 !important;\n          color: #4a5568 !important;\n          text-transform: uppercase !important;\n          font-size: 11px !important;\n          letter-spacing: 0.5px !important;\n          padding: 12px 8px !important;\n          text-align: left !important;\n        }\n\n        .transaction-items-grid .k-grid-header th:last-child {\n          text-align: center !important;\n        }\n\n        .transaction-items-grid td {\n          padding: 8px !important;\n          border-bottom: 1px solid #f0f0f0 !important;\n          vertical-align: middle !important;\n        }\n\n        .transaction-items-grid td:last-child {\n          text-align: center !important;\n        }\n\n        .transaction-items-grid .k-grid-content tr:hover {\n          background-color: #f7fafc !important;\n        }\n\n        /* Responsive Grid Layout */\n        .transaction-items-grid .k-grid-table {\n          min-width: 900px !important; /* Minimum width for all columns to be readable */\n          width: auto !important;\n        }\n\n        /* Force horizontal scroll on smaller screens */\n        @media (max-width: 1200px) {\n          .transaction-items-grid-container {\n            overflow-x: scroll !important;\n            overflow-y: visible !important;\n          }\n          \n          .transaction-items-grid,\n          .transaction-items-grid .k-grid-table {\n            min-width: 1000px !important;\n          }\n        }\n\n        /* Always show horizontal scroll on mobile */\n        @media (max-width: 768px) {\n          .transaction-items-grid-container {\n            overflow-x: scroll !important;\n            overflow-y: visible !important;\n            -webkit-overflow-scrolling: touch !important;\n            scrollbar-width: auto !important;\n          }\n          \n          .transaction-items-grid {\n            min-width: 1200px !important;\n            width: 1200px !important;\n          }\n          \n          .transaction-items-grid .k-grid-table {\n            min-width: 1200px !important;\n            width: 1200px !important;\n            table-layout: fixed !important;\n          }\n          \n          /* Set specific column widths to ensure overflow */\n          .transaction-items-grid .k-grid-header th:nth-child(1),\n          .transaction-items-grid td:nth-child(1) {\n            width: 200px !important;\n            min-width: 200px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(2),\n          .transaction-items-grid td:nth-child(2) {\n            width: 100px !important;\n            min-width: 100px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(3),\n          .transaction-items-grid td:nth-child(3) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(4),\n          .transaction-items-grid td:nth-child(4) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(5),\n          .transaction-items-grid td:nth-child(5) {\n            width: 150px !important;\n            min-width: 150px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(6),\n          .transaction-items-grid td:nth-child(6) {\n            width: 100px !important;\n            min-width: 100px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(7),\n          .transaction-items-grid td:nth-child(7) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(8),\n          .transaction-items-grid td:nth-child(8) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(9),\n          .transaction-items-grid td:nth-child(9) {\n            width: 150px !important;\n            min-width: 150px !important;\n          }\n        }\n\n        /* Horizontal scroll indicator for mobile */\n        .transaction-items-grid-container::after {\n          content: \'\';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 20px;\n          height: 100%;\n          background: linear-gradient(to left, rgba(255,255,255,0.8), transparent);\n          pointer-events: none;\n          opacity: 0;\n          transition: opacity 0.3s ease;\n        }\n\n        /* Form container responsive fixes */\n        body, html {\n          overflow-x: hidden;\n        }\n\n        .form-container, .master-form-container {\n          max-width: 100vw;\n          overflow-x: hidden;  \n          box-sizing: border-box;\n        }\n\n        .master-form-content {\n          max-width: 100%;\n          overflow-x: hidden;\n        }\n\n        @media (max-width: 768px) {\n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .order-items-field {\n            grid-column: span 1;\n          }\n\n          .form-container {\n            margin: 12px;\n            padding: 12px;\n          }\n\n          .transaction-items-grid-container {\n            margin: 0 -16px;\n            border-radius: 0;\n            border-left: none;\n            border-right: none;\n            position: relative;\n            /* Enhanced horizontal scrolling */\n            overflow-x: auto;\n            overflow-y: visible;\n            -webkit-overflow-scrolling: touch;\n            scrollbar-width: thin;\n            scrollbar-color: #cbd5e0 #f7fafc;\n          }\n\n          /* Custom scrollbar for webkit browsers */\n          .transaction-items-grid-container::-webkit-scrollbar {\n            height: 6px;\n          }\n\n          .transaction-items-grid-container::-webkit-scrollbar-track {\n            background: #f7fafc;\n            border-radius: 3px;\n          }\n\n          .transaction-items-grid-container::-webkit-scrollbar-thumb {\n            background: #cbd5e0;\n            border-radius: 3px;\n          }\n\n          .transaction-items-grid-container::-webkit-scrollbar-thumb:hover {\n            background: #a0aec0;\n          }\n\n          /* Show scroll indicator when content overflows */\n          .transaction-items-grid-container::after {\n            opacity: 1;\n          }\n\n          .transaction-items-grid .k-grid-table {\n            min-width: 800px; /* Ensure all columns are visible with horizontal scroll */\n          }\n\n          /* Add padding to prevent content cutoff */\n          .transaction-items-grid .k-grid-header th:first-child,\n          .transaction-items-grid td:first-child {\n            padding-left: 12px !important;\n          }\n\n          .transaction-items-grid .k-grid-header th:last-child,\n          .transaction-items-grid td:last-child {\n            padding-right: 12px !important;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .transaction-items-grid-container {\n            margin: 0 -12px;\n          }\n\n          .transaction-items-grid .k-grid-table {\n            min-width: 700px; /* Slightly smaller for very small screens */\n          }\n\n          /* Compress column widths for mobile */\n          .transaction-items-grid .k-grid-header th,\n          .transaction-items-grid td {\n            padding: 6px 4px !important;\n            font-size: 12px !important;\n          }\n\n          .transaction-items-grid .k-textbox,\n          .transaction-items-grid .k-dropdownlist,\n          .transaction-items-grid input[type="number"] {\n            height: 28px !important;\n            font-size: 12px !important;\n            padding: 2px 6px !important;\n          }\n        }\n      '})]})}),uA=dA,pA=["items"],hA=["validationMessage","touched","label"];if("undefined"!==typeof document&&!document.getElementById("purchase-tab-styles")){const e=document.createElement("style");e.id="purchase-tab-styles",e.textContent="\n  .sales-form-tabs {\n    display: flex;\n    margin-bottom: 20px;\n    border-bottom: 2px solid #e0e0e0;\n    background: white;\n    border-radius: 8px 8px 0 0;\n    overflow: hidden;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n  }\n\n  .sales-form-tab {\n    flex: 1;\n    padding: 16px 24px;\n    background: #f5f5f5;\n    border: none;\n    cursor: pointer;\n    font-size: 16px;\n    font-weight: 500;\n    color: #666;\n    transition: all 0.3s ease;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n    border-right: 1px solid #e0e0e0;\n    position: relative;\n  }\n\n  .sales-form-tab:last-child {\n    border-right: none;\n  }\n\n  .sales-form-tab:hover {\n    background: #e8f4fd;\n    color: #1976d2;\n  }\n\n  .sales-form-tab.active {\n    background: #1976d2;\n    color: white;\n  }\n\n  .sales-form-tab.active::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: #1565c0;\n  }\n\n  .sales-form-tab-content {\n    background: white;\n    border-radius: 0 0 8px 8px;\n    padding: 20px;\n    min-height: 400px;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n  }\n\n  .sales-form-tab-content.active {\n    display: block;\n  }\n\n  .sales-form-tab-content:not(.active) {\n    display: none;\n  }\n  \n  .transactions-section {\n    padding: 24px;\n    background: white;\n    border-radius: 0 0 12px 12px;\n  }\n  \n  .transactions-section h4 {\n    margin: 0 0 20px 0;\n    color: #1a73e8;\n    font-size: 18px;\n    font-weight: 600;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n  \n  .transactions-section .fa-exchange-alt {\n    color: #34a853;\n    font-size: 20px;\n  }\n  \n  .transactions-table {\n    width: 100%;\n    border-collapse: separate;\n    border-spacing: 0;\n    border-radius: 12px;\n    overflow: hidden;\n    box-shadow: 0 2px 12px rgba(0,0,0,0.08);\n    border: 1px solid #e8eaed;\n    background: white;\n  }\n  \n  .transactions-table th {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e8eaed 100%);\n    color: #5f6368;\n    padding: 16px 24px;\n    text-align: left;\n    font-weight: 600;\n    font-size: 13px;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n    border-bottom: 2px solid #e8eaed;\n  }\n  \n  .transactions-table th:first-child {\n    border-radius: 12px 0 0 0;\n  }\n  \n  .transactions-table th:last-child {\n    border-radius: 0 12px 0 0;\n  }\n  \n  .transactions-table td {\n    padding: 18px 24px;\n    border-bottom: 1px solid #f1f3f4;\n    font-size: 14px;\n    color: #3c4043;\n    font-weight: 400;\n    line-height: 1.5;\n    vertical-align: middle;\n  }\n  \n  .transactions-table tbody tr {\n    transition: all 0.3s ease;\n    background: white;\n  }\n  \n  .transactions-table tbody tr:nth-child(even) {\n    background: #fafbfc;\n  }\n  \n  .transactions-table tbody tr:hover {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e8f0fe 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 8px rgba(26,115,232,0.12);\n  }\n  \n  .transactions-table tbody tr:hover td {\n    color: #1a73e8;\n  }\n  \n  .transactions-table tbody tr:last-child td {\n    border-bottom: none;\n  }\n  \n  .transactions-table tbody tr:last-child td:first-child {\n    border-radius: 0 0 0 12px;\n  }\n  \n  .transactions-table tbody tr:last-child td:last-child {\n    border-radius: 0 0 12px 0;\n  }\n  \n  .view-button {\n    background: linear-gradient(135deg, #1a73e8 0%, #4285f4 100%);\n    color: white;\n    border: none;\n    padding: 8px 16px;\n    border-radius: 20px;\n    font-size: 12px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    box-shadow: 0 2px 8px rgba(26,115,232,0.3);\n  }\n  \n  .view-button:hover {\n    background: linear-gradient(135deg, #1557b0 0%, #3367d6 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(26,115,232,0.4);\n  }\n  \n  .no-transactions {\n    text-align: center;\n    padding: 60px 20px;\n    color: #9aa0a6;\n    font-style: italic;\n    background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);\n    border-radius: 12px;\n    border: 2px dashed #dadce0;\n    margin: 20px 0;\n  }\n  \n  .no-transactions .fa-exchange-alt {\n    font-size: 48px;\n    color: #dadce0;\n    margin-bottom: 16px;\n    display: block;\n  }\n  \n  .loading-transactions {\n    text-align: center;\n    padding: 40px 20px;\n    color: #5f6368;\n    font-style: italic;\n  }\n  \n  .loading-transactions .spinner {\n    width: 32px;\n    height: 32px;\n    border: 3px solid #f3f3f3;\n    border-top: 3px solid #1a73e8;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n    margin: 0 auto 16px;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n",document.head.appendChild(e)}const mA=e=>{const t={};return Object.keys(e).forEach(n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)}),t},fA=o.memo(e=>{var t,n,i;let{recordType:r,mode:a="new"}=e;const l=ve(),{id:c}=ye(),{loading:d,error:u,fetchFormConfiguration:h}=cy(),m=hy("purchase-order"),f=hy("item-receipt"),g=hy("vendor-bill"),v=hy("vendor-credit"),y=ky(),x="PurchaseOrder"===r?m:"ItemReceipt"===r?f:"VendorBill"===r?g:"VendorCredit"===r?v:null,[b,w]=(0,o.useState)({show:!1,message:"",type:"success"}),[k,C]=(0,o.useState)(!1),[S,I]=(0,o.useState)(!1),[E,j]=(0,o.useState)(null),[A,_]=(0,o.useState)(null),[D,N]=(0,o.useState)({}),[T,P]=(0,o.useState)({}),[M,O]=(0,o.useState)([]),[R,L]=(0,o.useState)({}),[F,z]=(0,o.useState)({}),[B,V]=(0,o.useState)({}),[H,q]=(0,o.useState)(null),[U,G]=(0,o.useState)([]),[W,K]=(0,o.useState)(0),[Y,X]=(0,o.useState)(null),[J,Q]=(0,o.useState)("items"),[Z,$]=(0,o.useState)([]),[ee,te]=(0,o.useState)(!1),[ne,oe]=(0,o.useState)({creditAmount:"",vendorBills:[],appliedTo:0,unapplied:0,originalData:null}),[ie,re]=(0,o.useState)(!1),[ae,se]=(0,o.useState)(null),[le,ce]=(0,o.useState)(0),de=o.useRef(null),ue=o.useRef(null),pe={PurchaseOrder:"/purchase-order",ItemReceipt:"/item-receipt",VendorBill:"/vendor-bill",VendorCredit:"/vendor-credit"},he="b2dae51c-12b6-4a90-adfd-4e2345026b70",me="5e3f19d1-f615-4954-88cb-30975d52b8cd",fe=(0,o.useCallback)(async(e,t)=>{try{const n=await fetch("".concat(pr.baseURL).concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}},[]),ge=(0,o.useCallback)(async e=>{try{const t=await fetch("".concat(pr.baseURL,"/record-type"),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e});if(!t.ok)throw new Error("Failed to fetch record types: ".concat(t.status));return(await t.json()).results||[]}catch(t){return t.name,[]}},[]),xe=(0,o.useCallback)(async e=>{if(!e||"VendorBill"!==r)return[];te(!0);try{const[t,n]=await Promise.all([fetch("".concat(pr.baseURL,"/vendor-payment-line/by-record-id/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(pr.baseURL,"/vendor-credit-payment-line/by-record-id/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let o=[];if(t.ok){const e=await t.json();o=Array.isArray(e)?e.map(e=>p(p({},e),{},{transactionType:"Vendor Payment"})):[]}else 404!==t.status&&console.warn("Failed to fetch vendor payment lines: ".concat(t.status));let i=[];if(n.ok){const e=await n.json();i=Array.isArray(e)?e.map(e=>p(p({},e),{},{transactionType:"Vendor Credit"})):[]}else 404!==n.status&&console.warn("Failed to fetch vendor credit payment lines: ".concat(n.status));const r=[...o,...i];return r.sort((e,t)=>e.createdAt&&t.createdAt?new Date(t.createdAt)-new Date(e.createdAt):(t.id||0)-(e.id||0)),r}catch(t){return console.error("Error fetching transactions data:",t),[]}finally{te(!1)}},[r]),be=async e=>{try{const t=await fetch("".concat(pr.baseURL,"/custom-form-field/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch custom form fields: ".concat(t.status));const n=await t.json(),o=(Array.isArray(n)?n:[]).sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0)),i={},r=o.filter(e=>["DropDownList","MultiSelect"].includes(e.fieldTypeName)&&e.fieldSource);for(const e of r){const t=await fe(e.fieldSource);i["custom_".concat(e.fieldName)]=t}return Object.keys(i).length>0&&P(e=>p(p({},e),i)),o}catch(t){return Se("Failed to load custom form fields: ".concat(t.message),"error"),[]}},we=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{if(!t)return{};const o=await fetch("".concat(pr.baseURL,"/custom-field-value/by-type-and-record?typeOfRecord=").concat(t,"&recordId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return{};const i=await o.json(),r={},a={},s={};return n.forEach(e=>{s[e.fieldName]=e.fieldTypeName}),Array.isArray(i)&&i.forEach(e=>{if(e.customFieldName&&void 0!==e.valueText&&null!==e.valueText){const n=s[e.customFieldName];let o=e.valueText;switch(n){case"DatePicker":case"Date":if("string"===typeof o&&""!==o.trim()){const e=new Date(o);o=isNaN(e.getTime())?null:e}break;case"NumericTextBox":case"Number":if("string"===typeof o&&""!==o.trim()){const e=parseFloat(o);o=isNaN(e)?0:e}break;case"Checkbox":case"Switch":"string"===typeof o&&(o="true"===o.toLowerCase()||"1"===o);break;case"MultiSelect":if("string"===typeof o&&""!==o.trim())try{const e=JSON.parse(o);o=Array.isArray(e)?e:[o]}catch(t){o=[o]}}r[e.customFieldName]=o,a[e.customFieldName]=e.id}}),{customData:r,customFieldIds:a}}catch(o){return{customData:{},customFieldIds:{}}}},ke=e=>{const t={};return e.forEach(e=>{switch(e.fieldTypeName){case"Checkbox":case"Switch":t[e.name]=!1;break;case"Number":case"NumericTextBox":t[e.name]=0;break;case"Date":case"DropDownList":t[e.name]=null;break;default:t[e.name]=""}}),t};(0,o.useEffect)(()=>{let e=!0;return(async()=>{if(e)try{I(!0),j(null),re(!1),O([]),L({}),z({}),V({}),q(null);const d=await ge();if(!e)return;G(d);const u=await h(r);if(!e)return;_(u);const m=u.standardFields.filter(e=>"DropDownList"===e.fieldTypeName&&e.source),f=Oe(u,d,r),g=m.map(async e=>{let t;if("form"===e.name&&f)try{const e=await fetch("".concat(pr.baseURL,"/form/by-type-of-record/").concat(f),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch forms for record type: ".concat(e.status));t=await e.json(),t=Array.isArray(t)?t:t.results||t.data||[]}catch(n){t=[]}else t=await fe(e.source);return{name:e.name,data:t}}),v=await Promise.all(g);if(!e)return;const b=v.reduce((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e},{});y.data&&y.data.length>0&&(b.status=y.data),P(b);const w=ke(u.standardFields);if("new"===a){if(u.standardFields.forEach(e=>{("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date")||"soDate"===e.name||"invoiceDate"===e.name||"deliveryDate"===e.name)&&(w[e.name]=new Date)}),"ItemReceipt"===r){const e=sessionStorage.getItem("purchaseOrderDataForReceiving");if(e)try{var t;const n=JSON.parse(e);if(n.form){w.form=n.form;try{const[e,t]=await Promise.all([fetch("".concat(pr.baseURL,"/form/").concat(n.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(pr.baseURL,"/form-sequence/by-form/").concat(n.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);if(e.ok&&t.ok){const[n,o]=await Promise.all([e.text().then(e=>e.trim()?JSON.parse(e):{}),t.text().then(e=>e.trim()?JSON.parse(e):[])]),i=Array.isArray(o)&&o.length>0?o[0]:{formSequenceNumber:0},r=n.prefix||"",a=(i.formSequenceNumber||0)+1,s="".concat(r).concat(String(a).padStart(4,"0"));w.sequenceNumber=s}}catch(E){}qe(n.form)}n.poid&&(w.poid=n.poid),n.vendorID&&(w.vendorID=n.vendorID),n.locationID&&(w.locationID=n.locationID,X(n.locationID)),n.deliveryDate&&(w.deliveryDate=new Date(n.deliveryDate)),n.discount&&(w.discount=n.discount),n.totalAmount&&(w.totalAmount=n.totalAmount);const o=(null===(t=n.items)||void 0===t?void 0:t.results)||n.items||[];o&&o.length>0&&(w.items=o.map(e=>{const t=e.quantity-(e.receivedQty||0),n=t*(e.rate||0),o=n*((e.taxPercent||0)/100),i=n+o;return p(p({},e),{},{quantityReceived:t,quantity:e.quantity||0,taxAmount:o,totalAmount:i})}))}catch(E){sessionStorage.removeItem("purchaseOrderDataForReceiving")}}if("VendorBill"===r){const e=sessionStorage.getItem("itemReceiptDataForBilling");if(e)try{var n;const t=JSON.parse(e);if(t.form){w.form=t.form;try{const[e,n]=await Promise.all([fetch("".concat(pr.baseURL,"/form/").concat(t.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(pr.baseURL,"/form-sequence/by-form/").concat(t.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);if(e.ok&&n.ok){const[t,o]=await Promise.all([e.text().then(e=>e.trim()?JSON.parse(e):{}),n.text().then(e=>e.trim()?JSON.parse(e):[])]),i=Array.isArray(o)&&o.length>0?o[0]:{formSequenceNumber:0},r=t.prefix||"",a=(i.formSequenceNumber||0)+1,s="".concat(r).concat(String(a).padStart(4,"0"));w.sequenceNumber=s}}catch(E){console.error("Error generating sequence number for bill:",E)}qe(t.form)}t.irid&&(w.irid=t.irid),t.vendorID&&(w.vendorID=t.vendorID),t.locationID&&(w.locationID=t.locationID,X(t.locationID)),t.deliveryDate&&(w.invoiceDate=new Date(t.deliveryDate)),t.discount&&(w.discount=t.discount),t.totalAmount&&(w.totalAmount=t.totalAmount);const o=(null===(n=t.items)||void 0===n?void 0:n.results)||t.items||[];o&&o.length>0&&(console.log("[PurchaseForm] Setting items from sessionStorage for VendorBill:",o),w.items=o.map(e=>p(p({},e),{},{quantity:e.quantity||e.quantitydelivered||0})))}catch(E){console.error("Error parsing ItemReceipt data for billing:",E),sessionStorage.removeItem("itemReceiptDataForBilling")}}}if("new"!==a&&c)try{var o;let t;switch(r){case"PurchaseOrder":null!==x&&void 0!==x&&x.fetchPurchaseOrderById&&(t=await x.fetchPurchaseOrderById(c));break;case"ItemReceipt":null!==x&&void 0!==x&&x.fetchItemReceiptById&&(t=await x.fetchItemReceiptById(c));break;case"VendorBill":null!==x&&void 0!==x&&x.fetchVendorBillById&&(t=await x.fetchVendorBillById(c));break;case"VendorCredit":null!==x&&void 0!==x&&x.fetchVendorCreditById&&(t=await x.fetchVendorCreditById(c));break;default:t={}}if(!e)return;const n=(null===(o=t)||void 0===o?void 0:o.data)||t||{};if(n&&Object.keys(n).length>0){const t=p({},w);u.standardFields.forEach(e=>{if(void 0!==n[e.name]){let o=n[e.name];if(("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date"))&&o&&"string"===typeof o){const e=new Date(o);o=isNaN(e.getTime())?null:e}t[e.name]=o}});const o=u.standardFields.map(e=>e.name);Object.keys(n).forEach(e=>{void 0===n[e]||o.includes(e)||(t[e]=n[e])}),N(t),t.locationID&&X(t.locationID);try{let e=[],n="",o="";switch(r){case"PurchaseOrder":n="".concat(pr.baseURL,"/purchase-order-line/by-purchase-order/").concat(c),o="poid";break;case"ItemReceipt":n="".concat(pr.baseURL,"/item-receipt-line/by-item-receipt/").concat(c),o="irid";break;case"VendorBill":n="".concat(pr.baseURL,"/vendor-bill-line/by-vendor-bill/").concat(c),o="vbid";break;case"VendorCredit":n="".concat(pr.baseURL,"/vendor-credit-line/by-vendor-credit/").concat(c),o="vcid"}if(n){const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(o.ok){const n=await o.json();if(Array.isArray(n))e=n;else if(n.results&&Array.isArray(n.results))e=n.results;else if(n.data&&Array.isArray(n.data))e=n.data;else if(n.purchaseOrderLines&&Array.isArray(n.purchaseOrderLines))e=n.purchaseOrderLines;else if(n.lines&&Array.isArray(n.lines))e=n.lines;else{const t=Object.values(n).filter(e=>Array.isArray(e));t.length>0&&(e=t[0])}if(e.length>0){let n=[];try{const e=await fetch("".concat(pr.baseURL,"/tax"),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json();n=t.results||t.data||t||[],n.length}}catch(i){}const o=e.map(e=>{const t=parseFloat(e.quantity||0),o=parseFloat(e.rate||0),i=parseFloat(e.discountAmount||e.discount||0);let a=parseFloat(e.taxPercent||0);if(0===a&&e.taxID&&n.length>0){const t=n.find(t=>t.id===e.taxID);t&&(a=parseFloat(t.taxPercent||t.percentage||t.rate||0))}const s=t*o-i,l=s*a/100,c=s+l,d=p(p({},e),{},{quantity:t,rate:o,discountAmount:i,taxPercent:a,taxAmount:"VendorBill"===r?l:e.taxAmount||l,taxRate:"VendorBill"===r?e.taxRate||l:e.taxRate,totalAmount:c,amount:c});return"ItemReceipt"===r&&(d.quantityReceived=e.quantityReceived||e.quantity||0,e.poid?d.remQty=(e.quantity||0)-(d.quantityReceived||0):d.remQty=e.remQty||(e.quantity||0)-(d.quantityReceived||0)),d});t.items=o,N(p({},t)),ue.current=p({},t)}}}}catch(s){}if("view"===a&&["VendorBill","VendorCredit"].includes(r))try{const t=await xe(c);if(!e)return;$(t)}catch(l){}if(n.form)try{const t=await be(n.form);if(!e)return;if(O(t),q(n.form),t.length>0){const n=ke(t.map(e=>p(p({},e),{},{name:e.fieldName}))),o=Oe(u,d,r),{customData:i,customFieldIds:a}=await we(c,o,t);if(!e)return;z(a);const s=p(p({},n),i);L(s),V(s)}}catch(i){}}else N(w)}catch(E){N(w)}else{if(!e)return;N(w)}if(!e)return;re(!0)}catch(i){if(!e)return;j(i.message),Se(i.message,"error")}finally{if(!e)return;I(!1)}})(),()=>{e=!1}},[a,c,r,y.data]),(0,o.useEffect)(()=>()=>{de.current&&(clearTimeout(de.current),de.current=null),O([]),L({}),z({}),V({}),q(null),N({}),re(!1),w({show:!1,message:"",type:"success"});const e=window.location.pathname;e.includes("/item-receipt/new")||e.includes("/vendor-bill/new")||(sessionStorage.removeItem("purchaseOrderDataForReceiving"),sessionStorage.removeItem("itemReceiptDataForBilling"))},[]),(0,o.useEffect)(()=>{const e=()=>{sessionStorage.removeItem("purchaseOrderDataForReceiving"),sessionStorage.removeItem("itemReceiptDataForBilling")},t=()=>{document.hidden&&setTimeout(()=>{const e=window.location.pathname;e.includes("/item-receipt/new")||e.includes("/vendor-bill/new")||(sessionStorage.removeItem("purchaseOrderDataForReceiving"),sessionStorage.removeItem("itemReceiptDataForBilling"))},100)};return window.addEventListener("beforeunload",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("beforeunload",e),document.removeEventListener("visibilitychange",t)}},[]);const Ce=(0,o.useMemo)(()=>{if(!ie)return{};if(0===Object.keys(R).length)return D;const e={};return Object.keys(R).forEach(t=>{e["custom_".concat(t)]=R[t]}),p(p({},D),e)},[D,R,ie]),Se=(0,o.useCallback)(function(e){w({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{w({show:!1,message:"",type:"success"})},4e3)},[]),Ie=async e=>{try{let t=U;t&&0!==t.length||(t=await ge());const n=t.find(t=>{var n;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===e.toLowerCase()});if(!n)return console.warn("Record type not found: ".concat(e)),null;const o=await fetch("".concat(pr.baseURL,"/form/default-form-id/").concat(n.id),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(o.ok){const e=await o.text();return(null===e||void 0===e?void 0:e.replace(/^["']|["']$/g,"").trim())||null}return 404===o.status?(console.warn("No default form found for record type: ".concat(e)),null):(console.error("Failed to get default form for ".concat(e,": ").concat(o.status)),null)}catch(E){return console.error("Error getting default form for ".concat(e,":"),E),null}},Ee=(0,o.useCallback)(e=>{oe(e)},[]),je=(0,o.useCallback)(async(e,t,n)=>{try{console.log("\ud83d\udd04 Creating Vendor Credit Payment Lines for:",{vendorCreditId:e,vendorCreditSeqNum:t,appliedVendorBills:n});const o=n.map(async n=>{const o={paymentAmount:n.displayAmount||0,recordID:n.id,isApplied:!0,refNo:n.refNo,recordType:"VendorBill",vcid:e,vendorCreditSeqNum:t,mainRecordAmount:n.dueAmount||0};console.log("paymentLineData",o);const i=await fetch("".concat(pr.baseURL,"/vendor-credit-payment-line"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(mA(o))});if(!i.ok){const e=await i.text();throw new Error("Failed to create Vendor Credit Payment Line: ".concat(i.status," - ").concat(e))}return await i.json()}),i=await Promise.all(o);return console.log("\u2705 Vendor Credit Payment Lines created successfully:",i),i}catch(E){throw console.error("\u274c Error creating Vendor Credit Payment Lines:",E),E}},[]),Ae=(0,o.useCallback)(async(e,t)=>{try{console.log("\ud83d\udd04 Updating applied vendor bill amounts.7897889778",e,t);const n=e.vendorBills.filter(e=>e.checked||e.isApplied).map(async e=>{let n,o,i,r=0;i=e.isApplied?e.recordID:e.id,console.log("\ud83d\udd04 Updating applied vendor bill amounts.",e),n="".concat(pr.baseURL,"/vendor-bill/").concat(i);const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log("\ud83d\udd04 Get response:",a),a.ok){const e=await a.json();console.log("\ud83d\udd04 Current record:",e),r=e.amountDue||0}let s,l;if("new"===t)s=Math.max(0,r-(e.displayAmount||0));else if("edit"===t){const t=e.originalAmount||0,n=(e.displayAmount||0)-t;s=Math.max(0,r-n)}else"delete"===t&&(s=r+(e.displayAmount||e.paymentAmount||0));if("delete"===t?l=me:"new"!==t&&"edit"!==t||(l=0===s?he:me),o={amountDue:s,status:l},n&&o){const t=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(mA(o))});t.ok?console.log("\u2705 Updated ".concat(e.type," ").concat(e.id," amountDue: ").concat(r," \u2192 ").concat(o.amountDue)):console.error("Failed to update ".concat(e.type," ").concat(e.id,": ").concat(t.status))}});await Promise.all(n)}catch(E){throw console.error("\u274c Error updating applied vendor bill amounts:",E),E}},[]),_e=(0,o.useCallback)(async e=>{try{console.log("\ud83d\uddd1\ufe0f Deleting existing Vendor Credit Payment Lines for:",e);const t=await fetch("".concat(pr.baseURL,"/vendor-credit-payment-line/by-vendor-credit/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=(await t.json()).lines||[];if(e.length>0){const t=e.map(async e=>{const t=await fetch("".concat(pr.baseURL,"/vendor-credit-payment-line/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});t.ok||console.error("Failed to delete payment line ".concat(e.id,": ").concat(t.status))});await Promise.all(t),console.log("\u2705 All existing Vendor Credit Payment Lines deleted")}}else 404!==t.status&&console.warn("Failed to fetch existing payment lines: ".concat(t.status))}catch(E){throw console.error("\u274c Error deleting Vendor Credit Payment Lines:",E),E}},[]),De=(0,o.useCallback)(async e=>{try{console.log("\ud83d\udd04 Updating Vendor Credit transaction line items"),await _e(c);const t=D.sequenceNumber||"";await je(c,t,e),console.log("\u2705 Vendor Credit transaction line items updated successfully")}catch(E){throw console.error("\u274c Error updating Vendor Credit transaction line items:",E),E}},[c,D.sequenceNumber,_e,je]),Ne=(0,o.useCallback)(async(e,t)=>{try{if(console.log("\ud83d\udd04 Updating Vendor Credit record amounts in edit mode"),console.log("\ud83d\udd04 Payment data:",e),console.log("\ud83d\udd04 Original payment data:",t),t&&t.lines){const e={vendorBills:t.lines};await Ae(e,"delete")}await Ae(e,"new"),console.log("\u2705 Vendor Credit record amounts updated successfully in edit mode")}catch(E){throw console.error("\u274c Error updating Vendor Credit record amounts in edit mode:",E),E}},[Ae]),Te=(0,o.useCallback)(async e=>{try{console.log("\ud83d\udcd6 Loading existing Vendor Credit Payment Lines for:",e);const t=await fetch("".concat(pr.baseURL,"/vendor-credit-payment-line/by-vendor-credit/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=(await t.json()).lines||[];return console.log("\ud83d\udcd6 Loaded Vendor Credit Payment Lines:",e),e}return 404===t.status?(console.log("\ud83d\udcd6 No existing Vendor Credit Payment Lines found"),[]):(console.warn("Failed to load Vendor Credit Payment Lines: ".concat(t.status)),[])}catch(E){return console.error("\u274c Error loading Vendor Credit Payment Lines:",E),[]}},[]),Pe=(0,o.useCallback)(e=>{const t={};if("ItemReceipt"===r&&"new"===a){if(sessionStorage.getItem("purchaseOrderDataForReceiving"))return t}if("VendorBill"===r&&"new"===a){if(sessionStorage.getItem("itemReceiptDataForBilling"))return t}return null!==A&&void 0!==A&&A.standardFields?(A.standardFields.forEach(n=>{const o=e[n.name];!n.isMandatory||o&&""!==o||(t[n.name]="".concat(n.name.charAt(0).toUpperCase()+n.name.slice(1)," is required")),"email"===n.name&&o&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(t[n.name]="Please enter a valid email address"),"phone"===n.name&&o&&!/^\d{10}$/.test(o.replace(/\D/g,""))&&(t[n.name]="Phone number must be 10 digits")}),t):t},[A,r,a]),Me=e=>{const t=((e,t)=>{const n=p({},e);switch(t){case"PurchaseOrder":n.date&&!n.poDate&&(n.poDate=n.date,delete n.date);break;case"ItemReceipt":n.date&&!n.receiptDate&&(n.receiptDate=n.date,delete n.date);break;case"VendorBill":n.date&&!n.invoiceDate&&(n.invoiceDate=n.date,delete n.date);break;case"VendorCredit":n.date&&!n.tranDate&&(n.tranDate=n.date,delete n.date)}return n})(e,r),n={},o={};return Object.keys(t).forEach(e=>{const i=t[e],r=""===i?null:i;if(e.startsWith("custom_")){const t=e.replace("custom_","");o[t]=r}else n[e]=r}),{standardData:n,customData:o}},Oe=(e,t,n)=>{if(null!==e&&void 0!==e&&e.recordTypeId)return e.recordTypeId;let o=t.find(e=>e.name===n);if(o)return o.id;if(o=t.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()}),o)return o.id;const i={Customer:["customer","customers"],Vendor:["vendor","vendors"],Product:["product","products"],ChartOfAccount:["chart-of-account","account","accounts"],Location:["location","locations"],Tax:["tax","taxes"]}[n]||[];for(const r of i)if(o=t.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===r.toLowerCase()}),o)return o.id;return null},Re=()=>{if(null!==A&&void 0!==A&&A.recordTypeId)return A.recordTypeId;let e=U.find(e=>e.name===r);if(e)return e.id;if(e=U.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===r.toLowerCase()}),e)return e.id;const t={Customer:["customer","customers"],Vendor:["vendor","vendors"],Product:["product","products"],ChartOfAccount:["chart-of-account","account","accounts"],Location:["location","locations"],Tax:["tax","taxes"]}[r]||[];for(const n of t)if(e=U.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()}),e)return e.id;return null},Le=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("ItemReceipt"!==r)return;let o=D.poid||D.purchaseOrderId;if(!o&&e.length>0){const t=e[0];t&&(t.poid||t.purchaseOrderId)&&(o=t.poid||t.purchaseOrderId)}if(!o)try{const e=sessionStorage.getItem("purchaseOrderDataForReceiving");if(e){const t=JSON.parse(e);t.poid&&(o=t.poid)}}catch(E){}if(!o){var i;const t=(null===(i=e[0])||void 0===i?void 0:i.receiptId)||c;if(t)try{const e=await fetch("".concat(pr.baseURL,"/item-receipt/").concat(t),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json();o=t.poid||t.purchaseOrderId}}catch(E){}}if(o)try{const i=await fetch("".concat(pr.baseURL,"/purchase-order-line/by-purchase-order/").concat(o),{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer YOUR_API_KEY"}});if(!i.ok)throw new Error("Failed to fetch purchase order lines");const r=await i.json(),a=Array.isArray(r)?r:r.results||Object.values(r).find(e=>Array.isArray(e))||[],s=new Map,l=new Map;e.forEach(e=>{const t=e.itemID||e.itemId,n=parseFloat(e.quantity||e.quantityReceived||0);t&&n>0&&s.set(t,(s.get(t)||0)+n)}),t&&n.length>0&&n.forEach(e=>{const t=e.itemID||e.itemId,n=parseFloat(e.quantityReceived||e.quantity||0);t&&n>0&&l.set(t,(l.get(t)||0)+n)});const c=a.map(async e=>{const n=e.itemID;if(!n)return;let i=e.receivedQty||0;if(t&&l.has(n)){i-=l.get(n)}if(s.has(n)){i+=s.get(n)}const r=e.quantity||0;i=Math.min(Math.max(0,i),r);const a={poid:o,itemID:e.itemID,quantity:e.quantity,rate:e.rate,taxID:e.taxID,taxPercent:e.taxPercent||0,taxAmount:e.taxAmount||0,totalAmount:e.totalAmount,receivedQty:i};return fetch("".concat(pr.baseURL,"/purchase-order-line/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(mA(a))})}),d=await Promise.all(c.filter(e=>e));d.filter(e=>!e.ok).length}catch(E){}},Fe=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("VendorBill"!==r)return;let o=D.irid||D.itemReceiptId;if(!o&&e.length>0){const t=e[0];t&&(t.irid||t.itemReceiptId)&&(o=t.irid||t.itemReceiptId)}if(!o)try{const e=sessionStorage.getItem("itemReceiptDataForBilling");if(e){const t=JSON.parse(e);t.irid&&(o=t.irid)}}catch(E){console.error("Error parsing ItemReceipt data from session storage:",E)}if(o)try{const i=await fetch("".concat(pr.baseURL,"/item-receipt-line/by-item-receipt/").concat(o),{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to fetch ItemReceiptLine records: ".concat(i.status));const r=(await i.json()).lines||[];if(0===r.length)return void console.warn("No ItemReceiptLine records found");const a=new Map;t&&n&&n.length>0&&n.forEach(e=>{if(e.itemID){const t=a.get(e.itemID)||0,n=e.quantityInvoiced||e.quantityReceived||e.quantity||0;a.set(e.itemID,t-n)}}),e.forEach(e=>{if(e.itemID){const t=a.get(e.itemID)||0,n=e.quantityInvoiced||e.quantityReceived||e.quantity||0;a.set(e.itemID,t+n)}});const s=r.map(e=>{const t=a.get(e.itemID)||0;if(0===t)return null;const n=e.invoicedQty||0,i=Math.max(0,n+t),r=e.quantity||0,s=Math.min(i,r),l={irid:o,itemID:e.itemID,quantity:e.quantity,rate:e.rate,taxID:e.taxID,taxPercent:e.taxPercent||0,taxAmount:e.taxAmount||0,totalAmount:e.totalAmount,invoicedQty:s};return fetch("".concat(pr.baseURL,"/item-receipt-line/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(mA(l))})});if(o&&t)try{console.log("[Status Update] Setting ItemReceipt ".concat(o," status to Open"));const e=await fetch("".concat(pr.baseURL,"/item-receipt/").concat(o),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:me})});e.ok?console.log("\u2705 ItemReceipt ".concat(o," status updated to Open")):console.warn("Failed to update ItemReceipt ".concat(o," status:"),e.status)}catch(E){console.error("Error updating ItemReceipt ".concat(o," status:"),E)}const l=await Promise.all(s.filter(e=>e)),c=l.filter(e=>!e.ok);c.length>0&&console.warn("Failed to update ".concat(c.length," ItemReceiptLine records"))}catch(E){}else console.warn("No ItemReceipt ID found for updating quantities")},ze=async(e,t)=>{try{if("ItemReceipt"===e){const e=t.poid||t.purchaseOrderId;if(e){const t=await fetch("".concat(pr.baseURL,"/purchase-order-line/unreceived?POID=").concat(e),{method:"GET",headers:pr.headers});if(t.ok){var n;const o=await t.json();console.log("[Status Update] Unreceived API response for PO ".concat(e,":"),o);const i=(null===(n=o.results)||void 0===n?void 0:n.length)||0;if(console.log("[Status Update] Unreceived count for PO ".concat(e,": ").concat(i)),0===i){console.log("[Status Update] Setting PurchaseOrder ".concat(e," status to Closed"));const t=await fetch("".concat(pr.baseURL,"/purchase-order/").concat(e),{method:"PUT",headers:pr.headers,body:JSON.stringify({status:he})});t.ok?console.log("\u2705 PurchaseOrder ".concat(e," status updated to Closed")):console.warn("Failed to update PurchaseOrder ".concat(e," status:"),t.status)}else console.log("[Status Update] PO ".concat(e," still has ").concat(i," unreceived items, keeping status Open"))}else console.error("[Status Update] Failed to fetch unreceived items for PO ".concat(e,":"),t.status)}}else if("VendorBill"===e){const e=t.irid||t.itemReceiptId;if(e){console.log("[Status Update] Checking if ItemReceipt ".concat(e," is fully invoiced..."));const t=await fetch("".concat(pr.baseURL,"/item-receipt-line/uninvoiced?IRID=").concat(e),{method:"GET",headers:pr.headers});if(t.ok){var o;const n=await t.json();if(0===((null===(o=n.results)||void 0===o?void 0:o.length)||0)){const t=await fetch("".concat(pr.baseURL,"/item-receipt/").concat(e),{method:"PUT",headers:pr.headers,body:JSON.stringify({status:he})});t.ok?console.log("\u2705 ItemReceipt ".concat(e," status updated to Closed")):console.warn("Failed to update ItemReceipt ".concat(e," status:"),t.status)}}}}}catch(E){console.error("[Status Update] Error updating parent record status:",E)}},Be=async(e,t)=>{const n=(()=>{switch(r){case"PurchaseOrder":return{endpoint:"".concat(pr.baseURL,"/purchase-order-line"),idField:"poid"};case"ItemReceipt":return{endpoint:"".concat(pr.baseURL,"/item-receipt-line"),idField:"irid"};case"VendorBill":return{endpoint:"".concat(pr.baseURL,"/vendor-bill-line"),idField:"vbid"};case"VendorCredit":return{endpoint:"".concat(pr.baseURL,"/vendor-credit-line"),idField:"vcid"};default:throw new Error("Unknown transaction type: ".concat(r))}})();if(!n)throw new Error("Unsupported record type: ".concat(r));const o=t.map(async(t,o)=>{var i,r;const a=Number(t.quantity||Number(t.quantityReceived)||Number(t.quantityDelivered)||0),s=Number(t.rate||0),l=Number(t.discountAmount||0),c=Number(t.taxPercent||0),d=a*s-l,u=d*c/100,p=d+u,h={[n.idField]:e,itemID:(null===(i=t.itemID)||void 0===i?void 0:i.value)||t.itemID,quantity:a,rate:s,discountAmount:l,taxID:(null===(r=t.taxID)||void 0===r?void 0:r.value)||t.taxID,taxPercent:c,taxAmount:u,totalAmount:p},m=await fetch(n.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(mA(h))});if(!m.ok){const e=await m.text();throw new Error("Failed to create line ".concat(o+1,": ").concat(m.status," - ").concat(e))}return await m.json()});await Promise.all(o)},Ve=async(e,t,n)=>{if(!x)throw new Error("No hook available for record type: ".concat(r));let o=p(p({},e),{},{id:c,totalAmount:W});try{switch(r){case"PurchaseOrder":if(!x.updatePurchaseOrder)throw new Error("updatePurchaseOrder method not available");await x.updatePurchaseOrder(c,o);break;case"ItemReceipt":if(!x.updateItemReceipt)throw new Error("updateItemReceipt method not available");await x.updateItemReceipt(c,o);break;case"VendorBill":if(!x.updateVendorBill)throw new Error("updateVendorBill method not available");await x.updateVendorBill(c,o);break;case"VendorCredit":if(!x.updateVendorCredit)throw new Error("updateVendorCredit method not available");o.amountDue=W,await x.updateVendorCredit(c,o);break;default:throw new Error("Unsupported record type: ".concat(r))}}catch(E){throw console.error("Error updating ".concat(r,":"),E),E}let i=0;if(Object.keys(t).length>0&&n){const e={};Object.entries(t).forEach(t=>{let[n,o]=t;B[n]!==o&&(e[n]=o)}),i=Object.keys(e).length,i>0&&await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o={};if(Object.entries(e).forEach(e=>{let[t,n]=e;B[t]!==n&&(o[t]=n)}),0===Object.keys(o).length)return;const i=Object.entries(o).map(async e=>{let[o,i]=e;const r=M.find(e=>e.fieldName===o),a=null===r||void 0===r?void 0:r.id,s=F[o],l={request:"update",typeOfRecord:n,valueText:String(i),customFieldID:a,recordID:t};let c;if(c=s?await fetch("".concat(pr.baseURL,"/custom-field-value/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(mA(l))}):await fetch("".concat(pr.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(mA(l))}),!c.ok)throw new Error("Failed to ".concat(s?"update":"create",' custom field "').concat(o,'": ').concat(c.status));return await c.json()});await Promise.all(i)})(t,c,n)}return i},He=async e=>{try{I(!0),j(null);const{standardData:i,customData:d}=Me(e),u=Re();if("new"===a){var t;const n=await(async(e,t)=>{if(!x)throw new Error("No hook available for record type: ".concat(r));const{items:n}=e,o=p({},s(e,pA));o.poDate&&o.poDate instanceof Date&&(o.poDate=o.poDate.toISOString());const i=p(p({},o),{},{totalAmount:W,inactive:void 0!==o.inactive&&o.inactive});"VendorCredit"===r&&0==parseInt(i.unApplied)?i.status=he:i.status=me;try{var a,l,c;let n;switch(r){case"PurchaseOrder":if(!x.createPurchaseOrder)throw new Error("createPurchaseOrder method not available");n=await x.createPurchaseOrder(i);break;case"ItemReceipt":if(!x.createItemReceipt)throw new Error("createItemReceipt method not available");n=await x.createItemReceipt(i);break;case"VendorBill":if(!x.createVendorBill)throw new Error("createVendorBill method not available");i.amountDue=W,n=await x.createVendorBill(i);break;case"VendorCredit":if(!x.createVendorCredit)throw new Error("createVendorCredit method not available");n=await x.createVendorCredit(i);break;default:throw new Error("Unsupported record type: ".concat(r))}let o=null;if(null!==(a=n)&&void 0!==a&&a.id)o=n.id;else if(null!==(l=n)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&c.id)o=n.data.id;else if("string"===typeof n)o=n;else{const e=Object.keys(n||{}).filter(e=>e.toLowerCase().includes("id"));e.length>0&&(o=n[e[0]])}if(!o)throw new Error("".concat(r," header created but no ID returned. Response: ").concat(JSON.stringify(n)));const s=t.items||[];if(s.length>0){if(await Be(o,s),"ItemReceipt"===r){const e=s.map(e=>p(p({},e),{},{receiptId:o}));await Le(e,!1,[])}if("VendorBill"===r){const e=s.map(e=>p(p({},e),{},{vendorBillId:o}));await Fe(e,!1,[])}}var d;if("VendorCredit"===r)if(console.log("\ud83d\udd0d VendorCredit creation - vendorCreditPaymentLineData:",ne),ne&&(null===(d=ne.vendorBills)||void 0===d?void 0:d.length)>0){const e=ne.vendorBills.filter(e=>e.checked)||[];if(console.log("\ud83d\udd0d Checked vendor bills:",e),e.length>0){const t=(null===i||void 0===i?void 0:i.sequenceNumber)||"";await je(o,t,e),await Ae(ne,"new")}}else console.log("\u274c No vendor bills to apply credit to");return await ze(r,e),o}catch(E){throw E}})(i,e);(null===A||void 0===A||null===(t=A.standardFields)||void 0===t?void 0:t.some(e=>"form"===e.name))&&H&&await(async e=>{if(e)try{const t=await fetch("".concat(pr.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)return;const n=await t.text();if(!n.trim())return;const o=JSON.parse(n);if(!Array.isArray(o)||0===o.length)return;const i=o[0],r=(i.formSequenceNumber||0)+1;await fetch("".concat(pr.baseURL,"/form-sequence/").concat(i.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({formId:e,formSequenceNumber:r})})}catch(t){}})(H),await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o=Object.entries(e).map(async e=>{let[o,i]=e;const r=M.find(e=>e.fieldName===o),a=null===r||void 0===r?void 0:r.id,s={request:"create",typeOfRecord:n,valueText:String(i),customFieldID:a,recordID:t},l=await fetch("".concat(pr.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(mA(s))});if(!l.ok)throw new Error('Failed to create custom field "'.concat(o,'": ').concat(l.status));return await l.json()});await Promise.all(o)})(d,n,u),Se("".concat(r," created successfully with ").concat(Object.keys(d).length," custom fields"),"success"),"ItemReceipt"===r&&sessionStorage.removeItem("purchaseOrderDataForReceiving"),"VendorBill"===r&&sessionStorage.removeItem("itemReceiptDataForBilling")}else{var n;const t=await Ve(i,d,u);if(e.items&&e.items.length>0){var o;const t=(null===(o=ue.current)||void 0===o?void 0:o.items)||[];await(async e=>{const t={PurchaseOrder:{endpoint:"".concat(pr.baseURL,"/purchase-order-line"),getEndpoint:"".concat(pr.baseURL,"/purchase-order-line/by-purchase-order/").concat(c),idField:"poid",quantityField:"quantity"},ItemReceipt:{endpoint:"".concat(pr.baseURL,"/item-receipt-line"),getEndpoint:"".concat(pr.baseURL,"/item-receipt-line/by-item-receipt/").concat(c),idField:"irid",quantityField:"quantity"},VendorBill:{endpoint:"".concat(pr.baseURL,"/vendor-bill-line"),getEndpoint:"".concat(pr.baseURL,"/vendor-bill-line/by-vendor-bill/").concat(c),idField:"vbid",quantityField:"quantityDelivered"}}[r];if(t)try{const n=await fetch(t.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let o=[];if(n.ok){const e=await n.json();if(Array.isArray(e))o=e;else if(e.results&&Array.isArray(e.results))o=e.results;else{const t=Object.values(e).filter(e=>Array.isArray(e));t.length>0&&(o=t[0])}}const i=new Map;o.forEach(e=>{e.id&&i.set(e.id,e)});const r=new Map;e.forEach(e=>{e.id&&r.set(e.id,e)});const a=[],s=[],l=[];e.forEach(e=>{e.id&&i.has(e.id)?a.push(e):s.push(e)}),o.forEach(e=>{e.id&&!r.has(e.id)&&l.push(e)});const d=a.map(e=>{const n={[t.idField]:c,itemID:e.itemID||e.itemId,[t.quantityField]:parseFloat(e.quantity||e.quantityDelivered||0),rate:parseFloat(e.rate||0),discount:parseFloat(e.discount||0),taxID:e.taxID||e.taxId,taxPercent:parseFloat(e.taxPercent||0),taxAmount:parseFloat(e.taxAmount||0),taxRate:parseFloat(e.taxRate||0),amount:parseFloat(e.amount||e.totalAmount||0)};return fetch("".concat(t.endpoint,"/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(mA(n))})}),u=s.map(e=>{const n={[t.idField]:c,itemID:e.itemID||e.itemId,[t.quantityField]:parseFloat(e.quantity||e.quantityDelivered||0),rate:parseFloat(e.rate||0),discount:parseFloat(e.discount||0),taxID:e.taxID||e.taxId,taxPercent:parseFloat(e.taxPercent||0),taxAmount:parseFloat(e.taxAmount||0),taxRate:parseFloat(e.taxRate||0),amount:parseFloat(e.amount||e.totalAmount||0)};return fetch(t.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(mA(n))})}),p=l.map(e=>fetch("".concat(t.endpoint,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}})),h=[...d,...u,...p],m=(await Promise.all(h)).filter(e=>!e.ok);if(m.length>0)throw new Error("Failed to update ".concat(m.length," line items"))}catch(E){throw E}})(e.items),"ItemReceipt"===r&&await Le(e.items,!0,t),"VendorBill"===r&&await Fe(e.items,!0,t)}if("VendorCredit"===r&&ne&&(null===(n=ne.vendorBills)||void 0===n?void 0:n.length)>0){const e=ne.vendorBills.filter(e=>e.checked)||[];if(e.length>0){const t=e;await De(t);const n=ne.originalData||{};await Ne(ne,n)}}await ze(r,i),Se("".concat(r," updated successfully with ").concat(t," custom fields"),"success")}"ItemReceipt"===r&&"new"===a&&sessionStorage.removeItem("purchaseOrderDataForReceiving"),"VendorBill"===r&&"new"===a&&sessionStorage.removeItem("itemReceiptDataForBilling"),l(pe[r]||"/customer")}catch(i){j(i.message),Se(i.message,"error")}finally{I(!1)}},qe=(0,o.useCallback)(async e=>{if(!e){var t;O([]),L({}),z({}),V({}),q(null);return void((null===A||void 0===A||null===(t=A.standardFields)||void 0===t?void 0:t.some(e=>"sequenceNumber"===e.name))&&N(e=>p(p({},e),{},{sequenceNumber:null})))}try{var n,o;I(!0);const t=await be(e);O(t),q(e);const i=ke(t.map(e=>p(p({},e),{},{name:e.fieldName})));if("new"!==a&&c){const e=Re(),{customData:n,customFieldIds:o}=await we(c,e,t);z(o);const r=p(p({},i),n);L(r),V(r)}else L(i),V(i);const[r,s]=await Promise.all([fetch("".concat(pr.baseURL,"/form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(pr.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let l="";if(r.ok&&s.ok){const[e,t]=await Promise.all([r.text().then(e=>e.trim()?JSON.parse(e):{}),s.text().then(e=>e.trim()?JSON.parse(e):[])]),n=Array.isArray(t)&&t.length>0?t[0]:{formSequenceNumber:0},o=e.prefix||"",i=(n.formSequenceNumber||0)+1;l="".concat(o).concat(String(i).padStart(4,"0"))}const d=null===A||void 0===A||null===(n=A.standardFields)||void 0===n?void 0:n.some(e=>"form"===e.name),u=null===A||void 0===A||null===(o=A.standardFields)||void 0===o?void 0:o.some(e=>"sequenceNumber"===e.name),h={};d&&(h.form=e),u&&(h.sequenceNumber=l),N(e=>p(p({},e),h))}catch(r){var i;(null===A||void 0===A||null===(i=A.standardFields)||void 0===i?void 0:i.some(e=>"form"===e.name))&&N(t=>p(p({},t),{},{form:e}))}finally{I(!1)}},[A,be,a,c,Re,we,ke]),Ue=(0,o.useMemo)(()=>{const e={};return Object.keys(T).forEach(t=>{const n=T[t]||[];e[t]=n.map(e=>{if("string"===typeof e)return{text:e,value:e};if(e.text&&e.value)return e;let n="";if(e&&"object"===typeof e)if("form"===t&&e.formName)n=e.formName;else if(e.name)n=e.name;else if(e.sequenceNumber)n=e.sequenceNumber;else if(e.poNumber)n=e.poNumber;else if(e.title)n=e.title;else if(e.description)n=e.description;else{const t=Object.keys(e).find(t=>"id"!==t&&"string"===typeof e[t]&&e[t].trim().length>0);n=t?e[t]:String(e.id||"")}else n=String(e||"");return{text:n,value:e.id||e}})}),e},[T]),Ge=(0,o.useCallback)(e=>{const{name:t,onChange:n,value:o}=e,i=[{text:"-- Select --",value:null},...Ue[t]||[]],s=null!==o&&void 0!==o&&""!==o?i.find(e=>e.value===o):i[0];return{data:i,textField:"text",valueField:"value",value:s,virtual:!1,popupSettings:{appendTo:document.body,animate:!1},onChange:async e=>{var o;const i=(null===(o=e.target.value)||void 0===o?void 0:o.value)||e.target.value,s=""===i||void 0===i?null:i;n&&n({target:{value:s}}),"form"===t&&await qe(s),"poid"===t&&"ItemReceipt"===r&&"new"===a&&s!==ae&&(se(s),ce(e=>e+1)),"locationID"===t&&X(s)}}},[Ue,qe,X,ae]),We=(0,o.useCallback)(e=>{const{name:t}=e,n=(T[t]||[]).map(e=>{if("string"===typeof e)return{text:e,value:e};if(e.name&&e.id)return{text:e.name,value:e.id};if(e.text&&e.value)return e;const t=Object.keys(e);return{text:e[t[0]],value:e[t[0]]}});return{data:n,textField:"text",valueField:"value"}},[T]),Ke=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:n,touched:o,label:i}=e,r=s(e,hA),l=o&&n,c=p(p({},r),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===a||r.disabled}),d={text:{component:Fc,props:c},number:{component:xu,props:p(p({},c),{},{min:0,step:0,spinners:!1})},textarea:{component:Cu,props:p(p({},c),{},{rows:4})},checkbox:{component:ju,props:p(p({},c),{},{label:i,checked:r.value||!1,style:{display:"flex",alignItems:"center"}})},date:{component:Zv,props:c},dropdown:{component:Sh,props:p(p({},c),Ge(e))},multiselect:{component:em,props:p(p({},c),We(e))}},u=d[t]||d.text;return(0,sr.jsxs)("div",{children:[(0,sr.jsx)(u.component,p({},u.props)),l&&(0,sr.jsx)("div",{className:"k-form-error",children:n})]})}},[a,Ge,We]),Ye=(0,o.useMemo)(()=>({Input:Ke(Fc,"text"),TextArea:Ke(Cu,"textarea"),Checkbox:Ke(ju,"checkbox"),NumericTextBox:Ke(Fc,"number"),Number:Ke(Fc,"number"),DropDownList:Ke(Sh,"dropdown"),DatePicker:Ke(Zv,"date"),MultiSelect:Ke(em,"multiselect")}),[Ke]),Xe=e=>Ye[e.fieldTypeName]||Ye.Input,Je=function(e){const t=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);return e.isMandatory?"".concat(t," *"):t},Qe=(0,o.useCallback)(function(e){if(e.isMandatory)return t=>t&&""!==t?"email"===e.name&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"Please enter a valid email address":"phone"===e.name&&t&&!/^\d{10}$/.test(t.replace(/\D/g,""))?"Phone number must be 10 digits":"":"".concat(e.displayName||e.name," is required")},[]),Ze=e=>{if(e.isRequired)return t=>t&&""!==t?"":"".concat(e.fieldLabel||e.fieldName," is required")},$e=(0,o.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const r=t?"custom_".concat(e.fieldName||e.name):e.name,s=t&&e.fieldName||e.name,l=o||"".concat(t?"custom":"standard","-field-").concat(e.id||s),c=t?"".concat(e.fieldLabel||e.fieldName).concat(e.isRequired?" *":""):Je(e,i),d=Xe(e),u=t?Ze(e):Qe(e,i),p="Checkbox"===e.fieldTypeName||"Switch"===e.fieldTypeName,h="view"===a||e.isDisabled;return(0,sr.jsxs)("div",{className:"master-field-group ".concat(n?"master-field-full":""," ").concat(p?"checkbox-wrapper":""),children:[!p&&(0,sr.jsx)("label",{className:"k-label",children:c}),(0,sr.jsx)("div",{className:"field-wrapper",children:(0,sr.jsx)(gr,{id:r,name:r,component:d,validator:u,disabled:h,label:p?c:void 0})})]},l)},[a,r,Xe,Je,Qe,Ze]),et=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=[];let r=[];return e.forEach(e=>{["TextArea","Checkbox","MultiSelect"].includes(e.fieldTypeName)?(r.length>0&&(i.push({type:"row",fields:[...r]}),r=[]),i.push({type:"fullWidth",field:e})):(r.push(e),3===r.length&&(i.push({type:"row",fields:[...r]}),r=[]))}),r.length>0&&i.push({type:"row",fields:[...r]}),i.map((e,i)=>{const r=t?"custom":"standard";return"row"===e.type?(0,sr.jsx)(o.Fragment,{children:e.fields.map(e=>$e(e,t,!1,null,n))},"".concat(r,"-row-").concat(i)):$e(e.field,t,!0,"".concat(r,"-full-").concat(i),n)})},[$e]);return S||d||!A||!ie?(0,sr.jsx)("div",{className:"master-form-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsxs)("div",{children:["Loading ",r.toLowerCase()," form..."]})]})}):E||u?(0,sr.jsx)("div",{className:"master-form-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("h3",{children:["Error Loading ",r]}),(0,sr.jsx)("p",{children:E||u}),(0,sr.jsx)(bo,{onClick:()=>l("/"),children:"Back to Dashboard"})]})}):(0,sr.jsxs)("div",{className:"master-form-container","data-theme":r.toLowerCase(),children:[(0,sr.jsx)(ay,{children:b.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:b.type,icon:!0},closable:!0,onClose:()=>w({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:b.message})})})}),(0,sr.jsxs)("div",{className:"master-form-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,sr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,sr.jsx)("h2",{children:"new"===a?"Create New ".concat(r):"edit"===a?"Edit ".concat(r):"View ".concat(r)}),("edit"===a||"view"===a)&&D.status&&(()=>{const e=(T.status||[]).find(e=>e.id===D.status),t=(null===e||void 0===e?void 0:e.name)||"Unknown",n=(e=>{switch(e.toLowerCase()){case"open":return{bg:"#FEF3C7",text:"#92400E",border:"#F59E0B"};case"closed":return{bg:"#D1FAE5",text:"#065F46",border:"#10B981"};default:return{bg:"#F3F4F6",text:"#374151",border:"#9CA3AF"}}})(t);return(0,sr.jsx)("span",{style:{display:"inline-block",padding:"4px 12px",fontSize:"12px",fontWeight:"600",borderRadius:"12px",backgroundColor:n.bg,color:n.text,border:"1px solid ".concat(n.border),textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:t})})()]}),(0,sr.jsxs)("div",{style:{display:"flex",gap:"8px",marginRight:"16px"},children:[(0,sr.jsxs)(bo,{type:"button",onClick:()=>l(pe[r]||"/purchase-order"),className:"k-button k-button-secondary",children:[(0,sr.jsx)(tr,{})," ","view"===a?"Close":"Cancel"]}),"PurchaseOrder"===r&&"view"===a&&"5e3f19d1-f615-4954-88cb-30975d52b8cd"===D.status&&(0,sr.jsxs)(bo,{type:"button",onClick:async()=>{try{const e=await Ie("ItemReceipt"),t=await fetch("".concat(pr.baseURL,"/purchase-order-line/unreceived?POID=").concat(c),{method:"GET",headers:pr.headers});if(!t.ok)throw new Error("Failed to fetch unreceived items");const n=await t.json(),o={poid:c,vendorID:D.vendorID,locationID:D.locationID,poDate:D.poDate,deliveryDate:D.deliveryDate,discount:D.discount,totalAmount:D.totalAmount,items:n||[],form:e};sessionStorage.setItem("purchaseOrderDataForReceiving",JSON.stringify(o)),l("/item-receipt/new")}catch(E){const t=await Ie("ItemReceipt"),n={poid:c,vendorID:D.vendorID,locationID:D.locationID,poDate:D.poDate,deliveryDate:D.deliveryDate,discount:D.discount,totalAmount:D.totalAmount,items:D.items||[],form:t};sessionStorage.setItem("purchaseOrderDataForReceiving",JSON.stringify(n)),l("/item-receipt/new")}},className:"k-button k-button-success",children:[(0,sr.jsx)(ir,{})," Receive"]}),"ItemReceipt"===r&&"view"===a&&"5e3f19d1-f615-4954-88cb-30975d52b8cd"===D.status&&(0,sr.jsxs)(bo,{type:"button",onClick:async()=>{try{var e;const t=await Ie("VendorBill"),n=await fetch("".concat(pr.baseURL,"/item-receipt-line/uninvoiced?IRID=").concat(c),{method:"GET",headers:pr.headers});if(!n.ok)throw new Error("Failed to fetch unbilled items");const o=await n.json();console.log("Unbilled API response:",o);let i=[];if(Array.isArray(o))i=o;else if(o.results&&Array.isArray(o.results))i=o.results;else if(o.data&&Array.isArray(o.data))i=o.data;else{const e=Object.values(o).filter(e=>Array.isArray(e));e.length>0&&(i=e[0])}console.log("Processed unbilled items array:",i);const r={irid:c,vendorID:D.vendorID,locationID:D.locationID,deliveryDate:D.deliveryDate,discount:D.discount,totalAmount:D.totalAmount,items:(null===(e=i)||void 0===e?void 0:e.map(e=>{const t=e.quantity||0,n=e.invoicedQty||0,o=Math.max(0,t-n);return console.log("Item ".concat(e.itemID,": received=").concat(t,", invoiced=").concat(n,", remaining=").concat(o)),p(p({},e),{},{quantity:o,originalQuantity:t,invoicedQty:n})}).filter(e=>e.quantity>0))||[],form:t};sessionStorage.setItem("itemReceiptDataForBilling",JSON.stringify(r)),l("/vendor-bill/new")}catch(E){var t;console.error("Error fetching unbilled items:",E);const n=await Ie("VendorBill"),o={irid:c,vendorID:D.vendorID,locationID:D.locationID,deliveryDate:D.deliveryDate,discount:D.discount,totalAmount:D.totalAmount,items:(null===(t=D.items)||void 0===t?void 0:t.map(e=>p(p({},e),{},{quantity:e.quantitydelivered||e.quantity||0})))||[],form:n};sessionStorage.setItem("itemReceiptDataForBilling",JSON.stringify(o)),l("/vendor-bill/new")}},className:"k-button k-button-success",children:[(0,sr.jsx)(Vi,{})," Bill"]})]})]}),("VendorBill"===r||"VendorCredit"===r)&&(0,sr.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px",marginTop:"10px"},children:(0,sr.jsxs)("div",{style:{display:"flex",backgroundColor:"#ffffff",border:"2px solid #e8f4fd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",minWidth:"280px"},children:[(0,sr.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#f8fbff",borderRight:"1px solid #e8f4fd",flex:1},children:[(0,sr.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"Total"}),(0,sr.jsx)("div",{style:{fontSize:"18px",color:"#2c3e50",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:"VendorCredit"===r?(null===D||void 0===D||null===(t=D.totalAmount)||void 0===t?void 0:t.toFixed(2))||"0.00":(null===W||void 0===W?void 0:W.toFixed(2))||"0.00"})]}),(0,sr.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#ffffff",flex:1},children:[(0,sr.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"VendorCredit"===r?"UnApplied":"Amount Due"}),(0,sr.jsx)("div",{style:{fontSize:"18px",color:"VendorCredit"===r?"#27ae60":"#e74c3c",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:"VendorCredit"===r?(null===D||void 0===D||null===(n=D.unApplied)||void 0===n?void 0:n.toFixed(2))||"0.00":(null===D||void 0===D||null===(i=D.amountDue)||void 0===i?void 0:i.toFixed(2))||(null===W||void 0===W?void 0:W.toFixed(2))||"0.00"})]})]})}),(0,sr.jsx)("div",{className:"master-form-element",children:(0,sr.jsx)(la,{initialValues:Ce,validator:Pe,onSubmit:He,render:e=>(0,sr.jsxs)(ma,{children:[(0,sr.jsxs)("div",{className:"master-form-content",children:[(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:et(A.standardFields,!1,e)})]}),M.length>0&&(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:et(M,!0,e)})]}),(0,sr.jsx)("div",{className:"form-section",children:"view"===a&&"VendorBill"===r?(0,sr.jsxs)("div",{className:"payment-container",style:{border:"none",boxShadow:"none",background:"transparent",padding:"0"},children:[(0,sr.jsx)("style",{children:'\n                        .payment-container { \n                          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; \n                          background-color: #fff; \n                          color: #333; \n                        }\n                        .subtab-nav { \n                          border-bottom: 1px solid #dee2e6; \n                          display: flex; \n                          background: #f1f3f4;\n                          border-radius: 10px 10px 0 0;\n                          padding: 6px;\n                          margin-bottom: 0;\n                        }\n                        .subtab-link { \n                          background: #e8eaed; \n                          border: none; \n                          padding: 12px 24px; \n                          cursor: pointer; \n                          font-size: 14px; \n                          font-weight: 500; \n                          color: #5f6368; \n                          margin-bottom: 0;\n                          border-radius: 8px;\n                          transition: all 0.2s ease;\n                          margin-right: 6px;\n                          min-width: 80px;\n                          text-align: center;\n                        }\n                        .subtab-link:hover {\n                          background: #d2e3fc;\n                          color: #1a73e8;\n                          transform: translateY(-1px);\n                        }\n                        .subtab-link.active { \n                          background: #1a73e8;\n                          color: #fff;\n                          box-shadow: 0 2px 8px rgba(26, 115, 232, 0.3);\n                          font-weight: 600;\n                        }\n                        .subtab-content { \n                          display: none; \n                          padding: 20px 0; \n                          background: #fff;\n                          border-radius: 0 0 10px 10px;\n                          border: 1px solid #dee2e6;\n                          border-top: none;\n                        }\n                        .subtab-content.active { \n                          display: block; \n                        }\n                      '}),(0,sr.jsxs)("div",{className:"subtab-nav",children:[(0,sr.jsx)("button",{className:"subtab-link ".concat("items"===J?"active":""),onClick:()=>Q("items"),children:"Items"}),(0,sr.jsx)("button",{className:"subtab-link ".concat("transactions"===J?"active":""),onClick:()=>Q("transactions"),children:"Payments"})]}),(0,sr.jsx)("div",{className:"subtab-content ".concat("items"===J?"active":""),children:(0,sr.jsx)(uA,{recordType:r,mode:a,embedded:!0,onTotalAmountChange:K,headerDiscount:e.valueGetter("discount")||0,selectedLocation:Y,poid:"ItemReceipt"===r?"new"===a?e.valueGetter("purchaseOrderId")||e.valueGetter("poid")||e.valueGetter("purchaseOrder"):D.poid||D.purchaseOrderId:"new"===a?c:null,irid:"VendorBill"===r?"new"===a?e.valueGetter("itemReceiptId")||e.valueGetter("irid")||e.valueGetter("itemReceipt"):D.irid||D.itemReceiptId:"new"===a?c:null,vendorId:"VendorCredit"===r?e.valueGetter("vendorID")||e.valueGetter("vendorId")||e.valueGetter("vendor")||D.vendorID||D.vendorId:null,vendorCreditTotalAmount:"VendorCredit"===r&&(W||e.valueGetter("totalAmount"))||0,onCreditApplicationChange:"VendorCredit"===r?Ee:null,poidChangeCounter:le})}),(0,sr.jsx)("div",{className:"subtab-content ".concat("transactions"===J?"active":""),children:ee?(0,sr.jsx)("div",{className:"transactions-section",children:(0,sr.jsxs)("div",{className:"loading-transactions",children:[(0,sr.jsx)("div",{className:"spinner"}),"Loading payment transactions..."]})}):Z&&0!==Z.length?(0,sr.jsx)("div",{className:"transactions-section",children:(0,sr.jsxs)("table",{className:"transactions-table",children:[(0,sr.jsx)("thead",{children:(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("th",{children:"Action"}),(0,sr.jsx)("th",{children:"Type"}),(0,sr.jsx)("th",{children:"Reference"}),(0,sr.jsx)("th",{children:"Amount"})]})}),(0,sr.jsx)("tbody",{children:Z.map((e,t)=>(0,sr.jsxs)("tr",{children:[(0,sr.jsxs)("td",{children:["Vendor Payment"===e.transactionType&&(0,sr.jsxs)("button",{className:"view-button",onClick:()=>l("/vendor-payment/view/".concat(e.paymentId)),children:[(0,sr.jsx)(Ki,{})," View"]}),"Vendor Credit"===e.transactionType&&(0,sr.jsxs)("button",{className:"view-button",onClick:()=>l("/vendor-credit/view/".concat(e.paymentId||e.vcid)),children:[(0,sr.jsx)(Ki,{})," View"]})]}),(0,sr.jsx)("td",{children:e.transactionType||"Unknown"}),(0,sr.jsx)("td",{children:e.paymentSeqNum||e.vendorCreditSeqNum||"N/A"}),(0,sr.jsx)("td",{children:(e.paymentAmount||0).toFixed(2)})]},e.id||t))})]})}):(0,sr.jsx)("div",{className:"transactions-section",children:(0,sr.jsxs)("div",{className:"no-transactions",children:[(0,sr.jsx)(Gi,{}),"No payment transactions found for this ",r.toLowerCase(),"."]})})})]}):(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Items"})}),(0,sr.jsx)("div",{style:{padding:"0",width:"100%",maxWidth:"100%",overflow:"hidden"},children:(0,sr.jsx)(uA,{recordType:r,mode:a,embedded:!0,onTotalAmountChange:K,headerDiscount:e.valueGetter("discount")||0,selectedLocation:Y,poid:"ItemReceipt"===r?"new"===a?e.valueGetter("purchaseOrderId")||e.valueGetter("poid")||e.valueGetter("purchaseOrder"):D.poid||D.purchaseOrderId:"new"===a?c:null,irid:"VendorBill"===r?"new"===a?e.valueGetter("itemReceiptId")||e.valueGetter("irid")||e.valueGetter("itemReceipt"):D.irid||D.itemReceiptId:"new"===a?c:null,vendorId:"VendorCredit"===r?e.valueGetter("vendorID")||e.valueGetter("vendorId")||e.valueGetter("vendor")||D.vendorID||D.vendorId:null,vendorCreditTotalAmount:"VendorCredit"===r&&(W||e.valueGetter("totalAmount"))||0,onCreditApplicationChange:"VendorCredit"===r?Ee:null,poidChangeCounter:le})})]})})]}),(0,sr.jsxs)("div",{className:"master-form-actions",children:[(0,sr.jsxs)(bo,{type:"button",onClick:()=>l(pe[r]||"/purchase-order"),className:"k-button k-button-secondary",children:[(0,sr.jsx)(tr,{})," ","view"===a?"Close":"Cancel"]}),"new"!==a&&(0,sr.jsxs)(bo,{type:"button",onClick:()=>C(!0),className:"k-button k-button-danger",children:[(0,sr.jsx)(or,{})," Delete"]}),"view"!==a&&(0,sr.jsxs)(bo,{type:"submit",disabled:S||(()=>{if("VendorCredit"===r)return!1;if("ItemReceipt"===r&&"new"===a){if(sessionStorage.getItem("purchaseOrderDataForReceiving"))return!1}if("VendorBill"===r&&"new"===a){if(sessionStorage.getItem("itemReceiptDataForBilling"))return!1}return!e.allowSubmit})(),className:"k-button k-button-primary",onClick:t=>{if((()=>{if("ItemReceipt"===r&&"new"===a){return sessionStorage.getItem("purchaseOrderDataForReceiving")}if("VendorBill"===r&&"new"===a){return sessionStorage.getItem("itemReceiptDataForBilling")}return!1})()&&!e.allowSubmit){t.preventDefault();const n=e.value||Ce;He(n)}},children:[(0,sr.jsx)(Qi,{})," ",S?"Saving...":"Save"]})]})]})},"".concat(r.toLowerCase(),"-form-").concat(a,"-").concat(c||"new","-").concat(H||"no-form"))}),(0,sr.jsx)(ly,{isOpen:k,onClose:()=>C(!1),onConfirm:async()=>{if(x)try{I(!0),j(null);const e={PurchaseOrder:{endpoint:"".concat(pr.baseURL,"/purchase-order-line"),getEndpoint:"".concat(pr.baseURL,"/purchase-order-line/by-purchase-order/").concat(c),idField:"poid",quantityField:"quantity"},ItemReceipt:{endpoint:"".concat(pr.baseURL,"/item-receipt-line"),getEndpoint:"".concat(pr.baseURL,"/item-receipt-line/by-item-receipt/").concat(c),idField:"irid",quantityField:"quantity"},VendorBill:{endpoint:"".concat(pr.baseURL,"/vendor-bill-line"),getEndpoint:"".concat(pr.baseURL,"/vendor-bill-line/by-vendor-bill/").concat(c),idField:"vbid",quantityField:"quantity"},VendorCredit:{endpoint:"".concat(pr.baseURL,"/vendor-credit-line"),getEndpoint:"".concat(pr.baseURL,"/vendor-credit-line/by-vendor-credit/").concat(c),idField:"vcid",quantityField:"quantity"}};if("VendorCredit"===r)try{const e=await Te(c);if(console.log("\ud83d\udd04 Existing payment lines:111111111111111",e),e.length>0){const t={vendorBills:e.map(e=>({id:e.recordID,type:e.recordType||"VendorBill",displayAmount:e.paymentAmount||0,checked:!0}))};await Ae(t,"delete")}await _e(c)}catch(E){console.error("Error handling VendorCredit payment lines during deletion:",E)}const t=e[r];if(t&&t.getEndpoint){const e=await fetch(t.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let n=[];if(e.ok){const t=await e.json();if(Array.isArray(t))n=t;else if(t.results&&Array.isArray(t.results))n=t.results;else{const e=Object.values(t).filter(e=>Array.isArray(e));e.length>0&&(n=e[0])}}if(n.length>0){if("ItemReceipt"===r&&await Le([],!0,n),"VendorBill"===r&&await Fe([],!0,n),"ItemReceipt"===r){const e=D.poid||D.purchaseOrderId;if(e)try{console.log("[Status Update] Setting PurchaseOrder ".concat(e," status to Open"));const t=await fetch("".concat(pr.baseURL,"/purchase-order/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:me})});t.ok?console.log("\u2705 PurchaseOrder ".concat(e," status updated to Open")):console.warn("Failed to update PurchaseOrder ".concat(e," status:"),t.status)}catch(E){console.error("Error updating PurchaseOrder ".concat(e," status:"),E)}}else if("VendorBill"===r){const e=D.irid||D.itemReceiptId;if(e)try{console.log("[Status Update] Setting ItemReceipt ".concat(e," status to Open"));const t=await fetch("".concat(pr.baseURL,"/item-receipt/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:me})});t.ok?console.log("\u2705 ItemReceipt ".concat(e," status updated to Open")):console.warn("Failed to update ItemReceipt ".concat(e," status:"),t.status)}catch(E){console.error("Error updating ItemReceipt ".concat(e," status:"),E)}}const e=n.map(e=>fetch("".concat(t.endpoint,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}})),o=(await Promise.all(e)).filter(e=>!e.ok);if(o.length>0)throw new Error("Failed to delete ".concat(o.length," line items"))}}let n;switch(r){case"PurchaseOrder":n=x.deletePurchaseOrder;break;case"ItemReceipt":n=x.deleteItemReceipt;break;case"VendorBill":n=x.deleteVendorBill;break;case"VendorCredit":n=x.deleteVendorCredit;break;default:throw new Error("Unsupported record type: ".concat(r))}if(!n)throw new Error("Delete method not available for ".concat(r));await n(c);const o=Re();await(async(e,t)=>{if(e&&t)try{const n=await fetch("".concat(pr.baseURL,"/custom-field-value/by-type-and-record?typeOfRecord=").concat(t,"&recordId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(n.ok){const t=await n.json();if(Array.isArray(t)&&t.length>0){const n=t.map(async e=>{const t=await fetch("".concat(pr.baseURL,"/custom-field-value/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});t.ok||console.warn("Failed to delete custom field value ".concat(e.id,": ").concat(t.status))});await Promise.all(n),console.log("\u2705 Deleted ".concat(t.length," custom field values for ").concat(r," ").concat(e))}}else 404!==n.status&&console.warn("Failed to fetch custom field values for deletion: ".concat(n.status))}catch(E){console.error("Error deleting custom field values:",E)}})(c,o),Se("".concat(r," deleted successfully!"),"success"),C(!1);l(pe[r]||"/")}catch(E){Se("Failed to delete ".concat(r,": ").concat(E.message),"error")}finally{I(!1)}else Se("No hook available for ".concat(r),"error")},title:"Confirm Delete",message:(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsxs)("p",{children:["Are you sure you want to delete this ",r.toLowerCase(),"?"]}),(0,sr.jsx)("p",{children:(0,sr.jsx)("strong",{children:"This action cannot be undone."})})]}),confirmText:"Delete",cancelText:"Cancel",type:"danger",loading:S})]})}),gA=e=>(0,sr.jsx)(fA,p(p({},e),{},{recordType:"PurchaseOrder"})),vA=e=>(0,sr.jsx)(fA,p(p({},e),{},{recordType:"ItemReceipt"})),yA=e=>(0,sr.jsx)(fA,p(p({},e),{},{recordType:"VendorBill"})),xA=fA,bA=()=>{const e=ve(),t=hy("purchase-order"),{loading:n,error:i,refresh:r}=t,a=t.purchaseOrders,{vendors:s}=hy("vendor"),[l,c]=(0,o.useState)(""),[d,u]=(0,o.useState)("All"),[h,m]=(0,o.useState)({show:!1,message:"",type:"success"}),[f,g]=(0,o.useState)({skip:0,take:10,sort:[{field:"poDate",dir:"desc"}]}),v=e=>{var t;const n=null===s||void 0===s||null===(t=s.results)||void 0===t?void 0:t.find(t=>t.id===e);return n?n.name:"Unknown Vendor"},y=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),x=(0,o.useCallback)(()=>{if(null===a||void 0===a||!a.results)return{data:[],total:0};let e=[...a.results];l&&(e=e.filter(e=>{const t=e.vendorName||v(e.vendorID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(e.status," ").concat(y(e.totalAmount)).toLowerCase().includes(l.toLowerCase())})),"All"!==d&&(e=e.filter(e=>e.status===d));return{data:ab(e,f).data,total:e.length}},[a,l,d,s,f]);return n?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"purchase-order-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading purchase orders..."})]})})}):i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"purchase-order-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading purchase orders: ",i]}),(0,sr.jsxs)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"purchase-order-list-container",children:[(0,sr.jsx)(ay,{children:h.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:h.type,icon:!0},closable:!0,onClose:()=>m({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:h.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Purchase Order Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/purchase-order/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Purchase Order"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search purchase orders...",value:l,onChange:e=>c(e.target.value)})]}),(0,sr.jsxs)("div",{className:"filter-bar",children:[(0,sr.jsx)(Yi,{className:"filter-icon"}),(0,sr.jsx)(Sh,{data:["All","Draft","Fulfilled","Cancelled"],value:d,onChange:e=>u(e.target.value),style:{width:"100%"}})]}),(0,sr.jsx)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==a&&void 0!==a&&a.results&&0!==a.results.length?0===x().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No purchase orders match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:x().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},f),{},{onDataStateChange:e=>{g(e.dataState)},total:x().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(f.skip||0);return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,sr.jsx)(zy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,sr.jsx)(zy,{field:"vendorID",title:"Vendor",width:"200px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.vendorName||v(e.dataItem.vendorID)}))}),(0,sr.jsx)(zy,{field:"status",title:"Status",width:"150px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,sr.jsx)("span",{className:"status-badge ".concat("status-open"),children:"Open"})}))}),(0,sr.jsx)(zy,{field:"totalAmount",title:"Total Amount",width:"140px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:y(e.dataItem[e.field])}))}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/purchase-order/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/purchase-order/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid order data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No purchase orders found. Click the "Add New Purchase Order" button above to create your first purchase order.'})}),(0,sr.jsx)("style",{children:'\n          .purchase-order-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n            max-width: none;\n            white-space: nowrap;\n            text-overflow: clip;\n            overflow: visible;\n            width: auto;\n          }\n\n          .status-draft {\n            background-color: #FEF3C7;\n            color: #92400E;\n          }\n\n          .status-fulfilled {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-cancelled {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .purchase-order-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n\n          .k-grid .k-table-td .status-badge {\n            max-width: none !important;\n            overflow: visible !important;\n        }\n      '})]})})},wA=()=>{const e=ve(),{itemReceipts:t,loading:n,error:i,refresh:r}=hy("item-receipt"),{vendors:a}=hy("vendor"),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)({show:!1,message:"",type:"success"}),[u,h]=(0,o.useState)({skip:0,take:10,sort:[{field:"deliveryDate",dir:"desc"}]}),m=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find(t=>t.id===e);return n?n.name:"Unknown Vendor"},f=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},g=(0,o.useCallback)(()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];s&&(e=e.filter(e=>{const t=m(e.vendorID);return"".concat(t," ").concat(e.poNumber||"").toLowerCase().includes(s.toLowerCase())}));return{data:ab(e,u).data,total:e.length}},[t,s,a,u]);return n?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"item-receipt-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading item receipts..."})]})})}):i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"item-receipt-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading item receipts: ",i]}),(0,sr.jsxs)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"item-receipt-list-container",children:[(0,sr.jsx)(ay,{children:c.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:c.type,icon:!0},closable:!0,onClose:()=>d({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:c.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Item Receipt Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/item-receipt/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Item Receipt"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search item receipts...",value:s,onChange:e=>l(e.target.value)})]}),(0,sr.jsx)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===g().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No item receipts match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:g().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},u),{},{onDataStateChange:e=>{h(e.dataState)},total:g().total,style:{height:"calc(100vh - 250px)",minHeight:"400px",width:"100%"},children:[(0,sr.jsx)(zy,{title:"No",width:"80px",cell:e=>{const t=e.dataIndex+1+(u.skip||0);return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,sr.jsx)(zy,{field:"soNumber",title:"SO Number",width:"180px"}),(0,sr.jsx)(zy,{field:"deliveryDate",title:"Delivery Date",width:"160px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:f(e.dataItem[e.field])}))}),(0,sr.jsx)(zy,{field:"vendorID",title:"Vendor",width:"220px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:m(e.dataItem.vendorID)}))}),(0,sr.jsx)(zy,{title:"Actions",width:"140px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/item-receipt/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/item-receipt/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid item receipt data"}))}})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No item receipts found. Click the "Add New Item Receipt" button above to create your first item receipt.'})}),(0,sr.jsx)("style",{children:'\n          .item-receipt-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n            padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n            border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n          }\n\n          @media (max-width: 768px) {\n            .item-receipt-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n          }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n          }\n\n          @media (max-width: 768px) {\n            .page-container {\n              padding: 12px;\n            }\n\n            .item-receipt-list-container {\n              padding: 12px;\n            }\n\n            .list-header {\n              flex-direction: column;\n              gap: 12px;\n              align-items: stretch;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: 100%;\n            }\n\n            .k-grid {\n              font-size: 13px;\n            }\n\n            .action-buttons {\n              flex-direction: column;\n              gap: 4px;\n            }\n\n            .action-buttons .k-button {\n              min-width: 50px;\n              font-size: 11px;\n            }\n          }\n        '})]})})},kA=()=>{const e=ve(),{vendorBills:t,loading:n,error:i,refresh:r}=hy("vendor-bill"),{vendors:a}=hy("vendor"),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[m,f]=(0,o.useState)({skip:0,take:10,sort:[{field:"invoiceDate",dir:"desc"}]}),g=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),v=(0,o.useCallback)(()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];s&&(e=e.filter(e=>{const t=e.vendorName||(e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find(t=>t.id===e);return n?n.name:"Unknown Vendor"})(e.vendorID),n=e.locationName||(e.locationID,"Location");return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(e.status," ").concat(n," ").concat(g(e.totalAmount)).toLowerCase().includes(s.toLowerCase())})),"All"!==c&&(e=e.filter(e=>e.status===c));return{data:ab(e,m).data,total:e.length}},[t,s,c,a,m]);return n?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"vendor-bill-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading vendor bills..."})]})})}):i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"vendor-bill-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading vendor bills: ",i]}),(0,sr.jsxs)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"vendor-bill-list-container",children:[(0,sr.jsx)(ay,{children:u.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:u.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Vendor Bill Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/vendor-bill/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Vendor Bill"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search vendor bills...",value:s,onChange:e=>l(e.target.value)})]}),(0,sr.jsxs)("div",{className:"filter-bar",children:[(0,sr.jsx)(Yi,{className:"filter-icon"}),(0,sr.jsx)(Sh,{data:["All","Draft","Paid","Cancelled"],value:c,onChange:e=>d(e.target.value),style:{width:"100%"}})]}),(0,sr.jsx)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===v().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No vendor bills match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:v().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},m),{},{onDataStateChange:e=>{f(e.dataState)},total:v().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(m.skip||0);return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,sr.jsx)(zy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,sr.jsx)(zy,{field:"vendorName",title:"Vendor Name",width:"200px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.vendorName||"Unknown Vendor"}))}),(0,sr.jsx)(zy,{field:"locationName",title:"Location Name",width:"180px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.locationName||"Unknown Location"}))}),(0,sr.jsx)(zy,{field:"totalAmount",title:"Total Amount",width:"140px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:g(e.dataItem[e.field])}))}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/vendor-bill/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/vendor-bill/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid vendor bill data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No vendor bills found. Click the "Add New Vendor Bill" button above to create your first vendor bill.'})}),(0,sr.jsx)("style",{children:'\n          .vendor-bill-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n            max-width: none;\n            white-space: nowrap;\n            text-overflow: clip;\n            overflow: visible;\n            width: auto;\n          }\n\n          .status-draft {\n            background-color: #FEF3C7;\n            color: #92400E;\n          }\n\n          .status-paid {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-cancelled {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .vendor-bill-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n\n          .k-grid .k-table-td .status-badge {\n            max-width: none !important;\n            overflow: visible !important;\n        }\n      '})]})})},CA=()=>{const e=ve(),{vendorCredits:t,loading:n,error:i,refresh:r}=hy("vendor-credit"),{vendors:a}=hy("vendor"),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[m,f]=(0,o.useState)({skip:0,take:10,sort:[{field:"tranDate",dir:"desc"}]}),g=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),v=(0,o.useCallback)(()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];s&&(e=e.filter(e=>{const t=e.vendorName||(e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find(t=>t.id===e);return n?n.name:"Unknown Vendor"})(e.vendorID),n=e.locationName||(e.locationID,"Location");return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(n," ").concat(g(e.totalAmount)).toLowerCase().includes(s.toLowerCase())}));return{data:ab(e,m).data,total:e.length}},[t,s,a,m]);return n?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"vendor-credit-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading vendor credits..."})]})})}):i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"vendor-credit-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading vendor credits: ",i]}),(0,sr.jsxs)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"vendor-credit-list-container",children:[(0,sr.jsx)(ay,{children:u.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:u.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Vendor Credit Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/vendor-credit/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Vendor Credit"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search vendor credits...",value:s,onChange:e=>l(e.target.value)})]}),(0,sr.jsx)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===v().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No vendor credits match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:v().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},m),{},{onDataStateChange:e=>{f(e.dataState)},total:v().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(m.skip||0);return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,sr.jsx)(zy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,sr.jsx)(zy,{field:"vendorName",title:"Vendor Name",width:"200px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.vendorName||"Unknown Vendor"}))}),(0,sr.jsx)(zy,{field:"locationName",title:"Location Name",width:"180px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.locationName||"Unknown Location"}))}),(0,sr.jsx)(zy,{field:"totalAmount",title:"Total Amount",width:"140px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:g(e.dataItem[e.field])}))}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/vendor-credit/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/vendor-credit/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid vendor credit data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No vendor credits found. Click the "Add New Vendor Credit" button above to create your first vendor credit.'})}),(0,sr.jsx)("style",{children:'\n          .vendor-credit-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .vendor-credit-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n      '})]})})},SA=()=>{const e=ve(),[t,n]=(0,o.useState)({results:[]}),[i,r]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(1),[h,m]=(0,o.useState)(""),[f,g]=(0,o.useState)("All"),[v,y]=(0,o.useState)({show:!1,message:"",type:"success"}),[x,b]=(0,o.useState)({skip:0,take:10,sort:[{field:"name",dir:"asc"}]}),w=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{r(!0),s(null);const o=hr("/customer?PageNumber=".concat(e,"&PageSize=").concat(t)),i=await fetch(o);if(!i.ok)throw new Error("Failed to fetch customers: ".concat(i.status));const a=await i.json();Array.isArray(a)?(n({results:a}),c(a.length)):a.results&&Array.isArray(a.results)?(n(a),c(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),c(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),c(0)),u(e)}catch(o){s(o.message),n({results:[]}),c(0)}finally{r(!1)}},[]);(0,o.useEffect)(()=>{w()},[w]);const k=(0,o.useCallback)(()=>null!==t&&void 0!==t&&t.results?t.results:[],[t]),C=(0,o.useCallback)(()=>{if(null===t||void 0===t||!t.results)return[];let e=[...t.results];return h&&(e=e.filter(e=>Object.values(e).join(" ").toLowerCase().includes(h.toLowerCase()))),"All"!==f&&(e=e.filter(e=>"Active"===f?!e.inactive:e.inactive)),e},[t,h,f]),S=()=>{const e=Math.floor(x.skip/x.take)+1,t=x.take;w(e,t),function(e){y({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{y({show:!1,message:"",type:"success"})},3e3)}("Customers refreshed successfully","success")};return i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"customer-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading customers..."})]})})}):a?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"customer-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading customers: ",a]}),(0,sr.jsxs)(bo,{onClick:S,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{children:(0,sr.jsxs)("div",{className:"customer-list-container",children:[(0,sr.jsx)(ay,{children:v.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:v.type,icon:!0},closable:!0,onClose:()=>y({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:v.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Customer Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/customer/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Customer"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search customers...",value:h,onChange:e=>m(e.target.value)})]}),(0,sr.jsxs)("div",{className:"filter-bar",children:[(0,sr.jsx)(Yi,{className:"filter-icon"}),(0,sr.jsx)(Sh,{data:["All","Active","Inactive"],value:f,onChange:e=>g(e.target.value),style:{width:"100%"}})]}),(0,sr.jsx)(bo,{onClick:S,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===C().length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No customers match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:C(),pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},x),{},{onDataStateChange:e=>{const t=e.dataState;b(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===d&&o===x.take||w(n,o)},total:l,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=k().findIndex(t=>t===e.dataItem),n=x.take||10,o=((d||1)-1)*n+t+1;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,sr.jsx)(zy,{field:"name",title:"Customer Name",width:"250px"}),(0,sr.jsx)(zy,{field:"email",title:"Email",width:"250px"}),(0,sr.jsx)(zy,{field:"inactive",title:"Status",width:"150px",cell:e=>{const t=!e.dataItem.inactive,n=t?"Active":"Inactive",o=t?"status-active":"status-inactive";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,sr.jsx)("span",{className:"status-badge ".concat(o),children:n})}))}}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/customer/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/customer/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid customer data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No customers found. Click the "Add New Customer" button above to create your first customer.'})}),(0,sr.jsx)("style",{children:'\n          .customer-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n          font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n        }\n\n        .status-active {\n            background-color: #C6F6D5;\n            color: #2F855A;\n        }\n\n        .status-inactive {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n            padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n            border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n          }\n\n          @media (max-width: 768px) {\n            .customer-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n        }\n      '})]})})},IA=["validationMessage","touched","label","name"];if("undefined"!==typeof document&&!document.getElementById("product-tab-styles")){const e=document.createElement("style");e.id="product-tab-styles",e.textContent="\n  .product-tabs {\n    display: flex;\n    border-bottom: 2px solid #e0e0e0;\n    margin-bottom: 20px;\n    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n    border-radius: 8px 8px 0 0;\n    padding: 0;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n  }\n  \n  .product-tab {\n    flex: 1;\n    padding: 16px 24px;\n    background: transparent;\n    border: none;\n    cursor: pointer;\n    font-size: 14px;\n    font-weight: 600;\n    color: #6c757d;\n    transition: all 0.3s ease;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n    position: relative;\n    border-radius: 8px 8px 0 0;\n  }\n  \n  .product-tab:hover {\n    background: rgba(255,255,255,0.7);\n    color: #495057;\n    transform: translateY(-1px);\n  }\n  \n  .product-tab.active {\n    background: linear-gradient(135deg,  #3b82f6 0%, #3b82f6 100%);\n    color: white;\n    box-shadow: 0 4px 8px rgba(217,131,65,0.3);\n  }\n  \n  .product-tab.active::after {\n    content: '';\n    position: absolute;\n    bottom: -2px;\n    left: 0;\n    right: 0;\n    height: 2px;    background: #007bff;\n\n  }\n  \n  .tab-content {\n    background: white;\n    border-radius: 0 0 8px 8px;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n    overflow: hidden;\n  }\n  \n  .inventory-section {\n    padding: 0 32px 32px 32px;\n    background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);\n    border-radius: 12px;\n    margin: 0 16px 16px 16px;\n    box-shadow: 0 4px 20px rgba(0,0,0,0.08);\n  }\n  \n  .inventory-section h3 {\n    color: #2c3e50;\n    font-size: 24px;\n    font-weight: 700;\n    margin-bottom: 24px;\n    display: flex;\n    align-items: center;\n    gap: 12px;\n  }\n  \n  .inventory-section h3::before {\n    content: '\ud83d\udce6';\n    font-size: 28px;\n  }\n  \n  .inventory-table {\n    width: 100%;\n    border-collapse: separate;\n    border-spacing: 0;\n    margin-top: 20px;\n    box-shadow: 0 8px 32px rgba(0,0,0,0.12);\n    border-radius: 16px;\n    overflow: hidden;\n    background: white;\n    border: 1px solid #e3f2fd;\n  }\n  \n  .inventory-table th {\n    background: linear-gradient(135deg,  #3b82f6 0%, #3b82f6 100%);\n    color: white;\n    padding: 18px 24px;\n    text-align: left;\n    font-weight: 700;\n    font-size: 15px;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    position: relative;\n    border: none;\n  }\n  \n  .inventory-table th:first-child {\n    border-radius: 16px 0 0 0;\n  }\n  \n  .inventory-table th:last-child {\n    border-radius: 0 16px 0 0;\n  }\n  \n  .inventory-table th::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 2px;\n    background: linear-gradient(90deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.8) 50%, rgba(255,255,255,0.3) 100%);\n  }\n  \n  .inventory-table td {\n    padding: 20px 24px;\n    border-bottom: 1px solid #f0f4f8;\n    font-size: 15px;\n    color: #37474f;\n    font-weight: 500;\n    transition: all 0.3s ease;\n    position: relative;\n  }\n  \n  .inventory-table tbody tr {\n    transition: all 0.3s ease;\n    background: white;\n  }\n  \n  .inventory-table tbody tr:nth-child(even) {\n    background: #fafbfc;\n  }\n  \n  .inventory-table tbody tr:hover {\n    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 16px rgba(142,124,195,0.15);\n  }\n  \n  .inventory-table tbody tr:hover td {\n    color: #7b68c4;\n  }\n  \n  .inventory-table tbody tr:last-child td {\n    border-bottom: none;\n  }\n  \n  .inventory-table tbody tr:last-child td:first-child {\n    border-radius: 0 0 0 16px;\n  }\n  \n  .inventory-table tbody tr:last-child td:last-child {\n    border-radius: 0 0 16px 0;\n  }\n  \n  .inventory-table td:nth-child(1) {\n    font-weight: 600;\n    color: #2c3e50;\n  }\n  \n  .inventory-table td:nth-child(2) {\n    color: #546e7a;\n    font-style: italic;\n  }\n  \n  .inventory-table td:nth-child(3) {\n    font-weight: 700;\n    color: #2e7d32;\n    text-align: center;\n    font-size: 16px;\n  }\n  \n  .inventory-table td:nth-child(3)::before {\n    content: '';\n    display: inline-block;\n    width: 8px;\n    height: 8px;\n    background: #4caf50;\n    border-radius: 50%;\n    margin-right: 8px;\n    animation: pulse 2s infinite;\n  }\n  \n  @keyframes pulse {\n    0% { opacity: 1; }\n    50% { opacity: 0.5; }\n    100% { opacity: 1; }\n  }\n  \n  .inventory-empty-state {\n    text-align: center;\n    padding: 60px 20px;\n    color: #78909c;\n    font-size: 16px;\n    font-style: italic;\n  }\n",document.head.appendChild(e)}const EA=e=>{let{formRenderProps:t,mode:n}=e;const[i,r]=(0,o.useState)([]),[a,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)(null),d=null===t||void 0===t?void 0:t.valueGetter("id");return(0,o.useEffect)(()=>{(async()=>{if(d){s(!0),c(null);try{var e;const t=await fetch(hr("/inventory-detail?ItemId=".concat(d)));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const n=(null===(e=(await t.json()).results)||void 0===e?void 0:e.map(e=>({id:e.id,locationId:e.locationId,location:e.locationName,availableQty:e.quantityAvailable})))||[];r(n)}catch(t){c(t.message),r([])}finally{s(!1)}}else r([])})()},[d]),(0,sr.jsxs)("div",{className:"inventory-section",children:[a&&(0,sr.jsx)("div",{className:"loading-message",children:"Loading inventory data..."}),l&&(0,sr.jsxs)("div",{className:"error-message",children:["Error loading inventory: ",l]}),!a&&!l&&(0,sr.jsxs)("table",{className:"inventory-table",children:[(0,sr.jsx)("thead",{children:(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("th",{children:"Location"}),(0,sr.jsx)("th",{children:"Available QTY"})]})}),(0,sr.jsx)("tbody",{children:i.length>0?i.map(e=>(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("td",{children:e.location}),(0,sr.jsx)("td",{children:e.availableQty})]},e.id)):(0,sr.jsx)("tr",{children:(0,sr.jsx)("td",{colSpan:"2",className:"no-data",children:d?"No inventory data found for this item":"Please save the item first to view inventory details"})})})]})]})},jA=e=>{const t={};return Object.keys(e).forEach(n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)}),t},AA=o.memo(e=>{let{recordType:t,mode:n="new"}=e;const i=ve(),{id:r}=ye(),a=my(),l=fy(),c=hy("location"),d=gy(),u=hy("product"),h=hy("tax"),m=(0,o.useMemo)(()=>{const e={Customer:a,Vendor:l,Location:c,ChartOfAccount:d,Product:u,Tax:h};return e[t]||e.Customer},[t,a,l,c,d,u,h]),f=(0,o.useMemo)(()=>{const e={Customer:"Customer",Vendor:"Vendor",Location:"Location",ChartOfAccount:"ChartOfAccount",Product:"Product",Tax:"Tax"}[t]||"Customer";return{fetch:m["fetch".concat(e,"ById")],create:m["create".concat(e)],update:m["update".concat(e)],delete:m["delete".concat(e)]}},[m,t]),{loading:g,error:v,fetchFormConfiguration:y}=cy(),[x,b]=(0,o.useState)({show:!1,message:"",type:"success"}),[w,k]=(0,o.useState)(!1),[C,S]=(0,o.useState)(!1),[I,E]=(0,o.useState)(null),[j,A]=(0,o.useState)(null),[_,D]=(0,o.useState)({}),[N,T]=(0,o.useState)({}),[P,M]=(0,o.useState)([]),[O,R]=(0,o.useState)({}),[L,F]=(0,o.useState)({}),[z,B]=(0,o.useState)({}),[V,H]=(0,o.useState)(null),[q,U]=(0,o.useState)([]),[G,W]=(0,o.useState)(!1),[K,Y]=(0,o.useState)("general"),X=o.useRef(null),J={Customer:"/customer",Vendor:"/vendor",Location:"/location",ChartOfAccount:"/chart-of-account",Product:"/product",Tax:"/tax"},Q=(0,o.useCallback)(async e=>{const t=hr(pr.endpoints.chartOfAccountByParentNumber(e)),n=await fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("Failed to fetch child accounts for parent ".concat(e));return await n.json()},[]),Z=(0,o.useCallback)((e,t)=>{let n=1;if(0===t.length){n="00"===e.slice(-2)?1:100}else{const o=t.map(t=>parseInt(t.number||t.accountNumber)-parseInt(e)),i=o.length>0?Math.min(...o.filter(e=>e>0)):1;n=i>=100?100:1}const o=t.reduce((e,t)=>{const n=parseInt(t.number||t.accountNumber);return n>e?n:e},parseInt(e));return(o+n).toString()},[]),$=(0,o.useCallback)(async(e,t)=>{try{if(t)return null;if(!e)return null;const n=(N.parent||[]).find(t=>t.id===e);if(!n||!n.accountNumber)return null;const o=n.accountNumber,i=await Q(o);return Z(o,i)}catch(I){return null}},[N,Q,Z]),ee=(0,o.useCallback)((e,n,o)=>{if("ChartOfAccount"===t&&o)if("isParent"===e)!0===n&&(o.onChange("accountNumber",{value:""}),o.onChange("parent",{value:""}));else if("parent"===e){const e=o.valueGetter("isParent");n&&!e&&$(n,e).then(e=>{e&&o.onChange("accountNumber",{value:e})}).catch(e=>{})}},[t,$]),te=(0,o.useCallback)(async(e,t)=>{try{const n=await fetch(hr(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok)throw new Error("Failed to fetch dropdown data: ".concat(n.status));const o=await n.json();return Array.isArray(o)?o:o.results||o.data||[]}catch(n){return n.name,[]}},[]),ne=(0,o.useCallback)(async e=>{try{const t=await fetch(hr(pr.endpoints.recordType),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e});if(!t.ok)throw new Error("Failed to fetch record types: ".concat(t.status));return(await t.json()).results||[]}catch(t){return t.name,[]}},[]),oe=async e=>{try{const t=await fetch(hr(pr.endpoints.customFormFieldByForm(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch custom form fields: ".concat(t.status));const n=await t.json(),o=(Array.isArray(n)?n:[]).sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0)),i={},r=o.filter(e=>["DropDownList","MultiSelect"].includes(e.fieldTypeName)&&e.fieldSource);for(const e of r){const t=await te(e.fieldSource);i["custom_".concat(e.fieldName)]=t}return Object.keys(i).length>0&&T(e=>p(p({},e),i)),o}catch(t){return se("Failed to load custom form fields: ".concat(t.message),"error"),[]}},ie=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{if(!t)return{};const o=await fetch("".concat(pr.baseURL,"/custom-field-value/by-type-and-record?typeOfRecord=").concat(t,"&recordId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return{};const i=await o.json(),r={},a={},s={};return n.forEach(e=>{s[e.fieldName]=e.fieldTypeName}),Array.isArray(i)&&i.forEach(e=>{if(e.customFieldName&&void 0!==e.valueText&&null!==e.valueText){const n=s[e.customFieldName];let o=e.valueText;switch(n){case"DatePicker":case"Date":if("string"===typeof o&&""!==o.trim()){const e=new Date(o);o=isNaN(e.getTime())?null:e}break;case"NumericTextBox":case"Number":if("string"===typeof o&&""!==o.trim()){const e=parseFloat(o);o=isNaN(e)?0:e}break;case"Checkbox":case"Switch":"string"===typeof o&&(o="true"===o.toLowerCase()||"1"===o);break;case"MultiSelect":if("string"===typeof o&&""!==o.trim())try{const e=JSON.parse(o);o=Array.isArray(e)?e:[o]}catch(t){o=[o]}}r[e.customFieldName]=o,a[e.customFieldName]=e.id}}),{customData:r,customFieldIds:a}}catch(o){return{customData:{},customFieldIds:{}}}},re=e=>{const t={};return e.forEach(e=>{switch(e.fieldTypeName){case"Checkbox":case"Switch":t[e.name]=!1;break;case"Number":case"NumericTextBox":t[e.name]=0;break;case"Date":case"DropDownList":t[e.name]=null;break;default:t[e.name]=""}}),t};(0,o.useEffect)(()=>{let e=!0;return(async()=>{if(e)try{S(!0),E(null),W(!1),M([]),R({}),F({}),B({}),H(null);const i=await ne();if(!e)return;U(i);const a=await y(t);if(!e)return;A(a);const s=a.standardFields.filter(e=>"DropDownList"===e.fieldTypeName&&e.source),l=ce(a,i,t),c=s.map(async e=>{let n;if("ChartOfAccount"===t&&"parent"===e.name)n=await te(e.source),n=n.filter(e=>!0===e.isParent);else if("form"===e.name&&l)try{const e=await fetch("".concat(pr.baseURL,"/form/by-type-of-record/").concat(l),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch forms for record type: ".concat(e.status));n=await e.json(),n=Array.isArray(n)?n:n.results||n.data||[]}catch(o){n=[]}else n=await te(e.source);return{name:e.name,data:n}}),d=await Promise.all(c);if(!e)return;const u=d.reduce((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e},{});T(u);const h=re(a.standardFields);if("new"!==n&&r){const n=await f.fetch(r);if(!e)return;const s=p({},h);if(a.standardFields.forEach(e=>{void 0!==n[e.name]&&(s[e.name]=n[e.name])}),Object.keys(n).forEach(e=>{void 0!==n[e]&&(s[e]=n[e])}),D(s),n.form)try{const o=await oe(n.form);if(!e)return;if(M(o),H(n.form),o.length>0){const n=re(o.map(e=>p(p({},e),{},{name:e.fieldName}))),s=ce(a,i,t),{customData:l,customFieldIds:c}=await ie(r,s,o);if(!e)return;F(c);const d=p(p({},n),l);R(d),B(d)}}catch(o){}}else{if(!e)return;D(h)}if(!e)return;W(!0)}catch(o){if(!e)return;E(o.message),se(o.message,"error")}finally{if(!e)return;S(!1)}})(),()=>{e=!1}},[n,r,t]),(0,o.useEffect)(()=>()=>{X.current&&(clearTimeout(X.current),X.current=null),M([]),R({}),F({}),B({}),H(null),D({}),W(!1),b({show:!1,message:"",type:"success"})},[]);const ae=(0,o.useMemo)(()=>{if(!G)return{};if(0===Object.keys(O).length)return _;const e={};return Object.keys(O).forEach(t=>{e["custom_".concat(t)]=O[t]}),p(p({},_),e)},[_,O,G]),se=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";X.current&&clearTimeout(X.current),b({show:!0,message:e,type:t}),X.current=setTimeout(()=>{b({show:!1,message:"",type:"success"}),X.current=null},4e3)},[]),le=(0,o.useCallback)(e=>{const t={};return null!==j&&void 0!==j&&j.standardFields?(j.standardFields.forEach(n=>{const o=e[n.name];!n.isMandatory||o&&""!==o||(t[n.name]="".concat(n.name.charAt(0).toUpperCase()+n.name.slice(1)," is required")),"email"===n.name&&o&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(t[n.name]="Please enter a valid email address"),"phone"===n.name&&o&&!/^\d{10}$/.test(o.replace(/\D/g,""))&&(t[n.name]="Phone number must be 10 digits")}),t):t},[j]),ce=(e,t,n)=>{if(null!==e&&void 0!==e&&e.recordTypeId)return e.recordTypeId;let o=t.find(e=>e.name===n);if(o)return o.id;if(o=t.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()}),o)return o.id;const i={Customer:["customer","customers"],Vendor:["vendor","vendors"],Product:["product","products"],ChartOfAccount:["chart-of-account","account","accounts"],Location:["location","locations"],Tax:["tax","taxes"]}[n]||[];for(const r of i)if(o=t.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===r.toLowerCase()}),o)return o.id;return null},de=()=>{if(null!==j&&void 0!==j&&j.recordTypeId)return j.recordTypeId;let e=q.find(e=>e.name===t);if(e)return e.id;if(e=q.find(e=>{var n;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())===t.toLowerCase()}),e)return e.id;const n={Customer:["customer","customers"],Vendor:["vendor","vendors"],Product:["product","products"],ChartOfAccount:["chart-of-account","account","accounts"],Location:["location","locations"],Tax:["tax","taxes"]}[t]||[];for(const t of n)if(e=q.find(e=>{var n;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())===t.toLowerCase()}),e)return e.id;return null},ue=async(e,t,n)=>{await f.update(r,e);let o=0;if(Object.keys(t).length>0&&n){const e={};Object.entries(t).forEach(t=>{let[n,o]=t;z[n]!==o&&(e[n]=o)}),o=Object.keys(e).length,o>0&&await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o={};if(Object.entries(e).forEach(e=>{let[t,n]=e;z[t]!==n&&(o[t]=n)}),0===Object.keys(o).length)return;const i=Object.entries(o).map(async e=>{let[o,i]=e;const r=P.find(e=>e.fieldName===o),a=null===r||void 0===r?void 0:r.id,s=L[o],l={request:"update",typeOfRecord:n,valueText:String(i),customFieldID:a,recordID:t};let c;if(c=s?await fetch("".concat(pr.baseURL,"/custom-field-value/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(jA(l))}):await fetch("".concat(pr.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(jA(l))}),!c.ok)throw new Error("Failed to ".concat(s?"update":"create",' custom field "').concat(o,'": ').concat(c.status));return await c.json()});await Promise.all(i)})(t,r,n)}return o},pe=(0,o.useCallback)(async e=>{if(!e){var t;M([]),R({}),F({}),B({}),H(null);return void((null===j||void 0===j||null===(t=j.standardFields)||void 0===t?void 0:t.some(e=>"sequenceNumber"===e.name))&&D(e=>p(p({},e),{},{sequenceNumber:null})))}try{var o,i;S(!0);const t=await oe(e);M(t),H(e);const a=re(t.map(e=>p(p({},e),{},{name:e.fieldName})));if("new"!==n&&r){const e=de(),{customData:n,customFieldIds:o}=await ie(r,e,t);F(o);const i=p(p({},a),n);R(i),B(i)}else R(a),B(a);const[s,l]=await Promise.all([fetch("".concat(pr.baseURL,"/form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(pr.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let c="";if(s.ok&&l.ok){const[e,t]=await Promise.all([s.text().then(e=>e.trim()?JSON.parse(e):{}),l.text().then(e=>e.trim()?JSON.parse(e):[])]),n=Array.isArray(t)&&t.length>0?t[0]:{formSequenceNumber:0},o=e.prefix||"",i=(n.formSequenceNumber||0)+1;c="".concat(o).concat(String(i).padStart(4,"0"))}const d=null===j||void 0===j||null===(o=j.standardFields)||void 0===o?void 0:o.some(e=>"form"===e.name),u=null===j||void 0===j||null===(i=j.standardFields)||void 0===i?void 0:i.some(e=>"sequenceNumber"===e.name),h={};d&&(h.form=e),u&&(h.sequenceNumber=c),D(e=>p(p({},e),h))}catch(s){var a;(null===j||void 0===j||null===(a=j.standardFields)||void 0===a?void 0:a.some(e=>"form"===e.name))&&D(t=>p(p({},t),{},{form:e}))}finally{S(!1)}},[j,oe,n,r,de,ie,re]),he=(0,o.useRef)({}),me=(0,o.useCallback)(e=>{var t;const{name:n,onChange:o,value:i}=e,r=N[n]||[],a="".concat(n,"_").concat(r.length,"_").concat((null===(t=r[0])||void 0===t?void 0:t.id)||r[0]||"");let s;he.current[a]?s=he.current[a]:(s=r.map(e=>{if("string"===typeof e)return{text:e,value:e};if(!e.id)return{text:String(e),value:e};const t=(e=>{const t=Object.keys(e);if(e.name)return e.name;if("form"===n&&e.formName)return e.formName;if(e.accountName&&e.accountNumber)return"".concat(e.accountNumber," - ").concat(e.accountName);if(e.itemName&&e.itemCode)return"".concat(e.itemCode," - ").concat(e.itemName);const o=t.filter(t=>t.toLowerCase().includes("name")&&e[t]);if(o.length>0){if("form"===n&&e.formName)return e.formName;const t="form"===n?o:o.filter(e=>"formname"!==e.toLowerCase());if(t.length>0)return e[t[0]]}const i=t.find(t=>"id"!==t&&"string"===typeof e[t]&&e[t].trim().length>0);return i?e[i]:String(e.id)})(e);return{text:t,value:e.id}}),he.current[a]=s);const l=[{text:"-- Select --",value:null},...s],c=null!==i&&void 0!==i&&""!==i?l.find(e=>e.value===i):l[0];return{data:l,textField:"text",valueField:"value",value:c,virtual:!1,popupSettings:{appendTo:document.body,animate:!1},onChange:async e=>{var t;const i=(null===(t=e.target.value)||void 0===t?void 0:t.value)||e.target.value,r=""===i||void 0===i?null:i;o&&o({target:{value:r}}),"form"===n&&await pe(r)}}},[N,pe]),fe=(0,o.useCallback)(e=>{const{name:t}=e,n=(N[t]||[]).map(e=>{if("string"===typeof e)return{text:e,value:e};if(e.name&&e.id)return{text:e.name,value:e.id};if(e.text&&e.value)return e;const t=Object.keys(e);return{text:e[t[0]],value:e[t[0]]}});return{data:n,textField:"text",valueField:"value"}},[N]),ge=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,touched:i,label:r,name:a}=e,l=s(e,IA),c=i&&o,d="phone"===a||"Phone"===a||"string"===typeof a&&a.toLowerCase().includes("phone"),u=p(p({},l),{},{name:a,className:c?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||l.disabled});d&&"text"===t&&(u.maxLength=10);const h={text:{component:Fc,props:u},number:{component:xu,props:p(p({},u),{},{min:0,step:0,spinners:!1})},textarea:{component:Cu,props:p(p({},u),{},{rows:4})},checkbox:{component:ju,props:p(p({},u),{},{label:r,checked:l.value||!1,style:{display:"flex",alignItems:"center"}})},date:{component:Zv,props:u},dropdown:{component:Sh,props:p(p({},u),me(e))},multiselect:{component:em,props:p(p({},u),fe(e))}},m=h[t]||h.text;return(0,sr.jsxs)("div",{children:[(0,sr.jsx)(m.component,p({},m.props)),c&&(0,sr.jsx)("div",{className:"k-form-error",children:o})]})}},[n,me,fe]),xe=(0,o.useMemo)(()=>({Input:ge(Fc,"text"),TextArea:ge(Cu,"textarea"),Checkbox:ge(ju,"checkbox"),NumericTextBox:ge(Fc,"number"),Number:ge(Fc,"number"),DropDownList:ge(Sh,"dropdown"),DatePicker:ge(Zv,"date"),MultiSelect:ge(em,"multiselect")}),[ge]),be=e=>xe[e.fieldTypeName]||xe.Input,we=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const o=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);let i=e.isMandatory;if("ChartOfAccount"===t&&"accountNumber"===e.name&&n){i=n.valueGetter("isParent")}return i?"".concat(o," *"):o},ke=(0,o.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=e.isMandatory;if("ChartOfAccount"===t&&"accountNumber"===e.name&&n){o=n.valueGetter("isParent")}if(o)return t=>{if(!t||""===t){const t=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);return"".concat(t," is required")}return"email"!==e.name||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"phone"!==e.name||/^\d{10}$/.test(t.replace(/\D/g,""))?"":"Phone number must be 10 digits":"Please enter a valid email address"}},[t]),Ce=e=>{if(e.isRequired)return t=>t&&""!==t?"":"".concat(e.fieldLabel||e.fieldName," is required")},Se=(0,o.useCallback)(function(e,o){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const s=o?"custom_".concat(e.fieldName||e.name):e.name,l=o&&e.fieldName||e.name,c=r||"".concat(o?"custom":"standard","-field-").concat(e.id||l),d=o?"".concat(e.fieldLabel||e.fieldName).concat(e.isRequired?" *":""):we(e,a),u=be(e),p=o?Ce(e):ke(e,a),h="Checkbox"===e.fieldTypeName||"Switch"===e.fieldTypeName;let m="view"===n||e.isDisabled;if("ChartOfAccount"===t&&"accountNumber"===e.name&&(m="view"===n||e.isDisabled),"ChartOfAccount"===t&&"openingBalance"===e.name&&(m="edit"===n||"view"===n||e.isDisabled),"Product"===t&&a){const t=a.valueGetter("itemType");if(("expenseAccount"===e.name||"expenseAccount"===s)&&"ef765a67-402b-48ee-b898-8eaa45affb64"===t)return null;if(("salesAccount"===e.name||"salesAccount"===s||"inventoryAccount"===e.name||"inventoryAccount"===s)&&"d89fbe6f-7421-4b41-becf-d94d2bcb6757"===t)return null}return(0,sr.jsxs)("div",{className:"master-field-group ".concat(i?"master-field-full":""," ").concat(h?"checkbox-wrapper":""),children:[!h&&(0,sr.jsx)("label",{className:"k-label",children:d}),(0,sr.jsx)("div",{className:"field-wrapper",children:(0,sr.jsx)(gr,{id:s,name:s,component:u,validator:p,disabled:m,label:h?d:void 0,onChange:n=>{if("ChartOfAccount"===t&&("isParent"===e.name||"parent"===e.name))try{let t;t=null===n||void 0===n?null:"boolean"===typeof n||"string"===typeof n||"number"===typeof n?n:"object"===typeof n?n.hasOwnProperty("value")?n.value:n.hasOwnProperty("checked")?n.checked:n.hasOwnProperty("target")&&n.target?n.target.hasOwnProperty("value")?n.target.value:n.target.hasOwnProperty("checked")?n.target.checked:n.target:n:n,ee(e.name,t,a)}catch(I){}}})})]},c)},[n,t,be,we,ke,Ce,ee]),Ie=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=[];let r=[];return e.forEach(e=>{["TextArea","Checkbox","MultiSelect"].includes(e.fieldTypeName)?(r.length>0&&(i.push({type:"row",fields:[...r]}),r=[]),i.push({type:"fullWidth",field:e})):(r.push(e),3===r.length&&(i.push({type:"row",fields:[...r]}),r=[]))}),r.length>0&&i.push({type:"row",fields:[...r]}),i.map((e,i)=>{const r=t?"custom":"standard";return"row"===e.type?(0,sr.jsx)(o.Fragment,{children:e.fields.map(e=>Se(e,t,!1,null,n))},"".concat(r,"-row-").concat(i)):Se(e.field,t,!0,"".concat(r,"-full-").concat(i),n)})},[Se]);return C||g||!j||!G?(0,sr.jsx)("div",{className:"master-form-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsxs)("div",{children:["Loading ",t.toLowerCase()," form..."]})]})}):I||v?(0,sr.jsx)("div",{className:"master-form-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("h3",{children:["Error Loading ",t]}),(0,sr.jsx)("p",{children:I||v}),(0,sr.jsxs)(bo,{onClick:()=>i(J[t]||"/customer"),children:["Back to ",t," List"]})]})}):(0,sr.jsxs)("div",{className:"master-form-container","data-theme":t.toLowerCase(),children:[(0,sr.jsx)(ay,{children:x.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:x.type,icon:!0},closable:!0,onClose:()=>b({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:x.message})})})}),(0,sr.jsx)("div",{className:"master-form-header",children:(0,sr.jsx)("h2",{children:"new"===n?"Create New ".concat(t):"edit"===n?"Edit ".concat(t):"View ".concat(t)})}),(0,sr.jsx)("div",{className:"master-form-element",children:(0,sr.jsx)(la,{initialValues:ae,validator:le,onSubmit:async e=>{try{S(!0),E(null);const{standardData:a,customData:s}=(e=>{const n={},o={};if(Object.keys(e).forEach(t=>{const i=e[t],r=""===i?null:i;if(t.startsWith("custom_")){const e=t.replace("custom_","");o[e]=r}else n[t]=r}),"ChartOfAccount"===t){const e=n.parent;if(e){const t=(N.parent||[]).find(t=>t.id===e);t&&t.accountNumber?(n.parentNumber=t.accountNumber,n.parentName=t.name):(n.parentNumber=null,n.parentName=null)}else n.parentNumber=null,n.parentName=null}return{standardData:n,customData:o}})(e),l=de();if("new"===n){var o;if("ChartOfAccount"===t&&a.accountNumber)try{const e="".concat(pr.baseURL,"/chart-of-account/check-account-number-exists?accountNumber=").concat(encodeURIComponent(a.accountNumber)),t=await fetch(e,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to check account number: ".concat(t.status));if(!0===await t.json())return S(!1),void alert('Account number "'.concat(a.accountNumber,'" already exists. Please use a different account number.'))}catch(r){return S(!1),void alert("Error checking account number: ".concat(r.message))}"ChartOfAccount"===t&&void 0!==a.openingBalance&&null!==a.openingBalance&&(a.runningBalance=a.openingBalance);const e=await(async e=>{var t;const n=await f.create(e),o=(null===n||void 0===n?void 0:n.id)||(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.id)||n;if(!o)throw new Error("Failed to get record ID from creation response");return o})(a);(null===j||void 0===j||null===(o=j.standardFields)||void 0===o?void 0:o.some(e=>"form"===e.name))&&V&&await(async e=>{if(e)try{const t=await fetch("".concat(pr.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)return;const n=await t.text();if(!n.trim())return;const o=JSON.parse(n);if(!Array.isArray(o)||0===o.length)return;const i=o[0],r=(i.formSequenceNumber||0)+1;await fetch("".concat(pr.baseURL,"/form-sequence/").concat(i.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(jA({formId:e,formSequenceNumber:r}))})}catch(r){}})(V),await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o=Object.entries(e).map(async e=>{let[o,i]=e;const r=P.find(e=>e.fieldName===o),a=null===r||void 0===r?void 0:r.id,s={request:"create",typeOfRecord:n,valueText:String(i),customFieldID:a,recordID:t},l=await fetch("".concat(pr.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(jA(s))});if(!l.ok)throw new Error('Failed to create custom field "'.concat(o,'": ').concat(l.status));return await l.json()});await Promise.all(o)})(s,e,l),se("".concat(t," created successfully with ").concat(Object.keys(s).length," custom fields"),"success")}else{const e=await ue(a,s,l);se("".concat(t," updated successfully with ").concat(e," custom fields"),"success")}i(J[t]||"/customer")}catch(r){E(r.message),se(r.message,"error")}finally{S(!1)}},render:e=>(0,sr.jsxs)(ma,{children:[(0,sr.jsx)("div",{className:"master-form-content",children:"Product"===t?(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsxs)("div",{className:"product-tabs",children:[(0,sr.jsxs)("button",{type:"button",className:"product-tab ".concat("general"===K?"active":""),onClick:()=>Y("general"),children:[(0,sr.jsx)(Vi,{})," Product Information"]}),(0,sr.jsxs)("button",{type:"button",className:"product-tab ".concat("inventory"===K?"active":""),onClick:()=>Y("inventory"),children:[(0,sr.jsx)(Li,{})," Inventory"]})]}),(0,sr.jsxs)("div",{className:"tab-content",children:["general"===K&&(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:Ie(j.standardFields,!1,e)})]}),P.length>0&&(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:Ie(P,!0,e)})]})]}),"inventory"===K&&(0,sr.jsx)(EA,{formRenderProps:e,mode:n})]})]}):(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:Ie(j.standardFields,!1,e)})]}),P.length>0&&(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:Ie(P,!0,e)})]})]})}),(0,sr.jsxs)("div",{className:"master-form-actions",children:[(0,sr.jsxs)(bo,{type:"button",onClick:()=>i(J[t]||"/customer"),className:"k-button k-button-secondary",children:[(0,sr.jsx)(tr,{})," ","view"===n?"Close":"Cancel"]}),"view"===n&&"ChartOfAccount"===t&&(0,sr.jsxs)(bo,{type:"button",onClick:()=>i("/chart-of-account/edit/".concat(r)),className:"k-button k-button-primary",children:[(0,sr.jsx)(Ui,{})," Edit"]}),"new"!==n&&(0,sr.jsxs)(bo,{type:"button",onClick:()=>k(!0),className:"k-button k-button-danger",children:[(0,sr.jsx)(or,{})," Delete"]}),"view"!==n&&(0,sr.jsxs)(bo,{type:"submit",disabled:C||!e.allowSubmit,className:"k-button k-button-primary",children:[(0,sr.jsx)(Qi,{})," ",C?"Saving...":"Save"]})]})]})},"".concat(t.toLowerCase(),"-form-").concat(n,"-").concat(r||"new","-").concat(V||"no-form"))}),(0,sr.jsx)(ly,{isOpen:w,onClose:()=>k(!1),onConfirm:async()=>{try{S(!0),await f.delete(r),se("".concat(t," deleted successfully"),"success"),i(J[t]||"/customer")}catch(e){se(e.message,"error")}finally{S(!1),k(!1)}},title:"Confirm Delete",message:(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsxs)("p",{children:["Are you sure you want to delete this ",t.toLowerCase(),"?"]}),(0,sr.jsx)("p",{children:(0,sr.jsx)("strong",{children:"This action cannot be undone."})})]}),confirmText:"Delete",cancelText:"Cancel",type:"danger",loading:C})]})}),_A=e=>(0,sr.jsx)(AA,p(p({},e),{},{recordType:"Customer"})),DA=e=>(0,sr.jsx)(AA,p(p({},e),{},{recordType:"Vendor"})),NA=e=>(0,sr.jsx)(AA,p(p({},e),{},{recordType:"Location"})),TA=e=>(0,sr.jsx)(AA,p(p({},e),{},{recordType:"ChartOfAccount"})),PA=e=>(0,sr.jsx)(AA,p(p({},e),{},{recordType:"Product"})),MA=e=>(0,sr.jsx)(AA,p(p({},e),{},{recordType:"Tax"})),OA=()=>{const e=ve(),[t,n]=(0,o.useState)({results:[]}),[i,r]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(1),[h,m]=(0,o.useState)(""),[f,g]=(0,o.useState)("All"),[v,y]=(0,o.useState)({show:!1,message:"",type:"success"}),[x,b]=(0,o.useState)({skip:0,take:10,sort:[{field:"name",dir:"asc"}]}),w=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{r(!0),s(null);const o=hr("/vendor?PageNumber=".concat(e,"&PageSize=").concat(t)),i=await fetch(o);if(!i.ok)throw new Error("Failed to fetch vendors: ".concat(i.status));const a=await i.json();Array.isArray(a)?(n({results:a}),c(a.length)):a.results&&Array.isArray(a.results)?(n(a),c(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),c(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),c(0)),u(e)}catch(o){s(o.message),n({results:[]}),c(0)}finally{r(!1)}},[]);(0,o.useEffect)(()=>{w()},[w]);const k=function(e){y({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{y({show:!1,message:"",type:"success"})},3e3)},C=(0,o.useCallback)(()=>null!==t&&void 0!==t&&t.results?t.results:[],[t]),S=(0,o.useCallback)(()=>{if(null===t||void 0===t||!t.results)return[];let e=[...t.results];return h&&(e=e.filter(e=>Object.values(e).join(" ").toLowerCase().includes(h.toLowerCase()))),"All"!==f&&(e=e.filter(e=>"Active"===f?!e.inactive:e.inactive)),e},[t,h,f]),I=()=>{const e=Math.floor(x.skip/x.take)+1,t=x.take;w(e,t),k("Vendors refreshed successfully","success")};return i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"vendor-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading vendors..."})]})})}):a?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"vendor-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading vendors: ",a]}),(0,sr.jsxs)(bo,{onClick:I,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"vendor-list-container",children:[(0,sr.jsx)(ay,{children:v.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:v.type,icon:!0},closable:!0,onClose:()=>y({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:v.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Vendor Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/vendor/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Vendor"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search vendors...",value:h,onChange:e=>m(e.target.value)})]}),(0,sr.jsxs)("div",{className:"filter-bar",children:[(0,sr.jsx)(Yi,{className:"filter-icon"}),(0,sr.jsx)(Sh,{data:["All","Active","Inactive"],value:f,onChange:e=>g(e.target.value),style:{width:"100%"}})]}),(0,sr.jsx)(bo,{onClick:I,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===S().length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No vendors match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:S(),pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},x),{},{onDataStateChange:e=>{const t=e.dataState;b(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===d&&o===x.take||w(n,o)},total:l,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=C().findIndex(t=>t===e.dataItem),n=x.take||10,o=((d||1)-1)*n+t+1;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,sr.jsx)(zy,{field:"name",title:"Vendor Name",width:"250px"}),(0,sr.jsx)(zy,{field:"email",title:"Email",width:"250px"}),(0,sr.jsx)(zy,{field:"inactive",title:"Status",width:"150px",cell:e=>{const t=!e.dataItem.inactive,n=t?"Active":"Inactive",o=t?"status-active":"status-inactive";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,sr.jsx)("span",{className:"status-badge ".concat(o),children:n})}))}}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{var t;(t=n.id)?e("/vendor/view/".concat(t)):k("Cannot view vendor: ID is undefined","error")},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{var t;(t=n.id)?e("/vendor/edit/".concat(t)):k("Cannot edit vendor: ID is undefined","error")},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid vendor data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No vendors found. Click the "Add New Vendor" button above to create your first vendor.'})}),(0,sr.jsx)("style",{children:'\n          .vendor-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n          font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n        }\n\n        .status-active {\n            background-color: #C6F6D5;\n            color: #2F855A;\n        }\n\n        .status-inactive {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n            padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n            border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          @media (max-width: 768px) {\n            .vendor-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-item {\n              width: 100%;\n            }\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n        }\n\n        .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n      '})]})})};class RA{constructor(e,t,n){this.columns=[],this.reorderable=!1,this.groupable=!1,this.startColumn=-1,this.startGroup=-1,this.currentColumn=-1,this.currentGroup=-1,this.dropElementClue=null,this.dragElementClue=null,this.groupPanelDivElement=null,this.refGroupPanelDiv=e=>{this.groupPanelDivElement=e},this.refDropElementClue=e=>{this.dropElementClue=e},this.refDragElementClue=e=>{this.dragElementClue=e},this.pressHandler=(e,t)=>{const n=this.getColumnIndex(e,t);if(this.startGroup=this.getGroupIndex(e),n>=0){const e=this.columns[n];(e.reorderable&&this.reorderable||e.groupable&&this.groupable)&&(this.startColumn=n)}},this.dragHandler=(e,t)=>{if(e.isTouch||e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),-1===this.startColumn&&-1===this.startGroup)return;this.currentColumn=this.getColumnIndex(e,t),this.currentGroup=this.getGroupIndex(e),this.groupPanelDivElement&&this.startGroup>=0&&(this.currentGroup=Math.min(this.currentGroup,this.groupPanelDivElement.children.length-2));const n=!this.isValid();n&&(this.currentColumn=-1,this.currentGroup=-1);const o=this.currentColumn>=0?t.children[this.columns[this.currentColumn].index]:this.groupPanelDivElement&&this.groupPanelDivElement.children[this.currentGroup];this.updateDragElementClue(e,t,o,n),this.updateDropElementClue(e,t,o,n)},this.releaseHandler=e=>{const t=this.startColumn,n=this.currentColumn,o=this.startGroup,i=this.currentGroup;this.dropElementClue&&this.dropElementClue.setState({visible:!1}),this.dragElementClue&&this.dragElementClue.setState({visible:!1});const r=this.isValid();this.startColumn=this.startGroup=this.currentColumn=this.currentGroup=-1,r&&(t>=0&&n>=0?this.columnReorder(t,n,e.originalEvent):o>=0&&i>=0?this.groupReorder(o,i,e.originalEvent):t>=0&&i>=0&&this.columnToGroup(t,i,e.originalEvent))},this.columnReorder=e,this.groupReorder=t,this.columnToGroup=n}getColumnIndex(e,t){if(!t||t.parentElement===this.groupPanelDivElement)return-1;const n=Kb(e,t);if(-1===n)return-1;for(let o=0;o<t.parentNode.children.length;o++)if(t.parentNode.children[o]===t)return this.columns.findIndex(e=>e.index===n&&e.depth===o);return-1}getGroupIndex(e){return Kb(e,this.groupPanelDivElement)}isValid(){return this.startGroup>=0?this.currentGroup>=0&&this.currentGroup!==this.startGroup:-1!==this.startColumn&&(this.currentGroup>=0?!0===this.columns[this.startColumn].groupable&&!0===this.groupable:!0===this.reorderable&&this.currentColumn>=0&&this.currentColumn!==this.startColumn&&!0===this.columns[this.startColumn].reorderable&&this.columns[this.currentColumn].parentIndex===this.columns[this.startColumn].parentIndex)}updateDragElementClue(e,t,n,o){if(!this.dragElementClue)return;const i=this.startColumn>=0?t.children[this.columns[this.startColumn].index].innerText:t.innerText;this.dragElementClue.setState({visible:!0,top:e.pageY+10,left:e.pageX,innerText:i,status:o||!n?"k-i-cancel":"k-i-plus"})}updateDropElementClue(e,t,n,o){if(!this.dropElementClue)return;if(o||!n)return void this.dropElementClue.setState({visible:!1});const i=n.getBoundingClientRect();let r=i.left+e.pageX-e.clientX-6;(this.currentColumn>this.startColumn||this.currentGroup>this.startGroup&&-1!==this.startGroup)&&(r+=i.width);const a=i.top+e.pageY-e.clientY;this.dropElementClue.setState({visible:!0,top:a,left:r,height:this.currentColumn>=0?t.clientHeight:i.height})}}class LA{constructor(e){this.columns=[],this.resizable=!1,this.isRtl=!1,this.setIsRtl=e=>{this.isRtl=e},this.onResize=e,this.dragHandler=this.dragHandler.bind(this)}dragHandler(e,t,n,o){const i=e.originalEvent;o||(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation());const r=n.parentElement;if(!r||!r.parentElement)return;const a=r.clientWidth;let s;if(this.isRtl?(s=n.getBoundingClientRect().right-n.offsetWidth/2-e.clientX,s+=a):s=a+e.clientX-n.getBoundingClientRect().left-n.offsetWidth/2,!o&&Math.abs(s-a)<1)return;this.setWidths(t,Math.floor(s)/a);const l=this.columns.filter(e=>!e.children.length).indexOf(t);this.onResize(l,a,s,i,o)}setWidths(e,t){const n=this.columns.indexOf(e),o=[];let i=e.children.length;for(let r=n+1;r<this.columns.length&&!(i<=0);r++){const e=this.columns[r];e.children.length?i+=e.children.length:o.push(e),i--}0===o.length&&o.push(e),o.forEach(e=>{let n=e.width?parseFloat(e.width.toString())*t:0;const o=void 0===e.minResizableWidth?10:e.minResizableWidth;n<o&&(n=o),e.width=Math.floor(n)}),this.updateColElements(o)}updateColElements(e){const t=this.columns.filter(e=>!e.children.length);let n=1e-10;for(let o=0;o<e.length;o++){const i=t.indexOf(e[o]),r=parseFloat((e[o].width||0).toString());n+=r-Math.floor(r);const a=Math.floor(r)+Math.floor(n);n-=Math.floor(n),this.setColWidth(this.colGroupMain&&this.colGroupMain.children[i],a),this.setColWidth(this.colGroupHeader&&this.colGroupHeader.children[i],a),this.setColWidth(this.colGroupFooter&&this.colGroupFooter.children[i],a)}}setColWidth(e,t){e&&(e.style.width=t+"px")}}const FA=(e,t,n)=>{let o="".concat(n?"k-grid-header-sticky":"");return e.some(e=>e.field===t)&&(o+=" k-sorted"),o},zA=function(e){const{columns:t,filter:n,filterChange:i,sort:r=[],ariaRowIndex:a}=e,s=Tc(),l=e=>{if(!i)return;const t=e.filter.filter(e=>!("eq"===e.operator&&null===e.value));i(p(p({},e),{},{filter:t}))};return o.createElement("tr",{className:"k-table-row k-filter-row","aria-rowindex":a,role:"row"},t.map((e,t)=>{const i=void 0!==e.locked?{left:e.left,right:e.right,borderRightWidth:e.rightBorder?"1px":""}:{},a=e.filterCell||e.filter;return o.createElement(gE,{columnId:zb(e.id),navigatable:e.navigatable,style:i,key:t,ariaColumnIndex:e.ariaColumnIndex,ariaLabel:a?s.toLanguageString(iC,rC[iC]):void 0,className:rn("k-table-td k-header",FA(r,e.field,e.locked))},a&&o.createElement(a,{field:e.field,filter:n,onFilterChange:l}))}))};class BA extends o.Component{constructor(){super(...arguments),this.element=null}componentDidMount(){const{columnResize:e}=this.props;e&&e.resizable&&e.setIsRtl(function(e){return!(!e||"rtl"!==getComputedStyle(e).direction)}(this.element))}render(){return o.createElement("thead",p({className:rn("k-table-thead k-grid-header",{"k-grid-draggable-header":this.props.reorderable}),role:"presentation",ref:e=>{this.element=e}},bb),this.props.headerRow,this.props.filterRow)}}function VA(e){const t=e.onClick?{onClick:e.onClick}:{},n=o.createElement("span",p({className:"k-link"},t),o.createElement("span",{className:"k-column-title"},e.title||e.field||"\xa0"),e.children);return o.createElement(o.Fragment,null,e.render?e.render.call(void 0,n,e):n)}class HA extends o.PureComponent{constructor(){super(...arguments),this.draggable=null,this.onPress=e=>{const t=this.draggable&&this.draggable.element;t&&this.props.pressHandler&&this.props.pressHandler(e.event,t)},this.onDrag=e=>{const t=this.draggable&&this.draggable.element;t&&this.props.dragHandler&&this.props.dragHandler(e.event,t)},this.onRelease=e=>{this.draggable&&this.draggable.element&&this.props.releaseHandler&&this.props.releaseHandler(e.event)}}render(){return o.createElement(tE,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease,ref:e=>{this.draggable=e},autoScroll:{direction:{vertical:!1,horizontal:!0}}},o.createElement("tr",{className:"k-table-row","aria-rowindex":this.props.ariaRowIndex,role:"row"},this.props.children))}}const qA={true:{asc:"desc",desc:"","":"asc"},false:{asc:"desc",desc:"asc","":"asc"}},UA={none:"none",asc:"ascending",desc:"descending"};class GA extends o.Component{constructor(){super(...arguments),this.cellClick=(e,t)=>{if(e.preventDefault(),!this.props.sortChange)return;const{allowUnsort:n,mode:o}=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign({allowUnsort:!0,mode:"single"},...t)}(this.props.sortable||!1,t.sortable||!1),i=(this.props.sort||[]).filter(e=>e.field===t.field)[0],r=qA[n][i&&i.dir||""],a="single"===o?[]:(this.props.sort||[]).filter(e=>e.field!==t.field);""!==r&&t.field&&a.push({field:t.field,dir:r}),this.props.sortChange(e,a,t.field)},this.cellKeyDown=(e,t)=>{e.isDefaultPrevented()||e.keyCode===Dt&&this.cellClick(e,t)},this.cells=e=>e.map((e,t)=>{const n=this.props.columns[e],{columnResize:i}=this.props,r=i&&i.resizable&&n.resizable,a=this.props.sortable&&n.sortable,s=this.props.sort?this.props.sort.findIndex(e=>e.field===n.field):-1,l=s>=0&&this.props.sort[s].dir||"none",c={sort:this.props.sort,onSortChange:this.props.sortChange,filter:this.props.columnMenuFilter,onFilterChange:this.props.columnMenuFilterChange,field:n.field},d={field:n.field,onClick:a&&(e=>this.cellClick(e,n))||void 0,selectionChange:this.props.selectionChange,title:n.title,selectionValue:n.headerSelectionValue,render:this.props.cellRender,children:this.sortIcon(s),sort:this.props.sort,sortable:this.props.sortable,sortChange:this.props.sortChange,filterChange:this.props.filterChange,columns:this.props.columns,columnMenuWrapperProps:c},u=n.columnMenu||this.props.columnMenu,h=rn("k-table-th",{"k-first":n.kFirst,"k-filterable":!!u,"k-header":!0,"k-grid-header-sticky":n.locked,"k-sorted":this.props.sort&&this.props.sort.some(e=>e.field===n.field)},n.headerClassName),m=void 0!==n.locked?{left:n.left,right:n.right,borderRightWidth:n.rightBorder?"1px":""}:{},f=Uh(this).toLanguageString(oC,rC[oC]),g=n.isAccessible?{ariaSort:a?UA[l]:void 0,role:"columnheader",ariaColumnIndex:n.ariaColumnIndex,ariaSelected:!1,ariaDescription:a?f:""}:{role:"presentation"};return o.createElement(zI,p({key:t,colSpan:n.colSpan,rowSpan:n.rowSpan,className:h,style:m,columnId:n.id,navigatable:n.navigatable,onKeyDown:a&&(e=>this.cellKeyDown(e,n))||void 0},g),n.headerCell&&o.createElement(n.headerCell,p({},d)),!n.headerCell&&o.createElement("span",{className:"k-cell-inner"},o.createElement(VA,p({},d)),u&&o.createElement(u,p({},c))),i&&r&&o.createElement(rE,{key:"ColumnResizer",resize:(e,t,o)=>i.dragHandler(e,n,t,o)}))})}sortIcon(e){if(!this.props.sort||e<0)return null;const t=this.props.sort[e].dir;return t?[o.createElement(yo,{key:1,name:"sort-".concat(t,"-small"),icon:"asc"===t?cd:dd}),this.props.sort.length>1&&o.createElement("span",{key:2,className:"k-sort-order"},e+1)]:null}render(){return this.props.columnsMap.map((e,t)=>this.props.pressHandler&&o.createElement(HA,{key:t,pressHandler:this.props.pressHandler,dragHandler:this.props.dragHandler,releaseHandler:this.props.releaseHandler,ariaRowIndex:t+1},this.cells(e))||o.createElement("tr",{className:"k-table-row","aria-rowindex":t+1,role:"row"},this.cells(e)))}}function WA(e,t,n){const o=Array.from(e.tHead&&e.tHead.rows||[]),i=[t];let r;const a=n||(e=>window.getComputedStyle(e).height||void 0);o.forEach(e=>{const t=a(e);i.push(function(e){return void 0!==e&&("number"==typeof e||/px$/i.test(String(e)))}(t)?parseFloat(String(t)):e.offsetHeight)});for(let s=0;s<o.length;s++)r=i.slice(0,s+1).reduce((e,t)=>e+t),Array.from(o[s].cells).forEach(e=>e.style.top=r+"px")}Wh(GA);const KA=1e6;const YA=Ew,XA=jw,JA=Aw,QA=e=>{const{hasChildren:t,level:n=[0],expanded:i,dataItem:r,format:a,id:s,ariaColumnIndex:l,isSelected:c}=e,d=hC(e.field,r),u=Vc(),h=SI(s);let m="";const f=o.useCallback(t=>{t.isDefaultPrevented()||t.keyCode===Dt&&e.expandable&&(t.preventDefault(),e.onExpandChange(t,r,n))},[e.expandable,r,n]);null!=d&&(m=a?u.format(a,d):d.toString());const g=[];if(e.expandable){const a=e=>o.createElement("span",{key:e,className:"k-treelist-toggle k-icon k-svg-icon"},o.createElement("svg",{"aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}));g.push(...n.slice(1).map((e,t)=>a(t))),t?g.push(o.createElement(yo,{className:"k-treelist-toggle",name:i?"caret-alt-down":"caret-alt-right",icon:i?Qc:Jc,key:"expand-collapse",onClick:t=>e.onExpandChange(t.syntheticEvent||t,r,n),[JA]:!0})):g.push(a(g.length))}const v=o.createElement("td",p({style:e.style,className:rn("k-table-td",e.className,{"k-text-nowrap":e.expandable,"k-selected":c}),colSpan:e.colSpan,"aria-colindex":l,"aria-expanded":t?i:void 0,"aria-selected":c,role:"gridcell",onKeyDown:f,[XA]:e.colIndex},h),g,m);return e.render?e.render.call(void 0,v,e):v};QA.displayName="KendoReactTreeListCell";const ZA="treelist.filterClearButton",$A="treelist.filterEqOperator",e_="treelist.filterNotEqOperator",t_="treelist.filterIsNullOperator",n_="treelist.filterIsNotNullOperator",o_="treelist.filterIsEmptyOperator",i_="treelist.filterIsNotEmptyOperator",r_="treelist.filterStartsWithOperator",a_="treelist.filterContainsOperator",s_="treelist.filterNotContainsOperator",l_="treelist.filterEndsWithOperator",c_="treelist.filterGteOperator",d_="treelist.filterGtOperator",u_="treelist.filterLteOperator",p_="treelist.filterLtOperator",h_="treelist.filterIsTrue",m_="treelist.filterIsFalse",f_="treelist.filterBooleanAll",g_="treelist.filterAfterOrEqualOperator",v_="treelist.filterAfterOperator",y_="treelist.filterBeforeOperator",x_="treelist.filterBeforeOrEqualOperator",b_="treelist.noRecords",w_={[ZA]:"Clear",[$A]:"Is equal to",[e_]:"Is not equal to",[t_]:"Is null",[n_]:"Is not null",[o_]:"Is empty",[i_]:"Is not empty",[r_]:"Starts with",[a_]:"Contains",[s_]:"Does not contain",[l_]:"Ends with",[c_]:"Is greater than or equal to",[d_]:"Is greater than",[u_]:"Is less than or equal to",[p_]:"Is less than",[h_]:"Is true",[m_]:"Is false",[f_]:"(All)",[g_]:"Is after or equal to",[v_]:"Is after",[y_]:"Is before",[x_]:"Is before or equal to",[b_]:"No records available"};class k_ extends o.Component{render(){return this.props.children||Uh(this).toLanguageString(b_,w_[b_])}}Wh(k_);const C_=o.forwardRef((e,t)=>{const{isSelected:n,rowHeight:i,isAltRow:r,expanded:a,ariaRowIndex:s,level:l,ariaSetSize:c,ariaPosInSet:d}=e,u=rn("k-table-row","k-master-row",{"k-selected":n,"k-alt":r}),p=o.useMemo(()=>void 0!==i?{height:i+"px"}:void 0,[i]),h=o.createElement("tr",{onClick:e.onClick,onDoubleClick:e.onDoubleClick,onContextMenu:e.onContextMenu,className:u,style:p,ref:t,"aria-expanded":a,role:"row","aria-rowindex":s,"aria-level":l.length,"aria-posinset":d,"aria-setsize":c,[YA]:e.rowIndex},e.children);return o.createElement(o.Fragment,null,e.render?e.render.call(void 0,h,e):h)});C_.displayName="KendoReactTreeListRow";const S_={name:"@progress/kendo-react-treelist",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:1745410878,version:"10.2.0",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"},I_=["declarationIndex","parentIndex","depth","colSpan","rowSpan","index","kFirst","groupable","children"],E_=class extends o.Component{constructor(e){super(e),this.element=null,this.wrapperScrollLeft=0,this.wrapperScrollTop=0,this.updateOnScroll=!1,this.tbodyOffsetTop=0,this.prevData=[],this.flattedData=[],this.extendedColumn=[],this.columnsMap=[],this.contextStateRef={current:void 0},this.navigationStateRef={current:void 0},this.showLicenseWatermark=!1,this.scrollIntoView=e=>{if(!this.element)return;const{rowIndex:t=0}=e,{scrollable:n,rowHeight:o=0}=this.props;if("virtual"===n||o)this.element.scroll(0,(t-1)*o);else{const e=this.element.querySelector("tbody > tr:nth-child(".concat(t,")"));if(e){const t=e.offsetTop-this.tbodyOffsetTop;this.element.scroll(0,t)}}},this.getExtendedColumn=wp((e,t)=>Wb(e,{prevId:0,idPrefix:t})),this.getColumnsMap=wp((e,t)=>function(e,t){const n=[[]];let o=0;for(let a=e.length-1;a>=0;a--)o=Math.max(o,e[a].depth),e[a].colSpan=e[a].colSpan||1,e[a].children.length>0&&(e[a].colSpan=e[a].children.reduce((e,t)=>t.hidden?e:e+t.colSpan,0));const i=[];let r=1;return e.forEach((e,t)=>{n[e.depth]=n[e.depth]||[];let a=!1;0===n[e.depth].length&&(r<=1?r=1+(e.children.length>0?0:o-e.depth):(r--,a=!0)),e.rowSpan=1+(e.children.length>0?0:o-e.depth),e.kFirst=a,e.index=n[e.depth].length,n[e.depth].push(t),e.ariaColumnIndex=i[e.depth]?i[e.depth]+1:1;for(let n=e.depth;n<e.depth+e.rowSpan;n++)i[n]=(i[n]||0)+e.colSpan}),Ub(n,e,t),Gb(n,e,t),n}(e,t)),this.onKeyDown=e=>{if(jC(e,{navigatable:!1,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef}),this.props.onKeyDown){const{mode:t,cell:n}=Ow(this.props.selectable),o=p({dataItems:this.getLeafDataItems(),mode:t,cell:n,componentId:this._treeListId,selectedField:this.props.selectedField},this.getArguments(e));this.props.onKeyDown.call(void 0,o)}},this.onFocus=e=>{EC(e,{contextStateRef:this.contextStateRef})},this.onRowDrag=e=>{this.props.onRowDrag&&this.props.onRowDrag.call(void 0,p(p({},e),{},{target:this}))},this.onRowDrop=e=>{this.props.onRowDrop&&this.props.onRowDrop.call(void 0,p(p({},e),{},{target:this}))},this.columnReorder=(e,t,n)=>{const o=this.extendedColumn[e].depth,i=e=>{do{e++}while(e<this.extendedColumn.length&&this.extendedColumn[e].depth>o);return e},r=this.extendedColumn.splice(e,i(e)-e);if(this.extendedColumn.splice(e<t?i(t-r.length):t,0,...r),this.extendedColumn.filter(e=>e.declarationIndex>=0).forEach((e,t)=>e.orderIndex=t),this.props.onColumnReorder){const e={target:this,columns:this.columns,nativeEvent:n};this.props.onColumnReorder.call(void 0,e)}},this.onResize=(e,t,n,o,i)=>{if(this.props.onColumnResize){const r=this.extendedColumn.filter(e=>0===e.children.length).reduce((e,t)=>e+parseFloat(String(t.width)),0),a={columns:this.columns,totalWidth:r,index:e,nativeEvent:o,newWidth:t,oldWidth:n,end:i,target:this};this.props.onColumnResize.call(void 0,a)}},this.handleOnScroll=e=>{const t=e.currentTarget.scrollLeft,n=e.currentTarget.scrollTop,{columnVirtualization:o,scrollable:i,rowHeight:r=0}=this.props,a=r;let s=!1;o&&Math.abs(this.wrapperScrollLeft-t)>0&&(this.wrapperScrollLeft=t,s=!0),"virtual"===i&&Math.abs(this.wrapperScrollTop-n)>a&&(this.wrapperScrollTop=n,s=!0),s&&(this.updateOnScroll=!0,this.forceUpdate())},this.calculateSizes=e=>{if(!e||"none"===this.props.scrollable)return;const t=Array.from(e.childNodes),n=t.find(e=>"TABLE"===e.nodeName),o=this.props.toolbar&&t.find(e=>1===e.nodeType&&e.classList.contains("k-grid-toolbar"));let i=0;if(o){const e=o.style.boxSizing;o.style.boxSizing="border-box",i=parseFloat(String(window.getComputedStyle(o).height))||o.offsetHeight,o.style.boxSizing=e,o.getAttribute("style")||o.removeAttribute("style")}this.tbodyOffsetTop=n.tBodies[0].offsetTop,WA(n,i)},this.itemChange=e=>{const t=this.props.onItemChange;if(e.field===this.props.expandField){const t=this.props.onExpandChange;if(t){const n=p(p({},this.getArguments(e.syntheticEvent)),{},{dataItem:e.dataItem,level:e.level,value:e.value});t.call(void 0,n)}return}if(t){const n=p(p({},this.getArguments(e.syntheticEvent)),{},{dataItem:e.dataItem,level:e.level,field:e.field,value:e.value});t.call(void 0,n)}},this.onHeaderSelectionChange=e=>{if(this.props.onHeaderSelectionChange){const t={field:e.field,nativeEvent:e.syntheticEvent&&e.syntheticEvent.nativeEvent,syntheticEvent:e.syntheticEvent,target:this,dataItems:this.getLeafDataItems()};this.props.onHeaderSelectionChange.call(void 0,t)}},this.selectionRelease=e=>{if(this.props.onSelectionChange){const t=p({syntheticEvent:void 0,target:this,selectedField:this.props.selectedField||"",componentId:this._treeListId,dataItems:this.getLeafDataItems(),dataItem:null,level:[]},e);this.props.onSelectionChange.call(void 0,t)}},this.sortChange=(e,t,n)=>{this.raiseDataEvent(this.props.onSortChange,{sort:t,field:n},e)},this.headerFilterChange=(e,t,n)=>{this.raiseDataEvent(this.props.onFilterChange,{filter:t,field:n},e)},this.filterChange=e=>{const{filter:t,field:n}=e;this.raiseDataEvent(this.props.onFilterChange,{filter:t,field:n},e.syntheticEvent)},this.columnMenuFilterChange=(e,t,n)=>{const{onColumnMenuFilterChange:o}=this.props;if(!o)return;const i={syntheticEvent:e,filter:t,field:n,target:this,nativeEvent:e.nativeEvent};o.call(void 0,i)},this.expandChange=(e,t,n)=>{const{expandField:o,onExpandChange:i}=this.props;if(o&&i){const o=p(p({},this.getArguments(e)),{},{dataItem:t,level:n,value:this.expanded(t)});i.call(void 0,o)}},this.rowClick=(e,t)=>{if(this.props.onRowClick&&"TD"===e.target.nodeName){const n=p({dataItem:t.dataItem,level:t.level},this.getArguments(e));this.props.onRowClick.call(void 0,n)}},this.rowDoubleClick=(e,t)=>{if(this.props.onRowDoubleClick&&"TD"===e.target.nodeName){const n=p({dataItem:t.dataItem,level:t.level},this.getArguments(e));this.props.onRowDoubleClick.call(void 0,n)}},this.rowContextMenu=(e,t)=>{if(this.props.onRowContextMenu&&"TD"===e.target.nodeName){const n=p({dataItem:t.dataItem,level:t.level},this.getArguments(e));this.props.onRowContextMenu.call(void 0,n)}},this.onPageChange=e=>{if(this.props.onPageChange){const t=p(p({},this.getArguments(e.syntheticEvent)),{},{skip:e.skip,take:e.take});this.props.onPageChange.call(void 0,t)}},this.expandedSubItems=e=>{const t=[];return this.expanded(e)&&this.hasChildren(e)&&t.push(...hC(this.props.subItemsField,e)),t},this.getLeafDataItems=()=>this.flatData.map(e=>e.dataItem),this.expanded=e=>!!hC(this.props.expandField,e),this.hasChildren=e=>!!hC(this.props.subItemsField,e),this.showLicenseWatermark=!na(S_,{component:"TreeList"}),this.dragLogic=new RA(this.columnReorder,Fp,Fp),this.columnResize=new LA(this.onResize.bind(this)),kC({navigatable:!!e.navigatable,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef})}get _treeListId(){return this.props.id+"-treelist"}get document(){if(Lo)return this.element&&this.element.ownerDocument||document}componentDidMount(){this.calculateSizes(this.element),CC({scope:this.element||void 0,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef})}getSnapshotBeforeUpdate(){return SC({document:this.document,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef}),null}componentDidUpdate(e){e.columns!==this.props.columns&&this.calculateSizes(this.element),IC({scope:this.element||void 0,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef})}componentWillUnmount(){this.columnsMap=[],this.prevData=[],this.flattedData=[],this.updateOnScroll=!1,this.getExtendedColumn.clear(),this.getColumnsMap.clear()}render(){const{columns:e=[],filterRow:t,scrollable:n="scrollable",resizable:i=!1,reorderable:r=!1,skip:a,take:s}=this.props,l=e.some(e=>!!e.filter||!!e.filterCell)||void 0!==t,c=t||zA,d=Bb.getIdPrefix(this.navigationStateRef),u=this.getExtendedColumn(e,d),h=u.length!==this.extendedColumn.length;this.extendedColumn=u,this.columnsMap=this.getColumnsMap(this.extendedColumn,h);const m=this.extendedColumn.filter(e=>0===e.children.length);this.columnResize.columns=this.extendedColumn,this.columnResize.resizable=i,this.dragLogic.columns=this.extendedColumn,this.dragLogic.reorderable=r,this.dragLogic.groupable=!1;const f=o.createElement(BA,{headerRow:o.createElement(GA,{sort:this.props.sort,sortable:this.props.sortable,sortChange:this.sortChange,selectionChange:this.onHeaderSelectionChange,columns:this.extendedColumn,columnsMap:this.columnsMap,cellRender:this.props.headerCellRender,columnResize:this.columnResize,columnMenu:this.props.columnMenu,columnMenuFilter:this.props.columnMenuFilter,columnMenuFilterChange:this.columnMenuFilterChange,pressHandler:this.dragLogic.pressHandler,dragHandler:this.dragLogic.dragHandler,releaseHandler:this.dragLogic.releaseHandler,filterChange:this.headerFilterChange}),reorderable:this.props.reorderable,filterRow:l&&o.createElement(c,{columns:m,filter:this.props.filter,filterChange:this.filterChange,sort:this.props.sort,ariaRowIndex:this.columnsMap.length+1})||void 0,columnResize:this.columnResize}),g=this.props.style||{},{colSpans:v,hiddenColumns:y}=function(e){const{enabled:t,columns:n=[],tableViewPortWidth:o,scrollLeft:i,getColSpan:r,dataItem:a}=e,s=n.map(()=>1),l=n.map(()=>!1);if(!t)return{colSpans:s,hiddenColumns:l};const c=n.map(e=>parseFloat((e.width||"").toString())||10);let d=0;for(let x=0;x<n.length;x++){if(n[x].locked)continue;let e=1;if(void 0!==r){let t=r(n[x],a);t>2?e=t-1:2===t&&(e=t)}const t=x<c.length-1?c[x+1]*e:0;if(!(d+c[x]+t<i))break;l[x]=!0,d+=c[x]}const u=c.reduce((e,t)=>e+t,0);d=0;for(let x=n.length-1;x>=0;x--)if(!n[x].locked){if(!(d+2*c[x]<u-o-i))break;l[x]=!0,d+=c[x]}const p=[...l],h=e=>e;let m,f,g=p.lastIndexOf(!1),v=p.some(h),y=p.every(h);for(;v&&p.length&&(-1!==g||y);){for(g<p.length-1&&(m=y?p.length:p.length-g-1,f=p.length-m,0===f&&(f=m-1),l[f]=!1,s[f]=m,p.splice(g+1,m));p.length&&!p[p.length-1];)p.pop();g=p.lastIndexOf(!1),v=p.some(h),y=p.every(h)}return{colSpans:s,hiddenColumns:l}}({enabled:this.props.columnVirtualization,columns:m,scrollLeft:this.wrapperScrollLeft,tableViewPortWidth:parseFloat((g.width||"").toString())}),x=(e,t,n,i,r,a)=>m.map((s,l)=>{if(y[l])return null;const c=s.id?s.id:l,u="".concat(s.className?s.className+" ":"").concat(s.locked?"k-grid-content-sticky":""),h={id:Bb.generateNavigatableId("".concat(n,"-").concat(String(l)),d),colSpan:v[l],dataItem:e.dataItem,field:s.field,format:s.format,className:u||void 0,render:this.props.cellRender,onChange:this.itemChange,selectionChange:this.props.onSelectionChange?t=>{this.selectionChange({event:t,item:e,columnIndex:l,dataIndex:r})}:void 0,level:e.level,expandable:s.expandable,expanded:i,hasChildren:this.hasChildren(e.dataItem),onExpandChange:this.expandChange,colIndex:l,ariaColumnIndex:s.ariaColumnIndex,style:void 0!==s.left&&{left:s.left,right:s.right,borderRightWidth:s.rightBorder?"1px":""}||{},isSelected:Array.isArray(a)&&a.indexOf(l)>-1};return t&&s.editCell?o.createElement(s.editCell,p(p({key:c},h),{},{onChange:this.itemChange})):s.cell?o.createElement(s.cell,p({key:c},h)):o.createElement(QA,p({key:c},h))});let b=this.flatData;const w=b.length;void 0!==a&&void 0!==s&&(b=b.slice(a,a+s)),"virtual"===n&&(b=function(e){const{rows:t,tableViewPortHeight:n,scrollTop:o}=e;if(0===t.length)return[];const i=t[0].height,r=Math.min(Math.round(o/i),t.length),a=Math.round(n/i),s=Math.max(0,r-a),l=Math.min(t.length,r+2*a),c=t.slice(s,l),d=c[c.length-1];return s>0&&c.unshift({dataItem:{},level:[KA],offsetTop:0,height:c[0].offsetTop,levelCount:0}),l<t.length-1&&c.push({dataItem:{},level:[KA,KA],offsetTop:d.offsetTop+d.height,height:(t.length-l)*i,levelCount:0}),c}({rows:b,tableViewPortHeight:parseFloat((g.height||g.maxHeight||"").toString()),scrollTop:this.wrapperScrollTop}),this.updateOnScroll=!1);const k=b.map(e=>e.level),C=this.columnsMap.length+(l?1:0)+1,S=b.length>0&&b.map((e,t)=>{const i=hC(this.props.editField,e.dataItem),r=this.props.dataItemKey&&Cr(this.props.dataItemKey)(e.dataItem),a=String(r||e.level.join(".")),s=this.expanded(e.dataItem),l=this.props.selectedField?hC(this.props.selectedField,e.dataItem):void 0,c={key:a,level:e.level,levels:k,dataItem:e.dataItem,selectedField:this.props.selectedField,rowHeight:"virtual"===n?e.height:this.props.rowHeight,render:this.props.rowRender,onDrop:this.onRowDrop,onDrag:this.onRowDrag,onClick:t=>this.rowClick(t,e),onDoubleClick:t=>this.rowDoubleClick(t,e),onContextMenu:t=>this.rowContextMenu(t,e),isAltRow:t%2!==0,expanded:s,rowIndex:t,ariaRowIndex:C+t,ariaSetSize:e.levelCount,ariaPosInSet:e.level[e.level.length-1]+1,isSelected:"boolean"==typeof l&&l},d=this.props.editRow,u=this.props.row||C_,h=x(e,i,a,s,t,l);return i&&d?o.createElement(d,p(p({},c),{},{key:c.key}),h):o.createElement(u,p(p({},c),{},{key:c.key}),h)})||o.createElement("tr",{className:"k-table-row k-grid-norecords"},o.createElement("td",{colSpan:m.length},this.props.noRecords||o.createElement(k_,null))),I=e=>this.props.sort&&this.props.sort.some(t=>t.field===e),E=o.createElement("colgroup",{ref:e=>{this.columnResize.colGroupMain=e}},m.map((e,t)=>o.createElement("col",{key:t.toString(),className:I(e.field)?"k-sorted":void 0,style:void 0!==e.width?{width:e.width}:void 0}))),j=this.props.columnVirtualization||"virtual"===this.props.scrollable,A=this.props.selectable&&this.props.selectable.drag?"none":void 0,_=this.props.tableProps||{};return o.createElement(MC.Provider,{value:this.contextStateRef.current},o.createElement("div",p({id:this.props.id,style:this.props.style,className:rn("k-grid k-grid-md","k-treelist",this.props.className,{"k-treelist-scrollable":"none"!==n}),ref:e=>{this.element=e},onScroll:j?this.handleOnScroll:void 0,onKeyDown:this.onKeyDown,onFocus:this.onFocus,"aria-rowcount":w,"aria-colcount":m.length,role:"treegrid"},xb),this.props.toolbar,o.createElement(VE,{selectable:this.props.selectable,onRelease:this.selectionRelease},o.createElement("table",p(p({className:"k-table k-table-md k-grid-table"},_),{},{style:p(p({},_.style||{}),{},{userSelect:A}),role:"presentation"}),E,f,o.createElement("tbody",p(p({className:"k-table-tbody"},wb),{},{role:"presentation"}),S))),this.props.pager&&o.createElement(this.props.pager,{className:"k-grid-pager",total:w,skip:a,take:s,onPageChange:this.onPageChange}),r&&o.createElement(o.Fragment,null,o.createElement(qE,{ref:this.dragLogic.refDropElementClue}),o.createElement(GE,{ref:this.dragLogic.refDragElementClue})),this.showLicenseWatermark&&o.createElement(ia,null)))}get columns(){const e=this.extendedColumn.filter(e=>e.declarationIndex>=0&&-1===e.parentIndex),t=e=>(e.sort((e,t)=>e.declarationIndex-t.declarationIndex),e.map(e=>{const{declarationIndex:n,parentIndex:o,depth:i,colSpan:r,rowSpan:a,index:l,kFirst:c,groupable:d,children:u}=e,h=s(e,I_);return u.length?p({children:t(u)},h):h}));return t(e)}get flatData(){const{data:e=[],rowHeight:t=0}=this.props;let n=0;const o=this.updateOnScroll&&this.prevData===e&&this.tbodyOffsetTop>0&&this.flattedData.length?this.flattedData:function(e,t,n){const o=[],i=[];for(let r=e.length-1;r>=0;r--){const n=e[r];o.push({root:n,data:t(n),level:[r],levelCount:e.length})}for(;o.length>0;){const e=o.pop();if(i.push(p(p({dataItem:e.root,level:[...e.level]},n(e.root)),{},{levelCount:e.levelCount})),e.data.length)for(let n=e.data.length-1;n>=0;n--){const i=e.data[n];o.push({root:i,data:t(i),level:[...e.level,n],levelCount:e.data.length})}}return i}(e,this.expandedSubItems,e=>{const o={height:t,offsetTop:n};return n+=o.height,o});return this.prevData=e,this.flattedData=o,o}selectionChange(e){if(this.props.onSelectionChange){const{event:t,item:n,dataIndex:o,columnIndex:i}=e,{mode:r,cell:a}=Ow(this.props.selectable),s=p(p({},this.getArguments(t.syntheticEvent)),{},{dataItem:n.dataItem,level:n.level,startColIndex:i,endColIndex:i,startRowIndex:o,endRowIndex:o,dataItems:this.getLeafDataItems(),altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,mode:r,cell:a,isDrag:!1,componentId:this._treeListId,selectedField:this.props.selectedField||""});this.props.onSelectionChange.call(void 0,s)}}raiseDataEvent(e,t,n){const o=this.props.onDataStateChange;if(e)e.call(void 0,p(p({},this.getArguments(n)),t));else if(o){const e=p(p({},this.getArguments(n)),{},{dataState:p(p({},this.getDataState()),t)});o.call(void 0,e)}}getDataState(){return{filter:this.props.filter,sort:this.props.sort}}getArguments(e){return{nativeEvent:e&&e.nativeEvent,syntheticEvent:e,target:this}}};E_.propTypes={data:jt.array,resizable:jt.bool,reorderable:jt.bool,sortable:jt.oneOfType([jt.bool,jt.shape({mode:jt.oneOf(["single","multiple"]),allowUnsort:jt.bool})]),onSortChange:jt.func,sort:jt.array,columns:jt.arrayOf(jt.object),columnVirtualization:jt.bool,filter:jt.array,onFilterChange:jt.func,filterRow:jt.any,toolbar:jt.any,noRecords:jt.any,onExpandChange:jt.func,expandField:jt.string,subItemsField:jt.string,selectedField:jt.string,onSelectionChange:jt.func,onHeaderSelectionChange:jt.func,onRowClick:jt.func,onItemChange:jt.func,editField:jt.string,scrollable:jt.oneOf(["none","scrollable","virtual"]),rowHeight:jt.number,style:jt.object,tableProps:jt.object,pager:jt.any,skip:jt.number,take:jt.number,onPageChange:jt.func,onDataStateChange:jt.func,onColumnResize:jt.func,onColumnReorder:jt.func,dataItemKey:jt.string,navigatable:jt.bool},E_.contextType=MC;let j_=E_;var A_=(e=>(e.HORIZONTAL="horizontal",e.VERTICAL="vertical",e))(A_||{}),__=(e=>(e.DEFAULT="default",e.primary="primary",e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error",e))(__||{});const D_=["children","dir","style","className","type","orientation"],N_=o.forwardRef((e,t)=>{const{children:n,dir:i,style:r,className:a,type:l=T_.type,orientation:c=T_.orientation}=e,d=s(e,D_),u=o.useRef(null),h=o.useRef(null);return o.useImperativeHandle(u,()=>({element:h.current,props:e})),o.useImperativeHandle(t,()=>u.current),o.createElement("div",p({dir:i,style:r,ref:h,className:rn("k-card",a,{["k-card-".concat(l)]:l!==__.DEFAULT},null===c?void 0:c!==A_.HORIZONTAL?"k-card-vertical":"k-card-horizontal")},d),n)});N_.displayName="KendoReactCard",N_.propTypes={children:jt.node,className:jt.string,dir:jt.string,orientation:jt.oneOf(["horizontal","vertical"]),style:jt.object,type:jt.oneOf(["default","primary","info","success","warning","error"])};const T_={type:__.DEFAULT,orientation:A_.VERTICAL},P_=e=>o.createElement("div",{style:e.style,className:rn("k-card-body",e.className)},e.children);P_.propTypes={className:jt.string};const M_=e=>o.createElement("div",{style:e.style,className:rn("k-card-header",e.className)},e.children);M_.propTypes={className:jt.string};const O_=()=>{const[e,t]=(0,o.useState)([]),[n,i]=(0,o.useState)(!0),[r,a]=(0,o.useState)(null),s=ve();(0,o.useEffect)(()=>{(async()=>{try{i(!0);const e=hr("/chart-of-account"),n=await fetch(e);if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const o=await n.json();if(console.log("API Response:",o),!o.results||!Array.isArray(o.results))throw new Error("Invalid API response format");{const e=(e=>{console.log("Converting API data:",e);const t=new Map;e.forEach(e=>{const n={id:e.id,accountName:e.name,isParent:e.isParent,parent:e.parent,parentName:e.parentName,parentId:e.parent,expanded:!1,accountNumber:e.accountNumber,accountType:e.accountTypeName||"Unknown",openingBalance:e.openingBalance,inactive:e.inactive,notes:e.notes,items:[]};t.set(e.id,n)});const n=[];e.forEach(e=>{const o=t.get(e.id);if(null===e.parent||""===e.parent||void 0===e.parent)n.push(o);else{const i=t.get(e.parent);i?(o.parentId=i.id,i.items.push(o)):(console.warn("Parent '".concat(e.parent,"' not found for item '").concat(e.name,"'. Adding as root item.")),n.push(o))}});const o=e=>{const t=[...e].sort((e,t)=>{const n=e.accountNumber?String(e.accountNumber).trim():"",o=t.accountNumber?String(t.accountNumber).trim():"",i=parseInt(n,10),r=parseInt(o,10);return isNaN(i)||isNaN(r)?isNaN(i)?1:isNaN(r)?-1:n.localeCompare(o):i-r});return t.map(e=>e.items&&e.items.length>0?p(p({},e),{},{items:o(e.items)}):e)},i=o(n);return console.log("Converted tree structure:",i),i})(o.results);t(e)}}catch(e){console.error("Error fetching chart of accounts:",e),a(e.message)}finally{i(!1)}})()},[]);const l=[{field:"accountName",title:"Account Name",width:"300px",cell:t=>{const n=t.dataItem.items&&t.dataItem.items.length>0,o=25*(t=>{let n=0;if(t.parent){let o=t.parent;const i=(e,t)=>{for(const n of e){if(n.id===t)return n;if(n.items){const e=i(n.items,t);if(e)return e}}return null};for(;o;){n++;const t=i(e,o);if(o=t?t.parent:null,n>10)break}}return n})(t.dataItem)+8;return(0,sr.jsx)("td",{style:{paddingLeft:"".concat(o,"px")},children:(0,sr.jsxs)("div",{className:"k-d-flex k-align-items-center k-gap-2",children:[n?(0,sr.jsx)("span",{onClick:e=>{e.stopPropagation(),n&&(console.log("Expanding/Collapsing:",t.dataItem.accountName,"Current expanded:",t.dataItem.expanded),c({dataItem:t.dataItem}))},className:"k-button k-button-flat k-button-sm k-rounded-full k-text-primary",style:{cursor:"pointer",fontSize:"14px",userSelect:"none",minWidth:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:t.dataItem.expanded?"\u25bc":"\u25b6"}):(0,sr.jsx)("span",{style:{width:"32px"}}),(0,sr.jsx)("span",{className:"k-font-weight-normal",children:t.dataItem.accountName})]})})}},{field:"accountType",title:"Account Type",width:"130px",cell:e=>(0,sr.jsx)("td",{className:"k-text-center",children:(0,sr.jsxs)("span",{className:"k-badge k-badge-rounded ".concat((e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"asset":return"k-badge-success";case"liability":return"k-badge-warning";case"equity":return"k-badge-info";case"income":case"revenue":return"k-badge-primary";case"expense":return"k-badge-error";default:return"k-badge-secondary"}})(e.dataItem.accountType)),children:[(0,sr.jsx)("span",{className:"k-icon ".concat((e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"asset":return"k-i-dollar";case"liability":return"k-i-warning";case"equity":return"k-i-user";case"income":case"revenue":return"k-i-plus";case"expense":return"k-i-minus";default:return"k-i-file"}})(e.dataItem.accountType)," k-mr-1")}),e.dataItem.accountType||"Unknown"]})})},{field:"accountNumber",title:"Account Number",width:"140px",cell:e=>(0,sr.jsx)("td",{className:"k-text-center",children:(0,sr.jsxs)(bo,{onClick:t=>{t.preventDefault(),s("/chart-of-account/view/".concat(e.dataItem.id))},fillMode:"flat",themeColor:"primary",size:"small",className:"k-button-link",style:{color:"#007acc"},children:[(0,sr.jsx)("span",{className:"k-icon k-i-external-link k-mr-1"}),(0,sr.jsx)("span",{style:{color:"#007acc"},children:e.dataItem.accountNumber})]})})},{field:"openingBalance",title:"Opening Balance",width:"150px",cell:e=>{const t=e.dataItem.openingBalance||0,n=t<0;return(0,sr.jsx)("td",{className:"k-text-right",children:(0,sr.jsx)("span",{className:n?"k-text-error":"k-text-success",children:Math.abs(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})})}}],c=n=>{console.log("onExpandChange called for:",n.dataItem.accountName);const o=[...e],i=e=>e.map(e=>e.id===n.dataItem.id?(console.log("Found item to toggle:",e.accountName,"from",e.expanded,"to",!e.expanded),p(p({},e),{},{expanded:!e.expanded})):e.items&&e.items.length>0?p(p({},e),{},{items:i(e.items)}):e),r=i(o);console.log("Setting new data:",r),t(r)};(()=>{const t=e=>{let n=[];return e.forEach(e=>{n.push(e),e.items&&e.items.length>0&&(n=n.concat(t(e.items)))}),n},n=t(e),o={};n.forEach(e=>{const t=e.accountType||"Unknown";o[t]||(o[t]=0),o[t]++})})();return n?(0,sr.jsx)("div",{className:"k-d-flex k-flex-col k-gap-4",style:{padding:"24px",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:(0,sr.jsx)(N_,{className:"k-shadow-lg",style:{borderRadius:"12px",overflow:"hidden"},children:(0,sr.jsx)(P_,{children:(0,sr.jsx)("div",{className:"k-d-flex k-justify-content-center k-align-items-center",style:{minHeight:"400px"},children:(0,sr.jsxs)("div",{className:"k-d-flex k-flex-col k-align-items-center k-gap-3",children:[(0,sr.jsx)("div",{className:"k-loader k-loader-lg"}),(0,sr.jsx)("p",{className:"k-text-muted",children:"Loading Chart of Accounts..."})]})})})})}):r?(0,sr.jsx)("div",{className:"k-d-flex k-flex-col k-gap-4",style:{padding:"24px",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:(0,sr.jsx)(N_,{className:"k-shadow-lg",style:{borderRadius:"12px",overflow:"hidden"},children:(0,sr.jsx)(P_,{children:(0,sr.jsx)("div",{className:"k-d-flex k-justify-content-center k-align-items-center",style:{minHeight:"400px"},children:(0,sr.jsxs)(N_,{className:"k-state-empty k-text-center k-p-6",children:[(0,sr.jsx)("div",{className:"k-icon k-i-warning k-color-error k-font-size-xxl k-mb-4"}),(0,sr.jsx)("h3",{className:"k-text-muted",children:"Error Loading Data"}),(0,sr.jsx)("p",{className:"k-text-muted",children:r}),(0,sr.jsx)(bo,{onClick:()=>window.location.reload(),themeColor:"primary",className:"k-mt-3",children:"Retry"})]})})})})}):(0,sr.jsx)("div",{className:"k-d-flex k-flex-col k-gap-4",style:{padding:"24px",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:(0,sr.jsxs)(N_,{className:"k-shadow-lg",style:{borderRadius:"12px",overflow:"hidden"},children:[(0,sr.jsxs)(M_,{className:"k-hbox k-justify-content-between k-align-items-center",style:{borderRadius:"12px 12px 0 0"},children:[(0,sr.jsxs)("div",{children:[(0,sr.jsx)("h1",{className:"k-text-dark k-font-size-xl k-font-weight-bold k-m-0",children:"Chart of Accounts"}),(0,sr.jsx)("p",{className:"k-text-secondary k-font-size-sm k-m-0",children:"Financial account structure"})]}),(0,sr.jsx)("div",{className:"k-d-flex k-gap-2",children:(0,sr.jsxs)(bo,{onClick:()=>s("/chart-of-account/new"),themeColor:"primary",className:"k-button k-button-md k-rounded-md",children:[(0,sr.jsx)(Ji,{})," Add New Chart of Account"]})})]}),(0,sr.jsx)(P_,{children:e&&e.length>0?(0,sr.jsxs)("div",{className:"k-d-flex k-flex-col k-gap-3",children:[(0,sr.jsx)("style",{children:"\n                  /* Hide KendoReact's default expand icons since we're using custom ones */\n                  .k-treelist .k-hierarchy-cell .k-icon {\n                    display: none;\n                  }\n                  \n                  /* Enhanced TreeList styling */\n                  .k-treelist {\n                    border-radius: 12px;\n                    box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                  }\n                  \n                  .k-treelist .k-table-thead {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                  }\n                  \n                  .k-treelist .k-table-thead .k-header {\n                    color: white;\n                    font-weight: 600;\n                  }\n                  \n                  /* Rounded corners for table header */\n                  .k-treelist .k-table-thead .k-header:first-child {\n                    border-top-left-radius: 12px;\n                  }\n                  \n                  .k-treelist .k-table-thead .k-header:last-child {\n                    border-top-right-radius: 12px;\n                  }\n                  \n                  .k-treelist .k-table-tbody .k-table-row:hover {\n                    background-color: #f8f9ff;\n                  }\n                "}),(0,sr.jsx)(j_,{data:e,columns:l,expandField:"expanded",subItemsField:"items",onExpandChange:c,style:{width:"100%"},idField:"id",className:"k-treelist-enhanced"})]}):(0,sr.jsxs)(N_,{className:"k-state-empty k-text-center k-p-6",children:[(0,sr.jsx)("div",{className:"k-icon k-i-warning k-color-warning k-font-size-xxl k-mb-4"}),(0,sr.jsx)("h3",{className:"k-text-muted",children:"No Data Available"}),(0,sr.jsx)("p",{className:"k-text-muted",children:"No chart of accounts data found."})]})})]})})},R_=()=>{const e=ve(),[t,n]=(0,o.useState)({results:[]}),[i,r]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(1),[h,m]=(0,o.useState)(""),[f,g]=(0,o.useState)("All"),[v,y]=(0,o.useState)({show:!1,message:"",type:"success"}),[x,b]=(0,o.useState)({skip:0,take:10,sort:[{field:"name",dir:"asc"}]}),w=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{r(!0),s(null);const o=hr("/location?PageNumber=".concat(e,"&PageSize=").concat(t)),i=await fetch(o);if(!i.ok)throw new Error("Failed to fetch locations: ".concat(i.status));const a=await i.json();Array.isArray(a)?(n({results:a}),c(a.length)):a.results&&Array.isArray(a.results)?(n(a),c(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),c(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),c(0)),u(e)}catch(o){s(o.message),n({results:[]}),c(0)}finally{r(!1)}},[]);(0,o.useEffect)(()=>{w()},[w]);const k=function(e){y({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{y({show:!1,message:"",type:"success"})},3e3)},C=(0,o.useCallback)(()=>null!==t&&void 0!==t&&t.results?t.results:[],[t]),S=(0,o.useCallback)(()=>{if(null===t||void 0===t||!t.results)return[];let e=[...t.results];return h&&(e=e.filter(e=>Object.values(e).join(" ").toLowerCase().includes(h.toLowerCase()))),"All"!==f&&(e=e.filter(e=>"Active"===f?!e.inactive:e.inactive)),e},[t,h,f]),I=()=>{const e=Math.floor(x.skip/x.take)+1,t=x.take;w(e,t),k("Locations refreshed successfully","success")};return i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"location-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading locations..."})]})})}):a?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"location-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading locations: ",a]}),(0,sr.jsxs)(bo,{onClick:I,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"location-list-container",children:[(0,sr.jsx)(ay,{children:v.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:v.type,icon:!0},closable:!0,onClose:()=>y({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:v.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Location Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/location/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Location"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search locations...",value:h,onChange:e=>m(e.target.value)})]}),(0,sr.jsxs)("div",{className:"filter-bar",children:[(0,sr.jsx)(Yi,{className:"filter-icon"}),(0,sr.jsx)(Sh,{data:["All","Active","Inactive"],value:f,onChange:e=>g(e.target.value),style:{width:"100%"}})]}),(0,sr.jsx)(bo,{onClick:I,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===S().length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No locations match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:S(),pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},x),{},{onDataStateChange:e=>{const t=e.dataState;b(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===d&&o===x.take||w(n,o)},total:l,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=C().findIndex(t=>t===e.dataItem),n=x.take||10,o=((d||1)-1)*n+t+1;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,sr.jsx)(zy,{field:"name",title:"Location Name",width:"250px"}),(0,sr.jsx)(zy,{field:"address",title:"Address",width:"250px"}),(0,sr.jsx)(zy,{field:"inactive",title:"Status",width:"150px",cell:e=>{const t=!e.dataItem.inactive,n=t?"Active":"Inactive",o=t?"status-active":"status-inactive";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,sr.jsx)("span",{className:"status-badge ".concat(o),children:n})}))}}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{var t;(t=n.id)?e("/location/view/".concat(t)):k("Cannot view location: ID is undefined","error")},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{var t;(t=n.id)?e("/location/edit/".concat(t)):k("Cannot edit location: ID is undefined","error")},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid location data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No locations found. Click the "Add New Location" button above to create your first location.'})}),(0,sr.jsx)("style",{children:'\n          .location-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n          }\n\n          .status-active {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-inactive {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n            padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n            border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          @media (max-width: 768px) {\n            .location-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-item {\n              width: 100%;\n            }\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n        '})]})})},L_=()=>{const e=ve(),[t,n]=(0,o.useState)({results:[]}),[i,r]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(1),[h,m]=(0,o.useState)(""),[f,g]=(0,o.useState)("All"),[v,y]=(0,o.useState)({show:!1,message:"",type:"success"}),x={"ef765a67-402b-48ee-b898-8eaa45affb64":"Inventory Item","d89fbe6f-7421-4b41-becf-d94d2bcb6757":"Service Item"},[b,w]=(0,o.useState)({skip:0,take:10,sort:[{field:"itemCode",dir:"asc"}]}),k=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{r(!0),s(null);const o=hr("/product?PageNumber=".concat(e,"&PageSize=").concat(t)),i=await fetch(o);if(!i.ok)throw new Error("Failed to fetch products: ".concat(i.status));const a=await i.json();Array.isArray(a)?(n({results:a}),c(a.length)):a.results&&Array.isArray(a.results)?(n(a),c(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),c(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),c(0)),u(e)}catch(o){s(o.message),n({results:[]}),c(0)}finally{r(!1)}},[]);(0,o.useEffect)(()=>{k()},[k]);const C=(0,o.useCallback)(()=>null!==t&&void 0!==t&&t.results?t.results:[],[t]),S=(0,o.useCallback)(()=>{if(null===t||void 0===t||!t.results)return[];let e=[...t.results];return h&&(e=e.filter(e=>Object.values(e).join(" ").toLowerCase().includes(h.toLowerCase()))),"All"!==f&&(console.log("filteredData",e),e=e.filter(e=>(x[e.itemType]||"Unknown")===f)),e},[t,h,f]),I=()=>{const e=Math.floor(b.skip/b.take)+1,t=b.take;k(e,t),function(e){y({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{y({show:!1,message:"",type:"success"})},3e3)}("Products refreshed successfully","success")};return i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"product-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading products..."})]})})}):a?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"product-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading products: ",a]}),(0,sr.jsxs)(bo,{onClick:I,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsxs)("div",{className:"k-p-4",children:[(0,sr.jsxs)("div",{className:"product-list-container",children:[(0,sr.jsx)(ay,{children:v.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:v.type,icon:!0},closable:!0,onClose:()=>y({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:v.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Product Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/product/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Product"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search products...",value:h,onChange:e=>m(e.target.value)})]}),(0,sr.jsxs)("div",{className:"filter-bar",children:[(0,sr.jsx)(Yi,{className:"filter-icon"}),(0,sr.jsx)(Sh,{data:["All","Service Item","Inventory Item"],value:f,onChange:e=>g(e.target.value),style:{width:"100%"}})]}),(0,sr.jsx)(bo,{onClick:I,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===S().length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No products match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:S(),pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},b),{},{onDataStateChange:e=>{const t=e.dataState;w(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===d&&o===b.take||k(n,o)},total:l,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=C().findIndex(t=>t===e.dataItem),n=b.take||10,o=((d||1)-1)*n+t+1;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,sr.jsx)(zy,{field:"itemCode",title:"Item Code",width:"250px"}),(0,sr.jsx)(zy,{field:"itemName",title:"Item Name",width:"250px"}),(0,sr.jsx)(zy,{field:"itemType",title:"Item Type",width:"150px",cell:e=>{const t=e.dataItem.itemType,n=x[t]||"Unknown",o="Service Item"===n?"itemtype-service":"itemtype-inventory";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,sr.jsx)("span",{className:"itemtype-badge ".concat(o),children:n})}))}}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/product/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/product/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid product data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No products found. Click the "Add New Product" button above to create your first product.'})})]}),(0,sr.jsx)("style",{children:'\n        .product-list-container {\n          background: white;\n          border-radius: 4px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          padding: 16px;\n          margin: 16px;\n        }\n\n        .list-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 16px;\n          padding-bottom: 8px;\n          border-bottom: 1px solid #e2e8f0;\n        }\n\n        .list-header h2 {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.25rem;\n          font-weight: 600;\n        }\n\n        .filter-section {\n          display: flex;\n          gap: 12px;\n          margin-bottom: 16px;\n          align-items: center;\n        }\n\n        .search-bar {\n          flex: 1;\n          position: relative;\n          max-width: 400px;\n        }\n\n        .search-icon {\n          position: absolute;\n          left: 8px;\n          top: 50%;\n          transform: translateY(-50%);\n          color: #718096;\n          font-size: 13px;\n        }\n\n        .search-bar .k-input {\n          padding-left: 28px;\n          font-size: 13px;\n          height: 32px;\n        }\n\n        .filter-bar {\n          position: relative;\n          width: 150px;\n        }\n\n        .filter-icon {\n          position: absolute;\n          left: 8px;\n          top: 50%;\n          transform: translateY(-50%);\n          color: #718096;\n          font-size: 13px;\n          z-index: 1;\n        }\n\n        .filter-bar .k-dropdown {\n          width: 100%;\n        }\n\n        .filter-bar .k-input-inner {\n          padding-left: 28px;\n          font-size: 13px;\n          height: 32px;\n        }\n\n        .no-data-message {\n          text-align: center;\n          padding: 40px 20px;\n          color: #718096;\n          font-size: 14px;\n        }\n\n        .k-grid {\n          border-radius: 4px;\n          border: 1px solid #E2E8F0;\n        }\n\n        .k-grid-header {\n          background-color: #F7FAFC;\n        }\n\n        .k-grid-header th {\n          font-weight: 600;\n          color: #4A5568;\n          text-transform: uppercase;\n          font-size: 12px;\n          letter-spacing: 0.05em;\n          padding: 8px;\n        }\n\n        .k-grid td {\n          border-color: #E2E8F0;\n          padding: 8px;\n          font-size: 13px;\n        }\n\n        .k-command-cell {\n          padding: 4px !important;\n          text-align: center !important;\n        }\n\n        .k-grid-header th[data-title="Actions"] {\n          text-align: center !important;\n          padding: 4px !important;\n        }\n\n        .k-button {\n          display: inline-flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 12px;\n          font-weight: 500;\n          height: 28px;\n          padding: 0 12px;\n          border-radius: 3px;\n          border: 1px solid transparent;\n          text-decoration: none;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .action-buttons {\n          display: flex;\n          gap: 4px;\n          justify-content: center;\n        }\n\n        .action-buttons .k-button {\n          min-width: 50px;\n          font-size: 11px;\n          height: 24px;\n          padding: 0 8px;\n        }\n\n        .itemtype-badge {\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n          padding: 4px 12px;\n          border-radius: 12px;\n          font-size: 12px;\n          font-weight: 500;\n          min-width: 100px;\n        }\n\n        .itemtype-service {\n          background-color: #DBEAFE;\n          color: #1E40AF;\n        }\n\n        .itemtype-inventory {\n          background-color: #D1FAE5;\n          color: #059669;\n        }\n\n        /* Additional grid alignment fixes */\n        .product-grid .k-table {\n          table-layout: fixed;\n          width: 100%;\n        }\n\n        .product-grid .k-table-thead .k-table-th {\n          padding: 12px 8px;\n          border-right: 1px solid #e2e8f0;\n          vertical-align: middle;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .product-grid .k-table-tbody .k-table-td {\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        /* Ensure item name column can wrap if needed */\n        .product-grid .k-table-tbody .k-table-td:nth-child(3) {\n          white-space: normal;\n          word-wrap: break-word;\n        }\n\n        .notification-container {\n          position: fixed;\n          right: 12px;\n          top: 12px;\n          z-index: 9999;\n          min-width: 280px;\n        }\n\n        .k-notification {\n          font-size: 13px;\n          padding: 8px 12px;\n        }\n\n        .loading-indicator {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 200px;\n          gap: 12px;\n          font-size: 14px;\n        }\n\n        .spinner {\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid #3498db;\n          border-radius: 50%;\n          width: 32px;\n          height: 32px;\n          animation: spin 1s linear infinite;\n        }\n\n        .error-container {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 200px;\n          gap: 16px;\n        }\n\n        .error-message {\n          text-align: center;\n          color: #e53e3e;\n          font-size: 14px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        @media (max-width: 768px) {\n          .product-list-container {\n            margin: 12px;\n            padding: 12px;\n          }\n\n          .list-header {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 12px;\n          }\n\n          .filter-section {\n            padding: 8px;\n          }\n\n          .filter-bar {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 8px;\n          }\n\n          .filter-item {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 4px;\n          }\n\n          .action-buttons {\n            flex-direction: column;\n            gap: 2px;\n          }\n\n          .action-buttons .k-button {\n            font-size: 10px;\n            padding: 2px 6px;\n          }\n        }\n      '})]})},F_=()=>{const e=ve(),[t,n]=(0,o.useState)({results:[]}),[i,r]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(1),[h,m]=(0,o.useState)(""),[f,g]=(0,o.useState)({show:!1,message:"",type:"success"}),[v,y]=(0,o.useState)({skip:0,take:10,sort:[{field:"name",dir:"asc"}]}),x=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{r(!0),s(null);const o=hr("/tax?PageNumber=".concat(e,"&PageSize=").concat(t)),i=await fetch(o);if(!i.ok)throw new Error("Failed to fetch taxes: ".concat(i.status));const a=await i.json();Array.isArray(a)?(n({results:a}),c(a.length)):a.results&&Array.isArray(a.results)?(n(a),c(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),c(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),c(0)),u(e)}catch(o){s(o.message),n({results:[]}),c(0)}finally{r(!1)}},[]);(0,o.useEffect)(()=>{x()},[x]);const b=(0,o.useCallback)(()=>null!==t&&void 0!==t&&t.results?t.results:[],[t]),w=(0,o.useCallback)(()=>{if(null===t||void 0===t||!t.results)return[];let e=[...t.results];return h&&(e=e.filter(e=>Object.values(e).join(" ").toLowerCase().includes(h.toLowerCase()))),e},[t,h]),k=()=>{const e=Math.floor(v.skip/v.take)+1,t=v.take;x(e,t),function(e){g({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{g({show:!1,message:"",type:"success"})},3e3)}("Taxes refreshed successfully","success")};return i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"tax-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading taxes..."})]})})}):a?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"tax-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading taxes: ",a]}),(0,sr.jsxs)(bo,{onClick:k,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"tax-list-container",children:[(0,sr.jsx)(ay,{children:f.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:f.type,icon:!0},closable:!0,onClose:()=>g({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:f.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Tax Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/tax/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Tax"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search taxes...",value:h,onChange:e=>m(e.target.value)})]}),(0,sr.jsx)(bo,{onClick:k,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===w().length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No taxes match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:w(),pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},v),{},{onDataStateChange:e=>{const t=e.dataState;y(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===d&&o===v.take||x(n,o)},total:l,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=b().findIndex(t=>t===e.dataItem),n=v.take||10,o=((d||1)-1)*n+t+1;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,sr.jsx)(zy,{field:"name",title:"Tax Name",width:"300px"}),(0,sr.jsx)(zy,{field:"taxRate",title:"Tax Rate",width:"150px",cell:e=>{return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(t=e.dataItem[e.field],"".concat(Number(t||0).toFixed(2),"%"))}));var t}}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/tax/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/tax/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid tax data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No taxes found. Click the "Add New Tax" button above to create your first tax.'})}),(0,sr.jsx)("style",{children:'\n          .tax-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 16px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n            padding-bottom: 8px;\n            border-bottom: 1px solid #e2e8f0;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 4px;\n            font-size: 12px;\n            font-weight: 500;\n            height: 28px;\n            padding: 0 12px;\n            border-radius: 3px;\n            border: 1px solid transparent;\n            text-decoration: none;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            min-width: 50px;\n            font-size: 11px;\n            height: 24px;\n            padding: 0 8px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n            border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 200px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          .error-container {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 200px;\n            gap: 16px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          @media (max-width: 768px) {\n            .tax-list-container {\n              margin: 12px;\n              padding: 12px;\n            }\n\n            .list-header {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .action-buttons {\n              flex-direction: column;\n              gap: 2px;\n            }\n\n            .action-buttons .k-button {\n              font-size: 10px;\n              padding: 2px 6px;\n            }\n          }\n        '})]})})},z_=()=>{const e=ve(),[t,n]=(0,o.useState)({results:[]}),[i,r]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(""),[d,u]=(0,o.useState)("all"),[h,m]=(0,o.useState)({show:!1,message:"",type:"success"}),[f,g]=(0,o.useState)({skip:0,take:10,sort:[{field:"formName",dir:"asc"}]}),[v,y]=(0,o.useState)(0),[x,b]=(0,o.useState)(1),w=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{r(!0),s(null);const o=hr("/form?PageNumber=".concat(e,"&PageSize=").concat(t)),i=await fetch(o);if(!i.ok)throw new Error("Failed to fetch forms: ".concat(i.status));const a=await i.json();Array.isArray(a)?(n({results:a}),y(a.length)):a.results&&Array.isArray(a.results)?(n(a),y(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),y(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),y(0)),b(e)}catch(o){s(o.message),n({results:[]}),y(0)}finally{r(!1)}},[]);(0,o.useEffect)(()=>{w()},[w]);const k=(0,o.useCallback)(()=>null!==t&&void 0!==t&&t.results?t.results:[],[t]),C=(0,o.useCallback)(()=>{if(null===t||void 0===t||!t.results)return[];let e=[...t.results];return l&&(e=e.filter(e=>Object.values(e).join(" ").toLowerCase().includes(l.toLowerCase()))),"all"!==d&&(e=e.filter(e=>"active"===d?!e.inactive:"inactive"!==d||e.inactive)),e},[t,l,d]),S=()=>{const e=Math.floor(f.skip/f.take)+1,t=f.take;w(e,t),function(e){m({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{m({show:!1,message:"",type:"success"})},3e3)}("Forms refreshed successfully","success")};return i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"form-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading forms..."})]})})}):a?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"form-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading forms: ",a]}),(0,sr.jsxs)(bo,{onClick:S,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{children:(0,sr.jsxs)("div",{className:"form-list-container",children:[(0,sr.jsx)(ay,{children:h.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:h.type,icon:!0},closable:!0,onClose:()=>m({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:h.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Form Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/forms/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Form"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search forms...",value:l,onChange:e=>c(e.target.value)})]}),(0,sr.jsxs)("div",{className:"filter-bar",children:[(0,sr.jsx)(Yi,{className:"filter-icon"}),(0,sr.jsx)(Sh,{data:["All","Active","Inactive"],value:"all"===d?"All":"active"===d?"Active":"Inactive",onChange:e=>u(e.target.value.toLowerCase()),style:{width:"100%"}})]}),(0,sr.jsx)(bo,{onClick:S,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===C().length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No forms match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:C(),pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},f),{},{onDataStateChange:e=>{const t=e.dataState;g(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===x&&o===f.take||w(n,o)},total:v,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=k().findIndex(t=>t===e.dataItem),n=f.take||10,o=((x||1)-1)*n+t+1;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,sr.jsx)(zy,{field:"formName",title:"Form Name",width:"250px"}),(0,sr.jsx)(zy,{field:"typeOfRecordName",title:"Record Type",width:"200px"}),(0,sr.jsx)(zy,{field:"prefix",title:"Prefix",width:"150px"}),(0,sr.jsx)(zy,{field:"inactive",title:"Status",width:"120px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:(0,sr.jsx)("span",{className:"status-badge ".concat(e.dataItem.inactive?"inactive":"active"),children:e.dataItem.inactive?"Inactive":"Active"})}))}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/forms/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/forms/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid form data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No forms found. Click the "Add New Form" button above to create your first form.'})}),(0,sr.jsx)("style",{children:'\n        .form-list-container {\n          background: white;\n          border-radius: 4px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          padding: 16px;\n          margin: 12px;\n        }\n\n        .list-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 16px;\n        }\n\n        .k-dropdown-wrap {\n          background: transparent;\n          border: 1px solid #e2e8f0;\n          border-radius: 4px;\n        }\n\n        .k-dropdown-wrap .k-input {\n          background: transparent;\n          padding-left: 28px;\n        }\n\n        .list-header h2 {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.25rem;\n          font-weight: 600;\n        }\n\n        .filter-section {\n          display: flex;\n          gap: 12px;\n          margin-bottom: 16px;\n          align-items: center;\n        }\n\n        .search-bar {\n          flex: 1;\n          position: relative;\n          max-width: 400px;\n        }\n\n        .search-icon {\n          position: absolute;\n          left: 8px;\n          top: 50%;\n          transform: translateY(-50%);\n          color: #718096;\n          font-size: 13px;\n        }\n\n        .search-bar .k-input {\n          padding-left: 28px;\n          font-size: 13px;\n          height: 32px;\n        }\n\n        .filter-bar {\n          position: relative;\n          width: 150px;\n        }\n\n        .filter-icon {\n          position: absolute;\n          left: 8px;\n          top: 50%;\n          transform: translateY(-50%);\n          color: #718096;\n          font-size: 13px;\n          z-index: 1;\n        }\n\n        .filter-bar .k-dropdown {\n          width: 100%;\n        }\n\n        .filter-bar .k-input-inner {\n          padding-left: 28px;\n          font-size: 13px;\n          height: 32px;\n        }\n\n        .k-grid {\n          border-radius: 4px;\n          border: 1px solid #E2E8F0;\n        }\n\n        .k-grid-header {\n          background-color: #F7FAFC;\n        }\n\n        .k-grid-header th {\n          font-weight: 600;\n          color: #4A5568;\n          text-transform: uppercase;\n          font-size: 12px;\n          letter-spacing: 0.05em;\n          padding: 8px;\n        }\n\n        .k-grid td {\n          border-color: #E2E8F0;\n          padding: 8px;\n          font-size: 13px;\n        }\n\n        .k-command-cell {\n          padding: 4px !important;\n          text-align: center !important;\n        }\n\n        .k-grid-header th[data-title="Actions"] {\n          text-align: center !important;\n          padding: 4px !important;\n        }\n\n        .k-button {\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 12px;\n          font-size: 13px;\n          font-weight: 500;\n          height: 32px;\n        }\n\n        .k-button svg {\n          font-size: 13px;\n        }\n\n        .k-command-cell .k-button {\n          padding: 4px 8px;\n          height: 24px;\n          min-width: 60px;\n          font-size: 12px;\n        }\n\n        .notification-container {\n          position: fixed;\n          right: 12px;\n          top: 12px;\n          z-index: 9999;\n          min-width: 280px;\n        }\n\n        .k-notification {\n          font-size: 13px;\n          padding: 8px 12px;\n        }\n\n        .loading-indicator {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 150px;\n          gap: 12px;\n          font-size: 14px;\n        }\n\n        .spinner {\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid #3498db;\n          border-radius: 50%;\n          width: 32px;\n          height: 32px;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .error-container {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          height: 150px;\n        }\n\n        .error-message {\n          text-align: center;\n          color: #e53e3e;\n          font-size: 14px;\n        }\n\n        .error-message button {\n          margin-top: 12px;\n        }\n\n        .no-data-message {\n          text-align: center;\n          padding: 40px 20px;\n          color: #718096;\n          font-size: 14px;\n          background-color: #f7fafc;\n          border-radius: 4px;\n          border: 1px solid #e2e8f0;\n        }\n\n        .no-data-message p {\n          margin: 0;\n        }\n\n        .action-buttons {\n          display: flex;\n          gap: 4px;\n          justify-content: center;\n        }\n\n        .action-buttons .k-button {\n          padding: 2px 6px;\n          height: 22px;\n          min-width: 50px;\n          font-size: 11px;\n          line-height: 1;\n        }\n\n        @media (max-width: 768px) {\n          .form-list-container {\n            margin: 8px;\n            padding: 12px;\n          }\n\n          .filter-section {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 8px;\n          }\n\n          .search-bar {\n            max-width: none;\n          }\n\n          .filter-bar {\n            width: 100%;\n          }\n        }\n\n        .k-grid-header th[data-title="No"] {\n          text-align: center;\n        }\n      '})]})})},B_=["validationMessage","visited","touched","value"],V_=["validationMessage","visited","touched","data","value","onChange"],H_=o.createContext({}),q_="formDataIndex",U_="id",G_=e=>e?"":"This field is required",W_=e=>{let{mode:t="new"}=e;const n=ve(),{id:i}=ye(),[r,a]=(0,o.useState)({show:!1,message:"",type:"success"}),[l,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!0),[h,m]=(0,o.useState)(!1),[f,g]=(0,o.useState)(!1),[v,y]=(0,o.useState)({formName:"",recordType:"",prefix:"",accountReceivable:"",undepositedFunds:"",clearingGRNI:"",clearingSRNI:"",clearingVAT:"",accountPayable:"",formType:"",clearing:"",accuredTax:"",accuredAR:"",discountOnTax:"",inactive:!1,isDefault:!1,customFields:[],reasons:[]}),x=()=>{const e=v.customFields&&v.customFields.length>0?v.customFields.filter(e=>{var t,n;return!(null!==(t=e.fieldLabel)&&void 0!==t&&t.trim())||!(null!==(n=e.fieldName)&&void 0!==n&&n.trim())||!e.fieldType||!e.displayOrder||e.displayOrder<1}):[],t=v.reasons&&v.reasons.length>0?v.reasons.filter(e=>{var t;return!(null!==(t=e.reason)&&void 0!==t&&t.trim())||!e.accountId}):[];return e.length>0||t.length>0};(0,o.useEffect)(()=>{const e=e=>{if(x())return e.preventDefault(),e.returnValue="You have incomplete fields that will be lost.","You have incomplete fields that will be lost."};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[v]);const[b,w]=(0,o.useState)([]),[k,C]=(0,o.useState)([]),{data:S,loading:I}=gy(),{data:E,loading:j}=hy("form-source-type");(0,o.useEffect)(()=>{(async()=>{try{u(!0);const[e,t]=await Promise.all([fetch(hr(pr.endpoints.recordType)),fetch(hr("/type-of-field"))]);if(!e.ok)throw new Error("Failed to fetch record types");if(!t.ok)throw new Error("Failed to fetch field types");const n=await e.json(),o=await t.json(),i=Array.isArray(n)?n:n.results||[],r=Array.isArray(o)?o:o.results||[],a=i.map(e=>({text:e.name,value:e.id})),s=r.map(e=>({text:e.componentName,value:e.id}));C(a),w(s)}catch(e){alert("Failed to load form data from API"),C([]),w([])}})()},[]),(0,o.useEffect)(()=>{(async()=>{if("new"!==t&&i)try{u(!0);const t=await fetch(hr("".concat(pr.endpoints.forms,"/").concat(i)),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok){const e=await t.text();throw new Error("Failed to fetch form: ".concat(t.status," ").concat(t.statusText," - ").concat(e))}const n=await t.json(),o=await fetch(hr(pr.endpoints.customFormFieldByForm(i)),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});let r=[];if(o.ok)try{const e=await o.json();r=Array.isArray(e)?e:e.results&&Array.isArray(e.results)?e.results:[],r.sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0))}catch(e){r=[]}else r=[];const a={formName:n.formName||"",recordType:n.typeOfRecord||"",prefix:n.prefix||"",accountReceivable:n.accountReceivable||"",undepositedFunds:n.undepositedFunds||"",clearingGRNI:n.clearingGRNI||"",clearingSRNI:n.clearingSRNI||"",clearingVAT:n.clearingVAT||"",accountPayable:n.accountPayable||"",formType:n.formType||"",clearing:n.clearing||"",accuredTax:n.accuredTax||"",accuredAR:n.accuredAR||"",discountOnTax:n.discountOnTax||"",inactive:n.inactive||!1,isDefault:n.isDefault||!1,customFields:r.map((e,t)=>({id:e.id||t+1,fieldName:e.fieldName||"",fieldLabel:e.fieldLabel||"",fieldType:e.fieldType||"Input",isRequired:e.isRequired||!1,isDisabled:e.isDisabled||!1,source:e.fieldSource||"",displayOrder:e.displayOrder||t+1,formDataIndex:t})),reasons:n.reasons?JSON.parse(n.reasons):[]};y(a),m(!0)}catch(n){A(n.message,"error")}finally{u(!1)}else m(!0),u(!1)})()},[t,i]);const A=function(e){a({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{a({show:!1,message:"",type:"success"})},4e3)},_=e=>{const t={};return Object.keys(e).forEach(n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)}),t},D=async()=>{if(!i)return void A("No form ID available for deletion","error");if(window.confirm("Are you sure you want to delete this form? This action cannot be undone and will remove all associated custom fields and form sequences."))try{c(!0);try{const e=await fetch(hr("/custom-form-field/by-form/".concat(i)),{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();if(Array.isArray(t)&&t.length>0){const e=t.map(e=>fetch(hr("".concat(pr.endpoints.customFormField,"/").concat(e.id)),{method:"DELETE",headers:{"Content-Type":"application/json"}})),n=(await Promise.all(e)).filter(e=>!e.ok);n.length>0&&console.warn("Failed to delete ".concat(n.length," custom fields"))}}}catch(e){console.warn("Error deleting custom fields:",e)}try{const e=await fetch(hr("/form-sequence/by-form/".concat(i)),{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();if(Array.isArray(t)&&t.length>0){const e=t.map(e=>fetch(hr("".concat(pr.endpoints.formSequence,"/").concat(e.id)),{method:"DELETE",headers:{"Content-Type":"application/json"}})),n=(await Promise.all(e)).filter(e=>!e.ok);n.length>0&&console.warn("Failed to delete ".concat(n.length," form sequences"))}}}catch(t){console.warn("Error deleting form sequences:",t)}const o=await fetch(hr("".concat(pr.endpoints.forms,"/").concat(i)),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!o.ok){const e=await o.text();throw new Error("Failed to delete form: ".concat(o.status," - ").concat(e))}A("Form deleted successfully","success"),n("/forms")}catch(o){A(o.message||"Failed to delete form","error")}finally{c(!1)}},N=e=>{const{validationMessage:n,visited:o,touched:i,value:r}=e,a=s(e,B_),l=n&&(i||r&&r.length>0);return(0,sr.jsxs)("div",{children:[(0,sr.jsx)(Fc,p(p({},a),{},{value:r||"",className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===t})),l&&(0,sr.jsx)("div",{className:"k-form-error",children:n})]})},T=e=>{const{validationMessage:n,visited:o,touched:i,data:r,value:a,onChange:l}=e,c=s(e,V_),d=n&&(i||a&&""!==a&&null!==a),u=r||[],h=u.length>0,m=a?u.find(e=>e.value===a):null;return(0,sr.jsxs)("div",{children:[(0,sr.jsx)(Sh,p(p({},c),{},{data:u,textField:"text",valueField:"value",defaultItem:{text:h?"-- Select Record Type --":"No data available",value:""},value:m,onChange:e=>{var t;const n=(null===(t=e.target.value)||void 0===t?void 0:t.value)||e.target.value;l({target:{value:n}})},className:d?"k-state-invalid":"",style:{width:"100%"},disabled:!h||"view"===t})),d&&(0,sr.jsx)("div",{className:"k-form-error",children:n})]})},P=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateField:i}=o.useContext(H_);return n===t[q_]?(0,sr.jsx)("td",{style:{padding:"4px"},children:(0,sr.jsx)(Fc,{value:t.fieldLabel||"",onChange:e=>i(t[q_],"fieldLabel",e.target.value),style:{width:"100%",height:"32px"},placeholder:"Enter field label *"})}):(0,sr.jsx)("td",{style:{padding:"8px"},children:t.fieldLabel||"Enter field label *"})},M=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateField:i}=o.useContext(H_);return n===t[q_]?(0,sr.jsx)("td",{style:{padding:"4px"},children:(0,sr.jsx)(Fc,{value:t.fieldName||"",onChange:e=>i(t[q_],"fieldName",e.target.value),style:{width:"100%",height:"32px"},placeholder:"Enter field name *"})}):(0,sr.jsx)("td",{style:{padding:"8px"},children:t.fieldName||"Enter field name *"})},O=e=>{var t;const{dataItem:n}=e,{editIndex:i,onUpdateField:r}=o.useContext(H_);if(i===n[q_]){const e=b.length>0;return(0,sr.jsx)("td",{style:{padding:"4px"},children:(0,sr.jsx)("div",{style:{position:"relative",width:"100%"},children:(0,sr.jsx)(Sh,{value:e?b.find(e=>e.value===n.fieldType):null,onChange:e=>{var t;return r(n[q_],"fieldType",(null===(t=e.target.value)||void 0===t?void 0:t.value)||"")},data:b,textField:"text",valueField:"value",defaultItem:{text:e?"Select type *":"No field types available",value:""},style:{width:"100%",minWidth:"150px",zIndex:1},popupSettings:{appendTo:document.body,popupClass:"field-type-dropdown-popup",position:"bottom-start"},disabled:!e,className:"field-type-dropdown"})})})}return(0,sr.jsx)("td",{style:{padding:"8px"},children:(0,sr.jsx)("span",{className:"field-type-display",children:(null===(t=b.find(e=>e.value===n.fieldType))||void 0===t?void 0:t.text)||"Select type *"})})},R=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateField:i}=o.useContext(H_);return n===t[q_]?(0,sr.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:(0,sr.jsx)("input",{type:"checkbox",checked:t.isRequired||!1,onChange:e=>i(t[q_],"isRequired",e.target.checked),style:{width:"20px",height:"20px"}})}):(0,sr.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:t.isRequired?"\u2713":""})},L=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateField:i}=o.useContext(H_);return n===t[q_]?(0,sr.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:(0,sr.jsx)("input",{type:"checkbox",checked:t.isDisabled||!1,onChange:e=>i(t[q_],"isDisabled",e.target.checked),style:{width:"20px",height:"20px"}})}):(0,sr.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:t.isDisabled?"\u2713":""})},F=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateField:i}=o.useContext(H_);return n===t[q_]?(0,sr.jsx)("td",{style:{padding:"4px"},children:(0,sr.jsx)(Fc,{value:t.displayOrder||1,onChange:e=>i(t[q_],"displayOrder",parseInt(e.target.value)||1),type:"number",style:{width:"100%",height:"32px"}})}):(0,sr.jsx)("td",{style:{padding:"8px"},children:t.displayOrder||1})},z=e=>{var t;const{dataItem:n}=e,{editIndex:i,onUpdateField:r}=o.useContext(H_),a=i===n[q_],s=b.find(e=>e.value===n.fieldType),l=((null===s||void 0===s||null===(t=s.text)||void 0===t?void 0:t.toLowerCase())||"").includes("dropdownlist");return a?(0,sr.jsx)("td",{style:{padding:"4px"},children:(0,sr.jsx)(Fc,{value:n.source||"",onChange:e=>r(n[q_],"source",e.target.value),style:{width:"100%",height:"32px",backgroundColor:l?"#ffffff":"#f5f5f5"},placeholder:l?"/api/endpoint":"Not applicable",disabled:!l})}):(0,sr.jsx)("td",{style:{padding:"8px"},children:l?n.source||"Enter source":"-"})},B=e=>{const{dataItem:t}=e;return(0,sr.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:t[q_]+1})},V=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateReason:i}=o.useContext(H_);return n===t[q_]?(0,sr.jsx)("td",{style:{padding:"4px"},children:(0,sr.jsx)(Fc,{value:t.reason||"",onChange:e=>i(t[q_],"reason",e.target.value),style:{width:"100%",height:"32px"},placeholder:"Enter reason *"})}):(0,sr.jsx)("td",{style:{padding:"8px"},children:t.reason||"Enter reason"})},H=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateReason:i}=o.useContext(H_);if(n===t[q_]){const e=S&&S.length>0;console.log(S);const n=e?S.map(e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id})):[];return(0,sr.jsx)("td",{style:{padding:"4px"},children:(0,sr.jsx)(Sh,{value:e?n.find(e=>e.value===t.accountId):null,onChange:e=>{var n;return i(t[q_],"accountId",(null===(n=e.target.value)||void 0===n?void 0:n.value)||"")},data:n,textField:"text",valueField:"value",defaultItem:{text:e?"Select account *":"Loading accounts...",value:""},style:{width:"100%"},disabled:!e||I})})}const r=null===S||void 0===S?void 0:S.find(e=>e.id===t.accountId);return(0,sr.jsx)("td",{style:{padding:"8px"},children:r?"".concat(r.name," - ").concat(r.accountNumber):"Select account *"})},q=e=>{const{dataItem:n}=e,{editIndex:i,onEdit:r,onSave:a,onCancel:s,onRemove:l}=o.useContext(H_),c=i===n[q_],d=!n.id||0===n.id;return"view"===t?(0,sr.jsx)("td",{style:{padding:"4px",textAlign:"center"},children:"-"}):(0,sr.jsx)("td",{style:{padding:"2px",textAlign:"center",width:"90px"},children:(0,sr.jsx)("div",{className:"command-cell-container",children:c?(0,sr.jsxs)("div",{className:"button-stack",children:[(0,sr.jsx)(bo,{type:"button",onClick:()=>a(n),className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-success command-btn save-btn stacked-btn",title:d?"Add this reason":"Save changes",children:"Save"}),(0,sr.jsx)(bo,{type:"button",onClick:d?()=>l(n):s,className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base command-btn cancel-btn stacked-btn",title:d?"Remove this reason":"Cancel editing",children:"Cancel"})]}):(0,sr.jsxs)("div",{className:"button-stack",children:[(0,sr.jsx)(bo,{type:"button",onClick:()=>r(n),className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary command-btn edit-btn stacked-btn",title:"Edit this reason",children:"Edit"}),(0,sr.jsx)(bo,{type:"button",onClick:()=>l(n),className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-danger command-btn delete-btn stacked-btn",title:"Remove this reason",children:"Delete"})]})})})},U=e=>{const{dataItem:n}=e,{editIndex:i,onEdit:r,onSave:a,onCancel:s,onRemove:l}=o.useContext(H_),c=i===n[q_],d=!n.id||0===n.id;return"view"===t?(0,sr.jsx)("td",{style:{padding:"4px",textAlign:"center"},children:"-"}):(0,sr.jsx)("td",{style:{padding:"2px",textAlign:"center",width:"90px"},children:(0,sr.jsx)("div",{className:"command-cell-container",children:c?(0,sr.jsxs)("div",{className:"button-stack",children:[(0,sr.jsx)(bo,{type:"button",onClick:()=>a(n),className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-success command-btn save-btn stacked-btn",title:d?"Add this field":"Save changes",children:"Save"}),(0,sr.jsx)(bo,{type:"button",onClick:d?()=>l(n):s,className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base command-btn cancel-btn stacked-btn",title:d?"Remove this field":"Cancel editing",children:"Cancel"})]}):(0,sr.jsxs)("div",{className:"button-stack",children:[(0,sr.jsx)(bo,{type:"button",onClick:()=>r(n),className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary command-btn edit-btn stacked-btn",title:"Edit this field",children:"Edit"}),(0,sr.jsx)(bo,{type:"button",onClick:()=>l(n),className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-danger command-btn delete-btn stacked-btn",title:"Remove this field",children:"Delete"})]})})})},G=e=>{const{validationMessage:n,visited:i,name:r}=e,[a,s]=(0,o.useState)(void 0),l=(0,o.useRef)(void 0),c=(0,o.useCallback)((t,n,o)=>{const i=e.value[t];e.onReplace({index:t,value:p(p({},i),{},{[n]:o})})},[e]),d=(0,o.useCallback)(t=>{if(t.preventDefault(),void 0!==a)return;if(1===e.value.length){const t=e.value[0];if(!t.fieldLabel&&!t.fieldName)return void s(0)}e.value.length>0&&Math.max(...e.value.map(e=>parseInt(e.id)||0));e.onUnshift({value:{id:0,fieldName:"",fieldLabel:"",fieldType:"Input",isRequired:!1,isDisabled:!1,displayOrder:e.value.length+1,source:""}}),s(0)},[e,a]),u=(0,o.useCallback)(t=>{e.onRemove({index:t[q_]}),s(void 0),l.current=void 0},[e]),h=(0,o.useCallback)(e=>{l.current=vr(e),s(e[q_])},[]),m=(0,o.useCallback)(()=>{l.current&&e.onReplace({index:l.current[q_],value:l.current}),l.current=void 0,s(void 0)},[e]),f=(0,o.useCallback)(t=>{const n=t[q_],o=e.value[n];if(!o.fieldLabel||!o.fieldLabel.trim())return void alert("Field Label is required and cannot be empty");if(!o.fieldName||!o.fieldName.trim())return void alert("Field Name is required and cannot be empty");if(!o.fieldType||""===o.fieldType)return void alert("Field Type selection is required");if(!o.displayOrder||o.displayOrder<1)return void alert("Display Order is required and must be a positive number");if(e.value.find((e,t)=>t!==n&&e.fieldName===o.fieldName))alert("Field name already exists. Please use a unique field name.");else{if(0===o.id){const t=e.value.length>0?Math.max(...e.value.map(e=>parseInt(e.id)||0))+1:1;e.onReplace({index:n,value:p(p({},o),{},{id:t})})}s(void 0),l.current=void 0}},[e]),g=e.value.map((e,t)=>p(p({},e),{},{[q_]:t}));return(0,sr.jsxs)(H_.Provider,{value:{onCancel:m,onEdit:h,onRemove:u,onSave:f,onUpdateField:c,editIndex:a,parentField:r},children:[(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Add Custom Fields"})}),"view"!==t&&(0,sr.jsx)("div",{className:"add-field-container",children:(0,sr.jsxs)(bo,{onClick:d,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary add-field-btn",children:[(0,sr.jsx)(Ji,{})," Add Field"]})}),i&&n&&(0,sr.jsx)("div",{className:"k-form-error custom-fields-error",children:n})]}),(0,sr.jsx)("div",{className:"custom-fields-grid-container",children:(0,sr.jsxs)(Fj,{data:g,dataItemKey:U_,className:"custom-fields-grid",children:[(0,sr.jsx)(zy,{field:"fieldLabel",title:"Field Label",width:"180px",cells:{data:P}}),(0,sr.jsx)(zy,{field:"fieldName",title:"Field Name",width:"180px",cells:{data:M}}),(0,sr.jsx)(zy,{field:"fieldType",title:"Field Type",width:"200px",cells:{data:O}}),(0,sr.jsx)(zy,{field:"isRequired",title:"Required",width:"80px",cells:{data:R}}),(0,sr.jsx)(zy,{field:"isDisabled",title:"Disabled",width:"80px",cells:{data:L}}),(0,sr.jsx)(zy,{field:"displayOrder",title:"Order",width:"70px",cells:{data:F}}),(0,sr.jsx)(zy,{field:"source",title:"Source",width:"180px",cells:{data:z}}),"view"!==t&&(0,sr.jsx)(zy,{width:"90px",cells:{data:U}})]})})]})},W=e=>{const{validationMessage:n,visited:i,name:r}=e,[a,s]=(0,o.useState)(void 0),l=(0,o.useRef)(void 0),c=(0,o.useCallback)((t,n,o)=>{const i=e.value[t];e.onReplace({index:t,value:p(p({},i),{},{[n]:o})})},[e]),d=(0,o.useCallback)(t=>{if(t.preventDefault(),void 0!==a)return;if(1===e.value.length){const t=e.value[0];if(!t.reason&&!t.accountId)return void s(0)}e.value.length>0&&Math.max(...e.value.map(e=>parseInt(e.id)||0));e.onUnshift({value:{id:0,reason:"",accountId:""}}),s(0)},[e,a]),u=(0,o.useCallback)(t=>{e.onRemove({index:t[q_]}),s(void 0),l.current=void 0},[e]),h=(0,o.useCallback)(e=>{l.current=vr(e),s(e[q_])},[]),m=(0,o.useCallback)(()=>{l.current&&e.onReplace({index:l.current[q_],value:l.current}),l.current=void 0,s(void 0)},[e]),f=(0,o.useCallback)(t=>{const n=t[q_],o=e.value[n];if(o.reason&&o.reason.trim())if(o.accountId&&""!==o.accountId){if(0===o.id){const t=e.value.length>0?Math.max(...e.value.map(e=>parseInt(e.id)||0))+1:1;e.onReplace({index:n,value:p(p({},o),{},{id:t})})}s(void 0),l.current=void 0}else alert("Account selection is required");else alert("Reason is required and cannot be empty")},[e]),g=e.value.map((e,t)=>p(p({},e),{},{[q_]:t}));return(0,sr.jsxs)(H_.Provider,{value:{onCancel:m,onEdit:h,onRemove:u,onSave:f,onUpdateReason:c,editIndex:a,parentField:r},children:[(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Add Reasons"})}),"view"!==t&&(0,sr.jsx)("div",{className:"add-field-container",children:(0,sr.jsxs)(bo,{onClick:d,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary add-field-btn",children:[(0,sr.jsx)(Ji,{})," Add Reason"]})}),i&&n&&(0,sr.jsx)("div",{className:"k-form-error custom-fields-error",children:n})]}),(0,sr.jsx)("div",{className:"custom-fields-grid-container",children:(0,sr.jsxs)(Fj,{data:g,dataItemKey:U_,className:"custom-fields-grid",children:[(0,sr.jsx)(zy,{field:"srNo",title:"Sr No",width:"80px",cells:{data:B}}),(0,sr.jsx)(zy,{field:"reason",title:"Reason",width:"300px",cells:{data:V}}),(0,sr.jsx)(zy,{field:"accountId",title:"Account",width:"300px",cells:{data:H}}),"view"!==t&&(0,sr.jsx)(zy,{width:"90px",cells:{data:q}})]})})]})};return(0,sr.jsxs)("div",{className:"form-container",children:[(0,sr.jsx)(ay,{children:r.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:r.type,icon:!0},closable:!0,onClose:()=>a({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:r.message})})})}),(0,sr.jsx)("div",{className:"form-header",children:(0,sr.jsx)("h2",{children:"view"===t?"View Form":"edit"===t?"Edit Form":"Create New Form"})}),d||!h?(0,sr.jsx)("div",{className:"loading-container",children:(0,sr.jsx)("div",{className:"loading-spinner",children:"Loading form data..."})}):(0,sr.jsx)(la,{initialValues:v,validator:e=>{const t={};return e.formName||(t.formName="Form Name is required"),e.recordType||(t.recordType="Record Type is required"),t},onSubmit:async e=>{try{if(c(!0),"new"===t)try{if(await(async(e,t)=>{try{console.log("Checking form name:",e,"for type:",t);const n=hr("/form/check-name-exists?formName=".concat(encodeURIComponent(e),"&typeOfRecord=").concat(t));console.log("API URL:",n);const o=await fetch(n);if(console.log("Response status:",o.status),!o.ok){const e=await o.text();throw console.error("API Error:",o.status,e),new Error("Failed to check form name existence: ".concat(o.status," - ").concat(e))}const i=await o.json();return console.log("Form name check result:",i),i}catch(n){throw console.error("Error checking form name:",n),n}})(e.formName,e.recordType))return void alert("Form Name already exists for this Type of Record");if(await(async(e,t)=>{try{console.log("Checking prefix:",e,"for type:",t);const n=hr("/form/check-prefix-exists?prefix=".concat(encodeURIComponent(e),"&typeOfRecord=").concat(t));console.log("API URL:",n);const o=await fetch(n);if(console.log("Response status:",o.status),!o.ok){const e=await o.text();throw console.error("API Error:",o.status,e),new Error("Failed to check prefix existence: ".concat(o.status," - ").concat(e))}const i=await o.json();return console.log("Prefix check result:",i),i}catch(n){throw console.error("Error checking prefix:",n),n}})(e.prefix,e.recordType))return void alert("Prefix already exists for this Type of Record")}catch(o){return console.error("Validation error:",o),void A("Error checking form name or prefix. Please try again.","error")}let r=e.isDefault;try{const n=await(async e=>{try{console.log("Checking for existing default form for type:",e);const t=hr("/form/default-form-id/".concat(e));console.log("API URL:",t);const n=await fetch(t);if(console.log("Response status:",n.status),!n.ok){if(404===n.status)return null;const e=await n.text();throw console.error("API Error:",n.status,e),new Error("Failed to check default form: ".concat(n.status," - ").concat(e))}const o=await n.text();return console.log("Default form ID result:",o),(o?o.replace(/^"|"$/g,"").trim():null)||null}catch(o){throw console.error("Error checking default form:",o),o}})(e.recordType);e.isDefault?n&&("edit"===t&&n===i?console.log("Current form is already the default, no change needed"):(await(async(e,t)=>{try{console.log("Updating form default status:",e,"to:",t);const n=hr("/form/".concat(e,"/is-default"));console.log("API URL:",n);const o=await fetch(n,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isDefault:t})});if(console.log("Response status:",o.status),!o.ok){const e=await o.text();throw console.error("API Error:",o.status,e),new Error("Failed to update default status: ".concat(o.status," - ").concat(e))}return console.log("Form default status updated successfully"),!0}catch(o){throw console.error("Error updating form default status:",o),o}})(n,!1),console.log("Previous default form updated to false"))):"edit"===t||n||(r=!0,console.log("No existing default form found, automatically setting this form as default"),A("This form has been automatically set as the default for this record type.","info"))}catch(o){return console.error("Error handling default form logic:",o),void A("Error updating default form status. Please try again.","error")}if("edit"===t){const t={formName:e.formName,typeOfRecord:e.recordType,prefix:e.prefix,accountReceivable:e.accountReceivable,undepositedFunds:e.undepositedFunds,clearingGRNI:e.clearingGRNI,clearingSRNI:e.clearingSRNI,clearingVAT:e.clearingVAT,accountPayable:e.accountPayable,formType:e.formType,clearing:e.clearing,accuredTax:e.accuredTax,accuredAR:e.accuredAR,discountOnTax:e.discountOnTax,inactive:e.inactive,isDefault:r,reasons:JSON.stringify(e.reasons||[])},o=_(t),a=await fetch(hr("".concat(pr.endpoints.forms,"/").concat(i)),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!a.ok){const e=await a.text();throw new Error("Failed to update form: ".concat(a.status," - ").concat(e))}if(e.customFields&&e.customFields.length>0){const t=await fetch(hr(pr.endpoints.customFormFieldByForm(i)),{method:"GET",headers:{"Content-Type":"application/json"}});let n=[];t.ok&&(n=await t.json(),Array.isArray(n)||(n=[]));const o=new Map;n.forEach(e=>{o.set(e.fieldName,e)});const r=new Map;e.customFields.forEach(e=>{r.set(e.fieldName,e)});const a=[],s=[],l=[];e.customFields.forEach(e=>{const t=o.get(e.fieldName);if(t){(t.fieldLabel!==e.fieldLabel||t.isRequired!==e.isRequired||t.isDisabled!==e.isDisabled||t.fieldType!==e.fieldType||t.fieldSource!==(e.source||"")||t.displayOrder!==e.displayOrder)&&a.push({existingField:t,newField:e})}else s.push(e)}),n.forEach(e=>{r.has(e.fieldName)||l.push(e)});const c=a.map(e=>{let{existingField:t,newField:n}=e;const o={fieldName:n.fieldName,fieldLabel:n.fieldLabel,isRequired:n.isRequired,isDisabled:n.isDisabled,fieldType:n.fieldType,fieldSource:n.source||"",displayOrder:n.displayOrder,formId:i};return fetch(hr("".concat(pr.endpoints.customFormField,"/").concat(t.id)),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})}),d=s.map(e=>{const t={fieldName:e.fieldName,fieldLabel:e.fieldLabel,isRequired:e.isRequired,isDisabled:e.isDisabled,fieldType:e.fieldType,fieldSource:e.source||"",displayOrder:e.displayOrder,formId:i};return fetch(hr(pr.endpoints.customFormField),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}),u=l.map(e=>fetch(hr("".concat(pr.endpoints.customFormField,"/").concat(e.id)),{method:"DELETE",headers:{"Content-Type":"application/json"}})),p=[...c,...d,...u],h=await Promise.all(p),m=h.filter(e=>!e.ok);if(m.length>0)throw new Error("Some field operations failed. ".concat(m.length," out of ").concat(h.length," operations failed."));A("Form updated successfully. ".concat(a.length," fields updated, ").concat(s.length," fields created, ").concat(l.length," fields deleted."),"success")}else{const e=await fetch(hr(pr.endpoints.customFormFieldByForm(i)),{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();if(Array.isArray(t)&&t.length>0){const e=t.map(e=>fetch(hr("".concat(pr.endpoints.customFormField,"/").concat(e.id)),{method:"DELETE",headers:{"Content-Type":"application/json"}})),n=(await Promise.all(e)).filter(e=>!e.ok);if(n.length>0)throw new Error("Failed to delete ".concat(n.length," existing custom fields"));A("Form updated successfully. ".concat(t.length," custom fields removed."),"success")}else A("Form updated successfully","success")}else A("Form updated successfully","success")}n("/forms")}else{const t={formName:e.formName,typeOfRecord:e.recordType,prefix:e.prefix,accountReceivable:e.accountReceivable,undepositedFunds:e.undepositedFunds,clearingGRNI:e.clearingGRNI,clearingSRNI:e.clearingSRNI,clearingVAT:e.clearingVAT,accountPayable:e.accountPayable,formType:e.formType,clearing:e.clearing,accuredTax:e.accuredTax,accuredAR:e.accuredAR,discountOnTax:e.discountOnTax,inactive:e.inactive,isDefault:r,reasons:JSON.stringify(e.reasons||[])},o=_(t);console.log(JSON.stringify(o));const i=await fetch(hr(pr.endpoints.forms),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!i.ok){const e=await i.text();throw new Error("Failed to create form: ".concat(i.status," - ").concat(e))}const a=await i.json();let s;if("string"===typeof a?s=a:"object"===typeof a&&(s=a.id||a.formId||a.Id||a.FormId),!s)throw new Error("Form was created but no ID was returned from the server");if(e.customFields&&e.customFields.length>0){const t=e.customFields.map(e=>{const t={fieldName:e.fieldName,fieldLabel:e.fieldLabel,isRequired:e.isRequired,isDisabled:e.isDisabled,fieldType:e.fieldType,fieldSource:e.source||"",displayOrder:e.displayOrder,formId:s};return fetch(hr(pr.endpoints.customFormField),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}),n=await Promise.all(t);for(let e=0;e<n.length;e++){const t=n[e];if(!t.ok){const n=await t.text();throw new Error("Failed to create custom field ".concat(e+1,": ").concat(t.status," - ").concat(n))}}}const l={formId:s,formSequenceNumber:0},c=await fetch(hr(pr.endpoints.formSequence),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!c.ok){const e=await c.text();throw new Error("Failed to create form sequence: ".concat(c.status," - ").concat(e))}A("Form created successfully with all custom fields","success"),n("/forms")}}catch(r){A(r.message||"Failed to save form","error")}finally{c(!1)}},render:e=>(0,sr.jsxs)(ma,{children:[(0,sr.jsxs)("div",{className:"form-grid",children:[(0,sr.jsx)("div",{className:"form-field",style:{gridColumn:"1 / -1",marginBottom:"5px"},children:(0,sr.jsx)(gr,{id:"inactive",name:"inactive",component:ju,label:(0,sr.jsx)("b",{children:" Inactive"})})}),(0,sr.jsx)("div",{className:"form-field",style:{gridColumn:"1 / -1",marginBottom:"5px"},children:(0,sr.jsx)(gr,{id:"isDefault",name:"isDefault",component:ju,label:(0,sr.jsx)("b",{children:" Is Default"})})}),(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Form Name *"}),(0,sr.jsx)(gr,{id:"formName",name:"formName",component:N,validator:G_})]}),(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Record Type *"}),(0,sr.jsx)(gr,{id:"recordType",name:"recordType",component:T,data:k,validator:G_})]}),(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Prefix"}),(0,sr.jsx)(gr,{id:"prefix",name:"prefix",component:N})]}),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find(e=>e.value===n);if(!o)return!1;const i=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"",r=i.includes("invoice"),a=i.includes("debitmemo")||i.includes("debit memo"),s=i.includes("customerpayment")||i.includes("customer payment"),l=i.includes("creditmemo")||i.includes("credit memo");return r||a||s||l})()&&(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Account Receivable *"}),(0,sr.jsx)(gr,{id:"accountReceivable",name:"accountReceivable",component:T,data:S?S.map(e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id})):[],validator:G_})]}),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find(e=>e.value===n);if(!o)return!1;const i=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"";return i.includes("customerpayment")||i.includes("customer payment")})()&&(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Undeposited Funds *"}),(0,sr.jsx)(gr,{id:"undepositedFunds",name:"undepositedFunds",component:T,data:S?S.map(e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id})):[],validator:G_})]}),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find(e=>e.value===n);if(!o)return!1;const i=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"";return i.includes("itemreceipt")||i.includes("item receipt")})()&&(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Clearing (GRNI) *"}),(0,sr.jsx)(gr,{id:"clearingGRNI",name:"clearingGRNI",component:T,data:S?S.map(e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id})):[],validator:G_})]}),(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Clearing (SRNI) *"}),(0,sr.jsx)(gr,{id:"clearingSRNI",name:"clearingSRNI",component:T,data:S?S.map(e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id})):[],validator:G_})]}),(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Clearing VAT *"}),(0,sr.jsx)(gr,{id:"clearingVAT",name:"clearingVAT",component:T,data:S?S.map(e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id})):[],validator:G_})]})]}),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find(e=>e.value===n);if(!o)return!1;const i=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"";return i.includes("vendorbill")||i.includes("vendor bill")})()&&(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Clearing (GRNI) *"}),(0,sr.jsx)(gr,{id:"clearingGRNI",name:"clearingGRNI",component:T,data:S?S.map(e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id})):[],validator:G_})]}),(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Clearing (SRNI) *"}),(0,sr.jsx)(gr,{id:"clearingSRNI",name:"clearingSRNI",component:T,data:S?S.map(e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id})):[],validator:G_})]}),(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Clearing VAT *"}),(0,sr.jsx)(gr,{id:"clearingVAT",name:"clearingVAT",component:T,data:S?S.map(e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id})):[],validator:G_})]}),(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Account Payable *"}),(0,sr.jsx)(gr,{id:"accountPayable",name:"accountPayable",component:T,data:S?S.map(e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id})):[],validator:G_})]})]}),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find(e=>e.value===n);if(!o)return!1;const i=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"",r=i.includes("vendorpayment")||i.includes("vendor payment"),a=i.includes("vendorcredit")||i.includes("vendor credit");return r||a})()&&(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Account Payable *"}),(0,sr.jsx)(gr,{id:"accountPayable",name:"accountPayable",component:T,data:S?S.map(e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id})):[],validator:G_})]}),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find(e=>e.value===n);if(!o)return!1;const i=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"",r=i.includes("invoice"),a=i.includes("itemfulfillment")||i.includes("item fulfillment");return r||a})()&&(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Form Type *"}),(0,sr.jsx)(gr,{id:"formType",name:"formType",component:T,data:E?E.map(e=>({text:e.name||e.typeName||e.formSourceTypeName||"Form Source Type ".concat(e.id),value:e.id})):[],validator:G_})]}),((t,n,o)=>{const i=e.valueGetter("recordType"),r=e.valueGetter("formType");if(!i||!r)return null;const a=k.find(e=>e.value===i);if(!a)return null;const s=(null===(t=a.text)||void 0===t?void 0:t.toLowerCase())||"",l=s.includes("invoice"),c=s.includes("itemfulfillment")||s.includes("item fulfillment");if(!l&&!c)return null;const d=null===E||void 0===E?void 0:E.find(e=>e.id===r),u=(null===d||void 0===d||null===(n=d.name)||void 0===n?void 0:n.toLowerCase())||(null===d||void 0===d||null===(o=d.typeName)||void 0===o?void 0:o.toLowerCase())||"",p=u.includes("expense clearing"),h=u.includes("gaap")&&!u.includes("discount"),m=u.includes("gaap")&&u.includes("discount"),f=S?S.map(e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id})):[];return(0,sr.jsxs)(sr.Fragment,{children:[p&&(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Clearing Acc *"}),(0,sr.jsx)(gr,{id:"clearing",name:"clearing",component:T,data:f,validator:G_})]}),(h||m)&&(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Accrued Tax *"}),(0,sr.jsx)(gr,{id:"accuredTax",name:"accuredTax",component:T,data:f,validator:G_})]}),(h||m)&&(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Accrued AR *"}),(0,sr.jsx)(gr,{id:"accuredAR",name:"accuredAR",component:T,data:f,validator:G_})]}),m&&(0,sr.jsxs)("div",{className:"form-field",children:[(0,sr.jsx)("label",{className:"field-label",children:"Discount Account *"}),(0,sr.jsx)(gr,{id:"discountOnTax",name:"discountOnTax",component:T,data:f,validator:G_})]})]})})(),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find(e=>e.value===n);if(!o)return!1;const i=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"",r=i.includes("inventoryadjustment")||i.includes("inventory adjustment"),a=i.includes("inventorytransfer")||i.includes("inventory transfer");return r||a})()&&(0,sr.jsx)("div",{className:"order-items-field",children:(0,sr.jsx)(Fy,{name:"reasons",component:W,dataItemKey:U_})}),(0,sr.jsx)("div",{className:"order-items-field",children:(0,sr.jsx)(Fy,{name:"customFields",component:G,dataItemKey:U_})})]}),(0,sr.jsxs)("div",{className:"form-actions",children:[(0,sr.jsxs)(bo,{type:"button",onClick:()=>{return e=()=>n("/forms"),void(x()?window.confirm("You have incomplete fields that will be lost. Are you sure you want to continue?")&&e():e());var e},className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",children:[(0,sr.jsx)(tr,{})," ","view"===t?"Back":"Cancel"]}),"edit"===t&&(0,sr.jsxs)(bo,{type:"button",onClick:D,disabled:l,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-danger",children:[(0,sr.jsx)(nr,{})," ",l?"Deleting...":"Delete Form"]}),"view"!==t&&(0,sr.jsxs)(bo,{type:"submit",disabled:l||!e.allowSubmit,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Qi,{})," ",l?"Saving...":"edit"===t?"Update Form":"Save Form"]})]})]})},"form-".concat(t,"-").concat(i||"new","-").concat(h)),(0,sr.jsx)("style",{children:'\n        .form-container {\n          background: white;\n          border-radius: 4px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          padding: 16px;\n          margin: 16px;\n        }\n\n        .form-header {\n          margin-bottom: 16px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .form-header h2 {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.25rem;\n          font-weight: 600;\n        }\n\n        .loading-container {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          min-height: 200px;\n        }\n\n        .loading-spinner {\n          color: #4a5568;\n          font-size: 16px;\n          font-weight: 500;\n        }\n\n        .form-grid {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n\n        .form-field {\n          margin-bottom: 16px;\n        }\n\n        .field-label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 500;\n          color: #4a5568;\n          font-size: 14px;\n        }\n\n        .k-form-field > .k-label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 500;\n          color: #4a5568;\n          font-size: 14px;\n        }\n\n        .k-textbox,\n        .k-textarea,\n        .k-datepicker,\n        .k-dropdownlist {\n          width: 100%;\n          font-size: 14px;\n        }\n\n        .k-input, \n        .k-textarea {\n          font-size: 14px;\n          padding: 8px 12px;\n        }\n\n        .k-input:disabled,\n        .k-textbox:disabled {\n          background-color: #f5f5f5 !important;\n          color: #666 !important;\n          cursor: not-allowed !important;\n          opacity: 0.7;\n        }\n\n        .order-items-field {\n          grid-column: span 3;\n          margin-top: 16px;\n        }\n\n        .form-actions {\n          display: flex;\n          justify-content: flex-end;\n          gap: 8px;\n          padding-top: 16px;\n          margin-top: 8px;\n          border-top: 1px solid #e2e8f0;\n        }\n\n        .k-button {\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 12px;\n          font-size: 13px;\n          font-weight: 500;\n        }\n\n        .k-button svg {\n          font-size: 13px;\n        }\n\n        .notification-container {\n          position: fixed;\n          right: 12px;\n          top: 12px;\n          z-index: 9999;\n          min-width: 280px;\n        }\n\n        .k-form-error {\n          color: #e53e3e;\n          font-size: 12px;\n          margin-top: 4px;\n        }\n\n        /* Form Section Styling - Matching MasterDataForm */\n        .form-section {\n          margin-bottom: 20px;\n        }\n\n        .section-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 12px;\n          padding: 12px 16px;\n          background: linear-gradient(135deg, #f8f9ff 0%, #e8eeff 100%);\n          border-radius: 6px;\n          border-left: 4px solid #667eea;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n        }\n\n        .section-title {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.1rem;\n          font-weight: 600;\n        }\n\n        .add-field-container {\n          margin-bottom: 16px;\n          padding-left: 4px;\n        }\n\n        .add-field-btn {\n          background: #10b981 !important;\n          border-color: #10b981 !important;\n          color: white !important;\n          font-weight: 600 !important;\n          padding: 8px 16px !important;\n          border-radius: 6px !important;\n          transition: all 0.2s ease !important;\n          display: flex !important;\n          align-items: center !important;\n          gap: 6px !important;\n        }\n\n        .add-field-btn:hover {\n          background: #059669 !important;\n          border-color: #059669 !important;\n          transform: translateY(-1px);\n          box-shadow: 0 4px 8px rgba(16, 185, 129, 0.3);\n        }\n\n        .custom-fields-error {\n          color: #e53e3e;\n          font-size: 12px;\n          margin-top: 8px;\n          padding: 8px 12px;\n          background: #fed7d7;\n          border: 1px solid #feb2b2;\n          border-radius: 4px;\n        }\n\n        .custom-fields-grid-container {\n          background: white;\n          border-radius: 8px;\n          border: 1px solid #e2e8f0;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          overflow: hidden;\n        }\n\n        .custom-fields-grid {\n          border: none !important;\n          border-radius: 0 !important;\n        }\n\n        .custom-fields-grid .k-grid-header {\n          background: #f8fafc !important;\n          border-bottom: 2px solid #e2e8f0 !important;\n        }\n\n        .custom-fields-grid .k-grid-header th {\n          font-weight: 600 !important;\n          color: #4a5568 !important;\n          text-transform: uppercase !important;\n          font-size: 11px !important;\n          letter-spacing: 0.05em !important;\n          padding: 12px 8px !important;\n          border-right: 1px solid #e2e8f0 !important;\n        }\n\n        .custom-fields-grid .k-grid-header th:last-child {\n          border-right: none !important;\n        }\n\n        .custom-fields-grid td {\n          padding: 8px !important;\n          border-right: 1px solid #f1f5f9 !important;\n          border-bottom: 1px solid #f1f5f9 !important;\n          vertical-align: middle !important;\n        }\n\n        .custom-fields-grid td:last-child {\n          border-right: none !important;\n        }\n\n        .custom-fields-grid .k-grid-content tr:hover {\n          background-color: #f8fafc !important;\n        }\n\n        /* Grid specific styles for consistent field sizing */\n        .custom-fields-grid .k-textbox,\n        .custom-fields-grid .k-dropdownlist,\n        .custom-fields-grid input[type="number"],\n        .custom-fields-grid input[type="checkbox"] {\n          height: 32px !important;\n          font-size: 13px !important;\n          padding: 6px 8px !important;\n          border: 1px solid #d1d5db !important;\n          border-radius: 4px !important;\n          width: 100% !important;\n          box-sizing: border-box !important;\n          transition: border-color 0.2s ease, box-shadow 0.2s ease;\n        }\n\n        .custom-fields-grid .k-textbox:focus,\n        .custom-fields-grid .k-dropdownlist:focus-within,\n        .custom-fields-grid input[type="number"]:focus {\n          border-color: #3b82f6 !important;\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;\n          outline: none !important;\n        }\n\n        .custom-fields-grid .k-dropdownlist {\n          height: auto !important;\n          min-width: 150px !important;\n        }\n        \n        .custom-fields-grid .k-dropdownlist .k-input {\n          height: 32px !important;\n          padding: 6px 8px !important;\n          font-size: 13px !important;\n          line-height: 1.4 !important;\n          box-sizing: border-box !important;\n        }\n        \n        .custom-fields-grid .k-dropdownlist .k-select {\n          height: 30px !important;\n          line-height: 30px !important;\n          border: none !important;\n        }\n        \n        /* Ensure dropdown popup is fully visible */\n        .field-type-dropdown-popup {\n          z-index: 10000 !important;\n          min-width: 200px !important;\n        }\n        \n        /* Ensure the dropdown arrow is properly aligned */\n        .custom-fields-grid .k-dropdown-wrap {\n          display: flex !important;\n          align-items: center !important;\n        }\n\n        /* Field Type Dropdown Specific Styling */\n        .field-type-dropdown {\n          min-width: 120px !important;\n        }\n\n        .field-type-dropdown .k-dropdown-wrap {\n          height: 32px !important;\n          border: 1px solid #d1d5db !important;\n          border-radius: 4px !important;\n          background: white !important;\n        }\n\n        .field-type-dropdown .k-dropdown-wrap:hover {\n          border-color: #9ca3af !important;\n        }\n\n        .field-type-dropdown .k-dropdown-wrap.k-state-focused {\n          border-color: #3b82f6 !important;\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;\n        }\n\n        .field-type-display {\n          font-size: 13px;\n          color: #374151;\n          font-weight: 500;\n        }\n\n        .custom-fields-grid input[type="checkbox"] {\n          width: 18px !important;\n          height: 18px !important;\n          margin: 0 auto !important;\n          display: block !important;\n          cursor: pointer !important;\n        }\n\n        /* Command Cell Container */\n        .command-cell-container {\n          display: flex;\n          flex-direction: row;\n          gap: 2px;\n          justify-content: center;\n          align-items: center;\n          min-height: 32px;\n          width: 100%;\n          padding: 1px;\n        }\n        \n        .button-stack {\n          display: flex;\n          flex-direction: row;\n          gap: 2px;\n          width: 100%;\n          align-items: center;\n          justify-content: center;\n        }\n\n        /* Command Button Base Styles */\n        .command-btn {\n          height: 22px !important;\n          padding: 2px 6px !important;\n          font-size: 10px !important;\n          font-weight: 500 !important;\n          border-radius: 3px !important;\n          cursor: pointer !important;\n          transition: all 0.2s ease !important;\n          text-align: center !important;\n          display: inline-flex !important;\n          align-items: center !important;\n          justify-content: center !important;\n          flex-shrink: 0 !important;\n          white-space: nowrap !important;\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) !important;\n          margin: 0 !important;\n        }\n        \n        .stacked-btn {\n          width: 42px !important;\n          max-width: 42px !important;\n          min-width: 42px !important;\n        }\n\n        /* Save Button - Green */\n        .save-btn {\n          background: #16a34a !important;\n          color: white !important;\n          border-color: #15803d !important;\n        }\n\n        .save-btn:hover {\n          background: #15803d !important;\n          transform: translateY(-1px) !important;\n          box-shadow: 0 2px 6px rgba(22, 163, 74, 0.25) !important;\n        }\n\n        .save-btn:active {\n          transform: translateY(0) !important;\n          box-shadow: 0 1px 2px rgba(22, 163, 74, 0.2) !important;\n        }\n\n        /* Cancel Button - Gray */\n        .cancel-btn {\n          background: #64748b !important;\n          color: white !important;\n          border-color: #475569 !important;\n        }\n\n        .cancel-btn:hover {\n          background: #475569 !important;\n          transform: translateY(-1px) !important;\n          box-shadow: 0 2px 6px rgba(100, 116, 139, 0.25) !important;\n        }\n\n        .cancel-btn:active {\n          transform: translateY(0) !important;\n          box-shadow: 0 1px 2px rgba(100, 116, 139, 0.2) !important;\n        }\n\n        /* Edit Button - Primary Blue */\n        .edit-btn.k-button-solid-primary {\n          background: #3b82f6 !important;\n          border-color: #2563eb !important;\n          color: white !important;\n        }\n\n        .edit-btn.k-button-solid-primary:hover {\n          background: #2563eb !important;\n          border-color: #1d4ed8 !important;\n          transform: translateY(-1px) !important;\n          box-shadow: 0 2px 6px rgba(59, 130, 246, 0.3) !important;\n        }\n\n        .edit-btn.k-button-solid-primary:active {\n          transform: translateY(0) !important;\n          box-shadow: 0 1px 2px rgba(59, 130, 246, 0.2) !important;\n        }\n\n        /* Delete Button - Danger Red */\n        .delete-btn.k-button-solid-danger {\n          background: #ef4444 !important;\n          border-color: #dc2626 !important;\n          color: white !important;\n        }\n\n        .delete-btn.k-button-solid-danger:hover {\n          background: #dc2626 !important;\n          border-color: #b91c1c !important;\n          transform: translateY(-1px) !important;\n          box-shadow: 0 2px 6px rgba(239, 68, 68, 0.3) !important;\n        }\n\n        .delete-btn.k-button-solid-danger:active {\n          transform: translateY(0) !important;\n          box-shadow: 0 1px 2px rgba(239, 68, 68, 0.2) !important;\n        }\n\n        /* Button Focus States */\n        .command-btn:focus {\n          outline: 2px solid transparent !important;\n          outline-offset: 2px !important;\n        }\n\n        .save-btn:focus {\n          box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.3) !important;\n        }\n\n        .cancel-btn:focus {\n          box-shadow: 0 0 0 3px rgba(107, 114, 128, 0.3) !important;\n        }\n\n        .edit-btn:focus {\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3) !important;\n        }\n\n        .delete-btn:focus {\n          box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.3) !important;\n        }\n\n        /* Hide number input spinners */\n        .custom-fields-grid input[type="number"]::-webkit-outer-spin-button,\n        .custom-fields-grid input[type="number"]::-webkit-inner-spin-button {\n          -webkit-appearance: none !important;\n          margin: 0 !important;\n        }\n\n        .custom-fields-grid input[type="number"] {\n          -moz-appearance: textfield !important;\n        }\n\n        /* Center align specific columns */\n        .custom-fields-grid td:nth-child(4),\n        .custom-fields-grid td:nth-child(5),\n        .custom-fields-grid td:nth-child(6) {\n          text-align: center !important;\n        }\n\n        .custom-fields-grid th:nth-child(4),\n        .custom-fields-grid th:nth-child(5),\n        .custom-fields-grid th:nth-child(6) {\n          text-align: center !important;\n        }\n\n        @media (max-width: 768px) {\n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .order-items-field {\n            grid-column: span 1;\n          }\n\n          .form-container {\n            margin: 12px;\n            padding: 12px;\n          }\n        }\n      '})]})},K_=["validationMessage","visited","label"],Y_=e=>{const t={};return Object.keys(e).forEach(n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)}),t},X_=o.createContext({}),J_="itemDataIndex",Q_="id",Z_=o.memo(e=>{let{recordType:t,mode:n="new",embedded:i=!1,selectedLocation:r,toLocation:a,selectedFormId:l}=e;console.log("DEBUG InventoryItems: Received selectedLocation prop:",r),console.log("DEBUG InventoryItems: Received toLocation prop:",a);const c=ve(),{id:d}=ye(),{loading:u,error:h,fetchFormConfiguration:m}=cy(),{getQuantityAvailable:f,getProductStandardCost:g,createOrUpdateInventoryDetail:v}=Ry(),[y,x]=(0,o.useState)({show:!1,message:"",type:"success"}),[b,w]=(0,o.useState)(!1),[k,C]=(0,o.useState)(!1),[S,I]=(0,o.useState)(null),[E,j]=(0,o.useState)(null),[A,_]=(0,o.useState)({}),[D,N]=(0,o.useState)({}),[T,P]=(0,o.useState)(!1),M={InventoryAdjustment:"/inventory-adjustment",InventoryTransfer:"/inventory-transfer"},O=(0,o.useCallback)(e=>{switch(e){case"InventoryAdjustment":return{title:"Adjustment Items",fields:["itemID","quantityInHand","quantityAdjusted","rate","totalAmount"]};case"InventoryTransfer":return{title:"Transfer Items",fields:["itemID","quantityInHand","quantityTransfer","rate","totalAmount"]};default:return{title:"Items",fields:["itemID","quantityInHand","quantity","rate","totalAmount"]}}},[]),R=(0,o.useCallback)(async(e,t)=>{try{const n=await fetch(hr(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return await n.json()||[]}catch(n){return n.name,[]}},[]),L=(0,o.useCallback)(async e=>{const n={InventoryAdjustment:{endpoint:hr(pr.endpoints.inventoryAdjustmentLineByAdjustment(e)),idField:"adjustmentId"},InventoryTransfer:{endpoint:hr(pr.endpoints.inventoryTransferLineByTransfer(e)),idField:"transferId"}}[t];if(!n)throw new Error("Unsupported record type: ".concat(t));try{const e=await fetch(n.endpoint,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){if(404===e.status)return[];throw new Error("Failed to load transaction items: ".concat(e.status))}const o=await e.json();console.log("DEBUG: Raw API response:",o),console.log("DEBUG: Type of data:",typeof o),console.log("DEBUG: Is data array?",Array.isArray(o)),console.log("DEBUG: data.results:",o.results),console.log("DEBUG: Type of data.results:",typeof o.results),console.log("DEBUG: Is data.results array?",Array.isArray(o.results));let i=[];if(Array.isArray(o))i=o;else if(o&&Array.isArray(o.results))i=o.results;else if(o&&"object"===typeof o){const e=Object.values(o).filter(e=>Array.isArray(e));e.length>0&&(i=e[0])}return console.log("DEBUG: Final items array:",i),console.log("DEBUG: Items length:",i.length),console.log("DEBUG: Is items array?",Array.isArray(i)),i.map((e,n)=>({id:n+1,itemID:e.itemID||"",quantityInHand:e.quantityInHand||0,quantityAdjusted:"InventoryAdjustment"===t?e.quantityAdjusted:void 0,quantityTransfer:"InventoryTransfer"===t?e.quantityTransfer:void 0,rate:e.rate||0,totalAmount:e.totalAmount||0,reason:e.reason||""}))}catch(o){throw console.error("Error loading transaction items:",o),o}},[t]);(0,o.useEffect)(()=>{let e=!0;return(async()=>{if(e)try{C(!0),I(null),P(!1);const i=O(t);j(i);const r=[R("/product/item-type/ef765a67-402b-48ee-b898-8eaa45affb64").then(e=>({name:"itemID",data:e}))];l&&r.push(R("/form/".concat(l)).then(e=>({name:"reason",data:e})));const a=await Promise.all(r);if(console.log("dropdownResults",a),!e)return;const s=a.reduce((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e},{});N(s);const c={transactionId:d||null,items:[]};if("new"!==n&&d)try{const e=await L(d);e&&e.length>0&&(c.items=e)}catch(o){console.warn("Failed to load existing items:",o.message)}if(!e)return;_(c),P(!0)}catch(o){if(!e)return;I(o.message),F(o.message,"error")}finally{if(!e)return;C(!1)}})(),()=>{e=!1}},[n,d,t,O,R,L]);const F=(0,o.useCallback)(function(e){x({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{x({show:!1,message:"",type:"success"})},4e3)},[]),z=((0,o.useCallback)((e,t)=>(e||0)*(t||0),[]),(0,o.useCallback)(e=>{const t=D[e]||[];if("reason"===e){if(t.reasons)try{return JSON.parse(t.reasons).map(e=>({text:e.reason,value:e.id+"$"+e.accountId}))}catch(S){return console.error("Error parsing reason data:",S),[]}return[]}return t.map(t=>{if("string"===typeof t)return{text:t,value:t};if(!t.id)return{text:String(t),value:t};return{text:(t=>{if("itemID"===e&&t.itemName&&t.itemCode)return"".concat(t.itemCode," - ").concat(t.itemName);const n=["name","itemName","productName","description","title"];for(const e of n)if(t[e])return t[e];return String(t.id)})(t),value:t.id,item:t}})},[D])),B=(0,o.useMemo)(()=>{const e=D.reason||{};if(e.reasons)try{return JSON.parse(e.reasons).map(e=>({text:e.reason,value:e.id+"$"+e.accountId}))}catch(S){return console.error("Error parsing reason data:",S),[]}return[]},[D]),V=((0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,visited:i,label:r}=e,a=s(e,K_),l=i&&o,c=p(p({},a),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||a.disabled}),d={text:{component:Fc,props:c},number:{component:xu,props:p(p({},c),{},{min:0,step:0})},textarea:{component:Cu,props:p(p({},c),{},{rows:2})},date:{component:Zv,props:c},dropdown:{component:Sh,props:p(p({},c),z(e))}},u=d[t]||d.text;return(0,sr.jsxs)("div",{children:[(0,sr.jsx)(u.component,p({},u.props)),l&&(0,sr.jsx)("div",{className:"k-form-error",children:o})]})}},[n,z]),e=>{const{parentField:t,editIndex:n,validatedItems:i,onUpdateField:r}=o.useContext(X_),a=e.dataItem[J_]===n;i.includes(e.dataItem[J_]);if(a){const t=z("itemID");return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Sh,{data:t,textField:"text",dataItemKey:"value",valueField:"value",value:t.find(t=>t.value===e.dataItem[e.field])||null,onChange:async t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;await r(e.dataItem[J_],e.field,o)},style:{width:"100%"}})}))}const s=e.dataItem[e.field],l=z("itemID").find(e=>e.value===s),c=(null===l||void 0===l?void 0:l.text)||"";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:c})}))}),H=e=>{const{parentField:t,editIndex:n,onUpdateField:i}=o.useContext(X_);if(e.dataItem[J_]===n){var r;const t="quantityAdjusted"===e.field;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Fc,{type:"number",min:t?void 0:"0",step:"1",value:null!==(r=e.dataItem[e.field])&&void 0!==r?r:"",onChange:t=>{const n=t.target.value,o=""===n?"":parseInt(n)||"";i(e.dataItem[J_],e.field,o)},onKeyDown:e=>{"."!==e.key&&","!==e.key||e.preventDefault()},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})}))}return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:e.dataItem[e.field]||""})}))},q=e=>{var t;const{selectedLocation:i}=o.useContext(X_),[r,a]=(0,o.useState)(null),[s,l]=(0,o.useState)(!1);(0,o.useEffect)(()=>{(async()=>{var t,o;if(console.log("DEBUG DisabledQuantityCell: Checking conditions",{mode:n,itemID:null===(t=e.dataItem)||void 0===t?void 0:t.itemID,selectedLocation:i,field:e.field}),("view"===n||"edit"===n)&&null!==(o=e.dataItem)&&void 0!==o&&o.itemID&&i){console.log("DEBUG DisabledQuantityCell: Fetching quantity for item",e.dataItem.itemID),l(!0);try{const t=(null===i||void 0===i?void 0:i.value)||i;console.log("DEBUG DisabledQuantityCell: Calling getQuantityAvailable with",{itemID:e.dataItem.itemID,locationId:t});const n=await f(e.dataItem.itemID,t);console.log("DEBUG DisabledQuantityCell: Got quantity result:",n),a(n)}catch(r){console.warn("Failed to fetch quantity for item ".concat(e.dataItem.itemID,":"),r.message),console.log("DEBUG DisabledQuantityCell: Using fallback value:",e.dataItem[e.field]||0),a(e.dataItem[e.field]||0)}finally{l(!1)}}else console.log("DEBUG DisabledQuantityCell: Using original value:",e.dataItem[e.field]||0),a(e.dataItem[e.field]||0)})()},[null===(t=e.dataItem)||void 0===t?void 0:t.itemID,i,n]);const c=s?"...":null!==r?r:e.dataItem[e.field]||"0";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right",backgroundColor:"#f5f5f5"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block",color:"#666"},children:c})}))},U=e=>{const{parentField:t,editIndex:n,onUpdateField:i}=o.useContext(X_);if(e.dataItem[J_]===n)return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Sh,{data:B,textField:"text",dataItemKey:"value",valueField:"value",value:B.find(t=>t.value===e.dataItem[e.field])||null,onChange:t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;i(e.dataItem[J_],e.field,o)},style:{width:"100%"}})}));const r=e.dataItem[e.field],a=B.find(e=>e.value===r),s=(null===a||void 0===a?void 0:a.text)||"";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:s})}))},G=e=>{const{onRemove:t,onEdit:i,onSave:r,onCancel:a,editIndex:s,validateItem:l}=o.useContext(X_),c=e.dataItem[J_]===s,d=!e.dataItem[Q_]||!e.dataItem.itemID,u=(0,o.useCallback)(n=>{n.preventDefault(),t(e.dataItem)},[e.dataItem,t]),h=(0,o.useCallback)(t=>{t.preventDefault(),i(e.dataItem,d)},[e.dataItem,i,d]),m=(0,o.useCallback)(t=>{t.preventDefault(),r(e.dataItem)},[r,e.dataItem]),f=(0,o.useCallback)(e=>{e.preventDefault(),a()},[a]);return c?(0,sr.jsxs)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:[(0,sr.jsx)(bo,{type:"button",onClick:m,className:"k-grid-save-command",size:"small",style:{marginRight:"4px",backgroundColor:"#4CAF50",color:"white",fontSize:"12px",padding:"4px 8px"},title:d?"Add this item when complete":"Save changes to this item",disabled:"view"===n,children:d?"Add":"Save"}),(0,sr.jsx)(bo,{type:"button",onClick:d?u:f,className:"k-grid-cancel-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},title:d?"Remove this item":"Cancel editing",disabled:"view"===n,children:d?"Discard":"Cancel"})]})):(0,sr.jsx)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:"view"!==n&&(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)(bo,{type:"button",themeColor:"primary",onClick:h,className:"k-grid-edit-command",size:"small",style:{marginRight:"4px",fontSize:"12px",padding:"4px 8px"},children:"Edit"}),(0,sr.jsx)(bo,{type:"button",onClick:u,className:"k-grid-remove-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},children:"Remove"})]})}))},W=e=>{const{validationMessage:i,visited:s,name:l,dataItemKey:c}=e,[d,u]=(0,o.useState)(void 0),h=o.useRef(void 0),[m,v]=(0,o.useState)([]),y=(0,o.useCallback)(t=>{if(void 0!==t&&e.value[t]){v(e=>e.includes(t)?e:[...e,t]);const n=e.value[t];return n.itemID&&null!==n.itemID}return!1},[e.value]),x=(0,o.useCallback)(async(n,o,i)=>{const a=p(p({},e.value[n]),{},{[o]:i});if("itemID"===o&&i&&r){if(-1!==(e.value||[]).findIndex((e,t)=>t!==n&&e.itemID===i))return alert("This item has already been added to the list. Please select a different item."),a.itemID="",void e.onReplace({index:n,value:a});try{const e=await f(i,r);a.quantityInHand=e;const t=await g(i);a.rate=t}catch(S){console.error("Failed to fetch quantity available or standard cost:",S),a.quantityInHand=0,a.rate=0}}const s="InventoryAdjustment"===t?"quantityAdjusted":"quantityTransfer";if(o===s||"rate"===o){const e=o===s?i:a[s]||0,t="rate"===o?i:a.rate||0;a.totalAmount=(parseFloat(e)||0)*(parseFloat(t)||0)}e.onReplace({index:n,value:a})},[e,t,f,g,r]),b=e=>{if(!e||!Array.isArray(e))return{totalAmount:0,totalQuantity:0};const n=e.reduce((e,t)=>e+(t.totalAmount||0),0),o="InventoryAdjustment"===t?"quantityAdjusted":"quantityTransfer",i=e.reduce((e,t)=>e+(t[o]||0),0);return{totalAmount:n,totalQuantity:i}},[w,k]=(0,o.useState)(()=>b(e.value)),C=(0,o.useCallback)(()=>{const t=b(e.value);k(t)},[e.value,t]),I=(0,o.useCallback)(o=>{if(o.preventDefault(),void 0!==d||"view"===n)return;const i=e.value||[],r=i.findIndex(e=>!e.itemID);if(-1!==r)return void u(r);const a={id:i.length>0?Math.max(...i.map(e=>parseInt(e.id)||0))+1:1,itemID:"",quantityInHand:0,rate:0,totalAmount:0,reason:""};"InventoryAdjustment"===t?a.quantityAdjusted=0:"InventoryTransfer"===t&&(a.quantityTransfer=0),e.onUnshift({value:a}),u(0),setTimeout(()=>C(),0)},[e,d,t,n,C]),E=(0,o.useCallback)(t=>{e.onRemove({index:t[J_]}),u(void 0),h.current=void 0,setTimeout(()=>C(),0)},[e,C]),j=(0,o.useCallback)(e=>{h.current=vr(e),u(e[J_])},[]),A=(0,o.useCallback)(()=>{h.current&&e.onReplace({index:h.current[J_],value:h.current}),h.current=void 0,u(void 0),setTimeout(()=>C(),0)},[e,C]),_=(0,o.useCallback)(n=>{const o=n[J_],i=e.value[o];if(!i.itemID)return void alert("Product is required");const r="InventoryAdjustment"===t?"quantityAdjusted":"quantityTransfer",a="InventoryAdjustment"===t;if(!i[r]||!a&&i[r]<=0||a&&0===i[r]){return void alert(a?"Quantity adjusted cannot be zero":"Quantity must be greater than 0")}if("InventoryTransfer"===t){const e=Number(i.quantityInHand||0),t=Number(i.quantityTransfer||0);if(e<=0)return void alert("Cannot save item. Quantity In Hand is zero or negative, Please adjust the item quantity first!!");if(t>e)return void alert("Cannot save item. Quantity Transfer (".concat(t,") cannot be greater than Quantity In Hand (").concat(e,")."))}const s=""===i[r]?0:parseFloat(i[r])||0,l=""===i.rate?0:parseFloat(i.rate)||0,c=Math.round(s*l*100)/100;e.onReplace({index:o,value:p(p({},i),{},{totalAmount:c})}),u(void 0),h.current=void 0,u(void 0),setTimeout(()=>C(),0)},[e,t,C]);o.useEffect(()=>{if(void 0!==d&&e.value[d]){const n=e.value[d],o="InventoryAdjustment"===t?"quantityAdjusted":"quantityTransfer",i=(""===n[o]?0:parseFloat(n[o])||0)*(""===n.rate?0:parseFloat(n.rate)||0),r=Math.round(100*i)/100;r!==Math.round(100*(parseFloat(n.totalAmount)||0))/100&&e.onReplace({index:d,value:p(p({},n),{},{totalAmount:r})})}},[d,e.value,t]);const D=(e.value||[]).map((e,t)=>p(p({},e),{},{[J_]:t}));return(0,sr.jsxs)(X_.Provider,{value:{onCancel:A,onEdit:j,onRemove:E,onSave:_,onUpdateField:x,editIndex:d,parentField:l,validatedItems:m,validateItem:y,selectedLocation:r,toLocation:a},children:[s&&i&&(0,sr.jsx)("div",{className:"k-form-error",style:{color:"#e53e3e",fontSize:"12px",marginTop:"4px"},children:i}),"view"!==n&&(0,sr.jsx)("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"flex-start",alignItems:"center",paddingLeft:"8px",paddingRight:"8px"},children:(0,sr.jsxs)(bo,{onClick:I,themeColor:"success",fillMode:"solid",size:"medium",className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-success",children:[(0,sr.jsx)(Ji,{style:{marginRight:"6px"}})," Add Item"]})}),(0,sr.jsx)("div",{className:"transaction-items-grid-container",style:{overflowX:"auto",overflowY:"visible",width:"100%",maxWidth:"100%"},children:(0,sr.jsxs)(Fj,{className:"transaction-items-grid",data:D,dataItemKey:c,rowRender:e=>{const t=p(p({},e.props),{},{style:p(p({},e.props.style),{},{borderBottom:"1px solid #e0e0e0"})});return o.cloneElement(e,p({},t),e.props.children)},style:{minWidth:"800px"},children:[(0,sr.jsx)(zy,{field:"itemID",title:"Item",cells:{data:V}}),(0,sr.jsx)(zy,{field:"quantityInHand",title:"Qty In Hand",cells:{data:q}}),(0,sr.jsx)(zy,{field:"InventoryAdjustment"===t?"quantityAdjusted":"quantityTransfer",title:"InventoryAdjustment"===t?"Qty Adjusted":"Qty Transfer",cells:{data:H}}),(0,sr.jsx)(zy,{field:"reason",title:"Reason",cells:{data:U}}),"view"!==n&&(0,sr.jsx)(zy,{cells:{data:G}})]})})]})},K=(0,o.useCallback)(e=>{const n={};if(e.items&&0!==e.items.length){e.items.map((e,n)=>{const o={};e.itemID||(o.itemID="Product is required");const i="InventoryAdjustment"===t?"quantityAdjusted":"quantityTransfer",r="InventoryAdjustment"===t;if(!e[i]||!r&&e[i]<=0||r&&0===e[i]){const e=r?"Quantity adjusted cannot be zero":"Quantity must be greater than 0";o[i]=e}if("InventoryTransfer"===t){const t=Number(e.quantityInHand||0),n=Number(e.quantityTransfer||0);t<=0&&(o.quantityInHand="Quantity In Hand is zero or negative, Please adjust the item quantity first!!"),n>t&&(o.quantityTransfer="Quantity Transfer (".concat(n,") cannot be greater than Quantity In Hand (").concat(t,")"))}return Object.keys(o).length>0?o:null}).filter(Boolean).length>0&&(n.items="Please fix item validation errors")}else n.items="At least one item is required";return n},[t]);return k||u||!E||!T?(0,sr.jsx)("div",{className:"form-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsxs)("div",{children:["Loading ",t.toLowerCase()," items..."]})]})}):S||h?(0,sr.jsx)("div",{className:"form-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("h3",{children:["Error Loading ",t," Items"]}),(0,sr.jsx)("p",{children:S||h}),(0,sr.jsxs)(bo,{onClick:()=>c(M[t]||"/"),children:["Back to ",t," List"]})]})}):i?(0,sr.jsxs)("div",{style:{width:"100%"},children:[(0,sr.jsx)(ay,{children:y.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:y.type,icon:!0},closable:!0,onClose:()=>x({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:y.message})})})}),(0,sr.jsx)(Fy,{name:"items",component:W,dataItemKey:Q_,validator:e=>e&&e.length?"":"Please add at least one item"})]}):(0,sr.jsxs)("div",{className:"form-container",children:[(0,sr.jsx)(ay,{children:y.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:y.type,icon:!0},closable:!0,onClose:()=>x({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:y.message})})})}),(0,sr.jsx)("div",{className:"form-header",children:(0,sr.jsx)("h2",{children:"new"===n?"Add ".concat(E.title):"edit"===n?"Edit ".concat(E.title):"View ".concat(E.title)})}),(0,sr.jsx)(la,{initialValues:A,validator:K,onSubmit:async e=>{try{if(C(!0),I(null),i)return void F("Line items updated. Save the main form to create the transaction.","info");const n=d;if(!n)throw new Error("Transaction ID is required to save line items");const o=e.items||[];if(0===o.length)return void F("No items to save","warning");const r={InventoryAdjustment:{endpoint:hr(pr.endpoints.inventoryAdjustmentLine),idField:"adjustmentId",quantityField:"quantityAdjusted"},InventoryTransfer:{endpoint:hr(pr.endpoints.inventoryTransferLine),idField:"transferId",quantityField:"quantityTransfer"}}[t];if(!r)throw new Error("Unsupported record type: ".concat(t));const a=o.map(async(e,t)=>{var o;const i=Number(e[r.quantityField]||0),a=Number(e.rate||0),s=Number(e.quantityInHand||0),l=i*a,c={[r.idField]:n,itemID:(null===(o=e.itemID)||void 0===o?void 0:o.value)||e.itemID,quantityInHand:s,[r.quantityField]:i,rate:a,totalAmount:l},d=await fetch(r.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Y_(c))});if(!d.ok){const e=await d.text();throw new Error("Failed to create line ".concat(t+1,": ").concat(d.status," - ").concat(e))}return await d.json()});await Promise.all(a),F("".concat(t," items saved successfully (").concat(o.length," items)"),"success"),i||c(M[t]||"/")}catch(n){I(n.message),F(n.message,"error")}finally{C(!1)}},render:e=>(0,sr.jsxs)(ma,{children:[(0,sr.jsx)("div",{className:"form-grid",children:(0,sr.jsx)("div",{className:"order-items-field",children:(0,sr.jsx)(Fy,{name:"items",component:W,dataItemKey:Q_,validator:e=>e&&e.length?"":"Please add at least one item"})})}),(0,sr.jsxs)("div",{className:"form-actions",children:[(0,sr.jsxs)(bo,{type:"button",onClick:()=>c(M[t]||"/"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",children:[(0,sr.jsx)(tr,{})," ","view"===n?"Close":"Cancel"]}),"view"!==n&&(0,sr.jsxs)(bo,{type:"submit",disabled:k||!e.allowSubmit,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Qi,{})," ",k?"Saving...":"Save Items"]})]})]})},"".concat(t.toLowerCase(),"-items-form-").concat(n,"-").concat(d||"new")),(0,sr.jsx)("style",{children:"\n        .form-container {\n          background: white;\n          border-radius: 4px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          padding: 16px;\n          margin: 16px;\n        }\n\n        .form-header {\n          margin-bottom: 16px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .form-header h2 {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.25rem;\n          font-weight: 600;\n        }\n\n        .form-grid {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n\n        .order-items-field {\n          grid-column: span 3;\n          margin-top: 16px;\n        }\n\n        .form-actions {\n          display: flex;\n          justify-content: flex-end;\n          gap: 8px;\n          padding-top: 16px;\n          margin-top: 8px;\n          border-top: 1px solid #e2e8f0;\n        }\n\n        .notification-container {\n          position: fixed;\n          right: 12px;\n          top: 12px;\n          z-index: 9999;\n          min-width: 280px;\n        }\n\n        .loading-indicator {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 150px;\n          gap: 12px;\n          font-size: 14px;\n        }\n\n        .spinner {\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid #3498db;\n          border-radius: 50%;\n          width: 32px;\n          height: 32px;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .transaction-items-grid-container {\n          background: white;\n          border-radius: 8px;\n          border: 1px solid #e2e8f0;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          overflow-x: auto !important;\n          overflow-y: visible !important;\n          margin-bottom: 16px;\n          width: 100% !important;\n          max-width: 100% !important;\n        }\n\n        .transaction-items-grid {\n          border: none !important;\n          border-radius: 0 !important;\n          margin-bottom: 0 !important;\n          min-width: 800px !important;\n          width: auto !important;\n        }\n\n        .transaction-items-grid .k-grid-header {\n          background: #f8fafc !important;\n          border-bottom: 2px solid #e2e8f0 !important;\n        }\n\n        .transaction-items-grid .k-grid-header th {\n          font-weight: 600 !important;\n          color: #4a5568 !important;\n          text-transform: uppercase !important;\n          font-size: 11px !important;\n          letter-spacing: 0.5px !important;\n          padding: 12px 8px !important;\n          text-align: left !important;\n        }\n\n        .transaction-items-grid td {\n          padding: 8px !important;\n          border-bottom: 1px solid #f0f0f0 !important;\n          vertical-align: middle !important;\n        }\n\n        .transaction-items-grid .k-grid-content tr:hover {\n          background-color: #f7fafc !important;\n        }\n      "})]})}),$_=Z_,eD=["validationMessage","touched","label"],tD=e=>{const t={};return Object.keys(e).forEach(n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)}),t},nD=o.memo(e=>{let{recordType:t,mode:n="new"}=e;const i=ve(),{id:r}=ye(),{loading:a,error:l,fetchFormConfiguration:c}=cy(),{createOrUpdateInventoryDetail:d}=Ry(),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[m,f]=(0,o.useState)(!1),[g,v]=(0,o.useState)(!1),[y,x]=(0,o.useState)(null),[b,w]=(0,o.useState)(null),[k,C]=(0,o.useState)({}),[S,I]=(0,o.useState)({}),[E,j]=(0,o.useState)([]),[A,_]=(0,o.useState)({}),[D,N]=(0,o.useState)({}),[T,P]=(0,o.useState)({}),[M,O]=(0,o.useState)(null),[R,L]=(0,o.useState)([]),[F,z]=(0,o.useState)(!1),[B,V]=(0,o.useState)(null),[H,q]=(0,o.useState)(null),U=o.useRef(null),G={InventoryAdjustment:"/inventory-adjustment",InventoryTransfer:"/inventory-transfer"},W=(0,o.useCallback)(async(e,t)=>{try{const n=await fetch(hr(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}},[]),K=(0,o.useCallback)(async e=>{try{const t=await fetch(hr(pr.endpoints.recordType),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e});if(!t.ok)throw new Error("Failed to fetch record types: ".concat(t.status));return(await t.json()).results||[]}catch(t){return t.name,[]}},[]),Y=async e=>{try{const t=await fetch(hr(pr.endpoints.customFormFieldByForm(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch custom form fields: ".concat(t.status));const n=await t.json(),o=(Array.isArray(n)?n:[]).sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0)),i={},r=o.filter(e=>["DropDownList","MultiSelect"].includes(e.fieldTypeName)&&e.fieldSource);for(const e of r){const t=await W(e.fieldSource);i["custom_".concat(e.fieldName)]=t}return Object.keys(i).length>0&&I(e=>p(p({},e),i)),o}catch(t){return Z("Failed to load custom form fields: ".concat(t.message),"error"),[]}},X=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{if(!t)return{};const o=await fetch(hr(pr.endpoints.customFieldValueByTypeAndRecord(t,e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return{};const i=await o.json(),r={},a={},s={};return n.forEach(e=>{s[e.fieldName]=e.fieldTypeName}),Array.isArray(i)&&i.forEach(e=>{if(e.customFieldName&&void 0!==e.valueText&&null!==e.valueText){const n=s[e.customFieldName];let o=e.valueText;switch(n){case"DatePicker":case"Date":if("string"===typeof o&&""!==o.trim()){const e=new Date(o);o=isNaN(e.getTime())?null:e}break;case"NumericTextBox":case"Number":if("string"===typeof o&&""!==o.trim()){const e=parseFloat(o);o=isNaN(e)?0:e}break;case"Checkbox":case"Switch":"string"===typeof o&&(o="true"===o.toLowerCase()||"1"===o);break;case"MultiSelect":if("string"===typeof o&&""!==o.trim())try{const e=JSON.parse(o);o=Array.isArray(e)?e:[o]}catch(t){o=[o]}}r[e.customFieldName]=o,a[e.customFieldName]=e.id}}),{customData:r,customFieldIds:a}}catch(o){return{customData:{},customFieldIds:{}}}},J=e=>{const t={};return e.forEach(e=>{switch(e.fieldTypeName){case"Checkbox":case"Switch":t[e.name]=!1;break;case"Number":case"NumericTextBox":t[e.name]=0;break;case"Date":case"DropDownList":t[e.name]=null;break;default:t[e.name]=""}}),t};(0,o.useEffect)(()=>{let e=!0;return(async()=>{if(e)try{v(!0),x(null),z(!1),j([]),_({}),N({}),P({}),O(null);const s=await K();if(!e)return;L(s);const l=await c(t);if(!e)return;w(l);const d=l.standardFields.filter(e=>"DropDownList"===e.fieldTypeName&&e.source),u=ee(l,s,t),h=d.map(async e=>{let n;if("ChartOfAccount"===t&&"parent"===e.name)n=await W(e.source),n=n.filter(e=>!0===e.isParent);else if("form"===e.name&&u)try{const e=await fetch(hr(pr.endpoints.formByTypeOfRecord(u)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch forms for record type: ".concat(e.status));n=await e.json(),n=Array.isArray(n)?n:n.results||n.data||[]}catch(o){n=[]}else n=await W(e.source);return{name:e.name,data:n}}),m=await Promise.all(h);if(!e)return;const f=m.reduce((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e},{});I(f);const g=J(l.standardFields);if("new"!==n&&r)try{var o;let n={};switch(t){case"InventoryAdjustment":{const e=await fetch(hr("/inventory-adjustment/".concat(r)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});e.ok&&(n=await e.json());break}case"InventoryTransfer":{const e=await fetch(hr("/inventory-transfer/".concat(r)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});e.ok&&(n=await e.json());break}default:console.warn("No fetch method available for record type: ".concat(t)),n={}}if(!e)return;const c=(null===(o=n)||void 0===o?void 0:o.data)||n||{};if(c&&Object.keys(c).length>0){const n=p({},g);l.standardFields.forEach(e=>{if(void 0!==c[e.name]){let t=c[e.name];if(("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date")||"soDate"===e.name||"invoiceDate"===e.name||"deliveryDate"===e.name)&&t&&"string"===typeof t){const n=new Date(t);t=isNaN(n.getTime())?null:n,console.log("DEBUG: Converted date field ".concat(e.name,' from string "').concat(c[e.name],'" to Date object:'),t)}n[e.name]=t}});const o=l.standardFields.map(e=>e.name);Object.keys(c).forEach(e=>{void 0===c[e]||o.includes(e)||(n[e]=c[e])}),C(n),"InventoryTransfer"===t&&n.fromLocation?(console.log("DEBUG: Setting selectedLocation from loaded fromLocation data:",n.fromLocation),V(n.fromLocation),n.toLocation&&(console.log("DEBUG: Setting toLocation from loaded toLocation data:",n.toLocation),q(n.toLocation))):"InventoryAdjustment"===t&&n.location&&(console.log("DEBUG: Setting selectedLocation from loaded location data:",n.location),V(n.location));try{let e=[],o="",i="";switch(t){case"InventoryAdjustment":o=hr("/inventory-adjustment-line/by-adjustment/".concat(r)),i="inventoryAdjustmentId";break;case"InventoryTransfer":o=hr("/inventory-transfer-line/by-transfer/".concat(r)),i="inventoryTransferId";break;default:console.warn("No line items endpoint configured for record type: ".concat(t))}if(o){console.log("DEBUG: Loading line items from: ".concat(o));const t=await fetch(o,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const o=await t.json();if(console.log("DEBUG: Line items response:",o),Array.isArray(o))e=o;else if(o.results&&Array.isArray(o.results))e=o.results;else if(o.data&&Array.isArray(o.data))e=o.data;else if(o.lines&&Array.isArray(o.lines))e=o.lines;else{console.log("DEBUG: Checking for line items in object properties...");const t=Object.values(o).filter(e=>Array.isArray(e));t.length>0&&(e=t[0],console.log("DEBUG: Found array in object properties:",e))}if(console.log("DEBUG: Processed line items:",e),e.length>0){const t=e.map(e=>p({},e));n.items=t,C(p({},n)),console.log("DEBUG: Added ".concat(e.length," line items to form data with calculated amounts"))}}else console.warn("Failed to load line items: ".concat(t.status," ").concat(t.statusText))}}catch(i){console.error("Error loading line items for ".concat(t,":"),i)}if(c.form)try{const n=await Y(c.form);if(!e)return;if(j(n),O(c.form),n.length>0){const o=J(n.map(e=>p(p({},e),{},{name:e.fieldName}))),i=ee(l,s,t),{customData:a,customFieldIds:c}=await X(r,i,n);if(!e)return;N(c);const d=p(p({},o),a);_(d),P(d)}}catch(a){}}else console.warn("No data found for ".concat(t," with ID: ").concat(r)),C(g)}catch(y){console.error("Error fetching ".concat(t,":"),y),C(g)}else{if(!e)return;C(g)}if(!e)return;z(!0)}catch(a){if(!e)return;x(a.message),Z(a.message,"error")}finally{if(!e)return;v(!1)}})(),()=>{e=!1}},[n,r,t]),(0,o.useEffect)(()=>()=>{U.current&&(clearTimeout(U.current),U.current=null),j([]),_({}),N({}),P({}),O(null),C({}),z(!1),h({show:!1,message:"",type:"success"})},[]);const Q=(0,o.useMemo)(()=>{if(!F)return{};if(0===Object.keys(A).length)return k;const e={};return Object.keys(A).forEach(t=>{e["custom_".concat(t)]=A[t]}),p(p({},k),e)},[k,A,F]),Z=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";U.current&&clearTimeout(U.current),h({show:!0,message:e,type:t}),U.current=setTimeout(()=>{h({show:!1,message:"",type:"success"}),U.current=null},4e3)},[]),$=(0,o.useCallback)(e=>{const t={};return null!==b&&void 0!==b&&b.standardFields?(b.standardFields.forEach(n=>{const o=e[n.name];!n.isMandatory||o&&""!==o||(t[n.name]="".concat(n.name.charAt(0).toUpperCase()+n.name.slice(1)," is required")),"email"===n.name&&o&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(t[n.name]="Please enter a valid email address"),"phone"===n.name&&o&&!/^\d{10}$/.test(o.replace(/\D/g,""))&&(t[n.name]="Phone number must be 10 digits")}),t):t},[b]),ee=(e,t,n)=>{if(null!==e&&void 0!==e&&e.recordTypeId)return e.recordTypeId;let o=t.find(e=>e.name===n);return o?o.id:(o=t.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()}),o?o.id:null)},te=()=>{if(null!==b&&void 0!==b&&b.recordTypeId)return b.recordTypeId;let e=R.find(e=>e.name===t);return e?e.id:(e=R.find(e=>{var n;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())===t.toLowerCase()}),e?e.id:null)},ne=async(e,n)=>{console.log("DEBUG: createTransactionLineItems called with:",{headerId:e,lineItems:n,recordType:t}),console.log("=== LINE ITEMS SAVE - CREATE MODE ==="),console.log("Header ID:",e),console.log("Record Type:",t),console.log("Number of line items to create:",n.length),console.log("Raw line items data:",JSON.stringify(n,null,2));const o={InventoryAdjustment:{endpoint:hr("/inventory-adjustment-line"),idField:"inventoryAdjustmentID",quantityField:"quantityAdjusted"},InventoryTransfer:{endpoint:hr("/inventory-transfer-line"),idField:"inventoryTransferID",quantityField:"quantityTransfer"}}[t];if(console.log("DEBUG: Using config for",t,":",o),!o)throw new Error("Unsupported record type: ".concat(t));const i=n.map(async(n,i)=>{var r;console.log("DEBUG: line 111111111111111:",n);const a=Number(n.quantityAdjusted||n.quantityTransfer||0),s=Number(n.rate||0),l={[o.idField]:e,itemID:(null===(r=n.itemID)||void 0===r?void 0:r.value)||n.itemID,quantityInHand:Number(n.quantityInHand||0),[o.quantityField]:a,rate:s,totalAmount:n.totalAmount||0,reason:n.reason};console.log("DEBUG: Creating line ".concat(i+1," with payload:"),l),console.log("DEBUG: Sending to endpoint:",o.endpoint);const c=await fetch(o.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(tD(l))});if(console.log("DEBUG: Line ".concat(i+1," response status:"),c.status),!c.ok){const e=await c.text();throw console.log("DEBUG: Line ".concat(i+1," error:"),e),new Error("Failed to create line ".concat(i+1,": ").concat(c.status," - ").concat(e))}const u=await c.json();if(console.log("DEBUG: Line ".concat(i+1," created successfully:"),u),"InventoryAdjustment"===t&&B&&0!==a)try{var p;const e=(null===(p=n.itemID)||void 0===p?void 0:p.value)||n.itemID,t=(null===B||void 0===B?void 0:B.value)||B;e&&t?(console.log("Updating inventory for item ".concat(e," at location ").concat(t," with quantity adjustment ").concat(a)),await d({itemId:e,locationId:t,quantity:a}),console.log("\u2705 Inventory updated successfully for item ".concat(e))):console.warn("\u26a0\ufe0f Missing itemId (".concat(e,") or locationId (").concat(t,") for inventory update"))}catch(m){console.error("\u274c Failed to update inventory for item ".concat(n.itemID,":"),m.message)}if("InventoryTransfer"===t&&0!==a)try{var h;const e=(null===(h=n.itemID)||void 0===h?void 0:h.value)||n.itemID,t=(null===B||void 0===B?void 0:B.value)||B,o=(null===H||void 0===H?void 0:H.value)||H;e&&t&&o?(console.log("\ud83d\udd04 Processing inventory transfer for item ".concat(e,":")),console.log("   From: ".concat(t," (subtract ").concat(a,")")),console.log("   To: ".concat(o," (add ").concat(a,")")),console.log("\ud83d\udce4 Step 1: Subtracting ".concat(a," from fromLocation ").concat(t)),await d({itemId:e,locationId:t,quantity:-a}),console.log("\u2705 Successfully subtracted from fromLocation"),console.log("\ud83d\udce5 Step 2: Adding ".concat(a," to toLocation ").concat(o)),await d({itemId:e,locationId:o,quantity:a}),console.log("\u2705 Successfully added to toLocation"),console.log("\ud83c\udf89 Inventory transfer completed successfully for item ".concat(e))):console.warn("\u26a0\ufe0f Missing data for inventory transfer:",{itemId:e,fromLocationId:t,toLocationId:o})}catch(m){console.error("\u274c Failed to process inventory transfer for item ".concat(n.itemID,":"),m.message)}return u});await Promise.all(i)},oe=async(e,n,o)=>{const i=p(p({},e),{},{id:r});try{switch(t){case"InventoryAdjustment":{const e=await fetch(hr(pr.endpoints.inventoryAdjustmentById(r)),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(tD(i))});if(!e.ok)throw new Error("Failed to update InventoryAdjustment: ".concat(e.status));break}case"InventoryTransfer":{const e=await fetch(hr(pr.endpoints.inventoryTransferById(r)),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(tD(i))});if(!e.ok)throw new Error("Failed to update InventoryTransfer: ".concat(e.status));break}default:throw new Error("Unsupported record type: ".concat(t))}}catch(y){throw console.error("Error updating ".concat(t,":"),y),y}let a=0;if(Object.keys(n).length>0&&o){const e={};Object.entries(n).forEach(t=>{let[n,o]=t;T[n]!==o&&(e[n]=o)}),a=Object.keys(e).length,a>0&&await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o={};if(Object.entries(e).forEach(e=>{let[t,n]=e;T[t]!==n&&(o[t]=n)}),0===Object.keys(o).length)return;const i=Object.entries(o).map(async e=>{let[o,i]=e;const r=E.find(e=>e.fieldName===o),a=null===r||void 0===r?void 0:r.id,s=D[o],l={request:"update",typeOfRecord:n,valueText:String(i),customFieldID:a,recordID:t};let c;if(c=s?await fetch(hr("".concat(pr.endpoints.customFieldValue,"/").concat(s)),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(tD(l))}):await fetch(hr(pr.endpoints.customFieldValue),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(tD(l))}),!c.ok)throw new Error("Failed to ".concat(s?"update":"create",' custom field "').concat(o,'": ').concat(c.status));return await c.json()});await Promise.all(i)})(n,r,o)}return a},ie=(0,o.useCallback)(async e=>{if(!e){var t;j([]),_({}),N({}),P({}),O(null);return void((null===b||void 0===b||null===(t=b.standardFields)||void 0===t?void 0:t.some(e=>"sequenceNumber"===e.name))&&C(e=>p(p({},e),{},{sequenceNumber:null})))}try{var o,i;v(!0);const t=await Y(e);j(t),O(e);const a=J(t.map(e=>p(p({},e),{},{name:e.fieldName})));if("new"!==n&&r){const e=te(),{customData:n,customFieldIds:o}=await X(r,e,t);N(o);const i=p(p({},a),n);_(i),P(i)}else _(a),P(a);const[s,l]=await Promise.all([fetch("".concat(pr.baseURL,"/form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(pr.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let c="";if(s.ok&&l.ok){const[e,t]=await Promise.all([s.text().then(e=>e.trim()?JSON.parse(e):{}),l.text().then(e=>e.trim()?JSON.parse(e):[])]),n=Array.isArray(t)&&t.length>0?t[0]:{formSequenceNumber:0},o=e.prefix||"",i=(n.formSequenceNumber||0)+1;c="".concat(o).concat(String(i).padStart(4,"0"))}const d=null===b||void 0===b||null===(o=b.standardFields)||void 0===o?void 0:o.some(e=>"form"===e.name),u=null===b||void 0===b||null===(i=b.standardFields)||void 0===i?void 0:i.some(e=>"sequenceNumber"===e.name),h={};d&&(h.form=e),u&&(h.sequenceNumber=c),C(e=>p(p({},e),h))}catch(s){var a;(null===b||void 0===b||null===(a=b.standardFields)||void 0===a?void 0:a.some(e=>"form"===e.name))&&C(t=>p(p({},t),{},{form:e}))}finally{v(!1)}},[b,Y,n,r,te,X,J]),re=(0,o.useCallback)((e,t)=>{const n=Object.keys(e);if(e.name)return e.name;if("form"===t&&e.formName)return e.formName;const o=["title","description","label","displayName"];for(const r of o)if(e[r])return e[r];if(e.accountName&&e.accountNumber)return"".concat(e.accountNumber," - ").concat(e.accountName);if(e.itemName&&e.itemCode)return"".concat(e.itemCode," - ").concat(e.itemName);if(e.formName)return e.formName;const i=n.find(t=>"id"!==t&&"string"===typeof e[t]&&e[t].trim().length>0);return i?e[i]:String(e.id)},[]),ae=(0,o.useRef)({}),se=(0,o.useCallback)(e=>{var t;const{name:n,onChange:o,value:i}=e,r=S[n]||[],a="".concat(n,"_").concat(r.length,"_").concat((null===(t=r[0])||void 0===t?void 0:t.id)||r[0]||"");let s;ae.current[a]?s=ae.current[a]:(s=r.map(e=>{if("string"===typeof e)return{text:e,value:e};if(!e.id)return{text:String(e),value:e};return{text:re(e,n),value:e.id}}),ae.current[a]=s);const l=[{text:"-- Select --",value:null},...s],c=null!==i&&void 0!==i&&""!==i?l.find(e=>e.value===i):l[0];return{data:l,textField:"text",valueField:"value",value:c,virtual:!1,popupSettings:{appendTo:document.body,animate:!1},onChange:async e=>{var t;const i=(null===(t=e.target.value)||void 0===t?void 0:t.value)||e.target.value,r=""===i||void 0===i?null:i;o&&o({target:{value:r}}),"form"===n&&await ie(r),"location"!==n&&"fromLocation"!==n||(console.log("\ud83d\udccd ".concat(n," selected:"),r),V(r)),"toLocation"===n&&(console.log("\ud83d\udccd ".concat(n," selected:"),r),q(r))}}},[S,ie,V]),le=(0,o.useCallback)(e=>{const{name:t}=e,n=(S[t]||[]).map(e=>{if("string"===typeof e)return{text:e,value:e};if(e.name&&e.id)return{text:e.name,value:e.id};if(e.text&&e.value)return e;const t=Object.keys(e);return{text:e[t[0]],value:e[t[0]]}});return{data:n,textField:"text",valueField:"value"}},[S]),ce=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,touched:i,label:r}=e,a=s(e,eD),l=i&&o,c=p(p({},a),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||a.disabled}),d={text:{component:Fc,props:c},number:{component:xu,props:p(p({},c),{},{min:0,step:0,spinners:!1})},textarea:{component:Cu,props:p(p({},c),{},{rows:4})},checkbox:{component:ju,props:p(p({},c),{},{label:r,checked:a.value||!1,style:{display:"flex",alignItems:"center"}})},date:{component:Zv,props:c},dropdown:{component:Sh,props:p(p({},c),se(e))},multiselect:{component:em,props:p(p({},c),le(e))}},u=d[t]||d.text;return(0,sr.jsxs)("div",{children:[(0,sr.jsx)(u.component,p({},u.props)),l&&(0,sr.jsx)("div",{className:"k-form-error",children:o})]})}},[n,se,le]),de=(0,o.useMemo)(()=>({Input:ce(Fc,"text"),TextArea:ce(Cu,"textarea"),Checkbox:ce(ju,"checkbox"),NumericTextBox:ce(Fc,"number"),Number:ce(Fc,"number"),DropDownList:ce(Sh,"dropdown"),DatePicker:ce(Zv,"date"),MultiSelect:ce(em,"multiselect")}),[ce]),ue=e=>de[e.fieldTypeName]||de.Input,pe=function(e){const t=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);return e.isMandatory?"".concat(t," *"):t},he=(0,o.useCallback)(function(e){if(e.isMandatory)return t=>t&&""!==t?"email"===e.name&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"Please enter a valid email address":"phone"===e.name&&t&&!/^\d{10}$/.test(t.replace(/\D/g,""))?"Phone number must be 10 digits":"":"".concat(e.displayName||e.name," is required")},[]),me=e=>{if(e.isRequired)return t=>t&&""!==t?"":"".concat(e.fieldLabel||e.fieldName," is required")},fe=(0,o.useCallback)(function(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const a=t?"custom_".concat(e.fieldName||e.name):e.name,s=t&&e.fieldName||e.name,l=i||"".concat(t?"custom":"standard","-field-").concat(e.id||s),c=t?"".concat(e.fieldLabel||e.fieldName).concat(e.isRequired?" *":""):pe(e,r),d=ue(e),u=t?me(e):he(e,r),p="Checkbox"===e.fieldTypeName||"Switch"===e.fieldTypeName,h="view"===n||e.isDisabled;return(0,sr.jsxs)("div",{className:"master-field-group ".concat(o?"master-field-full":""," ").concat(p?"checkbox-wrapper":""),children:[!p&&(0,sr.jsx)("label",{className:"k-label",children:c}),(0,sr.jsx)("div",{className:"field-wrapper",children:(0,sr.jsx)(gr,{id:a,name:a,component:d,validator:u,disabled:h,label:p?c:void 0})})]},l)},[n,t,ue,pe,he,me]),ge=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=[];let r=[];return e.forEach(e=>{["TextArea","Checkbox","MultiSelect"].includes(e.fieldTypeName)?(r.length>0&&(i.push({type:"row",fields:[...r]}),r=[]),i.push({type:"fullWidth",field:e})):(r.push(e),3===r.length&&(i.push({type:"row",fields:[...r]}),r=[]))}),r.length>0&&i.push({type:"row",fields:[...r]}),i.map((e,i)=>{const r=t?"custom":"standard";return"row"===e.type?(0,sr.jsx)(o.Fragment,{children:e.fields.map(e=>fe(e,t,!1,null,n))},"".concat(r,"-row-").concat(i)):fe(e.field,t,!0,"".concat(r,"-full-").concat(i),n)})},[fe]);return g||a||!b||!F?(0,sr.jsx)("div",{className:"master-form-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsxs)("div",{children:["Loading ",t.toLowerCase()," form..."]})]})}):y||l?(0,sr.jsx)("div",{className:"master-form-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("h3",{children:["Error Loading ",t]}),(0,sr.jsx)("p",{children:y||l}),(0,sr.jsx)(bo,{onClick:()=>i("/"),children:"Back to Dashboard"})]})}):(0,sr.jsxs)("div",{className:"master-form-container","data-theme":t.toLowerCase(),children:[(0,sr.jsx)(ay,{children:u.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:u.message})})})}),(0,sr.jsx)("div",{className:"master-form-header",children:(0,sr.jsx)("h2",{children:"new"===n?"Create New ".concat(t):"edit"===n?"Edit ".concat(t):"View ".concat(t)})}),(0,sr.jsx)("div",{className:"master-form-element",children:(0,sr.jsx)(la,{initialValues:Q,validator:$,onSubmit:async e=>{try{v(!0),x(null);const{standardData:a,customData:s}=(e=>{const t={},n={};return Object.keys(e).forEach(o=>{const i=e[o],r=""===i?null:i;if(o.startsWith("custom_")){const e=o.replace("custom_","");n[e]=r}else t[o]=r}),{standardData:t,customData:n}})(e),l=te();if("new"===n){var o;const n=await(async(e,n)=>{var o;const i=p(p({},e),{},{totalAmount:null!==(o=e.totalAmount)&&void 0!==o?o:0});console.log("DEBUG: createMainRecord - Creating ".concat(t," with data:"),i);try{var r,a,s;let e;switch(t){case"InventoryAdjustment":{const t=hr("/inventory-adjustment");console.log("DEBUG: createMainRecord - POST to ".concat(t)),console.log("DEBUG: createMainRecord - Request body:",JSON.stringify(i,null,2));const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(tD(i))});if(console.log("DEBUG: createMainRecord - Response status: ".concat(n.status," ").concat(n.statusText)),console.log("DEBUG: createMainRecord - Response headers:",Object.fromEntries(n.headers.entries())),!n.ok){const e=await n.text();throw console.error("DEBUG: createMainRecord - Error response body:",e),new Error("Failed to create InventoryAdjustment: ".concat(n.status," - ").concat(e))}e=await n.json(),console.log("DEBUG: createMainRecord - Created record response:",e);break}case"InventoryTransfer":{const t=hr("/inventory-transfer");console.log("DEBUG: createMainRecord - POST to ".concat(t)),console.log("DEBUG: createMainRecord - Request body:",JSON.stringify(i,null,2));const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(tD(i))});if(console.log("DEBUG: createMainRecord - Response status: ".concat(n.status," ").concat(n.statusText)),console.log("DEBUG: createMainRecord - Response headers:",Object.fromEntries(n.headers.entries())),!n.ok){const e=await n.text();throw console.error("DEBUG: createMainRecord - Error response body:",e),new Error("Failed to create InventoryTransfer: ".concat(n.status," - ").concat(e))}e=await n.json(),console.log("DEBUG: createMainRecord - Created record response:",e);break}default:throw new Error("Unsupported record type: ".concat(t))}let o=null;if(null!==(r=e)&&void 0!==r&&r.id)o=e.id;else if(null!==(a=e)&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.id)o=e.data.id;else if("string"===typeof e)o=e;else{const t=Object.keys(e||{}).filter(e=>e.toLowerCase().includes("id"));t.length>0&&(o=e[t[0]])}if(!o)throw new Error("".concat(t," header created but no ID returned. Response: ").concat(JSON.stringify(e)));const l=n.items||[];return console.log("DEBUG: formValues received:",n),console.log("DEBUG: lineItems extracted:",l),console.log("DEBUG: lineItems length:",l.length),l.length>0?(console.log("DEBUG: Creating line items for recordId:",o),await ne(o,l),console.log("DEBUG: Line items created successfully")):console.log("DEBUG: No line items to create"),o}catch(y){throw console.error("Error creating ".concat(t,":"),y),y}})(a,e);(null===b||void 0===b||null===(o=b.standardFields)||void 0===o?void 0:o.some(e=>"form"===e.name))&&M&&await(async e=>{if(e)try{const t=await fetch(hr(pr.endpoints.formSequenceByForm(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)return;const n=await t.text();if(!n.trim())return;const o=JSON.parse(n);if(!Array.isArray(o)||0===o.length)return;const i=o[0],r=(i.formSequenceNumber||0)+1;await fetch(hr("".concat(pr.endpoints.formSequence,"/").concat(i.id)),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(tD({formId:e,formSequenceNumber:r}))})}catch(t){}})(M),await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o=Object.entries(e).map(async e=>{let[o,i]=e;const r=E.find(e=>e.fieldName===o),a=null===r||void 0===r?void 0:r.id,s={request:"create",typeOfRecord:n,valueText:String(i),customFieldID:a,recordID:t},l=await fetch(hr(pr.endpoints.customFieldValue),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(tD(s))});if(!l.ok)throw new Error('Failed to create custom field "'.concat(o,'": ').concat(l.status));return await l.json()});await Promise.all(o)})(s,n,l),Z("".concat(t," created successfully with ").concat(Object.keys(s).length," custom fields"),"success")}else{const n=await oe(a,s,l);e.items&&e.items.length>0?(console.log("DEBUG: Calling updateTransactionLineItemsSimple with items:",e.items.length),await(async e=>{console.log("DEBUG: updateTransactionLineItemsSimple called with:",e.length,"items"),console.log("DEBUG: recordType:",t),console.log("DEBUG: selectedLocation:",B);const n={InventoryAdjustment:{endpoint:hr("/inventory-adjustment-line"),getEndpoint:hr("/inventory-adjustment-line/by-adjustment/".concat(r)),idField:"inventoryAdjustmentID",quantityField:"quantityAdjusted"},InventoryTransfer:{endpoint:hr("/inventory-transfer-line"),getEndpoint:hr("/inventory-transfer-line/by-transfer/".concat(r)),idField:"inventoryTransferID",quantityField:"quantityTransfer"}}[t];if(n)try{const i=await fetch(n.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let a=[];if(i.ok){const e=await i.json();if(Array.isArray(e))a=e;else if(e.results&&Array.isArray(e.results))a=e.results;else{const t=Object.values(e).filter(e=>Array.isArray(e));t.length>0&&(a=t[0])}}console.log("DEBUG: Existing items from API:",a.length);const s=new Map;a.forEach(e=>{e.id&&s.set(e.id,e)});const l=new Map;e.forEach(e=>{e.id&&l.set(e.id,e)});const c=[],u=[],p=[];e.forEach(e=>{e.id&&s.has(e.id)?c.push(e):u.push(e)}),a.forEach(e=>{e.id&&!l.has(e.id)&&p.push(e)}),console.log("DEBUG: Items to update:",c.length),console.log("DEBUG: Items to create:",u.length),console.log("DEBUG: Items to delete:",p.length);const h=c.map(e=>{const t={[n.idField]:r,itemID:e.itemID||e.itemId,quantityInHand:parseFloat(e.quantityInHand||0),[n.quantityField]:parseFloat(e.quantityAdjusted||e.quantityTransfer||0),rate:parseFloat(e.rate||0),totalAmount:parseFloat(e.amount||e.totalAmount||0),reason:e.reason};return console.log("DEBUG: UPDATE line item ".concat(e.itemID," payload:"),t),fetch("".concat(n.endpoint,"/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(tD(t))})}),m=u.map(e=>{const t={[n.idField]:r,itemID:e.itemID||e.itemId,quantityInHand:parseFloat(e.quantityInHand||0),[n.quantityField]:parseFloat(e.quantityAdjusted||e.quantityTransfer||0),rate:parseFloat(e.rate||0),totalAmount:parseFloat(e.amount||e.totalAmount||0),reason:e.reason};return console.log("DEBUG: CREATE line item ".concat(e.itemID," payload:"),t),fetch(n.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(tD(t))})}),f=p.map(e=>fetch("".concat(n.endpoint,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}})),g=[...h,...m,...f],v=(await Promise.all(g)).filter(e=>!e.ok);if(v.length>0)throw new Error("Failed to update ".concat(v.length," line items"));if(console.log("DEBUG: All line item operations completed successfully"),console.log("\ud83d\udd0d DEBUG: Checking inventory update conditions:"),console.log("\ud83d\udd0d DEBUG: recordType:",t),console.log("\ud83d\udd0d DEBUG: selectedLocation exists:",!!B),console.log("\ud83d\udd0d DEBUG: selectedLocation value:",B),"InventoryAdjustment"===t&&B){console.log("\u2705 DEBUG: INVENTORY ADJUSTMENT UPDATE CONDITIONS MET - Processing inventory detail updates for edit mode"),console.log("DEBUG: selectedLocation:",B),console.log("DEBUG: itemsToDelete:",p.length),console.log("DEBUG: itemsToUpdate:",c.length),console.log("DEBUG: itemsToCreate:",u.length);for(const e of p)try{const t=e.itemID||e.itemId,n=(null===B||void 0===B?void 0:B.value)||B,o=parseFloat(e.quantityAdjusted||0);t&&n&&0!==o&&(console.log("Reversing inventory for deleted item ".concat(t,": ").concat(o," -> ").concat(-o)),await d({itemId:t,locationId:n,quantity:-o}),console.log("\u2705 Inventory reversed for deleted item ".concat(t)))}catch(o){console.error("\u274c Failed to reverse inventory for deleted item ".concat(e.itemID,":"),o.message)}for(const e of c)try{const t=e.itemID||e.itemId,n=(null===B||void 0===B?void 0:B.value)||B,o=parseFloat(e.quantityAdjusted||0),i=a.find(t=>t.id===e.id),r=parseFloat((null===i||void 0===i?void 0:i.quantityAdjusted)||0),s=o-r;console.log("DEBUG: Inventory calculation for item ".concat(t,":")),console.log("DEBUG: - originalQuantity: ".concat(r)),console.log("DEBUG: - newQuantity: ".concat(o)),console.log("DEBUG: - quantityDifference: ".concat(s)),t&&n&&0!==s?(console.log("Updating inventory for item ".concat(t,": original ").concat(r,", new ").concat(o,", difference ").concat(s)),await d({itemId:t,locationId:n,quantity:s}),console.log("\u2705 Inventory updated for item ".concat(t))):console.log("\u23ed\ufe0f Skipping inventory update for item ".concat(t,": no change (difference: ").concat(s,")"))}catch(o){console.error("\u274c Failed to update inventory for item ".concat(e.itemID,":"),o.message)}for(const e of u)try{const t=e.itemID||e.itemId,n=(null===B||void 0===B?void 0:B.value)||B,o=parseFloat(e.quantityAdjusted||0);t&&n&&0!==o&&(console.log("Adding inventory for new item ".concat(t,": ").concat(o)),await d({itemId:t,locationId:n,quantity:o}),console.log("\u2705 Inventory added for new item ".concat(t)))}catch(o){console.error("\u274c Failed to add inventory for new item ".concat(e.itemID,":"),o.message)}}else if("InventoryTransfer"===t&&B&&H){console.log("\u2705 DEBUG: INVENTORY TRANSFER UPDATE CONDITIONS MET - Processing inventory detail updates for edit mode"),console.log("DEBUG: fromLocation (selectedLocation):",B),console.log("DEBUG: toLocation:",H),console.log("DEBUG: itemsToDelete:",p.length),console.log("DEBUG: itemsToUpdate:",c.length),console.log("DEBUG: itemsToCreate:",u.length);for(const e of p)try{const t=e.itemID||e.itemId,n=(null===B||void 0===B?void 0:B.value)||B,o=(null===H||void 0===H?void 0:H.value)||H,i=parseFloat(e.quantityTransfer||0);t&&n&&o&&0!==i&&(console.log("\ud83d\udd04 Reversing transfer for deleted item ".concat(t,": ").concat(i)),await d({itemId:t,locationId:n,quantity:i}),await d({itemId:t,locationId:o,quantity:-i}),console.log("\u2705 Transfer reversed for deleted item ".concat(t)))}catch(o){console.error("\u274c Failed to reverse transfer for deleted item ".concat(e.itemID,":"),o.message)}for(const e of c)try{const t=e.itemID||e.itemId,n=(null===B||void 0===B?void 0:B.value)||B,o=(null===H||void 0===H?void 0:H.value)||H,i=parseFloat(e.quantityTransfer||0),r=a.find(t=>t.id===e.id),s=parseFloat((null===r||void 0===r?void 0:r.quantityTransfer)||0),l=i-s;console.log("DEBUG: Transfer calculation for item ".concat(t,":")),console.log("DEBUG: - originalQuantity: ".concat(s)),console.log("DEBUG: - newQuantity: ".concat(i)),console.log("DEBUG: - quantityDifference: ".concat(l)),t&&n&&o&&0!==l?(console.log("\ud83d\udd04 Updating transfer for item ".concat(t,": difference ").concat(l)),await d({itemId:t,locationId:n,quantity:-l}),await d({itemId:t,locationId:o,quantity:l}),console.log("\u2705 Transfer updated for item ".concat(t))):console.log("\u23ed\ufe0f Skipping transfer update for item ".concat(t,": no change (difference: ").concat(l,")"))}catch(o){console.error("\u274c Failed to update transfer for item ".concat(e.itemID,":"),o.message)}for(const e of u)try{const t=e.itemID||e.itemId,n=(null===B||void 0===B?void 0:B.value)||B,o=(null===H||void 0===H?void 0:H.value)||H,i=parseFloat(e.quantityTransfer||0);t&&n&&o&&0!==i&&(console.log("\ud83d\udd04 Adding transfer for new item ".concat(t,": ").concat(i)),await d({itemId:t,locationId:n,quantity:-i}),await d({itemId:t,locationId:o,quantity:i}),console.log("\u2705 Transfer added for new item ".concat(t)))}catch(o){console.error("\u274c Failed to add transfer for new item ".concat(e.itemID,":"),o.message)}}else console.log("\u274c DEBUG: INVENTORY UPDATE CONDITIONS NOT MET"),console.log("\u274c DEBUG: recordType:",t),console.log("\u274c DEBUG: selectedLocation exists:",!!B),console.log("\u274c DEBUG: toLocation exists:",!!H)}catch(y){throw console.error("Error updating line items for ".concat(t,":"),y),y}else console.warn("No line items configuration for record type: ".concat(t))})(e.items)):console.log("DEBUG: No items to update in formValues.items"),Z("".concat(t," updated successfully with ").concat(n," custom fields"),"success")}i(G[t]||"/customer")}catch(a){x(a.message),Z(a.message,"error")}finally{v(!1)}},render:e=>(0,sr.jsxs)(ma,{children:[(0,sr.jsxs)("div",{className:"master-form-content",children:[(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:ge(b.standardFields,!1,e)})]}),E.length>0&&(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:ge(E,!0,e)})]}),(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Items"})}),(0,sr.jsx)("div",{style:{padding:"0",width:"100%",maxWidth:"100%",overflow:"hidden"},children:(0,sr.jsx)($_,{recordType:t,mode:n,embedded:!0,selectedLocation:B,toLocation:H,selectedFormId:M})})]})]}),(0,sr.jsxs)("div",{className:"master-form-actions",children:[(0,sr.jsxs)(bo,{type:"button",onClick:()=>i(G[t]||"/sales-order"),className:"k-button k-button-secondary",children:[(0,sr.jsx)(tr,{})," ","view"===n?"Close":"Cancel"]}),"new"!==n&&(0,sr.jsxs)(bo,{type:"button",onClick:()=>f(!0),className:"k-button k-button-danger",children:[(0,sr.jsx)(or,{})," Delete"]}),"view"!==n&&(0,sr.jsxs)(bo,{type:"submit",disabled:g||!e.allowSubmit,className:"k-button k-button-primary",children:[(0,sr.jsx)(Qi,{})," ",g?"Saving...":"Save"]})]})]})},"".concat(t.toLowerCase(),"-form-").concat(n,"-").concat(r||"new","-").concat(M||"no-form"))}),(0,sr.jsx)(ly,{isOpen:m,onClose:()=>f(!1),onConfirm:async()=>{try{switch(v(!0),await(async e=>{try{let n,o;switch(t){case"InventoryAdjustment":n="/inventory-adjustment-line",o="inventoryAdjustmentId";break;case"InventoryTransfer":n="/inventory-transfer-line",o="inventoryTransferId";break;default:throw new Error("Unsupported record type for line items: ".concat(t))}const i=await fetch(hr("".concat(n,"?").concat(o,"=").concat(e)),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!i.ok)return void console.warn("Failed to fetch line items for deletion: ".concat(i.status));const r=await i.json(),a=r.results||r||[];if(0===a.length)return void console.log("No line items found to delete");const s=a.map(async e=>{try{const t=await fetch(hr("".concat(n,"/").concat(e.id)),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});t.ok||console.warn("Failed to delete line item ".concat(e.id,": ").concat(t.status))}catch(y){console.warn("Error deleting line item ".concat(e.id,":"),y)}});await Promise.all(s),console.log("Deleted ".concat(a.length," line items for ").concat(t," ").concat(e))}catch(y){console.warn("Error deleting line items:",y)}})(r),t){case"InventoryAdjustment":{const e=await fetch(hr(pr.endpoints.inventoryAdjustmentById(r)),{method:"DELETE"});if(!e.ok)throw new Error("Failed to delete InventoryAdjustment: ".concat(e.status));break}case"InventoryTransfer":{const e=await fetch(hr(pr.endpoints.inventoryTransferById(r)),{method:"DELETE"});if(!e.ok)throw new Error("Failed to delete InventoryTransfer: ".concat(e.status));break}default:throw new Error("Unsupported record type: ".concat(t))}Z("".concat(t," deleted successfully!"),"success"),f(!1);i(G[t]||"/")}catch(y){console.error("Error deleting ".concat(t,":"),y),Z("Failed to delete ".concat(t,": ").concat(y.message),"error")}finally{v(!1)}},title:"Confirm Delete",message:(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsxs)("p",{children:["Are you sure you want to delete this ",t.toLowerCase(),"?"]}),(0,sr.jsx)("p",{children:(0,sr.jsx)("strong",{children:"This action cannot be undone."})})]}),confirmText:"Delete",cancelText:"Cancel",type:"danger",loading:g})]})}),oD=nD,iD=()=>{const e=ve(),[t,n]=(0,o.useState)({results:[]}),[i,r]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(1),{customers:h}=my(),[m,f]=(0,o.useState)(""),[g,v]=(0,o.useState)("All"),[y,x]=(0,o.useState)({show:!1,message:"",type:"success"}),[b,w]=(0,o.useState)({skip:0,take:10,sort:[{field:"adjustmentDate",dir:"desc"}]}),k=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{r(!0),s(null);const o=hr("/inventory-adjustment?PageNumber=".concat(e,"&PageSize=").concat(t)),i=await fetch(o);if(!i.ok)throw new Error("Failed to fetch inventory adjustments: ".concat(i.status));const a=await i.json();Array.isArray(a)?(n({results:a}),c(a.length)):a.results&&Array.isArray(a.results)?(n(a),c(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),c(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),c(0)),u(e)}catch(o){s(o.message),n({results:[]}),c(0)}finally{r(!1)}},[]);(0,o.useEffect)(()=>{k()},[k]);const C=(0,o.useCallback)(()=>null!==t&&void 0!==t&&t.results?t.results:[],[t]),S=e=>{var t;const n=null===h||void 0===h||null===(t=h.results)||void 0===t?void 0:t.find(t=>t.id===e);return n?n.name:"Unknown Customer"},I=(0,o.useCallback)(()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];m&&(console.log("filteredData",e),e=e.filter(e=>{const t=S(e.customerID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(e.status).toLowerCase().includes(m.toLowerCase())})),"All"!==g&&(e=e.filter(e=>e.status===g));return{data:ab(e,b).data,total:e.length}},[t,m,g,h,b]),E=()=>{const e=Math.floor(b.skip/b.take)+1,t=b.take;k(e,t),function(e){x({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{x({show:!1,message:"",type:"success"})},3e3)}("Inventory adjustments refreshed successfully","success")};return i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"inventory-adjustment-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading inventory adjustments..."})]})})}):a?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"inventory-adjustment-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading inventory adjustments: ",a]}),(0,sr.jsxs)(bo,{onClick:E,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"inventory-adjustment-list-container",children:[(0,sr.jsx)(ay,{children:y.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:y.type,icon:!0},closable:!0,onClose:()=>x({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:y.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Inventory Adjustment Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/inventory-adjustment/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Inventory Adjustment"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search inventory adjustments...",value:m,onChange:e=>f(e.target.value)})]}),(0,sr.jsxs)("div",{className:"filter-bar",children:[(0,sr.jsx)(Yi,{className:"filter-icon"}),(0,sr.jsx)(Sh,{data:["All","Draft","Processed","Cancelled"],value:g,onChange:e=>v(e.target.value),style:{width:"100%"}})]}),(0,sr.jsx)(bo,{onClick:E,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===I().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No inventory adjustments match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:I().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},b),{},{onDataStateChange:e=>{const t=e.dataState;w(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===d&&o===b.take||k(n,o)},total:I().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=C().findIndex(t=>t===e.dataItem),n=b.take||10,o=((d||1)-1)*n+t+1;return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,sr.jsx)(zy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,sr.jsx)(zy,{field:"customerID",title:"Customer",width:"200px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:S(e.dataItem.customer)}))}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/inventory-adjustment/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/inventory-adjustment/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid adjustment data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No inventory adjustments found. Click the "Add New Inventory Adjustment" button above to create your first inventory adjustment.'})}),(0,sr.jsx)("style",{children:'\n          .inventory-adjustment-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n            max-width: none;\n            white-space: nowrap;\n            text-overflow: clip;\n            overflow: visible;\n            width: auto;\n          }\n\n          .status-draft {\n            background-color: #FEF3C7;\n            color: #92400E;\n          }\n\n          .status-processed {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-cancelled {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .status-open {\n            background-color: #E6FFFA;\n            color: #00695C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .inventory-adjustment-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n\n          .k-grid .k-table-td .status-badge {\n            max-width: none !important;\n            overflow: visible !important;\n        }\n      '})]})})},rD=()=>{const e=ve(),t=hy("inventory-transfer"),{loading:n,error:i,refresh:r}=t,a=t["inventory-transfers"],{customers:s}=my(),[l,c]=(0,o.useState)(""),[d,u]=(0,o.useState)("All"),[h,m]=(0,o.useState)({show:!1,message:"",type:"success"}),[f,g]=(0,o.useState)({skip:0,take:10,sort:[{field:"transferDate",dir:"desc"}]}),v=e=>{var t;const n=null===s||void 0===s||null===(t=s.results)||void 0===t?void 0:t.find(t=>t.id===e);return n?n.name:"Unknown Customer"},y=(0,o.useCallback)(()=>{if(null===a||void 0===a||!a.results)return{data:[],total:0};let e=[...a.results];l&&(e=e.filter(e=>{const t=v(e.customerID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(e.status).toLowerCase().includes(l.toLowerCase())})),"All"!==d&&(e=e.filter(e=>e.status===d));return{data:ab(e,f).data,total:e.length}},[a,l,d,s,f]);return n?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"inventory-transfer-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading inventory transfers..."})]})})}):i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"inventory-transfer-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading inventory transfers: ",i]}),(0,sr.jsxs)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"inventory-transfer-list-container",children:[(0,sr.jsx)(ay,{children:h.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:h.type,icon:!0},closable:!0,onClose:()=>m({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:h.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Inventory Transfer Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/inventory-transfer/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Inventory Transfer"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search inventory transfers...",value:l,onChange:e=>c(e.target.value)})]}),(0,sr.jsxs)("div",{className:"filter-bar",children:[(0,sr.jsx)(Yi,{className:"filter-icon"}),(0,sr.jsx)(Sh,{data:["All","Draft","Transferred","Cancelled"],value:d,onChange:e=>u(e.target.value),style:{width:"100%"}})]}),(0,sr.jsx)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==a&&void 0!==a&&a.results&&0!==a.results.length?0===y().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No inventory transfers match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},f),{},{onDataStateChange:e=>{g(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(f.skip||0);return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,sr.jsx)(zy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,sr.jsx)(zy,{field:"customerID",title:"Customer",width:"200px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:v(e.dataItem.customerID)}))}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/inventory-transfer/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/inventory-transfer/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid transfer data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No inventory transfers found. Click the "Add New Inventory Transfer" button above to create your first inventory transfer.'})}),(0,sr.jsx)("style",{children:'\n          .inventory-transfer-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n            max-width: none;\n            white-space: nowrap;\n            text-overflow: clip;\n            overflow: visible;\n            width: auto;\n          }\n\n          .status-draft {\n            background-color: #FEF3C7;\n            color: #92400E;\n          }\n\n          .status-transferred {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-cancelled {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .status-open {\n            background-color: #E6FFFA;\n            color: #00695C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .inventory-transfer-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n\n          .k-grid .k-table-td .status-badge {\n            max-width: none !important;\n            overflow: visible !important;\n        }\n      '})]})})},aD=e=>{const t=parseFloat(String(null!==e&&void 0!==e?e:"").replace(/,/g,""));return Number.isFinite(t)?t:0},sD=(e,t,n)=>Math.max(t,Math.min(n,e)),lD=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[...(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>{const t=new Date(e.invoiceDate),n="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear());return{id:e.id,date:n,dateKey:t.getTime(),type:"Invoice",refNo:e.sequenceNumber,dueAmount:aD(e.amountDue),originalAmount:aD(e.totalAmount),displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null,disabled:!1}}),...e.map(e=>{const t=new Date(e.tranDate),n="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear());return{id:e.id,date:n,dateKey:t.getTime(),type:"Debit Memo",refNo:e.sequenceNumber,dueAmount:aD(e.amountDue||e.totalAmount),originalAmount:aD(e.totalAmount),displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null,disabled:!1}})].sort((e,t)=>e.dateKey-t.dateKey)},cD=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>{const t=new Date(e.invoiceDate||e.billDate||e.tranDate),n="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear());return{id:e.id,date:n,dateKey:t.getTime(),type:"Vendor Bill",refNo:e.sequenceNumber,dueAmount:aD(e.amountDue||e.totalAmount),originalAmount:aD(e.totalAmount),displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null,disabled:!1}}).sort((e,t)=>e.dateKey-t.dateKey)};function dD(e){let{customerId:t,vendorId:n,recordType:i,onPaymentDataChange:r,isViewMode:a=!1,paymentId:s=null,mode:l="new"}=e;const[c,d]=(0,o.useState)("invoices"),[u,h]=(0,o.useState)(""),[m,f]=(0,o.useState)([]),[g,v]=(0,o.useState)(!1),[y,x]=(0,o.useState)(null),[b,w]=(0,o.useState)(null),[k,C]=(0,o.useState)(0),[S,I]=(0,o.useState)(0),E=(0,o.useRef)(1),j=(0,o.useRef)(new Map);(0,o.useEffect)(()=>{if(r){r({paymentAmount:u,invoices:m,appliedTo:k,unapplied:S,originalData:b})}},[u,m,k,S,b,r]);const A=(0,o.useCallback)(async e=>{if(!e)return[];try{const t=hr(pr.endpoints.invoiceByCustomer(e)),n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}},[]),_=(0,o.useCallback)(async e=>{if(!e)return[];try{const t=hr(pr.endpoints.debitMemoByCustomer(e)),n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}},[]),D=(0,o.useCallback)(async e=>{if(!e)return[];try{const t=hr(pr.endpoints.vendorBillByVendor(e)),n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}},[]),N=(0,o.useCallback)(async e=>{if(!e)return null;try{let t;if("CustomerPayment"===i)t=hr("/customer-payment-line/by-customer-payment/".concat(e));else{if("VendorPayment"!==i)throw new Error("Unsupported record type: ".concat(i));t=hr("/vendor-payment-line/by-vendor-payment/".concat(e))}const n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}},[i]),T=(0,o.useCallback)(async(e,t)=>{try{let n;switch(t){case"Invoice":n=hr("/invoice/".concat(e));break;case"Debit Memo":n=hr("/debit-memo/".concat(e));break;case"Vendor Bill":n=hr("/vendor-bill/".concat(e));break;default:throw new Error("Unsupported record type: ".concat(t))}const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)throw new Error("HTTP error! status: ".concat(o.status));return await o.json()}catch(n){return null}},[]),P=(0,o.useCallback)(async(e,t,n)=>{if(!e||!(t||n))return{recordMap:new Map,invoices:[]};try{const o=await N(e);if(!o||!o.lines)return{recordMap:new Map,invoices:[]};const r=new Map,a=o.lines.map(async e=>{const t=await T(e.recordID,e.recordType);return t&&r.set(e.recordID,p(p({},t),{},{paymentLineData:e})),{recordId:e.recordID,recordType:e.recordType,fullRecord:t}});let s;if(await Promise.all(a),"CustomerPayment"===i){const[e,n]=await Promise.all([A(t),_(t)]);[...e,...n].forEach(e=>{r.has(e.id)||r.set(e.id,e)}),s=lD(e,n)}else if("VendorPayment"===i){const e=await D(n);e.forEach(e=>{r.has(e.id)||r.set(e.id,e)}),s=cD(e)}return console.log("Edit mode record map created:",r),o.lines.forEach(e=>{if(("CustomerPayment"===i?["Invoice","Debit Memo"]:["Vendor Bill"]).includes(e.recordType)){const t=s.find(t=>t.id===e.recordID);if(t){const n=e.paymentAmount||0;t.displayAmount=n,t.originalDisplayAmount=n,t.checked=void 0===e.isApplied||e.isApplied,t.userTyped=!0;const o=r.get(e.recordID);o&&o.totalAmount&&(t.originalAmount=aD(o.totalAmount))}}}),{recordMap:r,invoices:s,paymentData:o}}catch(o){return{recordMap:new Map,invoices:[]}}},[N,T,A,_,D,i]),M=(0,o.useCallback)(e=>{if(!e||!e.lines)return{invoices:[]};const t=[];return e.lines.forEach(e=>{const n={id:e.recordID,date:new Date(e.transactionDate||new Date).toLocaleDateString("en-GB"),dateKey:new Date(e.transactionDate||new Date).getTime(),refNo:e.refNo||e.referenceNumber,displayAmount:e.paymentAmount||e.amountApplied||0,originalDisplayAmount:e.paymentAmount||e.amountApplied||0,originalAmount:e.totalAmount||0,checked:void 0===e.isApplied||e.isApplied,userTyped:!1,lockedSeq:null,disabled:a};("CustomerPayment"===i?["Invoice","Debit Memo"]:["Vendor Bill"]).includes(e.recordType)&&t.push(p(p({},n),{},{type:e.recordType,dueAmount:e.remainingAmount||e.amountDue||e.paymentAmount||0}))}),{invoices:t}},[a,i]);(0,o.useEffect)(()=>{(async()=>{if(console.log("PaymentLine fetchData - mode:",l,"isViewMode:",a,"paymentId:",s,"customerId:",t,"vendorId:",n,"recordType:",i),"CustomerPayment"!==i&&"VendorPayment"!==i)return void f([]);const e=t||n;if(e||a||s){if(a&&s){v(!0),x(null);try{const e=await N(s);w(e);const{invoices:t}=M(e);f(t);const n="CustomerPayment"===i?e.customerPayment:e.vendorPayment;n&&h(n.amount.toString());const o=t.reduce((e,t)=>e+t.displayAmount,0);C(o),I(0)}catch(o){x(o.message),f([])}finally{v(!1)}}else if("edit"===l&&s&&e){console.log("Entering edit mode - paymentId:",s,"entityId:",e),v(!0),x(null);try{const{recordMap:e,invoices:o,paymentData:r}=await P(s,t,n);f(o),w(r);const a="CustomerPayment"===i?null===r||void 0===r?void 0:r.customerPayment:null===r||void 0===r?void 0:r.vendorPayment;a&&h(a.amount.toString());const l=o.reduce((e,t)=>e+(t.checked?t.displayAmount:0),0);C(l);const c=aD((null===a||void 0===a?void 0:a.amount)||0);I(Math.max(c-l,0))}catch(o){console.log("Edit mode error:",o),x(o.message),f([])}finally{v(!1)}}else if(e){v(!0),x(null);try{if("CustomerPayment"===i){const[e,n]=await Promise.all([A(t),_(t)]),o=lD(e,n);f(o)}else if("VendorPayment"===i){const e=await D(n),t=cD(e);f(t)}}catch(o){x(o.message),f([])}finally{v(!1)}}}else f([])})()},[t,n,i,a,s,l,A,_,D,N,M,P]);const O=(0,o.useMemo)(()=>m.length>0&&m.every(e=>e.checked),[m]),R=e=>{var t,n;const o=aD(null!==(t=null===e||void 0===e?void 0:e.paymentAmountStr)&&void 0!==t?t:u);let i=o;const r=null!==(n=null===e||void 0===e?void 0:e.invoices)&&void 0!==n?n:m,a=r.map(e=>{var t;const n=e.userTyped&&null!==(t=e.lockedSeq)&&void 0!==t?t:1/0,o=e.displayAmount,i=e.originalDisplayAmount||0,r="edit"===l&&s?e.dueAmount+i:e.dueAmount,a=e.userTyped?sD(o,0,r):0,c=!e.userTyped&&o>0?sD(o,0,r):0;return{id:e.id,dateKey:e.dateKey,dueAmount:e.dueAmount,originalDisplayAmount:i,lineCap:r,checked:e.checked,userTyped:e.userTyped,typedOrder:n,typedRequested:a,stickyRequested:c,appliedCash:0}}),c=a.filter(e=>e.typedRequested>0).sort((e,t)=>e.typedOrder-t.typedOrder||e.dateKey-t.dateKey);for(const s of c){let e=s.typedRequested;const t=Math.min(e,i);s.appliedCash+=t,i-=t}const d=a.filter(e=>0===e.typedRequested&&e.stickyRequested>0).sort((e,t)=>e.dateKey-t.dateKey);for(const s of d){const e=s.appliedCash;let t=Math.max(s.stickyRequested-e,0);if(t<=0)continue;const n=Math.min(t,i);s.appliedCash+=n,i-=n}const h=a.filter(e=>0===e.typedRequested&&0===e.stickyRequested&&!0===e.checked).sort((e,t)=>e.dateKey-t.dateKey);for(const s of h){const e=s.appliedCash,t=Math.max(s.dueAmount-e,0);if(t<=0)continue;let n=t;const o=Math.min(n,i);s.appliedCash+=o,i-=o}let g=0;const v=r.map(e=>{const t=a.find(t=>t.id===e.id),n=t.appliedCash;return g+=n,p(p({},e),{},{displayAmount:n,checked:n>0,appliedCash:t.appliedCash})}),y=Math.max(o-g,0),x=((e,t)=>{const n=t;return e.map(e=>{const t=0===e.displayAmount&&n<=0;return p(p({},e),{},{disabled:t})})})(v,y);f(x),C(g),I(y)},L=(e,t)=>{if(a)return;const n=m.find(t=>t.id===e),o=S;if("edit"===l&&t&&o<=0&&0===n.displayAmount){if(0===(n.originalDisplayAmount||0))return}else if("edit"!==l&&t&&o<=0&&0===n.displayAmount)return;const i=m.map(n=>{if(n.id!==e)return n;if(!t)return p(p({},n),{},{checked:!1,displayAmount:0,userTyped:!1,lockedSeq:null});if("edit"===l&&0===n.displayAmount){const e=n.originalDisplayAmount||0;return p(p({},n),{},{checked:!0,displayAmount:e,userTyped:e>0})}return p(p({},n),{},{checked:!0})});f(i),R({invoices:i})};return(0,sr.jsxs)("div",{className:"payment-container",children:[(0,sr.jsx)("style",{children:'\n        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #f0f2f5; color: #333; padding: 20px; }\n        .payment-container { max-width: 1200px; margin: 0 auto; background-color: #fff; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }\n        .header-bar { background-color: #f7f9fa; padding: 15px 20px; border-bottom: 1px solid #ddd; display: flex; align-items: center; gap: 20px; }\n        .header-bar label { font-weight: 600; margin-right: 5px; font-size: 14px; }\n        .header-bar .k-numerictextbox { width: 140px; }\n        .header-bar .k-numerictextbox .k-input { font-size: 14px; }\n        .main-controls-area { padding: 20px 20px 0 20px; }\n        .controls-top-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n        .k-button { margin-right: 5px; }\n        .subtab-nav { border-bottom: 2px solid #dee2e6; display: flex; }\n        .subtab-link { background: none; border: none; padding: 10px 15px; cursor: pointer; font-size: 14px; font-weight: 600; color: #007bff; margin-bottom: -2px; }\n        .subtab-link.active { border-bottom: 2px solid #007bff; }\n        .subtab-header { background-color: #f7f9fa; padding: 10px 20px; border-bottom: 1px solid #ddd; display: flex; gap: 30px; font-size: 14px; font-weight: bold; }\n        .subtab-header strong { color: #000; }\n        .subtab-content { display: none; padding: 20px; }\n        .subtab-content.active { display: block; }\n        table { width: 100%; border-collapse: collapse; font-size: 13px; }\n        th, td { padding: 10px 8px; text-align: left; border-bottom: 1px solid #e0e0e0; }\n        thead { background-color: #f7f9fa; }\n        th { font-weight: 600; color: #555; }\n        tr:hover { background-color: #f5f5f5; }\n        .text-right { text-align: right; }\n        .k-checkbox { width: 16px; height: 16px; cursor: pointer; }\n        .k-checkbox-wrapper .k-checkbox {\n          border: 3px solid #000 !important;\n          background-color: #fff !important;\n          box-shadow: 0 0 0 1px #000 !important;\n        }\n        .k-checkbox-wrapper .k-checkbox:checked {\n          background-color: #000 !important;\n          border-color: #000 !important;\n          box-shadow: 0 0 0 1px #000 !important;\n        }\n        .k-checkbox-wrapper .k-checkbox:checked::after {\n          color: #fff !important;\n          font-weight: bold !important;\n          font-size: 12px !important;\n        }\n        .k-checkbox-wrapper .k-checkbox:hover {\n          border-color: #000 !important;\n          box-shadow: 0 0 0 2px rgba(0,0,0,0.3) !important;\n        }\n        .payment-input .k-numerictextbox { width: 90%; }\n        .payment-input .k-numerictextbox .k-input { text-align: right; }\n      '}),(0,sr.jsx)("div",{className:"header-bar",children:(0,sr.jsxs)("div",{children:[(0,sr.jsx)("label",{htmlFor:"paymentAmountLimit",children:"PAYMENT AMOUNT *"}),(0,sr.jsx)(xu,{id:"paymentAmountLimit",placeholder:"0.00",min:0,step:0,format:"n2",decimals:2,spinners:!1,value:u?parseFloat(u):null,onChange:e=>(e=>{var t;const n=e.target?e.target.value:(null===(t=e.value)||void 0===t?void 0:t.toString())||"";if(h(n),!a)if("edit"===l){const e=aD(n),t=m.reduce((e,t)=>e+(t.checked?t.displayAmount:0),0),o=Math.max(e-t,0);I(o)}else R({paymentAmountStr:n})})(e),disabled:a})]})}),("CustomerPayment"===i||"VendorPayment"===i)&&(0,sr.jsxs)("div",{className:"main-controls-area",children:[(0,sr.jsx)("div",{className:"controls-top-row",children:(0,sr.jsx)("div",{children:(0,sr.jsx)(bo,{id:"clearBtn",onClick:()=>{const e=m.map(e=>p(p({},e),{},{displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null}));E.current=1,f(e),h(""),R({invoices:e,paymentAmountStr:""})},disabled:a,children:"Clear All"})})}),(0,sr.jsx)("div",{className:"subtab-nav",children:(0,sr.jsx)(bo,{type:"button",className:"subtab-link ".concat("invoices"===c?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),d("invoices")},disabled:a&&0===m.length,children:"CustomerPayment"===i?"Invoices/Debitmemos":"Vendor Bills"})})]}),("CustomerPayment"===i||"VendorPayment"===i)&&(0,sr.jsxs)("div",{className:"subtab-header",children:[(0,sr.jsxs)("span",{children:["Applied : ",(0,sr.jsx)("strong",{id:"appliedToTotalDisplay",children:k.toFixed(2)})]}),(0,sr.jsx)("span",{children:"\u2022"}),(0,sr.jsxs)("span",{children:["Unapplied Amount : ",(0,sr.jsx)("strong",{id:"unappliedAmountDisplay",children:S.toFixed(2)})]})]}),("CustomerPayment"===i||"VendorPayment"===i)&&(0,sr.jsx)("div",{id:"invoices",className:"subtab-content ".concat("invoices"===c?"active":""),children:g&&"invoices"===c?(0,sr.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,sr.jsxs)("p",{children:["Loading ","CustomerPayment"===i?"invoices":"vendor bills","..."]})}):y&&"invoices"===c?(0,sr.jsxs)("div",{style:{padding:"20px",textAlign:"center",color:"#d32f2f"},children:[(0,sr.jsxs)("p",{children:["Error loading ","CustomerPayment"===i?"invoices":"vendor bills",": ",y]}),(0,sr.jsx)(bo,{onClick:()=>"CustomerPayment"===i?A(t):D(n),children:"Retry"})]}):(0,sr.jsxs)("table",{children:[(0,sr.jsx)("thead",{children:(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("th",{children:(0,sr.jsx)(ju,{className:"header-checkbox",checked:O,onChange:e=>(e=>{if(a)return;const t=m.map(t=>{if(e){if("edit"===l&&0===t.displayAmount){const e=t.originalDisplayAmount||0;return p(p({},t),{},{checked:!0,displayAmount:e,userTyped:e>0})}return p(p({},t),{},{checked:!0})}return p(p({},t),{},{checked:!1,displayAmount:0,userTyped:!1,lockedSeq:null})});f(t),R({invoices:t})})(e.value),disabled:a})}),(0,sr.jsx)("th",{children:"DATE"}),(0,sr.jsx)("th",{children:"TYPE"}),(0,sr.jsx)("th",{children:"REF NO."}),(0,sr.jsx)("th",{className:"text-right",children:"ORG AMT"}),!a&&(0,sr.jsx)("th",{className:"text-right",children:"AMT. DUE"}),(0,sr.jsx)("th",{className:"k-text-center",children:"PAYMENT"})]})}),(0,sr.jsx)("tbody",{id:"invoiceTableBody",children:0===m.length?(0,sr.jsx)("tr",{children:(0,sr.jsx)("td",{colSpan:a?"6":"7",style:{textAlign:"center",padding:"20px",color:"#666"},children:"CustomerPayment"===i?"No invoices found for this customer":"No vendor bills found for this vendor"})}):m.map(e=>(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("td",{children:(0,sr.jsx)(ju,{className:"invoice-checkbox",checked:e.checked,disabled:a||e.disabled,onChange:t=>L(e.id,t.value)})}),(0,sr.jsx)("td",{children:e.date}),(0,sr.jsx)("td",{children:e.type}),(0,sr.jsx)("td",{children:e.refNo}),(0,sr.jsx)("td",{className:"text-right",children:(e.originalAmount||0).toFixed(2)}),!a&&(0,sr.jsx)("td",{className:"text-right",children:e.dueAmount.toFixed(2)}),(0,sr.jsx)("td",{className:"text-right",children:(0,sr.jsx)("div",{className:"payment-input",children:(0,sr.jsx)(xu,{className:"invoice-payment-input",style:{textAlign:"right !important"},min:0,step:0,format:"n2",decimals:2,spinners:!1,value:e.displayAmount>0?parseFloat(e.displayAmount):null,onFocus:()=>!a&&(e=>{const t=m.find(t=>t.id===e);j.current.set(e,{startAmount:t.displayAmount,unappliedAtFocus:S})})(e.id),onBlur:()=>{return!a&&(t=e.id,void j.current.delete(t));var t},onChange:t=>{var n;return!a&&((e,t)=>{const n=m.find(t=>t.id===e),o=j.current.get(e)||{startAmount:n.displayAmount,unappliedAtFocus:S},i=n.dueAmount,r=o.startAmount||0,c=o.unappliedAtFocus||0;let d;if("edit"===l&&s){const e=n.originalDisplayAmount||0;d=sD(r+c,0,i+e)}else d=sD(r+c,0,i);let u=aD(t);u=sD(u,0,d),((e,t)=>{const n=m.map(n=>{if(n.id!==e)return n;const o=aD(t);return a?n:p(p({},n),{},{displayAmount:o,userTyped:!0,lockedSeq:n.lockedSeq||E.current++})});f(n),a||R({invoices:n})})(e,u)})(e.id,(null===(n=t.value)||void 0===n?void 0:n.toString())||"0")},disabled:a})})})]},e.id))})]})})]})}const uD=["validationMessage","touched","label"];if("undefined"!==typeof document&&!document.getElementById("payment-form-tab-styles")){const e=document.createElement("style");e.id="payment-form-tab-styles",e.textContent="\n  .payment-tabs {\n    display: flex;\n    gap: 8px;\n    border-bottom: 2px solid #e8eaed;\n    margin-bottom: 0;\n    background: transparent;\n    padding: 0;\n  }\n\n  .payment-tab {\n    padding: 8px 16px;\n    background: #f8f9fa;\n    border: 1px solid #e8eaed;\n    border-bottom: none;\n    cursor: pointer;\n    font-size: 13px;\n    font-weight: 600;\n    color: #5f6368;\n    transition: all 0.2s ease;\n    display: inline-flex;\n    align-items: center;\n    gap: 6px;\n    position: relative;\n    border-radius: 6px 6px 0 0;\n    white-space: nowrap;\n  }\n\n  .payment-tab:hover {\n    background: #e8f0fe;\n    color: #1a73e8;\n  }\n\n  .payment-tab.active {\n    background: white;\n    color: #1a73e8;\n    border-bottom: 2px solid white;\n    margin-bottom: -2px;\n    font-weight: 700;\n  }\n\n  .payment-tab svg {\n    font-size: 14px;\n  }\n\n  .payment-tab:first-child svg {\n    color: #34a853;\n  }\n\n  .payment-tab:first-child.active svg {\n    color: #34a853;\n  }\n\n  .payment-tab:last-child svg {\n    color: #ea8600;\n  }\n\n  .payment-tab:last-child.active svg {\n    color: #ea8600;\n  }\n\n  .payment-tab-content {\n    background: white;\n    border: 1px solid #e8eaed;\n    border-top: none;\n    padding: 0;\n    min-height: 300px;\n  }\n\n  .transactions-section {\n    padding: 24px;\n    background: linear-gradient(135deg, #fafbfc 0%, #ffffff 100%);\n    border-radius: 0;\n    margin: 0;\n    min-height: 300px;\n  }\n\n  .transactions-header {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    margin-bottom: 16px;\n    padding-bottom: 12px;\n    border-bottom: 2px solid #f1f3f4;\n  }\n\n  .transactions-header h3 {\n    margin: 0;\n    color: #202124;\n    font-size: 16px;\n    font-weight: 600;\n  }\n\n  .transactions-icon {\n    color: #1a73e8;\n    font-size: 16px;\n  }\n\n  .transactions-table {\n    width: 100%;\n    border-collapse: separate;\n    border-spacing: 0;\n    margin-top: 0;\n    border-radius: 8px;\n    overflow: hidden;\n    box-shadow: 0 1px 8px rgba(0,0,0,0.06);\n    border: 1px solid #e8eaed;\n    background: white;\n  }\n\n  .transactions-table th {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e8eaed 100%);\n    color: #5f6368;\n    padding: 10px 16px;\n    text-align: left;\n    font-weight: 600;\n    font-size: 12px;\n    text-transform: uppercase;\n    letter-spacing: 0.3px;\n    position: relative;\n    border: none;\n    border-bottom: 2px solid #e8eaed;\n  }\n\n  .transactions-table th:first-child {\n    border-radius: 8px 0 0 0;\n  }\n\n  .transactions-table th:last-child {\n    border-radius: 0 8px 0 0;\n  }\n\n  .transactions-table td {\n    padding: 12px 16px;\n    border-bottom: 1px solid #f1f3f4;\n    font-size: 13px;\n    color: #202124;\n    font-weight: 400;\n    position: relative;\n    vertical-align: middle;\n  }\n\n  .transactions-table tbody tr {\n    transition: all 0.3s ease;\n    background: white;\n  }\n\n  .transactions-table tbody tr:nth-child(even) {\n    background: #fafbfc;\n  }\n\n  .transactions-table tbody tr:hover {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e8f0fe 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 8px rgba(26,115,232,0.12);\n  }\n\n  .transactions-table tbody tr:hover td {\n    color: #1a73e8;\n  }\n\n  .transactions-table tbody tr:last-child td {\n    border-bottom: none;\n  }\n\n  .transactions-table tbody tr:last-child td:first-child {\n    border-radius: 0 0 0 8px;\n  }\n\n  .transactions-table tbody tr:last-child td:last-child {\n    border-radius: 0 0 8px 0;\n  }\n\n  .payment-amount {\n    font-weight: 600;\n    color: #137333;\n    font-size: 13px;\n    display: flex;\n    align-items: center;\n    gap: 4px;\n  }\n\n  .payment-amount::before {\n    font-size: 12px;\n    color: #5f6368;\n  }\n\n  .empty-state {\n    text-align: center;\n    padding: 40px 20px;\n    color: #5f6368;\n  }\n\n  .empty-state-icon {\n    font-size: 36px;\n    color: #dadce0;\n    margin-bottom: 12px;\n  }\n\n  .empty-state-text {\n    font-size: 14px;\n    font-weight: 400;\n    margin: 0;\n  }\n\n",document.head.appendChild(e)}const pD=e=>{const t={};return Object.keys(e).forEach(n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)}),t},hD=o.memo(e=>{var t,n,i,r,a,l;let{recordType:c,mode:d="new"}=e;const u=ve(),{id:h}=ye(),{loading:m,error:f,fetchFormConfiguration:g}=cy(),[v,y]=(0,o.useState)({show:!1,message:"",type:"success"}),[x,b]=(0,o.useState)(!1),[w,k]=(0,o.useState)(!1),[C,S]=(0,o.useState)(null),[I,E]=(0,o.useState)(null),[j,A]=(0,o.useState)({}),[_,D]=(0,o.useState)({}),[N,T]=(0,o.useState)([]),[P,M]=(0,o.useState)({}),[O,R]=(0,o.useState)({}),[L,F]=(0,o.useState)({}),[z,B]=(0,o.useState)(null),[V,H]=(0,o.useState)([]),[q,U]=(0,o.useState)(null),[G,W]=(0,o.useState)(null),[K,Y]=(0,o.useState)({paymentAmount:"",invoices:[],appliedTo:0,unapplied:0}),[X,J]=(0,o.useState)(!1),[Q,Z]=(0,o.useState)("items"),[$,ee]=(0,o.useState)([]),[te,ne]=(0,o.useState)(!1),oe=o.useRef(null),ie=(0,o.useCallback)(e=>{Y(e)},[]),re=(0,o.useCallback)(async e=>{if(!e)return[];try{ne(!0);const t=await fetch(hr("/journal-entry-line/by-record-id/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=await t.json();return Array.isArray(e)?e:[]}return 404!==t.status&&console.warn("Failed to fetch GL Impact data: ".concat(t.status)),[]}catch(t){return console.error("Error fetching GL Impact data:",t),[]}finally{ne(!1)}},[]),ae={CustomerPayment:"/customer-payment",VendorPayment:"/vendor-payment"},se="b2dae51c-12b6-4a90-adfd-4e2345026b70",le="5e3f19d1-f615-4954-88cb-30975d52b8cd",ce=(0,o.useCallback)(async(e,t)=>{try{const n=await fetch(hr(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}},[]),de=(0,o.useCallback)(async e=>{try{const t=await fetch(hr("/record-type"),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e});if(!t.ok)throw new Error("Failed to fetch record types: ".concat(t.status));return(await t.json()).results||[]}catch(t){return t.name,[]}},[]),ue=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";oe.current&&clearTimeout(oe.current),y({show:!0,message:e,type:t}),oe.current=setTimeout(()=>{y({show:!1,message:"",type:"success"}),oe.current=null},4e3)},[]),pe=async e=>{try{const t=await fetch(hr("/custom-form-field/by-form/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch custom form fields: ".concat(t.status));const n=await t.json(),o=(Array.isArray(n)?n:[]).sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0)),i={},r=o.filter(e=>["DropDownList","MultiSelect"].includes(e.fieldTypeName)&&e.fieldSource);for(const e of r){const t=await ce(e.fieldSource);i["custom_".concat(e.fieldName)]=t}return Object.keys(i).length>0&&D(e=>p(p({},e),i)),o}catch(t){return ue("Failed to load custom form fields: ".concat(t.message),"error"),[]}},he=(0,o.useMemo)(()=>{if(!X)return{};if(0===Object.keys(P).length)return j;const e={};return Object.keys(P).forEach(t=>{e["custom_".concat(t)]=P[t]}),p(p({},j),e)},[j,P,X]),me=(0,o.useCallback)(e=>{const t={};return null!==I&&void 0!==I&&I.standardFields?(I.standardFields.forEach(n=>{const o=e[n.name];!n.isMandatory||o&&""!==o||"edit"===d||(t[n.name]="".concat(n.name.charAt(0).toUpperCase()+n.name.slice(1)," is required")),"email"===n.name&&o&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(t[n.name]="Please enter a valid email address"),"phone"===n.name&&o&&!/^\d{10}$/.test(o.replace(/\D/g,""))&&(t[n.name]="Phone number must be 10 digits")}),t):t},[I,d]),fe=(0,o.useRef)({}),ge=(0,o.useMemo)(()=>{const e={};return Object.keys(_).forEach(t=>{var n;const o=_[t]||[],i="".concat(t,"_").concat(o.length,"_").concat((null===(n=o[0])||void 0===n?void 0:n.id)||o[0]||"");if(fe.current[i])return void(e[t]=fe.current[i]);const r=o.map(e=>{if("string"===typeof e)return{text:e,value:e};if(e.text&&e.value)return e;let n="";if(e&&"object"===typeof e)if("form"===t&&e.formName)n=e.formName;else if(e.name)n=e.name;else if(e.sequenceNumber)n=e.sequenceNumber;else if(e.title)n=e.title;else if(e.description)n=e.description;else{const t=Object.keys(e).find(t=>"id"!==t&&"string"===typeof e[t]&&e[t].trim().length>0);n=t?e[t]:String(e.id||"")}else n=String(e||"");return{text:n,value:e.id||e}});fe.current[i]=r,e[t]=r}),e},[_]),xe=(0,o.useCallback)(()=>{if(null!==I&&void 0!==I&&I.recordTypeId)return I.recordTypeId;let e=V.find(e=>e.name===c);return e?e.id:(e=V.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===c.toLowerCase()}),e?e.id:null)},[I,V,c]),be=(0,o.useCallback)(e=>{const t={};return e.forEach(e=>{switch(e.fieldTypeName){case"Checkbox":case"Switch":t[e.name]=!1;break;case"Number":case"NumericTextBox":t[e.name]=0;break;case"Date":case"DropDownList":t[e.name]=null;break;default:t[e.name]=""}}),t},[]),we=(0,o.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{if(!t)return{customData:{},customFieldIds:{}};const o=await fetch(hr(pr.endpoints.customFieldValueByTypeAndRecord(t,e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return{};const i=await o.json(),r={},a={},s={};return n.forEach(e=>{s[e.fieldName]=e.fieldTypeName}),Array.isArray(i)&&i.forEach(e=>{if(e.customFieldName&&void 0!==e.valueText&&null!==e.valueText){const n=s[e.customFieldName];let o=e.valueText;switch(n){case"DatePicker":case"Date":if("string"===typeof o&&""!==o.trim()){const e=new Date(o);o=isNaN(e.getTime())?null:e}break;case"NumericTextBox":case"Number":if("string"===typeof o&&""!==o.trim()){const e=parseFloat(o);o=isNaN(e)?0:e}break;case"Checkbox":case"Switch":"string"===typeof o&&(o="true"===o.toLowerCase()||"1"===o);break;case"MultiSelect":if("string"===typeof o&&""!==o.trim())try{const e=JSON.parse(o);o=Array.isArray(e)?e:[o]}catch(t){o=[o]}}r[e.customFieldName]=o,a[e.customFieldName]=e.id}}),{customData:r,customFieldIds:a}}catch(o){return{customData:{},customFieldIds:{}}}},[]),ke=(0,o.useCallback)(async e=>{if(!e){var t;T([]),M({}),R({}),F({}),B(null);return void((null===I||void 0===I||null===(t=I.standardFields)||void 0===t?void 0:t.some(e=>"sequenceNumber"===e.name))&&A(e=>p(p({},e),{},{sequenceNumber:null})))}try{var n,o;k(!0);const t=await pe(e);T(t),B(e);const i=be(t.map(e=>p(p({},e),{},{name:e.fieldName})));if("new"!==d&&h){const e=xe(),{customData:n,customFieldIds:o}=await we(h,e,t);R(o);const r=p(p({},i),n);M(r),F(r)}else M(i),F(i);const[r,a]=await Promise.all([fetch(hr("/form/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch(hr("/form-sequence/by-form/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let s="";if(r.ok&&a.ok){const[e,t]=await Promise.all([r.text().then(e=>e.trim()?JSON.parse(e):{}),a.text().then(e=>e.trim()?JSON.parse(e):[])]),n=Array.isArray(t)&&t.length>0?t[0]:{formSequenceNumber:0},o=e.prefix||"",i=(n.formSequenceNumber||0)+1;s="".concat(o).concat(String(i).padStart(4,"0"))}const l=null===I||void 0===I||null===(n=I.standardFields)||void 0===n?void 0:n.some(e=>"form"===e.name),c=null===I||void 0===I||null===(o=I.standardFields)||void 0===o?void 0:o.some(e=>"sequenceNumber"===e.name),u={};l&&(u.form=e),c&&s&&(u.sequenceNumber=s),A(e=>p(p({},e),u))}catch(r){var i;(null===I||void 0===I||null===(i=I.standardFields)||void 0===i?void 0:i.some(e=>"form"===e.name))&&A(t=>p(p({},t),{},{form:e}))}finally{k(!1)}},[I,pe,d,h,xe,we,be]),Ce=(0,o.useCallback)(e=>{const{name:t}=e,n=ge[t]||[],o=n.find(t=>t.value===e.value)||null;return{data:n,textField:"text",valueField:"value",value:o,onChange:async n=>{var o;const i=(null===(o=n.target.value)||void 0===o?void 0:o.value)||n.target.value,r=""===i||void 0===i?null:i;e.onChange&&e.onChange({target:{value:r}}),"form"===t&&await ke(r),"customer"===t&&U(r),"vendor"===t&&W(r)},virtual:!1,popupSettings:{appendTo:document.body,animate:!1}}},[ge,ke]),Se=(0,o.useCallback)(e=>{const{name:t}=e;return{data:ge[t]||[],textField:"text",valueField:"value"}},[ge]),Ie=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:n,touched:o,label:i}=e,r=s(e,uD),a=o&&n,l=p(p({},r),{},{className:a?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===d||r.disabled}),c={text:{component:Fc,props:l},number:{component:xu,props:p(p({},l),{},{min:0,step:0,spinners:!1})},textarea:{component:Cu,props:p(p({},l),{},{rows:4})},checkbox:{component:ju,props:p(p({},l),{},{label:i,checked:r.value||!1,style:{display:"flex",alignItems:"center"}})},date:{component:Zv,props:l},dropdown:{component:Sh,props:p(p({},l),Ce(e))},multiselect:{component:em,props:p(p({},l),Se(e))}},u=c[t]||c.text;return(0,sr.jsxs)("div",{children:[(0,sr.jsx)(u.component,p({},u.props)),a&&(0,sr.jsx)("div",{className:"k-form-error",children:n})]})}},[d,Ce,Se]),Ee=(0,o.useMemo)(()=>({Input:Ie(Fc,"text"),TextArea:Ie(Cu,"textarea"),Checkbox:Ie(ju,"checkbox"),NumericTextBox:Ie(Fc,"number"),Number:Ie(Fc,"number"),DropDownList:Ie(Sh,"dropdown"),DatePicker:Ie(Zv,"date"),MultiSelect:Ie(em,"multiselect")}),[Ie]),je=e=>Ee[e.fieldTypeName]||Ee.Input,Ae=function(e){const t=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);return e.isMandatory?"".concat(t," *"):t},_e=(0,o.useCallback)(function(e){if(e.isMandatory)return t=>t&&""!==t?"email"===e.name&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"Please enter a valid email address":"phone"===e.name&&t&&!/^\d{10}$/.test(t.replace(/\D/g,""))?"Phone number must be 10 digits":"":"".concat(e.displayName||e.name," is required")},[]),De=(0,o.useCallback)(e=>{if(e.isRequired)return t=>t&&""!==t?"":"".concat(e.fieldLabel||e.fieldName," is required")},[]),Ne=(0,o.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const r=t?"custom_".concat(e.fieldName||e.name):e.name,a=t&&e.fieldName||e.name,s=o||"".concat(t?"custom":"standard","-field-").concat(e.id||a),l=t?"".concat(e.fieldLabel||e.fieldName).concat(e.isRequired?" *":""):Ae(e,i),c=je(e),u=t?De(e):_e(e,i),p="Checkbox"===e.fieldTypeName||"Switch"===e.fieldTypeName,h="view"===d||e.isDisabled;return(0,sr.jsxs)("div",{className:"master-field-group ".concat(n?"master-field-full":""," ").concat(p?"checkbox-wrapper":""),children:[!p&&(0,sr.jsx)("label",{className:"k-label",children:l}),(0,sr.jsx)("div",{className:"field-wrapper",children:(0,sr.jsx)(gr,{id:r,name:r,component:c,validator:u,disabled:h,label:p?l:void 0})})]},s)},[d,c,je,Ae,_e,De]),Te=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=[];let r=[];return e.forEach(e=>{["TextArea","Checkbox","MultiSelect"].includes(e.fieldTypeName)?(r.length>0&&(i.push({type:"row",fields:[...r]}),r=[]),i.push({type:"fullWidth",field:e})):(r.push(e),3===r.length&&(i.push({type:"row",fields:[...r]}),r=[]))}),r.length>0&&i.push({type:"row",fields:[...r]}),i.map((e,i)=>{const r=t?"custom":"standard";return"row"===e.type?(0,sr.jsx)(o.Fragment,{children:e.fields.map(e=>Ne(e,t,!1,null,n))},"".concat(r,"-row-").concat(i)):Ne(e.field,t,!0,"".concat(r,"-full-").concat(i),n)})},[Ne]);(0,o.useEffect)(()=>{let e=!0;return(async()=>{if(e)try{k(!0),S(null),J(!1),T([]),M({}),R({}),F({}),B(null);const o=await de();if(!e)return;H(o);const i=await g(c);if(!e)return;E(i);const r=i.standardFields.filter(e=>"DropDownList"===e.fieldTypeName&&e.source),a=Fe(i,o,c),s=r.map(async e=>{let t;if("ChartOfAccount"===c&&"parent"===e.name)t=await ce(e.source),t=t.filter(e=>!0===e.isParent);else if("form"===e.name&&a)try{const e=await fetch(hr(pr.endpoints.formByTypeOfRecord(a)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch forms for record type: ".concat(e.status));t=await e.json(),t=Array.isArray(t)?t:t.results||t.data||[]}catch(n){t=[]}else t=await ce(e.source);return{name:e.name,data:t}}),l=await Promise.all(s);if(!e)return;const u=l.reduce((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e},{});D(u);const m=be(i.standardFields);if("new"===d&&i.standardFields.forEach(e=>{("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date")||"paymentDate"===e.name)&&(m[e.name]=new Date)}),"new"!==d&&h)try{var t;let r={};switch(c){case"CustomerPayment":{const e=await fetch(hr("/customer-payment/".concat(h)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});e.ok&&(r=await e.json());break}case"VendorPayment":{const e=await fetch(hr("/vendor-payment/".concat(h)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});e.ok&&(r=await e.json());break}default:r={}}if(!e)return;const a=(null===(t=r)||void 0===t?void 0:t.data)||r||{};if(a&&Object.keys(a).length>0){const t=p({},m);a.customer&&U(a.customer),a.vendor&&W(a.vendor),i.standardFields.forEach(e=>{if(void 0!==a[e.name]){let n=a[e.name];if(("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date")||"soDate"===e.name||"invoiceDate"===e.name||"deliveryDate"===e.name)&&n&&"string"===typeof n){const e=new Date(n);n=isNaN(e.getTime())?null:e}t[e.name]=n}});const r=i.standardFields.map(e=>e.name);if(Object.keys(a).forEach(e=>{void 0===a[e]||r.includes(e)||(t[e]=a[e])}),A(t),"view"!==d&&"edit"!==d||"CustomerPayment"!==c)ee([]);else try{const t=await re(h);if(!e)return;ee(t)}catch(n){console.error("Error loading GL Impact data:",n),ee([])}if(a.form)try{const t=await pe(a.form);if(!e)return;if(T(t),B(a.form),t.length>0){const n=be(t.map(e=>p(p({},e),{},{name:e.fieldName}))),r=Fe(i,o,c),{customData:a,customFieldIds:s}=await we(h,r,t);if(!e)return;R(s);const l=p(p({},n),a);M(l),F(l)}}catch(n){}}else A(m)}catch(C){A(m)}else{if(!e)return;A(m)}if(!e)return;J(!0)}catch(n){if(!e)return;S(n.message),ue(n.message,"error")}finally{if(!e)return;k(!1)}})(),()=>{e=!1}},[d,h,c]),(0,o.useEffect)(()=>()=>{oe.current&&(clearTimeout(oe.current),oe.current=null),T([]),M({}),R({}),F({}),B(null),A({}),J(!1),y({show:!1,message:"",type:"success"})},[]);const Pe=async e=>{try{var t,n,o,i;e.amount=K.paymentAmount||0,e.unAppliedAmount=K.unapplied||0,e.appliedAmount=K.appliedTo||0,0==parseInt(e.unAppliedAmount)?e.status=se:e.status=le;let r,a=null;if("CustomerPayment"===c){console.log("=== Validating JV Lines before record creation ===");const t=await Dy("",e.form,e.appliedAmount,c);if(!t.isValid)return void alert(t.errorMessage);a=t.jvLines,console.log("\u2713 JV Lines validated successfully. All accounts are configured.")}switch(c){case"CustomerPayment":{const t=hr("/customer-payment"),n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(pD(e))});if(!n.ok){const e=await n.text();throw new Error("Failed to create CustomerPayment: ".concat(n.status," - ").concat(e))}r=await n.json();break}case"VendorPayment":{const t=hr("/vendor-payment"),n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(pD(e))});if(!n.ok){const e=await n.text();throw new Error("Failed to create VendorPayment: ".concat(n.status," - ").concat(e))}r=await n.json();break}default:throw new Error("Unsupported record type: ".concat(c))}let s=null;if(null!==(t=r)&&void 0!==t&&t.id)s=r.id;else if(null!==(n=r)&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&o.id)s=r.data.id;else if("string"===typeof r)s=r;else{const e=Object.keys(r||{}).filter(e=>e.toLowerCase().includes("id"));e.length>0&&(s=r[e[0]])}const l=(null===K||void 0===K||null===(i=K.invoices)||void 0===i?void 0:i.filter(e=>e.checked))||[],d=K.paymentAmount||0,u=e.sequenceNumber||"N/A",h=[...l];(async(e,t,n,o)=>{try{const i=o.map(async o=>{const i={paymentAmount:o.displayAmount||o.applyAmount||0,recordID:o.id,paymentSeqNum:t,mainRecordAmount:n,isApplied:o.checked||!1,refNo:o.refNo||"",recordType:o.type||"",paymentId:e};let r;if("CustomerPayment"===c)r=hr("/customer-payment-line");else{if("VendorPayment"!==c)throw new Error("Unsupported record type for payment lines: ".concat(c));r=hr("/vendor-payment-line")}const a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(pD(i))});if(!a.ok){const e=await a.text();throw new Error("Failed to create payment line item: ".concat(a.status," - ").concat(e))}return await a.json()});return await Promise.all(i)}catch(C){throw C}})(s,u,d,h);Me(s);if(console.log("paymentLineData:",JSON.stringify(K)),"CustomerPayment"===c&&a){const e=a.map(e=>p(p({},e),{},{recordId:s,recordType:c,id:null}));console.log("Processing validated JV lines with recordId:",s),await _y(e,"new",s,c)}if(await(async e=>{try{var t;const n=[],o=(null===(t=e.invoices)||void 0===t?void 0:t.filter(e=>e.checked))||[];for(const e of o){const t=e.dueAmount-e.displayAmount;let o,i;"Invoice"===e.type?(o={amountDue:t},i=hr("/invoice/".concat(e.id))):"Debit Memo"===e.type?(o={amountDue:t},i=hr("/debit-memo/".concat(e.id))):"Vendor Bill"===e.type&&(o={amountDue:t},i=hr("/vendor-bill/".concat(e.id))),o&&i&&n.push(fetch(i,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(pD(o))}))}n.length>0&&await Promise.all(n)}catch(C){throw C}})(K),!s)throw new Error("".concat(c," header created but no ID returned. Response: ").concat(JSON.stringify(r)));return s}catch(C){throw C}},Me=e=>{if(K.appliedTo<=0)return{payment:{paymentId:"",paymentAmount:"0.00"},invoicesPaid:[]};const t=K.invoices.filter(e=>e.displayAmount>0).map(e=>({refNo:e.refNo,date:e.date,recordId:e.id,type:e.recordType,totalAmountPaid:e.displayAmount.toFixed(2)}));return{paymentAmount:parseFloat(K.paymentAmount||0).toFixed(2),invoicesPaid:t}},Oe=async e=>{console.log("handleSubmit called in mode:",d,"with values:",e);try{k(!0),S(null);const{standardData:o,customData:i}=Le(e);if("new"===d){const e=await Pe(o),t=xe();await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o=Object.entries(e).map(async e=>{let[o,i]=e;const r=N.find(e=>e.fieldName===o),a=null===r||void 0===r?void 0:r.id,s={request:"create",typeOfRecord:n,valueText:String(i),customFieldID:a,recordID:t},l=await fetch("".concat(pr.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(pD(s))});if(!l.ok)throw new Error('Failed to create custom field "'.concat(o,'": ').concat(l.status));return await l.json()});await Promise.all(o)})(i,e,t),z&&await(async e=>{try{const t=await fetch("".concat(pr.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)return;const n=await t.text();if(!n.trim())return;const o=JSON.parse(n);if(!Array.isArray(o)||0===o.length)return;const i=o[0],r=(i.formSequenceNumber||0)+1;await fetch("".concat(pr.baseURL,"/form-sequence/").concat(i.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(pD({formId:e,formSequenceNumber:r}))})}catch(t){}})(z),ue("".concat(c," created successfully!"),"success"),u(ae[c]||"/")}else{var t;await Re(h,o);const e=xe();if(await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o={};if(Object.entries(e).forEach(e=>{let[t,n]=e;const i=L[t];String(n)!==String(i)&&(o[t]=n)}),0===Object.keys(o).length)return;const i=Object.entries(o).map(async e=>{let[o,i]=e;const r=N.find(e=>e.fieldName===o),a=null===r||void 0===r?void 0:r.id,s=O[o],l={request:"update",typeOfRecord:n,valueText:String(i),customFieldID:a,recordID:t};let c;if(c=s?await fetch("".concat(pr.baseURL,"/custom-field-value/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(pD(l))}):await fetch("".concat(pr.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(pD(l))}),!c.ok)throw new Error("Failed to ".concat(s?"update":"create",' custom field "').concat(o,'": ').concat(c.status));return await c.json()});await Promise.all(i)})(i,h,e),"CustomerPayment"==c)try{const e=await fetch("".concat(pr.baseURL,"/journal-entry-line/by-record-id/").concat(h),{method:"GET",headers:{"Content-Type":"application/json"}});let t=[];if(e.ok){const n=await e.json();Array.isArray(n)&&(t=n)}if(t.length>0){const e=t.map(e=>({jeid:h,id:e.id,accountId:e.account,memo:e.memo,newCredit:0,newDebit:0,oldCredit:Number(e.credit||0),oldDebit:Number(e.debit||0)}));console.log("\ud83d\udd04 Calling processJournal for delete operation with changes:",e),await _y(e,"delete")}}catch(C){console.error("Error deleting journal entry lines:",C)}if(K&&(null===(t=K.invoices)||void 0===t?void 0:t.length)>0){var n;const e=[...(null===(n=K.invoices)||void 0===n?void 0:n.filter(e=>e.checked))||[]];if(e.length>0){await(async e=>{const t={CustomerPayment:{endpoint:hr("/customer-payment-line"),getEndpoint:hr("/customer-payment-line/by-customer-payment/".concat(h)),idField:"paymentId"},VendorPayment:{endpoint:hr("/vendor-payment-line"),getEndpoint:hr("/vendor-payment-line/by-vendor-payment/".concat(h)),idField:"paymentId"}}[c];if(t)try{const n=await fetch(t.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let o=[];if(n.ok){const e=await n.json();if(Array.isArray(e))o=e;else if(e.results&&Array.isArray(e.results))o=e.results;else{const t=Object.values(e).filter(e=>Array.isArray(e));t.length>0&&(o=t[0])}}const i=new Map;o.forEach(e=>{e.recordID&&i.set(e.recordID,e)});const r=new Map;e.forEach(e=>{e.id&&r.set(e.id,e)});const a=[],s=[],l=[];e.forEach(e=>{if(e.id&&i.has(e.id)){const t=i.get(e.id);a.push(p(p({},e),{},{lineItemId:t.id}))}else s.push(e)}),o.forEach(e=>{e.recordID&&!r.has(e.recordID)&&l.push(e)});const c=a.map(e=>{const n={paymentAmount:e.displayAmount||e.applyAmount||0,recordID:e.id,isApplied:e.checked||!1,refNo:e.refNo||"",recordType:e.type||"",[t.idField]:h};return fetch("".concat(t.endpoint,"/").concat(e.lineItemId),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(pD(n))})}),d=s.map(e=>{const n={paymentAmount:e.displayAmount||0,recordID:e.id,isApplied:e.checked||!1,refNo:e.refNo||"",recordType:e.type||"",[t.idField]:h};return fetch(t.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(pD(n))})}),u=l.map(e=>fetch("".concat(t.endpoint,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}})),m=[...c,...d,...u],f=(await Promise.all(m)).filter(e=>!e.ok);if(f.length>0)throw new Error("Failed to update ".concat(f.length," payment line items"))}catch(C){throw C}})(e);const t=K.originalData||{};await(async(e,t)=>{try{var n;const i=[],r=(null===(n=e.invoices)||void 0===n?void 0:n.filter(e=>e.checked))||[];for(const e of r){var o;const n=["Invoice","Debit Memo","Vendor Bill"],r=null===t||void 0===t||null===(o=t.lines)||void 0===o?void 0:o.find(t=>t.recordID===e.id&&n.includes(t.recordType)),a=parseFloat((null===r||void 0===r?void 0:r.paymentAmount)||0),s=parseFloat(e.displayAmount||0),l=s-a,c=parseFloat(e.dueAmount||0),d=c-l;let u,p;console.log("Edit Mode - ".concat(e.type," ").concat(e.refNo,": Original Payment: ").concat(a,", New Payment: ").concat(s,", Payment Difference: ").concat(l,", Current Amount Due: ").concat(c,", New Amount Due: ").concat(d)),"Invoice"===e.type?(u={amountDue:d},p=hr("/invoice/".concat(e.id))):"Debit Memo"===e.type?(u={amountDue:d},p=hr("/debit-memo/".concat(e.id))):"Vendor Bill"===e.type&&(u={amountDue:d},p=hr("/vendor-bill/".concat(e.id))),u&&p&&0!==l&&i.push(fetch(p,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(pD(u))}))}i.length>0&&await Promise.all(i)}catch(C){throw C}})(K,t)}}"CustomerPayment"==c&&await My("",o.form,o.appliedAmount,h,c),ue("".concat(c," updated successfully!"),"success"),u(ae[c]||"/")}}catch(o){S(o.message),ue(o.message,"error")}finally{k(!1)}},Re=async(e,t)=>{try{let n;switch(console.log("paymentLineData89999999999999999:",K),t.amount=K.paymentAmount||0,t.unAppliedAmount=K.unapplied||0,t.appliedAmount=K.appliedTo||0,0==parseInt(t.unAppliedAmount)?t.status=se:t.status=le,c){case"CustomerPayment":n=hr("/customer-payment/".concat(e));break;case"VendorPayment":n=hr("/vendor-payment/".concat(e));break;default:throw new Error("Unsupported record type: ".concat(c))}const o=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(pD(t))});if(!o.ok){const e=await o.text();throw new Error("Failed to update ".concat(c,": ").concat(o.status," - ").concat(e))}return await o.json()}catch(C){throw C}},Le=e=>{const t={},n={};return Object.keys(e).forEach(o=>{const i=e[o],r=""===i?null:i;if(o.startsWith("custom_")){const e=o.replace("custom_","");n[e]=r}else t[o]=r}),{standardData:t,customData:n}},Fe=(e,t,n)=>{if(null!==e&&void 0!==e&&e.recordTypeId)return e.recordTypeId;let o=t.find(e=>e.name===n);return o?o.id:(o=t.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()}),o?o.id:null)};return!w&&I&&X?C?(0,sr.jsx)("div",{className:"master-form-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("h3",{children:["Error Loading ",c]}),(0,sr.jsx)("p",{children:C}),(0,sr.jsx)(bo,{onClick:()=>u("/"),children:"Back to Dashboard"})]})}):(0,sr.jsxs)("div",{className:"master-form-container","data-theme":c.toLowerCase(),children:[(0,sr.jsx)(ay,{children:v.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:v.type,icon:!0},closable:!0,onClose:()=>y({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:v.message})})})}),(0,sr.jsx)("div",{className:"master-form-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:(0,sr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,sr.jsx)("h2",{children:"new"===d?"Create New ".concat(c):"edit"===d?"Edit ".concat(c):"View ".concat(c)}),("edit"===d||"view"===d)&&j.status&&(()=>{const e={"b2dae51c-12b6-4a90-adfd-4e2345026b70":"Closed","5e3f19d1-f615-4954-88cb-30975d52b8cd":"Open"}[j.status]||"",t=(e=>{switch(e.toLowerCase()){case"open":return{bg:"#FEF3C7",text:"#92400E",border:"#F59E0B"};case"closed":return{bg:"#F3F4F6",text:"#374151",border:"#6B7280"};default:return{bg:"#F3F4F6",text:"#374151",border:"#9CA3AF"}}})(e);return(0,sr.jsx)("span",{style:{display:"inline-flex",alignItems:"center",padding:"6px 12px",borderRadius:"16px",fontSize:"12px",fontWeight:"600",backgroundColor:t.bg,color:t.text,border:"1px solid ".concat(t.border),textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:e})})()]})}),("edit"===d||"view"===d)&&("CustomerPayment"===c||"VendorPayment"===c)&&(0,sr.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px",marginTop:"10px"},children:(0,sr.jsxs)("div",{style:{display:"flex",backgroundColor:"#ffffff",border:"2px solid #e8f4fd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",minWidth:"420px"},children:[(0,sr.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#f8fbff",borderRight:"1px solid #e8f4fd",flex:1},children:[(0,sr.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"Amount"}),(0,sr.jsx)("div",{style:{fontSize:"18px",color:"#2c3e50",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:(null===j||void 0===j||null===(t=j.amount)||void 0===t?void 0:t.toFixed(2))||(null===K||void 0===K||null===(n=K.paymentAmount)||void 0===n?void 0:n.toFixed(2))||"0.00"})]}),(0,sr.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#f0fdf4",borderRight:"1px solid #e8f4fd",flex:1},children:[(0,sr.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"Applied"}),(0,sr.jsx)("div",{style:{fontSize:"18px",color:"#16a34a",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:(null===j||void 0===j||null===(i=j.appliedAmount)||void 0===i?void 0:i.toFixed(2))||(null===K||void 0===K||null===(r=K.appliedTo)||void 0===r?void 0:r.toFixed(2))||"0.00"})]}),(0,sr.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#ffffff",flex:1},children:[(0,sr.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"Unapplied"}),(0,sr.jsx)("div",{style:{fontSize:"18px",color:"#ea580c",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:(null===j||void 0===j||null===(a=j.unAppliedAmount)||void 0===a?void 0:a.toFixed(2))||(null===K||void 0===K||null===(l=K.unapplied)||void 0===l?void 0:l.toFixed(2))||"0.00"})]})]})}),(0,sr.jsx)("div",{className:"master-form-element",children:(0,sr.jsx)(la,{initialValues:he,validator:me,onSubmit:Oe,render:e=>(0,sr.jsxs)(ma,{children:[(0,sr.jsxs)("div",{className:"master-form-content",children:[(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:Te((null===I||void 0===I?void 0:I.standardFields)||[],!1,e)})]}),N.length>0&&(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:Te(N,!0,e)})]}),(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsxs)("div",{className:"payment-tabs",children:[(0,sr.jsxs)("button",{type:"button",className:"payment-tab ".concat("items"===Q?"active":""),onClick:()=>Z("items"),children:[(0,sr.jsx)(Xi,{})," Apply Payment"]}),("view"===d||"edit"===d)&&"CustomerPayment"===c&&(0,sr.jsxs)("button",{type:"button",className:"payment-tab ".concat("glImpact"===Q?"active":""),onClick:()=>Z("glImpact"),children:[(0,sr.jsx)(Fi,{})," GL Impact"]})]}),(0,sr.jsxs)("div",{className:"payment-tab-content",children:["items"===Q&&(0,sr.jsx)("div",{style:{padding:"0",width:"100%",maxWidth:"100%",overflow:"hidden"},children:(0,sr.jsx)(dD,{recordType:c,mode:d,embedded:!0,customerId:"view"===d?null:q,vendorId:"view"===d?null:G,onPaymentDataChange:ie,isViewMode:"view"===d,paymentId:"view"===d||"edit"===d?h:null})}),"glImpact"===Q&&("view"===d||"edit"===d)&&"CustomerPayment"===c&&(te?(0,sr.jsx)("div",{className:"transactions-section",children:(0,sr.jsxs)("div",{className:"empty-state",children:[(0,sr.jsx)("div",{className:"empty-state-icon",children:"\u23f3"}),(0,sr.jsx)("p",{className:"empty-state-text",children:"Loading GL Impact data..."})]})}):$&&0!==$.length?(0,sr.jsx)("div",{className:"transactions-section",children:(0,sr.jsxs)("table",{className:"transactions-table",children:[(0,sr.jsx)("thead",{children:(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("th",{children:"Account Name"}),(0,sr.jsx)("th",{children:"Debit"}),(0,sr.jsx)("th",{children:"Credit"}),(0,sr.jsx)("th",{children:"Memo"})]})}),(0,sr.jsx)("tbody",{children:$.map((e,t)=>(0,sr.jsxs)("tr",{children:[(0,sr.jsx)("td",{children:e.accountName||""}),(0,sr.jsx)("td",{children:(0,sr.jsx)("span",{className:"payment-amount",children:e.debit?e.debit.toFixed(2):"0.00"})}),(0,sr.jsx)("td",{children:(0,sr.jsx)("span",{className:"payment-amount",children:e.credit?e.credit.toFixed(2):"0.00"})}),(0,sr.jsx)("td",{children:e.memo||""})]},e.id||t))})]})}):(0,sr.jsx)("div",{className:"transactions-section",children:(0,sr.jsxs)("div",{className:"empty-state",children:[(0,sr.jsx)("div",{className:"empty-state-icon",children:"\ud83d\udcca"}),(0,sr.jsxs)("p",{className:"empty-state-text",children:["No GL Impact data found for this ",c.toLowerCase(),"."]})]})}))]})]})]}),(0,sr.jsxs)("div",{className:"master-form-actions",children:[(0,sr.jsxs)(bo,{type:"button",onClick:()=>u(ae[c]||"/"),className:"k-button k-button-secondary",children:[(0,sr.jsx)(tr,{})," ","view"===d?"Close":"Cancel"]}),"new"!==d&&"view"!==d&&(0,sr.jsxs)(bo,{type:"button",onClick:()=>b(!0),className:"k-button k-button-danger",children:[(0,sr.jsx)(or,{})," Delete"]}),"view"!==d&&(0,sr.jsxs)(bo,{type:"submit",disabled:w||"edit"!==d&&!e.allowSubmit,className:"k-button k-button-primary",onClick:"edit"===d?t=>{t.preventDefault(),console.log("Edit mode save button clicked"),Oe(e.values||he)}:void 0,children:[(0,sr.jsx)(Qi,{})," ",w?"Saving...":"Save"]})]})]})},"".concat(c.toLowerCase(),"-form-").concat(d,"-").concat(h||"new","-").concat(z||"no-form"))}),(0,sr.jsx)(ly,{isOpen:x,onClose:()=>b(!1),onConfirm:async()=>{try{k(!0),S(null);const e={CustomerPayment:{deleteByPaymentEndpoint:hr("/customer-payment-line/by-customer-payment/".concat(h)),mainEndpoint:hr("/customer-payment/".concat(h))},VendorPayment:{deleteByPaymentEndpoint:hr("/vendor-payment-line/by-vendor-payment/".concat(h)),mainEndpoint:hr("/vendor-payment/".concat(h))}}[c];if(!e)throw new Error("Unsupported record type: ".concat(c));const t=await fetch(e.deleteByPaymentEndpoint,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});let n=[];if(t.ok){n=(await t.json()).lines||[]}n.filter(e=>"Vendor Bill"===e.recordType);if(console.log("paymentLines",n),n.length>0){const e=n.map(async e=>{if(e.recordID&&e.paymentAmount&&e.recordType)try{let t,n=e.recordType;if("CustomerPayment"===c?"Invoice"===n?t=hr("/invoice/".concat(e.recordID)):"Debit Memo"===n&&(t=hr("/debit-memo/".concat(e.recordID))):"VendorPayment"===c&&"Vendor Bill"===n&&(t=hr("/vendor-bill/".concat(e.recordID))),!t)return void console.warn("Unsupported record type for amount reversion: ".concat(n));const o=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return void console.warn("Failed to fetch ".concat(n," ").concat(e.recordID," for amount reversion"));const i=await o.json(),r=i.amountDue||0,a=e.paymentAmount||0,s=r+a,l=p(p({},i),{},{amountDue:s});delete l.customerName,delete l.locationName,delete l.soSequenceNumber,delete l.dnSequenceNumber,delete l.formName,delete l.vendorName;const d=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(pD(l))});if(d.ok)console.log("Successfully reverted amountDue for ".concat(n," ").concat(e.recordID,": ").concat(r," + ").concat(a," = ").concat(s));else{const t=await d.text();console.warn("Failed to revert amountDue for ".concat(n," ").concat(e.recordID,": ").concat(t))}}catch(C){console.warn("Error reverting amountDue for ".concat(e.recordType," ").concat(e.recordID,":"),C)}});await Promise.all(e)}if(n.length>0){const e=hr("CustomerPayment"===c?"/customer-payment-line":"/vendor-payment-line"),t=n.map(async t=>{const n=await fetch("".concat(e,"/").concat(t.id),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!n.ok){const e=await n.text();throw new Error("Failed to delete payment line ".concat(t.id,": ").concat(n.status," - ").concat(e))}return n});await Promise.all(t)}const o=await fetch(e.mainEndpoint,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok){const e=await o.text();throw new Error("Failed to delete ".concat(c,": ").concat(o.status," - ").concat(e))}if("CustomerPayment"==c)try{console.log("existingResponse delete 11111111111111 ---- id",h);const e=await fetch("".concat(pr.baseURL,"/journal-entry-line/by-record-id/").concat(h),{method:"GET",headers:{"Content-Type":"application/json"}});console.log("existingResponse delete 11111111111111",e);let t=[];if(e.ok){const n=await e.json();Array.isArray(n)&&(t=n)}if(console.log("existingItems 22222222",t),t.length>0){const e=t.map(e=>({jeid:h,id:e.id,accountId:e.account,memo:e.memo,newCredit:0,newDebit:0,oldCredit:Number(e.credit||0),oldDebit:Number(e.debit||0)}));await _y(e,"delete")}}catch(C){console.error("Error deleting journal entry lines:",C)}const i=xe();await(async(e,t)=>{if(e&&t)try{const n=await fetch("".concat(pr.baseURL,"/custom-field-value/by-type-and-record?typeOfRecord=").concat(t,"&recordId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(n.ok){const t=await n.json();if(Array.isArray(t)&&t.length>0){const n=t.map(async e=>{const t=await fetch("".concat(pr.baseURL,"/custom-field-value/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});t.ok||console.warn("Failed to delete custom field value ".concat(e.id,": ").concat(t.status))});await Promise.all(n),console.log("\u2705 Deleted ".concat(t.length," custom field values for ").concat(c," ").concat(e))}}}catch(C){console.error("Error deleting custom field values:",C)}})(h,i),ue("".concat(c," deleted successfully!"),"success"),u(ae[c]||"/")}catch(e){S(e.message),ue(e.message,"error")}finally{k(!1),b(!1)}},title:"Confirm Delete",message:(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsxs)("p",{children:["Are you sure you want to delete this ",c.toLowerCase(),"?"]}),(0,sr.jsx)("p",{children:(0,sr.jsx)("strong",{children:"This action cannot be undone."})})]}),confirmText:"Delete",cancelText:"Cancel",type:"danger",loading:w})]}):(0,sr.jsx)("div",{className:"master-form-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsxs)("div",{children:["Loading ",c.toLowerCase()," form..."]})]})})}),mD=e=>(0,sr.jsx)(hD,p(p({},e),{},{recordType:"CustomerPayment"})),fD=e=>(0,sr.jsx)(hD,p(p({},e),{},{recordType:"VendorPayment"})),gD=()=>{console.log("CustomerPaymentList component mounted");const e=ve(),{customerPayments:t,loading:n,error:i,refresh:r}=hy("customer-payment"),{customers:a}=my();console.log("Hook results:",{customerPayments:t,loading:n,error:i});const[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[m,f]=(0,o.useState)({skip:0,take:10,sort:[{field:"tranDate",dir:"desc"}]});(0,o.useEffect)(()=>{console.log("CustomerPaymentList useEffect - customerPayments changed:",t),console.log("Loading:",n,"Error:",i)},[t,n,i]);const g=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find(t=>t.id===e);return n?n.name:"Unknown Customer"},v=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),y=(0,o.useCallback)(()=>{if(console.log("CustomerPayments data:",t),(null===t||void 0===t||!t.results)&&!Array.isArray(t))return console.log("No customerPayments data found"),{data:[],total:0};const e=Array.isArray(t)?t:(null===t||void 0===t?void 0:t.results)||[];console.log("DataArray:",e);let n=[...e];s&&(n=n.filter(e=>{const t=e.customerName||g(e.customerID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(v(e.amount)).toLowerCase().includes(s.toLowerCase())}));return{data:ab(n,m).data,total:n.length}},[t,s,c,a,m]);return i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"payment-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading customer payments: ",i]}),(0,sr.jsxs)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"payment-list-container",children:[(0,sr.jsx)(ay,{children:u.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:u.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Customer Payment Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/customer-payment/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Customer Payment"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search customer payments...",value:s,onChange:e=>l(e.target.value)})]}),(0,sr.jsx)(bo,{onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),n?(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("span",{children:"Loading customer payments..."})]}):null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===y().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No customer payments match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},m),{},{onDataStateChange:e=>{f(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(m.skip||0);return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,sr.jsx)(zy,{field:"sequenceNumber",title:"Document Number",width:"220px"}),(0,sr.jsx)(zy,{field:"customerID",title:"Customer",width:"260px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.customerName||g(e.dataItem.customerID)}))}),(0,sr.jsx)(zy,{field:"amount",title:"Amount",width:"160px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:v(e.dataItem[e.field])}))}),(0,sr.jsx)(zy,{field:"",title:"Actions",width:"160px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/customer-payment/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/customer-payment/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid payment data"}))}})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No customer payments found. Click the "Add New Customer Payment" button above to create your first customer payment.'})}),(0,sr.jsx)("style",{children:'\n          .payment-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .payment-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n      '})]})})},vD=()=>{const e=ve(),{vendorPayments:t,loading:n,error:i,refresh:r}=hy("vendor-payment"),{vendors:a}=fy(),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[m,f]=(0,o.useState)({skip:0,take:10,sort:[{field:"tranDate",dir:"desc"}]}),g=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find(t=>t.id===e);return n?n.name:"Unknown Vendor"},v=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),y=(0,o.useCallback)(()=>{if((null===t||void 0===t||!t.results)&&!Array.isArray(t))return{data:[],total:0};let e=[...Array.isArray(t)?t:(null===t||void 0===t?void 0:t.results)||[]];s&&(e=e.filter(e=>{const t=e.vendorName||g(e.vendorID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(v(e.totalAmount)).toLowerCase().includes(s.toLowerCase())}));return{data:ab(e,m).data,total:e.length}},[t,s,c,a,m]);return i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"payment-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading vendor payments: ",i]}),(0,sr.jsxs)(bo,{type:"button",onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"payment-list-container",children:[(0,sr.jsx)(ay,{children:u.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:u.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Vendor Payment Master"}),(0,sr.jsxs)(bo,{type:"button",onClick:()=>e("/vendor-payment/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Vendor Payment"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search vendor payments...",value:s,onChange:e=>l(e.target.value)})]}),(0,sr.jsx)(bo,{type:"button",onClick:r,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===y().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No vendor payments match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},m),{},{onDataStateChange:e=>{f(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(m.skip||0);return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,sr.jsx)(zy,{field:"sequenceNumber",title:"Document Number",width:"220px"}),(0,sr.jsx)(zy,{field:"vendorID",title:"Vendor",width:"260px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.vendorName||g(e.dataItem.vendorID)}))}),(0,sr.jsx)(zy,{field:"amount",title:"Amount",width:"160px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:v(e.dataItem[e.field])}))}),(0,sr.jsx)(zy,{field:"",title:"Actions",width:"160px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{type:"button",onClick:()=>{return t=n.id,void e("/vendor-payment/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{type:"button",onClick:()=>{return t=n.id,void e("/vendor-payment/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid payment data"}))}})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No vendor payments found. Click the "Add New Vendor Payment" button above to create your first vendor payment.'})}),(0,sr.jsx)("style",{children:'\n          .payment-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .payment-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n      '})]})})},yD=["validationMessage","visited","label"],xD=o.createContext({}),bD="itemDataIndex",wD="id",kD=o.memo(e=>{let{recordType:t="JournalEntry",mode:n="new",embedded:i=!1,selectedLocation:r,jeid:a=null,jeidChangeCounter:l=0,onLinesChange:c,journalEntryId:d}=e;const u=ve(),{id:h}=ye(),[m,f]=(0,o.useState)({show:!1,message:"",type:"success"}),[g,v]=(0,o.useState)(!1),[y,x]=(0,o.useState)(!1),[b,w]=(0,o.useState)(null),[k,C]=(0,o.useState)(null),[S,I]=(0,o.useState)({}),[E,j]=(0,o.useState)({}),[A,_]=(0,o.useState)(!1),D={JournalEntry:"/journal-entry"},N=(0,o.useCallback)(e=>({title:"Journal Lines",fields:["accountID","debit","credit","memo"]}),[]),T=(0,o.useCallback)(function(e){f({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{f({show:!1,message:"",type:"success"})},4e3)},[]),P=(0,o.useCallback)(async(e,t)=>{try{const n=await fetch("".concat(pr.baseURL).concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}},[]),M=(0,o.useCallback)(async e=>{const n={JournalEntry:{endpoint:"".concat(pr.baseURL,"/journal-entry-line/by-journal-entry/").concat(e),idField:"jeid"}}[t];if(!n)throw new Error("Unsupported record type: ".concat(t));try{const e=await fetch(n.endpoint,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){if(404===e.status)return[];throw new Error("Failed to load transaction items: ".concat(e.status))}const t=await e.json(),o=t.lines||t||[];return console.log("items",o),o.map((e,t)=>({id:e.id||"temp-".concat(t),accountID:e.account||"",debit:e.debit||0,credit:e.credit||0,memo:e.memo||""}))}catch(o){throw o}},[t]);(0,o.useEffect)(()=>{let e=!0;return(async()=>{if(e)try{x(!0),w(null),_(!1);const i=N(t);C(i);const r=[P("/chart-of-account").then(e=>({name:"accountID",data:e}))],a=await Promise.all(r);if(!e)return;const s=a.reduce((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e},{});j(s);const l={transactionId:h||null,items:[]},c=d||h;if("new"!==n&&c)try{const e=await M(c);console.log("existingItems",e),e&&e.length>0&&(l.items=e)}catch(o){}if(!e)return;console.log("\ud83d\udd27 JournalLines: Setting form data:",l),I(l),_(!0)}catch(o){if(!e)return;w(o.message),T(o.message,"error")}finally{if(!e)return;x(!1)}})(),()=>{e=!1}},[n,h,t,N,P,M]),(0,o.useEffect)(()=>{var e;console.log("\ud83d\udd0d JournalLines useEffect check:",{embedded:i,hasOnLinesChange:!!c,hasItems:!!S.items,itemsLength:(null===(e=S.items)||void 0===e?void 0:e.length)||0,formInitialized:A}),i&&c&&S.items&&A&&(console.log("\ud83d\udcde JournalLines: Notifying parent form of line changes:",S.items),c(S.items))},[S.items,c,A,i]);const O=(0,o.useCallback)(e=>(E[e]||[]).map(t=>{if("string"===typeof t)return{text:t,value:t};if(!t.id)return{text:String(t),value:t};return{text:(t=>{if("accountID"===e&&t.accountName&&t.accountCode)return"".concat(t.accountCode," - ").concat(t.accountName);const n=["name","accountName","description","title"];for(const e of n)if(t[e])return t[e];return String(t.id)})(t),value:t.id,item:t}}),[E]),R=((0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,visited:i,label:r}=e,a=s(e,yD),l=i&&o,c=p(p({},a),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||a.disabled}),d={text:{component:Fc,props:c},number:{component:xu,props:p(p({},c),{},{min:0,step:0})},textarea:{component:Cu,props:p(p({},c),{},{rows:2})},date:{component:Zv,props:c},dropdown:{component:Sh,props:p(p({},c),O(e))}},u=d[t]||d.text;return(0,sr.jsxs)("div",{children:[(0,sr.jsx)(u.component,p({},u.props)),l&&(0,sr.jsx)("div",{className:"k-form-error",children:o})]})}},[n,O]),e=>{const{parentField:t,editIndex:n,validatedItems:i,onUpdateField:r}=o.useContext(xD),a=e.dataItem[bD]===n;i.includes(e.dataItem[bD]);if(a){const t=O("accountID");return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Sh,{data:t,textField:"text",dataItemKey:"value",valueField:"value",value:t.find(t=>t.value===e.dataItem[e.field])||null,onChange:async t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;await r(e.dataItem[bD],e.field,o)},style:{width:"100%"}})}))}const s=e.dataItem[e.field],l=O("accountID").find(e=>e.value===s),c=(null===l||void 0===l?void 0:l.text)||"";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:c})}))}),L=e=>{const{parentField:t,editIndex:n,onUpdateField:i}=o.useContext(xD);var r;if(e.dataItem[bD]===n)return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Fc,{type:"number",min:"0",step:"0.01",value:null!==(r=e.dataItem[e.field])&&void 0!==r?r:"",onChange:t=>{const n=t.target.value,o=""===n?"":parseFloat(n)||"";i(e.dataItem[bD],e.field,o)},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})}));const a=e.dataItem[e.field],s=null!==a&&void 0!==a&&"number"===typeof a?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a):0===a?"0.00":"";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:s})}))},F=e=>{const{parentField:t,editIndex:n,onUpdateField:i}=o.useContext(xD);var r;if(e.dataItem[bD]===n)return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Fc,{type:"number",min:"0",step:"0.01",value:null!==(r=e.dataItem[e.field])&&void 0!==r?r:"",onChange:t=>{const n=t.target.value,o=""===n?"":parseFloat(n)||"";i(e.dataItem[bD],e.field,o)},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})}));const a=e.dataItem[e.field],s=null!==a&&void 0!==a&&"number"===typeof a?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a):0===a?"0.00":"";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:s})}))},z=e=>{const{parentField:t,editIndex:n,onUpdateField:i}=o.useContext(xD);var r;return e.dataItem[bD]===n?(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,sr.jsx)(Fc,{value:null!==(r=e.dataItem[e.field])&&void 0!==r?r:"",onChange:t=>{i(e.dataItem[bD],e.field,t.target.value)},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})})):(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:(0,sr.jsx)("span",{style:{padding:"8px",display:"block"},children:e.dataItem[e.field]||""})}))},B=e=>{const{onRemove:t,onEdit:i,onSave:r,onCancel:a,editIndex:s,validateItem:l}=o.useContext(xD),c=e.dataItem[bD]===s,d=!e.dataItem[wD]||!e.dataItem.accountID,u=(0,o.useCallback)(n=>{n.preventDefault(),t(e.dataItem)},[e.dataItem,t]),h=(0,o.useCallback)(t=>{t.preventDefault(),i(e.dataItem,d)},[e.dataItem,i,d]),m=(0,o.useCallback)(t=>{t.preventDefault(),r(e.dataItem)},[r,e.dataItem]),f=(0,o.useCallback)(n=>{n.preventDefault(),t(e.dataItem)},[e.dataItem,a]);return c?(0,sr.jsxs)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:[(0,sr.jsx)(bo,{type:"button",onClick:m,className:"k-grid-save-command",size:"small",style:{marginRight:"4px",backgroundColor:"#4CAF50",color:"white",fontSize:"12px",padding:"4px 8px"},title:d?"Add this item when complete":"Save changes to this item",disabled:"view"===n,children:d?"Add":"Save"}),(0,sr.jsx)(bo,{type:"button",onClick:d?u:f,className:"k-grid-cancel-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},title:d?"Remove this item":"Cancel editing",disabled:"view"===n,children:d?"Discard":"Cancel"})]})):(0,sr.jsx)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:"view"!==n&&(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)(bo,{type:"button",themeColor:"primary",onClick:h,className:"k-grid-edit-command",size:"small",style:{marginRight:"4px",fontSize:"12px",padding:"4px 8px"},children:"Edit"}),(0,sr.jsx)(bo,{type:"button",onClick:u,className:"k-grid-remove-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},children:"Remove"})]})}))},V=e=>{const{validationMessage:t,visited:i,name:r,dataItemKey:a}=e,[s,l]=(0,o.useState)(void 0),c=o.useRef(void 0),[d,u]=(0,o.useState)([]),h=(0,o.useCallback)(t=>{if(void 0!==t&&e.value[t]){u(e=>e.includes(t)?e:[...e,t]);const n=e.value[t];return n.accountID&&null!==n.accountID}return!1},[e.value]),m=(0,o.useCallback)(async(t,n,o)=>{const i=p(p({},e.value[t]),{},{[n]:o});"debit"===n&&o>0?i.credit=0:"credit"===n&&o>0&&(i.debit=0),e.onReplace({index:t,value:i})},[e]),f=(0,o.useCallback)(t=>{if(t.preventDefault(),void 0!==s||"view"===n)return;const o=e.value||[],i=o.findIndex(e=>!e.accountID);if(-1!==i)return void l(i);const r={id:o.length>0?Math.max(...o.map(e=>parseInt(e.id)||0))+1:1,accountID:"",debit:0,credit:0,memo:""};e.onUnshift({value:r}),l(0)},[e,s,n]),g=(0,o.useCallback)(t=>{e.onRemove({index:t[bD]}),l(void 0),c.current=void 0},[e]),v=(0,o.useCallback)(e=>{c.current=vr(e),l(e[bD])},[]),y=(0,o.useCallback)(()=>{c.current&&e.onReplace({index:c.current[bD],value:c.current}),c.current=void 0,l(void 0)},[e]),x=(0,o.useCallback)(t=>{const n=t[bD],o=e.value[n];o.accountID?o.debit&&!(o.debit<=0)||o.credit&&!(o.credit<=0)?o.debit>0&&o.credit>0?alert("A line cannot have both debit and credit amounts"):(l(void 0),c.current=void 0):alert("Either debit or credit amount must be greater than 0"):alert("Account is required")},[e]),b=(e.value||[]).map((e,t)=>p(p({},e),{},{[bD]:t}));return(0,sr.jsxs)(xD.Provider,{value:{onCancel:y,onEdit:v,onRemove:g,onSave:x,onUpdateField:m,editIndex:s,parentField:r,validatedItems:d,validateItem:h},children:["view"!==n&&(0,sr.jsx)("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"flex-start",alignItems:"center",paddingLeft:"8px",paddingRight:"8px"},children:(0,sr.jsxs)(bo,{onClick:f,themeColor:"success",fillMode:"solid",size:"medium",className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-success",children:[(0,sr.jsx)(Ji,{style:{marginRight:"6px"}})," Add Line"]})}),(0,sr.jsx)("div",{className:"transaction-items-grid-container",style:{overflowX:"auto",overflowY:"visible",width:"100%",maxWidth:"100%"},children:(0,sr.jsxs)(Fj,{className:"transaction-items-grid",data:b,dataItemKey:a,rowRender:e=>{const t=p(p({},e.props),{},{style:p(p({},e.props.style),{},{borderBottom:"1px solid #e0e0e0"})});return o.cloneElement(e,p({},t),e.props.children)},style:{minWidth:"900px"},children:[(0,sr.jsx)(zy,{field:"accountID",title:"Account",cells:{data:R}}),(0,sr.jsx)(zy,{field:"debit",title:"Debit",width:"90px",cells:{data:L}}),(0,sr.jsx)(zy,{field:"credit",title:"Credit",width:"90px",cells:{data:F}}),(0,sr.jsx)(zy,{field:"memo",title:"Memo",cells:{data:z}}),"view"!==n&&(0,sr.jsx)(zy,{width:"160px",cells:{data:B}})]})})]})},H=(0,o.useCallback)(e=>{const t={};if(e.items&&0!==e.items.length){e.items.map((e,t)=>{const n={};return e.accountID||(n.accountID="Account is required"),(!e.debit||e.debit<=0)&&(!e.credit||e.credit<=0)&&(n.debit="Either debit or credit amount must be greater than 0"),e.debit>0&&e.credit>0&&(n.debit="A line cannot have both debit and credit amounts"),Object.keys(n).length>0?n:null}).filter(Boolean).length>0&&(t.items="Please fix item validation errors")}else t.items="At least one item is required";return t},[]);return!y&&k&&A?b?(0,sr.jsx)("div",{className:"form-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("h3",{children:["Error Loading ",t," Items"]}),(0,sr.jsx)("p",{children:b}),(0,sr.jsxs)(bo,{onClick:()=>u(D[t]||"/"),children:["Back to ",t," List"]})]})}):i?(0,sr.jsxs)("div",{style:{width:"100%"},children:[(0,sr.jsx)(ay,{children:m.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:m.type,icon:!0},closable:!0,onClose:()=>f({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:m.message})})})}),(0,sr.jsx)(Fy,{name:"items",component:V,dataItemKey:wD,validator:e=>e&&e.length?"":"Please add at least one item"})]}):(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)(ay,{children:m.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:m.type,icon:!0},closable:!0,onClose:()=>f({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:m.message})})})}),(0,sr.jsx)(la,{initialValues:S,validator:H,onSubmit:async e=>{},render:e=>(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsx)(Fy,{name:"items",component:V,dataItemKey:wD,validator:e=>e&&e.length?"":"Please add at least one item"}),(0,sr.jsxs)("div",{className:"form-actions",children:[(0,sr.jsxs)(bo,{type:"button",onClick:()=>u(D[t]||"/"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",children:[(0,sr.jsx)(tr,{})," ","view"===n?"Close":"Cancel"]}),"view"!==n&&(0,sr.jsxs)(bo,{type:"submit",disabled:y||!e.allowSubmit,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Qi,{})," ",y?"Saving...":"Save Items"]})]})]})},"".concat(t.toLowerCase(),"-lines-form-").concat(n,"-").concat(h||"new")),(0,sr.jsx)("style",{children:'\n        .form-container {\n          background: white;\n          padding: 16px;\n          margin: 16px;\n        }\n\n        .form-header {\n          margin-bottom: 16px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .form-header h2 {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.25rem;\n          font-weight: 600;\n        }\n\n\n        .form-actions {\n          display: flex;\n          justify-content: flex-end;\n          gap: 8px;\n          padding-top: 16px;\n          margin-top: 8px;\n          border-top: 1px solid #e2e8f0;\n        }\n\n        .k-button {\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 12px;\n          font-size: 13px;\n          font-weight: 500;\n        }\n\n        .k-button svg {\n          font-size: 13px;\n        }\n\n        .notification-container {\n          position: fixed;\n          right: 12px;\n          top: 12px;\n          z-index: 9999;\n          min-width: 280px;\n        }\n\n        .loading-indicator {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 150px;\n          gap: 12px;\n          font-size: 14px;\n        }\n\n        .spinner {\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid #3498db;\n          border-radius: 50%;\n          width: 32px;\n          height: 32px;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .k-form-error {\n          color: #e53e3e;\n          font-size: 12px;\n          margin-top: 4px;\n        }\n\n        /* Grid specific styles for consistent field sizing */\n        .k-grid td {\n          padding: 0 !important;\n        }\n\n        .k-grid .k-textbox,\n        .k-grid .k-dropdownlist,\n        .k-grid input[type="number"] {\n          height: 32px !important;\n          font-size: 13px !important;\n          padding: 4px 8px !important;\n          border: 1px solid #e2e8f0 !important;\n          border-radius: 3px !important;\n          width: 100% !important;\n          box-sizing: border-box !important;\n        }\n\n        .k-grid .k-dropdownlist .k-input {\n          height: 30px !important;\n          padding: 4px 8px !important;\n          font-size: 13px !important;\n          line-height: 1.4 !important;\n        }\n\n        /* Hide number input spinners */\n        .k-grid input[type="number"]::-webkit-outer-spin-button,\n        .k-grid input[type="number"]::-webkit-inner-spin-button {\n          -webkit-appearance: none !important;\n          margin: 0 !important;\n        }\n\n        .k-grid input[type="number"] {\n          -moz-appearance: textfield !important;\n        }\n\n        /* Transaction Items Grid Styles - Based on FormCreator.js */\n        .transaction-items-grid-container {\n          background: white;\n          overflow-x: auto !important;\n          overflow-y: visible !important;\n          margin-bottom: 16px;\n          width: 100% !important;\n          max-width: 100% !important;\n          -webkit-overflow-scrolling: touch;\n          display: block !important;\n        }\n\n        .transaction-items-grid {\n          border: none !important;\n          border-radius: 0 !important;\n          margin-bottom: 0 !important;\n          min-width: 900px !important;\n          width: auto !important;\n        }\n\n        .transaction-items-grid .k-grid-header {\n          background: #f8fafc !important;\n          border-bottom: 2px solid #e2e8f0 !important;\n        }\n\n        .transaction-items-grid .k-grid-header th {\n          font-weight: 600 !important;\n          color: #4a5568 !important;\n          text-transform: uppercase !important;\n          font-size: 11px !important;\n          letter-spacing: 0.5px !important;\n          padding: 12px 8px !important;\n          text-align: left !important;\n        }\n\n        .transaction-items-grid .k-grid-header th:last-child {\n          text-align: center !important;\n        }\n\n        .transaction-items-grid td {\n          padding: 8px !important;\n          border-bottom: 1px solid #f0f0f0 !important;\n          vertical-align: middle !important;\n        }\n\n        .transaction-items-grid td:last-child {\n          text-align: center !important;\n        }\n\n        .transaction-items-grid .k-grid-content tr:hover {\n          background-color: #f7fafc !important;\n        }\n\n        /* Responsive Grid Layout */\n        .transaction-items-grid .k-grid-table {\n          min-width: 900px !important;\n          width: auto !important;\n        }\n\n        @media (max-width: 768px) {\n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .order-items-field {\n            grid-column: span 1;\n          }\n\n          .form-container {\n            margin: 12px;\n            padding: 12px;\n          }\n\n          .transaction-items-grid-container {\n            margin: 0 -16px;\n            border-radius: 0;\n            border-left: none;\n            border-right: none;\n            position: relative;\n            overflow-x: auto;\n            overflow-y: visible;\n            -webkit-overflow-scrolling: touch;\n            scrollbar-width: thin;\n            scrollbar-color: #cbd5e0 #f7fafc;\n          }\n\n          .transaction-items-grid .k-grid-table {\n            min-width: 700px;\n          }\n        }\n      '})]}):(0,sr.jsx)("div",{className:"form-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsxs)("div",{children:["Loading ",t.toLowerCase()," items..."]})]})})}),CD=kD,SD=["validationMessage","touched","label"],ID=e=>{const t={};return Object.keys(e).forEach(n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)}),t},ED=o.memo(e=>{let{recordType:t,mode:n="new"}=e;const i=ve(),{id:r}=ye(),{loading:a,error:l,fetchFormConfiguration:c}=cy(),[d,u]=(0,o.useState)({show:!1,message:"",type:"success"}),[h,m]=(0,o.useState)(!1),[f,g]=(0,o.useState)(!1),[v,y]=(0,o.useState)(null),[x,b]=(0,o.useState)(null),[w,k]=(0,o.useState)({}),[C,S]=(0,o.useState)({}),[I,E]=(0,o.useState)([]),[j,A]=(0,o.useState)({}),[_,D]=(0,o.useState)({}),[N,T]=(0,o.useState)({}),[P,M]=(0,o.useState)(null),[O,R]=(0,o.useState)([]),[L,F]=(0,o.useState)([]),[z,B]=(0,o.useState)(!1),V=o.useRef(null),H={JournalEntry:"/journal-entry"},q=(0,o.useCallback)(async(e,t)=>{try{const n=await fetch(hr(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}},[]),U=(0,o.useCallback)(async e=>{try{const t=await fetch(hr("/record-type"),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e});if(!t.ok)throw new Error("Failed to fetch record types: ".concat(t.status));return(await t.json()).results||[]}catch(t){return t.name,[]}},[]),G=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";V.current&&clearTimeout(V.current),u({show:!0,message:e,type:t}),V.current=setTimeout(()=>{u({show:!1,message:"",type:"success"}),V.current=null},4e3)},[]),W=(0,o.useCallback)(e=>{console.log("\ud83d\udce5 JournalForm: Received lines from JournalLines component:",e),F(e);const t=e.reduce((e,t)=>e+Math.max(parseFloat(t.debitAmount)||0,parseFloat(t.creditAmount)||0),0);k(e=>p(p({},e),{},{totalAmount:t}))},[]),K=async e=>{try{const t=await fetch(hr("/custom-form-field/by-form/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch custom form fields: ".concat(t.status));const n=await t.json(),o=(Array.isArray(n)?n:[]).sort((e,t)=>(e.displayOrder||0)-(t.displayOrder||0)),i={},r=o.filter(e=>["DropDownList","MultiSelect"].includes(e.fieldTypeName)&&e.fieldSource);for(const e of r){const t=await q(e.fieldSource);i["custom_".concat(e.fieldName)]=t}return Object.keys(i).length>0&&S(e=>p(p({},e),i)),o}catch(t){return G("Failed to load custom form fields: ".concat(t.message),"error"),[]}},Y=(0,o.useMemo)(()=>{var e;if(!z)return{};if(0===Object.keys(j).length)return p(p({},w),{},{items:L});const t={};Object.keys(j).forEach(e=>{t["custom_".concat(e)]=j[e]});const n=p(p(p({},w),t),{},{items:L});return console.log("\ud83d\udd27 JournalForm: Combined form data:",{formDataKeys:Object.keys(w),journalLinesLength:(null===L||void 0===L?void 0:L.length)||0,combinedItems:(null===(e=n.items)||void 0===e?void 0:e.length)||0}),n},[w,j,z,L]),X=(0,o.useCallback)(e=>{const t={};return null!==x&&void 0!==x&&x.standardFields?(x.standardFields.forEach(n=>{const o=e[n.name];!n.isMandatory||o&&""!==o||(t[n.name]="".concat(n.name.charAt(0).toUpperCase()+n.name.slice(1)," is required")),"email"===n.name&&o&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(t[n.name]="Please enter a valid email address"),"phone"===n.name&&o&&!/^\d{10}$/.test(o.replace(/\D/g,""))&&(t[n.name]="Phone number must be 10 digits")}),t):t},[x]),J=(0,o.useMemo)(()=>{const e={};return Object.keys(C).forEach(t=>{const n=C[t]||[];e[t]=n.map(e=>{if("string"===typeof e)return{text:e,value:e};if(e.text&&e.value)return e;let n="";if(e&&"object"===typeof e)if("form"===t&&e.formName)n=e.formName;else if(e.name)n=e.name;else if(e.sequenceNumber)n=e.sequenceNumber;else if(e.title)n=e.title;else if(e.description)n=e.description;else{const t=Object.keys(e).find(t=>"id"!==t&&"string"===typeof e[t]&&e[t].trim().length>0);n=t?e[t]:String(e.id||"")}else n=String(e||"");return{text:n,value:e.id||e}})}),e},[C]),Q=(0,o.useCallback)(()=>{if(null!==x&&void 0!==x&&x.recordTypeId)return x.recordTypeId;let e=O.find(e=>e.name===t);return e?e.id:(e=O.find(e=>{var n;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}),e?e.id:null)},[x,O,t]),Z=(0,o.useCallback)(e=>{const t={};return e.forEach(e=>{switch(e.fieldTypeName){case"Checkbox":case"Switch":t[e.name]=!1;break;case"Number":case"NumericTextBox":t[e.name]=0;break;case"Date":case"DropDownList":t[e.name]=null;break;default:t[e.name]=""}}),t},[]),$=(0,o.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{if(!t)return{customData:{},customFieldIds:{}};const o=await fetch(hr(pr.endpoints.customFieldValueByTypeAndRecord(t,e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return{};const i=await o.json(),r={},a={},s={};return n.forEach(e=>{s[e.fieldName]=e.fieldTypeName}),Array.isArray(i)&&i.forEach(e=>{if(e.customFieldName&&void 0!==e.valueText&&null!==e.valueText){const n=s[e.customFieldName];let o=e.valueText;switch(n){case"DatePicker":case"Date":if("string"===typeof o&&""!==o.trim()){const e=new Date(o);o=isNaN(e.getTime())?null:e}break;case"NumericTextBox":case"Number":if("string"===typeof o&&""!==o.trim()){const e=parseFloat(o);o=isNaN(e)?0:e}break;case"Checkbox":case"Switch":"string"===typeof o&&(o="true"===o.toLowerCase()||"1"===o);break;case"MultiSelect":if("string"===typeof o&&""!==o.trim())try{const e=JSON.parse(o);o=Array.isArray(e)?e:[o]}catch(t){o=[o]}}r[e.customFieldName]=o,a[e.customFieldName]=e.id}}),{customData:r,customFieldIds:a}}catch(o){return{customData:{},customFieldIds:{}}}},[]),ee=(0,o.useCallback)(async e=>{if(!e){var t;E([]),A({}),D({}),T({}),M(null);return void((null===x||void 0===x||null===(t=x.standardFields)||void 0===t?void 0:t.some(e=>"sequenceNumber"===e.name))&&k(e=>p(p({},e),{},{sequenceNumber:null})))}try{var o,i;g(!0);const t=await K(e);E(t),M(e);const a=Z(t.map(e=>p(p({},e),{},{name:e.fieldName})));if("new"!==n&&r){const e=Q(),{customData:n,customFieldIds:o}=await $(r,e,t);D(o);const i=p(p({},a),n);A(i),T(i)}else A(a),T(a);const[s,l]=await Promise.all([fetch(hr("/form/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch(hr("/form-sequence/by-form/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let c="";if(s.ok&&l.ok){const[e,t]=await Promise.all([s.text().then(e=>e.trim()?JSON.parse(e):{}),l.text().then(e=>e.trim()?JSON.parse(e):[])]),n=Array.isArray(t)&&t.length>0?t[0]:{formSequenceNumber:0},o=e.prefix||"",i=(n.formSequenceNumber||0)+1;c="".concat(o).concat(String(i).padStart(4,"0"))}const d=null===x||void 0===x||null===(o=x.standardFields)||void 0===o?void 0:o.some(e=>"form"===e.name),u=null===x||void 0===x||null===(i=x.standardFields)||void 0===i?void 0:i.some(e=>"sequenceNumber"===e.name),h={};d&&(h.form=e),u&&c&&(h.sequenceNumber=c),k(e=>p(p({},e),h))}catch(s){var a;(null===x||void 0===x||null===(a=x.standardFields)||void 0===a?void 0:a.some(e=>"form"===e.name))&&k(t=>p(p({},t),{},{form:e}))}finally{g(!1)}},[x,K,n,r,Q,$,Z]),te=(0,o.useCallback)(e=>{const{name:t}=e,n=J[t]||[],o=n.find(t=>t.value===e.value)||null;return{data:n,textField:"text",valueField:"value",value:o,onChange:async n=>{var o;const i=(null===(o=n.target.value)||void 0===o?void 0:o.value)||n.target.value,r=""===i||void 0===i?null:i;e.onChange&&e.onChange({target:{value:r}}),"form"===t&&await ee(r)}}},[J,ee]),ne=(0,o.useCallback)(e=>{const{name:t}=e;return{data:J[t]||[],textField:"text",valueField:"value"}},[J]),oe=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,touched:i,label:r}=e,a=s(e,SD),l=i&&o,c=p(p({},a),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||a.disabled}),d={text:{component:Fc,props:c},number:{component:Fc,props:p(p({},c),{},{type:"number",min:0,step:.01})},textarea:{component:Cu,props:p(p({},c),{},{rows:4})},checkbox:{component:ju,props:p(p({},c),{},{label:r,checked:a.value||!1,style:{display:"flex",alignItems:"center"}})},date:{component:Zv,props:c},dropdown:{component:Sh,props:p(p({},c),te(e))},multiselect:{component:em,props:p(p({},c),ne(e))}},u=d[t]||d.text;return(0,sr.jsxs)("div",{children:[(0,sr.jsx)(u.component,p({},u.props)),l&&(0,sr.jsx)("div",{className:"k-form-error",children:o})]})}},[n,te,ne]),ie=(0,o.useMemo)(()=>({Input:oe(Fc,"text"),TextArea:oe(Cu,"textarea"),Checkbox:oe(ju,"checkbox"),NumericTextBox:oe(Fc,"number"),Number:oe(Fc,"number"),DropDownList:oe(Sh,"dropdown"),DatePicker:oe(Zv,"date"),MultiSelect:oe(em,"multiselect")}),[oe]),re=e=>ie[e.fieldTypeName]||ie.Input,ae=function(e){const t=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);return e.isMandatory?"".concat(t," *"):t},se=(0,o.useCallback)(function(e){if(e.isMandatory)return t=>t&&""!==t?"email"===e.name&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"Please enter a valid email address":"phone"===e.name&&t&&!/^\d{10}$/.test(t.replace(/\D/g,""))?"Phone number must be 10 digits":"":"".concat(e.displayName||e.name," is required")},[]),le=(0,o.useCallback)(e=>{if(e.isRequired)return t=>t&&""!==t?"":"".concat(e.fieldLabel||e.fieldName," is required")},[]),ce=(0,o.useCallback)(function(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const a=t?"custom_".concat(e.fieldName||e.name):e.name,s=t&&e.fieldName||e.name,l=i||"".concat(t?"custom":"standard","-field-").concat(e.id||s),c=t?"".concat(e.fieldLabel||e.fieldName).concat(e.isRequired?" *":""):ae(e,r),d=re(e),u=t?le(e):se(e,r),p="Checkbox"===e.fieldTypeName||"Switch"===e.fieldTypeName,h="view"===n||e.isDisabled;return(0,sr.jsxs)("div",{className:"master-field-group ".concat(o?"master-field-full":""," ").concat(p?"checkbox-wrapper":""),children:[!p&&(0,sr.jsx)("label",{className:"k-label",children:c}),(0,sr.jsx)("div",{className:"field-wrapper",children:(0,sr.jsx)(gr,{id:a,name:a,component:d,validator:u,disabled:h,label:p?c:void 0})})]},l)},[n,t,re,ae,se,le]),de=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=[];let r=[];return e.forEach(e=>{["TextArea","Checkbox","MultiSelect"].includes(e.fieldTypeName)?(r.length>0&&(i.push({type:"row",fields:[...r]}),r=[]),i.push({type:"fullWidth",field:e})):(r.push(e),3===r.length&&(i.push({type:"row",fields:[...r]}),r=[]))}),r.length>0&&i.push({type:"row",fields:[...r]}),i.map((e,i)=>{const r=t?"custom":"standard";return"row"===e.type?(0,sr.jsx)(o.Fragment,{children:e.fields.map(e=>ce(e,t,!1,null,n))},"".concat(r,"-row-").concat(i)):ce(e.field,t,!0,"".concat(r,"-full-").concat(i),n)})},[ce]);(0,o.useEffect)(()=>{let e=!0;return(async()=>{if(e)try{g(!0),y(null),B(!1),E([]),A({}),D({}),T({}),M(null);const a=await U();if(!e)return;R(a);const s=await c(t);if(!e)return;b(s);const l=s.standardFields.filter(e=>"DropDownList"===e.fieldTypeName&&e.source),d=ge(s,a,t),u=l.map(async e=>{let n;if("JournalEntry"===t&&"parent"===e.name)n=await q(e.source),n=n.filter(e=>!0===e.isParent);else if("form"===e.name&&d)try{const e=await fetch(hr(pr.endpoints.formByTypeOfRecord(d)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch forms for record type: ".concat(e.status));n=await e.json(),n=Array.isArray(n)?n:n.results||n.data||[]}catch(o){n=[]}else n=await q(e.source);return{name:e.name,data:n}}),h=await Promise.all(u);if(!e)return;const m=h.reduce((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e},{});S(m);const f=Z(s.standardFields);if("new"!==n&&r)try{var o;let n={};switch(t){case"JournalEntry":{const e=await fetch(hr("/journal-entry/".concat(r)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});e.ok&&(n=await e.json());break}default:console.warn("No fetch method available for record type: ".concat(t)),n={}}if(!e)return;const l=(null===(o=n)||void 0===o?void 0:o.data)||n||{};if(l&&Object.keys(l).length>0){const n=p({},f);s.standardFields.forEach(e=>{if(void 0!==l[e.name]){let t=l[e.name];if(("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date")||"soDate"===e.name||"invoiceDate"===e.name||"deliveryDate"===e.name)&&t&&"string"===typeof t){const e=new Date(t);t=isNaN(e.getTime())?null:e}n[e.name]=t}});const o=s.standardFields.map(e=>e.name);if(Object.keys(l).forEach(e=>{void 0===l[e]||o.includes(e)||(n[e]=l[e])}),k(n),l.form)try{const n=await K(l.form);if(!e)return;if(E(n),M(l.form),n.length>0){const o=Z(n.map(e=>p(p({},e),{},{name:e.fieldName}))),i=ge(s,a,t),{customData:l,customFieldIds:c}=await $(r,i,n);if(!e)return;D(c);const d=p(p({},o),l);A(d),T(d)}}catch(i){}}else console.warn("No data found for ".concat(t," with ID: ").concat(r)),k(f)}catch(v){console.error("Error fetching ".concat(t,":"),v),k(f)}else{if(!e)return;k(f)}if(!e)return;B(!0)}catch(i){if(!e)return;y(i.message),G(i.message,"error")}finally{if(!e)return;g(!1)}})(),()=>{e=!1}},[n,r,t]),(0,o.useEffect)(()=>()=>{V.current&&(clearTimeout(V.current),V.current=null),E([]),A({}),D({}),T({}),M(null),k({}),B(!1),u({show:!1,message:"",type:"success"})},[]);const ue=async(e,t,n)=>{const o=Object.keys(n).map(async o=>{var i;const r=n[o],a=null===(i=I.find(e=>e.fieldName===o))||void 0===i?void 0:i.id,s=_[o];if(!a)return;const l={customFormFieldId:a,recordId:e,typeOfRecord:t,valueText:r},c=hr(s?pr.endpoints.customFieldValueById(s):pr.endpoints.customFieldValue),d=s?"PUT":"POST";try{(await fetch(c,{method:d,headers:{"Content-Type":"application/json"},body:JSON.stringify(ID(l))})).ok||console.error("Failed to save custom field ".concat(o))}catch(u){console.error("Error saving custom field ".concat(o,": ").concat(u.message))}});await Promise.all(o)},pe=async e=>{if(!e||0===e.length)return;const t="".concat(pr.baseURL,"/journal-entry-line/by-journal-entry/").concat(r);try{const n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});let o=[];if(n.ok){const e=await n.json();if(Array.isArray(e))o=e;else if(e.results&&Array.isArray(e.results))o=e.results;else if(e.lines&&Array.isArray(e.lines))o=e.lines;else{const t=Object.values(e).filter(e=>Array.isArray(e));t.length>0&&(o=t[0])}}const i=new Map;o.forEach(e=>{e.id&&i.set(e.id,e)});const a=e.map(e=>{const t=i.get(e.id);return{jeid:r,id:e.id||null,accountId:e.accountID,newCredit:Number(e.credit||0),newDebit:Number(e.debit||0),oldCredit:t?Number(t.credit||0):0,oldDebit:t?Number(t.debit||0):0,memo:e.memo}});console.log("\ud83d\udd04 Calling useJournal for edit operation with changes:",a),await _y(a,"edit")}catch(v){throw new Error("Failed to update line items: ".concat(v.message))}},he=async(e,t,n)=>(await me(r,e),await ue(r,n,t),Object.keys(t).length),me=async(e,n)=>{try{let o;if("JournalEntry"!==t)throw new Error("Unsupported record type: ".concat(t));o=hr("/journal-entry/".concat(e));const i=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(ID(n))});if(!i.ok){const e=await i.text();throw new Error("Failed to update ".concat(t,": ").concat(i.status," - ").concat(e))}return await i.json()}catch(v){throw console.error("Error updating ".concat(t,":"),v),v}},fe=e=>{const t={},n={};return Object.keys(e).forEach(o=>{const i=e[o],r=""===i?null:i;if(o.startsWith("custom_")){const e=o.replace("custom_","");n[e]=r}else t[o]=r}),{standardData:t,customData:n}},ge=(e,t,n)=>{if(null!==e&&void 0!==e&&e.recordTypeId)return e.recordTypeId;let o=t.find(e=>e.name===n);return o?o.id:(o=t.find(e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===(null===n||void 0===n?void 0:n.toLowerCase())}),o?o.id:null)};return!f&&x&&z?v?(0,sr.jsx)("div",{className:"master-form-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("h3",{children:["Error Loading ",t]}),(0,sr.jsx)("p",{children:v}),(0,sr.jsx)(bo,{onClick:()=>i("/"),children:"Back to Dashboard"})]})}):(0,sr.jsxs)("div",{className:"master-form-container","data-theme":t.toLowerCase(),children:[(0,sr.jsx)(ay,{children:d.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:d.type,icon:!0},closable:!0,onClose:()=>u({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:d.message})})})}),(0,sr.jsx)("div",{className:"master-form-header",children:(0,sr.jsx)("h2",{children:"new"===n?"Create New ".concat(t):"edit"===n?"Edit ".concat(t):"View ".concat(t)})}),(0,sr.jsx)("div",{className:"master-form-element",children:(0,sr.jsx)(la,{initialValues:Y,validator:X,onSubmit:async(e,o)=>{console.log("\ud83d\ude80 handleSubmit called with:",{formValues:e,mode:n,recordType:t}),console.log("\ud83d\udccb Submit event:",o);try{console.log("\ud83d\udd04 Starting form submission process..."),g(!0),y(null);const{standardData:o,customData:a}=fe(e);if(console.log("\ud83d\udcca Separated form data:",{standardData:o,customData:a}),"new"===n){var r;console.log("\ud83c\udd95 Creating new record...");const n=await(async e=>{try{var n,o,i;let r;switch(t){case"JournalEntry":{const t=hr("/journal-entry"),n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(ID(e))});if(!n.ok){const e=await n.text();throw new Error("Failed to create JournalEntry: ".concat(n.status," - ").concat(e))}r=await n.json();break}default:throw new Error("Unsupported record type: ".concat(t))}let a=null;if(null!==(n=r)&&void 0!==n&&n.id)a=r.id;else if(null!==(o=r)&&void 0!==o&&null!==(i=o.data)&&void 0!==i&&i.id)a=r.data.id;else if("string"===typeof r)a=r;else{const e=Object.keys(r||{}).filter(e=>e.toLowerCase().includes("id"));e.length>0&&(a=r[e[0]])}if(!a)throw new Error("".concat(t," header created but no ID returned. Response: ").concat(JSON.stringify(r)));return a}catch(v){throw console.error("Error creating ".concat(t,":"),v),v}})(o),s=e.items||[];s.length>0?await(async(e,t)=>{if(!t||0===t.length)return;const n=t.map(t=>({jeid:e,accountId:t.accountID,newCredit:t.credit||0,newDebit:t.debit||0,oldCredit:0,oldDebit:0,memo:t.memo,id:null}));await _y(n,"new")})(n,s):console.log("\u2139\ufe0f No line items to create");(null===x||void 0===x||null===(r=x.standardFields)||void 0===r?void 0:r.some(e=>"form"===e.name))&&P?(await(async e=>{if(console.log("\ud83d\udd04 Updating form sequence for formId:",e),e)try{console.log("\ud83d\udce1 Fetching current form sequence...");const t=await fetch("".concat(pr.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)return void console.log("\u26a0\ufe0f Form sequence not found, skipping update");const n=await t.text();if(!n.trim())return void console.log("\u26a0\ufe0f Empty form sequence response, skipping update");const o=JSON.parse(n);if(console.log("\ud83d\udcca Current form sequence data:",o),!Array.isArray(o)||0===o.length)return void console.log("\u26a0\ufe0f No form sequence data found, skipping update");const i=o[0],r=i.formSequenceNumber||0,a=r+1;console.log("\ud83d\udd22 Updating sequence: ".concat(r," \u2192 ").concat(a));const s=await fetch("".concat(pr.baseURL,"/form-sequence/").concat(i.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(p(p({},i),{},{formSequenceNumber:a}))});if(!s.ok){const e=await s.text();throw console.error("\u274c Failed to update form sequence:",e),new Error("Failed to update form sequence: ".concat(s.status," - ").concat(e))}const l=await s.json();console.log("\u2705 Form sequence updated successfully:",l)}catch(v){console.error("\u274c Error updating form sequence:",v)}else console.log("\u2139\ufe0f No formId provided, skipping form sequence update")})(P),console.log("\u2705 Form sequence updated successfully")):console.log("\u2139\ufe0f No form field or selectedFormId, skipping form sequence update");const l=Q();await ue(n,l,a),console.log("\ud83c\udf89 Record creation completed successfully!"),G("".concat(t," created successfully with ").concat(Object.keys(a).length," custom fields!"),"success"),i(H[t]||"/")}else{const n=await he(o,a,Q());e.items&&e.items.length>0&&await pe(e.items),G("".concat(t," updated successfully with ").concat(n," custom fields"),"success"),i(H[t]||"/")}}catch(a){console.error("\u274c Error in handleSubmit:",a),y(a.message),G(a.message,"error")}finally{g(!1),console.log("\ud83c\udfc1 handleSubmit process completed")}},render:e=>(0,sr.jsxs)(ma,{children:[(0,sr.jsxs)("div",{className:"master-form-content",children:[(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:de((null===x||void 0===x?void 0:x.standardFields)||[],!1,e)})]}),I.length>0&&(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,sr.jsx)("div",{className:"master-form-row",children:de(I,!0,e)})]}),(0,sr.jsxs)("div",{className:"form-section",children:[(0,sr.jsx)("div",{className:"section-header",children:(0,sr.jsx)("h3",{className:"section-title",children:"Items"})}),(0,sr.jsx)("div",{style:{padding:"0",width:"100%",maxWidth:"100%",overflow:"hidden"},children:(0,sr.jsx)(CD,{journalEntryId:r,onLinesChange:W,mode:n,embedded:!0})})]})]}),(0,sr.jsxs)("div",{className:"master-form-actions",children:[(0,sr.jsxs)(bo,{type:"button",onClick:()=>i(H[t]||"/"),className:"k-button k-button-secondary",children:[(0,sr.jsx)(tr,{})," ","view"===n?"Close":"Cancel"]}),"new"!==n&&"view"!==n&&(0,sr.jsxs)(bo,{type:"button",onClick:()=>m(!0),className:"k-button k-button-danger",children:[(0,sr.jsx)(or,{})," Delete"]}),"view"!==n&&(0,sr.jsxs)(bo,{type:"submit",disabled:f||!e.allowSubmit,className:"k-button k-button-primary",children:[(0,sr.jsx)(Qi,{})," ",f?"Saving...":"Save"]})]})]})},"".concat(t.toLowerCase(),"-form-").concat(n,"-").concat(r||"new","-").concat(P||"no-form","-items-").concat(L.length))}),(0,sr.jsx)(ly,{isOpen:h,onClose:()=>m(!1),onConfirm:async()=>{try{g(!0),y(null);const n={JournalEntry:{endpoint:"".concat(pr.baseURL,"/journal-entry-line"),getEndpoint:"".concat(pr.baseURL,"/journal-entry-line/by-journal-entry/").concat(r)}}[t];if(n&&n.getEndpoint){const e=await fetch(n.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let t=[];if(e.ok){const n=await e.json();if(Array.isArray(n))t=n;else if(n.results&&Array.isArray(n.results))t=n.results;else if(n.lines&&Array.isArray(n.lines))t=n.lines;else{const e=Object.values(n).filter(e=>Array.isArray(e));e.length>0&&(t=e[0])}}if(t.length>0){const e=t.map(e=>({jeid:r,id:e.id,accountId:e.account,memo:e.memo,newCredit:0,newDebit:0,oldCredit:Number(e.credit||0),oldDebit:Number(e.debit||0)}));console.log("\ud83d\udd04 Calling useJournal for delete operation with changes:",e),await _y(e,"delete")}}const o=Q();if(o)try{const e=await fetch(hr("/custom-field-value/by-record/".concat(r,"/").concat(o)),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json(),n=Array.isArray(t)?t:t.results||[];if(n.length>0){const e=n.map(e=>fetch(hr("/custom-field-value/".concat(e.id)),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}}));await Promise.all(e)}}}catch(e){console.warn("Failed to delete custom field values:",e)}let a;if("JournalEntry"!==t)throw new Error("Unsupported record type: ".concat(t));a=hr("/journal-entry/".concat(r));const s=await fetch(a,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!s.ok){const e=await s.text();throw new Error("Failed to delete ".concat(t,": ").concat(s.status," - ").concat(e))}G("".concat(t," deleted successfully!"),"success"),i(H[t]||"/")}catch(n){y(n.message),G(n.message,"error")}finally{g(!1),m(!1)}},title:"Confirm Delete",message:(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsxs)("p",{children:["Are you sure you want to delete this ",t.toLowerCase(),"?"]}),(0,sr.jsx)("p",{children:(0,sr.jsx)("strong",{children:"This action cannot be undone."})})]}),confirmText:"Delete",cancelText:"Cancel",type:"danger",loading:f})]}):(0,sr.jsx)("div",{className:"master-form-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsxs)("div",{children:["Loading ",t.toLowerCase()," form..."]})]})})}),jD=e=>(0,sr.jsx)(ED,p(p({},e),{},{recordType:"JournalEntry"})),AD=()=>{const e=ve(),[t,n]=(0,o.useState)([]),[i,r]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(""),[d,u]=(0,o.useState)("All"),[h,m]=(0,o.useState)({show:!1,message:"",type:"success"}),[f,g]=(0,o.useState)({skip:0,take:10,sort:[{field:"tranDate",dir:"desc"}]}),v=(0,o.useCallback)(async()=>{try{r(!0),s(null);const e=await fetch(hr("/journal-entry"),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch journal entries: ".concat(e.status));const t=await e.json();n(t.results||t||[])}catch(e){s(e.message),console.error("Error fetching journal entries:",e)}finally{r(!1)}},[]);(0,o.useEffect)(()=>{v()},[v]);const y=()=>{v(),x("Journal entries refreshed successfully")},x=function(e){m({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>{m({show:!1,message:"",type:"success"})},3e3)},b=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},w=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),k=(0,o.useCallback)(()=>{if(!Array.isArray(t))return{data:[],total:0};let e=[...t];l&&(e=e.filter(e=>"".concat(e.sequenceNumber||""," ").concat(e.description||""," ").concat(w(e.totalAmount)).toLowerCase().includes(l.toLowerCase()))),d&&"All"!==d&&(e=e.filter(e=>e.statusName===d));return{data:ab(e,f).data,total:e.length}},[t,l,d,f]);return i?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"journal-entry-list-container",children:(0,sr.jsxs)("div",{className:"loading-indicator",children:[(0,sr.jsx)("div",{className:"spinner"}),(0,sr.jsx)("div",{children:"Loading journal entries..."})]})})}):a?(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsx)("div",{className:"journal-entry-list-container error-container",children:(0,sr.jsxs)("div",{className:"error-message",children:[(0,sr.jsxs)("div",{children:["Error loading journal entries: ",a]}),(0,sr.jsxs)(bo,{onClick:y,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(er,{})," Retry"]})]})})}):(0,sr.jsx)("div",{className:"k-p-4",children:(0,sr.jsxs)("div",{className:"journal-entry-list-container",children:[(0,sr.jsx)(ay,{children:h.show&&(0,sr.jsx)("div",{className:"notification-container",children:(0,sr.jsx)(iy,{type:{style:h.type,icon:!0},closable:!0,onClose:()=>m({show:!1,message:"",type:"success"}),children:(0,sr.jsx)("span",{children:h.message})})})}),(0,sr.jsxs)("div",{className:"list-header",children:[(0,sr.jsx)("h2",{children:"Journal Entry Master"}),(0,sr.jsxs)(bo,{onClick:()=>e("/journal-entry/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,sr.jsx)(Ji,{})," Add New Journal Entry"]})]}),(0,sr.jsxs)("div",{className:"filter-section",children:[(0,sr.jsxs)("div",{className:"search-bar",children:[(0,sr.jsx)(Zi,{className:"search-icon"}),(0,sr.jsx)(Fc,{placeholder:"Search journal entries...",value:l,onChange:e=>c(e.target.value)})]}),(0,sr.jsxs)("div",{className:"filter-bar",children:[(0,sr.jsx)(Yi,{className:"filter-icon"}),(0,sr.jsx)(Sh,{data:["All","Draft","Posted","Approved"],value:d,onChange:e=>u(e.target.value),style:{width:"100%"}})]}),(0,sr.jsx)(bo,{onClick:y,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,sr.jsx)(er,{})})]}),t&&0!==t.length?0===k().data.length?(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:"No journal entries match your current search criteria. Try adjusting your filters."})}):(0,sr.jsxs)(Fj,p(p({data:k().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},f),{},{onDataStateChange:e=>{g(e.dataState)},total:k().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,sr.jsx)(zy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(f.skip||0);return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,sr.jsx)(zy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,sr.jsx)(zy,{field:"tranDate",title:"Transaction Date",width:"150px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{children:b(e.dataItem[e.field])}))}),(0,sr.jsx)(zy,{field:"description",title:"Description",width:"250px"}),(0,sr.jsx)(zy,{field:"statusName",title:"Status",width:"120px",cell:e=>{const t=e.dataItem.statusName||"Draft",n="posted"===t.toLowerCase()?"status-posted":"status-draft";return(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,sr.jsx)("span",{className:"status-badge ".concat(n),children:t})}))}}),(0,sr.jsx)(zy,{field:"totalAmount",title:"Total Amount",width:"140px",cell:e=>(0,sr.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:w(e.dataItem[e.field])}))}),(0,sr.jsx)(zy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,sr.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,sr.jsxs)("div",{className:"action-buttons",children:[(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/journal-entry/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,sr.jsx)(bo,{onClick:()=>{return t=n.id,void e("/journal-entry/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,sr.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid entry data"}))},locked:!0,lockable:!1})]})):(0,sr.jsx)("div",{className:"no-data-message",children:(0,sr.jsx)("p",{children:'No journal entries found. Click the "Add New Journal Entry" button above to create your first journal entry.'})}),(0,sr.jsx)("style",{children:"\n          .journal-entry-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #a0aec0;\n            z-index: 1;\n          }\n\n          .search-bar .k-textbox {\n            padding-left: 28px;\n            width: 100%;\n          }\n\n          .filter-bar {\n            width: 200px;\n            position: relative;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #a0aec0;\n            z-index: 1;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            background: #f7fafc;\n            border-radius: 4px;\n            margin: 20px 0;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            padding: 40px;\n            color: #718096;\n          }\n\n          .spinner {\n            width: 32px;\n            height: 32px;\n            border: 3px solid #e2e8f0;\n            border-top: 3px solid #3182ce;\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n            margin-bottom: 16px;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            text-align: center;\n            padding: 40px 20px;\n          }\n\n          .error-message {\n            color: #e53e3e;\n            margin-bottom: 16px;\n          }\n\n          .status-badge {\n            padding: 4px 8px;\n            border-radius: 12px;\n            font-size: 0.75rem;\n            font-weight: 500;\n            text-transform: uppercase;\n          }\n\n          .status-draft {\n            background-color: #fed7d7;\n            color: #c53030;\n          }\n\n          .status-posted {\n            background-color: #c6f6d5;\n            color: #2f855a;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n          }\n\n          .notification-container {\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            z-index: 1000;\n          }\n        "})]})})};var _D="arc",DD="ArrowUp",ND="ArrowDown",TD="ArrowLeft",PD="ArrowRight",MD="aria-activedescendant",OD="#000",RD="bottom",LD="center",FD="circle",zD="cross",BD="date",VD="12px sans-serif",HD=10,qD="end",UD=/\{\d+:?/,GD="height",WD="inside",KD="inherit",YD="left",XD=Number.MAX_VALUE,JD=-Number.MAX_VALUE,QD="none",ZD="object",$D="outside",eN="right",tN="roundedRect",nN="start",oN="string",iN="top",rN="value",aN="#fff",sN="width",lN="x",cN="y",dN="pointer",uN="horizontal";function pN(e){return Array.isArray(e)}function hN(e,t){for(var n=pN(t)?t:[t],o=0;o<n.length;o++){var i=n[o];-1===e.className.indexOf(i)&&(e.className+=" "+i)}}var mN=/\s+/g;function fN(e,t){e&&e.className&&(e.className=e.className.replace(t,"").replace(mN," "))}const gN="undefined";function vN(e){return typeof e!==gN}function yN(e){var t=.5;e.options.stroke&&vN(e.options.stroke.width)&&e.options.stroke.width%2===0&&(t=0);for(var n=0;n<e.segments.length;n++)e.segments[n].anchor().round(0).translate(t,t);return e}function xN(e,t){return-e.x*t.y+e.y*t.x<0}function bN(e){return"number"===typeof e&&!isNaN(e)}function wN(e){return typeof e===oN}function kN(e){return bN(e)||wN(e)&&isFinite(e)}function CN(e,t){return(e+1)%t}function SN(e,t){var n=e-1;return n<0?t-1:n}function IN(e,t){return 1===t||e%t===0?0:e<0?t+e%t:e>=t?e%t:e}function EN(e){return"function"===typeof e}var jN="object";function AN(e,t){for(var n in t)if("__proto__"!==n&&"constructor"!==n){var o=t[n],i=typeof o,r=void 0;if((r=i===jN&&null!==o?o.constructor:null)&&r!==Array)if(o instanceof Date)e[n]=new Date(o.getTime());else if(EN(o.clone))e[n]=o.clone();else{var a=e[n];e[n]=typeof a===jN&&a||{},AN(e[n],o)}else"undefined"!==i&&(e[n]=o)}return e}function _N(e){for(var t=arguments,n=arguments.length,o=1;o<n;o++)AN(e,t[o]);return e}function DN(e){return"object"===typeof e}function NN(e){return bN(e)?e+"px":e}var TN=/width|height|top|left|bottom|right/i;function PN(e){return TN.test(e)}function MN(e,t){var n=wN(t)?[t]:t;if(pN(n)){for(var o={},i=window.getComputedStyle(e),r=0;r<n.length;r++){var a=n[r];o[a]=PN(a)?parseFloat(i[a]):i[a]}return o}if(DN(t))for(var s in t)e.style[s]=NN(t[s])}function ON(e,t){void 0===t&&(t=0);var n={top:0,right:0,bottom:0,left:0};return"number"===typeof e?n[iN]=n[eN]=n[RD]=n[YD]=e:(n[iN]=e[iN]||t,n[eN]=e[eN]||t,n[RD]=e[RD]||t,n[YD]=e[YD]||t),n}var RN={compile:function(e){return e}},LN=function(){};LN.register=function(e){RN=e},LN.compile=function(e,t){return RN.compile(e,t)};const FN=LN;function zN(e){var t;return void 0===e&&(e={}),e.template?e.template=t=FN.compile(e.template):EN(e.content)&&(t=e.content),t}function BN(e){var t;return void 0===e&&(e={}),e.ariaTemplate?e.ariaTemplate=t=FN.compile(e.ariaTemplate):EN(e.ariaContent)&&(t=e.ariaContent),t}var VN=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,HN={};function qN(e){if(HN[e])return HN[e];var t=[];return e.replace(VN,function(e,n,o,i){t.push(vN(n)?n:o||i)}),HN[e]=function(e){for(var n=e,o=0;o<t.length&&n;o++)n=n[t[o]];return n},HN[e]}function UN(e,t){for(var n=e.length,o=[],i=0;i<n;i++)t(e[i])&&o.push(e[i]);return o}function GN(e,t){if(e.className)for(var n=t.split(" "),o=0;o<n.length;o++)if(e.className.indexOf&&-1!==e.className.indexOf(n[o]))return!0}HN[void 0]=function(e){return e};var WN=function(){this._map=new Map};WN.prototype.get=function(e){return this._map.get(e)},WN.prototype.set=function(e,t){this._map.set(e,t)};const KN=WN;function YN(e,t){if(t)return-1!==t.indexOf(e)}function XN(e,t){const n=function(e){return e?Math.pow(10,e):1}(t);return Math.round(e*n)/n}function JN(e,t,n){return XN(e+(t-e)*n,3)}var QN="trigger",ZN=function(e,t){this.observer=e,this.handlerMap=_N({},this.handlerMap,t)};ZN.prototype.trigger=function(e,t){var n,o=this.observer,i=this.handlerMap;return i[e]?n=this.callObserver(i[e],t):o[QN]&&(n=this.callObserver(QN,e,t)),n},ZN.prototype.callObserver=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return this.observer[e].apply(this.observer,t)},ZN.prototype.requiresHandlers=function(e){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(e);for(var t=0;t<e.length;t++)if(this.handlerMap[e[t]])return!0};const $N=ZN;function eT(e,t){for(var n=e.length,o=[],i=0;i<n;i++){var r=t(e[i]);vN(r)&&o.push(r)}return o}let tT=null;const nT={get browser(){return"undefined"===typeof window||tT||(tT=function(e){const t={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+))/i};let n={};for(let o in t)if(t.hasOwnProperty(o)){const i=e.match(t[o]);if(i){n[o]=!0,n[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||i[2],10);break}}return n}(window.navigator.userAgent)),tT}},oT=nT;var iT=oT.browser||{};function rT(e){var t=0;return e.wheelDelta?(t=-e.wheelDelta/120,iT.webkit&&(t/=2*Math.max(window.devicePixelRatio,.625))):e.detail&&(t=e.detail/3),t=t>0?Math.ceil(t):Math.floor(t)}class aT{}function sT(e){const t=window.console;"undefined"!=typeof t&&t.log&&t.log(e)}function lT(e,t){return e.push.apply(e,t),e}const cT={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function dT(e){const t=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];let n="";for(;e>0;)e<t[0]?t.shift():(n+=cT[t[0]],e-=t[0]);return n}function uT(){let e,t;const n=new Promise((o,i)=>{e=e=>(n._state="resolved",o(e),n),t=e=>(n._state="rejected",i(e),n)});return n._state="pending",n.resolve=e,n.reject=t,n.state=()=>n._state,n}let pT=1;function hT(){return"kdef"+pT++}const mT=Math.PI/180,fT=Number.MAX_VALUE,gT=-Number.MAX_VALUE;function vT(e){return e/mT}const yT=String.fromCharCode;const xT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function bT(e){let t="",n=0;const o=function(e){let t="";for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);if(55296<=o&&o<=56319){const t=o,i=e.charCodeAt(++n);isNaN(i)||(o=1024*(t-55296)+(i-56320)+65536)}o<128?t+=yT(o):o<2048?(t+=yT(192|o>>>6),t+=yT(128|63&o)):o<65536?(t+=yT(224|o>>>12),t+=yT(128|o>>>6&63),t+=yT(128|63&o)):o<1114111&&(t+=yT(240|o>>>18),t+=yT(128|o>>>12&63),t+=yT(128|o>>>6&63),t+=yT(128|63&o))}return t}(e);for(;n<o.length;){let e=o.charCodeAt(n++),i=o.charCodeAt(n++),r=o.charCodeAt(n++),a=e>>2,s=(3&e)<<4|i>>4,l=(15&i)<<2|r>>6,c=63&r;isNaN(i)?l=c=64:isNaN(r)&&(c=64),t=t+xT.charAt(a)+xT.charAt(s)+xT.charAt(l)+xT.charAt(c)}return t}function wT(e){return void 0!==(e.x||{}).location?{x:e.x.location,y:e.y.location}:{x:e.pageX||e.clientX||0,y:e.pageY||e.clientY||0}}function kT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.touch?e.touch.initialTouch:e.target}function CT(e){return""===e||null===e||"none"===e||"transparent"===e||void 0===e}function ST(e){if(e)return e[e.length-1]}function IT(e,t,n){return Math.max(Math.min(e,n),t)}function ET(e,t){if(e.length<2)return e.slice();return function e(n){if(n.length<=1)return n;var o=Math.floor(n.length/2),i=n.slice(0,o),r=n.slice(o);return function(e,n){for(var o=[],i=0,r=0,a=0;i<e.length&&r<n.length;)t(e[i],n[r])<=0?o[a++]=e[i++]:o[a++]=n[r++];return i<e.length&&o.push.apply(o,e.slice(i)),r<n.length&&o.push.apply(o,n.slice(r)),o}(i=e(i),r=e(r))}(e)}const jT=Date.now||function(){return(new Date).getTime()};function AT(e){return Promise.all(e)}function _T(e){return e*mT}function DT(e,t){return void 0!==e?e:t}function NT(e,t){for(let n in t){const o=n.trim().split(" ");for(let i=0;i<o.length;i++)e.addEventListener(o[i],t[n],!1)}}function TT(e){const t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}}function PT(e,t){const n={},o=window.getComputedStyle(e)||{},i=Array.isArray(t)?t:[t];for(let r=0;r<i.length;r++){let e=i[r];n[e]=o[e]}return n}function MT(e){return isNaN(e)?e:e+"px"}function OT(e,t){if(!t){const t=PT(e,["width","height"]);return{width:parseInt(t.width,10),height:parseInt(t.height,10)}}{const{width:n,height:o}=t;void 0!==n&&(e.style.width=MT(n)),void 0!==o&&(e.style.height=MT(o))}}function RT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(let n in t){const o=n.trim().split(" ");for(let i=0;i<o.length;i++)e.removeEventListener(o[i],t[n],!1)}}function LT(e){const{paddingLeft:t,paddingTop:n}=PT(e,["paddingLeft","paddingTop"]);return{top:parseFloat(n),left:parseFloat(t)}}class FT extends aT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;super(),this.a=e,this.b=t,this.c=n,this.d=o,this.e=i,this.f=r}multiplyCopy(e){return new FT(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)}invert(){const{a:e,b:t,c:n,d:o,e:i,f:r}=this,a=e*o-t*n;return 0===a?null:new FT(o/a,-t/a,-n/a,e/a,(n*r-o*i)/a,(t*i-e*r)/a)}clone(){return new FT(this.a,this.b,this.c,this.d,this.e,this.f)}equals(e){return!!e&&(this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f)}round(e){return this.a=XN(this.a,e),this.b=XN(this.b,e),this.c=XN(this.c,e),this.d=XN(this.d,e),this.e=XN(this.e,e),this.f=XN(this.f,e),this}toArray(e){const t=[this.a,this.b,this.c,this.d,this.e,this.f];if(void 0!==e)for(let n=0;n<t.length;n++)t[n]=XN(t[n],e);return t}toString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return this.toArray(e).join(t)}static translate(e,t){return new FT(1,0,0,1,e,t)}static unit(){return new FT(1,0,0,1,0,0)}static rotate(e,t,n){const o=new FT;return o.a=Math.cos(_T(e)),o.b=Math.sin(_T(e)),o.c=-o.b,o.d=o.a,o.e=t-t*o.a+n*o.b||0,o.f=n-n*o.a-t*o.b||0,o}static scale(e,t){return new FT(e,0,0,t,0,0)}}FT.IDENTITY=FT.unit();const zT=FT,BT=/matrix\((.*)\)/;function VT(e){const t=getComputedStyle(e).transform;return"none"===t?zT.unit():function(e){const t=e.match(BT);if(null===t||2!==t.length)return zT.unit();const n=t[1].split(",").map(e=>parseFloat(e));return new zT(...n)}(t)}function HT(e){if(!e)return zT.unit();let t=VT(e),n=e.parentElement;for(;n;){const e=VT(n);t=t.multiplyCopy(e),n=n.parentElement}return t.b=t.c=t.e=t.f=0,t}const qT=class extends aT{constructor(e){super(),this._size=e,this._length=0,this._map={}}put(e,t){const n=this._map,o={key:e,value:t};n[e]=o,this._head?(this._tail.newer=o,o.older=this._tail,this._tail=o):this._head=this._tail=o,this._length>=this._size?(n[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}get(e){const t=this._map[e];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value}},UT=/\r?\n|\r|\t/g,GT=" ";function WT(e){return String(e).replace(UT,GT)}function KT(e){const t=[];for(let n in e)t.push(n+e[n]);return t.sort().join("")}function YT(e){let t=2166136261;for(let n=0;n<e.length;++n)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=e.charCodeAt(n);return t>>>0}const XT={baselineMarkerSize:1};let JT;"undefined"!==typeof document&&(JT=document.createElement("div"),JT.style.setProperty("position","absolute","important"),JT.style.setProperty("top","-4000px","important"),JT.style.setProperty("width","auto","important"),JT.style.setProperty("height","auto","important"),JT.style.setProperty("padding","0","important"),JT.style.setProperty("margin","0","important"),JT.style.setProperty("border","0","important"),JT.style.setProperty("line-height","normal","important"),JT.style.setProperty("visibility","hidden","important"),JT.style.setProperty("white-space","pre","important"));class QT extends aT{constructor(e){super(),this._cache=new qT(1e3),this.options=Object.assign({},XT,e)}measure(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("undefined"===typeof e||null===e)return{width:0,height:0,baseline:0};const o=YT(e+KT(t)),i=this._cache.get(o);if(i)return i;const r={width:0,height:0,baseline:0},a=n.box||JT,s=this._baselineMarker().cloneNode(!1);for(let c in t){let e=t[c];"undefined"!==typeof e&&(a.style[c]=e)}const l=!1!==n.normalizeText?WT(e):String(e);return a.textContent=l,a.appendChild(s),document.body.appendChild(a),l.length&&(r.width=a.offsetWidth-this.options.baselineMarkerSize,r.height=a.offsetHeight,r.baseline=s.offsetTop+this.options.baselineMarkerSize),r.width>0&&r.height>0&&this._cache.put(o,r),a.parentNode.removeChild(a),r}_baselineMarker(){const e=document.createElement("div");return e.style.display="inline-block",e.style.verticalAlign="baseline",e.style.width=this.options.baselineMarkerSize+"px",e.style.height=this.options.baselineMarkerSize+"px",e.style.overflow="hidden",e}}QT.current=new QT;const ZT=QT;function $T(e,t,n){return ZT.current.measure(e,t,n)}var eP=function(){return"undefined"!==typeof window},tP={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},nP={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},oP={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},iP={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},rP=function(e,t,n){for(var o in t)if(t.hasOwnProperty(o)&&t[o].test(e))return o;return void 0!==n?n:e},aP=eP()&&window.navigator?window.navigator.userAgent:null,sP=aP?function(e){var t=null,n=[];for(var o in oP)if(oP.hasOwnProperty(o)&&(n=e.match(oP[o]))){(t={})[o]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t}(aP):null,lP=(aP&&function(e){var t,n=[];for(var o in tP)if(tP.hasOwnProperty(o)){if(!(n=e.match(tP[o])))continue;if("windows"===o&&"plugins"in window.navigator)return null;var i={};return i.device=o,i.browser=rP(e,iP,"default"),i.name=rP(o,nP),i[i.name]=!0,i.majorVersion=n[2],i.minorVersion=n[3]?n[3].replace("_","."):".0",t=i.minorVersion.replace(".","").substr(0,2),i.flatVersion=i.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),i.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,i.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||i.cordova,i}}(aP),eP()&&window,sP&&!sP.chrome&&window.MSPointerEvent,sP&&!sP.chrome&&window.PointerEvent,{});lP[void 0]=function(e){return e};var cP=/\/\*[\s\S]*?\*\//g,dP=/([^\s:;]+?)\s*:\s*((?:(?:url\(\s*(?:(?:[^"')\\]|\\.)*|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\s*\)|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|[^;"'])*?)\s*)(?=;|$)/gi,uP=/&quot;|&#34;|&#x22;/gi,pP=/&apos;|&#39;|&#x27;/gi;function hP(e){for(var t,n,o={},i=(e||"").replace(cP,"").replace(uP,'"').replace(pP,"'"),r=dP.exec(i);null!==r;)t=r[1].trim(),n=r[2].trim(),o[t]=n,r=dP.exec(i);return o}const mP="data-style",fP=e=>(e||"").replace(/\sstyle=/g," "+mP+"="),gP=e=>{Array.from(e.querySelectorAll("["+mP+"]")).forEach(e=>{const t=e.getAttribute(mP);e.removeAttribute(mP),((e,t)=>{const n=hP(t);Object.keys(n).forEach(t=>{e.style[t]=n[t]})})(e,t)})},vP=(e,t)=>{e.innerHTML=fP(t),gP(e)};var yP=e.append,xP=e.bindEvents,bP=e.defined,wP=e.deg,kP=e.elementOffset,CP=e.elementSize,SP=e.eventCoordinates,IP=e.eventElement,EP=e.hashKey,jP=e.last,AP=e.limitValue,_P=e.objectKey,DP=e.rad,NP=e.round,TP=e.unbindEvents,PP=e.valueOrDefault,MP=function(){};MP.fetchFonts=function(e,t,n){void 0===n&&(n={depth:0});!e||n.depth>5||!document.fonts||Object.keys(e).forEach(function(o){var i=e[o];"dataSource"!==o&&"$"!==o[0]&&i&&("font"===o?t.push(i):"object"===typeof i&&(n.depth++,MP.fetchFonts(i,t,n),n.depth--))})},MP.loadFonts=function(e,t){var n=[];if(e.length>0&&document.fonts){try{n=e.map(function(e){return document.fonts.load(e)})}catch(uo){sT(uo)}Promise.all(n).then(t,t)}else t()},MP.preloadFonts=function(e,t){var n=[];MP.fetchFonts(e,n),MP.loadFonts(n,t)};const OP=MP;function RP(e,t){var n=e.prototype;n.options?n.options=_N({},n.options,t):n.options=t}var LP="k-i-",FP="k-svg-i-",zP=function(e,t){this.element=e,this.options=_N({},this.options,t),this.wrapper()};zP.prototype.wrapper=function(){this.addClasses()},zP.prototype.addClasses=function(){},zP.prototype.html=function(){return this.element.outerHTML},RP(zP,{name:"",size:"none",themeColor:"none",flip:"default",iconClass:"",stylingOptions:["size","themeColor","fill"]});var BP=function(e){function t(t,n){e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.wrapper=function(){var t=this.element.className.split(" ").find(function(e){return e.startsWith(LP)}),n=this.options.icon?""+(this.options.icon.startsWith(LP)?"":LP)+this.options.icon:"";this._className=n,hN(this.element,"k-icon"),hN(this.element,"k-font-icon"),fN(this.element,t),hN(this.element,n),hN(this.element,this.options.iconClass||""),e.prototype.wrapper.call(this)},t}(zP);RP(BP,{name:"HTMLFontIcon",icon:null});var VP=function(e){function t(t,n){t.innerHTML="",e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.wrapper=function(){var t=this.options.icon,n=this.options.iconClass,o=this.element.className.split(" ").find(function(e){return e.startsWith(FP)});if(!t&&n){var i=n.match(/k-i-(\w+(?:-\w+)*)/);i&&(t=i[1],n=n.replace(i[0],""))}wN(t)&&(t=t.replace("k-i-","").replace(/-./g,function(e){return e[1].toUpperCase()}),t=this.options.svgIcons[t]||this.options.svgIcons[t+"Icon"]);var r=t&&t.name?""+FP+t.name:"";if(this._className=r,hN(this.element,"k-svg-icon"),fN(this.element,o),hN(this.element,r),hN(this.element,n||""),this.element.setAttribute("aria-hidden","true"),t&&function(e){return"[object Object]"===Object.prototype.toString.call(e)}(t)){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox",t.viewBox||""),a.setAttribute("focusable","false"),a.innerHTML=t.content||"",this.element.appendChild(a)}e.prototype.wrapper.call(this)},t}(zP);RP(VP,{name:"HTMLSvgIcon",icon:null,svgIcons:{}});var HP={svg:VP,font:BP};function qP(e,t){var n=e,o=t;return n&&(!DN(n)||n instanceof HTMLElement)&&!wN(n)||(o=n,n=document.createElement("span")),wN(o)&&(o={icon:o}),o.type||(o.type="svg"),HP[o.type]?new HP[o.type](n,o).html():null}function UP(e){for(var t=XD,n=JD,o=0,i=e.length;o<i;o++){var r=e[o];null!==r&&isFinite(r)&&(t=Math.min(t,r),n=Math.max(n,r))}return{min:t===XD?void 0:t,max:n===JD?void 0:n}}function GP(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(t(o,n,e))return o}}var WP=zT,KP=/matrix\((.*)\)/;function YP(e){var t=getComputedStyle(e).transform;return"none"===t?WP.unit():function(e){var t=e.match(KP);if(null===t||2!==t.length)return WP.unit();var n=t[1].split(",").map(function(e){return parseFloat(e)});return new(Function.prototype.bind.apply(WP,[null].concat(n)))}(t)}const XP={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},JP=oT.browser;let QP=e=>{const t=Object.keys(XP);t.push("transparent");const n=new RegExp("^("+t.join("|")+")(\\W|$)","i");return QP=e=>n.exec(e),n.exec(e)};class ZP extends aT{constructor(){super()}toHSV(){return this}toRGB(){return this}toHex(e){return this.toBytes().toHex(e)}toBytes(){return this}toCss(e){return"#"+this.toHex(e)}toCssRgba(){const e=this.toBytes();return"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(parseFloat(Number(this.a).toFixed(3)),")")}toDisplay(){return JP.msie&&JP.version<9?this.toCss():this.toCssRgba()}equals(e){return e===this||null!==e&&void 0!==e&&this.toCssRgba()===aM(e).toCssRgba()}diff(e){if(null===e)return NaN;const t=this.toBytes(),n=e.toBytes();return Math.sqrt(Math.pow(.3*(t.r-n.r),2)+Math.pow(.59*(t.g-n.g),2)+Math.pow(.11*(t.b-n.b),2))}clone(){let e=this.toBytes();return e===this&&(e=new eM(e.r,e.g,e.b,e.a)),e}}class $P extends ZP{constructor(e,t,n,o){super(),this.r=e,this.g=t,this.b=n,this.a=o}toHSV(){const{r:e,g:t,b:n}=this,o=Math.min(e,t,n),i=Math.max(e,t,n),r=i-o,a=i;let s,l;return 0===r?new nM(0,0,a,this.a):(0!==i?(l=r/i,s=e===i?(t-n)/r:t===i?2+(n-e)/r:4+(e-t)/r,s*=60,s<0&&(s+=360)):(l=0,s=-1),new nM(s,l,a,this.a))}toHSL(){const{r:e,g:t,b:n}=this,o=Math.max(e,t,n),i=Math.min(e,t,n);let r,a,s=(o+i)/2;if(o===i)r=a=0;else{const l=o-i;switch(a=s>.5?l/(2-o-i):l/(o+i),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}}return new oM(60*r,100*a,100*s,this.a)}toBytes(){return new eM(255*this.r,255*this.g,255*this.b,this.a)}}class eM extends $P{constructor(e,t,n,o){super(Math.round(e),Math.round(t),Math.round(n),o)}toRGB(){return new $P(this.r/255,this.g/255,this.b/255,this.a)}toHSV(){return this.toRGB().toHSV()}toHSL(){return this.toRGB().toHSL()}toHex(e){let t=tM(this.r,2)+tM(this.g,2)+tM(this.b,2);return e&&e.alpha&&(t+=tM(Math.round(255*this.a),2)),t}toBytes(){return this}}function tM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",o=e.toString(16);for(;t>o.length;)o=n+o;return o}class nM extends ZP{constructor(e,t,n,o){super(),this.h=e,this.s=t,this.v=n,this.a=o}toRGB(){let e,t,n,{h:o,s:i,v:r}=this;if(0===i)e=t=n=r;else{o/=60;const a=Math.floor(o),s=o-a,l=r*(1-i),c=r*(1-i*s),d=r*(1-i*(1-s));switch(a){case 0:e=r,t=d,n=l;break;case 1:e=c,t=r,n=l;break;case 2:e=l,t=r,n=d;break;case 3:e=l,t=c,n=r;break;case 4:e=d,t=l,n=r;break;default:e=r,t=l,n=c}}return new $P(e,t,n,this.a)}toHSL(){return this.toRGB().toHSL()}toBytes(){return this.toRGB().toBytes()}}class oM extends ZP{constructor(e,t,n,o){super(),this.h=e,this.s=t,this.l=n,this.a=o}toRGB(){let e,t,n,o=this.h/360,i=this.s/100,r=this.l/100;if(0===i)e=t=n=r;else{const a=r<.5?r*(1+i):r+i-r*i,s=2*r-a;e=iM(s,a,o+1/3),t=iM(s,a,o),n=iM(s,a,o-1/3)}return new $P(e,t,n,this.a)}toHSV(){return this.toRGB().toHSV()}toBytes(){return this.toRGB().toBytes()}}function iM(e,t,n){let o=n;return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+6*(t-e)*o:o<.5?t:o<2/3?e+(t-e)*(2/3-o)*6:e}function rM(e){return parseFloat(parseFloat(parseInt(e,16)/255).toFixed(3))}function aM(e,t){let n,o;if(!e||"none"===e)return null;if(e instanceof ZP)return e;let i=e.toLowerCase();if(n=QP(i))return i="transparent"===n[1]?new $P(1,1,1,0):aM(XP[n[1]],t),i.match=[n[1]],i;if((n=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(i))?o=new eM(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),1):(n=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(i))?o=new eM(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),1):(n=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(i))?o=new eM(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),rM(n[4]+n[4])):(n=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(i))?o=new eM(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),rM(n[4])):(n=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(i))?o=new eM(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),1):(n=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(i))?o=new eM(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4])):(n=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(i))?o=new $P(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,1):(n=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(i))?o=new $P(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4])):(n=/^color\(\s*srgb\s*([0-9]*\.?[0-9]+)\s+([0-9]*\.?[0-9]+)\s+([0-9]*\.?[0-9]+)\s*(\/\s+([0-9]*\.?[0-9]+))?\)/.exec(i))&&(o=new $P(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),parseFloat(n[5]||"1"))),o)o.match=n;else if(!t)throw new Error("Cannot parse color: "+i);return o}class sM extends aT{constructor(e){if(super(),1===arguments.length){const t=sM.formats,n=this.resolveColor(e);for(let e=0;e<t.length;e++){const o=t[e].re,i=t[e].process,r=o.exec(n);if(r){const e=i(r);this.r=e[0],this.g=e[1],this.b=e[2]}}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}toHex(){const e=this.padDigit,t=this.r.toString(16),n=this.g.toString(16),o=this.b.toString(16);return"#"+e(t)+e(n)+e(o)}resolveColor(e){let t=e||"black";return"#"===t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase(),t=sM.namedColors[t]||t,t}normalizeByte(e){return e<0||isNaN(e)?0:e>255?255:e}padDigit(e){return 1===e.length?"0"+e:e}brightness(e){const t=Math.round;return this.r=t(this.normalizeByte(this.r*e)),this.g=t(this.normalizeByte(this.g*e)),this.b=t(this.normalizeByte(this.b*e)),this}percBrightness(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}isDark(){return this.percBrightness()<180}static fromBytes(e,t,n,o){return new eM(e,t,n,null!=o?o:1)}static fromRGB(e,t,n,o){return new $P(e,t,n,null!=o?o:1)}static fromHSV(e,t,n,o){return new nM(e,t,n,null!=o?o:1)}static fromHSL(e,t,n,o){return new oM(e,t,n,null!=o?o:1)}}sM.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],sM.namedColors=XP;const lM=sM;const cM=function(e){return new lM(e).isDark()?aN:OD};var dM={},uM=function(e){this._index={},this._values=e?e.slice(0):[];for(var t=0;t<this._values.length;t++)this._index[this._values[t]]=t},pM={size:{configurable:!0}};uM.prototype.values=function(){return this._values.filter(function(e){return e!==dM})},uM.prototype.has=function(e){return void 0!==this._index[e]},uM.prototype.add=function(e){this.has(e)||(this._index[e]=this._values.length,this._values.push(e))},uM.prototype.delete=function(e){var t=this._index[e];void 0!==t&&(this._values[t]=dM,delete this._index[e])},uM.prototype.clear=function(){this._index={},this._values=[]},pM.size.get=function(){return this._values.length},Object.defineProperties(uM.prototype,pM);var hM=function(e){this._set=new Set(e)},mM={size:{configurable:!0}};hM.prototype.values=function(){return Array.from(this._set)},hM.prototype.has=function(e){return this._set.has(e)},hM.prototype.add=function(e){this._set.add(e)},hM.prototype.delete=function(e){this._set.delete(e)},hM.prototype.clear=function(){this._set.clear()},mM.size.get=function(){return this._set.size},Object.defineProperties(hM.prototype,mM);function fM(e){return function(){var e=!1;return"function"===typeof Set&&(e=new Set([1]).has(1)),e}()?new hM(e):new uM(e)}function gM(e){throw e}const vM={INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110};function yM(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var xM=function(){this.height=0,this.width=0,this.data=[]};xM.prototype.clone=function(){var e=new xM;return e.height=this.height,e.width=this.width,e.data=this.data.map(function(e){return e.slice()}),e},xM.prototype.get=function(e,t){var n=this.data[e];return n?n[t]:null},xM.prototype.set=function(e,t,n){var o=this.data[e];null==o&&(o=this.data[e]=[]),o[t]=n,e>=this.height&&(this.height=e+1),t>=this.width&&(this.width=t+1)},xM.prototype.each=function(e,t){for(var n=0;n<this.height;++n)for(var o=0;o<this.width;++o){var i=this.get(n,o);if((t||null!=i)&&void 0!==(i=e(i,n,o)))return i}},xM.prototype.map=function(e,t){var n=new xM;return this.each(function(t,o,i){n.set(o,i,e(t,o,i))},t),n},xM.prototype.transpose=function(){var e=new xM;return this.each(function(t,n,o){e.set(o,n,t)}),e},xM.prototype.unit=function(e){this.width=this.height=e;for(var t=this.data=new Array(e),n=e;--n>=0;)for(var o=t[n]=new Array(e),i=e;--i>=0;)o[i]=n===i?1:0;return this},xM.prototype.multiply=function(e){for(var t=this,n=new xM,o=0;o<t.height;++o)for(var i=0;i<e.width;++i){for(var r=0,a=0;a<t.width;++a){var s=t.get(o,a),l=e.get(a,i);"number"===typeof s&&"number"===typeof l&&(r+=s*l)}n.set(o,i,r)}return n},xM.prototype.inverse=function(){for(var e=this.width,t=this.augment((new xM).unit(e)),n=t.data,o=function(t){var o=function(e,t,n){for(var o=n(e),i=e,r=e+1;r<t;r++){var a=n(e);a>o&&(o=a,i=e)}return i}(t,e,function(e){return n[e][t]});if(!n[o][t])return{v:null};if(t!==o){var i=n[t];n[t]=n[o],n[o]=i}for(var r=t+1;r<e;++r){for(var a=t+1;a<2*e;++a)n[r][a]-=n[t][a]*n[r][t]/n[t][t];n[r][t]=0}},i=0;i<e;++i){var r=o(i);if(r)return r.v}for(var a=0;a<e;++a)for(var s=n[a][a],l=0;l<2*e;++l)n[a][l]/=s;for(var c=e;--c>=0;)for(var d=c;--d>=0;)if(n[d][c])for(var u=2*e;--u>=e;)n[d][u]-=n[c][u]*n[d][c];return t.slice(0,e,e,e)},xM.prototype.augment=function(e){var t=this.clone(),n=t.width;return e.each(function(e,o,i){t.set(o,i+n,e)}),t},xM.prototype.slice=function(e,t,n,o){for(var i=new xM,r=0;r<n;++r)for(var a=0;a<o;++a)i.set(r,a,this.get(e+r,t+a));return i};const bM=xM;var wM={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"};function kM(e){return wM[e]||e}var CM=function(e){return e.replace(/([^ ]+)/g,kM)};function SM(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n}var IM=new WeakMap,EM=Symbol("id");function jM(e,t,n,o,i){!function(e,t,n,o,i){var r=pN(t)?t:(t||"").split(" ");r.forEach(function(t){!function(e,t,n,o,i){var r,a=o;n&&EN(n)&&!o?a=n:n&&function(e){return"string"===typeof e}(n)&&EN(a)&&(r=n);var s=function(t){var n=t.target?t.target.closest(r):null;if(!r||r&&t.target&&n){var o=r?n:t.currentTarget;Object.defineProperty(t,"currentTarget",{value:o}),Object.defineProperty(t,"delegateTarget",{value:e}),a(t)}};a[EM]=SM();var l=IM.get(e);l||(l=new Map,IM.set(e,l));l.set(a[EM],s),e.addEventListener(t,s,Boolean(i))}(e,t,n,o,i)})}(e,t,n,o,i)}function AM(e,t,n,o,i){!function(e,t,n,o){var i=pN(t)?t:(t||"").split(" ");i.forEach(function(t){!function(e,t,n,o){var i=IM.get(e);if(i&&n&&n[EM]){var r=n[EM],a=i.get(r);i.delete(r),a&&e.removeEventListener(t,a,Boolean(o))}}(e,t,n,o)})}(e,t,n,o)}function _M(){var e=function(e){var t=!1,n={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i},o={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i};for(var i in n){if(e.match(n[i])){if("windows"===i&&"plugins"in navigator)return!1;(t={}).device=i,t.name=DM(i,o),t[t.name]=!0;break}}return t}(navigator.userAgent),t={};return t.mobileOS=e,t}function DM(e,t,n){for(var o in t)if(t[o].test(e))return o;return void 0!==n?n:e}function NM(){}function TM(){return(new Date).getTime()}var PM="string",MM="function",OM=function(){this._defaultPrevented=!0},RM=function(){return!0===this._defaultPrevented},LM=function(e){function t(){e.call(this),this._events={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.unbind()},t.prototype.bind=function(e,t,n){var o,i,r,a,s=this,l=typeof e===PM?[e]:e||[],c=typeof t===MM;if(void 0===t){for(o in e)s.bind(o,e[o]);return s}var d=function(){var e=l[o];(a=c?t:t[e])&&(n&&(r=a,a=function(){s.unbind(e,a),r.apply(s,arguments)},a.original=r),(s._events[e]=s._events[e]||[]).push(a))};for(o=0,i=l.length;o<i;o++)d();return s},t.prototype.one=function(e,t){return this.bind(e,t,!0)},t.prototype.first=function(e,t){var n,o,i,r=this,a=typeof e===PM?[e]:e,s=typeof t===MM;for(n=0,o=a.length;n<o;n++){var l=a[n];(i=s?t:t[l])&&(r._events[l]=r._events[l]||[]).unshift(i)}return r},t.prototype.trigger=function(e,t){var n,o,i=this,r=i._events[e];if(r){var a=t||{};for(a.sender=i,a._defaultPrevented=!1,a.preventDefault=OM,a.isDefaultPrevented=RM,n=0,o=(r=r.slice()).length;n<o;n++)r[n].call(i,a);return!0===a._defaultPrevented}return!1},t.prototype.unbind=function(e,t){var n,o=this,i=o._events[e];if(void 0===e)o._events={};else if(i)if(t)for(n=i.length-1;n>=0;n--)i[n]!==t&&i[n].original!==t||i.splice(n,1);else o._events[e]=[];return o},t.prototype._setEvents=function(e){for(var t=this,n=(this.events||[]).length,o=0;o<n;o++){var i=t.events[o];t.options[i]&&e[i]&&(t.unbind(i,t.options[i]),t._events&&t._events[i]&&delete t._events[i])}this.bind(this.events,e)},t}(aT);const FM=LM;var zM=Object.assign,BM=function(e){e.preventDefault()},VM=800,HM=0,qM="press",UM="hold",GM="select",WM="start",KM="move",YM="end",XM="cancel",JM="tap",QM="doubleTap",ZM="release",$M="gesturechange",eO="gestureend",tO="gesturetap",nO={api:0,touch:0,mouse:9,pointer:9};function oO(e){var t=[],n=e.originalEvent||e,o=e.currentTarget;return e.api?t.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"}):t.push({location:n,event:e,target:e.target,currentTarget:o,id:n.pointerId,type:"pointer"}),t}var iO=function(e){function t(t,n){e.call(this);var o=this;o.support=_M(),o.invalidZeroEvents=this.support.mobileOS&&this.support.mobileOS.android,o.axis=t,o._updateLocationData(n),o.startLocation=o.location,o.velocity=o.delta=0,o.timeStamp=TM()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.move=function(e){var t=this,n=e["page"+t.axis],o=TM(),i=o-t.timeStamp||1;!n&&this.invalidZeroEvents||(t.delta=n-t.location,t._updateLocationData(e),t.initialDelta=n-t.startLocation,t.velocity=t.delta/i,t.timeStamp=o)},t.prototype._updateLocationData=function(e){var t=this,n=t.axis;t.location=e["page"+n],t.client=e["client"+n],t.screen=e["screen"+n]},t}(aT),rO=function(e){function t(t,n,o){e.call(this),zM(this,{x:new iO("X",o.location),y:new iO("Y",o.location),type:o.type,threshold:t.threshold||nO[o.type],userEvents:t,target:n,currentTarget:o.currentTarget,initialTouch:o.target,id:o.id,pressEvent:o,_clicks:t._clicks,supportDoubleTap:t.supportDoubleTap,_moved:!1,_finished:!1})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.press=function(){var e=this;this._holdTimeout=setTimeout(function(){return e._hold()},this.userEvents.minHold),this._trigger(qM,this.pressEvent)},t.prototype._tap=function(e){var t=this;t.userEvents._clicks++,1===t.userEvents._clicks&&(t._clickTimeout=setTimeout(function(){1===t.userEvents._clicks?t._trigger(JM,e):t._trigger(QM,e),t.userEvents._clicks=0},300))},t.prototype._hold=function(){this._trigger(UM,this.pressEvent)},t.prototype.move=function(e){var t=this,n="api"!==e.type&&t.userEvents._shouldNotMove;if(!t._finished&&!n){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(sO.current&&sO.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger(KM,e)}},t.prototype.end=function(e){this.endTime=TM(),this._finished||(this._finished=!0,this._trigger(ZM,e),this._moved?this._trigger(YM,e):this.supportDoubleTap?this._tap(e):this._trigger(JM,e),clearTimeout(this._holdTimeout),this.dispose())},t.prototype.dispose=function(){var e=this.userEvents.touches||[];this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout);var t=e.indexOf(this);e.splice(t,1)},t.prototype.skip=function(){this.dispose()},t.prototype.cancel=function(){this.dispose()},t.prototype.isMoved=function(){return this._moved},t.prototype._start=function(e){clearTimeout(this._holdTimeout),this.startTime=TM(),this._moved=!0,this._trigger(WM,e)},t.prototype._trigger=function(e,t){var n=t.event,o={touch:this,x:this.x,y:this.y,target:this.target,event:n};this.userEvents.notify(e,o)&&n.preventDefault()},t.prototype._withinIgnoreThreshold=function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold},t}(aT);function aO(e){for(var t=wM.up.split(" "),n=0,o=t.length;n<o;n++)e(t[n])}var sO=function(e){function t(t,n){e.call(this);var o,i=this,r=_M();if(this.support=r,n=n||{},this.options=n,o=i.filter=n.filter,i.threshold=n.threshold||HM,i.minHold=n.minHold||VM,i.touches=[],i._maxTouches=n.multiTouch?2:1,i.allowSelection=n.allowSelection,i.captureUpIfMoved=n.captureUpIfMoved,i._clicks=0,i.supportDoubleTap=n.supportDoubleTap,zM(i,{element:t,surface:n.surface||t,stopPropagation:n.stopPropagation,pressed:!1}),this._surfaceMoveHandler=this._move.bind(this),jM(i.surface,CM("move"),this._surfaceMoveHandler),this._surfaceEndHandler=this._end.bind(this),jM(i.surface,CM("up cancel"),this._surfaceEndHandler),this._elementStartHandler=this._start.bind(this),jM(t,CM("down"),o,this._elementStartHandler),t.style["touch-action"]=n.touchAction||"none",n.preventDragEvent&&(this._elementDragStartHandler=BM,jM(t,CM("dragstart"),this._elementDragStartHandler)),this._elementSelectHandler=this._select.bind(this),jM(t,CM("mousedown"),o,this._elementSelectHandler),i.captureUpIfMoved){var a=i.surface,s=i.preventIfMoving.bind(i);aO(function(e){a.addEventListener(e,s,!0)})}i.bind([qM,UM,JM,QM,WM,KM,YM,ZM,XM,"gesturestart",$M,eO,tO,GM],n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.preventIfMoving=function(e){this._isMoved()&&e.preventDefault()},t.prototype.destroy=function(){var e=this,t=this.options,n=this.element;if(!e._destroyed){if(e._destroyed=!0,e.captureUpIfMoved){var o=e.surface;aO(function(t){o.removeEventListener(t,e.preventIfMoving)})}AM(e.surface,CM("move"),this._surfaceMoveHandler),AM(e.surface,CM("up cancel"),this._surfaceEndHandler),AM(n,CM("down"),this._elementStartHandler),t.preventDragEvent&&AM(n,CM("dragstart"),this._elementDragStartHandler),AM(n,CM("mousedown"),this._elementSelectHandler),e._disposeAll(),e.unbind(),delete e.surface,delete e.element,delete e.currentTarget}},t.prototype.capture=function(){t.current=this},t.prototype.cancel=function(){this._disposeAll(),this.trigger(XM)},t.prototype.notify=function(e,t){var n=this.touches,o=e;if(this._isMultiTouch()){switch(o){case KM:o=$M;break;case YM:o=eO;break;case JM:o=tO}zM(t,{touches:n},function(e,t){var n=e.x.location,o=e.y.location,i=t.x.location,r=t.y.location,a=n-i,s=o-r;return{center:{x:(n+i)/2,y:(o+r)/2},distance:Math.sqrt(a*a+s*s)}}(n[0],n[1]))}return this.trigger(o,zM(t,{type:o}))},t.prototype.press=function(e,t,n){this._apiCall("_start",e,t,n)},t.prototype.move=function(e,t){this._apiCall("_move",e,t)},t.prototype.end=function(e,t){this._apiCall("_end",e,t)},t.prototype._isMultiTouch=function(){return this.touches.length>1},t.prototype._maxTouchesReached=function(){return this.touches.length>=this._maxTouches},t.prototype._disposeAll=function(){for(var e=this.touches;e.length>0;)e.pop().dispose()},t.prototype._isMoved=function(){return UN(this.touches,function(e){return e.isMoved()}).length},t.prototype._select=function(e){this.allowSelection&&!this.trigger(GM,{event:e})||e.preventDefault()},t.prototype._start=function(e){var n=this;if(!(e.which&&e.which>1||this._maxTouchesReached())){var o;t.current=null,this.currentTarget=e.currentTarget,this.stopPropagation&&e.stopPropagation();for(var i=oO(e),r=0;r<i.length&&!n._maxTouchesReached();r++){var a=i[r];if(!(o=n.filter?a.currentTarget:n.element)||0!==o.length){var s=new rO(n,o,a);n.touches.push(s),s.press(),n._isMultiTouch()&&n.notify("gesturestart",{})}}}},t.prototype._move=function(e){this._eachTouch("move",e)},t.prototype._end=function(e){this._eachTouch("end",e)},t.prototype._eachTouch=function(e,t){var n,o,i,r,a={},s=oO(t),l=this.touches;for(n=0;n<l.length;n++)a[(o=l[n]).id]=o;for(n=0;n<s.length;n++){if(r=a[(i=s[n]).id])"move"===e&&"pointer"===i.type&&!this.surface.hasPointerCapture(i.id)&&this.surface.setPointerCapture(i.id),r[e](i)}},t.prototype._apiCall=function(e,t,n,o){this[e]({api:!0,pageX:t,pageY:n,clientX:t,clientY:n,target:o||this.element,stopPropagation:NM,preventDefault:NM})},t.defaultThreshold=function(e){HM=e},t.minHold=function(e){VM=e},t}(FM);const lO=sO;function cO(e,t){var n=NP(t-e,9);if(0===n){if(0===t)return.1;n=Math.abs(t)}var o=Math.pow(10,Math.floor(Math.log(n)/Math.log(10))),i=NP(n/o,HD);return NP(o*(i<1.904762?.2:i<4.761904?.5:i<9.523809?1:2),HD)}var dO=function(e){function t(t,n){e.call(this),this.x=t||0,this.y=n||0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.equals=function(e){return e&&this.x===e.x&&this.y===e.y},t.prototype.rotate=function(e,t){var n=DP(t),o=Math.cos(n),i=Math.sin(n),r=e.x,a=e.y,s=this.x,l=this.y;return this.x=NP(r+(s-r)*o+(l-a)*i,3),this.y=NP(a+(l-a)*o-(s-r)*i,3),this},t.prototype.multiply=function(e){return this.x*=e,this.y*=e,this},t.prototype.distanceTo=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},t.onCircle=function(e,n,o){var i=DP(n);return new t(e.x-o*Math.cos(i),e.y-o*Math.sin(i))},t}(aT);const uO=dO;const pO=class extends aT{observers(){return this._observers=this._observers||[],this._observers}addObserver(e){return this._observers?this._observers.push(e):this._observers=[e],this}removeObserver(e){const t=this.observers(),n=t.indexOf(e);return-1!==n&&t.splice(n,1),this}trigger(e,t){const n=this._observers;if(n&&!this._suspended)for(let o=0;o<n.length;o++){let i=n[o];i[e]&&i[e](t)}return this}optionsChange(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.element=this,this.trigger("optionsChange",e)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}};function hO(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function mO(e){return function(){return this[e]}}const fO=(e,t)=>{const n=class extends e{};return function(e,t){for(let n=0;n<t.length;n++){let o=t[n],i=o.charAt(0).toUpperCase()+o.substring(1,o.length);e["set"+i]=hO(o),e["get"+i]=mO(o)}}(n.prototype,t),n};function gO(e){return e&&"function"===typeof e.matrix?e.matrix():e}class vO extends(fO(pO,["x","y"])){constructor(e,t){super(),this.x=e||0,this.y=t||0}equals(e){return e&&e.x===this.x&&e.y===this.y}clone(){return new vO(this.x,this.y)}rotate(e,t){const n=vO.create(t)||vO.ZERO;return this.transform(zT.rotate(e,n.x,n.y))}translate(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this}translateWith(e){return this.translate(e.x,e.y)}move(e,t){return this.x=this.y=0,this.translate(e,t)}scale(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x*=e,this.y*=t,this.geometryChange(),this}scaleCopy(e,t){return this.clone().scale(e,t)}transform(e){const t=gO(e),{x:n,y:o}=this;return this.x=t.a*n+t.c*o+t.e,this.y=t.b*n+t.d*o+t.f,this.geometryChange(),this}transformCopy(e){const t=this.clone();return e&&t.transform(e),t}distanceTo(e){const t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}round(e){return this.x=XN(this.x,e),this.y=XN(this.y,e),this.geometryChange(),this}toArray(e){const t=void 0!==e;return[t?XN(this.x,e):this.x,t?XN(this.y,e):this.y]}toString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",{x:n,y:o}=this;return void 0!==e&&(n=XN(n,e),o=XN(o,e)),n+t+o}static create(e,t){if(void 0!==e)return e instanceof vO?e:1===arguments.length&&2===e.length?new vO(e[0],e[1]):new vO(e,t)}static min(){let e=fT,t=fT;for(let n=0;n<arguments.length;n++){let o=arguments[n];e=Math.min(o.x,e),t=Math.min(o.y,t)}return new vO(e,t)}static max(){let e=gT,t=gT;for(let n=0;n<arguments.length;n++){const o=arguments[n];e=Math.max(o.x,e),t=Math.max(o.y,t)}return new vO(e,t)}static minPoint(){return new vO(gT,gT)}static maxPoint(){return new vO(fT,fT)}static get ZERO(){return new vO(0,0)}}const yO=vO;class xO extends(fO(pO,["width","height"])){constructor(e,t){super(),this.width=e||0,this.height=t||0}equals(e){return e&&e.width===this.width&&e.height===this.height}clone(){return new xO(this.width,this.height)}toArray(e){const t=void 0!==e;return[t?XN(this.width,e):this.width,t?XN(this.height,e):this.height]}static create(e,t){if(void 0!==e)return e instanceof xO?e:1===arguments.length&&2===e.length?new xO(e[0],e[1]):new xO(e,t)}static get ZERO(){return new xO(0,0)}}const bO=xO;class wO extends pO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new yO,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bO,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(),this.setOrigin(e),this.setSize(t),this.setCornerRadius(n)}clone(){return new wO(this.origin.clone(),this.size.clone())}equals(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)}setOrigin(e){return this._observerField("origin",yO.create(e)),this.geometryChange(),this}getOrigin(){return this.origin}setCornerRadius(e){return this.cornerRadius=Array.isArray(e)?e:[e,e],this.geometryChange(),this}getCornerRadius(){return this.cornerRadius}setSize(e){return this._observerField("size",bO.create(e)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(e){const t=this.topLeft().transformCopy(e),n=this.topRight().transformCopy(e),o=this.bottomRight().transformCopy(e),i=this.bottomLeft().transformCopy(e);return wO.fromPoints(t,n,o,i)}transformCopy(e){return wO.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}expand(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this}expandCopy(e,t){return this.clone().expand(e,t)}containsPoint(e){const t=this.origin,n=this.bottomRight();return!(e.x<t.x||e.y<t.y||n.x<e.x||n.y<e.y)}_isOnPath(e,t){const n=this.expandCopy(t,t),o=this.expandCopy(-t,-t);return n.containsPoint(e)&&!o.containsPoint(e)}static fromPoints(){const e=yO.min.apply(null,arguments),t=yO.max.apply(null,arguments),n=new bO(t.x-e.x,t.y-e.y);return new wO(e,n)}static union(e,t){return wO.fromPoints(yO.min(e.topLeft(),t.topLeft()),yO.max(e.bottomRight(),t.bottomRight()))}static intersect(e,t){const n={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},o={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y};if(n.left<=o.right&&o.left<=n.right&&n.top<=o.bottom&&o.top<=n.bottom)return wO.fromPoints(new yO(Math.max(n.left,o.left),Math.max(n.top,o.top)),new yO(Math.min(n.right,o.right),Math.min(n.bottom,o.bottom)))}}const kO=wO;var CO=function(e){function t(t,n,o,i){e.call(this),this.x1=t||0,this.y1=n||0,this.x2=o||0,this.y2=i||0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.equals=function(e){return this.x1===e.x1&&this.x2===e.x2&&this.y1===e.y1&&this.y2===e.y2},t.prototype.width=function(){return this.x2-this.x1},t.prototype.height=function(){return this.y2-this.y1},t.prototype.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},t.prototype.move=function(e,t){var n=this.height(),o=this.width();return bP(e)&&(this.x1=e,this.x2=this.x1+o),bP(t)&&(this.y1=t,this.y2=this.y1+n),this},t.prototype.wrap=function(e){return this.x1=Math.min(this.x1,e.x1),this.y1=Math.min(this.y1,e.y1),this.x2=Math.max(this.x2,e.x2),this.y2=Math.max(this.y2,e.y2),this},t.prototype.wrapPoint=function(e){var n=pN(e),o=n?e[0]:e.x,i=n?e[1]:e.y;return this.wrap(new t(o,i,o,i)),this},t.prototype.snapTo=function(e,t){return t!==lN&&t||(this.x1=e.x1,this.x2=e.x2),t!==cN&&t||(this.y1=e.y1,this.y2=e.y2),this},t.prototype.alignTo=function(e,t){var n=this.height(),o=this.width(),i=t===iN||t===RD?cN:lN,r=i===cN?n:o;if(t===LD){var a=e.center(),s=this.center();this.x1+=a.x-s.x,this.y1+=a.y-s.y}else this[i+1]=t===iN||t===YD?e[i+1]-r:e[i+2];return this.x2=this.x1+o,this.y2=this.y1+n,this},t.prototype.shrink=function(e,t){return this.x2-=e,this.y2-=t,this},t.prototype.expand=function(e,t){return this.shrink(-e,-t),this},t.prototype.pad=function(e){var t=ON(e);return this.x1-=t.left,this.x2+=t.right,this.y1-=t.top,this.y2+=t.bottom,this},t.prototype.unpad=function(e){var t=ON(e);return t.left=-t.left,t.top=-t.top,t.right=-t.right,t.bottom=-t.bottom,this.pad(t)},t.prototype.clone=function(){return new t(this.x1,this.y1,this.x2,this.y2)},t.prototype.center=function(){return new uO(this.x1+this.width()/2,this.y1+this.height()/2)},t.prototype.containsPoint=function(e){return e.x>=this.x1&&e.x<=this.x2&&e.y>=this.y1&&e.y<=this.y2},t.prototype.points=function(){return[new uO(this.x1,this.y1),new uO(this.x2,this.y1),new uO(this.x2,this.y2),new uO(this.x1,this.y2)]},t.prototype.getHash=function(){return[this.x1,this.y1,this.x2,this.y2].join(",")},t.prototype.overlaps=function(e){return!(e.y2<this.y1||this.y2<e.y1||e.x2<this.x1||this.x2<e.x1)},t.prototype.rotate=function(e){var t=this.width(),n=this.height(),o=this.center(),i=o.x,r=o.y,a=SO(0,0,i,r,e),s=SO(t,0,i,r,e),l=SO(t,n,i,r,e),c=SO(0,n,i,r,e);return t=Math.max(a.x,s.x,l.x,c.x)-Math.min(a.x,s.x,l.x,c.x),n=Math.max(a.y,s.y,l.y,c.y)-Math.min(a.y,s.y,l.y,c.y),this.x2=this.x1+t,this.y2=this.y1+n,this},t.prototype.toRect=function(){return new kO([this.x1,this.y1],[this.width(),this.height()])},t.prototype.hasSize=function(){return 0!==this.width()&&0!==this.height()},t.prototype.align=function(e,t,n){var o=t+1,i=t+2,r=t===lN?sN:GD,a=this[r]();YN(n,[YD,iN])?(this[o]=e[o],this[i]=this[o]+a):YN(n,[eN,RD])?(this[i]=e[i],this[o]=this[i]-a):n===LD&&(this[o]=e[o]+(e[r]()-a)/2,this[i]=this[o]+a)},t}(aT);function SO(e,t,n,o,i){var r=DP(i);return new uO(n+(e-n)*Math.cos(r)+(t-o)*Math.sin(r),o-(e-n)*Math.sin(r)+(t-o)*Math.cos(r))}const IO=CO;var EO=function(e){function t(t,n,o,i,r){e.call(this),this.center=t,this.innerRadius=n,this.radius=o,this.startAngle=i,this.angle=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)},t.prototype.middle=function(){return this.startAngle+this.angle/2},t.prototype.setRadius=function(e,t){return t?this.innerRadius=e:this.radius=e,this},t.prototype.point=function(e,t){var n=DP(e),o=Math.cos(n),i=Math.sin(n),r=t?this.innerRadius:this.radius,a=NP(this.center.x-o*r,3),s=NP(this.center.y-i*r,3);return new uO(a,s)},t.prototype.adjacentBox=function(e,t,n){var o=this.clone().expand(e),i=o.middle(),r=o.point(i),a=t/2,s=n/2,l=Math.sin(DP(i)),c=Math.cos(DP(i)),d=r.x-a,u=r.y-s;return Math.abs(l)<.9&&(d+=a*-c/Math.abs(c)),Math.abs(c)<.9&&(u+=s*-l/Math.abs(l)),new IO(d,u,d+t,u+n)},t.prototype.containsPoint=function(e){var t=this.center,n=this.innerRadius,o=this.radius,i=this.startAngle,r=this.startAngle+this.angle,a=e.x-t.x,s=e.y-t.y,l=new uO(a,s),c=this.point(i),d=new uO(c.x-t.x,c.y-t.y),u=this.point(r),p=new uO(u.x-t.x,u.y-t.y),h=NP(a*a+s*s,3);return(d.equals(l)||xN(d,l))&&!xN(p,l)&&h>=n*n&&h<=o*o},t.prototype.getBBox=function(){var e,t=new IO(XD,XD,JD,JD),n=NP(this.startAngle%360),o=NP((n+this.angle)%360),i=this.innerRadius,r=[0,90,180,270,n,o].sort(jO),a=r.indexOf(n),s=r.indexOf(o);e=n===o?r:a<s?r.slice(a,s+1):[].concat(r.slice(0,s+1),r.slice(a,r.length));for(var l=0;l<e.length;l++){var c=this.point(e[l]);t.wrapPoint(c),t.wrapPoint(c,i)}return i||t.wrapPoint(this.center),t},t.prototype.expand=function(e){return this.radius+=e,this},t}(aT);function jO(e,t){return e-t}const AO=EO;!function(e){function t(t,n,o,i){e.call(this,t,0,n,o,i)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.expand=function(t){return e.prototype.expand.call(this,t)},t.prototype.clone=function(){return new t(this.center,this.radius,this.startAngle,this.angle)},t.prototype.setRadius=function(e){return this.radius=e,this}}(AO);const _O=10;function DO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_O;return 0===XN(Math.abs(e-t),n)}function NO(e,t,n){return e<t||DO(e,t,n)}function TO(e,t,n,o){let i=0,r=0;return o&&(i=Math.atan2(o.c*n,o.a*t),0!==o.b&&(r=Math.atan2(o.d*n,o.b*t))),{x:i,y:r}}class PO extends pO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zT.unit();super(),this._matrix=e}clone(){return new PO(this._matrix.clone())}equals(e){return e&&e._matrix.equals(this._matrix)}translate(e,t){return this._matrix=this._matrix.multiplyCopy(zT.translate(e,t)),this._optionsChange(),this}scale(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n&&(n=yO.create(n),this._matrix=this._matrix.multiplyCopy(zT.translate(n.x,n.y))),this._matrix=this._matrix.multiplyCopy(zT.scale(e,t)),n&&(this._matrix=this._matrix.multiplyCopy(zT.translate(-n.x,-n.y))),this._optionsChange(),this}rotate(e,t){const n=yO.create(t)||yO.ZERO;return this._matrix=this._matrix.multiplyCopy(zT.rotate(e,n.x,n.y)),this._optionsChange(),this}multiply(e){const t=gO(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this}matrix(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}const MO=PO;function OO(e){return null===e?null:e instanceof MO?e:new MO(e)}const RO=Math.pow,LO=["radiusX","radiusY","startAngle","endAngle","anticlockwise"];class FO extends(fO(pO,LO)){constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new yO,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.setCenter(e),this.radiusX=t.radiusX,this.radiusY=t.radiusY||t.radiusX,this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.anticlockwise=t.anticlockwise||!1,this.xRotation=t.xRotation}clone(){return new FO(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}setCenter(e){return this._observerField("center",yO.create(e)),this.geometryChange(),this}getCenter(){return this.center}pointAt(e){const t=this.center,n=_T(e);return new yO(t.x+this.radiusX*Math.cos(n),t.y+this.radiusY*Math.sin(n))}curvePoints(){const e=this.startAngle,t=this.anticlockwise?-1:1,n=[this.pointAt(e)],o=this._arcInterval(),i=o.endAngle-o.startAngle,r=Math.ceil(i/45),a=i/r;let s,l=e;this.xRotation&&(s=OO().rotate(this.xRotation,this.center));for(let c=1;c<=r;c++){const e=l+t*a,o=this._intervalCurvePoints(l,e,s);n.push(o.cp1,o.cp2,o.p2),l=e}return n}bbox(e){const t=this._arcInterval(),n=t.startAngle,o=t.endAngle,i=TO(this.center,this.radiusX,this.radiusY,e),r=vT(i.x),a=vT(i.y),s=this.pointAt(o).transformCopy(e);let l=BO(r,n),c=BO(a,n),d=this.pointAt(n).transformCopy(e),u=yO.min(d,s),p=yO.max(d,s);for(;l<o||c<o;){let t,n;l<o&&(t=this.pointAt(l).transformCopy(e),l+=90),c<o&&(n=this.pointAt(c).transformCopy(e),c+=90),d=new yO(t.x,n.y),u=yO.min(u,d),p=yO.max(p,d)}return kO.fromPoints(u,p)}_arcInterval(){let{startAngle:e,endAngle:t,anticlockwise:n}=this;if(n){let n=e;e=t,t=n}return(e>t||n&&e===t)&&(t+=360),{startAngle:e,endAngle:t}}_intervalCurvePoints(e,t,n){const o=this.pointAt(e),i=this.pointAt(t),r=this._derivativeAt(e),a=this._derivativeAt(t),s=(_T(t)-_T(e))/3,l=new yO(o.x+s*r.x,o.y+s*r.y),c=new yO(i.x-s*a.x,i.y-s*a.y);return n&&(o.transform(n),i.transform(n),l.transform(n),c.transform(n)),{p1:o,cp1:l,cp2:c,p2:i}}_derivativeAt(e){const t=_T(e);return new yO(-this.radiusX*Math.sin(t),this.radiusY*Math.cos(t))}containsPoint(e){const t=this._arcInterval(),n=t.endAngle-t.startAngle,{center:o,radiusX:i,radiusY:r}=this,a=o.distanceTo(e),s=Math.atan2(e.y-o.y,e.x-o.x),l=i*r/Math.sqrt(RO(i,2)*RO(Math.sin(s),2)+RO(r,2)*RO(Math.cos(s),2)),c=this.pointAt(this.startAngle).round(_O),d=this.pointAt(this.endAngle).round(_O),u=function(e,t,n,o){const i=t.x-e.x,r=o.x-n.x,a=t.y-e.y,s=o.y-n.y,l=e.x-n.x,c=e.y-n.y,d=i*s-r*a,u=(i*c-a*l)/d,p=(r*c-s*l)/d;if(u>=0&&u<=1&&p>=0&&p<=1)return new yO(e.x+p*i,e.y+p*a)}(o,e.round(_O),c,d);let p;if(n<180)p=u&&NO(o.distanceTo(u),a)&&NO(a,l);else{let n=zO(o.x,o.y,i,r,e.x,e.y);360!==n&&(n=(360+n)%360);let s=t.startAngle<=n&&n<=t.endAngle;p=s&&NO(a,l)||!s&&(!u||u.equals(e))}return p}_isOnPath(e,t){const n=this._arcInterval(),o=this.center;let i=zO(o.x,o.y,this.radiusX,this.radiusY,e.x,e.y);360!==i&&(i=(360+i)%360);return n.startAngle<=i&&i<=n.endAngle&&this.pointAt(i).distanceTo(e)<=t}static fromPoints(e,t,n,o,i,r,a){const s=function(e){let{x1:t,y1:n,x2:o,y2:i,rx:r,ry:a,largeArc:s,swipe:l,rotation:c=0}=e;const d=_T(c),u=Math.cos(d),p=Math.sin(d),h=u*(t-o)/2+p*(n-i)/2,m=-p*(t-o)/2+u*(n-i)/2,f=s!==l?1:-1,g=Math.pow(h,2),v=Math.pow(m,2);let y=Math.pow(r,2),x=Math.pow(a,2),b=g/y+v/x;b>1&&(b=Math.sqrt(g/y+v/x),r*=b,y=Math.pow(r,2),a*=b,x=Math.pow(a,2));let w=f*Math.sqrt((y*x-y*v-x*g)/(y*v+x*g));isNaN(w)&&(w=0);const k=w*(r*m)/a,C=a*h*-w/r,S=u*k-p*C+(t+o)/2,I=p*k+u*C+(n+i)/2,E=(h-k)/r,j=(m-C)/a,A=-(h+k)/r,_=-(m+C)/a,D=(j>=0?1:-1)*vT(Math.acos(E/Math.sqrt(E*E+j*j))),N=XN((E*A+j*_)/(Math.sqrt(E*E+j*j)*Math.sqrt(A*A+_*_)),10);let T=(E*_-j*A>=0?1:-1)*vT(Math.acos(N));!l&&T>0&&(T-=360);l&&T<0&&(T+=360);let P=D+T;const M=P>=0?1:-1;return P=Math.abs(P)%360*M,{center:new yO(S,I),startAngle:D,endAngle:P,radiusX:r,radiusY:a,xRotation:c}}({x1:e.x,y1:e.y,x2:t.x,y2:t.y,rx:n,ry:o,largeArc:i,swipe:r,rotation:a});return new FO(s.center,{startAngle:s.startAngle,endAngle:s.endAngle,radiusX:s.radiusX,radiusY:s.radiusY,xRotation:s.xRotation,anticlockwise:0===r})}}function zO(e,t,n,o,i,r){const a=XN((i-e)/n,3),s=XN((r-t)/o,3);return XN(vT(Math.atan2(s,a)))}function BO(e,t){let n=e;for(;n<t;)n+=90;return n}const VO=FO,HO=[].splice,qO=[].slice;const UO=class extends pO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.length=0,this._splice(0,e.length,e)}elements(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)}push(){let e=this.length;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];const i=n.length;for(let r=0;r<i;r++)this[e+r]=n[r],n[r].addObserver(this);return this.length=e+i,this._change(),this.length}slice(){return qO.call(this)}pop(){if(this.length>0){const e=this[this.length-1];return this.length--,e.removeObserver(this),this._change(),e}}splice(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];const r=this._splice(e,t,o);return this._change(),r}shift(){if(this.length>0){const e=this[0];for(let t=1;t<this.length;t++)this[t-1]=this[t];return this.length--,e.removeObserver(this),this._change(),e}}unshift(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=t.length;for(let i=this.length-1;i>=0;i--)this[i+o]=this[i];for(let i=0;i<o;i++)this[i]=t[i],t[i].addObserver(this);return this.length+=o,this._change(),this.length}indexOf(e){const t=this.length;for(let n=0;n<t;n++)if(this[n]===e)return n;return-1}_splice(e,t,n){const o=HO.apply(this,[e,t].concat(n));return this._clearObserver(o),this._setObserver(n),o}_add(e){this._setObserver(e),this._change()}_remove(e){this._clearObserver(e),this._change()}_setObserver(e){for(let t=0;t<e.length;t++)e[t].addObserver(this)}_clearObserver(e){for(let t=0;t<e.length;t++)e[t].removeObserver(this)}_change(){}};const GO=class extends UO{_change(){this.geometryChange()}},WO={}.toString;class KO extends pO{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";super(),this.prefix=t;for(let n in e){let t=e[n];t=this._wrap(t,n),this[n]=t}}get(e){const t=e.split(".");let n=this;for(;t.length&&n;){n=n[t.shift()]}return n}set(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))}_set(e,t){const n=e.indexOf(".")>=0;let o=this,i=e;if(n){const e=i.split(".");let t=this.prefix;for(;e.length>1;){i=e.shift(),t+=i+".";let n=o[i];n||(n=new KO({},t),n.addObserver(this),o[i]=n),o=n}i=e[0]}o._clear(i),o[i]=t}_clear(e){const t=this[e];t&&t.removeObserver&&t.removeObserver(this)}_wrap(e,t){const n=WO.call(e);let o=e;return null!==o&&void 0!==o&&"[object Object]"===n&&(e instanceof KO||e instanceof aT||(o=new KO(o,this.prefix+t+".")),o.addObserver(this)),o}}const YO=KO,XO={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},JO="solid",QO="butt",ZO="Pattern";const $O=class extends pO{get nodeType(){return"Rect"}constructor(e){super(),this._initOptions(e)}_initOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clip:t,transform:n}=e;n&&(e.transform=OO(n)),t&&!t.id&&(t.id=hT()),this.options=new YO(e),this.options.addObserver(this)}transform(e){if(void 0===e)return this.options.get("transform");this.options.set("transform",OO(e))}parentTransform(){let e,t=this;for(;t.parent;){t=t.parent;let n=t.transform();n&&(e=n.matrix().multiplyCopy(e||zT.unit()))}if(e)return OO(e)}currentTransform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parentTransform();const t=gO(this.transform());let n,o=gO(e);if(n=t&&o?o.multiplyCopy(t):t||o,n)return OO(n)}visible(e){return void 0!==e?(this.options.set("visible",e),this):!1!==this.options.get("visible")}clip(e){const t=this.options;return void 0!==e?(e&&!e.id&&(e.id=hT()),t.set("clip",e),this):t.get("clip")}opacity(e){return void 0!==e?(this.options.set("opacity",e),this):DT(this.options.get("opacity"),1)}className(e){return void 0!==e?(this.options.set("className",e),this):this.options.get("className")}clippedBBox(e){const t=this._clippedBBox(e);if(t){const n=this.clip();return n?kO.intersect(t,n.bbox(e)):t}}containsPoint(e,t){if(this.visible()){const n=this.currentTransform(t);let o=e;return n&&(o=e.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(o)||this._isOnPath&&this._hasStroke()&&this._isOnPath(o)}return!1}_hasFill(){const e=this.options.fill;return e&&(e.nodeType===ZO||!CT(e.color))}_hasStroke(){const e=this.options.stroke;return e&&e.width>0&&!CT(e.color)}_clippedBBox(e){return this.bbox(e)}};function eR(e,t,n){const o=vT(Math.atan2(t.y-e.y,t.x-e.x));return n.transformCopy(OO().rotate(-o,e)).x<e.x}function tR(e,t,n){const o=1-e;return Math.pow(o,3)*n[0][t]+3*Math.pow(o,2)*e*n[1][t]+3*Math.pow(e,2)*o*n[2][t]+Math.pow(e,3)*n[3][t]}function nR(e,t){return[-e[0][t]+3*e[1][t]-3*e[2][t]+e[3][t],3*(e[0][t]-2*e[1][t]+e[2][t]),3*(-e[0][t]+e[1][t]),e[0][t]]}class oR extends aT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(),this.real=e,this.img=t}add(e){return new oR(XN(this.real+e.real,_O),XN(this.img+e.img,_O))}addConstant(e){return new oR(this.real+e,this.img)}negate(){return new oR(-this.real,-this.img)}multiply(e){return new oR(this.real*e.real-this.img*e.img,this.real*e.img+this.img*e.real)}multiplyConstant(e){return new oR(this.real*e,this.img*e)}nthRoot(e){const t=Math.atan2(this.img,this.real),n=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),o=Math.pow(n,1/e);return new oR(o*Math.cos(t/e),o*Math.sin(t/e))}equals(e){return this.real===e.real&&this.img===e.img}isReal(){return 0===this.img}}const iR=oR;function rR(e){return e<0?-1:1}function aR(e,t,n,o){if(0===e)return function(e,t,n){const o=Math.sqrt(Math.pow(t,2)-4*e*n);return[(-t+o)/(2*e),(-t-o)/(2*e)]}(t,n,o);const i=(3*e*n-Math.pow(t,2))/(3*Math.pow(e,2)),r=(2*Math.pow(t,3)-9*e*t*n+27*Math.pow(e,2)*o)/(27*Math.pow(e,3)),a=Math.pow(i/3,3)+Math.pow(r/2,2),s=new iR(0,1),l=-t/(3*e);let c,d,u,p,h,m,f;a<0?(c=new iR(-r/2,Math.sqrt(-a)).nthRoot(3),d=new iR(-r/2,-Math.sqrt(-a)).nthRoot(3)):(c=-r/2+Math.sqrt(a),c=new iR(rR(c)*Math.pow(Math.abs(c),1/3)),d=-r/2-Math.sqrt(a),d=new iR(rR(d)*Math.pow(Math.abs(d),1/3))),u=c.add(d),m=c.add(d).multiplyConstant(-.5),f=c.add(d.negate()).multiplyConstant(Math.sqrt(3)/2),p=m.add(s.multiply(f)),h=m.add(s.negate().multiply(f));const g=[];return u.isReal()&&g.push(XN(u.real+l,_O)),p.isReal()&&g.push(XN(p.real+l,_O)),h.isReal()&&g.push(XN(h.real+l,_O)),g}function sR(e,t,n,o,i){const r=nR(e,o),a=aR(r[0],r[1],r[2],r[3]-t[o]);let s;for(let l=0;l<a.length;l++)if(0<=a[l]&&a[l]<=1&&(s=tR(a[l],n,e),Math.abs(s-t[n])<=i))return!0}function lR(e,t,n){let o;if(e.x!==t.x){const i=Math.min(e.x,t.x),r=Math.max(e.x,t.x),a=Math.min(e.y,t.y),s=Math.max(e.y,t.y),l=i<=n.x&&n.x<r;o=a===s?n.y<=a&&l:l&&(s-a)*((e.x-t.x)*(e.y-t.y)>0?n.x-i:r-n.x)/(r-i)+a-n.y>=0}return o?1:0}function cR(e){const t="_"+e;return function(e){return void 0!==e?(this._observerField(t,yO.create(e)),this.geometryChange(),this):this[t]}}const dR=(e,t)=>{const n=class extends e{};return function(e,t){for(let n=0;n<t.length;n++)e[t[n]]=cR(t[n])}(n.prototype,t),n},uR=["anchor","controlIn","controlOut"];class pR extends(dR(pO,uR)){constructor(e,t,n){super(),this.anchor(e||new yO),this.controlIn(t),this.controlOut(n)}bboxTo(e,t){const n=this.anchor().transformCopy(t),o=e.anchor().transformCopy(t);let i;return i=this.controlOut()&&e.controlIn()?this._curveBoundingBox(n,this.controlOut().transformCopy(t),e.controlIn().transformCopy(t),o):this._lineBoundingBox(n,o),i}_lineBoundingBox(e,t){return kO.fromPoints(e,t)}_curveBoundingBox(e,t,n,o){const i=[e,t,n,o],r=this._curveExtremesFor(i,"x"),a=this._curveExtremesFor(i,"y"),s=hR([r.min,r.max,e.x,o.x]),l=hR([a.min,a.max,e.y,o.y]);return kO.fromPoints(new yO(s.min,l.min),new yO(s.max,l.max))}_curveExtremesFor(e,t){const n=this._curveExtremes(e[0][t],e[1][t],e[2][t],e[3][t]);return{min:tR(n.min,t,e),max:tR(n.max,t,e)}}_curveExtremes(e,t,n,o){const i=e-3*t+3*n-o,r=-2*(e-2*t+n),a=e-t,s=Math.sqrt(r*r-4*i*a);let l=0,c=1;0===i?0!==r&&(l=c=-a/r):isNaN(s)||(l=(-r+s)/(2*i),c=(-r-s)/(2*i));let d=Math.max(Math.min(l,c),0);(d<0||d>1)&&(d=0);let u=Math.min(Math.max(l,c),1);return(u>1||u<0)&&(u=1),{min:d,max:u}}_intersectionsTo(e,t){let n;return n=this.controlOut()&&e.controlIn()?function(e,t,n){const o=nR(e,"x"),i=aR(o[0],o[1],o[2],o[3]-t.x);let r,a,s=0;for(let l=0;l<i.length;l++)r=tR(i[l],"y",e),a=DO(r,t.y)||r>t.y,a&&((0===i[l]||1===i[l])&&n.bottomRight().x>t.x||0<i[l]&&i[l]<1)&&s++;return s}([this.anchor(),this.controlOut(),e.controlIn(),e.anchor()],t,this.bboxTo(e)):lR(this.anchor(),e.anchor(),t),n}_isOnCurveTo(e,t,n,o){if(this.bboxTo(e).expand(n,n).containsPoint(t)){const i=this.anchor(),r=this.controlOut(),a=e.controlIn(),s=e.anchor();if("start"===o&&i.distanceTo(t)<=n)return!eR(i,r,t);if("end"===o&&s.distanceTo(t)<=n)return!eR(s,a,t);const l=[i,r,a,s];if(sR(l,t,"x","y",n)||sR(l,t,"y","x",n))return!0;const c=OO().rotate(45,t),d=[i.transformCopy(c),r.transformCopy(c),a.transformCopy(c),s.transformCopy(c)];return sR(d,t,"x","y",n)||sR(d,t,"y","x",n)}}_isOnLineTo(e,t,n){const o=this.anchor(),i=e.anchor(),r=vT(Math.atan2(i.y-o.y,i.x-o.x));return new kO([o.x,o.y-n/2],[o.distanceTo(i),n]).containsPoint(t.transformCopy(OO().rotate(-r,o)))}_isOnPathTo(e,t,n,o){let i;return i=this.controlOut()&&e.controlIn()?this._isOnCurveTo(e,t,n/2,o):this._isOnLineTo(e,t,n),i}}function hR(e){let t=e.length,n=fT,o=gT;for(let i=0;i<t;i++)o=Math.max(o,e[i]),n=Math.min(n,e[i]);return{min:n,max:o}}const mR=pR,fR="x",gR="y";function vR(e,t){const n=e.slice(0),o=[];let i=n.length;if(i>2&&(yR(0,n),i=n.length),i<2||2===i&&n[0].equals(n[1]))return o;let r,a,s=n[0],l=n[1],c=n[2];for(o.push(new mR(s));s.equals(n[i-1]);)t=!0,n.pop(),i--;if(2===i){const e=kR(s,l,fR,gR);return ST(o).controlOut(SR(e,s,l,fR,gR)),o.push(new mR(l,IR(e,s,l,fR,gR))),o}if(t){s=n[i-1],l=n[0],c=n[1];const e=bR(s,l,c);r=e[1],a=e[0]}else{r=SR(kR(s,l,fR,gR),s,l,fR,gR)}let d=r;for(let u=0;u<=i-3;u++)if(yR(u,n),i=n.length,u+3<=i){s=n[u],l=n[u+1],c=n[u+2];const e=bR(s,l,c);ST(o).controlOut(d),d=e[1];const t=e[0];o.push(new mR(l,t))}if(t){s=n[i-2],l=n[i-1],c=n[0];const e=bR(s,l,c);ST(o).controlOut(d),o.push(new mR(l,e[0])),ST(o).controlOut(e[1]),o.push(new mR(c,a))}else{const e=kR(l,c,fR,gR);ST(o).controlOut(d),o.push(new mR(c,IR(e,l,c,fR,gR)))}return o}function yR(e,t){for(;t[e+1]&&(t[e].equals(t[e+1])||t[e+1].equals(t[e+2]));)t.splice(e+1,1)}function xR(e,t){const n=(t.y-e.y)/(t.x-e.x);return[e.y-n*e.x,n]}function bR(e,t,n){let o,i=fR,r=gR,a=!1,s=!1;if(function(e,t,n){const o=jR(xR(e,t),n.x);return e.x===t.x&&t.x===n.x||XN(o,1)===XN(n.y,1)}(e,t,n))o=kR(e,t,fR,gR);else{const l={x:CR(e,t,n,fR),y:CR(e,t,n,gR)};if(l.x&&l.y)o=kR(e,n,fR,gR),a=!0;else if(function(e,t,n){let o=!1;if(e.x===t.x)o=!0;else if(t.x===n.x)(t.y<n.y&&e.y<=t.y||n.y<t.y&&t.y<=e.y)&&(o=!0);else{const i=jR(xR(e,t),n.x);e.y<=t.y&&n.y<=i||t.y<=e.y&&n.y>=i||(o=!0)}return o}(e,t,n)&&(i=gR,r=fR),l[i])o=0;else{let a;a=n[r]<e[r]&&e[r]<=t[r]||e[r]<n[r]&&t[r]<=e[r]?AR((n[r]-e[r])*(t[i]-e[i])):-AR((n[i]-e[i])*(t[r]-e[r])),o=.01*a,s=!0}}const l=IR(o,e,t,i,r);if(s){const e=i;i=r,r=e}const c=SR(o,t,n,i,r);return a&&(wR(e,t,l,o),wR(t,n,c,o)),[l,c]}function wR(e,t,n,o){e.y<t.y?t.y<n.y?(n.x=e.x+(t.y-e.y)/o,n.y=t.y):n.y<e.y&&(n.x=t.x-(t.y-e.y)/o,n.y=e.y):n.y<t.y?(n.x=e.x-(e.y-t.y)/o,n.y=t.y):e.y<n.y&&(n.x=t.x+(e.y-t.y)/o,n.y=e.y)}function kR(e,t,n,o){const i=t[n]-e[n],r=t[o]-e[o];let a;return a=0===i?0:r/i,a}function CR(e,t,n,o){return n[o]>t[o]&&t[o]>e[o]||n[o]<t[o]&&t[o]<e[o]}function SR(e,t,n,o,i){const r=t[o],a=.333*(n[o]-r);return ER(r+a,t[i]+a*e,o,i)}function IR(e,t,n,o,i){const r=t[o],a=n[o],s=.333*(a-r);return ER(a-s,n[i]-s*e,o,i)}function ER(e,t,n,o){const i=new yO;return i[n]=e,i[o]=t,i}function jR(e,t){const n=e.length;let o=0;for(let i=0;i<n;i++)o+=Math.pow(t,i)*e[i];return o}function AR(e){return e<=0?-1:1}const _R=e=>class extends e{fill(e,t){const n=this.options;if(void 0!==e){if(e&&"Gradient"!==e.nodeType){const o={color:e};void 0!==t&&(o.opacity=t),n.set("fill",o)}else n.set("fill",e);return this}return n.get("fill")}stroke(e,t,n){return void 0!==e?(this.options.set("stroke.color",e),void 0!==t&&this.options.set("stroke.width",t),void 0!==n&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")}},DR=zT.IDENTITY.toString(),NR=e=>class extends e{bbox(e){const t=gO(this.currentTransform(e)),n=t?t.toString():DR;let o;this._bboxCache&&this._matrixHash===n?o=this._bboxCache.clone():(o=this._bbox(t),this._bboxCache=o?o.clone():null,this._matrixHash=n);const i=this.options.get("stroke.width");return i&&o&&o.expand(i/2),o}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}},TR={l:function(e,t){const{parameters:n,position:o}=t;for(let i=0;i<n.length;i+=2){let r=new yO(n[i],n[i+1]);t.isRelative&&r.translateWith(o),e.lineTo(r.x,r.y),o.x=r.x,o.y=r.y}},c:function(e,t){const{parameters:n,position:o}=t;for(let i=0;i<n.length;i+=6){let r=new yO(n[i],n[i+1]),a=new yO(n[i+2],n[i+3]),s=new yO(n[i+4],n[i+5]);t.isRelative&&(a.translateWith(o),r.translateWith(o),s.translateWith(o)),e.curveTo(r,a,s),o.x=s.x,o.y=s.y}},v:function(e,t){const n=t.isRelative?0:t.position.x;PR(t.parameters,!0,n),this.l(e,t)},h:function(e,t){const n=t.isRelative?0:t.position.y;PR(t.parameters,!1,n),this.l(e,t)},a:function(e,t){const{parameters:n,position:o}=t;for(let i=0;i<n.length;i+=7){const r=n[i],a=n[i+1],s=n[i+2],l=n[i+3],c=n[i+4],d=new yO(n[i+5],n[i+6]);t.isRelative&&d.translateWith(o),o.x===d.x&&o.y===d.y||(e.arcTo(d,r,a,l,c,s),o.x=d.x,o.y=d.y)}},s:function(e,t){const{parameters:n,position:o,previousCommand:i}=t;let r;"s"!==i&&"c"!==i||(r=ST(ST(e.paths).segments).controlIn());for(let a=0;a<n.length;a+=4){let i,s=new yO(n[a],n[a+1]),l=new yO(n[a+2],n[a+3]);t.isRelative&&(s.translateWith(o),l.translateWith(o)),i=r?MR(r,o):o.clone(),r=s,e.curveTo(i,s,l),o.x=l.x,o.y=l.y}},q:function(e,t){const{parameters:n,position:o}=t;for(let i=0;i<n.length;i+=4){let r=new yO(n[i],n[i+1]),a=new yO(n[i+2],n[i+3]);t.isRelative&&(r.translateWith(o),a.translateWith(o));let s=RR(o,r,a);e.curveTo(s.controlOut,s.controlIn,a),o.x=a.x,o.y=a.y}},t:function(e,t){const{parameters:n,position:o,previousCommand:i}=t;let r;if("q"===i||"t"===i){r=ST(ST(e.paths).segments).controlIn().clone().translateWith(o.scaleCopy(-1/3)).scale(1.5)}for(let a=0;a<n.length;a+=2){let i=new yO(n[a],n[a+1]);t.isRelative&&i.translateWith(o),r=r?MR(r,o):o.clone();let s=RR(o,r,i);e.curveTo(s.controlOut,s.controlIn,i),o.x=i.x,o.y=i.y}}};function PR(e,t,n){const o=t?0:1;for(let i=0;i<e.length;i+=2)e.splice(i+o,0,n)}function MR(e,t){if(e&&t)return t.scaleCopy(2).translate(-e.x,-e.y)}const OR=1/3;function RR(e,t,n){const o=t.clone().scale(2/3);return{controlOut:o.clone().translateWith(e.scaleCopy(OR)),controlIn:o.translateWith(n.scaleCopy(OR))}}const LR=TR,FR=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,zR=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g;const BR=function(e,t){const n=new yO;let o;return t.replace(FR,(t,i,r,a)=>{let s=i.toLowerCase();const l=s===i,c=function(e){const t=[];return e.replace(zR,function(e,n){t.push(parseFloat(n))}),t}(r.trim());if("m"===s&&(l?(n.x+=c[0],n.y+=c[1]):(n.x=c[0],n.y=c[1]),e.moveTo(n.x,n.y),c.length>2&&(s="l",c.splice(0,2))),LR[s])LR[s](e,{parameters:c,position:n,isRelative:l,previousCommand:o}),a&&"z"===a.toLowerCase()&&e.close();else if("m"!==s)throw new Error("Error while parsing SVG path. Unsupported command: "+s);o=s}),e};function VR(e,t,n){let o;for(let i=0;i<e.length;i++){let r=e[i];if(r.visible()){let e=t?r.bbox(n):r.rawBBox();e&&(o=o?kO.union(o,e):e)}}return o}function HR(e,t){let n;for(let o=0;o<e.length;o++){let i=e[o];if(i.visible()){let e=i.clippedBBox(t);e&&(n=n?kO.union(n,e):e)}}return n}const qR=" ",UR=(e,t)=>e.controlOut()&&t.controlIn()?"C":"L";class GR extends(_R(NR($O))){get nodeType(){return"Path"}constructor(e){super(e),this.segments=new GO,this.segments.addObserver(this),void 0===this.options.stroke&&(this.stroke("#000"),void 0===this.options.stroke.lineJoin&&this.options.set("stroke.lineJoin","miter"))}moveTo(e,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,t),this}lineTo(e,t){const n=void 0!==t?new yO(e,t):e,o=new mR(n);return this.segments.push(o),this}curveTo(e,t,n){if(this.segments.length>0){const o=ST(this.segments),i=new mR(n,t);this.suspend(),o.controlOut(e),this.resume(),this.segments.push(i)}return this}arc(e,t,n,o,i){if(this.segments.length>0){const r=ST(this.segments).anchor(),a=_T(e),s=new yO(r.x-n*Math.cos(a),r.y-o*Math.sin(a)),l=new VO(s,{startAngle:e,endAngle:t,radiusX:n,radiusY:o,anticlockwise:i});this._addArcSegments(l)}return this}arcTo(e,t,n,o,i,r){if(this.segments.length>0){const a=ST(this.segments).anchor(),s=VO.fromPoints(a,yO.create(e),t,n,o,i,r);this._addArcSegments(s)}return this}_addArcSegments(e){this.suspend();const t=e.curvePoints();for(let n=1;n<t.length;n+=3)this.curveTo(t[n],t[n+1],t[n+2]);this.resume(),this.geometryChange()}close(){return this.options.closed=!0,this.geometryChange(),this}rawBBox(){return this._bbox()}toString(e){let t="";const n=this.segments,o=n.length;if(o>0){const r=[],a=(i=e,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(e=>e.toString(i)).join(qR)});let s;for(let e=1;e<o;e++){let t=UR(n[e-1],n[e]);t!==s&&(s=t,r.push(t)),"L"===t?r.push(a(n[e].anchor())):r.push(a(n[e-1].controlOut(),n[e].controlIn(),n[e].anchor()))}t="M"+a(n[0].anchor())+qR+r.join(qR),this.options.closed&&(t+="Z")}var i;return t}_containsPoint(e){const t=this.segments,n=t.length;let o,i,r=0;for(let a=1;a<n;a++)o=t[a-1],i=t[a],r+=o._intersectionsTo(i,e);return!this.options.closed&&t[0].anchor().equals(t[n-1].anchor())||(r+=lR(t[0].anchor(),t[n-1].anchor(),e)),r%2!==0}_isOnPath(e,t){const n=this.segments,o=n.length,i=t||this.options.stroke.width;if(o>1){if(n[0]._isOnPathTo(n[1],e,i,"start"))return!0;for(let t=2;t<=o-2;t++)if(n[t-1]._isOnPathTo(n[t],e,i))return!0;if(n[o-2]._isOnPathTo(n[o-1],e,i,"end"))return!0}return!1}_bbox(e){const t=this.segments,n=t.length;let o;if(1===n){let n=t[0].anchor().transformCopy(e);o=new kO(n,bO.ZERO)}else if(n>0)for(let i=1;i<n;i++){let n=t[i-1].bboxTo(t[i],e);o=o?kO.union(o,n):n}return o}static parse(e,t){return WR.parse(e,t)}static fromRect(e,t){const n=new GR(t);let[o,i]=e.cornerRadius;if(0===o&&0===i)n.moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close();else{const t=e.origin,{x:r,y:a}=t,s=e.width(),l=e.height();o=IT(o,0,s/2),i=IT(i,0,l/2),n.moveTo(r+o,a).lineTo(r+s-o,a).arcTo([r+s,a+i],o,i,!1).lineTo(r+s,a+l-i).arcTo([r+s-o,a+l],o,i,!1).lineTo(r+o,a+l).arcTo([r,a+l-i],o,i,!1).lineTo(r,a+i).arcTo([r+o,a],o,i,!1)}return n}static fromPoints(e,t){if(e){const n=new GR(t);for(let t=0;t<e.length;t++){let o=yO.create(e[t]);o&&(0===t?n.moveTo(o):n.lineTo(o))}return n}}static curveFromPoints(e,t){if(e){const n=vR(e),o=new GR(t);return o.segments.push.apply(o.segments,n),o}}static fromArc(e,t){const n=new GR(t),o=e.startAngle,i=e.pointAt(o);return n.moveTo(i.x,i.y),n.arc(o,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),n}}class WR extends(_R(NR($O))){static parse(e,t){const n=new WR(t);return BR(n,e)}toString(e){const t=this.paths;let n="";if(t.length>0){const o=[];for(let n=0;n<t.length;n++)o.push(t[n].toString(e));n=o.join(qR)}return n}get nodeType(){return"MultiPath"}constructor(e){super(e),this.paths=new GO,this.paths.addObserver(this),void 0===this.options.stroke&&this.stroke("#000")}moveTo(e,t){const n=new GR;return n.moveTo(e,t),this.paths.push(n),this}lineTo(e,t){return this.paths.length>0&&ST(this.paths).lineTo(e,t),this}curveTo(e,t,n){return this.paths.length>0&&ST(this.paths).curveTo(e,t,n),this}arc(e,t,n,o,i){return this.paths.length>0&&ST(this.paths).arc(e,t,n,o,i),this}arcTo(e,t,n,o,i,r){return this.paths.length>0&&ST(this.paths).arcTo(e,t,n,o,i,r),this}close(){return this.paths.length>0&&ST(this.paths).close(),this}_bbox(e){return VR(this.paths,!0,e)}rawBBox(){return VR(this.paths,!1)}_containsPoint(e){const t=this.paths;for(let n=0;n<t.length;n++)if(t[n]._containsPoint(e))return!0;return!1}_isOnPath(e){const t=this.paths,n=this.options.stroke.width;for(let o=0;o<t.length;o++)if(t[o]._isOnPath(e,n))return!0;return!1}_clippedBBox(e){return HR(this.paths,this.currentTransform(e))}}var KR=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createRing=function(e,t){var n=e.startAngle+180,o=e.angle+n;(0===e.angle||e.angle>0&&n===o)&&(o+=.001);var i=new yO(e.center.x,e.center.y),r=Math.max(e.radius,0),a=Math.max(e.innerRadius,0),s=new VO(i,{startAngle:n,endAngle:o,radiusX:r,radiusY:r}),l=GR.fromArc(s,t).close();if(a){s.radiusX=s.radiusY=a;var c=s.pointAt(o);l.lineTo(c.x,c.y),l.arc(o,n,a,a,!0)}else l.lineTo(i.x,i.y);return l},t}(aT);KR.current=new KR;const YR=KR,XR=Math.PI/2;class JR extends(fO(pO,["radius"])){constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new yO,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(),this.setCenter(e),this.setRadius(t)}setCenter(e){return this._observerField("center",yO.create(e)),this.geometryChange(),this}getCenter(){return this.center}equals(e){return e&&e.center.equals(this.center)&&e.radius===this.radius}clone(){return new JR(this.center.clone(),this.radius)}pointAt(e){return this._pointAt(_T(e))}bbox(e){const t=TO(this.center,this.radius,this.radius,e);let n=yO.maxPoint(),o=yO.minPoint();for(let i=0;i<4;i++){let r=this._pointAt(t.x+i*XR).transformCopy(e),a=this._pointAt(t.y+i*XR).transformCopy(e),s=new yO(r.x,a.y);n=yO.min(n,s),o=yO.max(o,s)}return kO.fromPoints(n,o)}_pointAt(e){const{center:t,radius:n}=this;return new yO(t.x+n*Math.cos(e),t.y+n*Math.sin(e))}containsPoint(e){const{center:t,radius:n}=this;return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n,2)}_isOnPath(e,t){const{center:n,radius:o}=this,i=n.distanceTo(e);return o-t<=i&&i<=o+t}}const QR=JR;function ZR(e){const t="_"+e;return function(e){return void 0!==e?(this._observerField(t,e),this.geometryChange(),this):this[t]}}const $R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["geometry"];const n=class extends e{};return function(e,t){for(let n=0;n<t.length;n++)e[t[n]]=ZR(t[n])}(n.prototype,t),n};class eL extends(_R(NR($R($O)))){get nodeType(){return"Circle"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new QR;super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.geometry(e),void 0===this.options.stroke&&this.stroke("#000")}rawBBox(){return this._geometry.bbox()}_bbox(e){return this._geometry.bbox(e)}_containsPoint(e){return this.geometry().containsPoint(e)}_isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}const tL=eL,nL=(e,t)=>class extends e{traverse(e){const n=this[t];for(let t=0;t<n.length;t++){let o=n[t];o.traverse?o.traverse(e):e(o)}return this}};class oL extends(nL($O,"children")){get nodeType(){return"Group"}constructor(e){super(e),this.children=[]}childrenChange(e,t,n){this.trigger("childrenChange",{action:e,items:t,index:n})}append(){return lT(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}insert(e,t){return this.children.splice(e,0,t),t.parent=this,this.childrenChange("add",[t],e),this}insertAt(e,t){return this.insert(t,e)}remove(e){const t=this.children.indexOf(e);return t>=0&&(this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)),this}removeAt(e){if(0<=e&&e<this.children.length){let t=this.children[e];this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)}return this}clear(){const e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange("remove",e,0),this}bbox(e){return VR(this.children,!0,this.currentTransform(e))}rawBBox(){return VR(this.children,!1)}_clippedBBox(e){return HR(this.children,this.currentTransform(e))}currentTransform(e){return $O.prototype.currentTransform.call(this,e)||null}containsPoint(e,t){if(this.visible()){const n=this.children,o=this.currentTransform(t);for(let t=0;t<n.length;t++)if(n[t].containsPoint(e,o))return!0}return!1}_reparent(e,t){for(let n=0;n<e.length;n++){const o=e[n],i=o.parent;i&&i!==this&&i.remove&&i.remove(o),o.parent=t}}}const iL=oL;function rL(e){return.5-Math.cos(e*Math.PI)/2}function aL(e){return e}function sL(e){if(0===e||1===e)return e;return Math.pow(2,-10*e)*Math.sin((e-.125)*(1.1*Math.PI)/.5)+1}function lL(e){return 1-Math.pow(1-e,3)}function cL(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function dL(e){return 1-Math.pow(1-e,2)}function uL(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}function pL(e){return Math.sqrt(1-Math.pow(e-1,2))}function hL(e){return-(Math.cos(Math.PI*e)-1)/2}function mL(e){return 1===e?1:1-Math.pow(2,-10*e)}function fL(e){return 0===e||1===e?e:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}function gL(e){const t=1.70158;return 1+2.70158*Math.pow(e-1,3)+t*Math.pow(e-1,2)}function vL(e){const t=2.5949095;return e<.5?Math.pow(2*e,2)*(7.189819*e-t)/2:(Math.pow(2*e-2,2)*((t+1)*(2*e-2)+t)+2)/2}function yL(e){return 1-Math.pow(1-e,5)}function xL(e){return e<.5?16*Math.pow(e,5):1-Math.pow(-2*e+2,5)/2}let bL=e=>{const t="undefined"!==typeof window?window:{},n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};bL=e=>n.call(t,e),bL(e)};const wL=bL;let kL;class CL extends aT{static get current(){return kL||(kL=new CL),kL}constructor(){super(),this._items=[]}register(e,t){this._items.push({name:e,type:t})}create(e,t){const n=this._items;let o;if(t&&t.type){const e=t.type.toLowerCase();for(let t=0;t<n.length;t++)if(n[t].name.toLowerCase()===e){o=n[t];break}}if(o)return new o.type(e,t)}}const SL=CL;const IL=class extends aT{static create(e,t,n){return SL.current.create(e,t,n)}get options(){return this._options||{duration:500,easing:"swing"}}set options(e){this._options=e}constructor(e,t){super(),this.options=Object.assign({},this.options,t),this.element=e}setup(){}step(){}play(){const e=this.options,{duration:n,delay:o=0}=e,i=t[e.easing],r=jT()+o,a=r+n;0===n?(this.step(1),this.abort()):setTimeout(()=>{const e=()=>{if(this._stopped)return;const t=jT(),o=IT(t-r,0,n),s=i(o/n);this.step(s),t<a?wL(e):this.abort()};e()},o)}abort(){this._stopped=!0}destroy(){this.abort()}};var EL=function(e){function t(t){e.call(this),this.children=[],this.options=_N({},this.options,this.initUserOptions(t))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initUserOptions=function(e){return e},t.prototype.reflow=function(e){for(var t,n=this.children,o=0;o<n.length;o++){var i=n[o];i.reflow(e),t=t?t.wrap(i.box):i.box.clone()}this.box=t||e},t.prototype.destroy=function(){var e=this.children;this.animation&&this.animation.destroy();for(var t=0;t<e.length;t++)e[t].destroy()},t.prototype.getRoot=function(){var e=this.parent;return e?e.getRoot():null},t.prototype.getSender=function(){var e=this.getService();if(e)return e.sender},t.prototype.getService=function(){for(var e=this;e;){if(e.chartService)return e.chartService;e=e.parent}},t.prototype.translateChildren=function(e,t){for(var n=this.children,o=n.length,i=0;i<o;i++)n[i].box.translate(e,t)},t.prototype.append=function(){for(var e=arguments,t=0;t<arguments.length;t++){var n=e[t];this.children.push(n),n.parent=this}},t.prototype.renderVisual=function(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())},t.prototype.addVisual=function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))},t.prototype.renderChildren=function(){for(var e=this.children,t=e.length,n=0;n<t;n++)e[n].renderVisual()},t.prototype.createVisual=function(){this.visual=new iL({zIndex:this.options.zIndex,visible:PP(this.options.visible,!0)})},t.prototype.createAnimation=function(){this.visual&&this.options.animation&&(this.animation=IL.create(this.visual,this.options.animation))},t.prototype.appendVisual=function(e){e.chartElement||(e.chartElement=this),e.options.noclip?this.clipRoot().visual.append(e):bP(e.options.zIndex)?this.stackRoot().stackVisual(e):this.isStackRoot?this.stackVisual(e):this.visual?this.visual.append(e):this.parent.appendVisual(e)},t.prototype.clipRoot=function(){return this.parent?this.parent.clipRoot():this},t.prototype.stackRoot=function(){return this.parent?this.parent.stackRoot():this},t.prototype.stackVisual=function(e){var t,n=e.options.zIndex||0,o=this.visual.children,i=o.length;for(t=0;t<i;t++){var r=o[t];if(PP(r.options.zIndex,0)>n)break}this.visual.insert(t,e)},t.prototype.traverse=function(e){for(var t=this.children,n=t.length,o=0;o<n;o++){var i=t[o];e(i),i.traverse&&i.traverse(e)}},t.prototype.closest=function(e){for(var t=this,n=!1;t&&!n;)(n=e(t))||(t=t.parent);if(n)return t},t.prototype.renderComplete=function(){},t.prototype.hasHighlight=function(){var e=(this.options||{}).highlight;return!(!this.createHighlight||e&&!1===e.visible||!1===this.visible)},t.prototype.toggleHighlight=function(e,t){var n=this,o=(this.options||{}).highlight||{},i=o.visual,r=this._highlight;if(!r){var a={fill:{color:aN,opacity:t||.2},stroke:{color:aN,width:1,opacity:t||.2}};if(i){if(!(r=this._highlight=i(Object.assign(this.highlightVisualArgs(),{createVisual:function(){return n.createHighlight(a)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total}))))return}else r=this._highlight=this.createHighlight(a);bP(r.options.zIndex)||(r.options.zIndex=PP(o.zIndex,this.options.zIndex)),this.appendVisual(r)}r.visible(e)},t.prototype.toggleFocusHighlight=function(e){var t=(this.options||{}).focusHighlight||{},n=this._focusHighlight;if(e||n){if(!n){var o=this.getRoot().options.background,i=cM(o),r={fill:{opacity:t.opacity,color:t.color},stroke:Object.assign({},{color:i},t.border),zIndex:t.zIndex};n=this._focusHighlight=this.createFocusHighlight(r),this.appendVisual(n)}n.visible(e)}},t.prototype.createGradientOverlay=function(e,t,n){var o=new GR(Object.assign({stroke:{color:"none"},fill:this.createGradient(n),closed:e.options.closed},t));return o.segments.elements(e.segments.elements()),o},t.prototype.createGradient=function(e){if(this.parent)return this.parent.createGradient(e)},t.prototype.supportsPointInactiveOpacity=function(){return!0},t}(aT);EL.prototype.options={};const jL=EL;class AL extends(_R(NR($R($O)))){get nodeType(){return"Rect"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new kO;super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.geometry(e),void 0===this.options.stroke&&this.stroke("#000")}_bbox(e){return this._geometry.bbox(e)}rawBBox(){return this._geometry.bbox()}_containsPoint(e){return this._geometry.containsPoint(e)}_isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}const _L=AL,DL="#aba4a6",NL={width:2,gap:18},TL={radius:10,gap:10},PL={size:18,gap:2};class ML extends iL{get nodeType(){return ZO}constructor(e){super();const{width:t,height:n}=e;this._size=bO.create([t,n]),this.id=hT()}size(e){return e?(this._size=bO.create(e),this):this._size}}const OL=(e,t,n)=>{t&&e.append(new _L(new kO([0,0],n),{fill:{color:t},stroke:null}))};var RL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gap:t=TL.gap,radius:n=TL.radius,color:o=DL,background:i}=e,r={fill:{color:o},stroke:null},a=4*n+2*t,s=3*n+1.5*t,l=[a/2,n+.5*t],c=[0,s],d=[a,s],u=new ML({width:a,height:a});return OL(u,i,[a,a]),u.append(new tL(new QR(l,n),r),new tL(new QR(c,n),r),new tL(new QR(d,n),r)),u},LL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gap:t=NL.gap,width:n=NL.width,color:o=DL,background:i}=e,r=n+t,a={fill:null,stroke:{color:o,width:n/2}},s=new ML({width:r,height:r});OL(s,i,[r,r]);const l=n/4,c=r-n/4,d=new GR(a);d.moveTo(l,0).lineTo(l,r);const u=new GR(a);return u.moveTo(c,0).lineTo(c,r),s.append(d,u),s},FL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gap:t=NL.gap,width:n=NL.width,color:o=DL,background:i}=e,r=Math.sqrt(2)*(n+t),a={fill:null,stroke:{color:o,width:n}},s=new ML({width:r,height:r});OL(s,i,[r,r]);const l=new GR(a);l.moveTo(0,0).lineTo(r,r);const c=new GR(a);return c.moveTo(r,0).lineTo(0,r),s.append(l,c),s},zL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gap:t=NL.gap,width:n=NL.width,color:o=DL,background:i}=e,r=Math.sqrt(2)*(n+t),a={fill:null,stroke:{color:o,width:n,lineCap:"square"}},s=new ML({width:r,height:r});OL(s,i,[r,r]);const l=new GR(a);l.moveTo(0,r/2).lineTo(r/2,0);const c=new GR(a);return c.moveTo(r/2,r).lineTo(r,r/2),s.append(l,c),s},BL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gap:t=PL.gap,size:n=PL.size,color:o=DL,background:i}=e,r=n+t,a=t/2,s={fill:{color:o},stroke:null},l=new ML({width:r,height:r});OL(l,i,[r,r]);const c=new _L(new kO([a,a],[n,n]),s);return l.append(c),l},VL={dots:RL,verticalStripes:LL,crosshatch:FL,diagonalStripes:zL,grid:BL};function HL(e,t,n){var o=function(e,t){return EN(e)?e(t):e}(e,n),i=o&&VL[o.type];return i?i(Object.assign({},t,o)):t}var qL=function(e){function t(t){e.call(this,t),this.options.margin=ON(this.options.margin),this.options.padding=ON(this.options.padding)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(t){var n,o=this,i=this.options,r=i.width,a=i.height,s=i.shrinkToFit,l=r&&a,c=i.margin,d=i.padding,u=i.border.width,p=function(){o.align(t,lN,i.align),o.align(t,cN,i.vAlign),o.paddingBox=n.clone().unpad(c).unpad(u)},h=t.clone();l&&(h.x2=h.x1+r,h.y2=h.y1+a),s&&h.unpad(c).unpad(u).unpad(d),e.prototype.reflow.call(this,h),n=l?this.box=new IO(0,0,r,a):this.box,s&&l?(p(),h=this.contentBox=this.paddingBox.clone().unpad(d)):(h=this.contentBox=n.clone(),n.pad(d).pad(u).pad(c),p()),this.translateChildren(n.x1-h.x1+c.left+u+d.left,n.y1-h.y1+c.top+u+d.top);for(var m=this.children,f=0;f<m.length;f++){var g=m[f];g.reflow(g.box)}},t.prototype.align=function(e,t,n){this.box.align(e,t,n)},t.prototype.hasBox=function(){var e=this.options;return e.border.width||e.background},t.prototype.createVisual=function(){e.prototype.createVisual.call(this),this.options.visible&&this.hasBox()&&this.visual.append(GR.fromRect(this.paddingBox.toRect(),this.visualStyle()))},t.prototype.visualStyle=function(){var e=this.options,t=e.border||{};return{stroke:{width:t.width,color:t.color,opacity:PP(t.opacity,e.opacity),dashType:t.dashType},fill:HL(e.pattern,{color:e.background,opacity:e.opacity},void 0),cursor:e.cursor}},t}(jL);RP(qL,{align:YD,vAlign:iN,margin:{},padding:{},border:{color:OD,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});const UL=qL;function GL(e,t){t&&(e.options.className=t.className,e.options.role=t.role,e.options.ariaLabel=t.ariaLabel,e.options.ariaRoleDescription=t.ariaRoleDescription,e.options.ariaChecked=t.ariaChecked)}var WL=function(e){function t(t,n){e.call(this,t),this.pointData=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=this.options,t=this.paddingBox,n=e.type,o=e.rotation,i=t.center(),r=t.width()/2,a=t.height()/2;if(!e.visible||!this.hasBox())return null;var s,l=this.visualStyle();if(n===FD)s=new tL(new QR([NP(t.x1+r,3),NP(t.y1+a,3)],Math.min(r,a)),l);else if("triangle"===n)s=GR.fromPoints([[t.x1+r,t.y1],[t.x1,t.y2],[t.x2,t.y2]],l).close();else if(n===zD)(s=new WR(l)).moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),s.moveTo(t.x1,t.y2).lineTo(t.x2,t.y1);else{var c=t.toRect();if(n===tN){var d=PP(e.borderRadius,c.width()/5);c.setCornerRadius(d)}s=GR.fromRect(c,l)}return o&&s.transform(OO().rotate(-o,[i.x,i.y])),s.options.zIndex=e.zIndex,s},t.prototype.createElement=function(){var e=this,t=this.options.visual,n=this.pointData||{};return t?t({value:n.value,dataItem:n.dataItem,sender:this.getSender(),series:n.series,category:n.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return e.getElement()}}):this.getElement()},t.prototype.visualOptions=function(){var e=this.options;return{background:e.background,border:e.border,margin:e.margin,padding:e.padding,type:e.type,size:e.width,visible:e.visible}},t.prototype.createVisual=function(){this.visual=this.createElement(),GL(this.visual,this.options.accessibilityOptions)},t}(UL);RP(WL,{type:FD,align:LD,vAlign:LD});const KL=WL;const YL=class extends UO{_change(){this.optionsChange({field:"stops"})}};function XL(e){return function(t){return void 0!==t?(this.options.set(e,t),this):this.options.get(e)}}const JL=(e,t)=>{const n=class extends e{};return function(e,t){for(let n=0;n<t.length;n++)e[t[n]]=XL(t[n])}(n.prototype,t),n},QL=["offset","color","opacity"];class ZL extends(JL(pO,QL)){constructor(e,t,n){super(),this.options=new YO({offset:e,color:t,opacity:void 0!==n?n:1}),this.options.addObserver(this)}static create(e){if(void 0!==e){let t;return t=e instanceof ZL?e:e.length>1?new ZL(e[0],e[1],e[2]):new ZL(e.offset,e.color,e.opacity),t}}}const $L=ZL;const eF=class extends pO{get nodeType(){return"Gradient"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.stops=new YL(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=hT()}userSpace(e){return void 0!==e?(this._userSpace=e,this.optionsChange(),this):this._userSpace}_createStops(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=[];for(let n=0;n<e.length;n++)t.push($L.create(e[n]));return t}addStop(e,t,n){this.stops.push(new $L(e,t,n))}removeStop(e){const t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}optionsChange(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})}geometryChange(){this.optionsChange()}},tF=["start","end"];class nF extends(dR(eF,tF)){constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.start(e.start||new yO),this.end(e.end||new yO(1,0))}}const oF=nF;class iF extends(dR(eF,["center"])){constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.center(e.center||new yO),this._radius=void 0!==e.radius?e.radius:1,this._fallbackFill=e.fallbackFill}radius(e){return void 0!==e?(this._radius=e,this.geometryChange(),this):this._radius}fallbackFill(e){return void 0!==e?(this._fallbackFill=e,this.optionsChange(),this):this._fallbackFill}}const rF=iF;var aF="radial";const sF={glass:{type:"linear",rotation:0,stops:[{offset:0,color:aN,opacity:0},{offset:.25,color:aN,opacity:.3},{offset:1,color:aN,opacity:0}]},sharpBevel:{type:aF,stops:[{offset:0,color:aN,opacity:.55},{offset:.65,color:aN,opacity:0},{offset:.95,color:aN,opacity:.25}]},roundedBevel:{type:aF,stops:[{offset:.33,color:aN,opacity:.06},{offset:.83,color:aN,opacity:.2},{offset:.95,color:aN,opacity:0}]},roundedGlass:{type:aF,supportVML:!1,stops:[{offset:0,color:aN,opacity:0},{offset:.5,color:aN,opacity:.3},{offset:.99,color:aN,opacity:0}]},sharpGlass:{type:aF,supportVML:!1,stops:[{offset:0,color:aN,opacity:.2},{offset:.15,color:aN,opacity:.15},{offset:.17,color:aN,opacity:.35},{offset:.85,color:aN,opacity:.05},{offset:.87,color:aN,opacity:.15},{offset:.99,color:aN,opacity:0}]},bubbleShadow:{type:aF,center:[.5,.5],radius:.5}};function lF(e,t){if(e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2)return t;var n=Math.min(e.x1,t.x1),o=Math.max(e.x1,t.x1),i=Math.min(e.x2,t.x2),r=Math.max(e.x2,t.x2),a=Math.min(e.y1,t.y1),s=Math.max(e.y1,t.y1),l=Math.min(e.y2,t.y2),c=Math.max(e.y2,t.y2),d=[];return d[0]=new IO(o,a,i,s),d[1]=new IO(n,s,o,l),d[2]=new IO(i,s,r,l),d[3]=new IO(o,l,i,c),e.x1===n&&e.y1===a||t.x1===n&&t.y1===a?(d[4]=new IO(n,a,o,s),d[5]=new IO(i,l,r,c)):(d[4]=new IO(i,a,r,s),d[5]=new IO(n,l,o,c)),UN(d,function(e){return e.height()>0&&e.width()>0})[0]}var cF=function(e){function t(t){e.call(this,t);var n=this.options;n.width=parseInt(n.width,10),n.height=parseInt(n.height,10),this.gradients={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(){var e=this.options,t=this.children,n=new IO(0,0,e.width,e.height);this.box=n.unpad(e.margin);for(var o=0;o<t.length;o++)t[o].reflow(n),n=lF(n,t[o].box)||new IO},t.prototype.createVisual=function(){this.visual=new iL,this.createBackground()},t.prototype.createBackground=function(){var e=this.options,t=e.border||{},n=this.box.clone().pad(e.margin).unpad(t.width),o=GR.fromRect(n.toRect(),{stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},zIndex:-10});this.visual.append(o)},t.prototype.getRoot=function(){return this},t.prototype.createGradient=function(e){var t,n=this.gradients,o=_P(e),i=sF[e.gradient];if(n[o])t=n[o];else{var r=Object.assign({},i,e);"linear"===i.type?t=new oF(r):(e.innerRadius&&(r.stops=function(e){for(var t=e.stops,n=e.innerRadius/e.radius*100,o=t.length,i=[],r=0;r<o;r++){var a=Object.assign({},t[r]);a.offset=(a.offset*(100-n)+n)/100,i.push(a)}return i}(r)),(t=new rF(r)).supportVML=!1!==i.supportVML),n[o]=t}return t},t.prototype.cleanGradients=function(){var e=this.gradients;for(var t in e)e[t]._observers=[]},t.prototype.size=function(){var e=this.options;return new IO(0,0,e.width,e.height)},t}(jL);RP(cF,{width:600,height:400,background:aN,border:{color:OD,width:0},margin:ON(5),zIndex:-2});const dF=cF;var uF=function(e){function t(t){e.call(this,t),this._initDirection()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initDirection=function(){var e=this.options;e.vertical?(this.groupAxis=lN,this.elementAxis=cN,this.groupSizeField=sN,this.elementSizeField=GD,this.groupSpacing=e.spacing,this.elementSpacing=e.vSpacing):(this.groupAxis=cN,this.elementAxis=lN,this.groupSizeField=GD,this.elementSizeField=sN,this.groupSpacing=e.vSpacing,this.elementSpacing=e.spacing)},t.prototype.reflow=function(e){this.box=e.clone(),this.reflowChildren()},t.prototype.reflowChildren=function(){var e=this,t=this,n=t.box,o=t.elementAxis,i=t.groupAxis,r=t.elementSizeField,a=t.groupSizeField,s=this.groupOptions(),l=s.groups,c=s.groupsSize,d=s.maxGroupElementsSize,u=l.length,p=n[i+1]+this.alignStart(c,n[a]());if(u){for(var h=p,m=0;m<u;m++){for(var f=l[m],g=f.groupElements,v=n[o+1],y=g.length,x=0;x<y;x++){var b=g[x],w=e.elementSize(b),k=h+e.alignStart(w[a],f.groupSize),C=new IO;C[i+1]=k,C[i+2]=k+w[a],C[o+1]=v,C[o+2]=v+w[r],b.reflow(C),v+=w[r]+e.elementSpacing}h+=f.groupSize+e.groupSpacing}n[i+1]=p,n[i+2]=p+c,n[o+2]=n[o+1]+d}},t.prototype.alignStart=function(e,t){var n=0,o=this.options.align;return o===eN||o===RD?n=t-e:o===LD&&(n=(t-e)/2),n},t.prototype.groupOptions=function(){for(var e=this,t=e.box,n=e.children,o=e.elementSizeField,i=e.groupSizeField,r=e.elementSpacing,a=e.groupSpacing,s=NP(t[o]()),l=n.length,c=[],d=0,u=0,p=0,h=0,m=[],f=0;f<l;f++){var g=n[f];g.box||g.reflow(t);var v=this.elementSize(g);this.options.wrap&&NP(u+r+v[o])>s&&(c.push({groupElements:m,groupSize:d,groupElementsSize:u}),h=Math.max(h,u),p+=a+d,d=0,u=0,m=[]),d=Math.max(d,v[i]),u>0&&(u+=r),u+=v[o],m.push(g)}return c.push({groupElements:m,groupSize:d,groupElementsSize:u}),{groups:c,groupsSize:p+=d,maxGroupElementsSize:h=Math.max(h,u)}},t.prototype.elementSize=function(e){return{width:e.box.width(),height:e.box.height()}},t.prototype.createVisual=function(){},t}(jL);RP(uF,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});const pF=uF;class hF extends(_R(dR($O,["position"]))){get nodeType(){return"Text"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yO;super(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.content(e),this.position(t),this.options.font||(this.options.font="12px sans-serif"),void 0===this.options.fill&&this.fill("#000")}content(e){return void 0!==e?(this.options.set("content",e),this):this.options.get("content")}measure(){return $T(this.content(),{font:this.options.get("font")})}rect(){const e=this.measure(),t=this.position().clone();return new kO(t,[e.width,e.height])}bbox(e){const t=gO(this.currentTransform(e));return this.rect().bbox(t)}rawBBox(){return this.rect().bbox()}_containsPoint(e){return this.rect().containsPoint(e)}}const mF=hF;var fF=mF,gF=function(e){function t(t,n){e.call(this,n),this.content=t,this.reflow(new IO)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this.options,n=t.size=$T(this.content,{font:t.font});this.baseline=n.baseline,this.box=new IO(e.x1,e.y1,e.x1+n.width,e.y1+n.height)},t.prototype.createVisual=function(){var e=this.options,t=e.font,n=e.color,o=e.opacity,i=e.cursor,r=e.stroke,a=e.paintOrder;this.visual=new fF(this.content,this.box.toRect().topLeft(),{font:t,fill:{color:n,opacity:o},cursor:i,stroke:r,paintOrder:a})},t}(jL);RP(gF,{font:VD,color:OD});const vF=gF;function yF(e){var t=e.origin,n=e.bottomRight();return new IO(t.x,t.y,n.x,n.y)}var xF=/\n/m,bF=function(e){function t(t,n,o){e.call(this,n),this.content=t,this.data=o,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new IO)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initContainer=function(){var e=this.options,t=String(this.content).split(xF),n=new pF({vertical:!0,align:e.align,wrap:!1}),o=_N({},e,{opacity:1,animation:null});this.container=n,this.append(n);for(var i=0;i<t.length;i++){var r=new vF(t[i].trim(),o);n.append(r)}},t.prototype.reflow=function(t){var n=this.options,o=n.visual;if(this.container.options.align=n.align,o&&!this._boxReflow){var i=t;i.hasSize()||(this._boxReflow=!0,this.reflow(i),this._boxReflow=!1,i=this.box);var r=this.visual=o(this.visualContext(i));r&&(i=yF(r.clippedBBox()||new kO),r.options.zIndex=n.zIndex),this.box=this.contentBox=this.paddingBox=i}else if(e.prototype.reflow.call(this,t),n.rotation){var a=ON(n.margin),s=this.box.unpad(a);this.targetBox=t,this.normalBox=s.clone(),(s=this.rotate()).translate(a.left-a.right,a.top-a.bottom),this.rotatedBox=s.clone(),s.pad(a)}},t.prototype.createVisual=function(){var e=this.options;if(this.visual=new iL({transform:this.rotationTransform(),zIndex:e.zIndex,noclip:e.noclip}),this.hasBox()){var t=GR.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(t)}},t.prototype.renderVisual=function(){if(this.options.visible)if(this.options.visual){var t=this.visual;t&&!bP(t.options.noclip)&&(t.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else e.prototype.renderVisual.call(this)},t.prototype.visualContext=function(e){var t=this,n={text:this.content,rect:e.toRect(),sender:this.getSender(),options:this.options,createVisual:function(){return t._boxReflow=!0,t.reflow(e),t._boxReflow=!1,t.getDefaultVisual()}};return this.data&&Object.assign(n,this.data),n},t.prototype.getDefaultVisual=function(){this.createVisual(),this.renderChildren();var e=this.visual;return delete this.visual,e},t.prototype.rotate=function(){var e=this.options;return this.box.rotate(e.rotation),this.align(this.targetBox,lN,e.align),this.align(this.targetBox,cN,e.vAlign),this.box},t.prototype.rotationTransform=function(){var e=this.options.rotation;if(!e)return null;var t=this.normalBox.center(),n=t.x,o=t.y,i=this.rotatedBox.center();return OO().translate(i.x-n,i.y-o).rotate(e,[n,o])},t}(UL);const wF=bF;var kF=function(e){function t(t){e.call(this,t),this._textBox=new wF(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})),this.append(this._textBox)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(t){e.prototype.reflow.call(this,t),this.box.snapTo(t,lN)},t.buildTitle=function(e,n){var o,i=e;return"string"===typeof e&&(i={text:e}),(i=Object.assign({visible:!0},n,i))&&i.visible&&i.text&&(o=new t(i)),o},t.orderTitles=function(e){var t=[].concat(e),n=t.filter(function(e){return e&&e.options.position!==RD}),o=t.filter(function(e){return e&&e.options.position===RD});return CF(n),CF(o),o.reverse(),n.concat(o)},t}(jL);function CF(e){for(var t=1;t<e.length;t++){var n=e[t]._textBox,o=e[t-1]._textBox;o.options.margin=Object.assign(ON(o.options.margin),{bottom:0}),n.options.margin=Object.assign(ON(n.options.margin),{top:0})}}RP(kF,{color:OD,position:iN,align:LD,margin:ON(5),padding:ON(5)});const SF=kF;var IF=function(e){function t(t,n,o,i,r){e.call(this,n,r),this.text=n,this.value=t,this.index=o,this.dataItem=i,this.reflow(new IO)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.visualContext=function(t){var n=e.prototype.visualContext.call(this,t);return n.value=this.value,n.dataItem=this.dataItem,n.format=this.options.format,n.culture=this.options.culture,n},t.prototype.click=function(e,t){e.trigger("axisLabelClick",{element:IP(t),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})},t.prototype.rotate=function(){if(this.options.alignRotation!==LD){var t=this.normalBox.toRect(),n=this.rotationTransform();this.box=yF(t.bbox(n.matrix()))}else e.prototype.rotate.call(this);return this.box},t.prototype.rotationTransform=function(){var t=this.options,n=t.rotation;if(!n)return null;if(t.alignRotation===LD)return e.prototype.rotationTransform.call(this);var o=OO().rotate(n).matrix(),i=this.normalBox.toRect(),r=this.targetBox.toRect(),a=t.rotationOrigin||iN,s=a===iN||a===RD?lN:cN,l=a===iN||a===RD?cN:lN,c=a===iN||a===YD?r.origin:r.bottomRight(),d=i.topLeft().transformCopy(o),u=i.topRight().transformCopy(o),p=i.bottomRight().transformCopy(o),h=i.bottomLeft().transformCopy(o),m=kO.fromPoints(d,u,p,h),f={};f[l]=r.origin[l]-m.origin[l];var g,v,y=Math.abs(d[l]+f[l]-c[l]),x=Math.abs(u[l]+f[l]-c[l]);NP(y,HD)===NP(x,HD)?(g=d,v=u):x<y?(g=u,v=p):(g=d,v=h);var b=g[s]+(v[s]-g[s])/2;return f[s]=r.center()[s]-b,OO().translate(f.x,f.y).rotate(n)},t}(wF);RP(IF,{_autoReflow:!1});const EF=IF;var jF=function(e){function t(t,n,o){e.call(this,n),this.fields=t,this.chartService=o,this.render()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hide=function(){this.options.visible=!1},t.prototype.show=function(){this.options.visible=!0},t.prototype.render=function(){var e=this,t=this.options;if(t.visible){var n,o,i=t.label,r=t.icon,a=new IO,s=function(){return e},l=r.size,c=this.fields.text;if(bP(i)&&i.visible){var d=zN(i);d?c=d(this.fields):i.format&&(c=this.chartService.format.auto(i.format,c)),i.color||(i.color=i.position===WD?"#fff":r.background),this.label=new wF(c,_N({},i)),this.label.aliasFor=s,i.position!==WD||bP(l)||(r.type===FD?l=Math.max(this.label.box.width(),this.label.box.height()):(n=this.label.box.width(),o=this.label.box.height()),a.wrap(this.label.box))}r.width=n||l||7,r.height=o||l||7;var u=new KL(_N({},r));u.aliasFor=s,this.marker=u,this.append(u),this.label&&this.append(this.label),u.reflow(new IO),this.wrapperBox=a.wrap(u.box)}},t.prototype.reflow=function(e){var t,n,o,i=this,r=i.options,a=i.label,s=i.marker,l=i.wrapperBox,c=e.center(),d=r.line.length,u=r.position;r.visible&&(YN(u,[YD,eN])?u===YD?(o=l.alignTo(e,u).translate(-d,e.center().y-l.center().y),r.line.visible&&(t=[e.x1,c.y],this.linePoints=[t,[o.x2,c.y]],n=o.clone().wrapPoint(t))):(o=l.alignTo(e,u).translate(d,e.center().y-l.center().y),r.line.visible&&(t=[e.x2,c.y],this.linePoints=[t,[o.x1,c.y]],n=o.clone().wrapPoint(t))):u===RD?(o=l.alignTo(e,u).translate(e.center().x-l.center().x,d),r.line.visible&&(t=[c.x,e.y2],this.linePoints=[t,[c.x,o.y1]],n=o.clone().wrapPoint(t))):(o=l.alignTo(e,u).translate(e.center().x-l.center().x,-d),r.line.visible&&(t=[c.x,e.y1],this.linePoints=[t,[c.x,o.y2]],n=o.clone().wrapPoint(t))),s&&s.reflow(o),a&&(a.reflow(o),s&&(r.label.position===$D&&a.box.alignTo(s.box,u),a.reflow(a.box))),this.contentBox=o,this.targetBox=e,this.box=n||o)},t.prototype.createVisual=function(){e.prototype.createVisual.call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()},t.prototype.renderVisual=function(){var t=this,n=this.options,o=n.visual;n.visible&&o?(this.visual=o(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:n.background,border:n.background,icon:n.icon,label:n.label,line:n.line,position:n.position,visible:n.visible},createVisual:function(){t.createVisual(),t.renderChildren();var e=t.visual;return delete t.visual,e}})),this.addVisual()):e.prototype.renderVisual.call(this)},t.prototype.createLine=function(){var e=this.options.line;if(this.linePoints){var t=GR.fromPoints(this.linePoints,{stroke:{color:e.color,width:e.width,dashType:e.dashType}});yN(t),this.visual.append(t)}},t.prototype.click=function(e,t){var n=this.eventArgs(t);e.trigger("noteClick",n)||t.preventDefault()},t.prototype.over=function(e,t){var n=this.eventArgs(t);e.trigger("noteHover",n)||t.preventDefault()},t.prototype.out=function(e,t){var n=this.eventArgs(t);e.trigger("noteLeave",n)},t.prototype.eventArgs=function(e){var t=this.options;return Object.assign(this.fields,{element:IP(e),text:bP(t.label)?t.label.text:"",visual:this.visual})},t}(UL);RP(jF,{icon:{visible:!0,type:FD},label:{position:WD,visible:!0,align:LD,vAlign:LD},line:{visible:!0},visible:!0,position:iN,zIndex:2});const AF=jF;var _F={format:function(e,t){return t},toString:function(e){return e},parseDate:function(e){return new Date(e)},firstDay:function(){return 0}},DF=_F,NF=function(){},TF={implementation:{configurable:!0}};NF.register=function(e){DF=e},TF.implementation.get=function(){return DF},Object.defineProperties(NF,TF);const PF=NF;var MF=/\{(\d+)(:[^\}]+)?\}/g,OF=function(e){this._intlService=e},RF={intl:{configurable:!0}};RF.intl.get=function(){return this._intlService||PF.implementation},RF.intl.set=function(e){this._intlService=e},OF.prototype.auto=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var o=this.intl;return wN(e)&&e.match(UD)?o.format.apply(o,[e].concat(t)):o.toString(t[0],e)},OF.prototype.localeAuto=function(e,t,n){var o,i=this.intl;return o=wN(e)&&e.match(UD)?e.replace(MF,function(e,o,r){var a=t[parseInt(o,10)];return i.toString(a,r?r.substring(1):"",n)}):i.toString(t[0],e,n),o},Object.defineProperties(OF.prototype,RF);const LF=OF;var FF=function(e,t){void 0===t&&(t={}),this._intlService=t.intlService,this.sender=t.sender||e,this.format=new LF(t.intlService),this.chart=e,this.rtl=Boolean(t.rtl)},zF={intl:{configurable:!0}};zF.intl.get=function(){return this._intlService||PF.implementation},zF.intl.set=function(e){this._intlService=e,this.format.intl=e},FF.prototype.notify=function(e,t){this.chart&&this.chart.trigger(e,t)},FF.prototype.isPannable=function(e){var t=((this.chart||{}).options||{}).pannable;return t&&t.lock!==e},Object.defineProperties(FF.prototype,zF);const BF=FF;var VF,HF=function(){};HF.register=function(e){VF=e},HF.create=function(e,t){return VF?VF.create(e,t):new lO(e,Object.assign({},{multiTouch:!0},t))};const qF=HF;function UF(e,t){var n=e.tickX,o=e.tickY,i=e.position,r=new GR({stroke:{width:t.width,color:t.color}});return e.vertical?r.moveTo(n,i).lineTo(n+t.size,i):r.moveTo(i,o).lineTo(i,o+t.size),yN(r),r}function GF(e,t){var n=e.lineStart,o=e.lineEnd,i=e.position,r=new GR({stroke:{width:t.width,color:t.color,dashType:t.dashType}});return e.vertical?r.moveTo(n,i).lineTo(o,i):r.moveTo(i,n).lineTo(i,o),yN(r),r}var WF=function(e){function t(t,n){void 0===n&&(n=new BF),e.call(this,t),this.chartService=n,this.options.visible||(this.options=_N({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=_N({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==QD},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=_N({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==QD},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(){},t.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.labelsCount()}},t.prototype.normalizeLabelRotation=function(e){var t=e.rotation;DN(t)&&(e.alignRotation=t.align,e.rotation=t.angle)},t.prototype.createLabels=function(){var e=this,t=this.options,n=t.vertical?eN:LD,o=_N({},t.labels,{align:n,zIndex:t.zIndex}),i=Math.max(1,o.step);if(this.clearLabels(),o.visible){this.normalizeLabelRotation(o),"auto"===o.rotation&&(o.rotation=0,t.autoRotateLabels=!0);for(var r=this.labelsRange(),a=r.min;a<r.max;a+=i){var s={index:a,count:r.max},l=e.createAxisLabel(a,o,s);l&&(e.append(l),e.labels.push(l))}}},t.prototype.clearLabels=function(){this.children=UN(this.children,function(e){return!(e instanceof EF)}),this.labels=[]},t.prototype.clearTitle=function(){var e=this;this.title&&(this.children=UN(this.children,function(t){return t!==e.title}),this.title=void 0)},t.prototype.clear=function(){this.clearLabels(),this.clearTitle()},t.prototype.lineBox=function(){var e=this.options,t=this.box,n=e.vertical,o=e.labels.mirror,i=o?t.x1:t.x2,r=o?t.y2:t.y1,a=e.line.width||0;return n?new IO(i,t.y1,i,t.y2-a):new IO(t.x1,r,t.x2-a,r)},t.prototype.createTitle=function(){var e=this.options,t=_N({rotation:e.vertical?-90:0,text:"",zIndex:1,visualSize:!0},e.title);if(t.visible&&t.text){var n=new wF(t.text,t);this.append(n),this.title=n}},t.prototype.createNotes=function(){var e=this,t=this.options,n=t.notes,o=n.data||[];this.notes=[];for(var i=0;i<o.length;i++){var r=_N({},n,o[i]);r.value=e.parseNoteValue(r.value);var a=new AF({value:r.value,text:r.label.text,dataItem:r},r,e.chartService);a.options.visible&&(bP(a.options.position)?t.vertical&&!YN(a.options.position,[YD,eN])?a.options.position=t.reverse?YD:eN:t.vertical||YN(a.options.position,[iN,RD])||(a.options.position=t.reverse?RD:iN):t.vertical?a.options.position=t.reverse?YD:eN:a.options.position=t.reverse?RD:iN,e.append(a),e.notes.push(a))}},t.prototype.parseNoteValue=function(e){return e},t.prototype.renderVisual=function(){e.prototype.renderVisual.call(this),this.createPlotBands()},t.prototype.createVisual=function(){e.prototype.createVisual.call(this),this.createBackground(),this.createLine()},t.prototype.gridLinesVisual=function(){var e=this._gridLines;return e||(e=this._gridLines=new iL({zIndex:-2}),this.appendVisual(this._gridLines)),e},t.prototype.createTicks=function(e){var t=this.options,n=this.lineBox(),o=t.labels.mirror,i=t.majorTicks.visible?t.majorUnit:0,r={vertical:t.vertical};function a(t,i,a){var s=t.length,l=Math.max(1,i.step);if(i.visible)for(var c=i.skip;c<s;c+=l)bP(a)&&c%a===0||(r.tickX=o?n.x2:n.x2-i.size,r.tickY=o?n.y1-i.size:n.y1,r.position=t[c],e.append(UF(r,i)))}a(this.getMajorTickPositions(),t.majorTicks),a(this.getMinorTickPositions(),t.minorTicks,i/t.minorUnit)},t.prototype.createLine=function(){var e=this.options,t=e.line,n=this.lineBox();if(t.width>0&&t.visible){var o=new GR({stroke:{width:t.width,color:t.color,dashType:t.dashType}});o.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),e._alignLines&&yN(o);var i=this._lineGroup=new iL;i.append(o),this.visual.append(i),this.createTicks(i)}},t.prototype.getActualTickSize=function(){var e=this.options,t=0;return e.majorTicks.visible&&e.minorTicks.visible?t=Math.max(e.majorTicks.size,e.minorTicks.size):e.majorTicks.visible?t=e.majorTicks.size:e.minorTicks.visible&&(t=e.minorTicks.size),t},t.prototype.createBackground=function(){var e=this.options,t=this.box,n=e.background;n&&(this._backgroundPath=GR.fromRect(t.toRect(),{fill:{color:n},stroke:null}),this.visual.append(this._backgroundPath))},t.prototype.createPlotBands=function(){var e=this,t=this.options,n=t.plotBands||[],o=t.vertical,i=this.plotArea;if(0!==n.length){for(var r=this._plotbandGroup=new iL({zIndex:-1}),a=UN(this.pane.axes,function(t){return t.options.vertical!==e.options.vertical})[0],s=0;s<n.length;s++){var l=n[s],c=void 0,d=void 0,u=l.label,p=void 0;if(o?(c=(a||i.axisX).lineBox(),d=e.getSlot(l.from,l.to,!0)):(c=e.getSlot(l.from,l.to,!0),d=(a||i.axisY).lineBox()),u&&(u.vAlign=u.position||YD,p=e.createPlotBandLabel(u,l,new IO(c.x1,d.y1,c.x2,d.y2))),0!==c.width()&&0!==d.height()){var h=new kO([c.x1,d.y1],[c.width(),d.height()]),m=GR.fromRect(h,{fill:{color:l.color,opacity:l.opacity},stroke:null});r.append(m),p&&r.append(p)}}this.appendVisual(r)}},t.prototype.createPlotBandLabel=function(e,t,n){if(!1===e.visible)return null;var o,i=e.text;if(bP(e)&&e.visible){var r=zN(e);r?i=r({text:i,item:t}):e.format&&(i=this.chartService.format.auto(e.format,i)),e.color||(e.color=this.options.labels.color)}return(o=new wF(i,e)).reflow(n),o.renderVisual(),o.visual},t.prototype.createGridLines=function(e){var t=this.options,n=t.minorGridLines,o=t.majorGridLines,i=t.minorUnit,r=t.vertical,a=e.options.line.visible,s=o.visible?t.majorUnit:0,l=e.lineBox(),c=l[r?"y1":"x1"],d={lineStart:l[r?"x1":"y1"],lineEnd:l[r?"x2":"y2"],vertical:r},u=[],p=this.gridLinesVisual();function h(e,t,n){var o=e.length,i=Math.max(1,t.step);if(t.visible)for(var r=t.skip;r<o;r+=i){var s=NP(e[r]);YN(s,u)||r%n===0||a&&c===s||(d.position=s,p.append(GF(d,t)),u.push(s))}}return h(this.getMajorTickPositions(),o),h(this.getMinorTickPositions(),n,s/i),p.children},t.prototype.reflow=function(e){for(var t=this,n=t.options,o=t.labels,i=t.title,r=n.vertical,a=o.length,s=r?sN:GD,l=i?i.box[s]():0,c=this.getActualTickSize()+n.margin+l,d=((this.getRoot()||{}).box||e)[s](),u=0,p=0;p<a;p++){var h=o[p].box[s]();h+c<=d&&(u=Math.max(u,h))}this.box=r?new IO(e.x1,e.y1,e.x1+u+c,e.y2):new IO(e.x1,e.y1,e.x2,e.y1+u+c),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()},t.prototype.getLabelsTickPositions=function(){return this.getMajorTickPositions()},t.prototype.labelTickIndex=function(e){return e.index},t.prototype.arrangeLabels=function(){for(var e=this.options,t=this.labels,n=this.labelsBetweenTicks(),o=e.vertical,i=e.labels.mirror,r=this.getLabelsTickPositions(),a=0;a<t.length;a++){var s=t[a],l=this.labelTickIndex(s),c=o?s.box.height():s.box.width(),d=r[l],u=r[l+1],p=void 0,h=void 0;if(o){if(n)p=d+(u-d)/2-c/2;else p=d-c/2;h=p}else n?(p=d,h=u):h=(p=d-c/2)+c;this.positionLabel(s,i,p,h)}},t.prototype.positionLabel=function(e,t,n,o){void 0===o&&(o=n);var i,r=this.options,a=r.vertical,s=this.lineBox(),l=this.getActualTickSize()+r.margin;if(a){var c=s.x2;t?(c+=l,e.options.rotationOrigin=YD):(c-=l+e.box.width(),e.options.rotationOrigin=eN),i=e.box.move(c,n)}else{var d=s.y1;t?(d-=l+e.box.height(),e.options.rotationOrigin=RD):(d+=l,e.options.rotationOrigin=iN),i=new IO(n,d,o,d+e.box.height())}e.reflow(i)},t.prototype.autoRotateLabelAngle=function(e,t){return e.width()<t?0:e.height()>t?-90:-45},t.prototype.autoRotateLabels=function(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;for(var e=this.getMajorTickPositions(),t=this.labels,n=Math.min(t.length,e.length-1),o=0,i=0;i<n;i++){var r=Math.abs(e[i+1]-e[i]),a=t[i].box,s=this.autoRotateLabelAngle(a,r);if(0!==s&&(o=s),-90===o)break}if(0!==o){for(var l=0;l<t.length;l++)t[l].options.rotation=o,t[l].reflow(new IO);return!0}},t.prototype.arrangeTitle=function(){var e=this.options,t=this.title,n=e.labels.mirror,o=e.vertical;t&&(o?(t.options.align=n?eN:YD,t.options.vAlign=t.options.position):(t.options.align=t.options.position,t.options.vAlign=n?iN:RD),t.reflow(this.box))},t.prototype.arrangeNotes=function(){for(var e=this,t=0;t<this.notes.length;t++){var n=e.notes[t],o=n.options.value,i=void 0;bP(o)?(e.shouldRenderNote(o)?n.show():n.hide(),i=e.noteSlot(o)):n.hide(),n.reflow(i||e.lineBox())}},t.prototype.noteSlot=function(e){return this.getSlot(e)},t.prototype.alignTo=function(e){var t=e.lineBox(),n=this.options.vertical,o=n?cN:lN;this.box.snapTo(t,o),n?this.box.shrink(0,this.lineBox().height()-t.height()):this.box.shrink(this.lineBox().width()-t.width(),0),this.box[o+1]-=this.lineBox()[o+1]-t[o+1],this.box[o+2]-=this.lineBox()[o+2]-t[o+2]},t.prototype.axisLabelText=function(e,t,n){var o,i=this,r=zN(t),a=function(){return t.format?i.chartService.format.localeAuto(t.format,[e],t.culture):e};r?o=r(Object.assign({},n,{get text(){return a()},value:e,format:t.format,culture:t.culture})):o=a();return o},t.prototype.slot=function(e,t,n){var o=this.getSlot(e,t,n);if(o)return o.toRect()},t.prototype.contentBox=function(){var e=this.box.clone(),t=this.labels;if(t.length){var n=this.options.vertical?cN:lN;if(this.chartService.isPannable(n)){var o=this.maxLabelOffset();e[n+1]-=o.start,e[n+2]+=o.end}else{t[0].options.visible&&e.wrap(t[0].box);var i=t[t.length-1];i.options.visible&&e.wrap(i.box)}}return e},t.prototype.maxLabelOffset=function(){for(var e=this.options,t=e.vertical,n=e.reverse,o=this.labelsBetweenTicks(),i=this.getLabelsTickPositions(),r=t?cN:lN,a=this.labels,s=n?1:0,l=n?0:1,c=0,d=0,u=0;u<a.length;u++){var p=a[u],h=this.labelTickIndex(p),m=void 0,f=void 0;o?(m=i[h+s],f=i[h+l]):m=f=i[h],c=Math.max(c,m-p.box[r+1]),d=Math.max(d,p.box[r+2]-f)}return{start:c,end:d}},t.prototype.limitRange=function(e,t,n,o,i){var r=this.options;if(e<n&&i<0&&(!bP(r.min)||r.min<=n)||o<t&&i>0&&(!bP(r.max)||o<=r.max))return null;if(t<n&&i>0||o<e&&i<0)return{min:e,max:t};var a=t-e,s=e,l=t;return e<n&&i<0?(s=AP(e,n,o),l=AP(e+a,n+a,o)):t>o&&i>0&&(l=AP(t,n,o),s=AP(t-a,n,o-a)),{min:s,max:l}},t.prototype.valueRange=function(){return{min:this.seriesMin,max:this.seriesMax}},t.prototype.lineDir=function(){var e=this.options;return(e.vertical?-1:1)*(e.reverse?-1:1)},t.prototype.lineInfo=function(){var e=this.options.vertical,t=this.lineBox(),n=e?t.height():t.width(),o=e?cN:lN,i=this.lineDir(),r=o+(1===i?1:2).toString();return{axis:o,axisOrigin:r,axisDir:i,lineBox:t,lineSize:n,lineStart:t[r]}},t.prototype.pointOffset=function(e){var t=this.lineInfo(),n=t.axis,o=t.axisDir,i=t.axisOrigin,r=t.lineBox,a=t.lineSize;return(o>0?e[n]-r[i]:r[i]-e[n])/a},t.prototype.scaleToDelta=function(e,t){var n=AP(e,-.999,.999);return n>0?t*Math.min(1,n):t-t/(1+n)},t.prototype.labelsBetweenTicks=function(){return!this.options.justified},t.prototype.prepareUserOptions=function(){},t}(jL);RP(WF,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:OD,visible:!0},title:{visible:!0,position:LD},majorTicks:{align:$D,size:4,skip:0,step:1},minorTicks:{align:$D,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:$D,minorTickType:QD,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:OD,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});const KF=WF;var YF="milliseconds",XF="seconds",JF="minutes",QF="hours",ZF="days",$F="weeks",ez="months",tz="years",nz=1e3,oz=6e4,iz=36e5,rz=864e5,az=6048e5,sz=26784e5,lz=31536e6,cz={years:lz,months:sz,weeks:az,days:rz,hours:iz,minutes:oz,seconds:nz,milliseconds:1};function dz(e,t){return e.getTime()-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*oz}function uz(e,t){return new Date(e.getTime()+t)}function pz(e){var t;return e instanceof Date?t=e:e&&(t=new Date(e)),t}function hz(e,t){return 0===t&&23===e.getHours()&&(e.setHours(e.getHours()+2),!0)}function mz(e,t,n,o){var i=e;if(e){var r=pz(e),a=r.getHours();n===tz?hz(i=new Date(r.getFullYear()+t,0,1),0):n===ez?hz(i=new Date(r.getFullYear(),r.getMonth()+t,1),a):n===$F?(i=mz(function(e,t){void 0===t&&(t=0);var n=0,o=e.getDay();if(!isNaN(o))for(;o!==t;)0===o?o=6:o--,n++;return uz(e,-n*rz)}(r,o),7*t,ZF),hz(i,a)):n===ZF?hz(i=new Date(r.getFullYear(),r.getMonth(),r.getDate()+t),a):n===QF?i=function(e,t){var n=new Date(e);n.setMinutes(0,0,0);var o=(e.getTimezoneOffset()-n.getTimezoneOffset())*oz;return uz(n,o+t*iz)}(r,t):n===JF?(i=uz(r,t*oz)).getSeconds()>0&&i.setSeconds(0):n===XF?i=uz(r,t*nz):n===YF&&(i=uz(r,t)),n!==YF&&i.getMilliseconds()>0&&i.setMilliseconds(0)}return i}function fz(e,t,n){return mz(pz(e),0,t,n)}function gz(e,t,n){var o=pz(e);return o&&fz(o,t,n).getTime()===o.getTime()?o:mz(o,1,t,n)}function vz(e,t){return e&&t?e.getTime()-t.getTime():-1}function yz(e,t){return e.getTime()-t}function xz(e){if(pN(e)){for(var t=[],n=0;n<e.length;n++)t.push(xz(e[n]));return t}if(e)return pz(e).getTime()}function bz(e,t){return e&&t?xz(e)===xz(t):e===t}function wz(e,t,n){return dz(e,t)/cz[n]}function kz(e,t,n,o){var i=pz(e),r=pz(t);return(n===ez?i.getMonth()-r.getMonth()+12*(i.getFullYear()-r.getFullYear())+wz(i,new Date(i.getFullYear(),i.getMonth()),ZF)/new Date(i.getFullYear(),i.getMonth()+1,0).getDate():n===tz?i.getFullYear()-r.getFullYear()+kz(i,new Date(i.getFullYear(),0),ez,1)/12:n===ZF||n===$F?wz(i,r,n):yz(i,t)/cz[n])/o}function Cz(e,t,n){return n===tz?t.getFullYear()-e.getFullYear():n===ez?12*Cz(e,t,tz)+t.getMonth()-e.getMonth():n===ZF?Math.floor(yz(t,e)/rz):Math.floor(yz(t,e)/cz[n])}function Sz(e,t){return wN(t)&&e.parseDate(t)||pz(t)}function Iz(e,t){if(pN(t)){for(var n=[],o=0;o<t.length;o++)n.push(Sz(e,t[o]));return n}return Sz(e,t)}function Ez(e,t){return bN(e.weekStartDay)?e.weekStartDay:t&&t.firstDay?t.firstDay():0}var jz=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(){this._ticks={}},t.prototype.categoriesHash=function(){return""},t.prototype.clone=function(){var e=new t(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return e.createLabels(),e},t.prototype.initUserOptions=function(e){var t=e.categories||[],n=bP(e.min),o=bP(e.max);if(e.srcCategories=e.categories=t,(n||o)&&t.length){var i,r=n?Math.floor(e.min):0;i=o?e.justified?Math.floor(e.max)+1:Math.ceil(e.max):t.length,e.categories=e.categories.slice(r,i)}return e},t.prototype.rangeIndices=function(){var e=this.options,t=e.categories.length||1;return{min:bN(e.min)?e.min%1:0,max:bN(e.max)&&e.max%1!==0&&e.max<this.totalRange().max?t-(1-e.max%1):t-(e.justified?1:0)}},t.prototype.range=function(){var e=this.options;return{min:bN(e.min)?e.min:0,max:bN(e.max)?e.max:this.totalRange().max}},t.prototype.roundedRange=function(){return this.range()},t.prototype.totalRange=function(){var e=this.options;return{min:0,max:Math.max(this._seriesMax||0,e.srcCategories.length)-(e.justified?1:0)}},t.prototype.scaleOptions=function(){var e=this.rangeIndices(),t=e.min,n=e.max,o=this.lineBox();return{scale:(this.options.vertical?o.height():o.width())/(n-t||1)*(this.options.reverse?-1:1),box:o,min:t,max:n}},t.prototype.arrangeLabels=function(){e.prototype.arrangeLabels.call(this),this.hideOutOfRangeLabels()},t.prototype.hideOutOfRangeLabels=function(){var e=this.box,t=this.labels;if(t.length>0){var n=this.options.vertical?cN:lN,o=e[n+1],i=e[n+2],r=t[0],a=jP(t);(r.box[n+1]>i||r.box[n+2]<o)&&(r.options.visible=!1),(a.box[n+1]>i||a.box[n+2]<o)&&(a.options.visible=!1)}},t.prototype.getMajorTickPositions=function(){return this.getTicks().majorTicks},t.prototype.getMinorTickPositions=function(){return this.getTicks().minorTicks},t.prototype.getLabelsTickPositions=function(){return this.getTicks().labelTicks},t.prototype.tickIndices=function(e){for(var t=this.rangeIndices(),n=t.min,o=t.max,i=Math.ceil(o),r=Math.floor(n),a=[];r<=i;)a.push(r),r+=e;return a},t.prototype.getTickPositions=function(e){for(var t=this.options,n=t.vertical,o=t.reverse,i=this.scaleOptions(),r=i.scale,a=i.box,s=i.min,l=a[(n?cN:lN)+(o?2:1)],c=this.tickIndices(e),d=[],u=0;u<c.length;u++)d.push(l+NP(r*(c[u]-s),3));return d},t.prototype.getTicks=function(){var e=this.options,t=this._ticks,n=this.rangeIndices(),o=this.lineBox(),i=o.getHash()+n.min+","+n.max+e.reverse+e.justified;if(t._hash!==i){var r=e.minorTicks.visible||e.minorGridLines.visible;t._hash=i,t.labelTicks=this.getTickPositions(1),t.majorTicks=this.filterOutOfRangePositions(t.labelTicks,o),t.minorTicks=r?this.filterOutOfRangePositions(this.getTickPositions(.5),o):[]}return t},t.prototype.filterOutOfRangePositions=function(e,t){if(!e.length)return e;for(var n=this.options.vertical?cN:lN,o=function(e){return t[n+1]<=e&&e<=t[n+2]},i=e.length-1,r=0;!o(e[r])&&r<=i;)r++;for(var a=i;!o(e[a])&&a>=0;)a--;return e.slice(r,a+1)},t.prototype.lineInfo=function(){var e=this.options,t=e.vertical,n=e.reverse,o=this.lineBox(),i=t?o.height():o.width(),r=t?cN:lN,a=n?-1:1,s=r+(1===a?1:2).toString();return{axis:r,axisOrigin:s,axisDir:a,lineBox:o,lineSize:i,lineStart:o[s]}},t.prototype.lineDir=function(){return this.options.reverse?-1:1},t.prototype.getSlot=function(e,t,n){var o=this.options,i=o.reverse,r=o.justified,a=this.scaleOptions(),s=a.scale,l=a.box,c=a.min,d=this.lineInfo(),u=d.axis,p=d.lineStart,h=l.clone(),m=!bP(t),f=PP(e,0),g=PP(t,f);g=Math.max(g-1,f);var v=p+(f-c)*s,y=p+((g=Math.max(f,g))+1-c)*s;return m&&r&&(y=v),n&&(v=AP(v,l[u+1],l[u+2]),y=AP(y,l[u+1],l[u+2])),h[u+1]=i?y:v,h[u+2]=i?v:y,h},t.prototype.limitSlot=function(e){var t=this.options.vertical?cN:lN,n=this.lineBox(),o=e.clone();return o[t+1]=AP(e[t+1],n[t+1],n[t+2]),o[t+2]=AP(e[t+2],n[t+1],n[t+2]),o},t.prototype.slot=function(t,n,o){var i=Math.floor(this.options.min||0),r=t,a=n;return"string"===typeof r?r=this.categoryIndex(r):bN(r)&&(r-=i),"string"===typeof a?a=this.categoryIndex(a):bN(a)&&(a-=i),e.prototype.slot.call(this,r,a,o)},t.prototype.pointCategoryIndex=function(e){var t=this.options,n=t.reverse,o=t.justified,i=t.vertical?cN:lN,r=this.scaleOptions(),a=r.scale,s=r.box,l=r.min,c=r.max,d=n?c:l,u=s[i+1],p=s[i+2],h=e[i];if(h<u||h>p)return null;var m=d+(h-u)/a,f=m%1;return o?m=Math.round(m):0===f&&m>0&&m--,Math.floor(m)},t.prototype.getCategory=function(e){var t=this.pointCategoryIndex(e);return null===t?null:this.options.categories[t]},t.prototype.categoryIndex=function(e){return this.totalIndex(e)-Math.floor(this.options.min||0)},t.prototype.categoryAt=function(e,t){var n=this.options;return(t?n.srcCategories:n.categories)[e]},t.prototype.categoriesCount=function(){return(this.options.categories||[]).length},t.prototype.translateRange=function(e){var t=this.options,n=this.lineBox(),o=t.vertical?n.height():n.width(),i=t.categories.length,r=NP(e/(o/i),HD);return{min:r,max:i+r}},t.prototype.scaleRange=function(e,t){var n=Math.abs(this.pointOffset(t)),o=this.limitedRangeIndices(),i=o.max-o.min,r=this.scaleToDelta(e,i),a=n*r,s=(1-n)*r,l=o.min+a,c=o.max-s;return c-l<.1&&(c=l+.1),{min:l,max:c}},t.prototype.zoomRange=function(e,t){var n=this.totalRange(),o=n.min,i=n.max,r=this.scaleRange(e,t);return{min:AP(r.min,o,i),max:AP(r.max,o,i)}},t.prototype.labelsCount=function(){var e=this.labelsRange();return e.max-e.min},t.prototype.labelsRange=function(){var e=this.options,t=e.justified,n=e.labels,o=this.limitedRangeIndices(!0),i=o.min,r=o.max,a=Math.floor(i);return t?(i=Math.ceil(i),r=Math.floor(r)):(i=Math.floor(i),r=Math.ceil(r)),{min:(i>n.skip?n.skip+n.step*Math.ceil((i-n.skip)/n.step):n.skip)-a,max:(e.categories.length?r+(t?1:0):0)-a}},t.prototype.createAxisLabel=function(e,t,n){var o=this.options,i=o.dataItems?o.dataItems[e]:null,r=PP(o.categories[e],"");n.dataItem=i;var a=this.axisLabelText(r,t,n);return new EF(r,a,e,i,t)},t.prototype.shouldRenderNote=function(e){var t=this.limitedRangeIndices();return Math.floor(t.min)<=e&&e<=Math.ceil(t.max)},t.prototype.noteSlot=function(e){var t=this.options,n=e-Math.floor(t.min||0);return this.getSlot(n)},t.prototype.arrangeNotes=function(){e.prototype.arrangeNotes.call(this),this.hideOutOfRangeNotes()},t.prototype.hideOutOfRangeNotes=function(){var e=this.notes,t=this.box;if(e&&e.length)for(var n=this.options.vertical?cN:lN,o=t[n+1],i=t[n+2],r=0;r<e.length;r++){var a=e[r];a.box&&(i<a.box[n+1]||a.box[n+2]<o)&&a.hide()}},t.prototype.pan=function(e){var t=this.limitedRangeIndices(!0),n=this.scaleOptions().scale,o=NP(e/n,HD),i=this.totalRange(),r=t.min+o,a=t.max+o;return this.limitRange(r,a,0,i.max,o)},t.prototype.pointsRange=function(e,t){var n=this.options,o=n.reverse,i=n.vertical?cN:lN,r=this.limitedRangeIndices(!0),a=this.scaleOptions(),s=a.scale,l=a.box[i+(o?2:1)],c=e[i]-l,d=t[i]-l,u=r.min+c/s,p=r.min+d/s,h=Math.min(u,p),m=Math.max(u,p);if(m-h>=.01)return{min:h,max:m}},t.prototype.valueRange=function(){return this.range()},t.prototype.totalIndex=function(e){var t=this.options,n=this._categoriesMap?this._categoriesMap.get(e):function(e,t){if(e instanceof Date){for(var n=t.length,o=0;o<n;o++)if(bz(t[o],e))return o;return-1}return t.indexOf(e)}(e,t.srcCategories);return n},t.prototype.currentRangeIndices=function(){var e=this.options,t=0;return bN(e.min)&&(t=Math.floor(e.min)),{min:t,max:bN(e.max)?e.justified?Math.floor(e.max):Math.ceil(e.max)-1:this.totalCount()-1}},t.prototype.limitedRangeIndices=function(e){var t,n=this.options,o=bN(n.min)?n.min:0;if(t=bN(n.max)?n.max:bN(n.min)?o+n.categories.length:this.totalRange().max||1,e){var i=this.totalRange();o=AP(o,0,i.max),t=AP(t,0,i.max)}return{min:o,max:t}},t.prototype.totalRangeIndices=function(){return{min:0,max:this.totalRange().max||1}},t.prototype.indexCategories=function(){if(!this._categoriesMap)for(var e=this._categoriesMap=new KN,t=this.options.srcCategories,n=0;n<t.length;n++)e.set(t[n],n)},t.prototype.totalCount=function(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)},t}(KF);RP(jz,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:OD},labels:{zIndex:1},justified:!1,_deferLabels:!0});const Az=jz;var _z=3e5,Dz={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Nz=[YF,XF,JF,QF,ZF,$F,ez,tz],Tz="fit";function Pz(e,t){t&&(e._range=void 0);var n=e._range;return n||((n=e._range=UP(e)).min=pz(n.min),n.max=pz(n.max)),n}var Mz=function(e){this.options=e};Mz.prototype.displayIndices=function(){return{min:0,max:1}},Mz.prototype.displayRange=function(){return{}},Mz.prototype.total=function(){return{}},Mz.prototype.valueRange=function(){return{}},Mz.prototype.valueIndex=function(){return-1},Mz.prototype.values=function(){return[]},Mz.prototype.totalIndex=function(){return-1},Mz.prototype.valuesCount=function(){return 0},Mz.prototype.totalCount=function(){return 0},Mz.prototype.dateAt=function(){return null};var Oz=function(e,t,n){this.options=n,n.baseUnitStep=n.baseUnitStep||1;var o=n.roundToBaseUnit,i=n.justified;this.start=mz(e,0,n.baseUnit,n.weekStartDay);var r=this.roundToTotalStep(t),a=!i&&bz(t,r)&&!n.justifyEnd;this.end=this.roundToTotalStep(t,!i,a?1:0);var s=n.min||e;this.valueStart=this.roundToTotalStep(s),this.displayStart=o?this.valueStart:s;var l=n.max;if(l){var c=!i&&bz(l,this.roundToTotalStep(l))?-1:0;this.valueEnd=this.roundToTotalStep(l,!1,c),this.displayEnd=o?this.roundToTotalStep(l,!i):n.max}else this.valueEnd=r,this.displayEnd=o||a?this.end:t;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))};function Rz(e,t,n){for(var o,i,r,a=Pz(e.categories),s=(e.max||a.max)-(e.min||a.min),l=e.autoBaseUnitSteps,c=e.maxDateGroups,d=e.baseUnit===Tz,u=t?Nz.indexOf(t):0,p=d?Nz[u++]:e.baseUnit,h=s/cz[p],m=h;!i||h>=c;){o=o||l[p].slice(0);do{r=o.shift()}while(r&&t===p&&r<n);if(r)h=m/(i=r);else{if(p===jP(Nz)){i=Math.ceil(m/c);break}if(!d){h>c&&(i=Math.ceil(m/c));break}p=Nz[u++]||jP(Nz),m=s/cz[p],o=null}}e.baseUnitStep=i,e.baseUnit=p}function Lz(e){var t=(e.baseUnit||"").toLowerCase();return t!==Tz&&!YN(t,Nz)&&function(e){for(var t,n,o=e.categories,i=bP(o)?o.length:0,r=XD,a=0;a<i;a++){var s=o[a];if(s&&t){var l=Math.abs(dz(s,t));0!==l&&(n=(r=Math.min(r,l))>=lz?tz:r>=24192e5?ez:r>=az?$F:r>=rz?ZF:r>=iz?QF:r>=oz?JF:XF)}t=s}e.baseUnit=n||ZF}(e),t!==Tz&&"auto"!==e.baseUnitStep||Rz(e),e}Oz.prototype.displayRange=function(){return{min:this.displayStart,max:this.displayEnd}},Oz.prototype.displayIndices=function(){if(!this._indices){var e=this.options,t=e.baseUnit,n=e.baseUnitStep,o=kz(this.displayStart,this.valueStart,t,n),i=kz(this.displayEnd,this.valueStart,t,n);this._indices={min:o,max:i}}return this._indices},Oz.prototype.total=function(){return{min:this.start,max:this.end}},Oz.prototype.totalCount=function(){return this.totalIndex(this.end)+(this.options.justified?1:0)},Oz.prototype.valueRange=function(){return{min:this.valueStart,max:this.valueEnd}},Oz.prototype.valueIndex=function(e){var t=this.options;return Math.floor(kz(e,this.valueStart,t.baseUnit,t.baseUnitStep))},Oz.prototype.totalIndex=function(e){var t=this.options;return Math.floor(kz(e,this.start,t.baseUnit,t.baseUnitStep))},Oz.prototype.dateIndex=function(e){var t=this.options;return kz(e,this.valueStart,t.baseUnit,t.baseUnitStep)},Oz.prototype.valuesCount=function(){return this.valueIndex(this.valueEnd)+1},Oz.prototype.values=function(){var e=this._values;if(!e){var t=this.options,n=this.valueRange();this._values=e=[];for(var o=n.min;o<=n.max;)e.push(o),o=mz(o,t.baseUnitStep,t.baseUnit,t.weekStartDay)}return e},Oz.prototype.dateAt=function(e,t){var n=this.options;return mz(t?this.start:this.valueStart,n.baseUnitStep*e,n.baseUnit,n.weekStartDay)},Oz.prototype.roundToTotalStep=function(e,t,n){var o=this.options,i=o.baseUnit,r=o.baseUnitStep,a=o.weekStartDay,s=this.start,l=kz(e,s,i,r),c=t?Math.ceil(l):Math.floor(l);return n&&(c+=n),mz(s,c*r,i,a)};var Fz=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){var e=new t(Object.assign({},this.options),this.chartService);return e.createLabels(),e},t.prototype.categoriesHash=function(){var e=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+e},t.prototype.initUserOptions=function(e){return e},t.prototype.initFields=function(){e.prototype.initFields.call(this);var t=this.chartService,n=t.intl,o=this.options,i=o.categories||[];if(i._parsed||((i=Iz(n,i))._parsed=!0),o=_N({roundToBaseUnit:!0},o,{categories:i,min:Sz(n,o.min),max:Sz(n,o.max),weekStartDay:Ez(o,n)}),t.panning&&t.isPannable(o.vertical?cN:lN)&&(o.roundToBaseUnit=!1),o.userSetBaseUnit=o.userSetBaseUnit||o.baseUnit,o.userSetBaseUnitStep=o.userSetBaseUnitStep||o.baseUnitStep,this.options=o,o.srcCategories=i,i.length>0){var r=Pz(i,!0),a=o.maxDivisions,s=Lz(o),l=o._forecast;if(l&&(l.before>0&&(r.min=mz(r.min,-l.before,s.baseUnit,s.weekStartDay)),l.after>0&&(r.max=mz(r.max,l.after,s.baseUnit,s.weekStartDay))),this.dataRange=new Oz(r.min,r.max,s),a){var c=this.dataRange.displayRange(),d=Object.assign({},o,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:c.min,max:c.max,maxDateGroups:a}),u=this.dataRange.options;Rz(d,u.baseUnit,u.baseUnitStep),this.divisionRange=new Oz(r.min,r.max,d)}else this.divisionRange=this.dataRange}else o.baseUnit=o.baseUnit||ZF,this.dataRange=this.divisionRange=new Mz(o);this.rangeLabels=[]},t.prototype.tickIndices=function(t){var n=this.dataRange,o=this.divisionRange,i=o.valuesCount();if(!this.options.maxDivisions||!i)return e.prototype.tickIndices.call(this,t);var r=[],a=o.values(),s=0;this.options.justified||(a=a.concat(o.dateAt(i)),s=.5);for(var l=0;l<a.length;l++)if(r.push(n.dateIndex(a[l])+s),1!==t&&l>=1){var c=r.length-1;r.splice(l,0,r[c-1]+(r[c]-r[c-1])*t)}return r},t.prototype.shouldRenderNote=function(e){var t=this.range(),n=this.options.categories||[];return vz(e,t.min)>=0&&vz(e,t.max)<=0&&n.length},t.prototype.parseNoteValue=function(e){return Sz(this.chartService.intl,e)},t.prototype.noteSlot=function(e){return this.getSlot(e)},t.prototype.translateRange=function(e){var t=this.options,n=t.baseUnit,o=t.weekStartDay,i=t.vertical,r=this.lineBox(),a=i?r.height():r.width(),s=this.range(),l=a/(s.max-s.min),c=NP(e/l,HD);if(s.min&&s.max){var d=uz(t.min||s.min,c),u=uz(t.max||s.max,c);s={min:mz(d,0,n,o),max:mz(u,0,n,o)}}return s},t.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}},t.prototype.pan=function(e){if(this.isEmpty())return null;var t=this.options,n=this.lineBox(),o=t.vertical?n.height():n.width(),i=this.dataRange.displayRange(),r=i.min,a=i.max,s=this.dataRange.total(),l=NP(e/(o/(a-r)),HD)*(t.reverse?-1:1),c=uz(r,l),d=uz(a,l),u=this.limitRange(xz(c),xz(d),xz(s.min),xz(s.max),l);return u?(u.min=pz(u.min),u.max=pz(u.max),u.baseUnit=t.baseUnit,u.baseUnitStep=t.baseUnitStep||1,u.userSetBaseUnit=t.userSetBaseUnit,u.userSetBaseUnitStep=t.userSetBaseUnitStep,u):void 0},t.prototype.pointsRange=function(t,n){if(this.isEmpty())return null;var o=e.prototype.pointsRange.call(this,t,n),i=this.dataRange.displayRange(),r=this.dataRange.displayIndices(),a=yz(i.max,i.min)/(r.max-r.min),s=this.options;return{min:uz(i.min,o.min*a),max:uz(i.min,o.max*a),baseUnit:s.userSetBaseUnit||s.baseUnit,baseUnitStep:s.userSetBaseUnitStep||s.baseUnitStep}},t.prototype.scaleRange=function(e,t){if(this.isEmpty())return{};var n=this.options,o=n.userSetBaseUnit===Tz,i=this.dataRange.total(),r=this.dataRange.displayRange(),a=r.min,s=r.max,l=Math.abs(this.pointOffset(t)),c=s-a,d=this.scaleToDelta(e,c),u=Math.round(l*d),p=Math.round((1-l)*d),h=this.dataRange.options.baseUnit,m=new Date(a.getTime()+u),f=new Date(s.getTime()-p);if(o){var g,v,y=n.autoBaseUnitSteps,x=n.maxDateGroups,b=jP(y[h])*x*cz[h],w=yz(s,a),k=yz(f,m),C=Nz.indexOf(h);if(k<cz[h]&&h!==YF)h=Nz[C-1],m=uz(a,v=(w-(x-1)*(g=jP(y[h]))*cz[h])/2),f=uz(s,-v);else if(k>b&&h!==tz){var S=0;do{C++,h=Nz[C],S=0,v=2*cz[h];do{g=y[h][S],S++}while(S<y[h].length&&v*g<w)}while(h!==tz&&v*g<w);(v=(v*g-w)/2)>0&&(m=uz(a,-v),f=uz(s,v),m=uz(m,AP(f,i.min,i.max)-f),f=uz(f,AP(m,i.min,i.max)-m))}}return m&&f&&yz(f,m)>0?{min:m,max:f,baseUnit:n.userSetBaseUnit||n.baseUnit,baseUnitStep:n.userSetBaseUnitStep||n.baseUnitStep}:void 0},t.prototype.zoomRange=function(e,t){var n=this.dataRange.total(),o=this.scaleRange(e,t);return o&&(o.min<n.min&&(o.min=n.min),o.max>n.max&&(o.max=n.max)),o},t.prototype.range=function(){return this.dataRange.displayRange()},t.prototype.createLabels=function(){e.prototype.createLabels.call(this),this.createRangeLabels()},t.prototype.clearLabels=function(){e.prototype.clearLabels.call(this),this.rangeLabels=[]},t.prototype.arrangeLabels=function(){this.arrangeRangeLabels(),e.prototype.arrangeLabels.call(this)},t.prototype.arrangeRangeLabels=function(){var e=this.options,t=this.rangeLabels;if(0!==t.length){var n=this.lineBox(),o=e.vertical,i=e.rangeLabels.mirror||e.labels.mirror,r=t[0];if(r){var a=o?n.y1-r.box.height()/2:n.x1;this.positionLabel(r,i,a)}var s=t[1];if(s){var l=o?n.y2-s.box.height()/2:n.x2;this.positionLabel(s,i,l)}}},t.prototype.autoRotateLabels=function(){e.prototype.autoRotateLabels.call(this),this.autoRotateRangeLabels()},t.prototype.hideOutOfRangeLabels=function(){e.prototype.hideOutOfRangeLabels.call(this),this.hideOverlappingLabels()},t.prototype.hideOverlappingLabels=function(){var e=this.rangeLabels,t=this.labels;if(0!==e.length){var n=e[0];if(n&&n.options.visible)for(var o=0;o<t.length;o++){if(!a(n,t[o]))break}var i=e[1];if(i&&i.options.visible)for(var r=t.length-1;r>0;--r){if(!a(i,t[r]))break}}function a(e,t){return!(t.options.visible&&!t.box.overlaps(e.box))&&(t.options.visible=!1,!0)}},t.prototype.contentBox=function(){for(var t=e.prototype.contentBox.call(this),n=this.rangeLabels,o=0;o<n.length;o++){var i=n[o];i.options.visible&&t.wrap(i.box)}return t},t.prototype.createAxisLabel=function(e,t,n){void 0===n&&(n={});var o=this.options,i=o.dataItems&&!o.maxDivisions?o.dataItems[e]:null,r=this.divisionRange.dateAt(e),a=t.dateFormats[this.divisionRange.options.baseUnit];t.format=t.format||a,n.dataItem=i;var s=this.axisLabelText(r,t,n);if(s)return new EF(r,s,e,i,t)},t.prototype.createRangeLabels=function(){var e=this,t=this.divisionRange,n=t.displayStart,o=t.displayEnd,i=this.options,r=Object.assign({},i.labels,i.rangeLabels,{align:LD,zIndex:i.zIndex});if(!0===r.visible){this.normalizeLabelRotation(r),r.alignRotation=LD,"auto"===r.rotation&&(r.rotation=0,i.autoRotateRangeLabels=!0);var a=r.dateFormats[this.divisionRange.options.baseUnit];r.format=r.format||a;var s=function(t,n,o){if(o){var i=new EF(n,o,t,null,r);e.append(i),e.rangeLabels.push(i)}};s(0,n,this.axisLabelText(n,r,{index:0,count:2})),s(1,o,this.axisLabelText(o,r,{index:1,count:2}))}},t.prototype.autoRotateRangeLabels=function(){var e=this,t=this.rangeLabels;if(this.options.autoRotateRangeLabels&&!this.options.vertical&&2===t.length){var n=function(t,n,o){var i=2*Math.abs(n[o+1]-n[o]),r=e.autoRotateLabelAngle(t.box,i);0!==r&&(t.options.rotation=r,t.reflow(new IO))},o=this.getMajorTickPositions();n(t[0],o,0),n(t[1],o,o.length-2)}},t.prototype.categoryIndex=function(e){return this.dataRange.valueIndex(e)},t.prototype.slot=function(e,t,n){var o=this.dataRange,i=e,r=t;i instanceof Date&&(i=o.dateIndex(i)),r instanceof Date&&(r=o.dateIndex(r));var a=this.getSlot(i,r,n);if(a)return a.toRect()},t.prototype.getSlot=function(t,n,o){var i=t,r=n;return typeof i===ZD&&(i=this.categoryIndex(i)),typeof r===ZD&&(r=this.categoryIndex(r)),e.prototype.getSlot.call(this,i,r,o)},t.prototype.valueRange=function(){var e=Pz(this.options.srcCategories);return{min:pz(e.min),max:pz(e.max)}},t.prototype.categoryAt=function(e,t){return this.dataRange.dateAt(e,t)},t.prototype.categoriesCount=function(){return this.dataRange.valuesCount()},t.prototype.rangeIndices=function(){return this.dataRange.displayIndices()},t.prototype.labelsBetweenTicks=function(){return!this.divisionRange.options.justified},t.prototype.prepareUserOptions=function(){this.isEmpty()||(this.options.categories=this.dataRange.values())},t.prototype.getCategory=function(e){var t=this.pointCategoryIndex(e);return null===t?null:this.dataRange.dateAt(t)},t.prototype.totalIndex=function(e){return this.dataRange.totalIndex(e)},t.prototype.currentRangeIndices=function(){var e=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(e.min),max:this.dataRange.totalIndex(e.max)}},t.prototype.totalRange=function(){return this.dataRange.total()},t.prototype.totalRangeIndices=function(){var e=this.dataRange.total();return{min:this.dataRange.totalIndex(e.min),max:this.dataRange.totalIndex(e.max)}},t.prototype.totalCount=function(){return this.dataRange.totalCount()},t.prototype.isEmpty=function(){return!this.options.srcCategories.length},t.prototype.roundedRange=function(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();var e=this.options,t=Pz(e.srcCategories);return new Oz(t.min,t.max,Object.assign({},e,{justified:!1,roundToBaseUnit:!0,justifyEnd:!1})).displayRange()},t}(Az);RP(Fz,{type:BD,labels:{dateFormats:Dz},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});const zz=Fz;function Bz(e,t){return NP(Math.floor(e/t)*t,HD)}function Vz(e,t){return NP(Math.ceil(e/t)*t,HD)}function Hz(e){return Math.max(Math.min(e,_z),-3e5)}var qz=Math.pow(10,-9),Uz=function(e){function t(t,n,o,i){e.call(this,Object.assign({},o,{seriesMin:t,seriesMax:n}),i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initUserOptions=function(e){var t=function(e,t,n){var o=n.narrowRange,i=function(e,t,n){if(!e&&!t)return 0;var o;if(e>=0&&t>=0){var i=e===t?0:e;if(!1===n||!n&&(t-i)/t>.2)return 0;o=Math.max(0,i-(t-i)/2)}else o=e;return o}(e,t,o),r=function(e,t,n){if(!e&&!t)return 1;var o;if(e<=0&&t<=0){var i=e===t?0:t,r=Math.abs((i-e)/i);if(!1===n||!n&&r>.2)return 0;o=Math.min(0,i-(e-i)/2)}else o=t;return o}(e,t,o),a=cO(i,r),s={majorUnit:a};!1!==n.roundToMajorUnit&&(i<0&&Gz(i,a,1/3)&&(i-=a),r>0&&Gz(r,a,1/3)&&(r+=a));return s.min=Bz(i,a),s.max=Vz(r,a),s}(e.seriesMin,e.seriesMax,e);return this.totalOptions=function(e,t){return{min:bP(t.min)?Math.min(e.min,t.min):e.min,max:bP(t.max)?Math.max(e.max,t.max):e.max,majorUnit:e.majorUnit}}(t,e),function(e,t){var n,o,i=t;if(t){!function(e,t){for(var n=0;n<t.length;n++){var o=t[n];null===e[o]&&(e[o]=void 0)}}(t,["min","max"]),n=bP(t.min),o=bP(t.max);var r=n||o;r&&t.min===t.max&&(t.min>0?t.min=0:t.max=1),t.majorUnit?(e.min=Bz(e.min,t.majorUnit),e.max=Vz(e.max,t.majorUnit)):r&&(i=_N(e,t),e.majorUnit=cO(i.min,i.max))}e.minorUnit=(i.majorUnit||e.majorUnit)/5;var a=_N(e,i);a.min>=a.max&&(n&&!o?a.max=a.min+a.majorUnit:!n&&o&&(a.min=a.max-a.majorUnit));return a}(t,e)},t.prototype.initFields=function(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax},t.prototype.clone=function(){return new t(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},t.prototype.startValue=function(){return 0},t.prototype.range=function(){var e=this.options;return{min:e.min,max:e.max}},t.prototype.getDivisions=function(e){if(0===e)return 1;var t=this.options,n=t.max-t.min;return Math.floor(NP(n/e,3))+1},t.prototype.getTickPositions=function(e,t){var n=this.options,o=this.lineInfo(),i=o.axisDir,r=o.axisOrigin,a=o.lineBox,s=e*(o.lineSize/(n.max-n.min)),l=this.getDivisions(e),c=[],d=a[r],u=0;t&&(u=t/e);for(var p=0;p<l;p++)p%u!==0&&c.push(NP(d,3)),d+=s*i;return c},t.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},t.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},t.prototype.getSlot=function(e,t,n){void 0===n&&(n=!1);var o=this.options,i=this.lineInfo(),r=i.axis,a=i.axisDir,s=i.lineBox,l=i.lineSize,c=i.lineStart,d=a*(l/(o.max-o.min)),u=PP(e,t||0),p=PP(t,e||0);n&&(u=AP(u,o.min,o.max),p=AP(p,o.min,o.max));var h=Math.min(u,p)-o.min,m=Math.max(u,p)-o.min,f=new IO(s.x1,s.y1,s.x1,s.y1);return f[r+1]=Hz(c+d*(a>0?h:m)),f[r+2]=Hz(c+d*(a>0?m:h)),f},t.prototype.getValue=function(e){var t=this.options,n=Number(t.max),o=Number(t.min),i=this.pointOffset(e);return i<0||i>1?null:NP(o+i*(n-o),HD)},t.prototype.translateRange=function(e){var t=this.options,n=t.vertical,o=t.reverse,i=t.max,r=t.min,a=this.lineInfo().lineSize,s=NP(e/(a/(i-r)),HD);return!n&&!o||n&&o||(s=-s),{min:r+s,max:i+s,offset:s}},t.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},t.prototype.createAxisLabel=function(e,t,n){var o=this.options,i=NP(o.min+e*o.majorUnit,HD),r=this.axisLabelText(i,t,n);return new EF(i,r,e,null,t)},t.prototype.shouldRenderNote=function(e){var t=this.range();return t.min<=e&&e<=t.max},t.prototype.pan=function(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)},t.prototype.pointsRange=function(e,t){var n=this.getValue(e),o=this.getValue(t),i=Math.min(n,o),r=Math.max(n,o);if(this.isValidRange(i,r))return{min:i,max:r}},t.prototype.scaleRange=function(e,t){var n=Math.abs(this.pointOffset(t)),o=this.options.max-this.options.min,i=this.scaleToDelta(e,o),r=n*i,a=(1-n)*i,s=NP(this.options.min+r,HD),l=NP(this.options.max-a,HD);return l-s<qz&&(l=s+qz),{min:s,max:l}},t.prototype.zoomRange=function(e,t){var n=this.totalMin,o=this.totalMax,i=this.scaleRange(e,t);return{min:AP(i.min,n,o),max:AP(i.max,n,o),narrowRange:!1}},t.prototype.isValidRange=function(e,t){return t-e>qz},t}(KF);function Gz(e,t,n){var o=NP(Math.abs(e%t),HD);return 0===o||o>t*(1-n)}RP(Uz,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:OD},labels:{format:"#.####################"},zIndex:1});const Wz=Uz;var Kz=function(e){function t(t,n,o,i){var r=pz(t),a=pz(n),s=i.intl,l=o||{};l=function(e,t,n){var o=n.min||e,i=n.max||t,r=n.baseUnit||(i&&o?function(e){var t=QF;e>=lz?t=tz:e>=sz?t=ez:e>=az?t=$F:e>=rz&&(t=ZF);return t}(dz(i,o)):QF),a=cz[r],s=n.weekStartDay||0,l=fz(xz(o)-1,r,s)||pz(i),c=gz(xz(i)+1,r,s),d=n.majorUnit?n.majorUnit:void 0,u=d||Vz(cO(l.getTime(),c.getTime()),a)/a,p=Cz(l,c,r),h=Vz(p,u)-p,m=Math.floor(h/2),f=h-m;n.baseUnit||delete n.baseUnit;return n.baseUnit=n.baseUnit||r,n.min=n.min||mz(l,-m,r,s),n.max=n.max||mz(c,f,r,s),n.minorUnit=n.minorUnit||u/5,n.majorUnit=u,n}(r,a,l=_N(l||{},{min:Sz(s,l.min),max:Sz(s,l.max),axisCrossingValue:Iz(s,l.axisCrossingValues||l.axisCrossingValue),weekStartDay:Ez(l,s)})),e.call(this,l,i),this.intlService=s,this.seriesMin=r,this.seriesMax=a;var c=l.weekStartDay||0;this.totalMin=xz(fz(xz(r)-1,l.baseUnit,c)),this.totalMax=xz(gz(xz(a)+1,l.baseUnit,c))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},t.prototype.range=function(){var e=this.options;return{min:e.min,max:e.max}},t.prototype.getDivisions=function(e){var t=this.options;return Math.floor(Cz(t.min,t.max,t.baseUnit)/e+1)},t.prototype.getTickPositions=function(e){for(var t=this.options,n=this.lineInfo(),o=n.axisDir,i=n.lineSize,r=n.lineStart,a=this.getDivisions(e),s=i/yz(t.max,t.min),l=t.weekStartDay||0,c=[r],d=1;d<a;d++){var u=r+yz(mz(t.min,d*e,t.baseUnit,l),t.min)*s*o;c.push(NP(u,3))}return c},t.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},t.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},t.prototype.getSlot=function(e,t,n){return Wz.prototype.getSlot.call(this,Sz(this.intlService,e),Sz(this.intlService,t),n)},t.prototype.getValue=function(e){var t=Wz.prototype.getValue.call(this,e);return null!==t?pz(t):null},t.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},t.prototype.createAxisLabel=function(e,t,n){var o=this.options,i=e*o.majorUnit,r=o.weekStartDay||0,a=o.min;i>0&&(a=mz(a,i,o.baseUnit,r));var s=t.dateFormats[o.baseUnit];t.format=t.format||s;var l=this.axisLabelText(a,t,n);return new EF(a,l,e,null,t)},t.prototype.translateRange=function(e){var t=this.options,n=this.lineBox(),o=t.vertical,i=t.reverse,r=o?n.height():n.width(),a=this.range(),s=r/yz(a.max,a.min),l=NP(e/s,HD);return!o&&!i||o&&i||(l=-l),{min:uz(t.min,l),max:uz(t.max,l),offset:l}},t.prototype.shouldRenderNote=function(e){var t=this.range();return vz(e,t.min)>=0&&vz(e,t.max)<=0},t.prototype.pan=function(e){var t=this.translateRange(e,!0),n=this.limitRange(xz(t.min),xz(t.max),this.totalMin,this.totalMax,t.offset);if(n)return{min:pz(n.min),max:pz(n.max)}},t.prototype.pointsRange=function(e,t){var n=this.getValue(e),o=this.getValue(t),i=Math.min(n,o),r=Math.max(n,o);return{min:pz(i),max:pz(r)}},t.prototype.scaleRange=function(e,t){var n=Math.abs(this.pointOffset(t)),o=this.options.max-this.options.min,i=this.scaleToDelta(e,o),r=n*i,a=(1-n)*i,s=pz(xz(this.options.min)+r),l=pz(xz(this.options.max)-a);return l-s<1e3&&(l=pz(xz(s)+1e3)),{min:s,max:l}},t.prototype.zoomRange=function(e,t){var n=this.scaleRange(e,t);return{min:pz(AP(xz(n.min),this.totalMin,this.totalMax)),max:pz(AP(xz(n.max),this.totalMin,this.totalMax))}},t}(KF);RP(Kz,{type:BD,majorGridLines:{visible:!0,width:1,color:OD},labels:{dateFormats:Dz}});const Yz=Kz;var Xz=1e-6,Jz=function(e){function t(t,n,o,i){var r=_N({majorUnit:10,min:t,max:n},o),a=r.majorUnit,s=function(e,t){var n,o=NP(Zz(e,t),HD)%1;n=e<=0?t:0!==o&&(o<.3||o>.9)?Math.pow(t,Zz(e,t)+.2):Math.pow(t,Math.ceil(Zz(e,t)));return n}(n,a),l=function(e,t,n){var o=n.majorUnit,i=e;e<=0?i=t<=1?Math.pow(o,-2):1:n.narrowRange||(i=Math.pow(o,Math.floor(Zz(e,o))));return i}(t,n,r),c=function(e,t,n,o){var i=n.min,r=n.max;bP(n.axisCrossingValue)&&n.axisCrossingValue<=0&&Qz();bP(o.max)?o.max<=0&&Qz():r=t;bP(o.min)?o.min<=0&&Qz():i=e;return{min:i,max:r}}(l,s,r,o);r.max=c.max,r.min=c.min,r.minorUnit=o.minorUnit||NP(a-1,HD),e.call(this,r,i),this.totalMin=bP(o.min)?Math.min(l,o.min):l,this.totalMax=bP(o.max)?Math.max(s,o.max):s,this.logMin=NP(Zz(c.min,a),HD),this.logMax=NP(Zz(c.max,a),HD),this.seriesMin=t,this.seriesMax=n,this.createLabels()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},t.prototype.startValue=function(){return this.options.min},t.prototype.getSlot=function(e,t,n){var o=this,i=o.options,r=o.logMin,a=o.logMax,s=i.majorUnit,l=i.min,c=i.max,d=this.lineInfo(),u=d.axis,p=d.axisDir,h=d.lineBox,m=d.lineSize,f=d.lineStart,g=p*(m/(a-r)),v=PP(e,t||1),y=PP(t,e||1);if(v<=0||y<=0)return null;n&&(v=AP(v,l,c),y=AP(y,l,c)),v=Zz(v,s),y=Zz(y,s);var x=Math.min(v,y)-r,b=Math.max(v,y)-r,w=new IO(h.x1,h.y1,h.x1,h.y1);return w[u+1]=Hz(f+g*(p>0?x:b)),w[u+2]=Hz(f+g*(p>0?b:x)),w},t.prototype.getValue=function(e){var t=this,n=t.options,o=t.logMin,i=t.logMax,r=n.majorUnit,a=this.lineInfo(),s=a.axis,l=a.axisDir,c=a.lineStart,d=a.lineSize,u=(i-o)/d,p=l*(e[s]-c);if(p<0||p>d)return null;var h=o+p*u;return NP(Math.pow(r,h),HD)},t.prototype.range=function(){var e=this.options;return{min:e.min,max:e.max}},t.prototype.translateRange=function(e){var t=this,n=t.options,o=t.logMin,i=t.logMax,r=n.reverse,a=n.vertical,s=n.majorUnit,l=this.lineBox(),c=a?l.height():l.width(),d=NP(e/(c/(i-o)),HD);return!a&&!r||a&&r||(d=-d),{min:Math.pow(s,o+d),max:Math.pow(s,i+d),offset:d}},t.prototype.labelsCount=function(){var e=Math.floor(this.logMax);return Math.floor(e-this.logMin)+1},t.prototype.getMajorTickPositions=function(){var e=[];return this.traverseMajorTicksPositions(function(t){e.push(t)},{step:1,skip:0}),e},t.prototype.createTicks=function(e){var t=this.options,n=t.majorTicks,o=t.minorTicks,i=t.vertical,r=t.labels.mirror,a=this.lineBox(),s={vertical:i};function l(t,n){s.tickX=r?a.x2:a.x2-n.size,s.tickY=r?a.y1-n.size:a.y1,s.position=t,e.append(UF(s,n))}return n.visible&&this.traverseMajorTicksPositions(l,n),o.visible&&this.traverseMinorTicksPositions(l,o),[]},t.prototype.createGridLines=function(e){var t=this.options,n=t.minorGridLines,o=t.majorGridLines,i=t.vertical,r=e.lineBox(),a={lineStart:r[i?"x1":"y1"],lineEnd:r[i?"x2":"y2"],vertical:i},s=[],l=this.gridLinesVisual();function c(e,t){YN(e,s)||(a.position=e,l.append(GF(a,t)),s.push(e))}return o.visible&&this.traverseMajorTicksPositions(c,o),n.visible&&this.traverseMinorTicksPositions(c,n),l.children},t.prototype.traverseMajorTicksPositions=function(e,t){for(var n=this.lineInfo(),o=n.lineStart,i=n.step,r=this.logMin,a=this.logMax,s=Math.ceil(r)+t.skip;s<=a;s+=t.step){e(NP(o+i*(s-r),HD),t)}},t.prototype.traverseMinorTicksPositions=function(e,t){for(var n=this.options,o=n.min,i=n.max,r=n.minorUnit,a=n.majorUnit,s=this.lineInfo(),l=s.lineStart,c=s.step,d=this.logMin,u=this.logMax,p=Math.floor(d);p<u;p++)for(var h=this._minorIntervalOptions(p),m=t.skip;m<r;m+=t.step){var f=h.value+m*h.minorStep;if(f>i)break;if(f>=o)e(NP(l+c*(Zz(f,a)-d),HD),t)}},t.prototype.createAxisLabel=function(e,t,n){var o=Math.ceil(this.logMin+e),i=Math.pow(this.options.majorUnit,o),r=this.axisLabelText(i,t,n);return new EF(i,r,e,null,t)},t.prototype.shouldRenderNote=function(e){var t=this.range();return t.min<=e&&e<=t.max},t.prototype.pan=function(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)},t.prototype.pointsRange=function(e,t){var n=this.getValue(e),o=this.getValue(t);return{min:Math.min(n,o),max:Math.max(n,o)}},t.prototype.scaleRange=function(e,t){var n=this.options.majorUnit,o=Zz(this.options.min,n),i=Zz(this.options.max,n),r=Math.abs(this.pointOffset(t)),a=i-o,s=this.scaleToDelta(e,a),l=Math.pow(n,o+r*s),c=Math.pow(n,i-(1-r)*s);return c-l<Xz&&(c=l+Xz),{min:l,max:c}},t.prototype.zoomRange=function(e,t){var n=this.scaleRange(e,t),o=this.totalMin,i=this.totalMax;return{min:AP(n.min,o,i),max:AP(n.max,o,i)}},t.prototype._minorIntervalOptions=function(e){var t=this.options,n=t.minorUnit,o=t.majorUnit,i=Math.pow(o,e);return{value:i,minorStep:(Math.pow(o,e+1)-i)/n}},t.prototype.lineInfo=function(){var t=e.prototype.lineInfo.call(this);return t.step=t.axisDir*(t.lineSize/(this.logMax-this.logMin)),t},t}(KF);function Qz(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function Zz(e,t){return Math.log(e)/Math.log(t)}RP(Jz,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:OD},zIndex:1,_deferLabels:!0});const $z=Jz;var eB={createGridLines:function(e){var t,n,o=this.options,i=Math.abs(this.box.center().y-e.lineBox().y1),r=[],a=!1;return o.majorGridLines.visible&&(t=this.majorGridLineAngles(e),a=!0,r=this.renderMajorGridLines(t,i,o.majorGridLines)),o.minorGridLines.visible&&(n=this.minorGridLineAngles(e,a),yP(r,this.renderMinorGridLines(n,i,o.minorGridLines,e,a))),r},renderMajorGridLines:function(e,t,n){return this.renderGridLines(e,t,n)},renderMinorGridLines:function(e,t,n,o,i){var r=this.radiusCallback&&this.radiusCallback(t,o,i);return this.renderGridLines(e,t,n,r)},renderGridLines:function(e,t,n,o){for(var i={stroke:{width:n.width,color:n.color,dashType:n.dashType}},r=this.box.center(),a=new QR([r.x,r.y],t),s=this.gridLinesVisual(),l=0;l<e.length;l++){var c=new GR(i);o&&(a.radius=o(e[l])),c.moveTo(a.center).lineTo(a.pointAt(e[l]+180)),s.append(c)}return s.children},gridLineAngles:function(e,t,n,o,i){var r=this,a=this.intervals(t,n,o,i),s=e.options,l=s.visible&&!1!==(s.line||{}).visible;return eT(a,function(e){var t=r.intervalAngle(e);if(!l||90!==t)return t})}};const tB=eB;var nB=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.range=function(){return{min:0,max:this.options.categories.length}},t.prototype.reflow=function(e){this.box=e,this.reflowLabels()},t.prototype.lineBox=function(){return this.box},t.prototype.reflowLabels=function(){for(var e=this.labels,t=this.options.labels,n=t.skip||0,o=t.step||1,i=new IO,r=0;r<e.length;r++){e[r].reflow(i);var a=e[r].box;e[r].reflow(this.getSlot(n+r*o).adjacentBox(0,a.width(),a.height()))}},t.prototype.intervals=function(e,t,n,o){void 0===o&&(o=!1);for(var i=this.options,r=i.categories.length/e||1,a=360/r,s=n||1,l=[],c=0,d=t||0;d<r;d+=s)c=i.reverse?360-d*a:d*a,c=NP(c,3)%360,o&&YN(c,o)||l.push(c);return l},t.prototype.majorIntervals=function(){return this.intervals(1)},t.prototype.minorIntervals=function(){return this.intervals(.5)},t.prototype.intervalAngle=function(e){return(360+e+this.options.startAngle)%360},t.prototype.majorAngles=function(){var e=this;return eT(this.majorIntervals(),function(t){return e.intervalAngle(t)})},t.prototype.createLine=function(){return[]},t.prototype.majorGridLineAngles=function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,1,t.skip,t.step)},t.prototype.minorGridLineAngles=function(e,t){var n=this.options,o=n.minorGridLines,i=n.majorGridLines,r=t?this.intervals(1,i.skip,i.step):null;return this.gridLineAngles(e,.5,o.skip,o.step,r)},t.prototype.radiusCallback=function(e,t,n){if(t.options.type!==_D){var o=DP(360/(2*this.options.categories.length)),i=Math.cos(o)*e,r=this.majorAngles(),a=function(t){return!n&&YN(t,r)?e:i};return a}},t.prototype.createPlotBands=function(){for(var e=this.options.plotBands||[],t=this._plotbandGroup=new iL({zIndex:-1}),n=0;n<e.length;n++){var o=e[n],i=this.plotBandSlot(o),r=this.getSlot(o.from),a=o.from-Math.floor(o.from);i.startAngle+=a*r.angle;var s=Math.ceil(o.to)-o.to;i.angle-=(s+a)*r.angle;var l=YR.current.createRing(i,{fill:{color:o.color,opacity:o.opacity},stroke:{opacity:o.opacity}});t.append(l)}this.appendVisual(t)},t.prototype.plotBandSlot=function(e){return this.getSlot(e.from,e.to-1)},t.prototype.getSlot=function(e,t){var n=this.options,o=n.justified,i=this.box,r=this.majorAngles(),a=r.length,s=360/a,l=e;n.reverse&&!o&&(l=(l+1)%a);var c=r[l=AP(Math.floor(l),0,a-1)];o&&(c-=s/2)<0&&(c+=360);var d=s*(AP(Math.ceil(t||l),l,a-1)-l+1);return new AO(i.center(),0,i.height()/2,c,d)},t.prototype.slot=function(e,t){var n=this.getSlot(e,t),o=n.startAngle+180,i=o+n.angle;return new VO([n.center.x,n.center.y],{startAngle:o,endAngle:i,radiusX:n.radius,radiusY:n.radius})},t.prototype.pointCategoryIndex=function(e){for(var t=this.options.categories.length,n=null,o=0;o<t;o++){if(this.getSlot(o).containsPoint(e)){n=o;break}}return n},t}(Az);RP(nB,{startAngle:90,labels:{margin:ON(10)},majorGridLines:{visible:!0},justified:!0}),_N(nB.prototype,tB);const oB=nB;var iB=function(e){function t(t,n){e.call(this,t,n);var o=this.options;o.minorUnit=o.minorUnit||o.majorUnit/2}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDivisions=function(e){return Wz.prototype.getDivisions.call(this,e)-1},t.prototype.reflow=function(e){this.box=e,this.reflowLabels()},t.prototype.reflowLabels=function(){for(var e=this,t=e.options,n=e.labels,o=e.options.labels,i=o.skip||0,r=o.step||1,a=new IO,s=this.intervals(t.majorUnit,i,r),l=0;l<n.length;l++){n[l].reflow(a);var c=n[l].box;n[l].reflow(this.getSlot(s[l]).adjacentBox(0,c.width(),c.height()))}},t.prototype.lineBox=function(){return this.box},t.prototype.intervals=function(e,t,n,o){void 0===o&&(o=!1);for(var i=this.options.min,r=this.getDivisions(e),a=[],s=n||1,l=t||0;l<r;l+=s){var c=(360+i+l*e)%360;o&&YN(c,o)||a.push(c)}return a},t.prototype.majorIntervals=function(){return this.intervals(this.options.majorUnit)},t.prototype.minorIntervals=function(){return this.intervals(this.options.minorUnit)},t.prototype.intervalAngle=function(e){return(540-e-this.options.startAngle)%360},t.prototype.createLine=function(){return[]},t.prototype.majorGridLineAngles=function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,this.options.majorUnit,t.skip,t.step)},t.prototype.minorGridLineAngles=function(e,t){var n=this.options,o=n.minorGridLines,i=n.majorGridLines,r=t?this.intervals(n.majorUnit,i.skip,i.step):null;return this.gridLineAngles(e,n.minorUnit,o.skip,o.step,r)},t.prototype.plotBandSlot=function(e){return this.getSlot(e.from,e.to)},t.prototype.getSlot=function(e,t){var n=this.options,o=this.box,i=n.startAngle,r=AP(e,n.min,n.max),a=AP(t||r,r,n.max);if(n.reverse&&(r*=-1,a*=-1),(a=(540-a-i)%360)<(r=(540-r-i)%360)){var s=r;r=a,a=s}return new AO(o.center(),0,o.height()/2,r,a-r)},t.prototype.slot=function(e,t){void 0===t&&(t=e);var n,o,i=this.options,r=360-i.startAngle,a=this.getSlot(e,t),s=Math.min(e,t),l=Math.max(e,t);return i.reverse?(n=s,o=l):(n=360-l,o=360-s),n=(n+r)%360,o=(o+r)%360,new VO([a.center.x,a.center.y],{startAngle:n,endAngle:o,radiusX:a.radius,radiusY:a.radius})},t.prototype.getValue=function(e){var t=this.options,n=this.box.center(),o=e.x-n.x,i=e.y-n.y,r=Math.round(wP(Math.atan2(i,o))),a=t.startAngle;return t.reverse||(r*=-1,a*=-1),(r+a+360)%360},t.prototype.valueRange=function(){return{min:0,max:2*Math.PI}},t}(KF);RP(iB,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:ON(10)},majorGridLines:{color:OD,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),_N(iB.prototype,tB,{createPlotBands:oB.prototype.createPlotBands,majorAngles:oB.prototype.majorAngles,range:Wz.prototype.range,labelsCount:Wz.prototype.labelsCount,createAxisLabel:Wz.prototype.createAxisLabel});const rB=iB;var aB={options:{majorGridLines:{visible:!0}},createPlotBands:function(){var e=this.options,t=e.majorGridLines.type,n=e.plotBands;void 0===n&&(n=[]);for(var o=this.plotArea.polarAxis,i=o.majorAngles(),r=o.box.center(),a=this._plotbandGroup=new iL({zIndex:-1}),s=0;s<n.length;s++){var l=n[s],c={fill:{color:l.color,opacity:l.opacity},stroke:{opacity:l.opacity}},d=this.getSlot(l.from,l.to,!0),u=new AO(r,r.y-d.y2,r.y-d.y1,0,360),p=void 0;p=t===_D?YR.current.createRing(u,c):GR.fromPoints(this.plotBandPoints(u,i),c).close(),a.append(p)}this.appendVisual(a)},plotBandPoints:function(e,t){for(var n=[],o=[],i=[e.center.x,e.center.y],r=new QR(i,e.innerRadius),a=new QR(i,e.radius),s=0;s<t.length;s++)n.push(r.pointAt(t[s]+180)),o.push(a.pointAt(t[s]+180));return n.reverse(),n.push(n[0]),o.push(o[0]),o.concat(n)},createGridLines:function(e){var t=this.options,n=this.radarMajorGridLinePositions(),o=e.majorAngles(),i=e.box.center(),r=[];if(t.majorGridLines.visible&&(r=this.renderGridLines(i,n,o,t.majorGridLines)),t.minorGridLines.visible){var a=this.radarMinorGridLinePositions();yP(r,this.renderGridLines(i,a,o,t.minorGridLines))}return r},renderGridLines:function(e,t,n,o){var i={stroke:{width:o.width,color:o.color,dashType:o.dashType}},r=o.skip;void 0===r&&(r=0);var a=o.step;void 0===a&&(a=0);for(var s=this.gridLinesVisual(),l=r;l<t.length;l+=a){var c=e.y-t[l];if(c>0){var d=new QR([e.x,e.y],c);if(o.type===_D)s.append(new tL(d,i));else{for(var u=new GR(i),p=0;p<n.length;p++)u.lineTo(d.pointAt(n[p]+180));u.close(),s.append(u)}}}return s.children},getValue:function(e){var t=this.lineBox(),n=this.plotArea.polarAxis,o=n.majorAngles(),i=n.box.center(),r=e.distanceTo(i),a=r;if(this.options.majorGridLines.type!==_D&&o.length>1){var s=e.x-i.x,l=e.y-i.y,c=(wP(Math.atan2(l,s))+540)%360;o.sort(function(e,t){return sB(e,c)-sB(t,c)});var d=90-sB(o[0],o[1])/2,u=180-sB(c,o[0])-d;a=r*(Math.sin(DP(u))/Math.sin(DP(d)))}return this.axisType().prototype.getValue.call(this,new uO(t.x1,t.y2-a))}};function sB(e,t){return 180-Math.abs(Math.abs(e-t)-180)}const lB=aB;var cB=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.radarMajorGridLinePositions=function(){return this.getTickPositions(this.options.majorUnit)},t.prototype.radarMinorGridLinePositions=function(){var e=this.options,t=0;return e.majorGridLines.visible&&(t=e.majorUnit),this.getTickPositions(e.minorUnit,t)},t.prototype.axisType=function(){return e},t}(Wz);_N(cB.prototype,lB);const dB=cB;var uB=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.radarMajorGridLinePositions=function(){var e=[];return this.traverseMajorTicksPositions(function(t){e.push(t)},this.options.majorGridLines),e},t.prototype.radarMinorGridLinePositions=function(){var e=[];return this.traverseMinorTicksPositions(function(t){e.push(t)},this.options.minorGridLines),e},t.prototype.axisType=function(){return e},t}($z);_N(uB.prototype,lB);const pB=uB;var hB=function(e){function t(t){e.call(this),this.closed=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.process=function(e){var t=e.slice(0),n=[],o=this.closed,i=t.length;if(i>2&&(this.removeDuplicates(0,t),i=t.length),i<2||2===i&&t[0].equals(t[1]))return n;var r,a,s=t[0],l=t[1],c=t[2];for(n.push(new mR(s));s.equals(t[i-1]);)o=!0,t.pop(),i--;if(2===i){var d=this.tangent(s,l,lN,cN);return jP(n).controlOut(this.firstControlPoint(d,s,l,lN,cN)),n.push(new mR(l,this.secondControlPoint(d,s,l,lN,cN))),n}if(o){s=t[i-1],l=t[0],c=t[1];var u=this.controlPoints(s,l,c);r=u[1],a=u[0]}else{var p=this.tangent(s,l,lN,cN);r=this.firstControlPoint(p,s,l,lN,cN)}for(var h=r,m=0;m<=i-3;m++)if(this.removeDuplicates(m,t),m+3<=(i=t.length)){s=t[m],l=t[m+1],c=t[m+2];var f=this.controlPoints(s,l,c);jP(n).controlOut(h),h=f[1];var g=f[0];n.push(new mR(l,g))}if(o){s=t[i-2],l=t[i-1],c=t[0];var v=this.controlPoints(s,l,c);jP(n).controlOut(h),n.push(new mR(l,v[0])),jP(n).controlOut(v[1]),n.push(new mR(c,a))}else{var y=this.tangent(l,c,lN,cN);jP(n).controlOut(h),n.push(new mR(c,this.secondControlPoint(y,l,c,lN,cN)))}return n},t.prototype.removeDuplicates=function(e,t){for(;t[e+1]&&(t[e].equals(t[e+1])||t[e+1].equals(t[e+2]));)t.splice(e+1,1)},t.prototype.invertAxis=function(e,t,n){var o=!1;if(e.x===t.x)o=!0;else if(t.x===n.x)(t.y<n.y&&e.y<=t.y||n.y<t.y&&t.y<=e.y)&&(o=!0);else{var i=this.lineFunction(e,t),r=this.calculateFunction(i,n.x);e.y<=t.y&&n.y<=r||t.y<=e.y&&n.y>=r||(o=!0)}return o},t.prototype.isLine=function(e,t,n){var o=this.lineFunction(e,t),i=this.calculateFunction(o,n.x);return e.x===t.x&&t.x===n.x||NP(i,1)===NP(n.y,1)},t.prototype.lineFunction=function(e,t){var n=(t.y-e.y)/(t.x-e.x);return[e.y-n*e.x,n]},t.prototype.controlPoints=function(e,t,n){var o,i=lN,r=cN,a=!1,s=!1;if(this.isLine(e,t,n))o=this.tangent(e,t,lN,cN);else{var l={x:this.isMonotonicByField(e,t,n,lN),y:this.isMonotonicByField(e,t,n,cN)};if(l.x&&l.y)o=this.tangent(e,n,lN,cN),a=!0;else if(this.invertAxis(e,t,n)&&(i=cN,r=lN),l[i])o=0;else o=.01*(n[r]<e[r]&&e[r]<=t[r]||e[r]<n[r]&&t[r]<=e[r]?mB((n[r]-e[r])*(t[i]-e[i])):-mB((n[i]-e[i])*(t[r]-e[r]))),s=!0}var c=this.secondControlPoint(o,e,t,i,r);if(s){var d=i;i=r,r=d}var u=this.firstControlPoint(o,t,n,i,r);return a&&(this.restrictControlPoint(e,t,c,o),this.restrictControlPoint(t,n,u,o)),[c,u]},t.prototype.restrictControlPoint=function(e,t,n,o){e.y<t.y?t.y<n.y?(n.x=e.x+(t.y-e.y)/o,n.y=t.y):n.y<e.y&&(n.x=t.x-(t.y-e.y)/o,n.y=e.y):n.y<t.y?(n.x=e.x-(e.y-t.y)/o,n.y=t.y):e.y<n.y&&(n.x=t.x+(e.y-t.y)/o,n.y=e.y)},t.prototype.tangent=function(e,t,n,o){var i,r=t[n]-e[n],a=t[o]-e[o];return i=0===r?0:a/r,i},t.prototype.isMonotonicByField=function(e,t,n,o){return n[o]>t[o]&&t[o]>e[o]||n[o]<t[o]&&t[o]<e[o]},t.prototype.firstControlPoint=function(e,t,n,o,i){var r=t[o],a=.333*(n[o]-r);return this.point(r+a,t[i]+a*e,o,i)},t.prototype.secondControlPoint=function(e,t,n,o,i){var r=t[o],a=n[o],s=.333*(a-r);return this.point(a-s,n[i]-s*e,o,i)},t.prototype.point=function(e,t,n,o){var i=new yO;return i[n]=e,i[o]=t,i},t.prototype.calculateFunction=function(e,t){for(var n=e.length,o=0,i=0;i<n;i++)o+=Math.pow(t,i)*e[i];return o},t}(aT);function mB(e){return e<=0?-1:1}const fB=hB;var gB=function(e){function t(t){e.call(this),this._axis=t,this.options=t.options}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.value=function(e){var t=this._axis,n=t.getCategory?t.getCategory(e):t.getValue(e);return n},t.prototype.slot=function(e,t,n){return void 0===n&&(n=!0),this._axis.slot(e,t,n)},t.prototype.range=function(){return this._axis.range()},t.prototype.valueRange=function(){return this._axis.valueRange()},t}(aT);const vB=gB;function yB(e,t){for(var n=0;n<t.length;n++)if(t[n].options.name===e)return t[n].prepareUserOptions(),new vB(t[n])}var xB=function(e){this.visual=e.visual,this.chartsVisual=e.chartContainer.visual,this._pane=e};xB.prototype.findAxisByName=function(e){return yB(e,this._pane.axes)};const bB=xB;var wB=function(e){function t(t){e.call(this),this._plotArea=t,this.visual=t.visual,this.backgroundVisual=t._bgVisual}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(aT);const kB=wB;function CB(e){for(var t=e.length,n=0,o=0;o<t;o++){bN(e[o])&&n++}return n}var SB={min:function(e){for(var t=e.length,n=XD,o=0;o<t;o++){var i=e[o];bN(i)&&(n=Math.min(n,i))}return n===XD?e[0]:n},max:function(e){for(var t=e.length,n=JD,o=0;o<t;o++){var i=e[o];bN(i)&&(n=Math.max(n,i))}return n===JD?e[0]:n},sum:function(e){for(var t=e.length,n=0,o=0;o<t;o++){var i=e[o];bN(i)&&(n+=i)}return n},sumOrNull:function(e){var t=null;return CB(e)&&(t=SB.sum(e)),t},count:function(e){for(var t=e.length,n=0,o=0;o<t;o++){var i=e[o];null!==i&&bP(i)&&n++}return n},avg:function(e){var t=CB(e),n=e[0];return t>0&&(n=SB.sum(e)/t),n},first:function(e){for(var t=e.length,n=0;n<t;n++){var o=e[n];if(null!==o&&bP(o))return o}return e[0]}};const IB=SB;function EB(e,t){return null===t?t:qN(e)(t)}var jB=function(e){function t(){e.call(this),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.register=function(e,t,n){var o=this;void 0===t&&(t=[rN]),void 0===n&&(n={});for(var i=0;i<e.length;i++){var r=e[i];o._valueFields[r]=t,o._otherFields[r]=n,o._nullValue[r]=o._makeValue(t,null),o._undefinedValue[r]=o._makeValue(t,void 0)}},t.prototype.canonicalFields=function(e){return this.valueFields(e).concat(this.otherFields(e))},t.prototype.valueFields=function(e){return this._valueFields[e.type]||[rN]},t.prototype.otherFields=function(e){return this._otherFields[e.type]||[rN]},t.prototype.bindPoint=function(e,t,n){var o,i,r=e.data,a=bP(n)?n:r[t],s={valueFields:{value:a}},l=this.valueFields(e),c=this._otherFields[e.type];if(null===a)i=this._nullValue[e.type];else if(bP(a)){if(Array.isArray(a)){var d=a.slice(l.length);i=this._bindFromArray(a,l),o=this._bindFromArray(d,c)}else if("object"===typeof a){var u=this.sourceFields(e,l),p=this.sourceFields(e,c);i=this._bindFromObject(a,l,u),o=this._bindFromObject(a,c,p)}}else i=this._undefinedValue[e.type];return bP(i)&&(1===l.length?s.valueFields.value=i[l[0]]:s.valueFields=i),s.fields=o||{},s},t.prototype._makeValue=function(e,t){for(var n={},o=e.length,i=0;i<o;i++){n[e[i]]=t}return n},t.prototype._bindFromArray=function(e,t){var n={};if(t)for(var o=Math.min(t.length,e.length),i=0;i<o;i++)n[t[i]]=e[i];return n},t.prototype._bindFromObject=function(e,t,n){void 0===n&&(n=t);var o={};if(t)for(var i=t.length,r=0;r<i;r++){var a=t[r],s=n[r];null!==s&&(o[a]=EB(s,e))}return o},t.prototype.sourceFields=function(e,t){var n=[];if(t)for(var o=t.length,i=0;i<o;i++){var r=t[i],a=r===rN?"field":r+"Field";n.push(null!==e[a]?e[a]||r:null)}return n},t}(aT);jB.current=new jB;const AB=jB;var _B=/percent(?:\w*)\((\d+)\)/,DB=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),NB=function(e){function t(t,n,o){e.call(this),this.initGlobalRanges(t,n,o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initGlobalRanges=function(e,t,n){var o=t.data,i=DB.exec(e);if(i){this.valueGetter=this.createValueGetter(t,n);var r=this.getAverage(o),a=this.getStandardDeviation(o,r,!1),s=i[1]?parseFloat(i[1]):1,l={low:r.value-a*s,high:r.value+a*s};this.globalRange=function(){return l}}else if(e.indexOf&&e.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(t,n);var c=this.getStandardError(o,this.getAverage(o));this.globalRange=function(e){return{low:e-c,high:e+c}}}},t.prototype.createValueGetter=function(e,t){var n,o=e.data,i=AB.current,r=i.valueFields(e),a=bP(o[0])?o[0]:{};if(pN(a))n=qN("["+(t?r.indexOf(t):0)+"]");else if(bN(a))n=qN();else if(typeof a===ZD){n=qN(i.sourceFields(e,r)[r.indexOf(t)])}return n},t.prototype.getErrorRange=function(e,t){var n,o,i;if(!bP(t))return null;if(this.globalRange)return this.globalRange(e);if(pN(t))n=e-t[0],o=e+t[1];else if(bN(i=parseFloat(t)))n=e-i,o=e+i;else{if(!(i=_B.exec(t)))throw new Error("Invalid ErrorBar value: "+t);var r=e*(parseFloat(i[1])/100);n=e-Math.abs(r),o=e+Math.abs(r)}return{low:n,high:o}},t.prototype.getStandardError=function(e,t){return this.getStandardDeviation(e,t,!0)/Math.sqrt(t.count)},t.prototype.getStandardDeviation=function(e,t,n){for(var o=e.length,i=n?t.count-1:t.count,r=0,a=0;a<o;a++){var s=this.valueGetter(e[a]);bN(s)&&(r+=Math.pow(s-t.value,2))}return Math.sqrt(r/i)},t.prototype.getAverage=function(e){for(var t=e.length,n=0,o=0,i=0;i<t;i++){var r=this.valueGetter(e[i]);bN(r)&&(n+=r,o++)}return{value:n/o,count:o}},t}(aT);const TB=NB;var PB=oT.browser||{},MB=600,OB="fadeIn",RB=.8,LB=PB.msie?.001:0,FB="errorLow",zB="errorHigh",BB="zero",VB="interpolate",HB="above",qB="below",UB="smooth",GB="step",WB="area",KB="bar",YB="boxPlot",XB="bubble",JB="bullet",QB="candlestick",ZB="column",$B="donut",eV="funnel",tV="pyramid",nV="heatmap",oV="horizontalWaterfall",iV="line",rV="ohlc",aV="pie",sV="polarArea",lV="polarLine",cV="polarScatter",dV="radarArea",uV="radarColumn",pV="radarLine",hV="rangeArea",mV="rangeBar",fV="rangeColumn",gV="scatter",vV="scatterLine",yV="verticalArea",xV="verticalBoxPlot",bV="verticalBullet",wV="verticalLine",kV="verticalRangeArea",CV="waterfall",SV=[KB,ZB,rV,QB,YB,xV,JB,fV,mV,CV,oV],IV="exponentialTrendline",EV="linearTrendline",jV="logarithmicTrendline",AV="movingAverageTrendline",_V="polynomialTrendline",DV="powerTrendline",NV=[IV,EV,jV,AV,_V,DV],TV="legendItemClick",PV="seriesClick",MV="seriesHover",OV="seriesOver",RV="seriesLeave",LV="plotAreaHover",FV="plotAreaLeave",zV="drag",BV="dragEnd",VV="dragStart",HV="zoomStart",qV="zoom",UV="zoomEnd",GV="selectStart",WV="select",KV="selectEnd",YV="showTooltip",XV="hideTooltip",JV="graphics-symbol",QV="k-chart-point",ZV="Point",$V="log",eH="category",tH="insideEnd",nH="outsideEnd",oH="wheel",iH="drilldown",rH="pattern",aH=function(e){function t(t,n,o,i,r,a){e.call(this,a),this.low=t,this.high=n,this.isVertical=o,this.chart=i,this.series=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t,n=this.options.endCaps,o=this.isVertical,i=this.getAxis().getSlot(this.low,this.high),r=e.center(),a=this.getCapsWidth(e,o),s=o?r.x:r.y,l=s-a,c=s+a;o?(t=[new uO(r.x,i.y1),new uO(r.x,i.y2)],n&&t.push(new uO(l,i.y1),new uO(c,i.y1),new uO(l,i.y2),new uO(c,i.y2)),this.box=new IO(l,i.y1,c,i.y2)):(t=[new uO(i.x1,r.y),new uO(i.x2,r.y)],n&&t.push(new uO(i.x1,l),new uO(i.x1,c),new uO(i.x2,l),new uO(i.x2,c)),this.box=new IO(i.x1,l,i.x2,c)),this.linePoints=t},t.prototype.getCapsWidth=function(e,t){var n=t?e.width():e.height();return Math.min(Math.floor(n/2),4)||4},t.prototype.createVisual=function(){var e=this,t=this.options,n=t.visual;n?this.visual=n({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:t.endCaps,color:t.color,line:t.line},createVisual:function(){e.createDefaultVisual();var t=e.visual;return delete e.visual,t}}):this.createDefaultVisual()},t.prototype.createDefaultVisual=function(){var t=this.options,n=this.linePoints,o={stroke:{color:t.color,width:t.line.width,dashType:t.line.dashType}};e.prototype.createVisual.call(this);for(var i=0;i<n.length;i+=2){var r=new GR(o).moveTo(n[i].x,n[i].y).lineTo(n[i+1].x,n[i+1].y);yN(r),this.visual.append(r)}},t}(jL);RP(aH,{animation:{type:OB,delay:MB},endCaps:!0,line:{width:2},zIndex:1});const sH=aH;var lH=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getAxis=function(){return this.chart.seriesValueAxis(this.series)},t}(sH);const cH=lH;function dH(e){for(var t=0;t<e.length;t++)if(bP(e[t].zIndex))return!0}function uH(e,t){null!==t&&e.push(t)}function pH(e){return CB(e)===e.length}function hH(e,t,n){var o=t.visible;if(bP(o))return o;var i=e.pointVisibility;return i?i[n]:void 0}function mH(e){for(var t=e.data,n=[],o=0,i=0,r=0;r<t.length;r++){var a=AB.current.bindPoint(e,r),s=a.valueFields.value;wN(s)&&(s=parseFloat(s)),bN(s)?(a.visible=!1!==hH(e,a.fields,r),a.value=Math.abs(s),n.push(a),a.visible&&(o+=a.value),0!==s&&i++):n.push(null)}return{total:o,points:n,count:i}}function fH(e){for(var t=e.length,n=0,o=0;o<t;o++)n=Math.max(n,e[o].data.length);return n}function gH(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function vH(e,t,n,o){void 0===n&&(n={}),void 0===o&&(o=!1);var i=n.defaults=n.defaults||{},r=n.depth=n.depth||0,a=!1;if(n.excluded=n.excluded||[],r>5)return null;for(var s in e)if(!YN(s,n.excluded)&&yM(e,s)){var l=e[s];EN(l)?(a=!0,o||(e[s]=PP(l(t),i[s]))):DN(l)&&(o||(n.defaults=i[s]),n.depth++,a=vH(l,t,n,o)||a,n.depth--)}return a}function yH(e,t){for(var n=[],o=[].concat(t),i=0;i<e.length;i++){var r=e[i];YN(r.type,o)&&n.push(r)}return n}var xH=new WeakMap;function bH(e,t,n){if(null===t||"object"!==typeof t)return Sz(n,e);var o=xH.get(t);return o||(o=Sz(n,e),xH.set(t,o)),o}function wH(e){var t=e.overlay;return t&&t.gradient&&"none"!==t.gradient}function kH(e){return bP(e)&&null!==e}function CH(e,t){var n=e.type,o=t instanceof Date;return!n&&o||gH(n,BD)}function SH(e){return 1===e.length?e[0]:e}var IH=/area/i;function EH(e,t){var n=AB.current.bindPoint(e,null,t).valueFields;for(var o in n)if(kN(n[o]))return!0}function jH(e){var t,n,o=e.start,i=e.dir,r=e.min,a=e.max,s=e.getter,l=e.hasItem,c=e.series,d=o;do{l(d+=i)&&(t=EH(c,(n=s(d)).item))}while(r<=d&&d<=a&&!t);if(t)return n}function AH(e,t,n,o,i){var r=t.min,a=t.max,s=r>0&&r<n,l=a+1<n;if(s||l){var c,d,u,p=function(e){return e.missingValues?e.missingValues:IH.test(e.type)||e.stack?BB:VB}(e);if(p!==VB)s&&(c=o(r-1)),l&&(d=o(a+1));else s&&(c=EH(e,(u=o(r-1)).item)?u:jH({start:r,dir:-1,min:0,max:n-1,getter:o,hasItem:i,series:e})),l&&(d=EH(e,(u=o(a+1)).item)?u:jH({start:a,dir:1,min:0,max:n-1,getter:o,hasItem:i,series:e}));c&&(e._outOfRangeMinPoint=c),d&&(e._outOfRangeMaxPoint=d)}}var _H=function(e){function t(t,n){e.call(this,n),this.plotArea=t,this.chartService=t.chartService,this.categoryAxis=t.seriesCategoryAxis(n.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},t.prototype.pointOptions=function(e,t){var n=this.seriesOptions[t];if(!n){var o=this.pointType().prototype.defaults;this.seriesOptions[t]=n=_N({},o,{vertical:!this.options.invertAxes},e)}return n},t.prototype.plotValue=function(e){if(!e)return 0;if(this.options.isStacked100&&bN(e.value)){for(var t=e.categoryIx,n=this.categoryPoints[t],o=[],i=0,r=0;r<n.length;r++){var a=n[r];if(a){var s=e.series.stack,l=a.series.stack;if(s&&l&&s.group!==l.group)continue;bN(a.value)&&(i+=Math.abs(a.value),o.push(Math.abs(a.value)))}}if(i>0)return e.value/i}return e.value},t.prototype.plotRange=function(e,t){var n=this;void 0===t&&(t=0);var o=this.categoryPoints[e.categoryIx];if(this.options.isStacked){var i=this.plotValue(e),r=i>=0,a=t,s=!1,l=bP(e.series.stack)?e.series.stack:this.options.defaultStack,c=function(e){return!0===e||typeof e===ZD&&!e.group};if(l)for(var d=0;d<o.length;d++){var u=o[d];if(e===u)break;var p=bP(u.series.stack)?u.series.stack:n.options.defaultStack;if(p&&((typeof l!==oN||l===p)&&(!c(l)||c(p))&&(!l.group||l.group===p.group))){var h=n.plotValue(u);(h>=0&&r||h<0&&!r)&&(0!==t&&0===h||(a+=h,i+=h,s=!0,n.options.isStacked100&&(i=Math.min(i,1))))}}return s&&(a-=t),[a,i]}var m=e.series,f=this.seriesValueAxis(m),g=this.categoryAxisCrossingValue(f);return[g,kN(e.value)?e.value:g]},t.prototype.stackLimits=function(e,t){for(var n=XD,o=JD,i=0;i<this.categoryPoints.length;i++){var r=this.categoryPoints[i];if(r)for(var a=0;a<r.length;a++){var s=r[a];if(s&&(s.series.stack===t||s.series.axis===e)){var l=this.plotRange(s,0)[1];bP(l)&&isFinite(l)&&(o=Math.max(o,l),n=Math.min(n,l))}}}return{min:n,max:o}},t.prototype.updateStackRange=function(){var e=this,t=this.options,n=t.isStacked,o=t.series,i={};if(n)for(var r=0;r<o.length;r++){var a=o[r],s=a.axis,l=s+a.stack,c=i[l];if(!c){c=e.stackLimits(s,a.stack);var d=e.errorTotals;d&&(d.negative.length&&(c.min=Math.min(c.min,UP(d.negative).min)),d.positive.length&&(c.max=Math.max(c.max,UP(d.positive).max))),c.min!==XD||c.max!==JD?i[l]=c:c=null}c&&(e.valueAxisRanges[s]=c)}},t.prototype.addErrorBar=function(e,t,n){var o,i=e.value,r=e.series,a=e.seriesIx,s=e.options.errorBars,l=t.fields[FB],c=t.fields[zB];bN(l)&&bN(c)?o={low:l,high:c}:s&&bP(s.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[a]=this.seriesErrorRanges[a]||new TB(s.value,r,rN),o=this.seriesErrorRanges[a].getErrorRange(i,s.value)),o&&(e.low=o.low,e.high=o.high,this.addPointErrorBar(e,n))},t.prototype.addPointErrorBar=function(e,t){var n=!this.options.invertAxes,o=e.options.errorBars,i=e.series,r=e.low,a=e.high;if(this.options.isStacked){var s=this.stackedErrorRange(e,t);r=s.low,a=s.high}else{var l={categoryIx:t,series:i};this.updateRange({value:r},l),this.updateRange({value:a},l)}var c=new cH(r,a,n,this,i,o);e.errorBars=[c],e.append(c)},t.prototype.stackedErrorRange=function(e,t){var n=this.plotRange(e,0)[1]-e.value,o=e.low+n,i=e.high+n;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},o<0&&(this.errorTotals.negative[t]=Math.min(this.errorTotals.negative[t]||0,o)),i>0&&(this.errorTotals.positive[t]=Math.max(this.errorTotals.positive[t]||0,i)),{low:o,high:i}},t.prototype.addValue=function(e,t){var n=t.categoryIx,o=t.series,i=t.seriesIx,r=this.categoryPoints[n];r||(this.categoryPoints[n]=r=[]);var a=this.seriesPoints[i];a||(this.seriesPoints[i]=a=[]);var s=this.createPoint(e,t);s&&(Object.assign(s,t),s.owner=this,s.noteText=e.fields.noteText,bP(s.dataItem)||(s.dataItem=o.data[n]),this.addErrorBar(s,e,n)),this.points.push(s),a.push(s),r.push(s),this.updateRange(e.valueFields,t)},t.prototype.evalPointOptions=function(e,t,n){var o=n.categoryIx,i=n.category,r=n.series,a=n.seriesIx,s={defaults:r._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]},l=this._evalSeries[a];bP(l)||(this._evalSeries[a]=l=vH(e,{},s,!0));var c=e;return l&&vH(c=_N({},c),{value:t,category:i,index:o,series:r,dataItem:r.data[o]},s),c},t.prototype.updateRange=function(e,t){var n=t.series.axis,o=e.value,i=this.valueAxisRanges[n];isFinite(o)&&null!==o&&((i=this.valueAxisRanges[n]=i||{min:XD,max:JD}).min=Math.min(i.min,o),i.max=Math.max(i.max,o))},t.prototype.seriesValueAxis=function(e){var t=this.plotArea,n=e.axis,o=n?t.namedValueAxes[n]:t.valueAxis;if(!o)throw new Error("Unable to locate value axis with name "+n);return o},t.prototype.reflow=function(e){var t=this,n=this.categorySlots=[],o=this.points,i=this.categoryAxis,r=0;this.traverseDataPoints(function(e,a){var s=a.categoryIx,l=a.series,c=t.seriesValueAxis(l),d=o[r++],u=n[s];if(u||(n[s]=u=t.categorySlot(i,s,c)),d){var p=t.plotRange(d,c.startValue()),h=t.valueSlot(c,p);if(h){var m=t.pointSlot(u,h);d.aboveAxis=t.aboveAxis(d,c),d.stackValue=p[1],t.options.isStacked100&&(d.percentage=t.plotValue(d)),t.reflowPoint(d,m)}else d.visible=!1}}),this.reflowCategories(n),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=e},t.prototype.valueSlot=function(e,t){return e.getSlot(t[0],t[1],!this.options.clip)},t.prototype.limitPoints=function(){for(var e=this.categoryPoints,t=e[0].concat(jP(e)),n=0;n<t.length;n++)t[n]&&this.limitPoint(t[n])},t.prototype.limitPoint=function(e){var t=this.categoryAxis.limitSlot(e.box);t.equals(e.box)||e.reflow(t)},t.prototype.aboveAxis=function(e,t){var n=this.categoryAxisCrossingValue(t),o=e.value;return t.options.reverse?o<n:o>=n},t.prototype.categoryAxisCrossingValue=function(e){var t=this.categoryAxis,n=e.options;return[].concat(n.axisCrossingValues||n.axisCrossingValue)[t.axisIndex||0]||0},t.prototype.reflowPoint=function(e,t){e.reflow(t)},t.prototype.reflowCategories=function(){},t.prototype.pointSlot=function(e,t){var n=this.options.invertAxes,o=n?t:e,i=n?e:t;return new IO(o.x1,i.y1,o.x2,i.y2)},t.prototype.categorySlot=function(e,t){return e.getSlot(t)},t.prototype.traverseDataPoints=function(e){for(var t=this,n=this.options.series,o=fH(n),i=n.length,r=0;r<i;r++)t._outOfRangeCallback(n[r],"_outOfRangeMinPoint",r,e);for(var a=0;a<o;a++)for(var s=0;s<i;s++){var l=n[s],c=t.categoryAxis.categoryAt(a);e(t.plotArea.bindPoint(l,a),{category:c,categoryIx:a,categoriesCount:o,series:l,seriesIx:s})}for(var d=0;d<i;d++)t._outOfRangeCallback(n[d],"_outOfRangeMaxPoint",d,e)},t.prototype._outOfRangeCallback=function(e,t,n,o){var i=e[t];if(i){var r=i.categoryIx;o(this.plotArea.bindPoint(e,r,i.item),{category:i.category,categoryIx:r,series:e,seriesIx:n,dataItem:i.item})}},t.prototype.formatPointValue=function(e,t){return null===e.value?"":this.chartService.format.auto(t,e.value)},t.prototype.pointValue=function(e){return e.valueFields.value},t}(jL);RP(_H,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});const DH=_H;var NH={click:function(e,t){return e.trigger(PV,this.eventArgs(t))},hover:function(e,t){return e.trigger(MV,this.eventArgs(t))},over:function(e,t){return e.trigger(OV,this.eventArgs(t))},out:function(e,t){return e.trigger(RV,this.eventArgs(t))},eventArgs:function(e){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:IP(e),originalEvent:e,point:this}}};const TH=NH;var PH={createNote:function(){var e=this.options.notes,t=this.noteText||e.label.text;!1!==e.visible&&bP(t)&&null!==t&&(this.note=new AF({value:this.value,text:t,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}};const MH=PH;var OH=function(e){function t(t,n){e.call(this),this.value=t,this.options=n,this.aboveAxis=PP(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=SM()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.options.markers;this._rendered||(this._rendered=!0,e.visible&&e.size&&(this.marker=this.createMarker(),this.append(this.marker)),this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},t.prototype.createLabel=function(){var e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))},t.prototype.createLabelElement=function(e){return new wF(this.getLabelText(e),_N({align:LD,vAlign:LD,margin:{left:5,right:5},zIndex:PP(e.zIndex,this.series.zIndex)},e),this.pointData())},t.prototype.getLabelText=function(e){var t=zN(e);return t?t(this.pointData()):e.format?this.formatValue(e.format):this.value},t.prototype.getAriaLabelText=function(){var e=this.options.labels,t=BN(e);return t?t(this.pointData()):this.getLabelText(e)},t.prototype.markerBorder=function(){var e=this.options.markers,t=e.background,n=_N({color:this.color},e.border);return bP(n.color)||(n.color=new lM(t).brightness(RB).toHex()),n},t.prototype.createVisual=function(){},t.prototype.createMarker=function(){var e=this.options.markers;return new KL({type:e.type,width:e.size,height:e.size,rotation:e.rotation,background:e.background,border:this.markerBorder(),opacity:e.opacity,pattern:this.options.pattern,zIndex:PP(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual,accessibilityOptions:_N({ariaLabel:this.getAriaLabelText(this.options.labels)},this.options.accessibility)},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})},t.prototype.markerBox=function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},t.prototype.reflow=function(e){var t=this.options,n=this.aboveAxis,o=t.vertical;this.render(),this.box=e;var i=e.clone();if(o?n?i.y1-=i.height():i.y2+=i.height():n?i.x1+=i.width():i.x2-=i.width(),this._childBox=i,this.marker&&this.marker.reflow(i),this.reflowLabel(i),this.errorBars)for(var r=0;r<this.errorBars.length;r++)this.errorBars[r].reflow(i);if(this.note){var a=this.markerBox();if(!t.markers.visible||!t.markers.size){var s=a.center();a=new IO(s.x,s.y,s.x,s.y)}this.note.reflow(a)}},t.prototype.reflowLabel=function(e){var t=this.options,n=this.label,o=t.labels.position;n&&(o=(o=o===HB?iN:o)===qB?RD:o,n.reflow(e),n.box.alignTo(this.markerBox(),o),n.reflow(n.box))},t.prototype.createHighlight=function(){var e=this.options.highlight.markers,t=this.markerBorder().color,n=this.options.markers,o=n.size+(n.border.width||0)+(e.border.width||0),i=new KL({type:n.type,width:o,height:o,rotation:n.rotation,background:e.color||t,border:{color:e.border.color,width:e.border.width,opacity:PP(e.border.opacity,1)},opacity:PP(e.opacity,1)});return i.reflow(this._childBox),i.getElement()},t.prototype.highlightVisual=function(){return(this.marker||{}).visual},t.prototype.highlightVisualArgs=function(){var e,t,n=this.marker;if(n)t=n.paddingBox.toRect(),e=n.visual;else{var o=this.options.markers.size,i=o/2,r=this.box.center();t=new kO([r.x-i,r.y-i],[o,o])}return{options:this.options,rect:t,visual:e}},t.prototype.createFocusHighlight=function(){var e=this.options.markers,t=this.options.focusHighlight,n=e.size+(e.border.width||0),o=new KL({type:e.type,width:n,height:n,rotation:e.rotation,background:t.color,border:t.border,opacity:t.opacity,padding:t.border.width/2,zIndex:t.zIndex});return o.reflow(this._childBox),o.getElement()},t.prototype.tooltipAnchor=function(){var e=this.markerBox(),t=this.owner.pane.clipBox();if(!t||t.overlaps(e)){var n,o,i=e.x2+5,r=YD;return this.aboveAxis?(n=e.y1,o=RD):(n=e.y2,o=iN),{point:new uO(i,n),align:{horizontal:r,vertical:o}}}},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.overlapsBox=function(e){return this.markerBox().overlaps(e)},t.prototype.unclipElements=function(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)},t.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}},t.prototype.focusVisual=function(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",this._id),this.toggleFocusHighlight(!0))},t.prototype.clearFocusFromVisual=function(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",""),this.toggleFocusHighlight(!1))},t.prototype.getIndex=function(){return bP(this.categoryIx)?this.categoryIx:this.pointIx},t}(jL);OH.prototype.defaults={vertical:!0,markers:{visible:!0,background:aN,size:8,type:FD,border:{width:2},opacity:1},labels:{visible:!1,position:HB,margin:ON(3),padding:ON(4),animation:{type:OB,delay:MB}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}},accessibility:{tabIndex:0,role:JV,className:QV,ariaRoleDescription:ZV}},_N(OH.prototype,TH),_N(OH.prototype,MH);const RH=OH;var LH=function(e){function t(t,n,o){e.call(this),this.linePoints=t,this.series=n,this.seriesIx=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.points=function(){return this.toGeometryPoints(this.linePoints)},t.prototype.toGeometryPoints=function(e){for(var t=[],n=0,o=e.length;n<o;n++)e[n]&&!1!==e[n].visible&&t.push(e[n]._childBox.toRect().center());return t},t.prototype.createVisual=function(){var e=this,t=this.series.visual;t?(this.visual=t({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:function(){return e.segmentVisual(),e.visual}}),this.visual&&!bP(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()},t.prototype.segmentVisual=function(){var e=this.options,t=this.series,n=t.color,o=t._defaults;EN(n)&&o&&(n=o.color);var i=GR.fromPoints(this.points(),{stroke:{color:n,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});e.closed&&i.close(),this.visual=i},t.prototype.aliasFor=function(e,t){return this.parent.getNearestPoint(t.x,t.y,this.seriesIx)},t}(jL);RP(LH,{closed:!1});const FH=LH;var zH={calculateStepPoints:function(e){for(var t=this.parent.plotArea.seriesCategoryAxis(this.series).options,n=t.justified,o=t.vertical,i=t.reverse,r=o?lN:cN,a=o?cN:lN,s=i?2:1,l=s,c=BH(e[0],r,s,a,l),d=[c],u=1;u<e.length;u++){var p=BH(e[u],r,s,a,l);if(c[r]!==p[r]){var h=new yO;h[r]=c[r],h[a]=p[a],d.push(h,p)}c=p}return n?c!==jP(d)&&d.push(c):d.push(BH(jP(e),r,s,a,i?1:2)),d}};function BH(e,t,n,o,i){var r=e.box,a=new yO;return a[t]=r[t+n],a[o]=r[o+i],a}const VH=zH;var HH=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.points=function(){return this.calculateStepPoints(this.linePoints)},t}(FH);_N(HH.prototype,VH);const qH=HH;var UH=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.segmentVisual=function(){var e=this.series,t=e._defaults,n=e.color;EN(n)&&t&&(n=t.color);var o=new fB(this.options.closed).process(this.points()),i=new GR({stroke:{color:n,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});i.segments.push.apply(i.segments,o),this.visual=i},t}(FH);const GH=UH;var WH={renderSegments:function(){var e,t=this,n=this.options,o=this.seriesPoints,i=n.series,r=o.length;this._segments=[];for(var a=0;a<r;a++){for(var s=i[a],l=t.sortPoints(o[a]),c=l.length,d=[],u=0;u<c;u++){var p=l[u];p?d.push(p):t.seriesMissingValues(s)!==VB&&(d.length>1&&(e=t.createSegment(d,s,a,e),t._addSegment(e)),d=[])}d.length>1&&(e=t.createSegment(d,s,a,e),t._addSegment(e))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(e){this._segments.push(e),e.parent=this},sortPoints:function(e){return e},seriesMissingValues:function(e){var t=e.missingValues;return!t&&this.options.isStacked?BB:t||VB},getNearestPoint:function(e,t,n){for(var o,i=new uO(e,t),r=this.seriesPoints[n],a=XD,s=0;s<r.length;s++){var l=r[s];if(l&&bP(l.value)&&null!==l.value&&!1!==l.visible){var c=l.box.center().distanceTo(i);c<a&&(o=l,a=c)}}return o}};const KH=WH;var YH=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){this._setEnd(this.options.box.x1)},t.prototype.step=function(e){var t=this.options.box;this._setEnd(JN(t.x1,t.x2,e))},t.prototype._setEnd=function(e){var t=this.element,n=t.segments,o=n[1].anchor(),i=n[2].anchor();t.suspend(),o.setX(e),t.resume(),i.setX(e)},t}(IL);RP(YH,{duration:MB}),SL.current.register("clip",YH);const XH=YH;var JH={createAnimation:function(){var e=this.getRoot();if(e&&!1!==(e.options||{}).transitions){var t=e.size(),n=GR.fromRect(t.toRect());this.visual.clip(n),this.animation=new XH(n,{box:t}),dH(this.options.series)&&this._setChildrenAnimation(n)}},_setChildrenAnimation:function(e){for(var t=this.animationPoints(),n=0;n<t.length;n++){var o=t[n];o&&o.visual&&bP(o.visual.options.zIndex)&&o.visual.clip(e)}}};const QH=JH;var ZH=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){e.prototype.render.call(this),this.updateStackRange(),this.renderSegments()},t.prototype.pointType=function(){return RH},t.prototype.createPoint=function(e,t){var n=t.series,o=t.seriesIx,i=this.seriesMissingValues(n),r=e.valueFields.value;if(!bP(r)||null===r){if(i!==BB)return null;r=0}var a=this.pointOptions(n,o);a=this.evalPointOptions(a,r,t);var s=e.fields.color||n.color;EN(n.color)&&(s=a.color);var l=new RH(r,a);return l.color=s,this.append(l),l},t.prototype.plotRange=function(e){var t=this.plotValue(e);if(this.options.isStacked)for(var n=e.categoryIx,o=this.categoryPoints[n],i=0;i<o.length;i++){var r=o[i];if(e===r)break;t+=this.plotValue(r),this.options.isStacked100&&(t=Math.min(t,1))}return[t,t]},t.prototype.createSegment=function(e,t,n){var o=t.style;return new(o===GB?qH:o===UB?GH:FH)(e,t,n)},t.prototype.animationPoints=function(){for(var e=this.points,t=[],n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t.concat(this._segments)},t.prototype.supportsPointInactiveOpacity=function(){return!1},t}(DH);_N(ZH.prototype,KH,QH);const $H=ZH;var eq=function(e){function t(t,n,o,i,r){e.call(this,t,n,o),this.prevSegment=i,this.stackPoints=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createVisual=function(){var e=this.series,t=e._defaults,n=e.line||{},o=e.color;EN(o)&&t&&(o=t.color),this.visual=new iL({zIndex:e.zIndex}),this.createFill({fill:HL(e.pattern,{color:o,opacity:e.opacity}),stroke:null}),n.width>0&&!1!==n.visible&&this.createStroke({stroke:_N({color:o,opacity:e.opacity,lineCap:"butt"},n)})},t.prototype.strokeSegments=function(){var e=this._strokeSegments;return e||(e=this._strokeSegments=this.createStrokeSegments()),e},t.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.points())},t.prototype.stackSegments=function(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)},t.prototype.createStackSegments=function(e){return this.segmentsFromPoints(this.toGeometryPoints(e)).reverse()},t.prototype.segmentsFromPoints=function(e){return e.map(function(e){return new mR(e)})},t.prototype.createStroke=function(e){var t=new GR(e);t.segments.push.apply(t.segments,this.strokeSegments()),this.visual.append(t)},t.prototype.hasStackSegment=function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length},t.prototype.createFill=function(e){var t=this.strokeSegments(),n=t.slice(0),o=this.hasStackSegment();if(o){var i=this.stackSegments();yP(n,i)}var r=new GR(e);r.segments.push.apply(r.segments,n),!o&&t.length>1&&this.fillToAxes(r),this.visual.append(r)},t.prototype.fillToAxes=function(e){var t=this.parent,n=t.options.invertAxes,o=t.seriesValueAxis(this.series),i=t.categoryAxisCrossingValue(o),r=o.getSlot(i,i,!0),a=this.strokeSegments(),s=a[0].anchor(),l=jP(a).anchor(),c=n?r.x1:r.y1;n?e.lineTo(c,l.y).lineTo(c,s.y):e.lineTo(l.x,c).lineTo(s.x,c)},t}(FH);const tq=eq;var nq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))},t.prototype.createStackSegments=function(e){return this.segmentsFromPoints(this.calculateStepPoints(e)).reverse()},t}(tq);_N(nq.prototype,VH);const oq=nq;var iq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createStrokeSegments=function(){var e=new fB(this.options.closed),t=this.points();return e.process(t)},t.prototype.createStackSegments=function(){for(var e=this.strokeSegments(),t=[],n=e.length-1;n>=0;n--){var o=e[n];t.push(new mR(o.anchor(),o.controlOut(),o.controlIn()))}return t},t}(tq);const rq=iq;var aq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createSegment=function(e,t,n,o){var i,r,a=this.options.isStacked,s=(t.line||{}).style;a&&n>0&&o&&("gap"!==this.seriesMissingValues(t)?(r=o.linePoints,i=o):r=this._gapStackPoints(e,n,s));return new(s===GB?oq:s===UB?rq:tq)(e,t,n,i,r)},t.prototype.reflow=function(t){e.prototype.reflow.call(this,t);var n=this._stackPoints;if(n)for(var o=0;o<n.length;o++){var i=n[o],r=this.categoryAxis.getSlot(i.categoryIx);i.reflow(r)}},t.prototype._gapStackPoints=function(e,t,n){var o=this,i=this.seriesPoints,r=e[0].categoryIx,a=e.length;r<0&&(r=0,a--);var s=r+a,l=this.seriesOptions[0]._outOfRangeMinPoint?1:0,c=[];this._stackPoints=this._stackPoints||[];for(var d=r;d<s;d++){var u=d+l,p=t,h=void 0;do{h=i[--p][u]}while(p>0&&!h);if(h)n!==GB&&d>r&&!i[p][u-1]&&c.push(o._previousSegmentPoint(d,u,u-1,p)),c.push(h),n!==GB&&d+1<s&&!i[p][u+1]&&c.push(o._previousSegmentPoint(d,u,u+1,p));else{var m=o._createGapStackPoint(d);o._stackPoints.push(m),c.push(m)}}return c},t.prototype._previousSegmentPoint=function(e,t,n,o){for(var i,r=this.seriesPoints,a=o;a>0&&!i;)i=r[--a][n];return i?i=r[a][t]:(i=this._createGapStackPoint(e),this._stackPoints.push(i)),i},t.prototype._createGapStackPoint=function(e){var t=this.pointOptions({},0),n=new RH(0,t);return n.categoryIx=e,n.series={},n},t.prototype.seriesMissingValues=function(e){return e.missingValues||BB},t.prototype.supportsPointInactiveOpacity=function(){return!1},t}($H);const sq=aq;var lq=function(e){function t(){e.call(this),this.axisRanges={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(e){var t=this.axisRanges;for(var n in e){var o=e[n],i=t[n];t[n]=i=i||{min:XD,max:JD},i.min=Math.min(i.min,o.min),i.max=Math.max(i.max,o.max)}},t.prototype.reset=function(e){this.axisRanges[e]=void 0},t.prototype.query=function(e){return this.axisRanges[e]},t}(aT);const cq=lq;var dq=function(e){function t(t,n,o){e.call(this,n),this.textBox=new wF(t,this.options,o),this.append(this.textBox)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createVisual=function(){this.textBox.options.noclip=this.options.noclip},t.prototype.reflow=function(e){var t=this.options,n=t.vertical,o=t.aboveAxis,i=this.children[0],r=i.options,a=i.box,s=i.options.padding,l=e;if(r.align=n?LD:YD,r.vAlign=n?iN:LD,t.position===tH)n?(r.vAlign=iN,!o&&a.height()<e.height()&&(r.vAlign=RD)):r.align=o?eN:YD;else if(t.position===LD)r.vAlign=LD,r.align=LD;else if("insideBase"===t.position)n?r.vAlign=o?RD:iN:r.align=o?YD:eN;else if(t.position===nH)if(n)if(o){var c=(a.width()-e.width()-s.left-s.right)/2;l=new IO(e.x1-c,e.y1-a.height(),e.x2+c,e.y1)}else l=new IO(e.x1,e.y2,e.x2,e.y2+a.height());else r.align=LD,l=o?new IO(e.x2,e.y1,e.x2+a.width(),e.y2):new IO(e.x1-a.width(),e.y1,e.x1,e.y2);t.rotation||(n?s.left=s.right=(l.width()-i.contentBox.width())/2:s.top=s.bottom=(l.height()-i.contentBox.height())/2),i.reflow(l)},t.prototype.alignToClipBox=function(e){var t=this.options.vertical?cN:lN,n=t+"1",o=t+"2",i=this.children[0],r=this.parent.box;if(r[n]<e[n]||e[o]<r[o]){var a=i.paddingBox.clone();a[n]=Math.max(r[n],e[n]),a[o]=Math.min(r[o],e[o]),this.reflow(a)}},t}(jL);RP(dq,{position:nH,margin:ON(3),padding:ON(4),color:OD,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:OB,delay:MB},zIndex:2});const uq=dq;const pq={addAccessibilityAttributesToVisual:function(){this._id=this._id||SM();var e=_N({ariaLabel:this.getAriaLabelText()},this.options.accessibility);GL(this.visual,e)},getAriaLabelText:function(){var e=this.options.labels,t=BN(e);return t?t(this.pointData()):this.getLabelText(e)},focusVisual:function(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0)},clearFocusFromVisual:function(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1)}};var hq=function(e){function t(t,n){e.call(this),this.options=n,this.color=n.color||aN,this.aboveAxis=PP(this.options.aboveAxis,!0),this.value=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},t.prototype.createLabel=function(){var e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))},t.prototype.createLabelElement=function(e){return new uq(this.getLabelText(e),_N({vertical:this.options.vertical},e),this.pointData())},t.prototype.getLabelText=function(e){var t=zN(e);return t?t(this.pointData()):this.formatValue(e.format)},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.reflow=function(e){this.render();var t=this.label;if(this.box=e,t&&(t.options.aboveAxis=this.aboveAxis,t.reflow(e)),this.note&&this.note.reflow(e),this.errorBars)for(var n=0;n<this.errorBars.length;n++)this.errorBars[n].reflow(e)},t.prototype.createVisual=function(){var t=this,n=this.box,o=this.options,i=o.visual;if(!1!==this.visible)if(e.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual(),i){var r=this.rectVisual=i({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:n.toRect(),createVisual:function(){var e=new iL;return t.createRect(e),e},options:o});r&&this.visual.append(r)}else n.width()>0&&n.height()>0&&this.createRect(this.visual)},t.prototype.createRect=function(e){var t=this.options,n=t.border,o=bP(n.opacity)?n.opacity:t.opacity,i=this.box.toRect();i.size.width=Math.round(i.size.width);var r=this.rectVisual=GR.fromRect(i,{fill:HL(t.pattern,{color:this.color,opacity:t.opacity}),stroke:{color:this.getBorderColor(),width:n.width,opacity:o,dashType:n.dashType}}),a=this.box.width(),s=this.box.height();if((t.vertical?a:s)>6&&(yN(r),(a<1||s<1)&&(r.options.stroke.lineJoin="round")),e.append(r),wH(t)){var l=this.createGradientOverlay(r,{baseColor:this.color},_N({end:t.vertical?void 0:[0,1]},t.overlay));e.append(l)}},t.prototype.createHighlight=function(e){return yN(GR.fromRect(this.box.toRect(),e))},t.prototype.highlightVisual=function(){return this.rectVisual},t.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},t.prototype.createFocusHighlight=function(e){var t=this.options.focusHighlight.border.width;return yN(GR.fromRect(this.box.pad(t/2).toRect(),e))},t.prototype.getBorderColor=function(){var e=this.color,t=this.options.border,n=t._brightness||RB,o=t.color;return bP(o)||(o=new lM(e).brightness(n).toHex()),o},t.prototype.tooltipAnchor=function(){var e,t,n=this,o=n.options,i=n.box,r=n.aboveAxis,a=this.owner.pane.clipBox()||i,s=YD,l=iN;if(o.vertical)e=Math.min(i.x2,a.x2)+5,r?t=Math.max(i.y1,a.y1):(t=Math.min(i.y2,a.y2),l=RD);else{var c=Math.max(i.x1,a.x1),d=Math.min(i.x2,a.x2);o.isStacked?(l=RD,r?(s=eN,e=d):e=c,t=Math.max(i.y1,a.y1)-5):(r?e=d+5:(e=c-5,s=eN),t=Math.max(i.y1,a.y1))}return{point:new uO(e,t),align:{horizontal:s,vertical:l}}},t.prototype.overlapsBox=function(e){return this.box.overlaps(e)},t.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}},t.prototype.getIndex=function(){return this.categoryIx},t}(jL);_N(hq.prototype,TH),_N(hq.prototype,MH),_N(hq.prototype,pq),hq.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}},accessibility:{role:JV,className:QV,ariaRoleDescription:ZV}};const mq=hq;function fq(e,t){e.forEach(t)}function gq(e,t){for(var n=e.length,o=n-1;o>=0;o--)t(e[o],o-n-1)}var vq=function(e){function t(t){e.call(this,t),this.forEach=t.rtl?gq:fq}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this.options,n=t.vertical,o=t.gap,i=t.spacing,r=this.children,a=r.length,s=n?cN:lN,l=a+o+i*(a-1),c=(n?e.height():e.width())/l,d=e[s+1]+c*(o/2);this.forEach(r,function(t,n){var o=(t.box||e).clone();o[s+1]=d,o[s+2]=d+c,t.reflow(o),n<a-1&&(d+=c*i),d+=c})},t}(jL);RP(vq,{vertical:!1,gap:0,spacing:0});const yq=vq;var xq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){for(var t=this.options.vertical?lN:cN,n=this.children,o=n.length,i=this.box=new IO,r=0;r<o;r++){var a=n[r];if(!1!==a.visible){var s=a.box.clone();s.snapTo(e,t),0===r&&(i=this.box=s.clone()),a.reflow(s),i.wrap(s)}}},t}(jL);RP(xq,{vertical:!0});const bq=xq;var wq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){e.prototype.render.call(this),this.updateStackRange()},t.prototype.pointType=function(){return mq},t.prototype.clusterType=function(){return yq},t.prototype.stackType=function(){return bq},t.prototype.stackLimits=function(t,n){return e.prototype.stackLimits.call(this,t,n)},t.prototype.createPoint=function(e,t){var n=t.categoryIx,o=t.series,i=t.seriesIx,r=this.options,a=this.children,s=bP(o.stack)?o.stack:r.defaultStack,l=this.pointValue(e),c=this.pointOptions(o,i),d=c.labels;s&&d.position===nH&&(d.position=tH),c.isStacked=s;var u=e.fields.color||o.color;l<0&&c.negativeColor&&(u=c.negativeColor),c=this.evalPointOptions(c,l,t),EN(o.color)&&(u=c.color);var p=new(this.pointType())(l,c);p.color=u;var h=a[n];h||(h=new(this.clusterType())({vertical:r.invertAxes,gap:r.gap,spacing:r.spacing,rtl:!r.invertAxes&&(this.chartService||{}).rtl}),this.append(h));r.isStacked?this.getStackWrap(s,h).append(p):h.append(p);return p},t.prototype.getStackWrap=function(e,t){var n,o=typeof e===ZD?e.group||!0:e,i=t.children;if(typeof o===oN||!0===o)for(var r=0;r<i.length;r++)if(i[r]._stackGroup===o){n=i[r];break}n||((n=new(this.stackType())({vertical:!this.options.invertAxes}))._stackGroup=o,t.append(n));return n},t.prototype.categorySlot=function(e,t,n){var o=this.options,i=e.getSlot(t),r=n.startValue();if(o.isStacked){var a=n.getSlot(r,r,!0),s=o.invertAxes?lN:cN;i[s+1]=i[s+2]=a[s+1]}return i},t.prototype.reflowCategories=function(e){for(var t=this.children,n=t.length,o=0;o<n;o++)t[o].reflow(e[o])},t.prototype.createAnimation=function(){this._setAnimationOptions(),e.prototype.createAnimation.call(this),dH(this.options.series)&&this._setChildrenAnimation()},t.prototype._setChildrenAnimation=function(){for(var e=this.points,t=0;t<e.length;t++){var n=e[t],o=n.visual;o&&bP(o.options.zIndex)&&(n.options.animation=this.options.animation,n.createAnimation())}},t.prototype._setAnimationOptions=function(){var e,t=this.options,n=t.animation||{};if(t.isStacked){var o=this.seriesValueAxis(t.series[0]);e=o.getSlot(o.startValue())}else e=this.categoryAxis.getSlot(0);n.origin=new yO(e.x1,e.y1),n.vertical=!t.invertAxes},t}(DH);RP(wq,{animation:{type:KB}});const kq=wq;var Cq=function(e){function t(t,n){e.call(this,n),this.value=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getLabelText=function(e){return this.formatValue(e.format)},t.prototype.reflow=function(e){var t=this,n=t.options,o=t.value,i=t.owner.seriesValueAxis(n),r=i.getSlot(o.open,o.close),a=i.getSlot(o.low,o.high);r.x1=a.x1=e.x1,r.x2=a.x2=e.x2,this.realBody=r;var s=a.center().x,l=[];l.push([[s,a.y1],[s,r.y1]]),l.push([[s,r.y2],[s,a.y2]]),this.lines=l,this.box=a.clone().wrap(r),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()},t.prototype.reflowNote=function(){this.note&&this.note.reflow(this.box)},t.prototype.createVisual=function(){e.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual(),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()},t.prototype.mainVisual=function(e){var t=new iL;return this.createBody(t,e),this.createLines(t,e),t},t.prototype.createBody=function(e,t){var n=GR.fromRect(this.realBody.toRect(),{fill:HL(t.pattern,{color:this.color,opacity:t.opacity}),stroke:null});t.border.width>0&&n.options.set("stroke",{color:this.getBorderColor(),width:t.border.width,dashType:t.border.dashType,opacity:PP(t.border.opacity,t.opacity)}),yN(n),e.append(n),wH(t)&&e.append(this.createGradientOverlay(n,{baseColor:this.color},_N({end:t.vertical?void 0:[0,1]},t.overlay)))},t.prototype.createLines=function(e,t){this.drawLines(e,t,this.lines,t.line)},t.prototype.drawLines=function(e,t,n,o){if(n)for(var i={stroke:{color:o.color||this.color,opacity:PP(o.opacity,t.opacity),width:o.width,dashType:o.dashType,lineCap:"butt"}},r=0;r<n.length;r++){var a=GR.fromPoints(n[r],i);yN(a),e.append(a)}},t.prototype.getBorderColor=function(){var e=this.options.border,t=e.color;return bP(t)||(t=new lM(this.color).brightness(e._brightness).toHex()),t},t.prototype.createOverlay=function(){var e=GR.fromRect(this.box.toRect(),{fill:{color:aN,opacity:0},stroke:null});this.visual.append(e)},t.prototype.createHighlight=function(){var e=this.options.highlight,t=this.color;this.color=e.color||this.color;var n=this.mainVisual(_N({},this.options,{line:{color:this.getBorderColor()}},e));return this.color=t,n},t.prototype.highlightVisual=function(){return this._mainVisual},t.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},t.prototype.tooltipAnchor=function(){var e=this.box,t=this.owner.pane.clipBox()||e;return{point:new uO(e.x2+5,Math.max(e.y1,t.y1)+5),align:{horizontal:YD,vertical:iN}}},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.overlapsBox=function(e){return this.box.overlaps(e)},t.prototype.pointData=function(){return{dataItem:this.dataItem,value:this.value,meanPoints:this.meanPoints,medianPoints:this.medianPoints,whiskerPoints:this.whiskerPoints,stackValue:this.stackValue,series:this.series}},t.prototype.getIndex=function(){return this.categoryIx},t}(jL);Cq.prototype.createFocusHighlight=mq.prototype.createFocusHighlight,RP(Cq,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},labels:{format:""},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},accessibility:{role:JV,className:QV,ariaRoleDescription:ZV}}),_N(Cq.prototype,TH),_N(Cq.prototype,MH),_N(Cq.prototype,pq);const Sq=Cq;var Iq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflowCategories=function(e){for(var t=this.children,n=t.length,o=0;o<n;o++)t[o].reflow(e[o])},t.prototype.addValue=function(e,t){var n,o=t.categoryIx,i=t.category,r=t.series,a=t.seriesIx,s=this.children,l=this.options,c=e.valueFields,d=pH(this.splitValue(c)),u=r.data[o],p=this.categoryPoints[o];p||(this.categoryPoints[o]=p=[]),d&&(n=this.createPoint(e,t));var h=s[o];h||(h=new yq({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(h)),n&&(this.updateRange(c,t),h.append(n),n.categoryIx=o,n.category=i,n.series=r,n.seriesIx=a,n.owner=this,n.dataItem=u,n.noteText=e.fields.noteText),this.points.push(n),p.push(n)},t.prototype.pointType=function(){return Sq},t.prototype.createPoint=function(e,t){var n=t.series,o=this.pointType(),i=e.valueFields,r=_N({},n),a=e.fields.color||n.color;r=this.evalPointOptions(r,i,t),n.type!==QB&&n.type!==rV||i.open>i.close&&(a=e.fields.downColor||n.downColor||n.color),EN(n.color)&&(a=r.color),r.vertical=!this.options.invertAxes;var s=new o(i,r);return s.color=a,s},t.prototype.splitValue=function(e){return[e.low,e.open,e.close,e.high]},t.prototype.updateRange=function(e,t){var n=t.series.axis,o=this.splitValue(e),i=this.valueAxisRanges[n]||{min:XD,max:JD};this.valueAxisRanges[n]={min:Math.min.apply(Math,o.concat([i.min])),max:Math.max.apply(Math,o.concat([i.max]))}},t.prototype.formatPointValue=function(e,t){var n=e.value;return this.chartService.format.auto(t,n.open,n.high,n.low,n.close,e.category)},t.prototype.animationPoints=function(){return this.points},t}(DH);_N(Iq.prototype,QH);const Eq=Iq;var jq=function(e){function t(t,n){e.call(this,t,n),this.createNote()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t,n,o=this,i=o.options,r=o.value,a=o.owner.seriesValueAxis(i);this.boxSlot=n=a.getSlot(r.q1,r.q3),this.realBody=n,this.reflowBoxSlot(e),this.whiskerSlot=t=a.getSlot(r.lower,r.upper),this.reflowWhiskerSlot(e);var s=a.getSlot(r.median);if(r.mean){var l=a.getSlot(r.mean);this.meanPoints=this.calcMeanPoints(e,l)}this.whiskerPoints=this.calcWhiskerPoints(n,t),this.medianPoints=this.calcMedianPoints(e,s),this.box=t.clone().wrap(n),this.reflowNote()},t.prototype.reflowBoxSlot=function(e){this.boxSlot.x1=e.x1,this.boxSlot.x2=e.x2},t.prototype.reflowWhiskerSlot=function(e){this.whiskerSlot.x1=e.x1,this.whiskerSlot.x2=e.x2},t.prototype.calcMeanPoints=function(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]},t.prototype.calcWhiskerPoints=function(e,t){var n=t.center().x;return[[[n-5,t.y1],[n+5,t.y1],[n,t.y1],[n,e.y1]],[[n-5,t.y2],[n+5,t.y2],[n,t.y2],[n,e.y2]]]},t.prototype.calcMedianPoints=function(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]},t.prototype.renderOutliers=function(e){for(var t=this.value,n=t.outliers||[],o=3*Math.abs(t.q3-t.q1),i=[],r=e.markers||{},a=0;a<n.length;a++){var s=n[a],l=_N({},(r=s<t.q3+o&&s>t.q1-o?e.outliers:e.extremes).border);bP(l.color)||(bP(this.color)?l.color=this.color:l.color=new lM(r.background).brightness(RB).toHex());var c=new KL({type:r.type,width:r.size,height:r.size,rotation:r.rotation,background:r.background,border:l,opacity:r.opacity});c.value=s,i.push(c)}return this.reflowOutliers(i),i},t.prototype.reflowOutliers=function(e){for(var t=this,n=this.owner.seriesValueAxis(this.options),o=this.box.center(),i=0;i<e.length;i++){var r=e[i].value,a=n.getSlot(r);t.options.vertical?a.move(o.x):a.move(void 0,o.y),t.box=t.box.wrap(a),e[i].reflow(a)}},t.prototype.mainVisual=function(t){for(var n=e.prototype.mainVisual.call(this,t),o=this.renderOutliers(t),i=0;i<o.length;i++){var r=o[i].getElement();r&&n.append(r)}return n},t.prototype.createLines=function(e,t){this.drawLines(e,t,this.whiskerPoints,t.whiskers),this.drawLines(e,t,this.medianPoints,t.median),this.drawLines(e,t,this.meanPoints,t.mean)},t.prototype.getBorderColor=function(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:e.prototype.getBorderColor.call(this)},t}(Sq);RP(jq,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:zD,background:aN,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:FD,background:aN,border:{width:2,opacity:1},opacity:0}}),_N(jq.prototype,TH);const Aq=jq;var _q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflowBoxSlot=function(e){this.boxSlot.y1=e.y1,this.boxSlot.y2=e.y2},t.prototype.reflowWhiskerSlot=function(e){this.whiskerSlot.y1=e.y1,this.whiskerSlot.y2=e.y2},t.prototype.calcMeanPoints=function(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]},t.prototype.calcWhiskerPoints=function(e,t){var n=t.center().y;return[[[t.x1,n-5],[t.x1,n+5],[t.x1,n],[e.x1,n]],[[t.x2,n-5],[t.x2,n+5],[t.x2,n],[e.x2,n]]]},t.prototype.calcMedianPoints=function(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]},t}(Aq);const Dq=_q;var Nq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addValue=function(e,t){var n,o=t.categoryIx,i=t.category,r=t.series,a=t.seriesIx,s=this.children,l=this.options,c=e.valueFields,d=pH(this.splitValue(c)),u=r.data[o],p=this.categoryPoints[o];p||(this.categoryPoints[o]=p=[]),d&&(n=this.createPoint(e,t));var h=s[o];h||(h=new yq({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(h)),n&&(this.updateRange(c,t),h.append(n),n.categoryIx=o,n.category=i,n.series=r,n.seriesIx=a,n.owner=this,n.dataItem=u),this.points.push(n),p.push(n)},t.prototype.pointType=function(){return this.options.invertAxes?Dq:Aq},t.prototype.splitValue=function(e){return[e.lower,e.q1,e.median,e.q3,e.upper]},t.prototype.updateRange=function(e,t){var n=t.series.axis,o=this.splitValue(e).concat(this.filterOutliers(e.outliers));bP(e.mean)&&(o=o.concat(e.mean));var i=this.valueAxisRanges[n]||{min:XD,max:JD};this.valueAxisRanges[n]={min:Math.min.apply(Math,o.concat([i.min])),max:Math.max.apply(Math,o.concat([i.max]))}},t.prototype.formatPointValue=function(e,t){var n=e.value;return this.chartService.format.auto(t,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,e.category)},t.prototype.filterOutliers=function(e){for(var t=(e||[]).length,n=[],o=0;o<t;o++){var i=e[o];bP(i)&&null!==i&&n.push(i)}return n},t.prototype.supportsPointInactiveOpacity=function(){return!1},t}(Eq);const Tq=Nq;var Pq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getAxis=function(){var e=this.chart.seriesAxes(this.series);return this.isVertical?e.y:e.x},t}(sH);const Mq=Pq;var Oq=function(e){function t(t,n){e.call(this,n),this.plotArea=t,this.chartService=t.chartService,this._initFields(),this.render()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initFields=function(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]},t.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},t.prototype.addErrorBar=function(e,t,n){var o,i=e.value[t],r=t+"Value",a=t+"ErrorLow",s=t+"ErrorHigh",l=n.seriesIx,c=n.series,d=e.options.errorBars,u=n[a],p=n[s];bN(i)&&(bN(u)&&bN(p)&&(o={low:u,high:p}),d&&bP(d[r])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[t][l]=this.seriesErrorRanges[t][l]||new TB(d[r],c,t),o=this.seriesErrorRanges[t][l].getErrorRange(i,d[r])),o&&this.addPointErrorBar(o,e,t))},t.prototype.addPointErrorBar=function(e,t,n){var o=e.low,i=e.high,r=t.series,a=t.options.errorBars,s=n===cN,l={};t[n+"Low"]=o,t[n+"High"]=i,t.errorBars=t.errorBars||[];var c=new Mq(o,i,s,this,r,a);t.errorBars.push(c),t.append(c),l[n]=o,this.updateRange(l,r),l[n]=i,this.updateRange(l,r)},t.prototype.addValue=function(e,t){var n,o=e.x,i=e.y,r=t.seriesIx,a=this.options.series[r],s=this.seriesMissingValues(a),l=this.seriesPoints[r],c=e;kH(o)&&kH(i)||(c=this.createMissingValue(c,s)),c&&((n=this.createPoint(c,t))&&(Object.assign(n,t),this.addErrorBar(n,lN,t),this.addErrorBar(n,cN,t)),this.updateRange(c,t.series)),this.points.push(n),l.push(n)},t.prototype.seriesMissingValues=function(e){return e.missingValues},t.prototype.createMissingValue=function(){},t.prototype.updateRange=function(e,t){var n=this.chartService.intl,o=t.xAxis,i=t.yAxis,r=e.x,a=e.y,s=this.xAxisRanges[o],l=this.yAxisRanges[i];kH(r)&&(s=this.xAxisRanges[o]=s||{min:XD,max:JD},wN(r)&&(r=Sz(n,r)),s.min=Math.min(s.min,r),s.max=Math.max(s.max,r)),kH(a)&&(l=this.yAxisRanges[i]=l||{min:XD,max:JD},wN(a)&&(a=Sz(n,a)),l.min=Math.min(l.min,a),l.max=Math.max(l.max,a))},t.prototype.evalPointOptions=function(e,t,n){var o=n.series,i=n.seriesIx,r={defaults:o._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]},a=this._evalSeries[i];bP(a)||(this._evalSeries[i]=a=vH(e,{},r,!0));var s=e;return a&&vH(s=_N({},e),{value:t,series:o,dataItem:n.dataItem},r),s},t.prototype.pointType=function(){return RH},t.prototype.pointOptions=function(e,t){var n=this.seriesOptions[t];if(!n){var o=this.pointType().prototype.defaults;this.seriesOptions[t]=n=_N({},o,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return n},t.prototype.createPoint=function(e,t){var n=t.series,o=this.pointOptions(n,t.seriesIx),i=t.color||n.color;o=this.evalPointOptions(o,e,t),EN(n.color)&&(i=o.color);var r=new RH(e,o);return r.color=i,this.append(r),r},t.prototype.seriesAxes=function(e){var t=e.xAxis,n=e.yAxis,o=this.plotArea,i=t?o.namedXAxes[t]:o.axisX,r=n?o.namedYAxes[n]:o.axisY;if(!i)throw new Error("Unable to locate X axis with name "+t);if(!r)throw new Error("Unable to locate Y axis with name "+n);return{x:i,y:r}},t.prototype.reflow=function(e){var t=this,n=this.points,o=!this.options.clip,i=0;this.traverseDataPoints(function(e,r){var a=n[i++],s=t.seriesAxes(r.series),l=s.x.getSlot(e.x,e.x,o),c=s.y.getSlot(e.y,e.y,o);if(a)if(l&&c){var d=t.pointSlot(l,c);a.reflow(d)}else a.visible=!1}),this.box=e},t.prototype.pointSlot=function(e,t){return new IO(e.x1,t.y1,e.x2,t.y2)},t.prototype.traverseDataPoints=function(e){for(var t=this.options.series,n=this.seriesPoints,o=0;o<t.length;o++){var i=t[o];n[o]||(n[o]=[]);for(var r=0;r<i.data.length;r++){var a=this.plotArea.bindPoint(i,r),s=a.valueFields,l=a.fields;e(s,_N({pointIx:r,series:i,seriesIx:o,dataItem:i.data[r],owner:this},l))}}},t.prototype.formatPointValue=function(e,t){var n=e.value;return this.chartService.format.auto(t,n.x,n.y)},t.prototype.animationPoints=function(){for(var e=this.points,t=[],n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t},t}(jL);RP(Oq,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),_N(Oq.prototype,QH);const Rq=Oq;var Lq=function(e){function t(t,n){e.call(this,t,n),this.category=t.category}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createHighlight=function(){var e=this.options.highlight,t=e.border,n=this.options.markers,o=this.box.center(),i=(n.size+n.border.width+t.width)/2,r=new iL,a=new tL(new QR([o.x,o.y+i/5+t.width/2],i+t.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:n.background,stops:[{offset:0,color:n.background,opacity:.3},{offset:1,color:n.background,opacity:0}]})}),s=new tL(new QR([o.x,o.y],i),{stroke:{color:t.color||new lM(n.background).brightness(RB).toHex(),width:t.width,opacity:t.opacity},fill:HL(this.options.pattern,{color:n.background,opacity:e.opacity})});return r.append(a,s),r},t.prototype.createFocusHighlight=function(e){var t=this.options.focusHighlight,n=this.options.markers,o=this.box.center(),i=(n.size+n.border.width)/2+t.border.width/2;return new tL(new QR([o.x,o.y],i),e)},t}(RH);Lq.prototype.defaults=_N({},Lq.prototype.defaults,{labels:{position:LD},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),Lq.prototype.defaults.highlight.zIndex=void 0;const Fq=Lq;var zq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initFields=function(){this._maxSize=JD,e.prototype._initFields.call(this)},t.prototype.addValue=function(t,n){null!==t.size&&(t.size>0||t.size<0&&n.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(t.size)),e.prototype.addValue.call(this,t,n)):(this.points.push(null),this.seriesPoints[n.seriesIx].push(null))},t.prototype.reflow=function(t){this.updateBubblesSize(t),e.prototype.reflow.call(this,t)},t.prototype.pointType=function(){return Fq},t.prototype.createPoint=function(e,t){var n=t.series,o=n.data.length,i=t.pointIx*(MB/o),r={delay:i,duration:MB-i,type:XB},a=t.color||n.color;e.size<0&&n.negativeValues.visible&&(a=PP(n.negativeValues.color,a));var s=_N({labels:{animation:{delay:i,duration:MB-i}}},this.pointOptions(n,t.seriesIx),{markers:{type:FD,border:n.border,opacity:n.opacity,animation:r}});s=this.evalPointOptions(s,e,t),EN(n.color)&&(a=s.color),s.markers.background=a;var l=new Fq(e,s);return l.color=a,this.append(l),l},t.prototype.updateBubblesSize=function(e){for(var t=this.options.series,n=Math.min(e.width(),e.height()),o=0;o<t.length;o++)for(var i=t[o],r=this.seriesPoints[o],a=(i.minSize||Math.max(.02*n,10))/2,s=(i.maxSize||.2*n)/2,l=Math.PI*a*a,c=(Math.PI*s*s-l)/this._maxSize,d=0;d<r.length;d++){var u=r[d];if(u){var p=Math.abs(u.value.size)*c,h=Math.sqrt((l+p)/Math.PI),m=PP(u.options.zIndex,0)+(1-h/s);_N(u.options,{zIndex:m,markers:{size:2*h,zIndex:m},labels:{zIndex:m+1}})}}},t.prototype.formatPointValue=function(e,t){var n=e.value;return this.chartService.format.auto(t,n.x,n.y,n.size,e.category)},t.prototype.createAnimation=function(){},t.prototype.createVisual=function(){},t}(Rq);RP(zq,{tooltip:{format:"{3}"},labels:{format:"{3}"}});const Bq=zq;var Vq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(KL);_N(Vq.prototype,TH);const Hq=Vq;var qq=function(e){function t(t,n){e.call(this,n),this.aboveAxis=this.options.aboveAxis,this.color=n.color||aN,this.value=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.options;this._rendered||(this._rendered=!0,bP(this.value.target)&&(this.target=new Hq({type:e.target.shape,background:e.target.color||this.color,opacity:e.opacity,zIndex:e.zIndex,border:e.target.border,vAlign:iN,align:eN}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createLabel(),this.createNote())},t.prototype.createLabel=function(){var e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))},t.prototype.createLabelElement=function(e){return new uq(this.getLabelText(e),e,this.pointData())},t.prototype.getLabelText=function(e){var t=zN(e);return t?t(this.pointData()):this.formatValue(e.format)},t.prototype.reflow=function(e){this.render();var t=this,n=t.options,o=t.target,i=t.owner,r=n.invertAxes,a=i.seriesValueAxis(this.options),s=i.categorySlot(i.categoryAxis,n.categoryIx,a),l=a.getSlot(this.value.target),c=r?l:s,d=r?s:l;if(o){var u=new IO(c.x1,d.y1,c.x2,d.y2);o.options.height=r?u.height():n.target.line.width,o.options.width=r?n.target.line.width:u.width(),o.reflow(u)}var p=this.label;p&&(p.options.aboveAxis=this.aboveAxis,p.reflow(e)),this.note&&this.note.reflow(e),this.box=e},t.prototype.createVisual=function(){e.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual();var t=this.options,n=GR.fromRect(this.box.toRect(),{fill:HL(t.pattern,{color:this.color,opacity:t.opacity}),stroke:null});t.border.width>0&&n.options.set("stroke",{color:t.border.color||this.color,width:t.border.width,dashType:t.border.dashType,opacity:PP(t.border.opacity,t.opacity)}),this.bodyVisual=n,yN(n),this.visual.append(n)},t.prototype.createAnimation=function(){this.bodyVisual&&(this.animation=IL.create(this.bodyVisual,this.options.animation))},t.prototype.createHighlight=function(e){return GR.fromRect(this.box.toRect(),e)},t.prototype.highlightVisual=function(){return this.bodyVisual},t.prototype.highlightVisualArgs=function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series}},t.prototype.overlapsBox=function(e){return this.box.overlaps(e)},t.prototype.getIndex=function(){return this.categoryIx},t}(jL);qq.prototype.tooltipAnchor=mq.prototype.tooltipAnchor,qq.prototype.createFocusHighlight=mq.prototype.createFocusHighlight,RP(qq,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},labels:{visible:!1},tooltip:{format:"Current: {0}<br />Target: {1}"},notes:{label:{}},accessibility:{role:JV,className:QV,ariaRoleDescription:ZV}}),_N(qq.prototype,TH),_N(qq.prototype,MH),_N(qq.prototype,pq);const Uq=qq;var Gq=function(e){function t(t,n){!function(e){for(var t=e.series,n=0;n<t.length;n++){var o=t[n],i=o.data;!i||pN(i[0])||DN(i[0])||(o.data=[i])}}(n),e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflowCategories=function(e){for(var t=this.children,n=t.length,o=0;o<n;o++)t[o].reflow(e[o])},t.prototype.plotRange=function(e){var t=e.series,n=this.seriesValueAxis(t),o=this.categoryAxisCrossingValue(n);return[o,e.value.current||o]},t.prototype.createPoint=function(e,t){var n=t.categoryIx,o=t.series,i=this.options,r=this.children,a=e.valueFields,s=_N({vertical:!i.invertAxes,overlay:o.overlay,categoryIx:n,invertAxes:i.invertAxes},o),l=e.fields.color||o.color;s=this.evalPointOptions(s,a,t),EN(o.color)&&(l=s.color);var c=new Uq(a,s);c.color=l;var d=r[n];return d||(d=new yq({vertical:i.invertAxes,gap:i.gap,spacing:i.spacing,rtl:!i.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),d.append(c),c},t.prototype.updateRange=function(e,t){var n=e.current,o=e.target,i=t.series.axis,r=this.valueAxisRanges[i];bP(n)&&!isNaN(n)&&bP(o&&!isNaN(o))&&((r=this.valueAxisRanges[i]=r||{min:XD,max:JD}).min=Math.min(r.min,n,o),r.max=Math.max(r.max,n,o))},t.prototype.formatPointValue=function(e,t){return this.chartService.format.auto(t,e.value.current,e.value.target)},t.prototype.pointValue=function(e){return e.valueFields.current},t.prototype.aboveAxis=function(e){return e.value.current>0},t.prototype.createAnimation=function(){var e=this.points;this._setAnimationOptions();for(var t=0;t<e.length;t++){var n=e[t];n.options.animation=this.options.animation,n.createAnimation()}},t}(DH);Gq.prototype._setAnimationOptions=kq.prototype._setAnimationOptions,RP(Gq,{animation:{type:KB}});const Wq=Gq;var Kq=function(e){function t(t,n){e.call(this),this.chartService=t,this.options=_N({},this.options,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getStyle=function(e,t){var n=e.background,o=e.border.color;if(t){var i=t.color||t.options.color;n=PP(n,i),o=PP(o,i)}var r=void 0!==e.padding?ON(e.padding):{};return"object"===typeof e.padding&&(r.top=void 0!==e.padding.top?r.top:void 0,r.right=void 0!==e.padding.right?r.right:void 0,r.bottom=void 0!==e.padding.bottom?r.bottom:void 0,r.left=void 0!==e.padding.left?r.left:void 0),{backgroundColor:n,borderColor:o,font:e.font,color:e.color,opacity:e.opacity,borderWidth:NN(e.border.width),paddingTop:NN(r.top),paddingBottom:NN(r.bottom),paddingLeft:NN(r.left),paddingRight:NN(r.right)}},t.prototype.show=function(e,t,n){if(this.chartService){e.format=t.format;var o=this.getStyle(t,n);e.style=o;var i=new lM(o.backgroundColor);bP(t.color)||i.isDark()||(e.className="k-chart-tooltip-inverse"),this.chartService.notify(YV,e),this.visible=!0}},t.prototype.hide=function(){this.chartService&&this.chartService.notify(XV),this.visible=!1},t.prototype.destroy=function(){delete this.chartService},t}(aT);RP(Kq,{border:{width:1},opacity:1});const Yq=Kq;var Xq=function(e){function t(t,n,o){e.call(this,t,o),this.crosshair=n,this.formatService=t.format,this.initAxisName()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initAxisName=function(){var e,t=this.crosshair.axis;e=t.plotArea.categoryAxis?t.getCategory?"categoryAxis":"valueAxis":t.options.vertical?"yAxis":"xAxis",this.axisName=e},t.prototype.showAt=function(e){var t=this.crosshair.axis,n=this.options,o=t[n.stickyMode?"getCategory":"getValue"](e),i=o;n.format?i=this.formatService.auto(n.format,o):t.options.type===BD&&(i=this.formatService.auto(t.options.labels.dateFormats[t.options.baseUnit],o)),this.show({point:e,anchor:this.getAnchor(),crosshair:this.crosshair,value:i,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)},t.prototype.hide=function(){this.chartService.notify(XV,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})},t.prototype.getAnchor=function(){var e,t,n,o=this.crosshair,i=this.options,r=i.position,a=i.padding,s=!o.axis.options.vertical,l=o.line.bbox();return s?(e=LD,r===RD?(t=iN,n=l.bottomLeft().translate(0,a)):(t=RD,n=l.topLeft().translate(0,-a))):(t=LD,r===YD?(e=eN,n=l.topLeft().translate(-a,0)):(e=YD,n=l.topRight().translate(a,0))),{point:n,align:{horizontal:e,vertical:t}}},t}(Yq);RP(Xq,{padding:10});const Jq=Xq;var Qq=function(e){function t(t,n,o){e.call(this,o),this.axis=n,this.stickyMode=n instanceof Az;var i=this.options.tooltip;i.visible&&(this.tooltip=new Jq(t,this,_N({},i,{stickyMode:this.stickyMode})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.showAt=function(e){this.point=e,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(e)},t.prototype.hide=function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()},t.prototype.moveLine=function(){var e,t=this.axis,n=this.point,o=t.options.vertical,i=this.getBox(),r=o?cN:lN,a=new yO(i.x1,i.y1);if(e=o?new yO(i.x2,i.y1):new yO(i.x1,i.y2),n)if(this.stickyMode){var s=t.getSlot(t.pointCategoryIndex(n));a[r]=e[r]=s.center()[r]}else a[r]=e[r]=n[r];this.box=i,this.line.moveTo(a).lineTo(e)},t.prototype.getBox=function(){for(var e,t=this.axis,n=t.pane.axes,o=n.length,i=t.options.vertical,r=t.lineBox().clone(),a=i?lN:cN,s=0;s<o;s++){var l=n[s];l.options.vertical!==i&&(e?e.wrap(l.lineBox()):e=l.lineBox().clone())}return r[a+1]=e[a+1],r[a+2]=e[a+2],r},t.prototype.createVisual=function(){e.prototype.createVisual.call(this);var t=this.options;this.line=new GR({stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)},t.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),e.prototype.destroy.call(this)},t}(jL);RP(Qq,{color:OD,width:2,zIndex:-1,tooltip:{visible:!1}});const Zq=Qq;var $q=function(e){function t(t,n){e.call(this,t),this.pane=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.shouldClip=function(){for(var e=this.children,t=e.length,n=0;n<t;n++)if(!0===e[n].options.clip)return!0;return!1},t.prototype._clipBox=function(){return this.pane.chartsBox()},t.prototype.createVisual=function(){if(this.visual=new iL({zIndex:0}),this.shouldClip()){var e=(this.clipBox=this._clipBox()).toRect(),t=GR.fromRect(e);yN(t),this.visual.clip(t),this.unclipLabels()}},t.prototype.stackRoot=function(){return this},t.prototype.unclipLabels=function(){for(var e=this.children,t=this.clipBox,n=0;n<e.length;n++)for(var o=e[n].points||{},i=o.length,r=0;r<i;r++){var a=o[r];if(a&&!1!==a.visible&&a.overlapsBox&&a.overlapsBox(t))if(a.unclipElements)a.unclipElements();else{var s=a.label,l=a.note;s&&s.options.visible&&(s.alignToClipBox&&s.alignToClipBox(t),s.options.noclip=!0),l&&l.options.visible&&(l.options.noclip=!0)}}},t.prototype.destroy=function(){e.prototype.destroy.call(this),delete this.parent},t}(jL);$q.prototype.isStackRoot=!0;const eU=$q;var tU=function(e){function t(t){e.call(this,t),this.id="pane"+nU++,this.createTitle(),this.content=new jL,this.chartContainer=new eU({},this),this.append(this.content),this.axes=[],this.charts=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createTitle=function(){var e=this.options.title;DN(e)&&(e=_N({},e,{align:e.position,position:iN})),this.title=SF.buildTitle(e,t.prototype.options.title),this.title&&this.append(this.title)},t.prototype.appendAxis=function(e){this.content.append(e),this.axes.push(e),e.pane=this},t.prototype.appendAxisAt=function(e,t){this.content.append(e),this.axes.splice(t,0,e),e.pane=this},t.prototype.appendChart=function(e){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(e),this.chartContainer.append(e),e.pane=this},t.prototype.empty=function(){var e=this.parent;if(e){for(var t=0;t<this.axes.length;t++)e.removeAxis(this.axes[t]);for(var n=0;n<this.charts.length;n++)e.removeChart(this.charts[n])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]},t.prototype.reflow=function(t){var n;jP(this.children)===this.content&&(n=this.children.pop()),e.prototype.reflow.call(this,t),n&&this.children.push(n),this.title&&(this.contentBox.y1+=this.title.box.height())},t.prototype.visualStyle=function(){var t=e.prototype.visualStyle.call(this);return t.zIndex=-10,t},t.prototype.renderComplete=function(){this.options.visible&&this.createGridLines()},t.prototype.stackRoot=function(){return this},t.prototype.clipRoot=function(){return this},t.prototype.createGridLines=function(){for(var e=this.axes,t=e.concat(this.parent.axes),n=[],o=[],i=0;i<e.length;i++)for(var r=e[i],a=r.options.vertical,s=a?n:o,l=0;l<t.length;l++)if(0===s.length){var c=t[l];a!==c.options.vertical&&yP(s,r.createGridLines(c))}},t.prototype.refresh=function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()},t.prototype.chartsBox=function(){for(var e=this.axes,t=e.length,n=new IO,o=0;o<t;o++){var i=e[o],r=i.options.vertical?cN:lN,a=i.lineBox();n[r+1]=a[r+1],n[r+2]=a[r+2]}if(0===n.x2)for(var s=this.parent.axes,l=s.length,c=0;c<l;c++){var d=s[c];if(!d.options.vertical){var u=d.lineBox();n.x1=u.x1,n.x2=u.x2}}return n},t.prototype.clipBox=function(){return this.chartContainer.clipBox},t.prototype.notifyRender=function(){var e=this.getService();e&&e.notify("paneRender",{pane:new bB(this),index:this.paneIndex,name:this.options.name})},t}(UL),nU=1;tU.prototype.isStackRoot=!0,RP(tU,{zIndex:-1,shrinkToFit:!0,title:{align:YD},visible:!0});const oU=tU;var iU=function(e){return!1!==e.options.visible},rU=function(e){function t(t,n,o){e.call(this,n),this.initFields(t,n),this.series=t,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.data=[],this.axes=[],this.crosshairs=[],this.chartService=o,this.originalOptions=n,this.originalSeries=t,this._bindCache=new WeakMap,this.createPanes(),this.render(),this.createCrosshairs()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(){},t.prototype.initSeries=function(){for(var e=this.series,t=0;t<e.length;t++)e[t].index=t},t.prototype.bindPoint=function(e,t,n){var o=this._bindCache.get(e);o||(o=[],this._bindCache.set(e,o));var i=o[t];return i||(i=o[t]=AB.current.bindPoint(e,t,n)),i},t.prototype.createPanes=function(){for(var e=this.options.title||{},t=this.options.paneDefaults,n=this.options.panes||[],o=Math.max(n.length,1),i=[],r=_N({title:{color:e.color}},t),a=0;a<o;a++){var s=_N({},r,n[a]);wN(s.title)&&(s.title=_N({text:s.title},r.title));var l=new oU(s);l.paneIndex=a,i.push(l),this.append(l)}this.panes=i},t.prototype.crosshairOptions=function(e){return e.options.crosshair},t.prototype.createCrosshairs=function(e){var t=this;void 0===e&&(e=this.panes);for(var n=0;n<e.length;n++)for(var o=e[n],i=0;i<o.axes.length;i++){var r=o.axes[i],a=t.crosshairOptions(r);if(a&&a.visible){var s=new Zq(t.chartService,r,a);t.crosshairs.push(s),o.content.append(s)}}},t.prototype.removeCrosshairs=function(e){for(var t=this.crosshairs,n=e.axes,o=t.length-1;o>=0;o--)for(var i=0;i<n.length;i++)if(t[o].axis===n[i]){t.splice(o,1);break}},t.prototype.hideCrosshairs=function(){for(var e=this.crosshairs,t=0;t<e.length;t++)e[t].hide()},t.prototype.findPane=function(e){for(var t,n=this.panes,o=0;o<n.length;o++)if(n[o].options.name===e){t=n[o];break}return t||n[0]},t.prototype.findPointPane=function(e){for(var t,n=this.panes,o=0;o<n.length;o++)if(n[o].box.containsPoint(e)){t=n[o];break}return t},t.prototype.appendAxis=function(e){this.findPane(e.options.pane).appendAxis(e),this.axes.push(e),e.plotArea=this},t.prototype.removeAxis=function(e){for(var t=[],n=0;n<this.axes.length;n++){var o=this.axes[n];e!==o?t.push(o):o.destroy()}this.axes=t},t.prototype.appendChart=function(e,t){this.charts.push(e),t?t.appendChart(e):this.append(e)},t.prototype.removeChart=function(e){for(var t=[],n=0;n<this.charts.length;n++){var o=this.charts[n];o!==e?t.push(o):o.destroy()}this.charts=t},t.prototype.addToLegend=function(e){for(var t=e.length,n=this.options.legend,o=n.labels||{},i=n.inactiveItems||{},r=i.labels||{},a=[],s=0;s<t;s++){var l=e[s],c=!1!==l.visible;if(!1!==l.visibleInLegend){var d=l.name,u=c?zN(o):zN(r)||zN(o);u&&(d=u({text:kH(d)?d:"",series:l}));var p=l._defaults,h=l.color;EN(h)&&p&&(h=p.color);var m=void 0,f=void 0;c?(m={},f=h):(m={color:r.color,font:r.font},f=i.markers.color),kH(d)&&""!==d&&a.push({text:d,labels:m,markerColor:f,series:l,active:c})}}yP(n.data,a)},t.prototype.groupAxes=function(e){for(var t=[],n=[],o=0;o<e.length;o++)for(var i=e[o].axes,r=0;r<i.length;r++){var a=i[r];a.options.vertical?n.push(a):t.push(a)}return{x:t,y:n,any:t.concat(n)}},t.prototype.groupSeriesByPane=function(){for(var e=this.series,t={},n=0;n<e.length;n++){var o=e[n],i=this.seriesPaneName(o);t[i]?t[i].push(o):t[i]=[o]}return t},t.prototype.filterVisibleSeries=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];!1!==o.visible&&t.push(o)}return t},t.prototype.reflow=function(e){var t=this.options.plotArea,n=this.panes,o=ON(t.margin);this.box=e.clone().unpad(o),this.reflowPanes(),this.detachLabels(),this.reflowAxes(n),this.reflowCharts(n)},t.prototype.redraw=function(e){var t=[].concat(e);this.initSeries();var n=this.getRoot();n&&n.cleanGradients();for(var o=0;o<t.length;o++)this.removeCrosshairs(t[o]),t[o].empty();this._bindCache=new WeakMap,this.render(t),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(t),this.createCrosshairs(t);for(var i=0;i<t.length;i++)t[i].refresh()},t.prototype.axisCrossingValues=function(e,t){for(var n=e.options,o=[].concat(n.axisCrossingValues||n.axisCrossingValue),i=t.length-o.length,r=o[0]||0,a=0;a<i;a++)o.push(r);return o},t.prototype.alignAxisTo=function(e,t,n,o){var i=e.getSlot(n,n,!0),r=e.options.reverse?2:1,a=t.getSlot(o,o,!0),s=t.options.reverse?2:1,l=e.box.translate(a[lN+s]-i[lN+r],a[cN+s]-i[cN+r]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l)},t.prototype.alignAxes=function(e,t){for(var n=this,o=e[0],i=t[0],r=this.axisCrossingValues(o,t),a=this.axisCrossingValues(i,e),s={},l={},c={},d={},u=0;u<t.length;u++){var p=t[u],h=p.pane,m=h.id,f=!1!==p.options.visible,g=lU(e,h)||o,v=r;if(g!==o&&(v=n.axisCrossingValues(g,t)),n.alignAxisTo(p,g,a[u],v[u]),!p.options._overlap){NP(p.lineBox().x1)===NP(g.lineBox().x1)&&(s[m]&&p.reflow(p.box.alignTo(s[m].box,YD).translate(-p.options.margin,0)),f&&(s[m]=p)),NP(p.lineBox().x2)===NP(g.lineBox().x2)&&(p._mirrored||(p.options.labels.mirror=!p.options.labels.mirror,p._mirrored=!0),n.alignAxisTo(p,g,a[u],v[u]),l[m]&&p.reflow(p.box.alignTo(l[m].box,eN).translate(p.options.margin,0)),f&&(l[m]=p));var y=lU(t,h)||i;y!==p&&(p.alignTo(y),p.reflow(p.box))}}for(var x=0;x<e.length;x++){var b=e[x],w=b.pane,k=w.id,C=!1!==b.options.visible,S=lU(t,w)||i,I=a;S!==i&&(I=n.axisCrossingValues(S,e)),n.alignAxisTo(b,S,r[x],I[x]),b.options._overlap||(NP(b.lineBox().y1)===NP(S.lineBox().y1)&&(b._mirrored||(b.options.labels.mirror=!b.options.labels.mirror,b._mirrored=!0),n.alignAxisTo(b,S,r[x],I[x]),c[k]&&b.reflow(b.box.alignTo(c[k].box,iN).translate(0,-b.options.margin)),C&&(c[k]=b)),NP(b.lineBox().y2,3)===NP(S.lineBox().y2,3)&&(d[k]&&b.reflow(b.box.alignTo(d[k].box,RD).translate(0,b.options.margin)),C&&(d[k]=b)),0!==x&&(b.alignTo(o),b.reflow(b.box)))}},t.prototype.shrinkAxisWidth=function(e){for(var t=this.groupAxes(e).any,n=sU(t),o=0,i=0;i<e.length;i++){var r=e[i];r.axes.length>0&&(o=Math.max(o,n.width()-r.contentBox.width()))}if(0!==o)for(var a=0;a<t.length;a++){var s=t[a];s.options.vertical||s.reflow(s.box.shrink(o,0))}},t.prototype.shrinkAxisHeight=function(e){for(var t,n=0;n<e.length;n++){var o=e[n],i=o.axes,r=Math.max(0,sU(i).height()-o.contentBox.height());if(0!==r){for(var a=0;a<i.length;a++){var s=i[a];s.options.vertical&&s.reflow(s.box.shrink(0,r))}t=!0}}return t},t.prototype.fitAxes=function(e){for(var t=this.groupAxes(e).any,n=0,o=0;o<e.length;o++){var i=e[o],r=i.axes,a=i.contentBox;if(r.length>0){var s=sU(r),l=Math.max(a.y1-s.y1,a.y2-s.y2);n=Math.max(n,a.x1-s.x1);for(var c=0;c<r.length;c++){var d=r[c];d.reflow(d.box.translate(0,l))}}}for(var u=0;u<t.length;u++){var p=t[u];p.reflow(p.box.translate(n,0))}},t.prototype.reflowAxes=function(e){for(var t=this.groupAxes(e),n=0;n<e.length;n++)this.reflowPaneAxes(e[n]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e),this.autoRotateAxisLabels(t),this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e)&&this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e),this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e)&&this.alignAxes(t.x,t.y),this.fitAxes(e))},t.prototype.autoRotateAxisLabels=function(e){for(var t,n=this.panes,o=cU(n),i=0;i<o.length;i++){o[i].autoRotateLabels()&&(t=!0)}if(t){for(var r=0;r<n.length;r++)this.reflowPaneAxes(n[r]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(n))}},t.prototype.reflowPaneAxes=function(e){var t=e.axes,n=t.length;if(n>0)for(var o=0;o<n;o++)t[o].reflow(e.contentBox)},t.prototype.reflowCharts=function(e){for(var t=this.charts,n=t.length,o=this.box,i=0;i<n;i++){var r=t[i].pane;r&&!YN(r,e)||t[i].reflow(o)}},t.prototype.reflowPanes=function(){for(var e=this.box,t=this.panes,n=t.length,o=e.height(),i=0,r=e.y1,a=0;a<n;a++){var s=t[a],l=s.options.height;if(s.options.width=e.width(),s.options.height){if(l.indexOf&&l.indexOf("%")){var c=parseInt(l,10)/100;s.options.height=c*e.height()}s.reflow(e.clone()),o-=s.options.height}else i++}for(var d=0;d<n;d++){var u=t[d];u.options.height||(u.options.height=o/i)}for(var p=0;p<n;p++){var h=t[p],m=e.clone().move(e.x1,r);h.reflow(m),r+=h.options.height}},t.prototype.backgroundBox=function(){for(var e,t=this.axes,n=t.length,o=0;o<n;o++)for(var i=t[o],r=0;r<n;r++){var a=t[r];if(i.options.vertical!==a.options.vertical){var s=i.lineBox().clone().wrap(a.lineBox());e=e?e.wrap(s):s}}return e||this.box},t.prototype.chartsBoxes=function(){for(var e=this.panes,t=[],n=0;n<e.length;n++)t.push(e[n].chartsBox());return t},t.prototype.addBackgroundPaths=function(e){for(var t=this.chartsBoxes(),n=0;n<t.length;n++)e.paths.push(GR.fromRect(t[n].toRect()))},t.prototype.backgroundContainsPoint=function(e){for(var t=this.chartsBoxes(),n=0;n<t.length;n++)if(t[n].containsPoint(e))return!0},t.prototype.createVisual=function(){e.prototype.createVisual.call(this);var t,n=this.options.plotArea,o=n.opacity,i=n.background,r=n.border;void 0===r&&(r={}),""!==(t=i)&&null!==t&&"none"!==t&&"transparent"!==t&&bP(t)||(i=aN,o=0);var a=this._bgVisual=new WR({fill:{color:i,opacity:o},stroke:{color:r.width?r.color:"",width:r.width,dashType:r.dashType},zIndex:-1});this.addBackgroundPaths(a),this.appendVisual(a)},t.prototype.pointsByCategoryIndex=function(e){var t=this.charts,n=[];if(null!==e)for(var o=0;o<t.length;o++){if("_navigator"!==t[o].pane.options.name){var i=t[o].categoryPoints[e];if(i&&i.length)for(var r=0;r<i.length;r++){var a=i[r];a&&bP(a.value)&&null!==a.value&&n.push(a)}}}return n},t.prototype.pointsBySeriesIndex=function(e){return this.filterPoints(function(t){return t.series.index===e})},t.prototype.pointsByPointIndex=function(e){return this.filterPoints(function(t){return t.getIndex()===e})},t.prototype.pointsBySeriesName=function(e){return this.filterPoints(function(t){return t.series.name===e})},t.prototype.filterPoints=function(e){for(var t=this.charts,n=[],o=0;o<t.length;o++)for(var i=t[o].points,r=0;r<i.length;r++){var a=i[r];a&&!1!==a.visible&&e(a)&&n.push(a)}return n},t.prototype.findPoint=function(e){for(var t=this.charts,n=0;n<t.length;n++)for(var o=t[n].points,i=0;i<o.length;i++){var r=o[i];if(r&&!1!==r.visible&&e(r))return r}},t.prototype.paneByPoint=function(e){for(var t=this.panes,n=0;n<t.length;n++){var o=t[n];if(o.box.containsPoint(e))return o}},t.prototype.detachLabels=function(){var e=this.groupAxes(this.panes),t=e.x,n=e.y;this.detachAxisGroupLabels(n,t),this.detachAxisGroupLabels(t,n)},t.prototype.detachAxisGroupLabels=function(e,t){for(var n=0,o=0;o<e.length;o++){var i=e[o],r=i.pane,a=lU(t,r)||t[0],s=o+n,l=this.createLabelAxis(i,s,a);if(l){n++;var c=r.axes.indexOf(i)+n;r.appendAxisAt(l,c)}}},t.prototype.createLabelAxis=function(e,t,n){var o=e.options.labels,i=o.position,r=i!==qD&&i!==nN,a=o.visible;if(r||!1===a)return null;var s=this.groupAxes(this.panes),l=n.options.vertical?s.x:s.y,c=this.axisCrossingValues(n,l),d=i===qD,u=n.range(),p=d?u.max:u.min;if(AP(c[t],u.min,u.max)-p===0)return null;c.splice(t+1,0,p),n.options.axisCrossingValues=c;var h=e.clone();return e.clear(),h.options.name=void 0,h.options.line.visible=!1,h.options.crosshair=void 0,h.options.notes=void 0,h.options.plotBands=void 0,h},t.prototype.isTrendline=function(e){return e&&YN(e.type,NV)},t.prototype.trendlineFactory=function(){},t.prototype.createTrendlineSeries=function(){var e=this,t=[];return this.series=this.series.map(function(n){if(!e.isTrendline(n))return n;var o=e.seriesByName(n.for);if(!o)throw new Error('Invalid Configuration: Unable to locate linked series "'+n.for+'" for trendline "'+n.name+'".');var i=AB.current.valueFields(o),r=jP(i),a=e.trendlineFactory(Object.assign({},{field:r},n),o);return a&&(!1===o.visible&&(a.visible=!1),a.color===KD&&(a.color=o.color),t.push(a)),a}).filter(function(e){return null!==e}),t},t.prototype.seriesByName=function(e){return this.series.find(function(t){return t.name===e})},t.prototype.getFirstPoint=function(){for(var e=0;e<this.series.length;e++){var t=this.pointsBySeriesIndex(e).find(iU);if(t)return t}},t.prototype.getPointBelow=function(e){return this._getNextPoint(e,this._pointsByVertical,1)},t.prototype.getPointAbove=function(e){return this._getNextPoint(e,this._pointsByVertical,-1)},t.prototype.getPointToTheRight=function(e){return this._getNextPoint(e,this._pointsByHorizontal,1)},t.prototype.getPointToTheLeft=function(e){return this._getNextPoint(e,this._pointsByHorizontal,-1)},t.prototype._getNextPoint=function(e,t,n){var o=this,i=t.call(this,e).filter(iU),r=i.indexOf(e)+n,a=function(n){var i,r=0;do{r+=n,i=t.call(o,e,r).filter(iU)}while(0===i.length);return i};return r<0?(i=a(-1)).at(-1):r>=i.length?(i=a(1)).at(0):i[r]},t.prototype._pointsByVertical=function(e){return this.pointsByPointIndex(e.getIndex())},t.prototype._pointsByHorizontal=function(e,t){void 0===t&&(t=0);var n=IN(e.series.index+t,this.series.length);return this.pointsBySeriesIndex(n)},t}(jL);function aU(e){return!e.pane.axes.some(function(t){return t.options.vertical===e.options.vertical&&t!==e&&!1!==t.options.visible})}function sU(e){for(var t,n=e.length,o=0;o<n;o++){var i=e[o],r=!1!==i.options.visible;if(r||aU(i)){var a=r?i.contentBox():i.lineBox();t?t.wrap(a):t=a.clone()}}return t||new IO}function lU(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(o&&o.pane===t)return o}}var cU=function(e){return e.reduce(function(e,t){return e.concat(t.axes)},[])};RP(rU,{series:[],plotArea:{margin:{}},background:"",border:{color:OD,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});const dU=rU;var uU={hover:function(e,t){this._dispatchEvent(e,t,LV)},click:function(e,t){this._dispatchEvent(e,t,"plotAreaClick")}};const pU=uU;var hU=function(e){function t(t,n,o){e.call(this);var i=n.canonicalFields(t),r=n.valueFields(t),a=n.sourceFields(t,i),s=this._seriesFields=[],l=o.query(t.type),c=t.aggregate||l;this._series=t,this._binder=n;for(var d=0;d<i.length;d++){var u=i[d],p=void 0;if(DN(c))p=c[u];else{if(0!==d&&!YN(u,r))break;p=c}p&&s.push({canonicalName:u,name:a[d],transform:EN(p)?p:IB[p]})}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.aggregatePoints=function(e,t){var n=this._series,o=this._seriesFields,i=this._bindPoints(e||[]),r=i.dataItems[0],a={};if(r&&!bN(r)&&!pN(r)){var s=function(){};s.prototype=r,a=new s}for(var l=0;l<o.length;l++){var c=o[l],d=this._bindField(i.values,c.canonicalName),u=c.transform(d,n,i.dataItems,t);if(!(null===u||!DN(u)||bP(u.length)||u instanceof Date)){a=u;break}bP(u)&&mU(c.name,a,u)}return a},t.prototype._bindPoints=function(e){for(var t=this._binder,n=this._series,o=[],i=[],r=0;r<e.length;r++){var a=e[r];o.push(t.bindPoint(n,a)),i.push(n.data[a])}return{values:o,dataItems:i}},t.prototype._bindField=function(e,t){for(var n=[],o=e.length,i=0;i<o;i++){var r=e[i],a=r.valueFields,s=void 0;s=bP(a[t])?a[t]:r.fields[t],n.push(s)}return n},t}(aT);function mU(e,t,n){var o=t,i=e;if(e.indexOf(".")>-1){for(var r=e.split(".");r.length>1;)i=r.shift(),bP(o[i])||(o[i]={}),o=o[i];i=r.shift()}o[i]=n}const fU=hU;var gU=function(e){function t(){e.call(this),this._defaults={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.register=function(e,t){for(var n=0;n<e.length;n++)this._defaults[e[n]]=t},t.prototype.query=function(e){return this._defaults[e]},t}(aT);gU.current=new gU;const vU=gU;var yU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createLabel=function(){var e=this.options.labels,t=_N({},e,e.from),n=_N({},e,e.to);t.visible&&(this.labelFrom=this.createLabelElement(t),this.append(this.labelFrom)),n.visible&&(this.labelTo=this.createLabelElement(n),this.append(this.labelTo))},t.prototype.reflow=function(e){this.render();var t=this,n=t.labelFrom,o=t.labelTo,i=t.value;this.box=e,n&&(n.options.aboveAxis=i.from>i.to,n.reflow(e)),o&&(o.options.aboveAxis=i.to>i.from,o.reflow(e)),this.note&&this.note.reflow(e)},t}(mq);yU.prototype.defaults=_N({},yU.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});const xU=yU;var bU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointType=function(){return xU},t.prototype.pointValue=function(e){return e.valueFields},t.prototype.formatPointValue=function(e,t){return null===e.value.from&&null===e.value.to?"":this.chartService.format.auto(t,e.value.from,e.value.to)},t.prototype.plotRange=function(e){return e?[e.value.from,e.value.to]:0},t.prototype.updateRange=function(e,t){var n=t.series.axis,o=e.from,i=e.to,r=this.valueAxisRanges[n];null!==e&&bN(o)&&bN(i)&&((r=this.valueAxisRanges[n]=r||{min:XD,max:JD}).min=Math.min(r.min,o),r.max=Math.max(r.max,o),r.min=Math.min(r.min,i),r.max=Math.max(r.max,i))},t.prototype.aboveAxis=function(e){var t=e.value;return t.from<t.to},t}(kq);bU.prototype.plotLimits=DH.prototype.plotLimits;const wU=bU;var kU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.aliasFor=function(){return this.parent},t}(RH);const CU=kU;var SU="auto",IU=function(e){function t(t,n){e.call(this),this.value=t,this.options=n,this.aboveAxis=PP(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=SM(),this.initLabelsFormat()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){if(!this._rendered){this._rendered=!0;var e=this.options,t=e.markers,n=e.labels,o=this.value,i=this.fromPoint=new CU(o,_N({},this.options,{labels:n.from,markers:t.from})),r=this.toPoint=new CU(o,_N({},this.options,{labels:n.to,markers:t.to}));this.copyFields(i),this.copyFields(r),this.append(i),this.append(r)}},t.prototype.reflow=function(e){this.render();var t=e.from,n=e.to;this.positionLabels(t,n),this.fromPoint.reflow(t),this.toPoint.reflow(n),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())},t.prototype.createHighlight=function(){var e=new iL;return e.append(this.fromPoint.createHighlight()),e.append(this.toPoint.createHighlight()),e},t.prototype.highlightVisual=function(){return this.visual},t.prototype.highlightVisualArgs=function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}},t.prototype.createFocusHighlight=function(){var e=new iL;return e.append(this.fromPoint.createFocusHighlight()),e.append(this.toPoint.createFocusHighlight()),e},t.prototype.tooltipAnchor=function(){var e=this.owner.pane.clipBox();if(!e||e.overlaps(this.box)){var t,n,o,i=this.box,r=i.center(),a=YD;return this.options.vertical?(t=r.x,n=i.y1-5,o=RD):(t=i.x2+5,n=r.y,o=LD),{point:new uO(t,n),align:{horizontal:a,vertical:o}}}},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.overlapsBox=function(e){return this.box.overlaps(e)},t.prototype.unclipElements=function(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()},t.prototype.initLabelsFormat=function(){var e=this.options.labels;e.format||(e.from&&e.from.format||(e.from=Object.assign({},e.from,{format:"{0}"})),e.to&&e.to.format||(e.to=Object.assign({},e.to,{format:"{1}"})))},t.prototype.positionLabels=function(e,t){var n,o,i=this.options,r=i.labels,a=i.vertical;r.position===SU&&(a?t.y1<=e.y1?(o=HB,n=qB):(o=qB,n=HB):t.x1<=e.x1?(o=YD,n=eN):(o=eN,n=YD),r.from&&r.from.position||(this.fromPoint.options.labels.position=n),r.to&&r.to.position||(this.toPoint.options.labels.position=o))},t.prototype.copyFields=function(e){e.dataItem=this.dataItem,e.category=this.category,e.series=this.series,e.color=this.color,e.owner=this.owner},t.prototype.focusVisual=function(){this.fromPoint.focusVisual()},t.prototype.clearFocusFromVisual=function(){this.toPoint.clearFocusFromVisual()},t.prototype.getIndex=function(){return this.categoryIx},t}(jL);_N(IU.prototype,TH),_N(IU.prototype,MH),IU.prototype.defaults={markers:{visible:!1,background:aN,size:8,type:FD,border:{width:2},opacity:1},labels:{visible:!1,margin:ON(3),padding:ON(4),animation:{type:OB,delay:MB},position:SU},notes:{label:{}},highlight:{markers:{border:{color:aN,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"},accessibility:{role:JV,className:QV,ariaRoleDescription:ZV}};const EU=IU;var jU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))},t.prototype.stackSegments=function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),e},t.prototype.createStroke=function(e){var t=new GR(e),n=new GR(e);t.segments.push.apply(t.segments,this.strokeSegments()),n.segments.push.apply(n.segments,this.stackSegments()),this.visual.append(t),this.visual.append(n)},t.prototype.hasStackSegment=function(){return!0},t.prototype.fromPoints=function(){return this.linePoints.map(function(e){return e.fromPoint})},t.prototype.toPoints=function(){return this.linePoints.map(function(e){return e.toPoint})},t}(tq);const AU=jU;var _U=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createStrokeSegments=function(){return this.createCurveSegments(this.toPoints())},t.prototype.stackSegments=function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),e},t.prototype.createCurveSegments=function(e){return(new fB).process(this.toGeometryPoints(e))},t}(AU);const DU=_U;var NU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))},t.prototype.stackSegments=function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()))).reverse(),e},t}(AU);_N(NU.prototype,VH);const TU=NU;var PU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){e.prototype.render.call(this),this.renderSegments()},t.prototype.pointType=function(){return EU},t.prototype.createPoint=function(e,t){var n=t.series,o=t.seriesIx,i=e.valueFields;if(!kH(i.from)&&!kH(i.to)){if(this.seriesMissingValues(n)!==BB)return null;i={from:0,to:0}}var r=this.pointOptions(n,o);r=this.evalPointOptions(r,i,t);var a=e.fields.color||n.color;EN(n.color)&&(a=r.color);var s=new EU(i,r);return s.color=a,this.append(s),s},t.prototype.createSegment=function(e,t,n){var o=(t.line||{}).style;return new("smooth"===o?DU:"step"===o?TU:AU)(e,t,n)},t.prototype.plotRange=function(e,t){return e?[e.value.from,e.value.to]:[t,t]},t.prototype.valueSlot=function(e,t){var n=e.getSlot(t[0],t[0],!this.options.clip),o=e.getSlot(t[1],t[1],!this.options.clip);if(n&&o)return{from:n,to:o}},t.prototype.pointSlot=function(e,t){var n,o,i=t.from,r=t.to;return this.options.invertAxes?(n=new IO(i.x1,e.y1,i.x2,e.y2),o=new IO(r.x1,e.y1,r.x2,e.y2)):(n=new IO(e.x1,i.y1,e.x2,i.y2),o=new IO(e.x1,r.y1,e.x2,r.y2)),{from:n,to:o}},t.prototype.addValue=function(t,n){var o=t.valueFields;bN(o.from)||(o.from=o.to),bN(o.to)||(o.to=o.from),e.prototype.addValue.call(this,t,n)},t.prototype.updateRange=function(e,t){if(null!==e&&bN(e.from)&&bN(e.to)){var n=t.series.axis,o=this.valueAxisRanges[n]=this.valueAxisRanges[n]||{min:XD,max:JD},i=e.from,r=e.to;o.min=Math.min(o.min,i,r),o.max=Math.max(o.max,i,r)}},t.prototype.formatPointValue=function(e,t){var n=e.value;return this.chartService.format.auto(t,n.from,n.to)},t.prototype.animationPoints=function(){for(var e=this.points,t=[],n=0;n<e.length;n++){var o=e[n];o&&(t.push((o.fromPoint||{}).marker),t.push((o.toPoint||{}).marker))}return t.concat(this._segments)},t}(DH);_N(PU.prototype,KH,QH);const MU=PU;var OU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this,n=t.options,o=t.value,i=t.owner.seriesValueAxis(n),r=[],a=[],s=[],l=i.getSlot(o.low,o.high),c=i.getSlot(o.open,o.open),d=i.getSlot(o.close,o.close);c.x1=d.x1=l.x1=e.x1,c.x2=d.x2=l.x2=e.x2;var u=l.center().x;r.push([c.x1,c.y1]),r.push([u,c.y1]),a.push([u,d.y1]),a.push([d.x2,d.y1]),s.push([u,l.y1]),s.push([u,l.y2]),this.lines=[r,a,s],this.box=l.clone().wrap(c.clone().wrap(d)),this.reflowNote()},t.prototype.createBody=function(){},t}(Sq);const RU=OU;var LU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointType=function(){return RU},t}(Eq);const FU=LU;var zU=function(e){function t(t,n,o){e.call(this),this.from=t,this.to=n,this.series=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.linePoints=function(){var e=this.from,t=this.from.box,n=this.to.box,o=[];if(e.isVertical){var i=e.aboveAxis?t.y1:t.y2;o.push([t.x1,i],[n.x2,i])}else{var r=e.aboveAxis?t.x2:t.x1;o.push([r,t.y1],[r,n.y2])}return o},t.prototype.createVisual=function(){e.prototype.createVisual.call(this);var t=this.series.line||{},n=GR.fromPoints(this.linePoints(),{stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType}});yN(n),this.visual.append(n)},t}(jL);RP(zU,{animation:{type:OB,delay:MB}});const BU=zU;var VU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){e.prototype.render.call(this),this.createSegments()},t.prototype.traverseDataPoints=function(e){for(var t=this.options.series,n=fH(t),o=!this.options.invertAxes,i=0;i<t.length;i++)for(var r=t[i],a=0,s=0,l=0;l<n;l++){var c=AB.current.bindPoint(r,l),d=c.valueFields.value,u=c.fields.summary,p=a,h=void 0;u?"total"===u.toLowerCase()?(c.valueFields.value=a,p=0,h=a):(c.valueFields.value=s,h=p-s,s=0):bN(d)&&(s+=d,h=a+=d),e(c,{category:this.categoryAxis.categoryAt(l),categoryIx:l,series:r,seriesIx:i,total:a,runningTotal:s,from:p,to:h,isVertical:o})}},t.prototype.updateRange=function(t,n){e.prototype.updateRange.call(this,{value:n.to},n)},t.prototype.aboveAxis=function(e){return e.value>=0},t.prototype.plotRange=function(e){return[e.from,e.to]},t.prototype.createSegments=function(){for(var e=this.options.series,t=this.seriesPoints,n=this.segments=[],o=0;o<e.length;o++){var i=e[o],r=t[o];if(r)for(var a=void 0,s=0;s<r.length;s++){var l=r[s];if(l&&a){var c=new BU(a,l,i);n.push(c),this.append(c)}a=l}}},t}(kq);const HU=VU;const qU=function(e,t,n){var o=e[String(t)];return o?o(n):null};const UU=function(e,t){for(var n,o,i=0,r=0,a=0,s=0,l=0,c=Number.MAX_VALUE,d=Number.MIN_VALUE,u=0;u<e.length;u++){var p=t(e[u]),h=p.xValue,m=p.yValue;isFinite(h)&&null!==h&&isFinite(m)&&null!==m&&(c=Math.min(h,c),d=Math.max(h,d),l++,i+=h,r+=m,a+=Math.pow(h,2),s+=h*m)}return l>0&&(o=(r-(n=(l*s-i*r)/(l*a-Math.pow(i,2)))*i)/l),{slope:n,intercept:o,count:l,xMin:c,xMax:d}};const GU=function(e,t){return e.every(function(e){var n=e.valueFields;return!kH(n[t])||n[t]>0})};const WU=function(e,t){for(var n=[],o=t.totalRangeIndices(),i=t.currentRangeIndices(),r={min:Math.floor(Math.max(i.min-1,o.min)),max:Math.ceil(Math.min(i.max+2,o.max))},a=r.min;a<r.max;a++){var s=a+1;n[a]={category:t.categoryAt(a,!0),value:e(s)}}return n};var KU=function(e){return function(t){var n=t.categoryIx,o=t.valueFields;return{xValue:n+1,yValue:Math.log(o[e])}}};const YU=function(e){var t=e.options,n=e.categoryAxis,o=function(e){var t=e.seriesValues,n=e.categoryAxis,o=e.options,i=t();if(!GU(i,o.field))return null;var r=UU(i,KU(o.field)),a=r.slope,s=r.intercept,l=r.count;if(l>0){var c=Math.exp(s),d=a;return WU(function(e){return c*Math.exp(d*e)},n)}return null}({seriesValues:e.seriesValues,categoryAxis:n,options:t});return o?Object.assign({},t,{type:"line",data:o,categoryField:"category",field:"value"}):null};var XU=function(e){return function(t){return{xValue:t.categoryIx+1,yValue:t.valueFields[e]}}};const JU=function(e){var t=e.options,n=e.categoryAxis,o=function(e){var t=e.seriesValues,n=e.categoryAxis,o=e.options,i=UU(t(),XU(o.field)),r=i.slope,a=i.intercept,s=i.count;if(s>0)return WU(function(e){return r*e+a},n);return null}({seriesValues:e.seriesValues,categoryAxis:n,options:t});return o?Object.assign({},t,{type:"line",data:o,categoryField:"category",field:"value"}):null};var QU=function(e){return function(t){var n=t.categoryIx,o=t.valueFields;return{xValue:Math.log(n+1),yValue:o[e]}}};const ZU=function(e){var t=e.options,n=e.categoryAxis,o=function(e){var t=e.seriesValues,n=e.categoryAxis,o=e.options,i=UU(t(),QU(o.field)),r=i.slope,a=i.intercept,s=i.count;if(s>0){var l=r,c=a;return WU(function(e){return l*Math.log(e)+c},n)}return null}({seriesValues:e.seriesValues,categoryAxis:n,options:t});return o?Object.assign({},t,{type:"line",data:o,categoryField:"category",field:"value"}):null};const $U=function(e,t,n){for(var o=[],i=[],r=Math.max(2,n)-1,a=0,s=0,l=0;l<e.length;l++){var c=t(e[l]),d=c.xValue,u=c.yValue;if(isFinite(u)&&null!==u?(i.push(u),s+=u,a=Math.max(l,a)):i.push(null),l>=r){var p=i.filter(function(e){return null!==e}).length,h=i.shift()||0;if(p>0){var m=s/p;o.push([d,m]),s-=h;continue}}o.push([d,null])}return o.slice(0,a+1)};var eG=function(e){return function(t){return{xValue:t.categoryIx,yValue:t.valueFields[e]}}};const tG=function(e){var t=e.options,n=function(e){var t=e.categoryAxis,n=function(e){var t=e.options,n=e.categoryAxis,o=e.seriesValues,i=(t.trendline||{}).period||2,r=n.totalRangeIndices(),a=n.currentRangeIndices(),s={min:Math.floor(Math.max(a.min-i,r.min)),max:Math.ceil(Math.min(a.max+i+2,r.max))};return $U(o(s),eG(t.field),i)}(e),o=[];if(n.forEach(function(e){var n=e[0],i=e[1];o[n]={category:t.categoryAt(n,!0),value:i}}),o.length>0)return o;return null}(e);return n?Object.assign({},t,{type:"line",data:n,categoryField:"category",field:"value"}):null};const nG=function(e,t,n){for(var o=Math.min(Math.max(n||1,1),6)+1,i=new bM,r=new bM,a=0,s=Number.MAX_VALUE,l=Number.MIN_VALUE,c=function(e){return e},d=[],u=0;u<e.length;u++){var p=t(e[u]),h=p.xValue,m=p.yValue;if(isFinite(h)&&null!==h&&isFinite(m)&&null!==m){s=Math.min(h,s),l=Math.max(h,l),a++,r.set(u,0,m),i.set(u,0,1),i.set(u,1,h);for(var f=2;f<=o;f++)i.set(u,f,Math.pow(i.get(u,1),f))}else i.set(u,0,0)}return i.width=Math.min(o,a),a>0&&(d=function(e,t){for(var n=e.transpose(),o=n.multiply(e).inverse().multiply(n).multiply(t),i=[],r=0;r<o.height;r++)i.push(o.get(r,0));return i}(i,r),c=function(e){return d.reduce(function(t,n,o){return t+n*Math.pow(e,o)},0)}),{coefficients:d,count:a,valueMapper:c,xMin:s,xMax:l}};var oG=function(e){return function(t){return{xValue:t.categoryIx+1,yValue:t.valueFields[e]}}};const iG=function(e){var t=e.options,n=e.categoryAxis,o=function(e){var t=e.seriesValues,n=e.categoryAxis,o=e.options,i=(o.trendline||{}).order,r=nG(t(),oG(o.field),i),a=r.count,s=r.valueMapper;if(a>0)return WU(function(e){return s(e)},n);return null}({seriesValues:e.seriesValues,categoryAxis:n,options:t});return o?Object.assign({},t,{type:"line",data:o,categoryField:"category",field:"value"}):null};var rG=function(e){return function(t){var n=t.categoryIx,o=t.valueFields;return{xValue:Math.log(n+1),yValue:Math.log(o[e])}}};const aG=function(e){var t=e.options,n=e.categoryAxis,o=function(e){var t=e.seriesValues,n=e.categoryAxis,o=e.options,i=t();if(!GU(i,o.field))return null;var r=UU(i,rG(o.field)),a=r.slope,s=r.intercept,l=r.count;if(l>0){var c=Math.exp(s),d=a;return WU(function(e){return c*Math.pow(e,d)},n)}return null}({seriesValues:e.seriesValues,categoryAxis:n,options:t});return o?Object.assign({},t,{type:"line",data:o,categoryField:"category",field:"value"}):null};var sG={};sG[IV]=YU,sG[EV]=JU,sG[jV]=ZU,sG[AV]=tG,sG[_V]=iG,sG[DV]=aG;const lG=sG;var cG=[WB,yV,hV,kV],dG=[iV,wV].concat(cG),uG=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(e){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new cq,this._seriesPointsCache={},this._currentPointsCache={},e.length>0){this.invertAxes=YN(e[0].type,[KB,JB,wV,yV,kV,mV,oV,xV]);for(var t=0;t<e.length;t++){var n=e[t].stack;if(n&&"100%"===n.type){this.stack100=!0;break}}}},t.prototype.render=function(e){void 0===e&&(e=this.panes),this.series=[].concat(this.originalSeries),this.createCategoryAxes(e),this.aggregateCategories(e),this.createTrendlineSeries(e),this.createCategoryAxesLabels(e),this.createCharts(e),this.createValueAxes(e)},t.prototype.removeAxis=function(t){var n=t.options.name;e.prototype.removeAxis.call(this,t),t instanceof Az?delete this.namedCategoryAxes[n]:(this.valueAxisRangeTracker.reset(n),delete this.namedValueAxes[n]),t===this.categoryAxis&&delete this.categoryAxis,t===this.valueAxis&&delete this.valueAxis},t.prototype.trendlineFactory=function(e,t){var n=this.seriesCategoryAxis(e),o=this.seriesValues.bind(this,t.index),i=qU(lG,e.type,{options:e,categoryAxis:n,seriesValues:o});return i?(i.categoryAxis=t.categoryAxis,i.valueAxis=t.valueAxis,this.filterSeries(i,n)):i},t.prototype.trendlineAggregateForecast=function(){return this.series.map(function(e){return(e.trendline||{}).forecast}).filter(function(e){return void 0!==e}).reduce(function(e,t){return{before:Math.max(e.before,t.before||0),after:Math.max(e.after,t.after||0)}},{before:0,after:0})},t.prototype.seriesValues=function(e,t){var n=[],o=this.srcSeries[e],i=this.seriesCategoryAxis(o);gH(i.options.type,BD)&&(this._seriesPointsCache={},this._currentPointsCache={},i.options.dataItems=[],o=this.aggregateSeries(o,i,i.totalRangeIndices()));for(var r=t?t.min:0,a=t?t.max:o.data.length,s=r;s<a;s++){var l=this.bindPoint(o,s);n.push({categoryIx:s,category:l.fields.category,valueFields:l.valueFields})}return n},t.prototype.createCharts=function(e){for(var t=this,n=this.groupSeriesByPane(),o=0;o<e.length;o++){var i=e[o],r=n[i.options.name||"default"]||[];t.addToLegend(r);var a=t.filterVisibleSeries(r);if(a)for(var s=t.groupSeriesByCategoryAxis(a),l=0;l<s.length;l++)t.createChartGroup(s[l],i)}},t.prototype.createChartGroup=function(e,t){this.createAreaChart(yH(e,[WB,yV]),t),this.createRangeAreaChart(yH(e,[hV,kV]),t),this.createBarChart(yH(e,[ZB,KB]),t),this.createRangeBarChart(yH(e,[fV,mV]),t),this.createBulletChart(yH(e,[JB,bV]),t),this.createCandlestickChart(yH(e,QB),t),this.createBoxPlotChart(yH(e,[YB,xV]),t),this.createOHLCChart(yH(e,rV),t),this.createWaterfallChart(yH(e,[CV,oV]),t),this.createLineChart(yH(e,[iV,wV]),t)},t.prototype.aggregateCategories=function(e){var t=this,n=[].concat(this.series),o=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(var i=0;i<n.length;i++){var r=n[i];if(!t.isTrendline(r)){var a=t.seriesCategoryAxis(r),s=t.findPane(a.options.pane);r=(gH(a.options.type,BD)||r.categoryField)&&YN(s,e)?t.aggregateSeries(r,a,a.currentRangeIndices()):t.filterSeries(r,a)}o.push(r)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=n,this.series=o},t.prototype.filterSeries=function(e,t){var n=(e.data||{}).length;if(t._seriesMax=Math.max(t._seriesMax||0,n),!bP(t.options.min)&&!bP(t.options.max))return e;var o=t.currentRangeIndices(),i=YN(e.type,dG),r=_N({},e);return r.data=(r.data||[]).slice(o.min,o.max+1),i&&AH(r,o,n,function(n){return{item:e.data[n],category:t.categoryAt(n,!0),categoryIx:n-o.min}},function(t){return bP(e.data[t])}),r},t.prototype.clearSeriesPointsCache=function(){this._seriesPointsCache={}},t.prototype.seriesSourcePoints=function(e,t){var n=e.index+";"+t.categoriesHash();if(this._seriesPointsCache&&this._seriesPointsCache[n])return this._currentPointsCache[n]=this._seriesPointsCache[n],this._seriesPointsCache[n];var o=t.options,i=o.srcCategories,r=gH(o.type,BD),a=e.data,s=[];r||t.indexCategories();for(var l=0;l<a.length;l++){var c=AB.current.bindPoint(e,l).fields.category;if(r&&(c=bH(c,a[l],this.chartService.intl)),bP(c)||(c=i[l]),bP(c)&&null!==c){var d=t.totalIndex(c);s[d]=s[d]||{items:[],category:c},s[d].items.push(l)}}return this._currentPointsCache[n]=s,s},t.prototype.aggregateSeries=function(e,t,n){if(!e.data.length)return e;for(var o=this.seriesSourcePoints(e,t),i=_N({},e),r=new fU(_N({},e),AB.current,vU.current),a=i.data=[],s=t.options.dataItems||[],l=function(e){var i=e-n.min,a=o[e];if(a||(a=o[e]={}),a.categoryIx=i,!a.item){var s=t.categoryAt(e,!0);a.category=s,a.item=r.aggregatePoints(a.items,s)}return a},c=n.min;c<=n.max;c++){var d=l(c);a[d.categoryIx]=d.item,d.items&&d.items.length&&(s[d.categoryIx]=d.item)}return YN(i.type,dG)&&AH(i,n,t.totalCount(),l,function(e){return o[e]}),t.options.dataItems=s,i},t.prototype.appendChart=function(t,n){var o=t.options.series,i=this.seriesCategoryAxis(o[0]),r=i.options.categories,a=Math.max(0,fH(o)-r.length);if(a>0)for(r=i.options.categories=i.options.categories.slice(0);a--;)r.push("");this.valueAxisRangeTracker.update(t.valueAxisRanges),e.prototype.appendChart.call(this,t,n)},t.prototype.seriesPaneName=function(e){var t=this.options,n=e.axis,o=UN([].concat(t.valueAxis),function(e){return e.name===n})[0],i=((t.panes||[{}])[0]||{}).name||"default";return(o||{}).pane||i},t.prototype.seriesCategoryAxis=function(e){var t=e.categoryAxis,n=t?this.namedCategoryAxes[t]:this.categoryAxis;if(!n)throw new Error("Unable to locate category axis with name "+t);return n},t.prototype.stackableChartOptions=function(e,t){var n=e.some(function(e){return e.stack}),o=e.some(function(e){return e.stack&&"100%"===e.stack.type}),i=t.options.clip;return{defaultStack:e[0].stack,isStacked:n,isStacked100:o,clip:i}},t.prototype.groupSeriesByCategoryAxis=function(e){for(var t=[],n={},o=0;o<e.length;o++){var i=e[o].categoryAxis||"$$default$$";yM(n,i)||(n[i]=!0,t.push(i))}for(var r=[],a=0;a<t.length;a++){var s=hG(e,t[a],a);0!==s.length&&r.push(s)}return r},t.prototype.createBarChart=function(e,t){if(0!==e.length){var n=e[0],o=new kq(this,Object.assign({series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing},this.stackableChartOptions(e,t)));this.appendChart(o,t)}},t.prototype.createRangeBarChart=function(e,t){if(0!==e.length){var n=e[0],o=new wU(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(o,t)}},t.prototype.createBulletChart=function(e,t){if(0!==e.length){var n=e[0],o=new Wq(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing,clip:t.options.clip});this.appendChart(o,t)}},t.prototype.createLineChart=function(e,t){if(0!==e.length){var n=new $H(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e,t)));this.appendChart(n,t)}},t.prototype.createAreaChart=function(e,t){if(0!==e.length){var n=new sq(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e,t)));this.appendChart(n,t)}},t.prototype.createRangeAreaChart=function(e,t){if(0!==e.length){var n=new MU(this,{invertAxes:this.invertAxes,series:e,clip:t.options.clip});this.appendChart(n,t)}},t.prototype.createOHLCChart=function(e,t){if(0!==e.length){var n=e[0],o=new FU(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(o,t)}},t.prototype.createCandlestickChart=function(e,t){if(0!==e.length){var n=e[0],o=new Eq(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(o,t)}},t.prototype.createBoxPlotChart=function(e,t){if(0!==e.length){var n=e[0],o=new Tq(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(o,t)}},t.prototype.createWaterfallChart=function(e,t){if(0!==e.length){var n=e[0],o=new HU(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(o,t)}},t.prototype.axisRequiresRounding=function(e,t){for(var n=yH(this.series,SV),o=0;o<this.series.length;o++){var i=this.series[o];if(YN(i.type,cG)){var r=i.line;r&&r.style===GB&&n.push(i)}}for(var a=0;a<n.length;a++){var s=n[a].categoryAxis||"";if(s===e||!s&&0===t)return!0}},t.prototype.aggregatedAxis=function(e,t){for(var n=this.series,o=0;o<n.length;o++){var i=n[o].categoryAxis||"";if((i===e||!i&&0===t)&&n[o].categoryField)return!0}},t.prototype.createCategoryAxesLabels=function(){for(var e=this.axes,t=0;t<e.length;t++)e[t]instanceof Az&&e[t].createLabels()},t.prototype.createCategoryAxes=function(e){for(var t=this,n=this.invertAxes,o=[].concat(this.options.categoryAxis),i=[],r=0;r<o.length;r++){var a=o[r];if(YN(t.findPane(a.pane),e)){var s=a.name,l=a.categories;void 0===l&&(l=[]),a=_N({vertical:n,reverse:!n&&t.chartService.rtl,axisCrossingValue:n?XD:0},a),bP(a.justified)||(a.justified=t.isJustified()),t.axisRequiresRounding(s,r)&&(a.justified=!1);var c=void 0;if(CH(a,l[0])?(a._forecast=t.trendlineAggregateForecast(),c=new zz(a,t.chartService)):c=new Az(a,t.chartService),o[r].categories=c.options.srcCategories,s){if(t.namedCategoryAxes[s])throw new Error("Category axis with name "+s+" is already defined");t.namedCategoryAxes[s]=c}c.axisIndex=r,i.push(c),t.appendAxis(c)}}var d=this.categoryAxis||i[0];this.categoryAxis=d,n?this.axisY=d:this.axisX=d},t.prototype.isJustified=function(){for(var e=this.series,t=0;t<e.length;t++){if(!YN(e[t].type,cG))return!1}return!0},t.prototype.createValueAxes=function(e){var t=this,n=this.valueAxisRangeTracker,o=n.query(),i=[].concat(this.options.valueAxis),r=this.invertAxes,a={vertical:!r,reverse:r&&this.chartService.rtl},s=[];this.stack100&&(a.roundToMajorUnit=!1,a.labels={format:"P0"});for(var l=0;l<i.length;l++){var c=i[l];if(YN(t.findPane(c.pane),e)){var d=c.name,u=gH(c.type,$V)?{min:.1,max:1}:{min:0,max:1},p=n.query(d)||o||u;0===l&&p&&o&&(p.min=Math.min(p.min,o.min),p.max=Math.max(p.max,o.max));var h=new(gH(c.type,$V)?$z:Wz)(p.min,p.max,_N({},a,c),t.chartService);if(d){if(t.namedValueAxes[d])throw new Error("Value axis with name "+d+" is already defined");t.namedValueAxes[d]=h}h.axisIndex=l,s.push(h),t.appendAxis(h)}}var m=this.valueAxis||s[0];this.valueAxis=m,r?this.axisX=m:this.axisY=m},t.prototype._dispatchEvent=function(e,t,n){var o=e._eventCoordinates(t),i=new uO(o.x,o.y),r=this.pointPane(i),a=[],s=[];if(r){for(var l=r.axes,c=0;c<l.length;c++){var d=l[c];d.getValue?uH(s,d.getValue(i)):uH(a,d.getCategory(i))}0===a.length&&uH(a,this.categoryAxis.getCategory(i)),a.length>0&&s.length>0&&e.trigger(n,{element:IP(t),originalEvent:t,category:SH(a),value:SH(s)})}},t.prototype.pointPane=function(e){for(var t=this.panes,n=0;n<t.length;n++){var o=t[n];if(o.contentBox.containsPoint(e))return o}},t.prototype.updateAxisOptions=function(e,t){pG(this.options,e,t),pG(this.originalOptions,e,t)},t.prototype._pointsByVertical=function(e,t){return void 0===t&&(t=0),this.invertAxes?this._siblingsBySeriesIndex(e.series.index,t):this._siblingsByPointIndex(e.getIndex())},t.prototype._pointsByHorizontal=function(e,t){if(void 0===t&&(t=0),this.invertAxes)return this._siblingsByPointIndex(e.getIndex());var n=this._siblingsBySeriesIndex(e.series.index,t);return this.chartService.rtl?n.reverse():n},t.prototype._siblingsByPointIndex=function(e){for(var t=this.charts,n=[],o=0;o<t.length;o++){var i=t[o];if(!i.pane||"_navigator"!==i.pane.options.name){var r=i.points.filter(function(t){return t&&!1!==t.visible&&t.getIndex()===e});n.push.apply(n,r.sort(this._getSeriesCompareFn(r[0])))}}return n},t.prototype._siblingsBySeriesIndex=function(e,t){var n=IN(e+t,this.series.length);return this.pointsBySeriesIndex(n)},t.prototype._getSeriesCompareFn=function(e){var t=this._isInStackedSeries(e);return t&&this.invertAxes||!t&&!this.invertAxes?function(e,t){return e.box.center().x-t.box.center().x}:function(e,t){return e.box.center().y-t.box.center().y}},t.prototype._isInStackedSeries=function(e){var t=YN(e.series.type,[WB,yV,hV,kV,iV,wV,pV,dV]),n=YN(e.series.type,[ZB,KB]);return t||n&&e.options.isStacked},t}(dU);function pG(e,t,n){_N([].concat(t instanceof Az?e.categoryAxis:e.valueAxis)[t.axisIndex],n)}function hG(e,t,n){return UN(e,function(e){return 0===n&&!e.categoryAxis||e.categoryAxis===t})}RP(uG,{categoryAxis:{},valueAxis:{}}),_N(uG.prototype,pU);const mG=uG;function fG(e){return"function"===typeof e}function gG(e){return"string"===typeof e?[e]:e}function vG(){this._defaultPrevented=!0}function yG(){return!0===this._defaultPrevented}const xG=class extends aT{constructor(){super(),this._events={}}bind(e,t,n){const o=gG(e),i=fG(t),r=o.length;if(void 0===t){for(let t in e)this.bind(t,e[t]);return this}for(let a=0;a<r;a++){const e=o[a];let r=i?t:t[e];if(r){if(n){const t=r;r=()=>{this.unbind(e,r),t.apply(this,arguments)},r.original=t}(this._events[e]=this._events[e]||[]).push(r)}}return this}one(e,t){return this.bind(e,t,!0)}first(e,t){const n=gG(e),o=fG(t);for(let i=0,r=n.length;i<r;i++){const e=n[i],r=o?t:t[e];if(r){(this._events[e]=this._events[e]||[]).unshift(r)}}return this}trigger(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._events[e];if(n){const e=n.length;t.sender=this,t._defaultPrevented=!1,t.preventDefault=vG,t.isDefaultPrevented=yG,n=n.slice();for(let o=0;o<e;o++)n[o].call(this,t);return!0===t._defaultPrevented}return!1}unbind(e,t){const n=this._events[e];if(void 0===e)this._events={};else if(n)if(t)for(let o=n.length-1;o>=0;o--)n[o]!==t&&n[o].original!==t||n.splice(o,1);else this._events[e]=[];return this}},bG=["click","mouseenter","mouseleave","mousemove","resize"];const wG=class extends xG{constructor(e,t){super(),this.options=Object.assign({},t),this.element=e,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new iL,OT(e,this.options),this.bind(bG,this.options),this._enableTracking()}draw(e){this._visual.children.push(e)}clear(){this._visual.children=[]}destroy(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}eventTarget(e){let t,n=kT(e);for(;!t&&n&&(t=n._kendoNode,n!==this.element);)n=n.parentElement;if(t)return t.srcElement}exportVisual(){return this._visual}getSize(){return OT(this.element)}currentSize(e){if(!e)return this._size;this._size=e}setSize(e){OT(this.element,e),this.currentSize(e),this._resize()}resize(e){const t=this.getSize(),n=this.currentSize();(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this.currentSize(t),this._resize(t,e),this.trigger("resize",t))}size(e){if(!e)return this.getSize();this.setSize(e)}suspendTracking(){this._suspendedTracking=!0}resumeTracking(){this._suspendedTracking=!1}_enableTracking(){}_resize(){}_handler(e){return t=>{const n=this.eventTarget(t);n&&!this._suspendedTracking&&this.trigger(e,{element:n,originalEvent:t,type:e})}}_elementOffset(){const e=this.element,t=LT(e),{left:n,top:o}=TT(e);return{left:n+t.left,top:o+t.top}}_surfacePoint(e){const t=this._elementOffset(),n=wT(e),o=n.x-t.left,i=n.y-t.top,r=HT(this.element).invert();return new yO(o,i).transform(r)}};const kG=class extends aT{constructor(e){super(),this.childNodes=[],this.parent=null,e&&(this.srcElement=e,this.observe())}destroy(){this.srcElement&&this.srcElement.removeObserver(this);const e=this.childNodes;for(let t=0;t<e.length;t++)this.childNodes[t].destroy();this.parent=null}load(){}observe(){this.srcElement&&this.srcElement.addObserver(this)}append(e){this.childNodes.push(e),e.parent=this}insertAt(e,t){this.childNodes.splice(t,0,e),e.parent=this}remove(e,t){const n=e+t;for(let o=e;o<n;o++)this.childNodes[o].removeSelf();this.childNodes.splice(e,t)}removeSelf(){this.clear(),this.destroy()}clear(){this.remove(0,this.childNodes.length)}invalidate(){this.parent&&this.parent.invalidate()}geometryChange(){this.invalidate()}optionsChange(){this.invalidate()}childrenChange(e){"add"===e.action?this.load(e.items,e.index):"remove"===e.action&&this.remove(e.index,e.items.length),this.invalidate()}};function CG(e,t){return void 0!==t&&null!==t?" ".concat(e,'="').concat(t,'" '):""}function SG(e){let t="";for(let n=0;n<e.length;n++)t+=CG(e[n][0],e[n][1]);return t}function IG(e){let t="";for(let n=0;n<e.length;n++){let o=e[n][1];void 0!==o&&(t+=e[n][0]+":"+o+";")}if(""!==t)return t}const EG={},jG="http://www.w3.org/2000/svg",AG="none",_G=(e,t)=>{vP(e,t)},DG=(e,t)=>{const n=(new DOMParser).parseFromString(fP(t),"text/xml");gP(n);const o=document.adoptNode(n.documentElement);e.innerHTML="",e.appendChild(o)};let NG;const TG=(e,t)=>{if(NG)return NG(e,t);if(NG=_G,"undefined"!==typeof document){const e="<svg xmlns='"+jG+"'></svg>",t=document.createElement("div"),n="undefined"!==typeof DOMParser;t.innerHTML=e,n&&t.firstChild.namespaceURI!==jG&&(NG=DG)}return NG(e,t)},PG=/&/g,MG=/</g,OG=/"/g,RG=/'/g,LG=/>/g;function FG(e){return String(e).replace(PG,"&amp;").replace(MG,"&lt;").replace(LG,"&gt;").replace(OG,"&quot;").replace(RG,"&#39;")}const zG="transform",BG={clip:"clip-path",fill:"fill"};function VG(e,t){return"clip"===e||"fill"===e&&(!t||"Gradient"===t.nodeType||t.nodeType===ZO)}const HG=class extends kG{constructor(e,t){super(e),this.definitions={},this.options=t}destroy(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),super.destroy()}load(e,t){for(let n=0;n<e.length;n++){const o=e[n],i=o.children,r=new EG[o.nodeType](o,this.options);void 0!==t?this.insertAt(r,t):this.append(r),r.createDefinitions(),i&&i.length>0&&r.load(i);const a=this.element;a&&r.attachTo(a,t)}}root(){let e=this;for(;e.parent;)e=e.parent;return e}attachTo(e,t){const n=document.createElement("div");TG(n,"<svg xmlns='"+jG+"' version='1.1'>"+this.render()+"</svg>");const o=n.firstChild.firstChild;o&&(void 0!==t?e.insertBefore(o,e.childNodes[t]||null):e.appendChild(o),this.setElement(o))}setElement(e){this.element&&(this.element._kendoNode=null),this.element=e,this.element._kendoNode=this;const t=this.childNodes;for(let n=0;n<t.length;n++){let o=e.childNodes[n];t[n].setElement(o)}}clear(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");const e=this.childNodes;for(let t=0;t<e.length;t++)e[t].destroy();this.childNodes=[]}removeSelf(){if(this.element){const e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}super.removeSelf()}template(){return this.renderChildren()}render(){return this.template()}renderChildren(){const e=this.childNodes;let t="";for(let n=0;n<e.length;n++)t+=e[n].render();return t}optionsChange(e){const{field:t,value:n}=e;"visible"===t?this.css("display",n?"":AG):BG[t]&&VG(t,n)?this.updateDefinition(t,n):"opacity"===t?this.attr("opacity",n):"cursor"===t?this.css("cursor",n):"id"===t&&(n?this.attr("id",n):this.removeAttr("id")),super.optionsChange(e)}accessibilityOptionsChange(e){const{field:t,value:n}=e;"role"===t?n?this.attr("role",n):this.removeAttr("role"):"ariaLabel"===t?n?this.attr("aria-label",FG(n)):this.removeAttr("aria-label"):"ariaRoleDescription"===t?n?this.attr("aria-roledescription",FG(n)):this.removeAttr("aria-roledescription"):"ariaChecked"===t?void 0!==n?this.attr("aria-checked",n):this.removeAttr("aria-checked"):"className"===t&&this.className(n)}attr(e,t){this.element&&this.element.setAttribute(e,t)}allAttr(e){for(let t=0;t<e.length;t++)this.attr(e[t][0],e[t][1])}toggleAttr(e,t){t?this.attr(e,t):this.removeAttr(e)}css(e,t){this.element&&(this.element.style[e]=t)}allCss(e){for(let t=0;t<e.length;t++)this.css(e[t][0],e[t][1])}className(e){this.element&&(this.element.classList.remove(...this.element.classList),e.split(" ").forEach(e=>{this.element.classList.add(e)}))}removeAttr(e){this.element&&this.element.removeAttribute(e)}mapTransform(e){const t=[];return e&&t.push([zG,"matrix("+e.matrix().toString(6)+")"]),t}renderTransform(){return SG(this.mapTransform(this.srcElement.transform()))}transformChange(e){e?this.allAttr(this.mapTransform(e)):this.removeAttr(zG)}mapStyle(){const e=this.srcElement.options,t=[["cursor",e.cursor]];return!1===e.visible&&t.push(["display",AG]),t}renderStyle(){return CG("style",IG(this.mapStyle(!0)))}renderOpacity(){return CG("opacity",this.srcElement.options.opacity)}renderId(){return CG("id",this.srcElement.options.id)}renderClassName(){return CG("class",this.srcElement.options.className)}renderRole(){return CG("role",this.srcElement.options.role)}renderAriaLabel(){let e=this.srcElement.options.ariaLabel;return e&&(e=FG(e)),CG("aria-label",e)}renderAriaRoleDescription(){let e=this.srcElement.options.ariaRoleDescription;return e&&(e=FG(e)),CG("aria-roledescription",e)}renderAriaChecked(){return CG("aria-checked",this.srcElement.options.ariaChecked)}createDefinitions(){const e=this.srcElement,t=this.definitions;if(e){const n=e.options;let o;for(let e in BG){let i=n.get(e);i&&VG(e,i)&&(t[e]=i,o=!0)}o&&this.definitionChange({action:"add",definitions:t})}}definitionChange(e){this.parent&&this.parent.definitionChange(e)}updateDefinition(e,t){const n=this.definitions,o=n[e],i=BG[e],r={};o&&(r[e]=o,this.definitionChange({action:"remove",definitions:r}),delete n[e]),t?(r[e]=t,this.definitionChange({action:"add",definitions:r}),n[e]=t,this.attr(i,this.refUrl(t.id))):o&&this.removeAttr(i)}clearDefinitions(){const e=this.definitions;this.definitionChange({action:"remove",definitions:e}),this.definitions={}}renderDefinitions(){return SG(this.mapDefinitions())}mapDefinitions(){const e=this.definitions,t=[];for(let n in e){const o=e[n];t.push([BG[n],this.refUrl(o.id)])}return t}refUrl(e){return"url(#".concat(e,")")}};const qG=class extends HG{template(){return"<stop ".concat(this.renderOffset()," ").concat(this.renderStyle()," />")}renderOffset(){return CG("offset",this.srcElement.offset())}mapStyle(){const e=this.srcElement;return[["stop-color",e.color()],["stop-opacity",e.opacity()]]}optionsChange(e){"offset"===e.field?this.attr(e.field,e.value):"color"!==e.field&&"opacity"!==e.field||this.css("stop-"+e.field,e.value)}};const UG=class extends HG{constructor(e){super(e),this.id=e.id,this.loadStops()}loadStops(){const e=this.srcElement.stops,t=this.element;for(let n=0;n<e.length;n++){let o=new qG(e[n]);this.append(o),t&&o.attachTo(t)}}optionsChange(e){"gradient.stops"===e.field?(kG.prototype.clear.call(this),this.loadStops()):"gradient"===e.field&&this.allAttr(this.mapCoordinates())}renderCoordinates(){return SG(this.mapCoordinates())}mapSpace(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}};const GG=class extends UG{template(){return"<linearGradient id='".concat(this.id,"' ").concat(this.renderCoordinates(),">").concat(this.renderChildren(),"</linearGradient>")}mapCoordinates(){const e=this.srcElement,t=e.start(),n=e.end();return[["x1",t.x],["y1",t.y],["x2",n.x],["y2",n.y],this.mapSpace()]}};const WG=class extends UG{template(){return"<radialGradient id='".concat(this.id,"' ").concat(this.renderCoordinates(),">").concat(this.renderChildren(),"</radialGradient>")}mapCoordinates(){const e=this.srcElement,t=e.center(),n=e.radius();return[["cx",t.x],["cy",t.y],["r",n],this.mapSpace()]}};class KG extends HG{constructor(e){super(e),this.id=e.id,this.load(e.children)}template(){const e=this.srcElement.size().getWidth(),t=this.srcElement.size().getHeight();return"<pattern id='".concat(this.srcElement.id,"' width='").concat(e,"' height='").concat(t,"' patternUnits='userSpaceOnUse'>")+"".concat(this.renderChildren())+"</pattern>"}}const YG=class extends HG{constructor(e){super(),this.srcElement=e,this.id=e.id,this.load([e])}renderClipRule(){return CG("clip-rule","evenodd")}template(){return"<clipPath ".concat(this.renderClipRule()," id='").concat(this.id,"'>").concat(this.renderChildren(),"</clipPath>")}};const XG=class extends HG{constructor(){super(),this.definitionMap={}}attachTo(e){this.element=e}template(){return"<defs>".concat(this.renderChildren(),"</defs>")}definitionChange(e){const{definitions:t,action:n}=e;"add"===n?this.addDefinitions(t):"remove"===n&&this.removeDefinitions(t)}createDefinition(e,t){let n;return"clip"===e?n=YG:"fill"===e&&(t instanceof oF?n=GG:t instanceof rF?n=WG:t.nodeType===ZO&&(n=KG)),new n(t)}addDefinitions(e){for(let t in e)this.addDefinition(t,e[t])}addDefinition(e,t){const{element:n,definitionMap:o}=this,i=t.id,r=o[i];if(r)r.count++;else{const r=this.createDefinition(e,t);o[i]={element:r,count:1},this.append(r),n&&r.attachTo(this.element)}}removeDefinitions(e){for(let t in e)this.removeDefinition(e[t])}removeDefinition(e){const t=this.definitionMap,n=e.id,o=t[n];o&&(o.count--,0===o.count&&(this.remove(this.childNodes.indexOf(o.element),1),delete t[n]))}};const JG=class extends HG{constructor(e){super(),this.options=e,this.defs=new XG}attachTo(e){this.element=e,this.defs.attachTo(e.firstElementChild)}clear(){kG.prototype.clear.call(this)}template(){return this.defs.render()+this.renderChildren()}definitionChange(e){this.defs.definitionChange(e)}},QG={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"};const ZG=class extends HG{geometryChange(){this.attr("d",this.renderData()),this.invalidate()}optionsChange(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(e.value);break;default:{const t=QG[e.field];t&&this.attr(t,e.value);break}}this.accessibilityOptionsChange(e),super.optionsChange(e)}content(){this.element&&(this.element.textContent=this.srcElement.content())}renderData(){return this.srcElement.toString(3)||void 0}mapStroke(e){const t=[];return e&&!CT(e.color)?(t.push(["stroke",e.color]),t.push(["stroke-width",e.width]),t.push(["stroke-linecap",this.renderLinecap(e)]),t.push(["stroke-linejoin",e.lineJoin]),void 0!==e.opacity&&t.push(["stroke-opacity",e.opacity]),void 0!==e.dashType&&t.push(["stroke-dasharray",this.renderDashType(e)])):t.push(["stroke",AG]),t}renderStroke(){return SG(this.mapStroke(this.srcElement.options.stroke))}renderDashType(e){const{dashType:t,width:n=1}=e;if(t&&t!==JO){const e=XO[t.toLowerCase()],o=[];for(let t=0;t<e.length;t++)o.push(e[t]*n);return o.join(" ")}}renderLinecap(e){const{dashType:t,lineCap:n}=e;return t&&t!==JO?QO:n}mapFill(e){const t=[];return(!e||"Gradient"!==e.nodeType&&e.nodeType!==ZO)&&(e&&!CT(e.color)?(t.push(["fill",e.color]),void 0!==e.opacity&&t.push(["fill-opacity",e.opacity])):t.push(["fill",AG])),t}renderFill(){return SG(this.mapFill(this.srcElement.options.fill))}template(){return"<path ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity()," ").concat(CG("d",this.renderData()))+"".concat(this.renderStroke()).concat(this.renderFill()).concat(this.renderDefinitions()).concat(this.renderTransform())+"".concat(this.renderClassName()," ").concat(this.renderRole())+"".concat(this.renderAriaLabel()," ").concat(this.renderAriaRoleDescription())+"".concat(this.renderAriaChecked()," ></path>")}};const $G=class extends ZG{renderData(){return this.srcElement.toPath().toString(3)}};const eW=class extends ZG{geometryChange(){const e=this.center();this.attr("cx",e.x),this.attr("cy",e.y),this.attr("r",this.radius()),this.invalidate()}center(){return this.srcElement.geometry().center}radius(){return this.srcElement.geometry().radius}template(){return"<circle ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity())+"cx='".concat(this.center().x,"' cy='").concat(this.center().y,"' r='").concat(this.radius(),"'")+"".concat(this.renderStroke()," ").concat(this.renderFill()," ").concat(this.renderDefinitions())+"".concat(this.renderClassName()," ").concat(this.renderRole())+"".concat(this.renderAriaLabel()," ").concat(this.renderAriaRoleDescription())+"".concat(this.renderAriaChecked()," ").concat(this.renderTransform()," ></circle>")}};const tW=class extends HG{template(){return"<g".concat(this.renderId()+this.renderTransform()+this.renderClassName()+this.renderStyle()+this.renderOpacity()+this.renderRole()+this.renderAriaLabel()+this.renderAriaRoleDescription()+this.renderAriaChecked()+this.renderDefinitions(),">").concat(this.renderChildren(),"</g>")}optionsChange(e){const{field:t,value:n}=e;"transform"===t&&this.transformChange(n),this.accessibilityOptionsChange(e),super.optionsChange(e)}};const nW=class extends ZG{geometryChange(){this.allAttr(this.mapPosition()),this.invalidate()}optionsChange(e){"src"===e.field&&this.allAttr(this.mapSource()),super.optionsChange(e)}mapPosition(){const e=this.srcElement.rect(),t=e.topLeft();return[["x",t.x],["y",t.y],["width",e.width()+"px"],["height",e.height()+"px"]]}renderPosition(){return SG(this.mapPosition())}mapSource(e){let t=this.srcElement.src();return e&&(t=FG(t)),[["xlink:href",t]]}renderSource(){return SG(this.mapSource(!0))}template(){return"<image preserveAspectRatio='none' ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderTransform()," ").concat(this.renderOpacity())+"".concat(this.renderPosition()," ").concat(this.renderSource()," ").concat(this.renderDefinitions())+"".concat(this.renderClassName()," ").concat(this.renderRole())+"".concat(this.renderAriaLabel()," ").concat(this.renderAriaRoleDescription())+"".concat(this.renderAriaChecked()," >")+"</image>"}};const oW=class extends ZG{renderData(){return this.srcElement.toString(3)||"undefined"}};const iW=class extends ZG{geometryChange(){const e=this.srcElement.geometry();this.attr("x",e.origin.x),this.attr("y",e.origin.y),this.attr("width",e.size.width),this.attr("height",e.size.height),this.attr("rx",e.cornerRadius[0]),this.attr("ry",e.cornerRadius[1]),this.invalidate()}size(){return this.srcElement.geometry().size}origin(){return this.srcElement.geometry().origin}rx(){return this.srcElement.geometry().cornerRadius[0]}ry(){return this.srcElement.geometry().cornerRadius[1]}template(){return"<rect ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity()," x='").concat(this.origin().x,"' y='").concat(this.origin().y,"' ")+"rx='".concat(this.rx(),"' ry='").concat(this.ry(),"' ")+"width='".concat(this.size().width,"' height='").concat(this.size().height,"' ").concat(this.renderStroke()," ")+"".concat(this.renderFill()," ").concat(this.renderDefinitions()," ").concat(this.renderTransform())+"".concat(this.renderClassName()," ").concat(this.renderRole())+"".concat(this.renderAriaLabel()," ").concat(this.renderAriaRoleDescription())+"".concat(this.renderAriaChecked()," />")}},rW=/&(?:[a-zA-Z]+|#\d+);/g;function aW(e){if(!e||"string"!==typeof e||!rW.test(e))return e;const t=aW._element;return rW.lastIndex=0,e.replace(rW,e=>(t.innerHTML=e,t.textContent||t.innerText))}"undefined"!==typeof document&&(aW._element=document.createElement("span"));const sW=class extends ZG{geometryChange(){const e=this.pos();this.attr("x",e.x),this.attr("y",e.y),this.invalidate()}optionsChange(e){"font"===e.field?(this.attr("style",IG(this.mapStyle())),this.geometryChange()):"content"===e.field&&super.content(this.srcElement.content()),super.optionsChange(e)}mapStyle(e){const t=super.mapStyle(e);let n=this.srcElement.options.font;return e&&(n=FG(n)),t.push(["font",n],["white-space","pre"]),t}pos(){const e=this.srcElement.position(),t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)}renderContent(){let e=this.srcElement.content();return e=aW(e),e=FG(e),WT(e)}renderTextAnchor(){let e;return!(this.options||{}).rtl||oT.browser.msie||oT.browser.edge||(e="end"),CG("text-anchor",e)}renderPaintOrder(){const e=this.srcElement.options.paintOrder;return e?CG("paint-order",e):""}template(){return"<text ".concat(this.renderId()," ").concat(this.renderTextAnchor()," ").concat(this.renderStyle()," ").concat(this.renderOpacity())+"x='".concat(this.pos().x,"' y='").concat(this.pos().y,"' ").concat(this.renderStroke()," ").concat(this.renderTransform()," ").concat(this.renderDefinitions())+"".concat(this.renderPaintOrder())+"".concat(this.renderFill())+"".concat(this.renderClassName()," ").concat(this.renderRole())+"".concat(this.renderAriaLabel()," ").concat(this.renderAriaRoleDescription())+"".concat(this.renderAriaChecked(),">").concat(this.renderContent(),"</text>")}};EG.Arc=$G,EG.Circle=eW,EG.Group=tW,EG.Image=nW,EG.MultiPath=oW,EG.Path=ZG,EG.Rect=iW,EG.Text=sW;const lW=class extends wG{get type(){return"svg"}constructor(e,t){super(e,t),this._root=new JG(Object.assign({rtl:"rtl"===PT(e,"direction").direction},this.options)),TG(this.element,this._template("")),this._rootElement=this.element.firstElementChild,this._rootElement.style.width="100%",this._rootElement.style.height="100%",this._rootElement.style.overflow="hidden",function(e){let t;try{t=e.getScreenCTM?e.getScreenCTM():null}catch(uo){}if(t){const n=-t.e%1,o=-t.f%1,i=e.style;0===n&&0===o||(i.left=n+"px",i.top=o+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),NT(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}destroy(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,RT(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),super.destroy()}translate(e){const t="".concat(Math.round(e.x)," ").concat(Math.round(e.y)," ").concat(this._size.width," ").concat(this._size.height);this._offset=e,this._rootElement.setAttribute("viewBox",t)}draw(e){super.draw(e),this._root.load([e])}clear(){super.clear(),this._root.clear()}svg(){return"<?xml version='1.0' ?>"+this._template()}exportVisual(){let{_visual:e,_offset:t}=this;if(t){const n=new iL;n.children.push(e),n.transform(OO().translate(-t.x,-t.y)),e=n}return e}_resize(){this._offset&&this.translate(this._offset)}_template(e){return"<svg ".concat("string"===typeof e?e:"style='width: 100%; height: 100%; overflow: hidden;' ","xmlns='").concat(jG,"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>").concat(this._root.render(),"</svg>")}},cW={};const dW=class extends kG{constructor(e){super(e),e&&this.initClip()}initClip(){const e=this.srcElement.clip();e&&(this.clip=e,e.addObserver(this))}clear(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),super.clear()}clearClip(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}setClip(e){if(this.clip){e.beginPath();new cW[this.clip.nodeType](this.clip).renderPoints(e,this.clip),e.clip("evenodd")}}optionsChange(e){"clip"===e.field&&(this.clearClip(),this.initClip()),super.optionsChange(e)}setTransform(e){if(this.srcElement){const t=this.srcElement.transform();t&&e.transform.apply(e,t.matrix().toArray(6))}}loadElements(e,t,n){for(let o=0;o<e.length;o++){let i=e[o],r=i.children,a=new cW[i.nodeType](i,n);r&&r.length>0&&a.load(r,t,n),void 0!==t?this.insertAt(a,t):this.append(a)}}load(e,t,n){this.loadElements(e,t,n),this.invalidate()}setOpacity(e){if(this.srcElement){const t=this.srcElement.opacity();void 0!==t&&this.globalAlpha(e,t)}}globalAlpha(e,t){let n=t;n&&e.globalAlpha&&(n*=e.globalAlpha),e.globalAlpha=n}visible(){const e=this.srcElement;return!e||e&&!1!==e.options.visible}};class uW extends(nL(dW,"childNodes")){renderTo(e){if(!this.visible())return;e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e);const t=this.childNodes;for(let n=0;n<t.length;n++){let o=t[n];o.visible()&&o.renderTo(e)}e.restore()}}const pW=uW;function hW(e,t){let n,o=0;if(!t||t<=0)return e;const i=function(){const i=jT()-o,r=arguments,a=function(){e.apply(null,r),o=jT()};if(!o)return a();n&&clearTimeout(n),i>t?a():n=setTimeout(a,t-i)};return i.cancel=function(){clearTimeout(n)},i}const mW=1e3/60;class fW extends(nL(pW,"childNodes")){constructor(e,t){super(),this.canvas=e,this.size=t,this.ctx=e.getContext("2d");const n=this._invalidate.bind(this);this.invalidate=hW(()=>{wL(n)},mW)}destroy(){super.destroy(),this.canvas=null,this.ctx=null}load(e,t,n){this.loadElements(e,t,n),this._invalidate()}_rescale(e){const{canvas:t,size:n}=this;t.width=n.width*e,t.height=n.height*e,this.ctx.scale(e,e)}_devicePixelRatio(){return"number"===typeof window.devicePixelRatio?window.devicePixelRatio:1}_invalidate(e){if(!this.ctx)return;const t=e&&e.fixedScale?1:this._devicePixelRatio();this._rescale(t),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}}const gW=fW;const vW=class extends aT{constructor(){super(),this.shapes=[]}_add(e,t){this.shapes.push({bbox:t,shape:e}),e._quadNode=this}pointShapes(e){const t=this.shapes,n=t.length,o=[];for(let i=0;i<n;i++)t[i].bbox.containsPoint(e)&&o.push(t[i].shape);return o}insert(e,t){this._add(e,t)}remove(e){const t=this.shapes,n=t.length;for(let o=0;o<n;o++)if(t[o].shape===e){t.splice(o,1);break}}};class yW extends vW{constructor(e){super(),this.children=[],this.rect=e}inBounds(e){const t=this.rect,n=t.bottomRight(),o=e.bottomRight();return t.origin.x<=e.origin.x&&t.origin.y<=e.origin.y&&o.x<=n.x&&o.y<=n.y}pointShapes(e){const t=this.children,n=t.length,o=super.pointShapes(e);for(let i=0;i<n;i++)lT(o,t[i].pointShapes(e));return o}insert(e,t){const n=this.children;let o=!1;if(this.inBounds(t)){if(this.shapes.length<4)this._add(e,t);else{n.length||this._initChildren();for(let i=0;i<n.length;i++)if(n[i].insert(e,t)){o=!0;break}o||this._add(e,t)}o=!0}return o}_initChildren(){const{rect:e,children:t}=this,n=e.center(),o=e.width()/2,i=e.height()/2;t.push(new yW(new kO([e.origin.x,e.origin.y],[o,i])),new yW(new kO([n.x,e.origin.y],[o,i])),new yW(new kO([e.origin.x,n.y],[o,i])),new yW(new kO([n.x,n.y],[o,i])))}}const xW=yW,bW=3e3,wW=BigInt(1e4);function kW(e,t){return e._zIndex<t._zIndex?1:e._zIndex>t._zIndex?-1:0}function CW(e,t){return e<t?-1:e>t?1:0}const SW=class extends aT{constructor(){super(),this.initRoots()}initRoots(){this.rootMap={},this.root=new vW,this.rootElements=[]}clear(){const e=this.rootElements;for(let t=0;t<e.length;t++)this.remove(e[t]);this.initRoots()}pointShape(e){const t=(this.rootMap[Math.floor(e.x/bW)]||{})[Math.floor(e.y/bW)];let n=this.root.pointShapes(e);t&&(n=n.concat(t.pointShapes(e)));const o=function(e){let t=0;for(let n=0;n<e.length;n++){let o=e[n],i=[];for(;o;)i.push(o),o=o.parent;t=Math.max(t,i.length)}return t+1}(n);this.assignZindex(n,o),n.sort(kW);for(let i=0;i<n.length;i++)if(n[i].containsPoint(e))return n[i]}assignZindex(e,t){const n=function(e,t){let n=e,o=t;const i=BigInt(1);let r=i;for(;o;)o&i&&(r*=n),o>>=i,o&&(n*=n);return r}(wW,BigInt(t)),o=[],i=BigInt(0);for(let r=0;r<e.length;r++){let t=e[r],a=i,s=n,l=[];for(;t;)l.push(t),t=t.parent;for(;l.length;)t=l.pop(),a+=BigInt((t.parent?t.parent.children:this.rootElements).indexOf(t)+1)*s,s/=wW;e[r]._zIndex=a,o.push(a)}o.sort(CW);for(let r=0;r<e.length;r++)e[r]._zIndex=o.indexOf(e[r]._zIndex)}optionsChange(e){"transform"!==e.field&&"stroke.width"!==e.field||this.bboxChange(e.element)}geometryChange(e){this.bboxChange(e.element)}bboxChange(e){if("Group"===e.nodeType)for(let t=0;t<e.children.length;t++)this.bboxChange(e.children[t]);else e._quadNode&&e._quadNode.remove(e),this._insertShape(e)}add(e){const t=Array.isArray(e)?e.slice(0):[e];lT(this.rootElements,t),this._insert(t)}childrenChange(e){if("remove"===e.action)for(let t=0;t<e.items.length;t++)this.remove(e.items[t]);else this._insert(Array.prototype.slice.call(e.items,0))}_insert(e){let t;for(;e.length>0;)t=e.pop(),t.addObserver(this),"Group"===t.nodeType?lT(e,t.children):this._insertShape(t)}_insertShape(e){const t=e.bbox();if(t){const n=this.getSectors(t),o=n[0][0],i=n[1][0];if(this.inRoot(n))this.root.insert(e,t);else{const n=this.rootMap;n[o]||(n[o]={}),n[o][i]||(n[o][i]=new xW(new kO([o*bW,i*bW],[bW,bW]))),n[o][i].insert(e,t)}}}remove(e){if(e.removeObserver(this),"Group"===e.nodeType){const t=e.children;for(let e=0;e<t.length;e++)this.remove(t[e])}else e._quadNode&&(e._quadNode.remove(e),delete e._quadNode)}inRoot(e){return e[0].length>1||e[1].length>1}getSectors(e){const t=e.bottomRight(),n=Math.floor(t.x/bW),o=Math.floor(t.y/bW),i=[[],[]];for(let r=Math.floor(e.origin.x/bW);r<=n;r++)i[0].push(r);for(let r=Math.floor(e.origin.y/bW);r<=o;r++)i[1].push(r);return i}};const IW=class{constructor(e){e.bind("mouseenter",this._mouseenter.bind(this)),e.bind("mouseleave",this._mouseleave.bind(this)),this.element=e.element}clear(){this._resetCursor()}destroy(){this._resetCursor(),delete this.element}_mouseenter(e){const t=this._shapeCursor(e);t?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(t)):this._resetCursor()}_mouseleave(){this._resetCursor()}_shapeCursor(e){let t=e.element;for(;t&&void 0===t.options.cursor;)t=t.parent;if(t)return t.options.cursor}_getCursor(){if(this.element)return this.element.style.cursor}_setCursor(e){this.element&&(this.element.style.cursor=e,this._current=e)}_resetCursor(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}};function EW(e,t){const n=t.segments;if(0===n.length)return;let o=n[0],i=o.anchor();e.moveTo(i.x,i.y);for(let r=1;r<n.length;r++){o=n[r],i=o.anchor();let t=n[r-1].controlOut(),a=o.controlIn();t&&a?e.bezierCurveTo(t.x,t.y,a.x,a.y,i.x,i.y):e.lineTo(i.x,i.y)}t.options.closed&&e.closePath()}const jW=class extends dW{renderTo(e){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),this.renderPoints(e,this.srcElement),this.setLineDash(e),this.setLineCap(e),this.setLineJoin(e),this.setFill(e),this.setStroke(e),e.restore()}setFill(e){const t=this.srcElement.options.fill;let n=!1;return t&&("Gradient"===t.nodeType?(this.setGradientFill(e,t),n=!0):t.nodeType===ZO?(this.setPatternFill(e,t),n=!0):CT(t.color)||(e.fillStyle=t.color,e.save(),this.globalAlpha(e,t.opacity),e.fill(),e.restore(),n=!0)),n}setGradientFill(e,t){const n=this.srcElement.rawBBox();let o;if(t instanceof oF){let n=t.start(),i=t.end();o=e.createLinearGradient(n.x,n.y,i.x,i.y)}else if(t instanceof rF){let n=t.center();o=e.createRadialGradient(n.x,n.y,0,n.x,n.y,t.radius())}!function(e,t){for(let n=0;n<t.length;n++){let o=t[n],i=aM(o.color());i.a*=o.opacity(),e.addColorStop(o.offset(),i.toCssRgba())}}(o,t.stops),e.save(),t.userSpace()||e.transform(n.width(),0,0,n.height(),n.origin.x,n.origin.y),e.fillStyle=o,e.fill(),e.restore()}setPatternFill(e,t){const n=t.size(),o=document.createElement("canvas"),i=o.getContext("2d");o.width=n.getWidth(),o.height=n.getHeight(),this.childNodes.length=0,this.loadElements(t.children);const r=this.childNodes;for(let a=0;a<r.length;a++){r[a].renderTo(i)}e.save(),e.fillStyle=e.createPattern(o,"repeat"),e.fill(),e.restore()}setStroke(e){const t=this.srcElement.options.stroke;if(t&&!CT(t.color)&&t.width>0)return e.strokeStyle=t.color,e.lineWidth=DT(t.width,1),e.lineJoin=DT(t.lineJoin,e.lineJoin),e.save(),this.globalAlpha(e,t.opacity),e.stroke(),e.restore(),!0}dashType(){const e=this.srcElement.options.stroke;if(e&&e.dashType)return e.dashType.toLowerCase()}setLineDash(e){const t=this.dashType();if(t&&t!==JO){const n=XO[t];e.setLineDash?e.setLineDash(n):(e.mozDash=n,e.webkitLineDash=n)}}setLineCap(e){const t=this.dashType(),n=this.srcElement.options.stroke;t&&t!==JO?e.lineCap=QO:n&&n.lineCap&&(e.lineCap=n.lineCap)}setLineJoin(e){const t=this.srcElement.options.stroke;t&&t.lineJoin&&(e.lineJoin=t.lineJoin)}renderPoints(e,t){EW(e,t)}};const AW=class extends jW{renderPoints(e){EW(e,this.srcElement.toPath())}};const _W=class extends jW{renderPoints(e){const{center:t,radius:n}=this.srcElement.geometry();e.arc(t.x,t.y,n,0,2*Math.PI)}};const DW=class extends jW{constructor(e,t){super(e),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=uT();const n=this.img=new Image,o=e.src();t&&!/^data:/i.test(o)&&(n.crossOrigin=t),o&&(n.src=o),n.complete?this.onLoad():(n.onload=this.onLoad,n.onerror=this.onError)}renderTo(e){"resolved"===this.loading.state()&&(e.save(),this.setTransform(e),this.setClip(e),this.drawImage(e),e.restore())}optionsChange(e){"src"===e.field?(this.loading=uT(),this.img.src=this.srcElement.src()):super.optionsChange(e)}onLoad(){this.loading.resolve(),this.invalidate()}onError(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}drawImage(e){const t=this.srcElement.rect(),n=t.topLeft();e.drawImage(this.img,n.x,n.y,t.width(),t.height())}};const NW=class extends jW{renderPoints(e){const t=this.srcElement.paths;for(let n=0;n<t.length;n++)EW(e,t[n])}};const TW=class extends jW{renderPoints(e){const t=this.srcElement.geometry(),[n,o]=t.cornerRadius;if(0===n&&0===o){const{origin:n,size:o}=t;e.rect(n.x,n.y,o.width,o.height)}else super.renderPoints(e,GR.fromRect(t))}};const PW=class extends jW{renderTo(e){const t=this.srcElement,n=t.position(),o=t.measure();e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),e.font=t.options.font,e.textAlign="left","stroke"===t.options.paintOrder?(this.stroke(e,t,n,o),this.fill(e,t,n,o)):(this.fill(e,t,n,o),this.stroke(e,t,n,o)),e.restore()}stroke(e,t,n,o){this.setStroke(e)&&(this.setLineDash(e),e.strokeText(t.content(),n.x,n.y+o.baseline))}fill(e,t,n,o){this.setFill(e)&&e.fillText(t.content(),n.x,n.y+o.baseline)}};cW.Arc=AW,cW.Circle=_W,cW.Group=pW,cW.Image=DW,cW.MultiPath=NW,cW.Path=jW,cW.Rect=TW,cW.Text=PW;const MW=class extends wG{get type(){return"canvas"}constructor(e,t){super(e,t),this.element.innerHTML=this._template(this);const n=this.element.firstElementChild;n.style.width="100%",n.style.height="100%";const o=OT(e);n.width=o.width,n.height=o.height,this._rootElement=n,this._root=new gW(n,o),this._mouseTrackHandler=this._trackMouse.bind(this),NT(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}destroy(){super.destroy(),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),RT(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}draw(e){super.draw(e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e])}clear(){super.clear(),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}eventTarget(e){if(this._searchTree){const t=this._surfacePoint(e);return this._searchTree.pointShape(t)}}image(){const{_root:e,_rootElement:t}=this,n=[];e.traverse(e=>{e.loading&&n.push(e.loading)});const o=uT(),i=()=>{e._invalidate({fixedScale:!0});try{const e=t.toDataURL();o.resolve(e)}catch(uo){o.reject(uo)}};return AT(n).then(i,i),o}suspendTracking(){super.suspendTracking(),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}resumeTracking(){if(super.resumeTracking(),!this._searchTree){this._searchTree=new SW;const e=this._root.childNodes,t=[];for(let n=0;n<e.length;n++)t.push(e[n].srcElement);this._searchTree.add(t)}}_resize(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}_template(){return"<canvas></canvas>"}_enableTracking(){this._searchTree=new SW,this._cursor=new IW(this),super._enableTracking()}_trackMouse(e){if(this._suspendedTracking)return;const t=this.eventTarget(e);if("click"!==e.type){const n=this._currentShape;n&&n!==t&&this.trigger("mouseleave",{element:n,originalEvent:e,type:"mouseleave"}),t&&n!==t&&this.trigger("mouseenter",{element:t,originalEvent:e,type:"mouseenter"}),this.trigger("mousemove",{element:t,originalEvent:e,type:"mousemove"}),this._currentShape=t}else t&&this.trigger("click",{element:t,originalEvent:e,type:"click"})}};let OW,RW;const LW=()=>"undefined"!==typeof document;class FW extends aT{static get support(){return RW||(RW={canvas:LW()&&document.createElement("canvas").getContext,svg:LW()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}),RW}static get current(){return OW||(OW=new FW),OW}constructor(){super(),this._items=[{name:"svg",type:lW},{name:"canvas",type:MW}]}create(e,t){const n=this._items;let o=n[0];if(t&&t.type){const e=t.type.toLowerCase();for(let t=0;t<n.length;t++)if(n[t].name===e){o=n[t];break}}if(o)return new o.type(e,t);sT("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n"+"- The browser does not support SVG and Canvas. User agent: ".concat(navigator.userAgent))}}const zW=FW;const BW=class extends wG{static get support(){return zW.support}static create(e,t){return zW.current.create(e,t)}};var VW=function(e){function t(){e.call(this),this._points=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this._points=[]},t.prototype.show=function(e,t){var n=[].concat(e);this.hide();for(var o=0;o<n.length;o++){var i=n[o];i&&i.toggleHighlight&&i.hasHighlight()&&(this.togglePointHighlight(i,!0,t),this._points.push(i))}},t.prototype.togglePointHighlight=function(e,t,n){var o=(e.options.highlight||{}).toggle;if(o){var i={category:e.category,series:e.series,dataItem:e.dataItem,value:e.value,stackValue:e.stackValue,preventDefault:HW,visual:e.highlightVisual(),show:t};o(i),i._defaultPrevented||e.toggleHighlight(t,n)}else e.toggleHighlight(t,n)},t.prototype.hide=function(){for(var e=this._points;e.length;)this.togglePointHighlight(e.pop(),!1)},t.prototype.isHighlighted=function(e){for(var t=this._points,n=0;n<t.length;n++){if(e===t[n])return!0}return!1},t}(aT);function HW(){this._defaultPrevented=!0}const qW=VW;function UW(e,t){var n=(t||"").toLowerCase(),o=e.event;return"none"===n&&!(o.ctrlKey||o.shiftKey||o.altKey)||o[n+"Key"]}function GW(e){for(var t={},n=0;n<e.length;n++){var o=e[n];o.axis.options.name&&(t[o.axis.options.name]={min:o.range.min,max:o.range.max})}return t}var WW=function(e){function t(t,n){e.call(this),this.plotArea=t,this.options=_N({},this.options,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.start=function(e){return this._active=UW(e,this.options.key),this._active},t.prototype.move=function(e){if(this._active){var t=this.axisRanges=this._panAxes(e,lN).concat(this._panAxes(e,cN));if(t.length)return this.axisRanges=t,GW(t)}},t.prototype.end=function(){var e=this._active;return this._active=!1,e},t.prototype.pan=function(){var e=this.plotArea,t=this.axisRanges;if(t.length){for(var n=0;n<t.length;n++){var o=t[n];e.updateAxisOptions(o.axis,o.range)}e.redraw(e.panes)}},t.prototype.destroy=function(){delete this.plotArea},t.prototype._panAxes=function(e,t){var n=this.plotArea,o=-e[t].delta,i=(this.options.lock||"").toLowerCase(),r=[];if(0!==o&&(i||"").toLowerCase()!==t)for(var a=n.axes,s=0;s<a.length;s++){var l=a[s];if(t===lN&&!l.options.vertical||t===cN&&l.options.vertical){var c=l.pan(o);c&&(c.limitRange=!0,r.push({axis:l,range:c}))}}return r},t}(aT);WW.prototype.options={key:"none",lock:"none"};const KW=WW;var YW=function(e){function t(t,n){e.call(this),this.chart=t,this.options=_N({},this.options,n),this.createElement()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createElement=function(){var e=this._marquee=document.createElement("div");e.className="k-marquee";var t=document.createElement("div");t.className="k-marquee-color",e.appendChild(t)},t.prototype.removeElement=function(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)},t.prototype.setStyles=function(e){MN(this._marquee,e)},t.prototype.start=function(e){if(UW(e,this.options.key)){var t=this.chart,n=t._eventCoordinates(e),o=this._zoomPane=t._plotArea.paneByPoint(n),i=o?o.chartsBox().clone():null;if(o&&i){var r=this._elementOffset();return i.translate(r.left,r.top),this._zoomPaneClipBox=i,document.body.appendChild(this._marquee),this.setStyles({left:e.pageX+1,top:e.pageY+1,width:0,height:0}),!0}}return!1},t.prototype._elementOffset=function(){var e=this.chart.element,t=MN(e,["paddingLeft","paddingTop"]),n=t.paddingLeft,o=t.paddingTop,i=kP(e);return{left:n+i.left,top:o+i.top}},t.prototype.move=function(e){this._zoomPane&&this.setStyles(this._selectionPosition(e))},t.prototype.end=function(e){if(this._zoomPane){var t=this._elementOffset(),n=this._selectionPosition(e);n.left-=t.left,n.top-=t.top;var o={x:n.left,y:n.top},i={x:n.left+n.width,y:n.top+n.height};return this._updateAxisRanges(o,i),this.removeElement(),delete this._zoomPane,GW(this.axisRanges)}},t.prototype.zoom=function(){var e=this.axisRanges;if(e&&e.length){for(var t=this.chart._plotArea,n=0;n<e.length;n++){var o=e[n];t.updateAxisOptions(o.axis,o.range)}t.redraw(t.panes)}},t.prototype.destroy=function(){this.removeElement(),delete this._marquee,delete this.chart},t.prototype._updateAxisRanges=function(e,t){for(var n=(this.options.lock||"").toLowerCase(),o=[],i=this._zoomPane.axes,r=0;r<i.length;r++){var a=i[r],s=a.options.vertical;if((n!==lN||s)&&(n!==cN||!s)&&bP(a.axisIndex)){var l=a.pointsRange(e,t);l&&o.push({axis:a,range:l})}}this.axisRanges=o},t.prototype._selectionPosition=function(e){var t=this._zoomPaneClipBox,n={x:e.x.startLocation,y:e.y.startLocation},o=e.x.location,i=e.y.location,r=(this.options.lock||"").toLowerCase(),a=Math.min(n.x,o),s=Math.min(n.y,i),l=Math.abs(n.x-o),c=Math.abs(n.y-i);return r===lN&&(a=t.x1,l=t.width()),r===cN&&(s=t.y1,c=t.height()),o>t.x2&&(l=t.x2-n.x),o<t.x1&&(l=n.x-t.x1),i>t.y2&&(c=t.y2-n.y),i<t.y1&&(c=n.y-t.y1),{left:Math.max(a,t.x1),top:Math.max(s,t.y1),width:l,height:c}},t}(aT);YW.prototype.options={key:"shift",lock:"none"};const XW=YW;var JW=function(e){function t(t,n){e.call(this),this.chart=t,this.options=_N({rate:.3},this.options,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.updateRanges=function(e,t){for(var n=(this.options.lock||"").toLowerCase(),o=[],i=this.chart._plotArea.axes,r=0;r<i.length;r++){var a=i[r],s=a.options.vertical;if((n!==lN||s)&&(n!==cN||!s)&&a.zoomRange){var l=AP(this.options.rate,.01,.9),c=a.zoomRange(-e*l,t);c&&o.push({axis:a,range:c})}}return this.axisRanges=o,GW(o)},t.prototype.zoom=function(){var e=this.axisRanges,t=this.chart._plotArea;if(e&&e.length&&t.updateAxisOptions){for(var n=0;n<e.length;n++){var o=e[n];t.updateAxisOptions(o.axis,o.range)}t.redraw(t.panes)}},t.prototype.destroy=function(){delete this.chart},t}(aT);const QW=JW;function ZW(e,t,n,o,i){let r;return r="start"===n?t.origin[o]:"end"===n?t.origin[o]+t.size[i]-e:t.origin[o]+(t.size[i]-e)/2,r}function $W(e,t,n,o,i){let r;return r="start"===n?t.origin[o]+t.size[i]-e:"end"===n?t.origin[o]:t.origin[o]+(t.size[i]-e)/2,r}const eK={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},tK=(e,t)=>{e.forEach(t)},nK=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)};const oK=class extends iL{constructor(e,t){super(Object.assign({},eK,t)),this._rect=e,this._fieldMap={}}rect(e){return e?(this._rect=e,this):this._rect}_initMap(){const e=this.options,t=this._fieldMap;"horizontal"===e.orientation?(t.sizeField="width",t.groupsSizeField="height",t.groupAxis="x",t.groupsAxis="y"):(t.sizeField="height",t.groupsSizeField="width",t.groupAxis="y",t.groupsAxis="x"),e.reverse?(this.forEach=nK,this.justifyAlign=$W):(this.forEach=tK,this.justifyAlign=ZW)}reflow(){if(!this._rect||0===this.children.length)return;this._initMap(),this.options.transform&&this.transform(null);const e=this.options,t=this._rect,{groups:n,groupsSize:o}=this._initGroups(),{sizeField:i,groupsSizeField:r,groupAxis:a,groupsAxis:s}=this._fieldMap,l=new yO,c=new yO,d=new bO;let u,p,h,m=ZW(o,t,e.alignContent,s,r);const f=(t,n)=>{const o=p.elements[n];c[a]=u,c[s]=ZW(t.size[r],h,e.alignItems,s,r),function(e,t,n){const o=n.transform()||OO(),i=o.matrix();i.e+=e.x-t.origin.x,i.f+=e.y-t.origin.y,o.matrix(i),n.transform(o)}(c,t,o),u+=t.size[i]+e.spacing};for(let g=0;g<n.length;g++)p=n[g],l[a]=u=this.justifyAlign(p.size,t,e.justifyContent,a,i),l[s]=m,d[i]=p.size,d[r]=p.lineSize,h=new kO(l,d),this.forEach(p.bboxes,f),m+=p.lineSize+e.lineSpacing;if(!e.wrap&&p.size>t.size[i]){const n=t.size[i]/h.size[i],o=h.topLeft().scale(n,n),l=ZW(h.size[r]*n,t,e.alignContent,s,r),c=OO();"x"===a?c.translate(t.origin.x-o.x,l-o.y):c.translate(l-o.x,t.origin.y-o.y),c.scale(n,n),this.transform(c)}}_initGroups(){const{options:e,children:t}=this,{lineSpacing:n,wrap:o,spacing:i}=e,r=this._fieldMap.sizeField;let a=this._newGroup();const s=[],l=function(){s.push(a),c+=a.lineSize+n};let c=-n;for(let d=0;d<t.length;d++){let e=t[d],n=t[d].clippedBBox();e.visible()&&n&&(o&&a.size+n.size[r]+i>this._rect.size[r]?0===a.bboxes.length?(this._addToGroup(a,n,e),l(),a=this._newGroup()):(l(),a=this._newGroup(),this._addToGroup(a,n,e)):this._addToGroup(a,n,e))}return a.bboxes.length&&l(),{groups:s,groupsSize:c}}_addToGroup(e,t,n){e.size+=t.size[this._fieldMap.sizeField]+this.options.spacing,e.lineSize=Math.max(t.size[this._fieldMap.groupsSizeField],e.lineSize),e.bboxes.push(t),e.elements.push(n)}_newGroup(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}};var iK=function(e){function t(t,n){e.call(this,t),this.chartService=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e,t=this.children,n=this.options,o=n.vertical;this.visual=new oK(null,{spacing:o?0:n.spacing,lineSpacing:o?n.spacing:0,orientation:o?"vertical":uN,reverse:n.rtl,alignItems:o?(e=n.rtl,e?qD:nN):LD});for(var i=0;i<t.length;i++){var r=t[i];r.reflow(new IO),r.renderVisual()}},t.prototype.reflow=function(e){this.visual.rect(e.toRect()),this.visual.reflow();var t=this.visual.clippedBBox();this.box=t?yF(t):new IO},t.prototype.renderVisual=function(){this.addVisual()},t.prototype.createVisual=function(){},t}(jL);const rK=iK;var aK=10,sK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.visualStyle=function(){var e=this.markerOptions(),t=e.border;return{stroke:{width:t.width,color:t.color,opacity:PP(t.opacity,e.opacity),dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},cursor:e.cursor}},t.prototype.markerOptions=function(){return this.options},t.prototype.markerHighlightOptions=function(){var e=this.markerOptions(),t=e.highlight.border.width;return _N({},e,{background:e.border.color},e.highlight,e.type===zD?{background:e.highlight.border.color,border:{color:e.highlight.background,width:t/2},width:e.width,height:e.height,margin:{top:0,left:0}}:{})},t.prototype.createHighlight=function(){var t=new e(this.markerHighlightOptions()),n=this.paddingBox.clone();return t.reflow(n.pad(t.options.border.width)),this.highlight=[t.getElement()],this.highlight},t}(KL);RP(sK,{border:{width:2},width:8,height:8,background:aN,margin:{top:-1,left:-1},vAlign:iN,align:YD,highlight:{width:aK,height:aK,border:{color:aN,width:2}}});const lK=sK;var cK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=new iL,t=new WR(this.visualStyle()),n=this.paddingBox,o=n.height()/2;return t.moveTo(n.x1,n.y1+o).lineTo(n.x1,n.y2).lineTo(n.x2,n.y2),e.append(t),e},t}(KL);RP(cK,{width:15,height:15,align:eN,vAlign:RD,margin:{right:-2,bottom:2}});const dK=cK;var uK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=new iL,t=new WR({stroke:{color:this.options.border.color,opacity:this.options.opacity,width:this.options.height,dashType:this.options.dashType}}),n=this.paddingBox,o=n.center().y;return t.moveTo(n.x1,o).lineTo(n.x2,o),e.append(t),e},t.prototype.createHighlight=function(){return this.highlight=[this.createHighlightLine(),this.createHighlightMarker()],this.highlight},t.prototype.createHighlightLine=function(){var e=_N({},{border:{color:this.options.border.color,opacity:this.options.border.opacity,dashType:this.options.border.dashType}},this.options.highlight),t=new dK(e);return t.reflow(this.parent.paddingBox.clone()),this.highlightLine=t.getElement(),this.highlightLine},t.prototype.createHighlightMarker=function(){var t=_N({},{background:this.options.background},this.options.highlight.markers),n=new e(t),o=this.parent.paddingBox,i=t.border.width,r=this.parent.box.clone();return r.pad({left:i-o.x1,top:i-o.y1}),n.reflow(r),this.highlightMarker=n.getElement(),this.highlightMarker},t}(KL);RP(uK,{border:{width:0},type:"rect",align:YD,vAlign:LD,highlight:{border:{width:2},markers:{type:FD,width:aK,height:aK,border:{width:2,color:aN},align:YD,vAlign:iN}}});const pK=uK;var hK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createHighlight=function(){var t=_N({},{background:this.options.background},this.options.highlight.markers),n=new e(t),o=this.paddingBox.clone(),i=this.parent.box.clone();return o.align(i,lN,YD),o.align(i,cN,iN),n.reflow(o),this.highlight=[n.getElement()],this.highlight},t}(KL);RP(hK,{highlight:{markers:{type:FD,width:aK,height:aK,border:{width:2,color:aN},margin:{top:-3,left:-3}}}});const mK=hK;var fK=function(e){function t(t){e.call(this,t),this.createContainer(),t.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel()),this._id=SM(),this.options.accessibility.ariaChecked=t.active}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createContainer=function(){this.container=new pF({vertical:!1,wrap:!1,align:LD,spacing:this.options.spacing}),this.append(this.container)},t.prototype.createMarker=function(){this.markerWrap=new e({vertical:!1,shrinkToFit:!0,wrap:!1,margin:1,width:22,height:22}),this.container.append(this.markerWrap),this.createMarkerArea(),this.options.markers.visible&&(this._marker=this._createMarker(),this.markerWrap.append(this._marker))},t.prototype.createMarkerArea=function(){var e=this.options,t=e.markerColor,n=e.line;void 0===n&&(n={});var o={border:{color:n.color||t,opacity:n.opacity,dashType:n.dashType}};return this._createLine(o)||this._createMarkerLine(o,n)||this._createSquare()},t.prototype.markerOptions=function(){var e=this.options,t=e.markers;void 0===t&&(t={});var n=e.markerColor,o=t.border;return void 0===o&&(o={}),t.zIndex=void 0,_N({},t,{border:{color:o.color||n},highlight:e.highlight.markers})},t.prototype._highlightOptions=function(){var e=this.options;return _N({markers:{type:e.markers.type}},e.highlight)},t.prototype._createLine=function(e){var t=this.options;return t.type!==iV||t.markers.visible||(this._line=new pK(_N({},{background:t.markerColor,highlight:this._highlightOptions()},e,t.line)),this.markerWrap.append(this._line)),this._line},t.prototype._createMarkerLine=function(e,t){return this.options.type===iV&&(this._markerLineArea=new dK(_N({},{border:{width:t.height}},e)),this.markerWrap.append(this._markerLineArea)),this._markerLineArea},t.prototype._reduceSize=function(e,t,n){void 0===n&&(n=.6),"number"===typeof e[t]&&(e[t]=e[t]*n)},t.prototype._createSquare=function(){var e=this.options;if(e.type===WB){var t=e.pattern||(e.series||{}).pattern;t&&("function"===typeof t&&(t=t(e.series)),t=structuredClone(t),this._reduceSize(t,"gap"),this._reduceSize(t,"width"),this._reduceSize(t,"radius")),this._square=new mK(Object.assign({},{border:e.border,vAlign:e.markers.visible?RD:LD,highlight:this._highlightOptions()},e.area,{pattern:t,background:e.area.background||e.markerColor})),this.markerWrap.append(this._square)}return this._square},t.prototype._createMarker=function(){return new lK(this.markerOptions())},t.prototype._highlightMarkers=function(){this.options.active&&this._toggleHighlight(!0)},t.prototype._restoreMarkers=function(){this._toggleHighlight(!1)},t.prototype._toggleHighlight=function(e){var t=this;if(this.options.highlight.visible){var n=this._marker||this._square||this._line;if(n&&n===this._line&&this._line.visual.visible(!e),n){var o=n.highlight;o||(o=n.createHighlight()).forEach(function(e){return e&&t.markerWrap.appendVisual(e)}),o.forEach(function(t){return t&&t.visible(e)})}}},t.prototype.createLabel=function(){var e=this.options,t=_N({},e.labels);this.container.append(new wF(e.text,t))},t.prototype.getAriaLabelText=function(){return this.options.text},t.prototype.focusVisual=function(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0),this._highlightMarkers()},t.prototype.clearFocusFromVisual=function(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1),this._restoreMarkers()},t.prototype.renderComplete=function(){e.prototype.renderComplete.call(this);var t=this.options.cursor||{},n=this._itemOverlay=GR.fromRect(this.container.box.toRect(),{fill:{color:aN,opacity:0},stroke:null,cursor:t.style||t});this.appendVisual(n)},t.prototype.click=function(e,t){var n=this.eventArgs(t);!e.trigger(TV,n)&&t&&"contextmenu"===t.type&&t.preventDefault()},t.prototype.over=function(e,t){var n=this.eventArgs(t);return e.trigger("legendItemHover",n)||(e._legendItemHover(n.seriesIndex,n.pointIndex),this._highlightMarkers()),!0},t.prototype.out=function(e,t){e._unsetActivePoint(),this._restoreMarkers(),e.trigger("legendItemLeave",this.eventArgs(t))},t.prototype.eventArgs=function(e){var t=this.options;return{element:IP(e),text:t.text,series:t.series,seriesIndex:t.series.index,pointIndex:t.pointIndex}},t.prototype.createVisual=function(){e.prototype.createVisual.call(this);var t=this.options;if(this.options.visible){var n=_N({ariaLabel:void 0!==t.accessibility.ariaLabel?t.accessibility.ariaLabel:t.text},t.accessibility);GL(this.visual,n)}},t.prototype.renderVisual=function(){var t=this,n=this.options,o=n.visual;o?(this.visual=o({active:n.active,series:n.series,sender:this.getSender(),pointIndex:n.pointIndex,options:{type:n.type,markers:_N({background:this.options.markerColor},this.markerOptions()),labels:n.labels},createVisual:function(){t.createVisual(),t.renderChildren(),t.renderComplete();var e=t.visual;return delete t.visual,e}}),this._marker=this._markerLineArea=this._square=this._line=null,this.addVisual()):e.prototype.renderVisual.call(this)},t.prototype.createFocusHighlight=function(e){var t=e.stroke.width;return GR.fromRect(this.container.box.pad(t/2).toRect(),e)},t}(UL);RP(fK,{accessibility:{role:"checkbox",className:"k-chart-legend-item",ariaRoleDescription:"Legend item"},markers:{},highlight:{visible:!0,markers:{}}});const gK=fK;var vK="custom",yK=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,t),this.chartService=n,YN(this.options.position,[iN,eN,RD,YD,vK])||(this.options.position=eN),this.createContainers(),this.createLegendTitle(t.title),this.createItems()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createContainers=function(){var e=this.options,t=e.position,n=e.align,o=t,i=LD;t===vK?o=YD:YN(t,[iN,RD])?(o=n===nN?YD:n===qD?eN:LD,i=t):n&&(n===nN?i=iN:n===qD&&(i=RD)),this.container=new UL({margin:e.margin,padding:e.padding,background:e.background,border:e.border,vAlign:i,align:o,zIndex:e.zIndex,shrinkToFit:!0}),this.hasTitle()?this.itemsContainer=new UL({vAlign:i,align:o,zIndex:e.zIndex,shrinkToFit:!0}):this.itemsContainer=this.container,this.append(this.container)},t.prototype.createItems=function(){var e=this.getService(),t=this.options,n=this.isVertical(),o=new rK({vertical:n,spacing:t.spacing,rtl:e.rtl},e),i=t.data;t.reverse&&(i=i.slice(0).reverse());for(var r=i.length,a=0;a<r;a++){var s=i[a],l=s.series||{},c=l.markers;void 0===c&&(c={});var d=l.dashType,u=l.legendItem,p=l.opacity,h=_N({visible:!1!==c.visible,type:FD},c);delete h.size;var m=_N({},{markers:h,labels:t.labels,rtl:e.rtl,line:Object.assign({},{dashType:d},t.line),area:Object.assign({},{opacity:p},t.area),opacity:p,accessibility:t.accessibility,focusHighlight:t.focusHighlight},t.item,u,s,{markers:t.markers});o.append(new gK(m))}o.render(),this.itemsContainer.append(o)},t.prototype.isVertical=function(){var e=this.options,t=e.orientation,n=e.position;return n===vK&&t!==uN||(bP(t)?t!==uN:YN(n,[YD,eN]))},t.prototype.hasItems=function(){return this.container.children[0].children.length>0},t.prototype.getItems=function(){return this.itemsContainer.children[0].children},t.prototype.reflow=function(e){var t=this.options,n=e.clone();this.hasItems()?(t.position===vK?(this.containerCustomReflow(n),this.box=n):this.containerReflow(n),this.hasTitle()&&this.title.reflow(new IO(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))):this.box=n},t.prototype.containerReflow=function(e){var t=this.options,n=this.container,o=t.position,i=t.width,r=t.height,a=o===iN||o===RD?lN:cN,s=this.isVertical(),l=e.clone(),c=e.clone();o!==YD&&o!==eN||(c.y1=l.y1=0),s&&r?(c.y2=c.y1+r,c.align(l,cN,n.options.vAlign)):!s&&i&&(c.x2=c.x1+i,c.align(l,lN,n.options.align)),n.reflow(c);var d=(c=n.box).clone();(t.offsetX||t.offsetY)&&(c.translate(t.offsetX,t.offsetY),n.reflow(c)),d[a+1]=e[a+1],d[a+2]=e[a+2],this.box=d},t.prototype.containerCustomReflow=function(e){var t=this.options,n=this.container,o=t.offsetX,i=t.offsetY,r=t.width,a=t.height,s=this.isVertical(),l=e.clone();s&&a?l.y2=l.y1+a:!s&&r&&(l.x2=l.x1+r),n.reflow(l),l=n.box,n.reflow(new IO(o,i,o+l.width(),i+l.height()))},t.prototype.renderVisual=function(){this.hasItems()&&e.prototype.renderVisual.call(this)},t.prototype.createLegendTitle=function(e){var t=_N({},{color:OD,position:iN,align:LD},e),n=t.text;if(e&&!1!==e.visible&&e.text){if(bP(t)&&t.visible){var o=zN(t);o?n=o({text:n}):t.format&&(n=this.chartService.format.auto(t.format,n))}this.title=new wF(n,t),this.createTitleLayout(),this.appendTitleLayoutContent()}},t.prototype.createTitleLayout=function(){this.layout=new pF({vertical:!0,wrap:!1}),this.container.append(this.layout)},t.prototype.hasTitle=function(){return Boolean(this.options.title&&!1!==this.options.title.visible&&this.options.title.text)},t.prototype.appendTitleLayoutContent=function(){this.options.title.position===RD?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))},t}(jL);RP(yK,{position:eN,data:[],offsetX:0,offsetY:0,margin:ON(2),padding:ON(5),border:{color:OD,width:0},item:{cursor:dN,spacing:6},spacing:6,background:"",zIndex:1,markers:{},line:{width:20,height:2,cursor:dN,opacity:1},area:{type:"square",align:eN,width:15,height:15}});const xK=yK;var bK=function(e){function t(){e.call(this),this._registry=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.register=function(e,t){this._registry.push({type:e,seriesTypes:t})},t.prototype.create=function(e,t,n){for(var o,i=this._registry,r=i[0],a=0;a<i.length;a++){var s=i[a];o=yH(e,s.seriesTypes);var l=yH(e,NV);if(o.length-l.length>0){r=s;break}}return new r.type(o,t,n)},t}(aT);bK.current=new bK;const wK=bK;function kK(e){var t=document.createElement("div");return e&&(t.className=e),t}function CK(e){for(var t=e;t&&!GN(t,"k-handle");)t=t.parentNode;return t}var SK=function(e){function t(t,n,o,i){e.call(this);var r=t.element;this.options=_N({},this.options,o),this.chart=t,this.observer=i,this.chartElement=r,this.categoryAxis=n,this._dateAxis=this.categoryAxis instanceof zz,this.initOptions(),this.visible=this.options.visible&&r.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onPane=function(e){return this.categoryAxis.pane===e},t.prototype.createElements=function(){var e=this.options,t=this.wrapper=kK("k-selector k-pointer-events-none");MN(t,{top:e.offset.top,left:e.offset.left,width:e.width,height:e.height,direction:"ltr"});var n=this.selection=kK("k-selection k-pointer-events-none");this.leftMask=kK("k-mask k-pointer-events-none"),this.rightMask=kK("k-mask k-pointer-events-none"),t.appendChild(this.leftMask),t.appendChild(this.rightMask),t.appendChild(n);var o=this.body=kK("k-selection-bg k-pointer-events-none");n.appendChild(o);var i=this.leftHandle=kK("k-handle k-left-handle k-pointer-events-auto"),r=this.rightHandle=kK("k-handle k-right-handle k-pointer-events-auto");i.appendChild(kK()),r.appendChild(kK()),n.appendChild(i),n.appendChild(r),this.chartElement.appendChild(t);var a=MN(n,["borderLeftWidth","borderRightWidth","height"]),s=MN(i,"height").height,l=MN(r,"height").height;e.selection={border:{left:a.borderLeftWidth,right:a.borderRightWidth}},MN(i,{top:(a.height-s)/2}),MN(r,{top:(a.height-l)/2}),t.style.cssText=t.style.cssText},t.prototype.bindEvents=function(){var e;!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),xP(this.chartElement,((e={})[oH]=this._mousewheelHandler,e))),this._domEvents=qF.create(this.chartElement,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})},t.prototype.initOptions=function(){var e=this.options,t=this.categoryAxis.pane.chartsBox(),n=this.chart.chartService.intl;this._dateAxis&&_N(e,{min:Sz(n,e.min),max:Sz(n,e.max),from:Sz(n,e.from),to:Sz(n,e.to)});var o=MN(this.chartElement,["paddingLeft","paddingTop"]),i=o.paddingLeft,r=o.paddingTop;this.options=_N({},{width:t.width(),height:t.height()+.1,padding:{left:i,top:r},offset:{left:t.x1+i,top:t.y1+r},from:e.min,to:e.max},e)},t.prototype.destroy=function(){var e;this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(TP(this.chartElement,((e={})[oH]=this._mousewheelHandler,e)),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)},t.prototype._rangeEventArgs=function(e){return{axis:this.categoryAxis.options,from:this._value(e.from),to:this._value(e.to)}},t.prototype._pointInPane=function(e,t){var n=this.categoryAxis.pane.box,o=this.chart._toModelCoordinates(e,t);return n.containsPoint(o)},t.prototype._start=function(e){var t=this.options,n=IP(e);if(!this._state&&n){var o=SP(e);if(this._pointInPane(o.x,o.y)){var i=CK(n),r=this.body.getBoundingClientRect(),a=!i&&o.x>=r.x&&o.x<=r.x+r.width&&o.y>=r.y&&o.y<=r.y+r.height;this.chart._unsetActivePoint(),this._state={moveTarget:i,startLocation:e.x?e.x.location:0,inBody:a,range:{from:this._index(t.from),to:this._index(t.to)}};var s=this._rangeEventArgs({from:this._index(t.from),to:this._index(t.to)});this.trigger(GV,s)&&(this._state=null)}}},t.prototype._press=function(e){var t;(t=this._state?this._state.moveTarget:CK(IP(e)))&&hN(t,"k-handle-active")},t.prototype._move=function(e){if(this._state){var t=this,n=t._state,o=t.options,i=t.categoryAxis,r=n.range,a=n.moveTarget,s=i.options.reverse,l=this._index(o.from),c=this._index(o.to),d=this._index(o.min),u=this._index(o.max),p=n.startLocation-e.x.location,h=r.from,m=r.to,f=r.to-r.from,g=MN(this.wrapper,"width").width/(i.categoriesCount()-1),v=Math.round(p/g)*(s?-1:1);if(a||n.inBody){var y=a&&GN(a,"k-left-handle"),x=a&&GN(a,"k-right-handle");n.inBody?(r.from=Math.min(Math.max(d,l-v),u-f),r.to=Math.min(r.from+f,u)):y&&!s||x&&s?(r.from=Math.min(Math.max(d,l-v),u-1),r.to=Math.max(r.from+1,r.to)):(y&&s||x&&!s)&&(r.to=Math.min(Math.max(d+1,c-v),u),r.from=Math.min(r.to-1,r.from)),r.from===h&&r.to===m||(this.move(r.from,r.to),this.trigger(WV,this._rangeEventArgs(r)))}}},t.prototype._end=function(){if(this._state){var e=this._state.moveTarget;e&&fN(e,"k-handle-active");var t=this._state.range;this.set(t.from,t.to),this.trigger(KV,this._rangeEventArgs(t)),delete this._state}},t.prototype._tap=function(e){var t=this.options,n=this.categoryAxis,o=this.chart._eventCoordinates(e),i=n.pointCategoryIndex(new uO(o.x,n.box.y1)),r=this._index(t.from),a=this._index(t.to),s=this._index(t.min),l=this._index(t.max),c=a-r,d=r+c/2,u={},p=3===e.event.which,h=Math.round(d-i);this._state||p||(this.chart._unsetActivePoint(),n.options.justified||h--,u.from=Math.min(Math.max(s,r-h),l-c),u.to=Math.min(u.from+c,l),this._start(e),this._state&&(this._state.range=u,this.trigger(WV,this._rangeEventArgs(u)),this._end()))},t.prototype._mousewheel=function(e){var t=this,n=rT(e);if(this._start(e),this._state){var o=this._state.range;e.preventDefault(),e.stopPropagation(),Math.abs(n)>1&&(n*=3),this.options.mousewheel.reverse&&(n*=-1),this.expand(n)&&this.trigger(WV,{axis:this.categoryAxis.options,delta:n,originalEvent:e,from:this._value(o.from),to:this._value(o.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(function(){t._end()},150)}},t.prototype._gesturestart=function(e){var t=this.options,n=e.touches[0];if(this._pointInPane(n.pageX,n.pageY)){this._state={range:{from:this._index(t.from),to:this._index(t.to)}};var o=this._rangeEventArgs(this._state.range);this.trigger(GV,o)?this._state=null:e.preventDefault()}},t.prototype._gestureend=function(){this._state&&(this.trigger(KV,this._rangeEventArgs(this._state.range)),delete this._state)},t.prototype._gesturechange=function(e){if(this._state){var t=this,n=t.chart,o=t._state,i=t.options,r=t.categoryAxis,a=o.range,s=n._toModelCoordinates(e.touches[0].x.location).x,l=n._toModelCoordinates(e.touches[1].x.location).x,c=Math.min(s,l),d=Math.max(s,l);e.preventDefault(),a.from=r.pointCategoryIndex(new uO(c))||i.min,a.to=r.pointCategoryIndex(new uO(d))||i.max,this.move(a.from,a.to),this.trigger(WV,this._rangeEventArgs(a))}},t.prototype._index=function(e){var t=e;return e instanceof Date&&(t=this.categoryAxis.categoryIndex(e)),t},t.prototype._value=function(e){var t=e;return this._dateAxis&&(t=this.categoryAxis.categoryAt(e))>this.options.max&&(t=this.options.max),t},t.prototype._slot=function(e){var t=this.categoryAxis,n=this._index(e);return t.getSlot(n,n,!0)},t.prototype.move=function(e,t){var n=this.options,o=this.categoryAxis.options.reverse,i=n.offset,r=n.padding,a=n.selection.border,s=o?t:e,l=o?e:t,c="x"+(o?2:1),d=this._slot(s),u=NP(d[c]-i.left+r.left);MN(this.leftMask,{width:u}),MN(this.selection,{left:u}),d=this._slot(l);var p=NP(n.width-(d[c]-i.left+r.left));MN(this.rightMask,{width:p});var h=n.width-p;h!==n.width&&(h+=a.right),MN(this.rightMask,{left:h}),MN(this.selection,{width:Math.max(n.width-(u+p)-a.right,0)})},t.prototype.set=function(e,t){var n=this.options,o=this._index(n.min),i=this._index(n.max),r=AP(this._index(e),o,i),a=AP(this._index(t),r+1,i);n.visible&&this.move(r,a),n.from=this._value(r),n.to=this._value(a)},t.prototype.expand=function(e){var t=this.options,n=this._index(t.min),o=this._index(t.max),i=t.mousewheel.zoom,r=this._index(t.from),a=this._index(t.to),s={from:r,to:a},l=_N({},s);if(this._state&&(s=this._state.range),i!==eN&&(s.from=AP(AP(r-e,0,a-1),n,o)),i!==YD&&(s.to=AP(AP(a+e,s.from+1,o),n,o)),s.from!==l.from||s.to!==l.to)return this.set(s.from,s.to),!0},t.prototype.zoom=function(e,t){var n=this.options,o=this._index(n.min),i=this._index(n.max),r=this._index(n.from),a=this._index(n.to),s={from:r,to:a},l=_N({},s),c=this.categoryAxis.options.reverse,d=lN+(c?"2":"1"),u=this.categoryAxis.lineBox(),p=Math.abs(u[d]-t[lN]),h=u.width(),m=NP(p/h,2),f=NP(m*e),g=NP((1-m)*e);if(this._state&&(s=this._state.range),s.from=AP(AP(r-f,0,a-1),o,i),s.to=AP(AP(a+g,s.from+1,i),o,i),s.from!==l.from||s.to!==l.to)return this.set(s.from,s.to),!0},t.prototype.trigger=function(e,t){return(this.observer||this.chart).trigger(e,t)},t}(aT);RP(SK,{visible:!0,mousewheel:{zoom:"both"},min:JD,max:XD});const IK=SK;var EK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.show=function(t){if(t&&t.tooltipAnchor&&(!this._current||this._current!==t)){var n=_N({},this.options,t.options.tooltip),o=t.tooltipAnchor();o?(this._current=t,e.prototype.show.call(this,{point:t,anchor:o},n,t)):this.hide()}},t.prototype.hide=function(){delete this._current,e.prototype.hide.call(this)},t}(Yq);const jK=EK;var AK=function(e){function t(t,n){e.call(this,t.chartService,n),this.plotArea=t,this.formatService=t.chartService.format}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.showAt=function(e,t){var n=UN(e,function(e){var t=e.series.tooltip;return!(t&&!1===t.visible)});if(n.length>0){var o=n[0],i=this.plotArea.categoryAxis.getSlot(o.categoryIx),r=t?this._slotAnchor(t,i):this._defaultAnchor(o,i);this.show({anchor:r,shared:!0,points:e,category:o.category,categoryText:this.formatService.auto(this.options.categoryFormat,o.category),series:this.plotArea.series},this.options)}},t.prototype._slotAnchor=function(e,t){return this.plotArea.categoryAxis.options.vertical||(e.x=t.center().x),{point:e,align:{horizontal:"left",vertical:"center"}}},t.prototype._defaultAnchor=function(e,t){var n=e.owner.pane.chartsBox(),o=this.plotArea.categoryAxis.options.vertical,i=n.center(),r=t.center();return{point:o?new uO(i.x,r.y):new uO(r.x,i.y),align:{horizontal:"center",vertical:"center"}}},t}(Yq);RP(AK,{categoryFormat:"{0:d}"});const _K=AK;var DK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){var e=this.element,t=this.options;if(e.bbox()){this.origin=t.origin;var n=t.vertical?cN:lN,o=this.fromScale=new yO(1,1);o[n]=LB,e.transform(OO().scale(o.x,o.y))}else this.abort()},t.prototype.step=function(e){var t=JN(this.fromScale.x,1,e),n=JN(this.fromScale.y,1,e);this.element.transform(OO().scale(t,n,this.origin))},t.prototype.abort=function(){e.prototype.abort.call(this),this.element.transform(null)},t}(IL);RP(DK,{duration:MB}),SL.current.register(KB,DK);var NK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){var e=this.center=this.element.bbox().center();this.element.transform(OO().scale(LB,LB,e))},t.prototype.step=function(e){this.element.transform(OO().scale(e,e,this.center))},t}(IL);RP(NK,{easing:"easeOutElastic"}),SL.current.register(XB,NK);var TK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)},t.prototype.step=function(e){this.element.opacity(e*this.fadeTo)},t}(IL);RP(TK,{duration:200,easing:"linear"}),SL.current.register(OB,TK);var PK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){this.element.transform(OO().scale(LB,LB,this.options.center))},t.prototype.step=function(e){this.element.transform(OO().scale(e,e,this.options.center))},t}(IL);RP(PK,{easing:"easeOutElastic",duration:MB}),SL.current.register(aV,PK);var MK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){e.prototype.render.call(this),this.renderSegments()},t.prototype.createSegment=function(e,t,n){return new(t.style===UB?GH:FH)(e,t,n)},t.prototype.animationPoints=function(){return e.prototype.animationPoints.call(this).concat(this._segments)},t.prototype.createMissingValue=function(e,t){if(t===BB){var n={x:e.x,y:e.y};return kH(n.x)||(n.x=0),kH(n.y)||(n.y=0),n}},t}(Rq);_N(MK.prototype,KH);const OK=MK;const RK=function(e,t,n){var o=[],i=t.xMin,r=t.xMax,a=(n||{}).forecast;a&&(a.before>0&&(i-=a.before),a.after>0&&(r+=a.after));var s=(n||{}).samplingInterval,l=PP(s,cO(i,r)/10);s<=0&&(l=r-i);for(var c=i;c<=r;c+=l)o.push([c,e(c)]);return o};var LK=function(e){return function(t){var n=t.valueFields;return{xValue:n.x,yValue:Math.log(n[e])}}};const FK=function(e){var t=e.options,n=function(e){var t=e.seriesValues,n=e.options,o=t();if(!GU(o,n.field))return null;var i=UU(o,LK(n.field)),r=i.slope,a=i.intercept,s=i.count,l=i.xMin,c=i.xMax,d={xMin:l,xMax:c};if(s>0){var u=Math.exp(a),p=r;return RK(function(e){return u*Math.exp(p*e)},d,n.trendline)}return null}({seriesValues:e.seriesValues,options:t});return n?Object.assign({},t,{type:"scatterLine",data:n}):null};const zK=function(e){return function(t){var n=t.valueFields;return{xValue:n.x,yValue:n[e]}}};const BK=function(e){var t=e.options,n=function(e){var t=e.seriesValues,n=e.options,o=UU(t(),zK(n.field)),i=o.slope,r=o.intercept,a=o.count,s=o.xMin,l=o.xMax,c={xMin:s,xMax:l};if(a>0)return RK(function(e){return i*e+r},c,n.trendline);return null}({seriesValues:e.seriesValues,options:t});return n?Object.assign({},t,{type:"scatterLine",data:n}):null};const VK=function(e,t){for(var n=Number.MAX_VALUE,o=Number.MIN_VALUE,i=0;i<e.length;i++){var r=t(e[i]),a=r.xValue,s=r.yValue;isFinite(a)&&null!==a&&isFinite(s)&&null!==s&&(n=Math.min(a,n),o=Math.max(a,o))}return{xMin:n,xMax:o}};var HK=function(e){return function(t){var n=t.valueFields;return{xValue:n.x,yValue:n[e]}}},qK=function(e){return function(t){var n=t.valueFields;return{xValue:Math.log(n.x),yValue:n[e]}}};const UK=function(e){var t=e.options,n=function(e){var t=e.seriesValues,n=e.options,o=t();if(!GU(o,"x"))return null;var i=UU(o,qK(n.field)),r=i.slope,a=i.intercept,s=i.count,l=VK(o,HK(n.field));if(s>0){var c=r,d=a;return RK(function(e){return c*Math.log(e)+d},l,n.trendline)}return null}({seriesValues:e.seriesValues,options:t});return n?Object.assign({},t,{type:"scatterLine",data:n}):null};const GK=function(e){var t=e.options,n=function(e){var t=e.options,n=e.seriesValues,o=(t.trendline||{}).period||2,i=$U(n({before:o,after:o}),zK(t.field),o);if(i.length>0)return i;return null}(e);return n?Object.assign({},t,{type:"scatterLine",data:n}):null};const WK=function(e){var t=e.options,n=function(e){var t=e.seriesValues,n=e.options,o=(n.trendline||{}).order,i=zK(n.field),r=nG(t(),i,o),a=r.count,s=r.valueMapper,l=r.xMin,c=r.xMax,d={xMin:l,xMax:c};if(a>0)return RK(s,d,n.trendline);return null}({seriesValues:e.seriesValues,options:t});return n?Object.assign({},t,{type:"scatterLine",data:n}):null};var KK=function(e){return function(t){var n=t.valueFields;return{xValue:Math.log(n.x),yValue:Math.log(n[e])}}};const YK=function(e){var t=e.options,n=function(e){var t=e.seriesValues,n=e.options,o=t();if(!GU(o,"x"))return null;var i=UU(o,KK(n.field)),r=i.slope,a=i.intercept,s=i.count,l=VK(o,zK(n.field));if(s>0){var c=Math.exp(a),d=r;return RK(function(e){return c*Math.pow(e,d)},l,n.trendline)}return null}({seriesValues:e.seriesValues,options:t});return n?Object.assign({},t,{type:"scatterLine",data:n}):null};var XK={};XK[IV]=FK,XK[EV]=BK,XK[jV]=UK,XK[AV]=GK,XK[_V]=WK,XK[DV]=YK;const JK=XK;var QK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new cq,this.yAxisRangeTracker=new cq},t.prototype.render=function(e){var t=this;void 0===e&&(e=this.panes),this.series=[].concat(this.originalSeries),this.createTrendlineSeries();for(var n=this.groupSeriesByPane(),o=0;o<e.length;o++){var i=e[o],r=n[i.options.name||"default"]||[];t.addToLegend(r);var a=t.filterVisibleSeries(r);a&&(t.createScatterChart(yH(a,gV),i),t.createScatterLineChart(yH(a,vV),i),t.createBubbleChart(yH(a,XB),i))}this.createAxes(e)},t.prototype.appendChart=function(t,n){this.xAxisRangeTracker.update(t.xAxisRanges),this.yAxisRangeTracker.update(t.yAxisRanges),e.prototype.appendChart.call(this,t,n)},t.prototype.removeAxis=function(t){var n=t.options.name;e.prototype.removeAxis.call(this,t),t.options.vertical?(this.yAxisRangeTracker.reset(n),delete this.namedYAxes[n]):(this.xAxisRangeTracker.reset(n),delete this.namedXAxes[n]),t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY},t.prototype.seriesPaneName=function(e){var t=this.options,n=e.xAxis,o=UN([].concat(t.xAxis),function(e){return e.name===n})[0],i=e.yAxis,r=UN([].concat(t.yAxis),function(e){return e.name===i})[0],a=(t.panes||[{}])[0].name||"default";return(o||{}).pane||(r||{}).pane||a},t.prototype.createScatterChart=function(e,t){e.length>0&&this.appendChart(new Rq(this,{series:e,clip:t.options.clip}),t)},t.prototype.createScatterLineChart=function(e,t){e.length>0&&this.appendChart(new OK(this,{series:e,clip:t.options.clip}),t)},t.prototype.createBubbleChart=function(e,t){e.length>0&&this.appendChart(new Bq(this,{series:e,clip:t.options.clip}),t)},t.prototype.createXYAxis=function(e,t,n){for(var o,i=e.name,r=t?this.namedYAxes:this.namedXAxes,a=t?this.yAxisRangeTracker:this.xAxisRangeTracker,s=_N({reverse:!t&&this.chartService.rtl},e,{vertical:t}),l=gH(s.type,$V),c=a.query(),d=l?{min:.1,max:1}:{min:0,max:1},u=a.query(i)||c||d,p=[s.min,s.max],h=this.series,m=0;m<h.length;m++){var f=h[m],g=f[t?"yAxis":"xAxis"];if(g===s.name||0===n&&!g){var v=AB.current.bindPoint(f,0).valueFields;p.push(v[t?"y":"x"]);break}}0===n&&c&&(u.min=Math.min(u.min,c.min),u.max=Math.max(u.max,c.max));for(var y=0;y<p.length;y++)if(p[y]instanceof Date){o=!0;break}var x=new(gH(s.type,BD)||!s.type&&o?Yz:l?$z:Wz)(u.min,u.max,s,this.chartService);if(x.axisIndex=n,i){if(r[i])throw new Error((t?"Y":"X")+" axis with name "+i+" is already defined");r[i]=x}return this.appendAxis(x),x},t.prototype.createAxes=function(e){for(var t=this,n=this.options,o=[].concat(n.xAxis),i=[],r=[].concat(n.yAxis),a=[],s=0;s<o.length;s++){YN(t.findPane(o[s].pane),e)&&i.push(t.createXYAxis(o[s],!1,s))}for(var l=0;l<r.length;l++){YN(t.findPane(r[l].pane),e)&&a.push(t.createXYAxis(r[l],!0,l))}this.axisX=this.axisX||i[0],this.axisY=this.axisY||a[0]},t.prototype._dispatchEvent=function(e,t,n){for(var o=e._eventCoordinates(t),i=new uO(o.x,o.y),r=this.axes,a=r.length,s=[],l=[],c=0;c<a;c++){var d=r[c],u=d.options.vertical?l:s,p=d.getValue(i);null!==p&&u.push(p)}s.length>0&&l.length>0&&e.trigger(n,{element:IP(t),originalEvent:t,x:SH(s),y:SH(l)})},t.prototype.updateAxisOptions=function(e,t){var n=e.options.vertical,o=this.groupAxes(this.panes),i=(n?o.y:o.x).indexOf(e);ZK(this.options,i,n,t),ZK(this.originalOptions,i,n,t)},t.prototype.trendlineFactory=function(e,t){var n=this.seriesValues.bind(this,t.index),o=qU(JK,e.type,{options:e,seriesValues:n});return o&&(o.xAxis=t.xAxis,o.yAxis=t.yAxis),o},t.prototype.seriesValues=function(e){for(var t=[],n=this.series[e],o=0;o<n.data.length;o++){var i=this.bindPoint(n,o);t.push({pointIx:o,valueFields:i.valueFields})}return t},t}(dU);function ZK(e,t,n,o){_N([].concat(n?e.yAxis:e.xAxis)[t],o)}RP(QK,{xAxis:{},yAxis:{}}),_N(QK.prototype,pU);const $K=QK;var eY=function(e){function t(t,n,o){e.call(this,o),this.value=t,this.sector=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this._rendered||!1===this.visible||(this._rendered=!0,this.createLabel())},t.prototype.createLabel=function(){var e=this.options.labels,t=this.owner.chartService,n=this.getLabelText(e);if(e.visible&&(n||0===n)){if(e.position===LD||e.position===tH)e.color||(e.color=cM(this.options.color)),e.background||(e.background=this.options.color);else{var o=t.theme.seriesDefaults.labels;e.color=e.color||o.color,e.background=e.background||o.background}this.label=new wF(n,_N({},e,{align:LD,vAlign:"",animation:{type:OB,delay:this.animationDelay}}),this.pointData()),this.append(this.label)}},t.prototype.getLabelText=function(e){var t=zN(e);return t?t(this.pointData()):this.owner.chartService.format.auto(e.format,this.value)},t.prototype.reflow=function(e){this.render(),this.box=e,this.reflowLabel()},t.prototype.reflowLabel=function(){var e=this.options.labels,t=this.label,n=this.sector.clone(),o=e.distance,i=n.middle();if(t){var r,a=t.box.height(),s=t.box.width();if(e.position===LD)n.radius=Math.abs((n.radius-a)/2)+a,r=n.point(i),t.reflow(new IO(r.x,r.y-a/2,r.x,r.y));else if(e.position===tH)n.radius=n.radius-a/2,r=n.point(i),t.reflow(new IO(r.x,r.y-a/2,r.x,r.y));else{var l;(r=n.clone().expand(o).point(i)).x>=n.center.x?(l=r.x+s,t.orientation=eN):(l=r.x-s,t.orientation=YD),t.reflow(new IO(l,r.y-a,r.x,r.y))}}},t.prototype.createVisual=function(){var t=this,n=this.sector,o=this.options;if(e.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual(),this.value)if(o.visual){var i=(n.startAngle+180)%360,r=o.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new yO(n.center.x,n.center.y),radius:n.radius,innerRadius:n.innerRadius,startAngle:i,endAngle:i+n.angle,options:o,sender:this.getSender(),createVisual:function(){var e=new iL;return t.createSegmentVisual(e),e}});r&&this.visual.append(r)}else this.createSegmentVisual(this.visual)},t.prototype.createSegmentVisual=function(e){var t=this.sector,n=this.options,o=n.border||{},i=o.width>0?{stroke:{color:o.color,width:o.width,opacity:o.opacity,dashType:o.dashType}}:{},r=n.color,a=HL(n.pattern,{color:r,opacity:n.opacity}),s=this.createSegment(t,_N({fill:a,stroke:{opacity:n.opacity},zIndex:n.zIndex},i));e.append(s),wH(n)&&e.append(this.createGradientOverlay(s,{baseColor:r,fallbackFill:a},_N({center:[t.center.x,t.center.y],innerRadius:t.innerRadius,radius:t.radius,userSpace:!0},n.overlay)))},t.prototype.createSegment=function(e,t){return t.singleSegment?new tL(new QR(new yO(e.center.x,e.center.y),e.radius),t):YR.current.createRing(e,t)},t.prototype.createAnimation=function(){var t=this.options,n=this.sector.center;_N(t,{animation:{center:[n.x,n.y],delay:this.animationDelay}}),e.prototype.createAnimation.call(this)},t.prototype.createHighlight=function(e){var t=this.options.highlight||{},n=t.border||{};return this.createSegment(this.sector,_N({},e,{fill:{color:t.color,opacity:t.opacity},stroke:{opacity:n.opacity,width:n.width,color:n.color}}))},t.prototype.highlightVisual=function(){return this.visual.children[0]},t.prototype.highlightVisualArgs=function(){var e=this.sector;return{options:this.options,radius:e.radius,innerRadius:e.innerRadius,center:new yO(e.center.x,e.center.y),startAngle:e.startAngle,endAngle:e.angle+e.startAngle,visual:this.visual}},t.prototype.createFocusHighlight=function(e){var t=this.options.focusHighlight.border.width,n=this.createSegment(this.sector,_N({},e,{stroke:{width:2*t}})),o=new WR;return o.paths.push(GR.fromRect(n.bbox())),o.paths.push(this.createSegment(this.sector,{})),n.clip(o),n},t.prototype.tooltipAnchor=function(){var e=this.sector.clone().expand(5),t=e.middle();return{point:e.point(t),align:oY(t+180)}},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}},t.prototype.getIndex=function(){return this.index},t}(jL),tY=NP(DP(30),HD),nY=NP(DP(60),HD);function oY(e){var t=DP(e),n=NP(Math.sin(t),HD),o=NP(Math.cos(t),HD);return{horizontal:Math.abs(n)>nY?LD:o<0?eN:YD,vertical:Math.abs(n)<tY?LD:n<0?RD:iN}}RP(eY,{color:aN,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:VD,margin:ON(.5),align:FD,zIndex:1,position:nH},animation:{type:aV},highlight:{visible:!0,border:{width:1}},visible:!0,accessibility:{role:JV,className:QV,ariaRoleDescription:ZV}}),_N(eY.prototype,TH),_N(eY.prototype,pq);const iY=eY;var rY={createLegendItem:function(e,t,n){var o=this.options.legend||{},i=o.labels||{},r=o.inactiveItems||{},a=r.labels||{};if(n&&!1!==n.visibleInLegend){var s,l,c=!1!==n.visible,d=c?zN(i):zN(a)||zN(i),u=n.category;d&&(u=d({text:u,series:n.series,dataItem:n.dataItem,percentage:n.percentage,value:e})),c?(s={},l=t.color):(s={color:a.color,font:a.font},l=(r.markers||{}).color),kH(u)&&""!==u&&this.legendItems.push({active:c,pointIndex:n.index,text:u,series:n.series,markerColor:l,pattern:t.pattern,labels:s})}}};const aY=rY;var sY=function(e){function t(t,n){e.call(this,n),this.plotArea=t,this.chartService=t.chartService,this.points=[],this.legendItems=[],this.render()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},t.prototype.traverseDataPoints=function(e){var t=this.options,n=this.plotArea.options.seriesColors;void 0===n&&(n=[]);for(var o=n.length,i=t.series,r=i.length,a=0;a<r;a++){var s=i[a],l=s.data,c=mH(s),d=c.total,u=c.points,p=c.count,h=360/d,m=void 0;isFinite(h)||(m=360/p);var f=void 0;f=bP(s.startAngle)?s.startAngle:t.startAngle,a!==r-1&&s.labels.position===nH&&(s.labels.position=LD);for(var g=0;g<u.length;g++){var v=u[g];if(v){var y=v.fields,x=v.value,b=v.visible,w=0!==x?m||x*h:0,k=1!==l.length&&Boolean(y.explode);EN(s.color)||(s.color=y.color||n[g%o]),e(x,new AO(null,0,0,f,w),{owner:this,category:bP(y.category)?y.category:"",pattern:bP(y.pattern)?y.pattern:s.pattern,index:g,series:s,seriesIx:a,dataItem:l[g],percentage:0!==d?x/d:0,explode:k,visibleInLegend:y.visibleInLegend,visible:b,zIndex:r-a,animationDelay:this.animationDelay(g,a,r)}),!1!==b&&(f+=w)}}}},t.prototype.evalSegmentOptions=function(e,t,n){var o=n.series;vH(e,{value:t,series:o,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:o._defaults,excluded:["data","content","template","visual","toggle","ariaTemplate","ariaContent"]})},t.prototype.addValue=function(e,t,n){var o=_N({},n.series,{index:n.index});if(o.pattern=n.pattern||o.pattern,this.evalSegmentOptions(o,e,n),this.createLegendItem(e,o,n),!1!==n.visible){var i=new iY(e,t,o);Object.assign(i,n),this.append(i),this.points.push(i)}},t.prototype.reflow=function(e){var t=this,n=t.options,o=t.points,i=t.seriesConfigs;void 0===i&&(i=[]);var r=o.length,a=e.clone(),s=Math.min(a.width(),a.height()),l=s/2,c=s-.85*s,d=new IO(a.x1,a.y1,a.x1+s,a.y1+s),u=d.center(),p=a.center(),h=n.series.length,m=[],f=[],g=PP(n.padding,c);this.targetBox=e,g=g>l-5?l-5:g,d.translate(p.x-u.x,p.y-u.y);for(var v=l-g,y=new uO(v+d.x1+g,v+d.y1+g),x=0;x<r;x++){var b=o[x],w=b.sector,k=b.seriesIx;if(w.radius=v,w.center=y,i.length){var C=i[k];w.innerRadius=C.innerRadius,w.radius=C.radius}k===h-1&&b.explode&&(w.center=w.clone().setRadius(.15*w.radius).point(w.middle())),b.reflow(d);var S=b.label;S&&S.options.position===nH&&k===h-1&&(S.orientation===eN?f.push(S):m.push(S))}m.length>0&&(m.sort(this.labelComparator(!0)),this.leftLabelsReflow(m)),f.length>0&&(f.sort(this.labelComparator(!1)),this.rightLabelsReflow(f)),this.box=d},t.prototype.leftLabelsReflow=function(e){var t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)},t.prototype.rightLabelsReflow=function(e){var t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)},t.prototype.distanceBetweenLabels=function(e){var t=jP(this.points),n=t.sector,o=e.length-1,i=n.radius+t.options.labels.distance,r=[],a=e[0].box,s=NP(a.y1-(n.center.y-i-a.height()-a.height()/2));r.push(s);for(var l=0;l<o;l++){var c=e[l+1].box;a=e[l].box,s=NP(c.y1-a.y2),r.push(s)}return s=NP(n.center.y+i-e[o].box.y2-e[o].box.height()/2),r.push(s),r},t.prototype.distributeLabels=function(e,t){for(var n,o,i,r=e.length,a=0;a<r;a++)for(i=-e[a],n=o=a;i>0&&(n>=0||o<r);)i=this._takeDistance(e,a,--n,i),i=this._takeDistance(e,a,++o,i);this.reflowLabels(e,t)},t.prototype._takeDistance=function(e,t,n,o){var i=o;if(e[n]>0){var r=Math.min(e[n],i);i-=r,e[n]-=r,e[t]+=r}return i},t.prototype.reflowLabels=function(e,t){var n,o=jP(this.points),i=o.sector,r=o.options.labels,a=t.length,s=r.distance,l=i.center.y-(i.radius+s)-t[0].box.height();e[0]+=2;for(var c=0;c<a;c++){var d=t[c],u=d.box;l+=e[c],n=this.hAlignLabel(u.x2,i.clone().expand(s),l,l+u.height(),d.orientation===eN),d.orientation===eN?(r.align!==FD&&(n=i.radius+i.center.x+s),d.reflow(new IO(n+u.width(),l,n,l))):(r.align!==FD&&(n=i.center.x-i.radius-s),d.reflow(new IO(n-u.width(),l,n,l))),l+=u.height()}},t.prototype.createVisual=function(){var t=this,n=this.options.connectors,o=this.points,i=o.length;e.prototype.createVisual.call(this),this._connectorLines=[];for(var r=0;r<i;r++){var a=o[r],s=a.sector,l=a.label,c=s.middle(),d=(a.options.connectors||{}).color||n.color;if(l){var u=new GR({stroke:{color:d,width:n.width},animation:{type:OB,delay:a.animationDelay}});if(l.options.position===nH){var p=l.box,h=s.center,m=s.point(c),f=new uO(p.x1,p.center().y),g=void 0,v=void 0,y=void 0;m=s.clone().expand(n.padding).point(c),u.moveTo(m.x,m.y),l.orientation===eN?(y=lY(h,m,f,v=new uO(p.x1-n.padding,p.center().y)),f=new uO(v.x-4,v.y),(y=y||f).x=Math.min(y.x,f.x),t.pointInCircle(y,s.center,s.radius+4)||y.x<s.center.x?(g=s.center.x+s.radius+4,a.options.labels.align!==ZB?g<f.x?u.lineTo(g,m.y):u.lineTo(m.x+8,m.y):u.lineTo(g,m.y),u.lineTo(f.x,v.y)):(y.y=v.y,u.lineTo(y.x,y.y))):(y=lY(h,m,f,v=new uO(p.x2+n.padding,p.center().y)),f=new uO(v.x+4,v.y),(y=y||f).x=Math.max(y.x,f.x),t.pointInCircle(y,s.center,s.radius+4)||y.x>s.center.x?(g=s.center.x-s.radius-4,a.options.labels.align!==ZB?g>f.x?u.lineTo(g,m.y):u.lineTo(m.x-8,m.y):u.lineTo(g,m.y),u.lineTo(f.x,v.y)):(y.y=v.y,u.lineTo(y.x,y.y))),u.lineTo(v.x,v.y),t._connectorLines.push(u),t.visual.append(u)}}}},t.prototype.renderVisual=function(){if(e.prototype.renderVisual.call(this),GP(this.options.series,function(e){return e.autoFit})){var t=this.targetBox,n=this.box.center(),o=this.visual.bbox();if(!o)return;var i=o.bottomRight(),r=Math.min((n.y-t.y1)/(n.y-o.origin.y),(t.y2-n.y)/(i.y-n.y),(n.x-t.x1)/(n.x-o.origin.x),(t.x2-n.x)/(i.x-n.x));r<1&&this.visual.transform(OO().scale(r,r,[n.x,n.y]))}},t.prototype.labelComparator=function(e){var t=e?-1:1;return function(e,n){return((e.parent.sector.middle()+270)%360-(n.parent.sector.middle()+270)%360)*t}},t.prototype.hAlignLabel=function(e,t,n,o,i){var r=t.radius,a=t.center,s=a.x,l=a.y,c=Math.min(Math.abs(l-n),Math.abs(l-o));return c>r?e:s+Math.sqrt(r*r-c*c)*(i?1:-1)},t.prototype.pointInCircle=function(e,t,n){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)},t.prototype.formatPointValue=function(e,t){return this.chartService.format.auto(t,e.value)},t.prototype.animationDelay=function(e){return 70*e},t.prototype.stackRoot=function(){return this},t}(jL);function lY(e,t,n,o){var i,r=(o.x-n.x)*(e.y-n.y)-(o.y-n.y)*(e.x-n.x),a=(o.y-n.y)*(t.x-e.x)-(o.x-n.x)*(t.y-e.y);if(0!==a){var s=r/a;i=new uO(e.x+s*(t.x-e.x),e.y+s*(t.y-e.y))}return i}RP(sY,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),_N(sY.prototype,aY),sY.prototype.isStackRoot=!0;const cY=sY;var dY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this.createPieChart(this.series)},t.prototype.createPieChart=function(e){var t=e[0],n=new cY(this,{series:e,padding:t.padding,startAngle:t.startAngle,connectors:t.connectors,legend:this.options.legend});this.appendChart(n)},t.prototype.appendChart=function(t,n){e.prototype.appendChart.call(this,t,n),yP(this.options.legend.data,t.legendItems)},t.prototype.getPointBelow=function(e){return this.getPointToTheRight(e)},t.prototype.getPointAbove=function(e){return this.getPointToTheLeft(e)},t}(dU);const uY=dY;var pY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflowLabel=function(){var t=this.options.labels,n=this.label,o=this.sector.clone(),i=o.middle();if(n){var r=n.box.height();if(t.position===LD){o.radius-=(o.radius-o.innerRadius)/2;var a=o.point(i);n.reflow(new IO(a.x,a.y-r/2,a.x,a.y))}else e.prototype.reflowLabel.call(this)}},t.prototype.createSegment=function(e,t){return YR.current.createRing(e,t)},t}(iY);RP(pY,{overlay:{gradient:"roundedGlass"},labels:{position:LD},animation:{type:aV}}),_N(pY.prototype,TH);const hY=pY;var mY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addValue=function(e,t,n){var o=_N({},n.series,{index:n.index});if(o.pattern=n.pattern||o.pattern,this.evalSegmentOptions(o,e,n),this.createLegendItem(e,o,n),!1!==n.visible){var i=new hY(e,t,o);Object.assign(i,n),this.append(i),this.points.push(i)}},t.prototype.reflow=function(t){for(var n,o=this.options,i=t.clone(),r=Math.min(i.width(),i.height()),a=r/2,s=r-.85*r,l=o.series,c=l.length,d=PP(o.padding,s),u=a-(d=d>a-5?a-5:d),p=0,h=0;h<c;h++){var m=l[h];0===h&&bP(m.holeSize)&&(n=m.holeSize,u-=m.holeSize),bP(m.size)?u-=m.size:p++,bP(m.margin)&&h!==c-1&&(u-=m.margin)}bP(n)||(u-=n=.75*((a-d)/(c+.75)));var f,g=n,v=0;this.seriesConfigs=[];for(var y=0;y<c;y++){var x=l[y];f=(g+=v)+PP(x.size,u/p),this.seriesConfigs.push({innerRadius:g,radius:f}),v=x.margin||0,g=f}e.prototype.reflow.call(this,t)},t.prototype.animationDelay=function(e,t,n){return 50*e+MB*(t+1)/(n+1)},t}(cY);RP(mY,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});const fY=mY;var gY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this.createDonutChart(this.series)},t.prototype.createDonutChart=function(e){var t=e[0],n=new fY(this,{series:e,padding:t.padding,connectors:t.connectors,legend:this.options.legend});this.appendChart(n)},t.prototype.getPointBelow=function(e){return this._getNextPoint(e,this._pointsByVertical,-1)},t.prototype.getPointAbove=function(e){return this._getNextPoint(e,this._pointsByVertical,1)},t}(uY);const vY=gY;var yY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(){this.valueAxisRangeTracker=new cq},t.prototype.render=function(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()},t.prototype.alignAxes=function(){var e=this.valueAxis,t=e.range(),n=e.options.reverse?t.max:t.min,o=e.getSlot(n),i=this.polarAxis.getSlot(0).center,r=e.box.translate(i.x-o.x1,i.y-o.y1);e.reflow(r)},t.prototype.createValueAxis=function(){var e,t,n=this.valueAxisRangeTracker,o=n.query(),i=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});i.type===$V?(e=pB,t={min:.1,max:1}):(e=dB,t={min:0,max:1});var r=n.query(name)||o||t;r&&o&&(r.min=Math.min(r.min,o.min),r.max=Math.max(r.max,o.max));var a=new e(r.min,r.max,i,this.chartService);this.valueAxis=a,this.appendAxis(a)},t.prototype.reflowAxes=function(){var e=this,t=e.options.plotArea,n=e.valueAxis,o=e.polarAxis,i=e.box,r=.15*Math.min(i.width(),i.height()),a=ON(t.padding||{},r),s=i.clone().unpad(a),l=s.clone();l.y2=l.y1+Math.min(l.width(),l.height()),l.align(s,cN,LD);var c=l.clone().shrink(0,l.height()/2);o.reflow(l),n.reflow(c);var d=n.lineBox().height()-n.box.height();n.reflow(n.box.unpad({top:d})),this.axisBox=l,this.alignAxes(l)},t.prototype.backgroundBox=function(){return this.box},t.prototype.detachLabels=function(){},t}(dU);const xY=yY;var bY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointSlot=function(e,t){var n=e.center.y-t.y1,o=uO.onCircle(e.center,e.startAngle,n);return new IO(o.x,o.y,o.x,o.y)},t}(Rq);RP(bY,{clip:!1});const wY=bY;var kY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(OK);kY.prototype.pointSlot=wY.prototype.pointSlot,RP(kY,{clip:!1});const CY=kY;var SY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fillToAxes=function(e){var t=this._polarAxisCenter();e.lineTo(t.x,t.y)},t.prototype._polarAxisCenter=function(){return this.parent.plotArea.polarAxis.box.center()},t.prototype.strokeSegments=function(){var e=this._strokeSegments;if(!e){var t=this._polarAxisCenter(),n=new fB(!1),o=this.points();o.push(t),(e=this._strokeSegments=n.process(o)).pop()}return e},t}(rq);const IY=SY;var EY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fillToAxes=function(e){var t=this.parent.plotArea.polarAxis.box.center(),n=new mR([t.x,t.y]);e.segments.unshift(n),e.segments.push(n)},t}(tq);const jY=EY;var AY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createSegment=function(e,t,n){return(t.line||{}).style===UB?new IY(e,t,n):new jY(e,t,n)},t.prototype.createMissingValue=function(e,t){var n;return kH(e.x)&&t!==VB&&(n={x:e.x,y:e.y},t===BB&&(n.y=0)),n},t.prototype.seriesMissingValues=function(e){return e.missingValues||BB},t.prototype._hasMissingValuesGap=function(){for(var e=this.options.series,t=0;t<e.length;t++)if("gap"===this.seriesMissingValues(e[t]))return!0},t.prototype.sortPoints=function(e){if(e.sort(_Y),this._hasMissingValuesGap())for(var t=0;t<e.length;t++){var n=e[t];if(n)kH(n.value.y)||"gap"!==this.seriesMissingValues(n.series)||delete e[t]}return e},t}(CY);function _Y(e,t){return e.value.x-t.value.x}const DY=AY;var NY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createPolarAxis=function(){var e=new rB(this.options.xAxis,this.chartService);this.polarAxis=e,this.axisX=e,this.appendAxis(e)},t.prototype.render=function(){this.series=[].concat(this.originalSeries),this.createTrendlineSeries(),e.prototype.render.call(this)},t.prototype.valueAxisOptions=function(e){return _N(e,{majorGridLines:{type:_D},minorGridLines:{type:_D}},this.options.yAxis)},t.prototype.createValueAxis=function(){e.prototype.createValueAxis.call(this),this.axisY=this.valueAxis},t.prototype.trendlineFactory=function(e,t){var n=$K.prototype.trendlineFactory.call(this,e,t);return n&&(n.type=lV),n},t.prototype.appendChart=function(e,t){this.valueAxisRangeTracker.update(e.yAxisRanges),dU.prototype.appendChart.call(this,e,t)},t.prototype.createCharts=function(){var e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createLineChart(yH(e,[lV]),t),this.createScatterChart(yH(e,[cV]),t),this.createAreaChart(yH(e,[sV]),t)},t.prototype.createLineChart=function(e,t){if(0!==e.length){var n=new CY(this,{series:e});this.appendChart(n,t)}},t.prototype.createScatterChart=function(e,t){if(0!==e.length){var n=new wY(this,{series:e});this.appendChart(n,t)}},t.prototype.createAreaChart=function(e,t){if(0!==e.length){var n=new DY(this,{series:e});this.appendChart(n,t)}},t.prototype._dispatchEvent=function(e,t,n){var o=e._eventCoordinates(t),i=new uO(o.x,o.y),r=this.axisX.getValue(i),a=this.axisY.getValue(i);null!==r&&null!==a&&e.trigger(n,{element:IP(t),x:r,y:a})},t.prototype.createCrosshairs=function(){},t}(xY);RP(NY,{xAxis:{},yAxis:{}}),_N(NY.prototype,pU,{seriesValues:$K.prototype.seriesValues});const TY=NY;var PY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointSlot=function(e,t){var n=e.center.y-t.y1,o=uO.onCircle(e.center,e.middle(),n);return new IO(o.x,o.y,o.x,o.y)},t.prototype.renderSegments=function(){if(e.prototype.renderSegments.call(this),this._segments&&this._segments.length>1)for(var t=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];t[o.seriesIx]=t[o.seriesIx]||[],t[o.seriesIx].push(o)}return t}(this._segments),n=0;n<t.length;n++){var o=t[n];if(o&&o.length>1){var i=o[0].linePoints[0],r=jP(o),a=jP(r.linePoints),s=0===i.categoryIx,l=a.categoryIx===a.categoriesCount-1;s&&l&&jP(o).linePoints.push(i)}}},t.prototype.createSegment=function(e,t,n){var o=new(t.style===UB?GH:FH)(e,t,n),i=this.seriesMissingValues(t);return e.length!==t.data.length&&i!==VB||(o.options.closed=!0),o},t}($H);RP(PY,{clip:!1,limitPoints:!1});const MY=PY;var OY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fillToAxes=function(){},t}(rq);const RY=OY;var LY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fillToAxes=function(){},t}(tq);const FY=LY;var zY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createSegment=function(e,t,n,o){var i,r,a,s=this.options.isStacked,l=(t.line||{}).style;return s&&n>0&&o&&(r=o.linePoints.slice(0),i=o),l===UB?(a=new RY(e,t,n,i,r)).options.closed=!0:(e.push(e[0]),a=new FY(e,t,n,i,r)),a},t.prototype.seriesMissingValues=function(e){return e.missingValues||BB},t}(MY);const BY=zY;var VY=function(e){function t(t,n){e.call(this,t,null,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getIndex=function(){return this.categoryIx},t}(hY);RP(VY,{overlay:{gradient:"none"},labels:{distance:10}});const HY=VY;var qY=function(e){function t(t){e.call(this,t),this.forEach=t.rtl?gq:fq}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this.options,n=this.children,o=t.gap,i=t.spacing,r=n.length,a=r+o+i*(r-1),s=e.angle/a,l=e.startAngle+s*(o/2);this.forEach(n,function(t){var n=e.clone();n.startAngle=l,n.angle=s,t.sector&&(n.radius=t.sector.radius),t.reflow(n),t.sector=n,l+=s+s*i})},t}(jL);RP(qY,{gap:1,spacing:0});const UY=qY;var GY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this.options.reverse,n=this.children,o=n.length,i=t?o-1:0,r=t?-1:1;this.box=new IO;for(var a=i;a>=0&&a<o;a+=r){var s=n[a].sector;s.startAngle=e.startAngle,s.angle=e.angle}},t}(jL);const WY=GY;var KY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointType=function(){return HY},t.prototype.clusterType=function(){return UY},t.prototype.stackType=function(){return WY},t.prototype.categorySlot=function(e,t){return e.getSlot(t)},t.prototype.pointSlot=function(e,t){var n=e.clone(),o=e.center.y;return n.radius=o-t.y1,n.innerRadius=o-t.y2,n},t.prototype.reflowPoint=function(e,t){e.sector=t,e.reflow()},t.prototype.createAnimation=function(){this.options.animation.center=this.box.toRect().center(),e.prototype.createAnimation.call(this)},t}(kq);KY.prototype.reflow=DH.prototype.reflow,RP(KY,{clip:!1,limitPoints:!1,animation:{type:"pie"}});const YY=KY;var XY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createPolarAxis=function(){var e=new oB(this.options.categoryAxis,this.chartService);this.polarAxis=e,this.categoryAxis=e,this.appendAxis(e),this.aggregateCategories(),this.createTrendlineSeries(),this.createCategoryAxesLabels()},t.prototype.valueAxisOptions=function(e){return this._hasBarCharts&&_N(e,{majorGridLines:{type:_D},minorGridLines:{type:_D}}),this._isStacked100&&_N(e,{roundToMajorUnit:!1,labels:{format:"P0"}}),_N(e,this.options.valueAxis)},t.prototype.aggregateCategories=function(){mG.prototype.aggregateCategories.call(this,this.panes)},t.prototype.createCategoryAxesLabels=function(){mG.prototype.createCategoryAxesLabels.call(this,this.panes)},t.prototype.filterSeries=function(e){return e},t.prototype.trendlineFactory=function(e,t){var n=mG.prototype.trendlineFactory.call(this,e,t);return n&&(n.type=pV),n},t.prototype.createCharts=function(){var e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createAreaChart(yH(e,[dV]),t),this.createLineChart(yH(e,[pV]),t),this.createBarChart(yH(e,[uV]),t)},t.prototype.chartOptions=function(e){var t={series:e},n=e[0];if(n){var o=this.filterVisibleSeries(e),i=n.stack;t.isStacked=i&&o.length>1,t.isStacked100=i&&"100%"===i.type&&o.length>1,t.isStacked100&&(this._isStacked100=!0)}return t},t.prototype.createAreaChart=function(e,t){if(0!==e.length){var n=new BY(this,this.chartOptions(e));this.appendChart(n,t)}},t.prototype.createLineChart=function(e,t){if(0!==e.length){var n=new MY(this,this.chartOptions(e));this.appendChart(n,t)}},t.prototype.createBarChart=function(e,t){if(0!==e.length){var n=e[0],o=this.chartOptions(e),i=this.filterVisibleSeries(e),r=i.some(function(e){return e.stack}),a=i.some(function(e){return e.stack&&"100%"===e.stack.type});o.gap=n.gap,o.spacing=n.spacing,o.defaultStack=n.stack&&i.length>1,o.isStacked=r&&i.length>1,o.isStacked100=a&&i.length>1;var s=new YY(this,o);this.appendChart(s,t),this._hasBarCharts=!0}},t.prototype.seriesCategoryAxis=function(){return this.categoryAxis},t.prototype._dispatchEvent=function(e,t,n){var o=e._eventCoordinates(t),i=new uO(o.x,o.y),r=this.categoryAxis.getCategory(i),a=this.valueAxis.getValue(i);null!==r&&null!==a&&e.trigger(n,{element:IP(t),category:r,value:a})},t.prototype.createCrosshairs=function(){},t.prototype._pointsByVertical=function(t){return e.prototype._pointsByVertical.call(this,t).sort(this._getSeriesCompareFn())},t.prototype._getSeriesCompareFn=function(){return function(e,t){return t.value-e.value}},t}(xY);_N(XY.prototype,pU,{appendChart:mG.prototype.appendChart,aggregateSeries:mG.prototype.aggregateSeries,seriesSourcePoints:mG.prototype.seriesSourcePoints,seriesValues:mG.prototype.seriesValues}),RP(XY,{categoryAxis:{categories:[]},valueAxis:{}});const JY=XY;var QY=function(e){function t(t,n,o){e.call(this,n),this.value=t,this.options.index=o.index}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getLabelText=function(e){var t=zN(e);return t?t(this.pointData()):e.format?this.formatValue(e.format):this.value},t.prototype.reflow=function(e){var t=this.points,n=this.children[0],o=Math.min(t[0].x,t[3].x),i=Math.max(t[1].x,t[2].x);this.box=new IO(o,t[0].y,i,t[2].y),n&&n.reflow(new IO(e.x1,t[0].y,e.x2,t[2].y))},t.prototype.createVisual=function(){var t,n=this,o=this.options;e.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual(),(t=o.visual?o.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:o,sender:this.getSender(),createVisual:function(){return n.createPath()}}):this.createPath())&&this.visual.append(t)},t.prototype.createPath=function(){var e=this.options,t=e.border;return GR.fromPoints(this.points,{fill:HL(e.pattern,{color:e.color,opacity:e.opacity}),stroke:{color:t.color,opacity:t.opacity,width:t.width}}).close()},t.prototype.createHighlight=function(e){return GR.fromPoints(this.points,e)},t.prototype.highlightVisual=function(){return this.visual.children[0]},t.prototype.highlightVisualArgs=function(){var e=GR.fromPoints(this.points).close();return{options:this.options,path:e}},t.prototype.createFocusHighlight=function(e){var t=this.options.focusHighlight.border.width,n=GR.fromPoints(this.points,_N({},e,{stroke:{width:2*t}})).close(),o=new WR;return o.paths.push(GR.fromRect(this.box.clone().pad(t).toRect())),o.paths.push(GR.fromPoints(this.points)),n.clip(o),n},t.prototype.tooltipAnchor=function(){var e=this.box;return{point:new uO(e.center().x,e.y1),align:{horizontal:"center",vertical:"top"}}},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}},t.prototype.getIndex=function(){return this.index},t}(jL);RP(QY,{color:aN,border:{width:1},labels:{format:""},accessibility:{role:JV,className:QV,ariaRoleDescription:ZV}}),_N(QY.prototype,TH),_N(QY.prototype,pq);const ZY=QY;var $Y=function(e){function t(t,n){e.call(this,n),this.plotArea=t,this.chartService=t.chartService,this.points=[],this.labels=[],this.legendItems=[],this.render()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.formatPointValue=function(e,t){return this.plotArea.chartService.format.auto(t,e.value)},t.prototype.render=function(){var e=this,t=this.options,n=this.plotArea.options.seriesColors;void 0===n&&(n=[]);var o=t.series[0],i=o.data;if(i)for(var r=mH(o),a=r.total,s=r.points,l=0;l<s.length;l++){var c=s[l];if(c){var d=c.fields;EN(o.color)||(o.color=d.color||n[l%n.length]),d=_N({index:l,owner:e,series:o,seriesIx:0,dataItem:i[l],percentage:c.value/a},d,{visible:c.visible});var u=c.valueFields.value,p=e.createSegment(u,d),h=e.createLabel(u,d);p&&h&&p.append(h)}}},t.prototype.evalSegmentOptions=function(e,t,n){var o=n.series;vH(e,{value:t,series:o,dataItem:n.dataItem,index:n.index},{defaults:o._defaults,excluded:["data","content","template","toggle","visual","ariaTemplate","ariaContent"]})},t.prototype.createSegment=function(e,t){var n=_N({},t.series);if(n.pattern=t.pattern||n.pattern,this.evalSegmentOptions(n,e,t),this.createLegendItem(e,n,t),!1!==t.visible){var o=new ZY(e,n,t);return Object.assign(o,t),this.append(o),this.points.push(o),o}},t.prototype.createLabel=function(e,t){var n=t.series,o=t.dataItem,i=_N({},this.options.labels,n.labels),r=e;if(i.visible){var a=zN(i),s={dataItem:o,value:e,percentage:t.percentage,category:t.category,series:n};a?r=a(s):i.format&&(r=this.chartService.format.auto(i.format,r)),i.color||(i.color=cM(n.color),i.background||(i.background=n.color)),this.evalSegmentOptions(i,e,t);var l=new wF(r,_N({vAlign:i.position},i),s);return this.labels.push(l),l}},t.prototype.labelPadding=function(){for(var e=this.labels,t={left:0,right:0},n=0;n<e.length;n++){var o=e[n].options.align;if(o!==LD){var i=e[n].box.width();o===YD?t.left=Math.max(t.left,i):t.right=Math.max(t.right,i)}}return t},t.prototype.dynamicSlopeReflow=function(e,t,n){for(var o=this.options,i=this.points,r=i.length,a=i[0],s=a,l=0;l<i.length;l++)i[l].percentage>s.percentage&&(s=i[l]);for(var c=a.percentage/s.percentage*t,d=(t-c)/2,u=0,p=0;p<r;p++){var h=i[p].percentage,m=i[p+1],f=m?m.percentage:h,g=i[p].points=[],v=o.dynamicHeight?n*h:n/r,y=void 0;y=AP(y=h?(t-c*(f/h))/2:f?0:t/2,0,t),g.push(new yO(e.x1+d,e.y1+u)),g.push(new yO(e.x1+t-d,e.y1+u)),g.push(new yO(e.x1+t-y,e.y1+v+u)),g.push(new yO(e.x1+y,e.y1+v+u)),d=y,u+=v+o.segmentSpacing,c=AP(t-2*y,0,t)}},t.prototype.constantSlopeReflow=function(e,t,n){for(var o=this.options,i=this.points,r=i.length,a=o.neckRatio<=1,s=a?o.neckRatio*t:t,l=a?0:(t-t/o.neckRatio)/2,c=((a?t:t-2*l)-s)/2,d=0,u=0;u<r;u++){var p=i[u].points=[],h=i[u].percentage,m=o.dynamicHeight?c*h:c/r,f=o.dynamicHeight?n*h:n/r;p.push(new yO(e.x1+l,e.y1+d)),p.push(new yO(e.x1+t-l,e.y1+d)),p.push(new yO(e.x1+t-l-m,e.y1+f+d)),p.push(new yO(e.x1+l+m,e.y1+f+d)),l+=m,d+=f+o.segmentSpacing}},t.prototype.reflow=function(e){var t=this.points,n=t.length;if(n){var o=this.options,i=e.clone().unpad(this.labelPadding()),r=i.height()-o.segmentSpacing*(n-1),a=i.width();o.dynamicSlope?this.dynamicSlopeReflow(i,a,r):this.constantSlopeReflow(i,a,r);for(var s=0;s<n;s++)t[s].reflow(e)}},t}(jL);RP($Y,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:LD,position:LD,zIndex:1}}),_N($Y.prototype,aY);const eX=$Y;var tX=function(e){function t(t,n){n.dynamicSlope=!1,n.neckRatio=1e6,e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(eX);const nX=tX;var oX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this.createChart(eX,yH(this.series,[eV])),this.createChart(nX,yH(this.series,[tV]))},t.prototype.createChart=function(e,t){var n=t[0];if(n){var o=new e(this,{series:t,legend:this.options.legend,neckRatio:n.neckRatio,dynamicHeight:n.dynamicHeight,dynamicSlope:n.dynamicSlope,segmentSpacing:n.segmentSpacing,highlight:n.highlight});this.appendChart(o)}},t.prototype.appendChart=function(t,n){e.prototype.appendChart.call(this,t,n),yP(this.options.legend.data,t.legendItems)},t.prototype._pointsByVertical=function(e){return this.pointsBySeriesIndex(e.series.index)},t.prototype.getPointToTheRight=function(e){return this.getPointBelow(e)},t.prototype.getPointToTheLeft=function(e){return this.getPointAbove(e)},t}(dU);const iX=oX;const rX=function(e,t){void 0===t&&(t=.05);var n=aM(e),o=1-t;return function(e){var t=n.toHSL(),i=100-t.l,r=o-e;return t.l+=Math.min(r*i,i),t.toCss()}};var aX=function(e){function t(t,n){e.call(this),this.options=n,this.color=n.color||aN,this.value=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())},t.prototype.createLabel=function(){var e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))},t.prototype.createLabelElement=function(e){var t=e.color;return t||(t=cM(this.color)),new wF(this.getLabelText(e),_N({align:LD,vAlign:LD,margin:{left:5,right:5},zIndex:PP(e.zIndex,this.series.zIndex)},e,{color:t}),this.pointData())},t.prototype.getLabelText=function(e){var t=zN(e);return t?t(this.pointData()):this.formatValue(e.format)},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.reflow=function(e){this.render();var t=this.label;this.box=e,t&&t.reflow(this.markerBox()),this.note&&this.note.reflow(e),this.marker.reflow(this.markerBox())},t.prototype.createVisual=function(){e.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual()},t.prototype.markerBox=function(){var e=this.options.markers,t=e.border,n=this.box.toRect(),o=PP(e.type,"rect")===tN,i=PP(t.width,o?1:0),r=Math.round(i/2);if(e.size){var a=n.center();n.size.width=n.size.height=e.size,n.origin.x=Math.round(a.x-n.size.width/2),n.origin.y=Math.round(a.y-n.size.height/2)}return n.size.width-=i,n.size.height-=i,n.origin.y+=r+.5,n.origin.x+=r+.5,yF(n)},t.prototype.markerBorder=function(){var e=this.options,t=e.markers.border,n=PP(t.opacity,e.opacity);return{color:t.color||this.color,width:t.width,opacity:n,dashType:t.dashType}},t.prototype.createMarker=function(){var e=this.options,t=e.markers,n=new KL({type:PP(t.type,"rect"),width:t.size,height:t.size,rotation:t.rotation,background:this.color,border:this.markerBorder(),pattern:e.pattern,borderRadius:t.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:PP(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=n,this.append(n)},t.prototype.createHighlight=function(e){var t=this.options,n=this.options.highlight.markers||this.options.markers,o=new KL({type:PP(n.type,"rect"),width:n.size,height:n.size,rotation:n.rotation,background:n.color||this.color,border:this.markerBorder(),borderRadius:n.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:PP(t.zIndex,this.series.zIndex)});o.reflow(this.markerBox());var i=o.getElement();return i.options.fill=e.fill,i.options.stroke=e.stroke,i},t.prototype.highlightVisual=function(){return this.rectVisual},t.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},t.prototype.createFocusHighlight=function(){var e=this.options.markers,t=this.options.focusHighlight,n=new KL({type:PP(e.type,"rect"),width:e.size,height:e.size,rotation:e.rotation,background:t.color,border:t.border,borderRadius:e.borderRadius,padding:t.border.width/2,zIndex:t.zIndex});return n.reflow(this.markerBox()),n.getElement()},t.prototype.tooltipAnchor=function(){var e=this.box.center().x,t=this.box.y1-5;return{point:new uO(e,t),align:{horizontal:LD,vertical:RD}}},t.prototype.overlapsBox=function(e){return this.box.overlaps(e)},t.prototype.unclipElements=function(){},t.prototype.pointData=function(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}},t}(jL);_N(aX.prototype,TH),_N(aX.prototype,MH),_N(aX.prototype,pq),aX.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}},accessibility:{role:JV,className:QV,ariaRoleDescription:ZV}};const sX=aX;var lX=function(e){function t(t,n){e.call(this,n),this.plotArea=t,this.chartService=t.chartService,this._initFields(),this.render()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initFields=function(){this.points=[],this.seriesOptions=[],this.valueRange={min:XD,max:JD},this._evalSeries=[]},t.prototype.render=function(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))},t.prototype.setRange=function(){for(var e=this,t=this.options.series,n=0;n<t.length;n++)for(var o=t[n],i=0;i<o.data.length;i++){var r=e.plotArea.bindPoint(o,i).valueFields;bP(r.value)&&null!==r.value&&(e.valueRange.min=Math.min(e.valueRange.min,r.value),e.valueRange.max=Math.max(e.valueRange.max,r.value))}},t.prototype.addValue=function(e,t){var n;e&&bP(e.value)&&null!==e.value&&(n=this.createPoint(e,t))&&Object.assign(n,t),this.points.push(n)},t.prototype.evalPointOptions=function(e,t,n){var o=n.series,i=n.seriesIx,r={defaults:o._defaults,excluded:["data","tooltip","content","template","visual","toggle","drilldownSeriesFactory","ariaTemplate","ariaContent"]},a=this._evalSeries[i];bP(a)||(this._evalSeries[i]=a=vH(e,{},r,!0));var s=e;return a&&vH(s=_N({},e),{value:t,series:o,dataItem:n.dataItem,min:this.valueRange.min,max:this.valueRange.max},r),s},t.prototype.pointType=function(){return sX},t.prototype.pointOptions=function(e,t){var n=this.seriesOptions[t];if(!n){var o=this.pointType().prototype.defaults;this.seriesOptions[t]=n=_N({},o,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return Object.assign({},n)},t.prototype.createPoint=function(e,t){var n=t.series,o=this.pointOptions(n,t.seriesIx),i=t.color||n.color;if(o.pattern=t.pattern||o.pattern,o=this.evalPointOptions(o,e,t),EN(n.color))i=o.color;else if(0!==this.valueRange.max){i=rX(i)(e.value/this.valueRange.max)}var r=new sX(e,o);return r.color=i,this.append(r),r},t.prototype.seriesAxes=function(e){var t=e.xAxis,n=e.yAxis,o=this.plotArea,i=t?o.namedXAxes[t]:o.axisX,r=n?o.namedYAxes[n]:o.axisY;if(!i)throw new Error("Unable to locate X axis with name "+t);if(!r)throw new Error("Unable to locate Y axis with name "+n);return{xAxis:i,yAxis:r}},t.prototype.reflow=function(e){var t=this,n=this.points,o=!this.options.clip,i=0;this.traverseDataPoints(function(e,r){var a=n[i++],s=t.seriesAxes(r.series),l=s.xAxis,c=s.yAxis,d=l.categoryIndex(e.x),u=c.categoryIndex(e.y),p=l.getSlot(d,d,o),h=c.getSlot(u,u,o);if(a)if(p&&h){var m=t.pointSlot(p,h);a.reflow(m)}else a.visible=!1}),this.box=e},t.prototype.pointSlot=function(e,t){return new IO(e.x1,t.y1,e.x2,t.y2)},t.prototype.traverseDataPoints=function(e){for(var t=this,n=this.options.series,o=0;o<n.length;o++)for(var i=n[o],r=t.seriesAxes(i),a=r.xAxis,s=r.yAxis,l=a.currentRangeIndices(),c=s.currentRangeIndices(),d=0;d<i.data.length;d++){var u=t.plotArea.bindPoint(i,d),p=u.valueFields,h=u.fields,m=a.totalIndex(p.x),f=s.totalIndex(p.y),g=l.min<=m&&m<=l.max,v=c.min<=f&&f<=c.max;g&&v&&e(p,_N({pointIx:d,series:i,seriesIx:o,dataItem:i.data[d],owner:t},h))}},t.prototype.formatPointValue=function(e,t){var n=e.value;return this.chartService.format.auto(t,n.x,n.y,n.value)},t.prototype.animationPoints=function(){for(var e=this.points,t=[],n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t},t}(jL);RP(lX,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0});const cX=lX;var dX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={}},t.prototype.render=function(e){void 0===e&&(e=this.panes),this.bindCategories(),this.createAxes(e),this.createCharts(e),this.createAxisLabels()},t.prototype.bindCategories=function(){for(var e=this.srcSeries||this.series,t=0;t<e.length;t++){for(var n=e[t],o=n.data||[],i=this.seriesAxes(n),r=i.xAxis,a=i.yAxis,s=fM(r.categories||[]),l=fM(a.categories||[]),c=0;c<o.length;c++){var d=AB.current.bindPoint(n,c).valueFields,u=d.x,p=d.y;s.has(u)||s.add(u),l.has(p)||l.add(p)}r.categories=s.values(),a.categories=l.values()}},t.prototype.createCharts=function(e){for(var t=this,n=this.groupSeriesByPane(),o=0;o<e.length;o++){var i=e[o],r=n[i.options.name||"default"]||[];t.addToLegend(r);var a=t.filterVisibleSeries(r);a&&t.createHeatmapChart(yH(a,[nV]),i)}},t.prototype.createHeatmapChart=function(e,t){var n=new cX(this,{series:e});this.appendChart(n,t)},t.prototype.seriesPaneName=function(e){var t=this.options,n=e.xAxis,o=UN([].concat(t.xAxis),function(e){return e.name===n})[0],i=e.yAxis,r=UN([].concat(t.yAxis),function(e){return e.name===i})[0],a=(t.panes||[{}])[0].name||"default";return(o||{}).pane||(r||{}).pane||a},t.prototype.seriesAxes=function(e){var t,n,o=this.options,i=[].concat(o.xAxis),r=e.xAxis;t=r?i.find(function(e){return e.name===r}):i[0];var a=[].concat(o.yAxis),s=e.yAxis;if(n=s?a.find(function(e){return e.name===s}):a[0],!t)throw new Error("Unable to locate X axis with name "+r);if(!n)throw new Error("Unable to locate Y axis with name "+s);return{xAxis:t,yAxis:n}},t.prototype.createAxisLabels=function(){for(var e=this.axes,t=0;t<e.length;t++)e[t].createLabels()},t.prototype.createXYAxis=function(e,t,n){for(var o,i=e.name,r=t?this.namedYAxes:this.namedXAxes,a=Object.assign({axisCrossingValue:0},e,{vertical:t,reverse:t||this.chartService.rtl?!e.reverse:e.reverse,justified:!1}),s=a.categories?a.categories[0]:null,l=[a.min,a.max,s],c=this.series,d=0;d<c.length;d++){var u=c[d],p=u[t?"yAxis":"xAxis"];if(p===a.name||0===n&&!p){var h=AB.current.bindPoint(u,0).valueFields;l.push(h[t?"y":"x"]);break}}for(var m=0;m<l.length;m++)if(l[m]instanceof Date){o=!0;break}var f=new(gH(a.type,BD)||!a.type&&o?zz:Az)(a,this.chartService);if(f.axisIndex=n,i){if(r[i])throw new Error((t?"Y":"X")+" axis with name "+i+" is already defined");r[i]=f}return this.appendAxis(f),f.indexCategories(),f},t.prototype.createAxes=function(e){for(var t=this,n=this.options,o=[].concat(n.xAxis),i=[],r=[].concat(n.yAxis),a=[],s=0;s<o.length;s++){YN(t.findPane(o[s].pane),e)&&i.push(t.createXYAxis(o[s],!1,s))}for(var l=0;l<r.length;l++){YN(t.findPane(r[l].pane),e)&&a.push(t.createXYAxis(r[l],!0,l))}this.axisX=this.axisX||i[0],this.axisY=this.axisY||a[0]},t.prototype.removeAxis=function(t){var n=t.options.name;e.prototype.removeAxis.call(this,t),t.options.vertical?delete this.namedYAxes[n]:delete this.namedXAxes[n],t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY},t.prototype._dispatchEvent=function(e,t,n){for(var o=e._eventCoordinates(t),i=new uO(o.x,o.y),r=this.axes,a=r.length,s=[],l=[],c=0;c<a;c++){var d=r[c];uH(d.options.vertical?l:s,d.getCategory(i))}s.length>0&&l.length>0&&e.trigger(n,{element:IP(t),originalEvent:t,x:SH(s),y:SH(l)})},t.prototype.updateAxisOptions=function(e,t){var n=e.options.vertical,o=this.groupAxes(this.panes),i=(n?o.y:o.x).indexOf(e);pX(this.options,i,n,t),pX(this.originalOptions,i,n,t)},t.prototype.crosshairOptions=function(e){return Object.assign({},e.options.crosshair,{zIndex:0})},t.prototype._pointsByVertical=function(e,t){var n=this;void 0===t&&(t=0);var o=this.axisX.options.reverse?-1*t:t,i=this.axisX.children,r=this._getPointAxisXIndex(e)+o,a=i[r=IN(r,i.length)].value,s=this.filterPoints(function(e){return uX(e.pointData().x,a)}).sort(function(e,t){return n._getPointAxisYIndex(e)-n._getPointAxisYIndex(t)});return this.axisY.options.reverse?s.reverse():s},t.prototype._pointsByHorizontal=function(e,t){var n=this;void 0===t&&(t=0);var o=this.axisY.options.reverse?-1*t:t,i=this.axisY.children,r=this._getPointAxisYIndex(e)+o,a=i[r=IN(r,i.length)].value,s=this.filterPoints(function(e){return uX(e.pointData().y,a)}).sort(function(e,t){return n._getPointAxisXIndex(e)-n._getPointAxisXIndex(t)});return this.axisX.options.reverse?s.reverse():s},t.prototype._getPointAxisXIndex=function(e){return this._getPointAxisIndex(this.axisX,e.pointData().x)},t.prototype._getPointAxisYIndex=function(e){return this._getPointAxisIndex(this.axisY,e.pointData().y)},t.prototype._getPointAxisIndex=function(e,t){return e.children.findIndex(function(e){return uX(t,e.value)})},t}(dU);function uX(e,t){return e instanceof Date&&t instanceof Date?bz(e,t):e===t}function pX(e,t,n,o){_N([].concat(n?e.yAxis:e.xAxis)[t],o)}RP(dX,{xAxis:{},yAxis:{}}),_N(dX.prototype,pU);const hX=dX;var mX="color",fX="first",gX="max",vX="min",yX="noteText";wK.current.register(mG,[KB,ZB,iV,wV,WB,yV,QB,rV,JB,bV,YB,xV,fV,mV,CV,oV,hV,kV].concat(NV)),wK.current.register($K,[gV,vV,XB].concat(NV)),wK.current.register(uY,[aV]),wK.current.register(vY,[$B]),wK.current.register(iX,[eV,tV]),wK.current.register(TY,[sV,lV,cV].concat(NV)),wK.current.register(JY,[dV,uV,pV].concat(NV)),wK.current.register(hX,[nV]),AB.current.register([KB,ZB,iV,wV,WB,yV],[rN],[eH,mX,yX,FB,zB,iH,rH]),AB.current.register([fV,mV,hV,kV],["from","to"],[eH,mX,yX,iH,rH]),AB.current.register([CV,oV],[rN],[eH,mX,yX,"summary",iH,rH]),AB.current.register([sV,lV,cV],[lN,cN],[mX,iH,rH]),AB.current.register([dV,uV,pV],[rN],[eH,mX,iH,rH]),AB.current.register([eV,tV],[rN],[eH,mX,"visibleInLegend","visible",iH,rH]),vU.current.register([KB,ZB,iV,wV,WB,yV,CV,oV],{value:gX,color:fX,noteText:fX,errorLow:vX,errorHigh:gX}),vU.current.register([fV,mV,hV,kV],{from:vX,to:gX,color:fX,noteText:fX}),vU.current.register([dV,uV,pV],{value:gX,color:fX}),AB.current.register([gV,vV,XB],[lN,cN],[mX,yX,"xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),AB.current.register([XB],[lN,cN,"size"],[mX,eH,yX,rH]),AB.current.register([nV],[lN,cN,rN],[mX,yX,rH]),AB.current.register([QB,rV],["open","high","low","close"],[eH,mX,"downColor",yX,rH]),vU.current.register([QB,rV],{open:gX,high:gX,low:vX,close:gX,color:fX,downColor:fX,noteText:fX}),AB.current.register([YB,xV],["lower","q1","median","q3","upper","mean","outliers"],[eH,mX,yX,iH,rH]),vU.current.register([YB,xV],{lower:gX,q1:gX,median:gX,q3:gX,upper:gX,mean:gX,outliers:fX,color:fX,noteText:fX}),AB.current.register([JB,bV],["current","target"],[eH,mX,"visibleInLegend",yX,iH,rH]),vU.current.register([JB,bV],{current:gX,target:gX,color:fX,noteText:fX}),AB.current.register([aV,$B],[rN],[eH,mX,"explode","visibleInLegend","visible",iH,rH]);var xX=[eH,rN,lN,cN],bX="mousemove",wX="contextmenu",kX="mouseleave",CX="keydown",SX="focus",IX="blur",EX="k-chart-overlay-top",jX=function(e){function t(t,n,o,i){var r=this;void 0===i&&(i={}),e.call(this),this.observers=[],this.addObserver(i.observer),this.chartService=new BF(this,i),this.chartService.theme=o,this._initElement(t);var a=_N({},this.options,n);this._originalOptions=_N({},a),this._theme=o,this._initTheme(a,o),this._focusState={},this._initHandlers(),this._initSurface(),this.bindCategories(),OP.preloadFonts(n,function(){r.fontLoaded=!0,r._destroyed||(r.trigger("init"),r._redraw(),r._attachEvents(),r._restoreOverlayElement())})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initElement=function(e){this._setElementClass(e),e.style.position="relative",e.tabIndex=e.getAttribute("tabindex")?e.getAttribute("tabindex"):0,e.setAttribute("role","graphics-document document");for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];GN(n,"k-chart-overlay")?this.overlayElement=n:e.removeChild(n)}this.element=e},t.prototype._setElementClass=function(e){hN(e,"k-chart")},t.prototype._restoreOverlayElement=function(){this.overlayElement&&(this._hasSeriesData()?this.overlayElement.style.display="none":(!this.options.title||this.options.title&&this.options.title.position!==RD?hN(this.overlayElement,EX):fN(this.overlayElement,EX),this.overlayElement.style.display=""),this.overlayElement.parentElement!==this.element&&this.element.appendChild(this.overlayElement))},t.prototype._hasSeriesData=function(){var e=this.options.series||[],t=e.length>0&&e.some(function(e){return e.data&&e.data.length>0});return t},t.prototype._initTheme=function(e,t){for(var n=[],o=e.series||[],i=0;i<o.length;i++)n.push(Object.assign({},o[i]));e.series=n,function(e){for(var t=xX,n=0;n<t.length;n++){var o=t[n]+"Axes";e[o]&&(e[t[n]+"Axis"]=e[o],delete e[o])}}(e),this.applyDefaults(e,t),null===e.seriesColors&&delete e.seriesColors,wN(e.title)&&(e.title={text:e.title}),this.options=_N({},t,e),this.applySeriesColors()},t.prototype.getSize=function(){var e=this.options.chartArea||{};return{width:e.width?parseInt(e.width,10):Math.floor(this.element.offsetWidth),height:e.height?parseInt(e.height,10):Math.floor(this.element.offsetHeight)}},t.prototype.resize=function(e){var t=this.getSize(),n=this._size,o=t.width>0||t.height>0;e||o&&(!n||t.width!==n.width||t.height!==n.height)?(this._size=t,this._resize(t,e),this.trigger("resize",t)):o&&this._selections&&GP(this._selections,function(e){return!e.visible})&&(this._destroySelections(),this._setupSelection())},t.prototype._resize=function(){this._noTransitionsRedraw()},t.prototype.redraw=function(e){if(this.applyDefaults(this.options),this.applySeriesColors(),e){var t=this._model._plotArea,n=t.findPane(e);t.redraw(n)}else this._redraw()},t.prototype.getAxis=function(e){return yB(e,this._plotArea.axes)},t.prototype.findAxisByName=function(e){return this.getAxis(e)},t.prototype.findPaneByName=function(e){for(var t=this._plotArea.panes,n=0;n<t.length;n++)if(t[n].options.name===e)return new bB(t[n])},t.prototype.findPaneByIndex=function(e){var t=this._plotArea.panes;if(t[e])return new bB(t[e])},t.prototype.plotArea=function(){return new kB(this._plotArea)},t.prototype.toggleHighlight=function(e,t){var n,o,i,r=this._plotArea,a=(r.srcSeries||r.series||[])[0];EN(t)?n=r.filterPoints(t):(DN(t)?(o=t.series,i=t.category):o=i=t,n=a.type===$B?AX(r.pointsBySeriesName(o),i):YN(a.type,[aV,eV,tV])?AX((r.charts[0]||{}).points,i):r.pointsBySeriesName(o));n&&this.togglePointsHighlight(e,n)},t.prototype.togglePointsHighlight=function(e,t){for(var n=this._highlight,o=0;o<t.length;o++)n.togglePointHighlight(t[o],e)},t.prototype.showTooltip=function(e){var t,n,o=this._sharedTooltip(),i=this._tooltip,r=this._plotArea;if(EN(e)?(t=r.findPoint(e))&&o&&(n=t.categoryIx):o&&bP(e)&&(n=r.categoryAxis.categoryIndex(e)),o){if(n>=0){var a=this._plotArea.pointsByCategoryIndex(n);i.showAt(a)}}else t&&i.show(t)},t.prototype.hideTooltip=function(){this._tooltip.hide()},t.prototype._initSurface=function(){var e=this.surface,t=this._surfaceWrap(),n=this.options.chartArea||{};n.width&&CP(t,{width:n.width}),n.height&&CP(t,{height:n.height}),e&&e.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=BW.create(t,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler)),this.element._kendoExportVisual=this._kendoExportVisual.bind(this)},t.prototype._surfaceWrap=function(){return this.element},t.prototype._redraw=function(){var e=this._getModel();this._size={width:e.options.width,height:e.options.height},this._destroyView(),this._setElementAccessibilityAttributes(),this._model=e,this._plotArea=e._plotArea,this._legend=e._legend,e.renderVisual(),!1!==this.options.transitions&&e.traverse(function(e){e.animation&&e.animation.setup()}),this._initSurface(),this.surface.draw(e.visual),!1!==this.options.transitions&&e.traverse(function(e){e.animation&&e.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new qW,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this._setComputedStyles(),this.trigger("render"),PX(this._plotArea.panes),this._navState||this._cancelDomEvents(),this._redrawFocusHighlight()},t.prototype._setComputedStyles=function(){var e=this.titleHeight();this.element.style.setProperty("--kendo-chart-computed-title-height",e+"px")},t.prototype._redrawFocusHighlight=function(){if(!this._destroyed){var e=this._focusState,t=e.legendInFocus,n=e.preserveHighlight;t&&n&&(this._focusElement(this._getFocusedLegendItem(),!1),this._focusState.preserveHighlight=!1)}},t.prototype._setElementAccessibilityAttributes=function(){var e=this.options.title,t=wN(e)?e:e.description||e.text;t&&this.element.setAttribute("aria-roledescription",t)},t.prototype._kendoExportVisual=function(e){if(e&&e.width&&e.height){var t=this._originalOptions.chartArea||{},n={width:t.width||e.width,height:t.height||e.height};return this.exportVisual(n)}return this.exportVisual()},t.prototype.exportVisual=function(e){var t;if(e&&(e.width||e.height||e.options)){var n=this.options,o=_N({},e.options,{chartArea:{width:e.width,height:e.height}});TX(this._originalOptions,o),this.options=_N({},this._originalOptions,o),this._initTheme(this.options,this._theme),this.bindCategories();var i=this._getModel();i.renderVisual(),PX(i._plotArea.panes),t=i.visual,this.options=n}else t=this.surface.exportVisual();return t},t.prototype._sharedTooltip=function(){return this._plotArea instanceof mG&&this.options.tooltip&&this.options.tooltip.shared},t.prototype._createPannable=function(){var e=this.options;!1!==e.pannable&&(this._pannable=new KW(this._plotArea,e.pannable))},t.prototype._createZoomSelection=function(){var e=this.options.zoomable,t=(e||{}).selection;!1!==e&&!1!==t&&(this._zoomSelection=new XW(this,t))},t.prototype._createMousewheelZoom=function(){var e=this.options.zoomable,t=(e||{}).mousewheel;!1!==e&&!1!==t&&(this._mousewheelZoom=new QW(this,t))},t.prototype._toggleDragZoomEvents=function(){var e=this.options.pannable,t=this.options.zoomable,n=(t||{}).selection,o=(t||{}).mousewheel,i=!e&&(!1===t||!1===n)&&!this.requiresHandlers([VV,zV,BV]),r=(!1===t||!1===o)&&!this.requiresHandlers([HV,qV,UV]),a=this.element;this._dragZoomEnabled&&i&&r?(a.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):this._dragZoomEnabled||i&&r||(a.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!i,!r)},t.prototype._toggleDomEvents=function(e,t){var n=this.domEvents;n&&(n.toggleDrag&&n.toggleDrag(e),n.toggleZoom&&n.toggleZoom(t))},t.prototype._createTooltip=function(){var e=this.options.tooltip;return this._sharedTooltip()?this._createSharedTooltip(e):new jK(this.chartService,e)},t.prototype._createSharedTooltip=function(e){return new _K(this._plotArea,e)},t.prototype.applyDefaults=function(e,t){!function(e,t){var n,o,i,r=(t||{}).axisDefaults||{};function a(e){var t=(e||{}).color||o.color,i=_N({},r,r[n],o,o[n],{line:{color:t},labels:{color:t},title:{color:t}},e);return delete i[n],i}for(var s=0;s<xX.length;s++)n=xX[s]+"Axis",o=e.axisDefaults||{},i=(i=[].concat(e[n])).map(a),e[n]=i.length>1?i:i[0]}(e,t),function(e,t){var n=e.series,o=n.length,i=e.seriesDefaults,r=_N({},e.seriesDefaults),a=t?_N({},t.seriesDefaults):{},s=_N({},a);_X(r),_X(s);for(var l=0;l<o;l++){var c=n[l].type||e.seriesDefaults.type,d=_N({data:[]},s,a[c],{tooltip:e.tooltip},r,i[c]);n[l]._defaults=d,n[l]=_N({},d,n[l]),n[l].data=n[l].data||[]}}(e,t)},t.prototype.applySeriesColors=function(){for(var e=this.options,t=e.series,n=e.seriesColors||[],o=0;o<t.length;o++){var i=t[o],r=n[o%n.length],a=i._defaults;i.color=i.color||r,a&&(a.color=a.color||r)}},t.prototype._getModel=function(){var e=this.options,t=this._createPlotArea(),n=new dF(this._modelOptions());n.chart=this,n._plotArea=t;var o=SF.buildTitle(e.title),i=SF.buildTitle(e.subtitle,{align:e.title.align,position:e.title.position});if(n.append.apply(n,SF.orderTitles([o,i])),e.legend&&e.legend.visible){var r=new xK(t.options.legend,this.chartService);n.append(r),n._legend=r}return n.append(t),n.reflow(),this._setTitleBox(o,i),n},t.prototype._setTitleBox=function(e,t){if(e||t){this._titleBox=(e||t).box.clone();var n=e?e.options.position:"",o=t?t.options.position:"",i=o!==RD;n===o&&t?this._titleBox.wrap(t.box):e&&t&&i&&(this._titleBox=t.box.clone())}},t.prototype._modelOptions=function(){var e=this.options,t=this.getSize();return _N({transitions:e.transitions,width:t.width||600,height:t.height||400},e.chartArea)},t.prototype._createPlotArea=function(e){var t=this.options;return wK.current.create(e?[]:t.series,t,this.chartService)},t.prototype._setupSelection=function(){for(var e=this._plotArea.axes,t=this._selections=[],n=0;n<e.length;n++){var o=e[n],i=o.options;if(o instanceof Az&&i.select&&!i.vertical){var r=o.range(),a=new IK(this,o,_N({min:r.min,max:r.max},i.select));t.push(a)}}},t.prototype._selectStart=function(e){return this.trigger(GV,e)},t.prototype._select=function(e){return this.trigger(WV,e)},t.prototype._selectEnd=function(e){return this.trigger(KV,e)},t.prototype._initHandlers=function(){this._clickHandler=this._click.bind(this),this._keydownHandler=this._keydown.bind(this),this._focusHandler=this._focus.bind(this),this._blurHandler=this._blur.bind(this),this._mousedownHandler=this._mousedown.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=hW(this._mousemove.bind(this),20)},t.prototype.addObserver=function(e){e&&this.observers.push(e)},t.prototype.removeObserver=function(e){var t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)},t.prototype.requiresHandlers=function(e){for(var t=this.observers,n=0;n<t.length;n++)if(t[n].requiresHandlers(e))return!0},t.prototype.trigger=function(e,t){void 0===t&&(t={}),t.sender=this,e===YV?t.anchor.point=this._toDocumentCoordinates(t.anchor.point):e===OV?this._updateDrilldownPoint(t.point):e===RV?this._resetDrilldownPoint():e===PV?(this._focusPoint(t.point),this._startDrilldown(t.point)):e===TV&&this._focusLegendItem(t);for(var n=this.observers,o=!1,i=0;i<n.length;i++)n[i].trigger(e,t)&&(o=!0);return o},t.prototype.titleHeight=function(){return this._titleBox?this._titleBox.height():0},t.prototype._attachEvents=function(){var e,t,n=this.element;this._touchAction=n.style.touchAction,xP(n,((e={})[wX]=this._clickHandler,e[oH]=this._mousewheelHandler,e[kX]=this._mouseleaveHandler,e[CX]=this._keydownHandler,e.mousedown=this._mousedownHandler,e[SX]=this._focusHandler,e[IX]=this._blurHandler,e)),this._shouldAttachMouseMove()&&xP(n,((t={})[bX]=this._mousemove,t)),this.domEvents=qF.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()},t.prototype._mouseleave=function(e){this._hoveredPoint&&(this._hoveredPoint.out(this,e),this._hoveredPoint=null),this._plotAreaHovered&&(this._plotAreaHovered=!1,this.trigger(FV)),this._hasInactiveOpacity()&&this._activeChartInstance&&(this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._updateSeriesOpacity(null,!0))},t.prototype._cancelDomEvents=function(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()},t.prototype._gesturestart=function(e){this._mousewheelZoom&&!this._stopChartHandlers(e)&&(this._gestureDistance=e.distance,this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking())},t.prototype._gestureend=function(e){this._zooming&&!this._stopChartHandlers(e)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(UV,{}))},t.prototype._gesturechange=function(e){var t=this._mousewheelZoom;if(t&&!this._stopChartHandlers(e)){e.preventDefault();var n=this._gestureDistance,o=-e.distance/n+1;if(Math.abs(o)>=.1){o=Math.round(10*o),this._gestureDistance=e.distance;var i={delta:o,axisRanges:DX(this._plotArea.axes),originalEvent:e};if(this._zooming||!this.trigger(HV,i)){var r=this._eventCoordinates(e);this._zooming||(this._zooming=!0),(i.axisRanges=t.updateRanges(o,r))&&!this.trigger(qV,i)&&t.zoom()}}}},t.prototype._mouseout=function(e){if(e.element){var t=this._drawingChartElement(e.element,e);t&&t.leave&&t.leave(this,e.originalEvent)}},t.prototype._start=function(e){var t=this._eventCoordinates(e);!this._stopChartHandlers(e)&&this._plotArea.backgroundContainsPoint(t)&&(this.requiresHandlers([VV,zV,BV])&&this._startNavigation(e,t,VV),this._pannable&&this._pannable.start(e)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._clearFocusedElement(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(e)&&this.trigger(HV,{axisRanges:DX(this._plotArea.axes),originalEvent:e}))},t.prototype._move=function(e){var t=this._navState,n=this._pannable;if(!this._stopChartHandlers(e)){if(n){var o=n.move(e);o&&!this.trigger(zV,{axisRanges:o,originalEvent:e})&&n.pan()}else if(t){for(var i={},r=t.axes,a=0;a<r.length;a++){var s=r[a];if(s.options.name){var l=s.options.vertical?e.y:e.x,c=l.startLocation-l.location;0!==c&&(i[s.options.name]=s.translateRange(c))}}t.axisRanges=i,this.trigger(zV,{axisRanges:i,originalEvent:e})}this._zoomSelection&&this._zoomSelection.move(e)}},t.prototype._end=function(e){if(!this._stopChartHandlers(e)){var t=this._pannable;if(t&&t.end(e)?(this.surface.resumeTracking(),this.trigger(BV,{axisRanges:DX(this._plotArea.axes),originalEvent:e}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(e,BV),this._zoomSelection){var n=this._zoomSelection.end(e);n&&!this.trigger(qV,{axisRanges:n,originalEvent:e})&&(this._zoomSelection.zoom(),this.trigger(UV,{axisRanges:n,originalEvent:e}))}}},t.prototype._stopChartHandlers=function(e){var t=this._selections||[];if(!t.length)return!1;var n=this._eventCoordinates(e),o=this._plotArea.paneByPoint(n);if(o)for(var i=0;i<t.length;i++)if(t[i].onPane(o))return!0},t.prototype._mousewheelZoomRate=function(){var e=(this.options.zoomable||{}).mousewheel||{};return PP(e.rate,.3)},t.prototype._mousewheel=function(e){var t=this,n=rT(e),o=this._mousewheelZoom,i=this._eventCoordinates(e);if(!this._stopChartHandlers(e)&&this._plotArea.backgroundContainsPoint(i))if(o){var r={delta:n,axisRanges:DX(this._plotArea.axes),originalEvent:e};!this._zooming&&this.trigger(HV,r)||(e.preventDefault(),this._zooming||(this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),r.axisRanges=o.updateRanges(n,i),r.axisRanges&&!this.trigger(qV,r)&&o.zoom(),this._mwTimeout=setTimeout(function(){t.trigger(UV,r),t._zooming=!1,t.surface&&t.surface.resumeTracking()},150))}else{var a=this._navState;if(!a)this._startNavigation(e,i,HV)||(a=this._navState);if(a){var s=a.totalDelta||n;a.totalDelta=s+n;for(var l=this._navState.axes,c={},d=0;d<l.length;d++){var u=l[d],p=u.options.name;p&&(c[p]=u.scaleRange(-s*t._mousewheelZoomRate(),i))}this.trigger(qV,{delta:n,axisRanges:c,originalEvent:e}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(function(){t._endNavigation(e,UV)},150)}}},t.prototype._startNavigation=function(e,t,n){var o=this._model._plotArea,i=o.findPointPane(t),r=o.axes.slice(0);if(i){var a=DX(r);this.trigger(n,{axisRanges:a,originalEvent:e})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._clearFocusedElement(),this._navState={axisRanges:a,pane:i,axes:r})}},t.prototype._endNavigation=function(e,t){this._navState&&(this.trigger(t,{axisRanges:this._navState.axisRanges,originalEvent:e}),this._suppressHover=!1,this._navState=null)},t.prototype._getChartElement=function(e,t){var n=this.surface.eventTarget(e);if(n)return this._drawingChartElement(n,e,t)},t.prototype._drawingChartElement=function(e,t,n){for(var o,i=e;i&&!o;)o=i.chartElement,i=i.parent;if(o)return o.aliasFor&&(o=o.aliasFor(t,this._eventCoordinates(t))),n&&(o=o.closest(n))&&o.aliasFor&&(o=o.aliasFor()),o},t.prototype._eventCoordinates=function(e){var t=SP(e);return this._toModelCoordinates(t.x,t.y)},t.prototype._elementPadding=function(){if(!this._padding){var e=MN(this.element,["paddingLeft","paddingTop"]),t=e.paddingLeft,n=e.paddingTop;this._padding={top:n,left:t}}return this._padding},t.prototype._toDocumentCoordinates=function(e){var t=this._elementPadding(),n=kP(this.element);return{left:NP(e.x+t.left+n.left),top:NP(e.y+t.top+n.top)}},t.prototype._toModelCoordinates=function(e,t){var n=this.element,o=kP(n),i=this._elementPadding(),r=function(e){if(!e)return WP.unit();for(var t=YP(e),n=e.parentElement;n;){var o=YP(n);t=t.multiplyCopy(o),n=n.parentElement}return t.b=t.c=t.e=t.f=0,t}(n).invert(),a=new yO(e-o.left-i.left,t-o.top-i.top).transform(r);return new uO(a.x,a.y)},t.prototype._tap=function(e){var t=this,n=this.surface.eventTarget(e),o=this._drawingChartElement(n,e),i=this._sharedTooltip();this._startHover(n,e)||i||this._unsetActivePoint(),i&&this._trackSharedTooltip(this._eventCoordinates(e),e,!0),this._propagateClick(o,e),this.handlingTap=!0,setTimeout(function(){t.handlingTap=!1},0)},t.prototype._click=function(e){var t=this._getChartElement(e);this._propagateClick(t,e)},t.prototype._propagateClick=function(e,t){for(var n=e;n;)n.click&&n.click(this,t),n=n.parent},t.prototype._isLegendBeforeChart=function(){var e=this.options.legend.position,t=this._legend;return t&&t.hasItems()&&(e===iN||e===YD)},t.prototype._focus=function(){this._preventInitialPointFocus||(this._isLegendBeforeChart()?this._focusFirstLegendItem():this._focusFirstPoint()),this._preventInitialPointFocus=!1},t.prototype._keydown=function(e){var t=this._focusState,n=t.legendInFocus,o=t.focusedElement,i=this._legend;if("Tab"===e.key){this._clearFocusedElement();var r=this._isLegendBeforeChart();n&&r!==e.shiftKey?this._navigatePoints(e):!n&&r===e.shiftKey&&i.hasItems()&&this._navigateLegend(e)}else"Escape"===e.key?(o&&e.stopPropagation(),this._tooltip&&this._tooltip.visible?this._hideTooltip():this._blur()):"Enter"===e.key?o&&(this._focusState.preserveHighlight=!0,this._propagateClick(o,e),this._focusElement(o)):n?this._navigateLegend(e):this._navigatePoints(e)},t.prototype._navigatePoints=function(e){var t=this,n=this._focusState,o=this._plotArea;if(n.legendInFocus=!1,!n.focusedElement)return this._focusFirstPoint(),void e.preventDefault();var i=function(o){n.focusedPoint=o,t._focusElement(n.focusedPoint),t._displayTooltip(o),e.preventDefault()};switch(e.key){case PD:i(o.getPointToTheRight(n.focusedPoint));break;case TD:i(o.getPointToTheLeft(n.focusedPoint));break;case ND:i(o.getPointBelow(n.focusedPoint));break;case DD:i(o.getPointAbove(n.focusedPoint))}},t.prototype._navigateLegend=function(e){var t=this,n=this,o=n._focusState,i=n._legend,r=n.chartService.rtl;if(o.legendInFocus=!0,!o.focusedElement)return this._focusFirstLegendItem(),void e.preventDefault();var a=i.getItems().length,s=function(n){o.focusedLegendItemIndex=n(o.focusedLegendItemIndex,a),t._focusElement(t._getFocusedLegendItem()),e.preventDefault()};switch(e.key){case DD:case TD:s(r?CN:SN);break;case ND:case PD:s(r?SN:CN)}},t.prototype._focusFirstPoint=function(){var e=this._focusState.focusedPoint=this._plotArea.getFirstPoint();e&&(this._focusElement(e),this._displayTooltip(e))},t.prototype._hasFocus=function(){return this.element.ownerDocument.activeElement===this.element},t.prototype._mousedown=function(){this._hasFocus()||(this._preventInitialPointFocus=!0)},t.prototype._focusChart=function(){this._hasFocus()||(this._preventInitialPointFocus=!0,this.element.focus())},t.prototype._focusPoint=function(e){this._focusState.focusedPoint=e,this._focusChart(),this._focusElement(e,!0)},t.prototype._focusFirstLegendItem=function(){var e=this._focusState;e.focusedLegendItemIndex=0,this._focusElement(this._getFocusedLegendItem()),e.legendInFocus=!0,this._hideTooltip()},t.prototype._focusLegendItem=function(e){var t=this._focusState;t.focusedLegendItemIndex=this._legend.getItems().findIndex(function(t){return t.options.series.index===e.seriesIndex&&t.options.pointIndex===e.pointIndex}),t.legendInFocus=!0,this._focusChart(),this._focusElement(this._getFocusedLegendItem(),!0)},t.prototype._getFocusedLegendItem=function(){var e=this._focusState;return this._legend.getItems()[e.focusedLegendItemIndex]},t.prototype._focusElement=function(e,t){var n=this._focusState;if(this._clearFocusedElement(),e&&(n.focusedElement=e,this._setElementActiveDescendant(e),!t))if(e.focusVisual(),n.legendInFocus){var o=e.options;this._showSeriesInactiveOpacity(o.series.index,o.pointIndex)}else this._showInactiveOpacity(e)},t.prototype._clearFocusedElement=function(){var e=this._focusState;e&&(e.focusedElement&&e.focusedElement.clearFocusFromVisual&&(e.focusedElement.clearFocusFromVisual(),this._clearElementActiveDescendant()),e.focusedElement=null)},t.prototype._setElementActiveDescendant=function(e){"canvas"===this.options.renderAs&&(this._pseudoFocusedElement=this._createPseudoFocusedElement(e),this.element.append(this._pseudoFocusedElement)),this.element.setAttribute(MD,e._id)},t.prototype._clearElementActiveDescendant=function(){this._pseudoFocusedElement&&(this._pseudoFocusedElement.remove(),this._pseudoFocusedElement=null),this.element.removeAttribute(MD)},t.prototype._createPseudoFocusedElement=function(e){var t=document.createElement("div"),n=e.options.accessibility;t.id=e._id,t.setAttribute("aria-label",e.getAriaLabelText()),t.setAttribute("role",n.role),t.setAttribute("aria-roledescription",n.ariaRoleDescription);var o=n.ariaChecked;return bP(o)&&t.setAttribute("aria-checked",o),t},t.prototype._blur=function(){this._focusState.legendInFocus=!1,this._clearFocusedElement(),this._hideInactiveOpacity()},t.prototype._startHover=function(e,t){if(this._suppressHover)return!1;var n=this._drawingChartElement(e,t,function(e){return(e.hover||e.over)&&!(e instanceof dU)}),o=this._activePoint;return this._updateHoveredPoint(n,t),n&&o!==n&&n.hover&&(this._activePoint=n,this._sharedTooltip()||n.hover(this,t)||(this._displayTooltip(n),this._showInactiveOpacity(n))),n},t.prototype._displayTooltip=function(e){_N({},this.options.tooltip,e.options.tooltip).visible&&(this._sharedTooltip()&&e.box?this._trackSharedTooltip(e.box.center(),{}):this._tooltip.show(e))},t.prototype._hideTooltip=function(){this._tooltip&&this._tooltip.hide()},t.prototype._displayInactiveOpacity=function(e,t,n){var o=this._activeChartInstance=this._chartInstanceFromPoint(e);if(o)if(t)this._updateSeriesOpacity(e),this._applySeriesOpacity(o.children,null,!0),this._applySeriesOpacity(o.children,e.series),this._highlight.show(n||e);else{var i;if(!o.supportsPointInactiveOpacity())return void this._highlight.show(e);(i=this._getInactivePoints(e,o))&&i.length&&this._highlight.show(i,1-this._getInactiveOpacityForSeries(e.series))}},t.prototype._getInactivePoints=function(e,t){return this._getAllPointsOfType(t,e.constructor).filter(function(t){return t!==e})},t.prototype._getAllPointsOfType=function(e,t){for(var n=[],o=0;o<e.children.length;o++){var i=e.children[o];i.constructor===t?n.push(i):i.children&&i.children.length&&(n=n.concat(this._getAllPointsOfType(i,t)))}return n},t.prototype._updateHoveredPoint=function(e,t){var n=this._hoveredPoint;n&&n!==e&&(n.out(this,t),this._hoveredPoint=null),e&&n!==e&&e.over&&(this._hoveredPoint=e,e.over(this,t))},t.prototype._updateDrilldownPoint=function(e){e&&e.series&&(AB.current.bindPoint(e.series,null,e.dataItem).fields.drilldown&&(this._drilldownState={cursor:this.element.style.cursor},this.element.style.cursor="pointer"))},t.prototype._resetDrilldownPoint=function(){this._drilldownState&&(this.element.style.cursor=this._drilldownState.cursor,this._drilldownState=null)},t.prototype._startDrilldown=function(e){if(e&&e.series){var t=e.series,n=AB.current.bindPoint(t,null,e.dataItem).fields.drilldown;if(n){var o={series:t,point:e,value:n,sender:this};this.trigger("drilldown",o)}}},t.prototype._updateSeriesOpacity=function(e,t){for(var n=this._plotArea,o=n.series.length,i=0;i<o;i++){var r=n.series[i],a=this._getDefaultOpacityForSeries(r),s=this._getInactiveOpacityForSeries(r);t||r===e.series?(r.opacity=a,r.line&&(r.line.opacity=a)):(r.defaultOpacity=a,r.opacity=s,r.line&&(r.line.opacity=s))}},t.prototype._applySeriesOpacity=function(e,t,n,o){for(var i=0;i<e.length;i++){var r=e[i],a=r.series||o;if(a&&(a.highlight||{}).visible&&r.visual){var s=o?o.opacity:r.series.opacity;(a!==t||n)&&r.visual.opacity(n?1:s)}r.children&&r.children.length&&this._applySeriesOpacity(r.children,t,n,r.series)}},t.prototype._chartInstanceFromPoint=function(e){for(var t=e.parent;t&&!t.plotArea;)t=t.parent;return t},t.prototype._showInactiveOpacity=function(e){var t=this._plotArea.series.length>1;this._hasInactiveOpacity()?this._displayInactiveOpacity(e,t):this._highlight.show(e)},t.prototype._hideInactiveOpacity=function(e){var t=this._plotArea.series.length>1;this._hasInactiveOpacity()&&(t&&this._activeChartInstance&&(this._updateSeriesOpacity(e,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null)},t.prototype._hasInactiveOpacity=function(){var e=void 0!==this.options.seriesDefaults.highlight.inactiveOpacity,t=this.options.series.filter(function(e){return void 0!==e.highlight.inactiveOpacity}).length>0;return e||t},t.prototype._getInactiveOpacityForSeries=function(e){var t=this.options.seriesDefaults.highlight.inactiveOpacity;return e.highlight.inactiveOpacity||t||e.opacity||1},t.prototype._getDefaultOpacityForSeries=function(e){return e.defaultOpacity||e.opacity||1},t.prototype._mouseover=function(e){var t,n=this._startHover(e.element,e.originalEvent);n&&n.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),xP(document,((t={})[bX]=this._mouseMoveTrackHandler,t)))},t.prototype._mouseMoveTracking=function(e){var t,n=this,o=n.options,i=n._tooltip,r=n._highlight,a=n._activePoint,s=this._eventCoordinates(e);if(this._plotArea.box.containsPoint(s)){if(a&&a.tooltipTracking&&a.series&&a.parent.getNearestPoint){var l=a.parent.getNearestPoint(s.x,s.y,a.seriesIx);if(l&&l!==a)if(this._activePoint=l,!l.hover(this,e))_N({},o.tooltip,l.options.tooltip).visible&&i.show(l),r.show(l)}}else TP(document,((t={})[bX]=this._mouseMoveTrackHandler,t)),this._unsetActivePoint(),this._clearFocusedElement(),this._mouseMoveTrackHandler=null,this._hideInactiveOpacity(a)},t.prototype._mousemove=function(e){var t=this._eventCoordinates(e),n=this._plotArea;if(this._trackCrosshairs(t),n.hover){var o=n.backgroundContainsPoint(t);o?(this._plotAreaHovered=!0,this._plotArea.hover(this,e)):this._plotAreaHovered&&!o&&(this._plotAreaHovered=!1,this.trigger(FV))}this._sharedTooltip()&&this._trackSharedTooltip(t,e)},t.prototype._trackCrosshairs=function(e){for(var t=this._plotArea.crosshairs,n=0;n<t.length;n++){var o=t[n];o.box.containsPoint(e)?o.showAt(e):o.hide()}},t.prototype._trackSharedTooltip=function(e,t,n){if(!this._suppressHover){var o=this,i=o.options.tooltip,r=o._plotArea,a=o._plotArea.categoryAxis,s=o._tooltip,l=o._highlight;if(r.backgroundContainsPoint(e)){var c=a.pointCategoryIndex(e);if(c!==this._tooltipCategoryIx||!this._sharedHighlight&&n){var d=r.pointsByCategoryIndex(c),u=d.map(function(e){return e.eventArgs(t)}),p=u[0]||{};p.categoryPoints=u,d.length>0&&!this.trigger(MV,p)?(i.visible&&s.showAt(d,e),l.show(d),this._sharedHighlight=!0):s.hide(),this._tooltipCategoryIx=c}else n&&this._sharedHighlight&&(l.hide(),s.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(l.hide(),s.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}},t.prototype.hideElements=function(e){var t=this._plotArea;this._mousemove.cancel(),t.hideCrosshairs(),this._unsetActivePoint(e)},t.prototype._unsetActivePoint=function(e){var t=this._highlight;this._activePoint=null,this._hoveredPoint=null,e&&e.keepTooltipOpen||this._hideTooltip(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,t&&t.hide()},t.prototype._deferRedraw=function(){this._redraw()},t.prototype._clearRedrawTimeout=function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)},t.prototype.bindCategories=function(){for(var e=this.options,t=[].concat(e.categoryAxis),n=0;n<t.length;n++){var o=t[n];!1!==o.autoBind&&this.bindCategoryAxisFromSeries(o,n)}},t.prototype.bindCategoryAxisFromSeries=function(e,t){var n=this,o=new Set,i=this.options.series.filter(function(n){return n.categoryAxis===e.name||!n.categoryAxis&&0===t}),r=i.some(function(e){return Boolean(e.categoryField)}),a=i.filter(function(e){return e.data&&e.data.length>0}),s=a.map(function(e){return AB.current.bindPoint(e,0).fields.category}),l=s.reduce(function(t,n){return t||CH(e,n)},!1),c=a.filter(function(e,t){return e.categoryField||bP(s[t])});if(c.forEach(function(e){return e.data.forEach(function(t,i){var r=AB.current.bindPoint(e,i).fields.category;if(l){var a=bH(r,t,n.chartService.intl);r=a?a.getTime():void 0}o.add(r)})}),o.size>0){var d=Array.from(o.values());l&&(d=d.sort().map(function(e){return e&&new Date(e)})),e.categories=d}else r&&(e.categories=[])},t.prototype._isBindable=function(e){for(var t=AB.current.valueFields(e),n=!0,o=0;o<t.length;o++){var i=t[o];if(i===rN?i="field":i+="Field",!bP(e[i])){n=!1;break}}return n},t.prototype._noTransitionsRedraw=function(){var e,t=this.options;!1!==t.transitions&&(t.transitions=!1,e=!0),this._redraw(),e&&(t.transitions=!0)},t.prototype._legendItemHover=function(e,t){this._showSeriesInactiveOpacity(e,t)},t.prototype._showSeriesInactiveOpacity=function(e,t){var n,o=this._plotArea,i=this._highlight,r=(o.srcSeries||o.series)[e];if(n=YN(r.type,[aV,$B,eV,tV])?o.findPoint(function(n){return n.series.index===e&&n.index===t}):o.pointsBySeriesIndex(e),this._hasInactiveOpacity()&&r.visible&&n){var a=o.series.length>1,s=n.length?n[0]:n;this._displayInactiveOpacity(s,a,n)}else i.show(n)},t.prototype._shouldAttachMouseMove=function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([LV,FV])},t.prototype.updateMouseMoveHandler=function(){var e,t;TP(this.element,((e={})[bX]=this._mousemove,e)),this._shouldAttachMouseMove()&&xP(this.element,((t={})[bX]=this._mousemove,t))},t.prototype.applyOptions=function(e,t){TX(this._originalOptions,e),this._originalOptions=_N(this._originalOptions,e),this.options=_N({},this._originalOptions),t&&(this._theme=t,this.chartService.theme=t),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()},t.prototype.setOptions=function(e,t){this.applyOptions(e,t),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler(),this._restoreOverlayElement()},t.prototype.setDirection=function(e){this.chartService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&this._destroySurface()},t.prototype.setIntlService=function(e){this.chartService.intl=e},t.prototype.noTransitionsRedraw=function(){this._noTransitionsRedraw()},t.prototype.destroy=function(){var e,t;this._destroyed=!0,TP(this.element,((e={})[wX]=this._clickHandler,e[oH]=this._mousewheelHandler,e[bX]=this._mousemove,e[kX]=this._mouseleaveHandler,e[CX]=this._keydownHandler,e[SX]=this._focusHandler,e[IX]=this._blurHandler,e)),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&TP(document,((t={})[bX]=this._mouseMoveTrackHandler,t)),this._focusState=null,this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()},t.prototype._destroySurface=function(){var e=this.surface;e&&(e.unbind("mouseenter",this._surfaceMouseenterHandler),e.unbind("mouseleave",this._surfaceMouseleaveHandler),e.destroy(),this.surface=null)},t.prototype._destroySelections=function(){var e=this._selections;if(e)for(;e.length>0;)e.shift().destroy()},t.prototype._destroyView=function(){var e=this._model;e&&(e.destroy(),this._model=null),this._unsetActivePoint(),this._clearFocusedElement(),this._resetDrilldownPoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)},t}(aT);function AX(e,t){if(e)for(var n=0;n<e.length;n++)if(e[n].category===t)return[e[n]]}function _X(e){delete e.bar,delete e.column,delete e.rangeColumn,delete e.line,delete e.verticalLine,delete e.pie,delete e.donut,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc,delete e.boxPlot,delete e.bullet,delete e.verticalBullet,delete e.polarArea,delete e.polarLine,delete e.radarArea,delete e.radarLine,delete e.waterfall}function DX(e){for(var t={},n=0;n<e.length;n++){var o=e[n],i=o.options.name;i&&(t[i]=o.range())}return t}var NX=["data","categories"];function TX(e,t){for(var n in t)if(!YN(n,NX)&&yM(t,n)){var o=t[n],i=e[n];if(bP(i)){var r=null===o;r||!bP(o)?(delete e[n],r&&delete t[n]):i&&DN(o)&&DN(i)&&TX(i,o)}}}function PX(e){for(var t=0;t<e.length;t++)e[t].notifyRender()}RP(jX,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{},accessibility:{},focusHighlight:{border:{opacity:1,color:OD,width:2}}},categoryAxis:{},seriesDefaults:{type:ZB,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1},accessibility:{},focusHighlight:{border:{opacity:1,width:2},zIndex:200}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});const MX=jX;var OX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._slotAnchor=function(e,t){var n=this.plotArea.categoryAxis.options.vertical,o=n?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};return{point:n?new uO(this.plotArea.box.x2,t.center().y):new uO(t.center().x,-2),align:o}},t.prototype._defaultAnchor=function(e,t){return this._slotAnchor({},t)},t}(_K);const RX=OX;var LX=[KB,JB];function FX(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];t[n]=o.style.display,o.style.display="none"}return t}function zX(e,t){for(var n=0;n<e.length;n++)e[n].style.display=t[n]}function BX(e){return bN(e)?[e]:e}var VX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._setElementClass=function(e){hN(e,"k-sparkline")},t.prototype._initElement=function(t){e.prototype._initElement.call(this,t),this._initialWidth=Math.floor(CP(t).width)},t.prototype._resize=function(){var t=this.element,n=FX(t.childNodes);this._initialWidth=Math.floor(CP(t).width),zX(t.childNodes,n),e.prototype._resize.call(this)},t.prototype._modelOptions=function(){var e=this.options,t=this._surfaceWrap(),n=FX(t.childNodes),o=document.createElement("span");o.innerHTML="&nbsp;",t.appendChild(o);var i=_N({width:this._autoWidth,height:CP(t).height,transitions:e.transitions},e.chartArea,{inline:!0,align:!1});return CP(t,{width:i.width,height:i.height}),t.removeChild(o),zX(t.childNodes,n),this.surface&&this.surface.resize(),i},t.prototype._surfaceWrap=function(){if(!this.stage){var e=this.stage=document.createElement("span");this.element.appendChild(e)}return this.stage},t.prototype._createPlotArea=function(t){var n=e.prototype._createPlotArea.call(this,t);return this._autoWidth=this._initialWidth||this._calculateWidth(n),n},t.prototype._calculateWidth=function(e){for(var t=this.options,n=ON(t.chartArea.margin),o=e.charts,i=this._surfaceWrap(),r=0,a=0;a<o.length;a++){var s=o[a],l=(s.options.series||[])[0];if(l){if(l.type===KB)return 150;if(l.type===JB)return 150;if(l.type===aV)return CP(i).height;var c=s.categoryAxis;if(c){var d=c.categoriesCount()*(!s.options.isStacked&&YN(l.type,[ZB,bV])?s.seriesOptions.length:1);r=Math.max(r,d)}}}var u=r*t.pointWidth;return u>0&&(u+=n.left+n.right),u},t.prototype._createSharedTooltip=function(e){return new RX(this._plotArea,e)},t.normalizeOptions=function(e){var t=BX(e);return(t=pN(t)?{seriesDefaults:{data:t}}:_N({},t)).series||(t.series=[{data:BX(t.data)}]),_N(t,{seriesDefaults:{type:t.type}}),(YN(t.series[0].type,LX)||YN(t.seriesDefaults.type,LX))&&(t=_N({},{categoryAxis:{crosshair:{visible:!1}}},t)),t},t}(MX);RP(VX,{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});const HX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){this._initialOpacity=parseFloat(MN(this.element,"opacity").opacity)},t.prototype.step=function(e){MN(this.element,{opacity:String(JN(this._initialOpacity,0,e))})},t.prototype.abort=function(){e.prototype.abort.call(this),MN(this.element,{display:"none",opacity:String(this._initialOpacity)})},t.prototype.cancel=function(){e.prototype.abort.call(this),MN(this.element,{opacity:String(this._initialOpacity)})},t}(IL);function qX(e,t){var n=document.createElement("div");return n.className=e,t&&(n.style.cssText=t),n}var UX=function(e){function t(t,n,o){e.call(this),this.options=_N({},this.options,o),this.container=t,this.chartService=n;var i=MN(t,["paddingLeft","paddingTop"]);this.chartPadding={top:i.paddingTop,left:i.paddingLeft},this.createElements(),t.appendChild(this.element)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createElements=function(){var e=this.element=qX("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),t=this.tooltip=qX("k-tooltip k-chart-tooltip"),n=this.scroll=qX("k-scroll");t.innerHTML="&nbsp;",e.appendChild(t),e.appendChild(n)},t.prototype.show=function(e,t,n){var o=this,i=o.element,r=o.options,a=o.scroll,s=o.tooltip,l=pz(xz(e)+xz(t-e)/2),c=.4*n.width(),d=n.center().x-c,u=(n.center().x-d)/(r.max-r.min),p=l-r.min,h=this.chartService.intl.format(r.format,e,t),m=zN(r);this.clearHideTimeout(),this._visible||(MN(i,{visibility:"hidden",display:"block"}),this._visible=!0),m&&(h=m({from:e,to:t})),s.innerHTML=h,MN(s,{left:n.center().x-s.offsetWidth/2,top:n.y1});var f=MN(s,["marginTop","borderTopWidth","height"]);MN(a,{width:c,left:d+p*u,top:n.y1+f.marginTop+f.borderTopWidth+f.height/2}),MN(i,{visibility:"visible"})},t.prototype.clearHideTimeout=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()},t.prototype.hide=function(){var e=this;this.clearHideTimeout(),this._hideTimeout=setTimeout(function(){e._visible=!1,e._hideAnimation=new HX(e.element),e._hideAnimation.setup(),e._hideAnimation.play()},this.options.hideDelay)},t.prototype.destroy=function(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll},t}(aT);RP(UX,{format:"{0:d} - {1:d}",hideDelay:500});const GX=UX;var WX="_navigator",KX=WX,YX="_default",XX=function(e){function t(t){var n;e.call(this),this.chart=t;var o=this.options=_N({},this.options,t.options.navigator),i=o.select;i&&(i.from=this.parseDate(i.from),i.to=this.parseDate(i.to)),bP(o.hint.visible)||(o.hint.visible=o.visible),this.chartObserver=new $N(this,((n={})[zV]="_drag",n[BV]="_dragEnd",n[qV]="_zoom",n[UV]="_zoomEnd",n)),t.addObserver(this.chartObserver)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseDate=function(e){return Sz(this.chart.chartService.intl,e)},t.prototype.clean=function(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)},t.prototype.destroy=function(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()},t.prototype.redraw=function(){this._redrawSelf(),this.initSelection()},t.prototype.initSelection=function(){var e,t=this.chart,n=this.options,o=this.mainAxis(),i=o.roundedRange(),r=i.min,a=i.max,s=n.select,l=s.from,c=s.to,d=s.mousewheel,u=(e=o,JX.prototype=e,new JX);0!==o.categoriesCount()&&(this.clean(),u.box=o.box,this.selection=new IK(t,u,{min:r,max:a,from:l||r,to:c||a,mousewheel:PP(d,{zoom:"left"}),visible:n.visible},new $N(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),n.hint.visible&&(this.hint=new GX(t.element,t.chartService,{min:r,max:a,template:zN(n.hint),format:n.hint.format})))},t.prototype.setRange=function(){var e=this.chart._createPlotArea(!0).namedCategoryAxes[KX].roundedRange(),t=e.min,n=e.max,o=this.options.select||{},i=o.from||t;i<t&&(i=t);var r=o.to||n;r>n&&(r=n),this.options.select=_N({},o,{from:i,to:r}),this.filterAxes()},t.prototype._redrawSelf=function(e){var t=this.chart._plotArea;t&&t.redraw(jP(t.panes),e)},t.prototype.redrawSlaves=function(){var e=this.chart,t=e._plotArea,n=t.panes.filter(function(e){return e.options.name!==WX});t.srcSeries=e.options.series,t.options.categoryAxis=e.options.categoryAxis,t.clearSeriesPointsCache(),t.redraw(n)},t.prototype._drag=function(e){var t,n=this.chart,o=this.selection,i=n._eventCoordinates(e.originalEvent),r=this.mainAxis(),a=r.roundedRange(),s=r.pane.box.containsPoint(i),l=n._plotArea.categoryAxis,c=e.axisRanges[l.options.name],d=this.options.select;if(c&&!s&&o){t=d.from&&d.to?xz(d.to)-xz(d.from):xz(o.options.to)-xz(o.options.from);var u=pz(AP(xz(c.min),a.min,xz(a.max)-t)),p=pz(AP(xz(u)+t,xz(a.min)+t,a.max));this.options.select={from:u,to:p},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),o.set(u,p),this.showHint(u,p)}},t.prototype._dragEnd=function(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()},t.prototype.readSelection=function(){var e=this.selection.options,t=e.from,n=e.to,o=this.options.select;o.from=t,o.to=n},t.prototype.filterAxes=function(){var e=this.options.select;void 0===e&&(e={});for(var t=this.chart.options.categoryAxis,n=e.from,o=e.to,i=0;i<t.length;i++){var r=t[i];r.pane!==WX&&(r.min=n,r.max=o)}},t.prototype.filter=function(){var e=this.chart,t=this.options.select;if(e.requiresHandlers(["navigatorFilter"])){var n=this.mainAxis(),o={from:t.from,to:t.to};if("category"!==n.options.type){var i=new zz(_N({baseUnit:"fit"},e.options.categoryAxis[0],{categories:[t.from,t.to]}),e.chartService).options;o.from=mz(i.min,-i.baseUnitStep,i.baseUnit),o.to=mz(i.max,i.baseUnitStep,i.baseUnit)}this.chart.trigger("navigatorFilter",o)}},t.prototype._zoom=function(e){var t=this,n=t.chart._plotArea.categoryAxis,o=t.selection,i=t.options,r=i.select,a=i.liveDrag,s=this.mainAxis(),l=e.delta;if(o){var c=s.categoryIndex(o.options.from),d=s.categoryIndex(o.options.to),u=this.chart._eventCoordinates(e.originalEvent);e.originalEvent.preventDefault(),Math.abs(l)>1&&(l*=3),d-c>1?(o.zoom(l,u),this.readSelection()):(n.options.min=r.from,r.from=n.scaleRange(-e.delta*this.chart._mousewheelZoomRate(),u).min),a&&(this.filterAxes(),this.redrawSlaves()),o.set(r.from,r.to),this.showHint(this.options.select.from,this.options.select.to)}},t.prototype._zoomEnd=function(e){this._dragEnd(e)},t.prototype.showHint=function(e,t){var n=this.chart._plotArea;this.hint&&this.hint.show(e,t,n.backgroundBox())},t.prototype._selectStart=function(e){return this.chart._selectStart(e)},t.prototype._select=function(e){return this.showHint(e.from,e.to),this.chart._select(e)},t.prototype._selectEnd=function(e){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(e)},t.prototype.mainAxis=function(){var e=this.chart._plotArea;if(e)return e.namedCategoryAxes[KX]},t.prototype.select=function(e,t){var n=this.options.select;return e&&t&&(n.from=this.parseDate(e),n.to=this.parseDate(t),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(e,t)),{from:n.from,to:n.to}},t.setup=function(e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),!e.__navi){e.__navi=!0;var o=_N({},n.navigator,e.navigator),i=e.panes=[].concat(e.panes),r=_N({},o.pane,{name:WX});o.visible||(r.visible=!1,r.height=.1),"top"!==e.navigator.position?i.push(r):i.unshift(r),i.forEach(function(e){e.name=e.name||YX}),t.attachAxes(e,o),t.attachSeries(e,o,n)}},t.attachAxes=function(e,t){var n=t.series||[],o=e.categoryAxis=[].concat(e.categoryAxis),i=e.valueAxis=[].concat(e.valueAxis);o.concat(i).forEach(function(e){e.pane=e.pane||YX});var r=0===yH(n,SV).length,a=_N({type:"date",pane:WX,roundToBaseUnit:!r,justified:r,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:t.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),s=t.categoryAxis;o.push(_N({},a,{maxDateGroups:200},s,{name:KX,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),_N({},a,s,{name:KX+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),_N({},a,s,{name:KX+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),i.push(_N({name:KX,pane:WX,majorGridLines:{visible:!1},visible:!1},t.valueAxis))},t.attachSeries=function(e,t,n){for(var o=e.series=e.series||[],i=[].concat(t.series||[]),r=n.seriesColors,a=t.seriesDefaults,s=0;s<i.length;s++)o.push(_N({color:r[s%r.length],categoryField:t.dateField,visibleInLegend:!1,tooltip:{visible:!1}},a,i[s],{axis:KX,categoryAxis:KX,autoBind:t.autoBindElements}))},t}(aT);function JX(){}const QX=XX;var ZX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyDefaults=function(t,n){var o=CP(this.element).width||600,i=n,r={seriesDefaults:{categoryField:t.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(o/28)}}};i&&(i=_N({},i,r)),QX.setup(t,i),e.prototype.applyDefaults.call(this,t,i)},t.prototype._setElementClass=function(e){hN(e,"k-chart k-stockchart")},t.prototype.setOptions=function(t){this.destroyNavigator(),e.prototype.setOptions.call(this,t)},t.prototype.noTransitionsRedraw=function(){var e=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=e},t.prototype._resize=function(){this.noTransitionsRedraw()},t.prototype._redraw=function(){var e=this.navigator;!this._dirty()&&e&&e.options.partialRedraw?e.redrawSlaves():this._fullRedraw()},t.prototype._dirty=function(){var e=this.options,t=UN([].concat(e.series,e.navigator.series),function(e){return e&&e.visible}).length,n=this._seriesCount!==t;return this._seriesCount=t,n},t.prototype._fullRedraw=function(){var t=this.navigator;t||(t=this.navigator=new QX(this),this.trigger("navigatorCreated",{navigator:t})),t.clean(),t.setRange(),e.prototype._redraw.call(this),t.initSelection()},t.prototype._trackSharedTooltip=function(t){var n=this._plotArea.paneByPoint(t);n&&n.options.name===WX?this._unsetActivePoint():e.prototype._trackSharedTooltip.call(this,t)},t.prototype.bindCategories=function(){e.prototype.bindCategories.call(this),this.copyNavigatorCategories()},t.prototype.copyNavigatorCategories=function(){for(var e,t=[].concat(this.options.categoryAxis),n=0;n<t.length;n++){var o=t[n];o.name===KX?e=o.categories:e&&o.pane===WX&&(o.categories=e)}},t.prototype.destroyNavigator=function(){this.navigator&&(this.navigator.destroy(),this.navigator=null)},t.prototype.destroy=function(){this.destroyNavigator(),e.prototype.destroy.call(this)},t.prototype._stopChartHandlers=function(t){var n=this._eventCoordinates(t),o=this._plotArea.paneByPoint(n);return e.prototype._stopChartHandlers.call(this,t)||o&&o.options.name===WX},t.prototype._toggleDragZoomEvents=function(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)},t}(MX);RP(ZX,{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!1},highlight:{visible:!1},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});var $X=150,eJ="arrowPointer",tJ="barPointer",nJ=.5,oJ=Math.PI/180,iJ="inside",rJ="linear",aJ="outside",sJ="radialPointer",lJ="radialRangePointer";function cJ(e,t){var n=e.getOrigin(),o=e.getSize(),i=ON(t);return e.setOrigin([n.x-i.left,n.y-i.top]),e.setSize([o.width+(i.left+i.right),o.height+(i.top+i.bottom)]),e}var dJ=iL,uJ=GR,pJ=mF;function hJ(e,t){var n=e.box,o=e.children[0].box,i=t.border||{},r=t.background||"",a=uJ.fromRect(new kO([n.x1,n.y1],[n.width(),n.height()]),{stroke:{}}),s=new pJ(e.text,new yO(o.x1,o.y1),{font:t.font,fill:{color:t.color}}),l=cJ(s.bbox().clone(),t.padding),c=uJ.fromRect(l,{stroke:{color:i.width?i.color:"",width:i.width,opacity:i.opacity,dashType:i.dashType,lineJoin:"round",lineCap:"round"},fill:{color:r}}),d=new dJ;return d.append(a),d.append(c),d.append(s),d}function mJ(e,t,n){var o=bP(e.from)?e.from:JD,i=bP(e.to)?e.to:XD;return e.from=Math.max(Math.min(i,o),t),e.to=Math.min(Math.max(i,o),n),e}function fJ(e,t){var n=ON(t);return n.left=-n.left,n.top=-n.top,n.right=-n.right,n.bottom=-n.bottom,cJ(e,n)}var gJ=GR,vJ=BW,yJ=function(e){function t(t,n,o,i){void 0===i&&(i={}),e.call(this),this.element=t,this.theme=o,this.contextService=new BF(this,i),this._originalOptions=_N({},this.options,n),this.options=_N({},this._originalOptions),this._initTheme(o),this.redraw()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement},t.prototype.value=function(e){var t=this.pointers[0];if(0===arguments.length)return t.value();t.value(e),this._setValueOptions(e)},t.prototype._draw=function(){var e=this.surface;e.clear(),e.draw(this._visuals)},t.prototype.exportVisual=function(){return this._visuals},t.prototype.allValues=function(e){var t=this.pointers,n=[];if(0===arguments.length){for(var o=0;o<t.length;o++)n.push(t[o].value());return n}if(pN(e))for(var i=0;i<e.length;i++)bN(e[i])&&t[i].value(e[i]);this._setValueOptions(e)},t.prototype._setValueOptions=function(e){for(var t=[].concat(this.options.pointer),n=[].concat(e),o=0;o<n.length;o++)t[o].value=n[o]},t.prototype.resize=function(){this.noTransitionsRedraw()},t.prototype.noTransitionsRedraw=function(){var e=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(e)},t.prototype.redraw=function(){var e=this._surfaceSize(),t=new kO([0,0],[e.width,e.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();var n=fJ(t.bbox(),this._gaugeAreaMargin);this.reflow(n)},t.prototype.setOptions=function(e,t){this._originalOptions=_N(this._originalOptions,e),this.options=_N({},this._originalOptions),this._initTheme(t),this.redraw()},t.prototype.setDirection=function(e){this.contextService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)},t.prototype.setIntlService=function(e){this.contextService.intl=e},t.prototype._initTheme=function(e){var t=e||this.theme||{};this.theme=t,this.options=_N({},t,this.options);var n=this.options,o=n.pointer;if(pN(o)){for(var i=[],r=0;r<o.length;r++)i.push(_N({},t.pointer,o[r]));n.pointer=i}},t.prototype._createGaugeArea=function(){var e=this.options.gaugeArea,t=this.surface.size(),n=e.border||{},o=new kO([0,0],[t.width,t.height]);return this._gaugeAreaMargin=e.margin||5,n.width>0&&(o=fJ(o,n.width)),gJ.fromRect(o,{stroke:{color:n.width?n.color:"",width:n.width,opacity:n.opacity,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:e.background}})},t.prototype._initSurface=function(){var e=this.options,t=this.surface,n=this._surfaceElement(),o=this._surfaceSize();CP(n,o),t&&t.options.type===e.renderAs?(this.surface.clear(),this.surface.resize()):(t&&t.destroy(),this.surface=vJ.create(n,{type:e.renderAs}))},t.prototype._surfaceSize=function(){var e=this.options,t=this._getSize();return e.gaugeArea&&_N(t,e.gaugeArea),t},t.prototype._surfaceElement=function(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement},t.prototype.getSize=function(){return this._getSize()},t.prototype._getSize=function(){var e=this.element,t=this._defaultSize(),n=e.offsetWidth,o=e.offsetHeight;return n||(n=t.width),o||(o=t.height),{width:n,height:o}},t.prototype._defaultSize=function(){return{width:200,height:200}},t.prototype._toggleTransitions=function(e){this.options.transitions=e;for(var t=0;t<this.pointers.length;t++)this.pointers[t].options.animation.transitions=e},t}(aT);RP(yJ,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});const xJ=yJ;var bJ=GR,wJ=iL,kJ=yO;function CJ(e,t){var n,o,i=e.position,r=e.tickX,a=e.tickY;return e.vertical?(n=new kJ(r,i),o=new kJ(r+t.size,i)):(n=new kJ(i,a),o=new kJ(i,a+t.size)),new bJ({stroke:{color:t.color,width:t.width}}).moveTo(n).lineTo(o)}function SJ(e,t,n,o){var i=t.length;if(o.visible)for(var r=n.mirror,a=n.lineBox,s=o.skip;s<i;s+=o.step)s%o.skipUnit!==0&&(n.tickX=r?a.x2:a.x2-o.size,n.tickY=r?a.y1-o.size:a.y1,n.position=t[s],e.append(CJ(n,o)))}var IJ=function(e){function t(t,n){var o=t||{};!bP(o.reverse)&&!1===o.vertical&&(n||{}).rtl&&(o=Object.assign({},o,{reverse:!0})),e.call(this,0,1,o,n),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initUserOptions=function(e){var t=_N({},this.options,e);return(t=_N({},t,{labels:{mirror:t.mirror}})).majorUnit=t.majorUnit||cO(t.min,t.max),t},t.prototype.initFields=function(){},t.prototype.render=function(){var e=this.elements=new wJ,t=this.renderLabels(),n=this.renderLine(),o=this.renderTicks(),i=this.renderRanges();return e.append(n,t,o,i),e},t.prototype.renderRanges=function(){for(var e=this,t=this.options,n=t.min,o=t.max,i=t.vertical,r=t.labels.mirror,a=t.ranges||[],s=new wJ,l=a.length,c=t.rangeSize||t.minorTicks.size/2,d=0;d<l;d++){var u=mJ(a[d],n,o),p=e.getSlot(u.from,u.to),h=i?e.lineBox():p,m=i?p:e.lineBox();i?h.x1-=c*(r?-1:1):m.y2+=c*(r?-1:1),s.append(bJ.fromRect(new kO([h.x1,m.y1],[h.x2-h.x1,m.y2-m.y1]),{fill:{color:u.color,opacity:u.opacity},stroke:{}}))}return s},t.prototype.renderLabels=function(){for(var e=this.labels,t=this.options,n=new wJ,o=0;o<e.length;o++)n.append(hJ(e[o],t.labels));return n},t.prototype.renderLine=function(){var e=this.options.line,t=this.lineBox(),n=new wJ;if(e.width>0&&e.visible){var o=new bJ({stroke:{color:e.color,dashType:e.dashType,width:e.width}});o.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),n.append(o)}return n},t.prototype.renderTicks=function(){var e=new wJ,t=this.options,n=t.majorTicks.visible?t.majorUnit:0,o={vertical:t.vertical,mirror:t.labels.mirror,lineBox:this.lineBox()};return SJ(e,this.getMajorTickPositions(),o,t.majorTicks),SJ(e,this.getMinorTickPositions(),o,_N({},{skipUnit:n/t.minorUnit},t.minorTicks)),e},t}(Wz);RP(IJ,{min:0,max:50,majorTicks:{size:15,align:iJ,color:OD,width:nJ,visible:!0},minorTicks:{size:10,align:iJ,color:OD,width:nJ,visible:!0},line:{width:nJ},labels:{position:iJ,padding:2},mirror:!1,_alignLines:!1});const EJ=IJ;var jJ=function(e){function t(t,n){e.call(this);var o=t.options,i=o.min,r=o.max,a=this.options=_N({},this.options,n);a.fill=a.color,this.scale=t,bP(a.value)?a.value=AP(a.value,i,r):a.value=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.value=function(e){var t=this.options,n=t.value;if(0===arguments.length)return n;var o=this.scale.options,i=o.min,r=o.max;t._oldValue=bP(t._oldValue)?t.value:i,t.value=AP(e,i,r),this.elements&&this.repaint()},t}(aT);RP(jJ,{color:OD});const AJ=jJ;var _J=function(e){function t(t,n){e.call(this,t,n),this.options=_N({track:{visible:bP(n.track)}},this.options)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(){var e,t,n,o=this.options,i=this.scale,r=i.options,a=r.mirror,s=r.vertical,l=i.lineBox(),c=o.track.size||o.size,d=o.size/2,u=ON(o.margin),p=s?u[a?"left":"right"]:u[a?"bottom":"top"];p=a?-p:p,s?(n=new IO(l.x1+p,l.y1,l.x1+p,l.y2),a?n.x1-=c:n.x2+=c,o.shape!==tJ&&(e=t=new IO(l.x2+p,l.y1-d,l.x2+p,l.y2+d))):(n=new IO(l.x1,l.y1-p,l.x2,l.y1-p),a?n.y2+=c:n.y1-=c,o.shape!==tJ&&(e=t=new IO(l.x1-d,l.y1-p,l.x2+d,l.y1-p))),this.trackBox=n,this.pointerRangeBox=t,this.box=e||n.clone().pad(o.border.width)},t.prototype.getElementOptions=function(){var e=this.options;return{fill:{color:e.color,opacity:e.opacity},stroke:bP(e.border)?{color:e.border.width?e.border.color||e.color:"",width:e.border.width,dashType:e.border.dashType,opacity:e.opacity}:null}},t.prototype._margin=function(){var e=this.scale,t=this.options,n=e.options,o=n.mirror,i=n.vertical,r=ON(t.margin);return i?r[o?"left":"right"]:r[o?"bottom":"top"]},t}(AJ);RP(_J,{shape:tJ,track:{border:{width:1}},color:OD,border:{width:1},opacity:1,margin:ON(3),animation:{type:tJ},visible:!0});const DJ=_J;var NJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){var e=this.options,t=e.margin,n=e.from,o=e.to,i=e.vertical,r=i?"x1":"y1";e.mirror===i?(n[r]-=t,o[r]-=t):(n[r]+=t,o[r]+=t);var a=this.fromScale=new yO(n.x1,n.y1),s=this.toScale=new yO(o.x1,o.y1);0!==e.duration&&(e.duration=Math.max(a.distanceTo(s)/e.duration*1e3,1))},t.prototype.step=function(e){var t=JN(this.fromScale.x,this.toScale.x,e),n=JN(this.fromScale.y,this.toScale.y,e);this.element.transform(OO().translate(t,n))},t}(IL);RP(NJ,{easing:rJ,duration:250}),SL.current.register(eJ,NJ);const TJ=NJ;var PJ=yO,MJ=GR,OJ=function(e){function t(t,n){e.call(this,t,n),bP(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointerShape=function(){var e=this.scale,t=this.options.size,n=t/2,o=e.options.mirror?-1:1;return e.options.vertical?[new PJ(0,0-n),new PJ(0-o*t,0),new PJ(0,0+n)]:[new PJ(0-n,0),new PJ(0,0+o*t),new PJ(0+n,0)]},t.prototype.repaint=function(){var e=this.scale,t=this.options,n=new TJ(this.elements,_N(t.animation,{vertical:e.options.vertical,mirror:e.options.mirror,margin:this._margin(t.margin),from:e.getSlot(t._oldValue),to:e.getSlot(t.value)}));!1===t.animation.transitions&&(n.options.duration=0),n.setup(),n.play()},t.prototype.render=function(){var e=this.scale,t=this.options,n=this.getElementOptions(),o=this.pointerShape(t.value);t.animation.type=eJ;var i=new MJ({stroke:n.stroke,fill:n.fill}).moveTo(o[0]).lineTo(o[1]).lineTo(o[2]).close(),r=e.getSlot(t.value);return i.transform(OO().translate(r.x1,r.y1)),this.elements=i,i},t}(DJ);const RJ=OJ;var LJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){var e=this.options,t=this.axis=e.vertical?cN:lN,n=this.to=e.newPoints[0][t],o=this.from=e.oldPoints[0][t];0!==e.duration&&(e.duration=Math.max(Math.abs(n-o)/e.speed*1e3,1)),this._set(o)},t.prototype.step=function(e){var t=JN(this.from,this.to,e);this._set(t)},t.prototype._set=function(e){var t="set"+this.axis.toUpperCase(),n=this.options.newPoints;n[0][t](e),n[1][t](e)},t}(IL);RP(LJ,{easing:rJ,speed:250}),SL.current.register(tJ,LJ);const FJ=LJ;var zJ=iL,BJ=GR,VJ=function(e){function t(t,n){e.call(this,t,n),bP(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointerShape=function(e){var t=this.scale,n=this.options,o=t.options,i=o.mirror,r=o.vertical,a=i===r?-1:1,s=n.size*a,l=t.getSlot(t.options.min),c=t.getSlot(e),d=r?cN:lN,u=r?lN:cN,p=this._margin()*a,h=new yO;h[d]=l[d+"1"],h[u]=l[u+"1"];var m=new yO;m[d]=c[d+"1"],m[u]=c[u+"1"],r?(h.translate(p,0),m.translate(p,0)):(h.translate(0,p),m.translate(0,p));var f=m.clone(),g=h.clone();return r?(f.translate(s,0),g.translate(s,0)):(f.translate(0,s),g.translate(0,s)),[h,m,f,g]},t.prototype.repaint=function(){var e=this.scale,t=this.options,n=this.pointerShape(t.value),o=this.pointerPath,i=this.pointerShape(t._oldValue);o.moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).lineTo(n[3]).close();var r=new FJ(o,_N(t.animation,{reverse:e.options.reverse,vertical:e.options.vertical,oldPoints:[i[1],i[2]],newPoints:[n[1],n[2]]}));!1===t.animation.transitions&&(r.options.duration=0),r.setup(),r.play()},t.prototype.render=function(){var e=new zJ,t=this.getElementOptions();this.options.track.visible&&e.append(this.renderTrack());var n=this.pointerPath=new BJ({stroke:t.stroke,fill:t.fill});return e.append(n),this.elements=e,e},t.prototype.renderTrack=function(){var e=this.options.track,t=e.border||{},n=this.trackBox.clone().pad(t.width||0);return new BJ.fromRect(n.toRect(),{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.width?t.color||e.color:"",width:t.width,dashType:t.dashType}})},t}(DJ);const HJ=VJ;var qJ=iL,UJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this.pointers,n=e.origin.x,o=e.origin.y,i=new IO(n,o,n+e.width(),o+e.height());this.scale.reflow(i),this._shrinkScaleWidth(i);for(var r=0;r<t.length;r++)t[r].reflow();this.bbox=this._getBox(i),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()},t.prototype._buildVisual=function(){var e=new qJ,t=this.scale.render(),n=this.pointers;e.append(this.gaugeArea),e.append(t);for(var o=0;o<n.length;o++){var i=n[o];e.append(i.render()),i.value(i.options.value)}this._visuals=e},t.prototype._createModel=function(){var e=this.options,t=this.scale=new EJ(e.scale,this.contextService);this.pointers=[];var n=e.pointer;n=pN(n)?n:[n];for(var o=0;o<n.length;o++){var i=_N({},n[o],{animation:{transitions:e.transitions}}),r="arrow"===i.shape?RJ:HJ;this.pointers.push(new r(t,i))}},t.prototype._defaultSize=function(){var e=this.options.scale.vertical;return{width:e?60:200,height:e?200:60}},t.prototype._getBox=function(e){for(var t,n=this.scale,o=this.pointers,i=e.center(),r=o[0].box.clone().wrap(n.box),a=0;a<o.length;a++)r.wrap(o[a].box.clone());return n.options.vertical?(t=r.width()/2,r=new IO(i.x-t,e.y1,i.x+t,e.y2)):(t=r.height()/2,r=new IO(e.x1,i.y-t,e.x2,i.y+t)),r},t.prototype._alignElements=function(){for(var e,t=this.scale,n=this.pointers,o=t.box,i=n[0].box.clone().wrap(t.box),r=this.bbox,a=0;a<n.length;a++)i.wrap(n[a].box.clone());t.options.vertical?(e=r.center().x-i.center().x,t.reflow(new IO(o.x1+e,r.y1,o.x2+e,r.y2))):(e=r.center().y-i.center().y,t.reflow(new IO(o.x1,o.y1+e,o.x2,o.y2+e)));for(var s=0;s<n.length;s++)n[s].reflow(this.bbox)},t.prototype._shrinkScaleWidth=function(e){var t=this.scale;if(!t.options.vertical){var n=t.contentBox().width()-e.width();n>0&&(t.box.shrink(n,0),t.box.alignTo(e,"center"),t.reflow(t.box))}},t.prototype._shrinkElements=function(){for(var e=this.scale,t=this.pointers,n=e.box.clone(),o=e.options.vertical?"y":"x",i=t[0].box,r=0;r<t.length;r++)i.wrap(t[r].box.clone());n[o+1]+=Math.max(n[o+1]-i[o+1],0),n[o+2]-=Math.max(i[o+2]-n[o+2],0),e.reflow(n);for(var a=0;a<t.length;a++)t[a].reflow(this.bbox)},t}(xJ);RP(UJ,{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});class GJ extends(_R(NR($R($O)))){get nodeType(){return"Arc"}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new VO;super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.geometry(e),void 0===this.options.stroke&&this.stroke("#000")}_bbox(e){return this._geometry.bbox(e)}rawBBox(){return this.geometry().bbox()}toPath(){const e=new GR,t=this.geometry().curvePoints();if(t.length>0){e.moveTo(t[0].x,t[0].y);for(let n=1;n<t.length;n+=3)e.curveTo(t[n],t[n+1],t[n+2])}return e}_containsPoint(e){return this.geometry().containsPoint(e)}_isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}var WJ=180,KJ=GJ,YJ=GR,XJ=iL;function JJ(e,t,n,o){var i=new XJ,r=e.center,a=e.getRadiusX();if(o.visible)for(var s=0;s<t.length;s++){var l=e.pointAt(t[s]),c=new yO(r.x+a-o.size,r.y).rotate(t[s],r);i.append(new YJ({stroke:{color:o.color,width:o.width}}).moveTo(l).lineTo(c))}return i}function QJ(e,t,n,o){return{from:e,to:t,color:n,opacity:o}}var ZJ=function(e){function t(t,n){e.call(this,0,1,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initUserOptions=function(e){var t=_N({},this.options,e);return t.majorUnit=t.majorUnit||cO(t.min,t.max),t.minorUnit=t.minorUnit||t.majorUnit/10,t},t.prototype.initFields=function(){},t.prototype.render=function(e,t){var n=this.renderArc(e,t);this.bbox=n.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()},t.prototype.reflow=function(e){var t=e.center(),n=Math.min(e.height(),e.width())/2;if(!bP(this.bbox))return this.render(t,n);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()},t.prototype.slotAngle=function(e){var t=this.options,n=t.min,o=t.max,i=t.reverse,r=t.startAngle,a=t.endAngle,s=a-r;return(i?a-(e-n)/(o-n)*s:(e-n)/(o-n)*s+r)+WJ},t.prototype.hasRanges=function(){var e=this.options.ranges;return e&&e.length},t.prototype.ticksSize=function(){var e=this.options,t=e.majorTicks,n=e.minorTicks,o=0;return t.visible&&(o=t.size),n.visible&&(o=Math.max(n.size,o)),o},t.prototype.labelsCount=function(){var t=e.prototype.labelsCount.call(this),n=this.options;return n.endAngle-n.startAngle>=360&&n.max%n.majorUnit===0&&(t-=1),t},t.prototype.renderLabels=function(){var e=this,t=this.options,n=this.arc.clone(),o=n.getRadiusX(),i=this.tickAngles(n,t.majorUnit),r=t.rangeSize=t.rangeSize||.1*o,a=new XJ,s=.05*o;bP(t.rangeDistance)?s=t.rangeDistance:t.rangeDistance=s;var l=t.labels,c=l.position===iJ,d=bP(this.labelElements);c&&(o-=this.ticksSize(),this.hasRanges()&&!d&&(o-=r+s),n.setRadiusX(o).setRadiusY(o));for(var u=this.labels,p=u.length,h=ON(l.padding),m=(h.left+h.right)/2,f=(h.top+h.bottom)/2,g=0;g<p;g++){var v=u[g],y=v.box.width()/2,x=v.box.height()/2,b=i[g],w=(b-WJ)*oJ,k=n.pointAt(b),C=k.x+Math.cos(w)*(y+m)*(c?1:-1),S=k.y+Math.sin(w)*(x+f)*(c?1:-1);v.reflow(new IO(C-y,S-x,C+y,S+x));var I=new yO(v.box.x1,v.box.y1),E=void 0;if(d){var j=(E=e.labelElements.children[g]).bbox().origin,A=E.transform()||OO();A.translate(I.x-j.x,I.y-j.y),E.transform(A)}else E=hJ(v,t.labels),a.append(E);e.bbox=kO.union(e.bbox,E.bbox())}return a},t.prototype.repositionRanges=function(){var e=this.ranges.children;if(e.length>0){var t=this.options,n=t.rangeDistance,o=t.rangeSize,i=this.getRangeRadius();this.options.labels.position===iJ&&(i+=o+n);for(var r=i+o/2,a=0;a<e.length;a++)e[a]._geometry.setRadiusX(r).setRadiusY(r);this.bbox=kO.union(this.bbox,this.ranges.bbox())}},t.prototype.renderRanges=function(){var e=this,t=this.rangeSegments(),n=t.length,o=new XJ;if(n){var i=this.options,r=i.rangeSize,a=i.reverse,s=i.rangeDistance,l=this.getRangeRadius();this.radius(this.radius()-r-s);for(var c=0;c<n;c++){var d=t[c],u=e.slotAngle(d[a?"to":"from"]),p=e.slotAngle(d[a?"from":"to"]);p-u!==0&&o.append(e.createRange(u,p,l,d))}}return o},t.prototype.createRange=function(e,t,n,o){var i=this.options.rangeSize,r=new VO(this.arc.center,{radiusX:n+i/2,radiusY:n+i/2,startAngle:e,endAngle:t});return new KJ(r,{stroke:{width:i,color:o.color,opacity:o.opacity,lineCap:o.lineCap}})},t.prototype.rangeSegments=function(){var e=this.options,t=e.ranges||[],n=t.length,o=[];if(n){var i=e.min,r=e.max,a=e.rangePlaceholderColor;o.push(QJ(i,r,a));for(var s=0;s<n;s++)for(var l=mJ(t[s],i,r),c=o.length,d=0;d<c;d++){var u=o[d];if(u.from<=l.from&&l.from<=u.to){o.push(QJ(l.from,l.to,l.color,l.opacity)),u.from<=l.to&&l.to<=u.to&&o.push(QJ(l.to,u.to,a,l.opacity)),u.to=l.from;break}}}return o},t.prototype.getRangeRadius=function(){var e=this.arc,t=this.options,n=t.rangeSize,o=t.rangeDistance,i=t.majorTicks.size;return t.labels.position===aJ?e.getRadiusX()-i-o-n:e.getRadiusX()-n},t.prototype.renderArc=function(e,t){var n=this.options;return this.arc=new VO(e,{radiusX:t,radiusY:t,startAngle:n.startAngle+WJ,endAngle:n.endAngle+WJ})},t.prototype.renderTicks=function(){var e=this.arc,t=this.options,n=e.clone();this.majorTickAngles=this.tickAngles(e,t.majorUnit),this.majorTicks=JJ(n,this.majorTickAngles,t.majorUnit,t.majorTicks);var o=new XJ;o.append(this.majorTicks);var i=t.majorTicks.size,r=t.minorTicks.size;if(this._tickDifference=i-r,t.labels.position===aJ){var a=n.getRadiusX();n.setRadiusX(a-i+r).setRadiusY(a-i+r)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(e,t.minorUnit)),this.minorTicks=JJ(n,this.minorTickAngles,t.minorUnit,t.minorTicks),o.append(this.minorTicks),o},t.prototype.normalizeTickAngles=function(e){for(var t=this.options,n=t.majorUnit/t.minorUnit,o=e.length-1;o>=0;o--)o%n===0&&e.splice(o,1);return e},t.prototype.tickAngles=function(e,t){var n=this.options,o=n.reverse,i=n.max-n.min,r=e.endAngle-e.startAngle,a=i/t,s=e.startAngle,l=r/a;o&&(s+=r,l=-l),r>=360&&n.max%t===0&&(a-=1);for(var c=[],d=0;d<a;d++)c.push(NP(s,3)),s+=l;return NP(s)<=e.endAngle&&c.push(s),c},t.prototype.radius=function(e){if(!e)return this.arc.getRadiusX();this.arc.setRadiusX(e).setRadiusY(e),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)},t.prototype.repositionTicks=function(e,t,n){var o=n&&this._tickDifference||0,i=this.arc,r=i.getRadiusX();n&&this.options.labels.position===aJ&&0!==o&&(i=this.arc.clone()).setRadiusX(r-o).setRadiusY(r-o);for(var a=0;a<e.length;a++){var s=i.pointAt(t[a]),l=e[a].segments,c=s.x-l[0].anchor().x,d=s.y-l[0].anchor().y;e[a].transform((new OO).translate(c,d))}},t}(Wz);RP(ZJ,{min:0,max:100,majorTicks:{size:15,align:iJ,color:OD,width:nJ,visible:!0},minorTicks:{size:10,align:iJ,color:OD,width:nJ,visible:!0},startAngle:-30,endAngle:210,labels:{position:iJ,padding:2}});const $J=ZJ;var eQ=function(e){function t(t,n){e.call(this,t,n);var o=this.options;o.duration=Math.max(Math.abs(o.newAngle-o.oldAngle)/o.duration*1e3,1)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.step=function(e){var t=this.options,n=JN(t.oldAngle,t.newAngle,e);this.element.transform(OO().rotate(n,t.center))},t}(IL);RP(eQ,{easing:rJ,duration:$X}),SL.current.register(sJ,eQ);const tQ=eQ;var nQ=tL,oQ=iL,iQ=GR,rQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAngle=function(e){this.elements.transform(OO().rotate(e,this.center))},t.prototype.repaint=function(){var e=this.scale,t=this.options,n=e.slotAngle(t._oldValue),o=e.slotAngle(t.value);!1===t.animation.transitions?this.setAngle(o):new tQ(this.elements,_N(t.animation,{oldAngle:n,newAngle:o})).play()},t.prototype.render=function(){var e=this.scale,t=this.options,n=new oQ;return!1!==t.animation&&_N(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),n.append(this._renderNeedle(),this._renderCap()),this.elements=n,this.setAngle(oJ),n},t.prototype.reflow=function(e){var t=this.center=e.center,n=AP(this.options.length||1,.1,1.5),o=this.radius=e.getRadiusX()*n,i=this.capSize=Math.round(o*this.options.cap.size);this.bbox=kO.fromPoints(new yO(t.x-i,t.y-i),new yO(t.x+i,t.y+i))},t.prototype._renderNeedle=function(){var e=this.scale.options.minorTicks.size,t=this.center,n=this.options.color,o=new iQ({fill:{color:n},stroke:{color:n,width:nJ}});return o.moveTo(t.x+this.radius-e,t.y).lineTo(t.x,t.y-this.capSize/2).lineTo(t.x,t.y+this.capSize/2).close(),o},t.prototype._renderCap=function(){var e=this.options,t=e.cap.color||e.color,n=new QR(this.center,this.capSize);return new nQ(n,{fill:{color:t},stroke:{color:t}})},t}(AJ);RP(rQ,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:sJ,duration:$X}});const aQ=rQ;var sQ=iL,lQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this,n=this.pointers;this.scale.reflow(e),this._initialPlotArea=this.scale.bbox;for(var o=0;o<n.length;o++)n[o].reflow(t.scale.arc),t._initialPlotArea=kO.union(t._initialPlotArea,n[o].bbox);this.fitScale(e),this.alignScale(e),this._buildVisual(this.gaugeArea,n,this.scale),this._draw()},t.prototype._buildVisual=function(e,t,n){var o=this._visuals=new sQ;o.append(e),o.append(n.ticks),o.append(n.ranges),this._buildPointers(t),o.append(n.labelElements)},t.prototype._buildPointers=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.render(),this._visuals.append(n.elements),n.value(n.options.value)}},t.prototype.fitScale=function(e){for(var t,n,o,i,r,a=this,s=this.scale.arc,l=this._initialPlotArea,c=Math.abs(this.getDiff(l,e)),d=NP(c,3),u=NP(-c,3),p=0,h=0;h++<100&&!((p=r===o?p+1:0)>5)&&!(d!==i&&0<=(t=a.getPlotBox(d,e,s))&&t<=2)&&!(u!==i&&0<=(o=a.getPlotBox(u,e,s))&&o<=2)&&(i=t>0&&o>0?2*d:t<0&&o<0?2*u:NP((d+u)/2||1,3),!(0<=(n=a.getPlotBox(i,e,s))&&n<=2));)r=o,n>0?(u=i,o=n):(d=i,t=n)},t.prototype.getPlotBox=function(e,t,n){var o=this.scale,i=this.pointers,r=n.getRadiusX(),a=n.clone();a.setRadiusX(r+e).setRadiusY(r+e),o.arc=a,o.reflow(t),this.plotBbox=o.bbox;for(var s=0;s<i.length;s++)i[s].reflow(a),this.plotBbox=kO.union(this.plotBbox,i[s].bbox);return this.getDiff(this.plotBbox,t)},t.prototype.getDiff=function(e,t){return Math.min(t.width()-e.width(),t.height()-e.height())},t.prototype.alignScale=function(e){var t=this.plotBbox.center(),n=e.center(),o=t.x-n.x,i=t.y-n.y,r=this.scale,a=this.pointers;r.arc.center.x-=o,r.arc.center.y-=i,r.reflow(e);for(var s=0;s<a.length;s++)a[s].reflow(r.arc),this.plotBbox=kO.union(r.bbox,a[s].bbox)},t.prototype._createModel=function(){var e=this.options,t=e.pointer,n=this.scale=new $J(e.scale,this.contextService);this.pointers=[];for(var o=pN(t)?t:[t],i=0;i<o.length;i++){var r=new aQ(n,_N({},o[i],{animation:{transitions:e.transitions}}));this.pointers.push(r)}},t}(xJ);RP(lQ,{transitions:!0,gaugeArea:{background:""}});const cQ=lQ;var dQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.rangeSegments=function(){var e=this.options;return[{from:e.min,to:e.max,color:e.rangePlaceholderColor,lineCap:e.rangeLineCap}]},t.prototype.hasRanges=function(){return!0},t.prototype.placeholderRangeAngle=function(e){var t=this.ranges.children[0].geometry();this.options.reverse?t.setEndAngle(e):t.setStartAngle(e)},t.prototype.addRange=function(e,t,n){var o=this.options.reverse,i=this.slotAngle(o?t:e),r=this.slotAngle(o?e:t),a=this.createRange(i,r,this.getRangeRadius(),n);return this.ranges.append(a),a},t}($J);RP(dQ,{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});const uQ=dQ;var pQ=function(e){function t(t,n){e.call(this,t,n);var o=this.options,i=Math.abs(o.newAngle-o.oldAngle)/o.duration*1e3;o.duration=AP(i,$X,800);var r=t.elements.options.get("stroke.color"),a=t.currentColor();r!==a&&(this.startColor=new lM(r),this.color=new lM(a))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.step=function(e){var t=this,n=t.options,o=t.startColor,i=t.color,r=JN(n.oldAngle,n.newAngle,e);if(this.element.angle(r),i){var a=NP(JN(o.r,i.r,e)),s=NP(JN(o.g,i.g,e)),l=NP(JN(o.b,i.b,e));this.element.stroke(new lM(a,s,l).toHex())}},t}(IL);RP(pQ,{easing:rJ,duration:$X}),SL.current.register(lJ,pQ);const hQ=pQ;var mQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.repaint=function(){var e=this.scale,t=this.options,n=e.slotAngle(t._oldValue),o=e.slotAngle(t.value);this.animation&&this.animation.abort(),!1===t.animation.transitions?(this.angle(o),this.stroke(this.currentColor())):(this.animation=new hQ(this,_N(t.animation,{oldAngle:n,newAngle:o})),this.animation.play())},t.prototype.angle=function(e){var t=this.elements.geometry();this.scale.options.reverse?t.setStartAngle(e):t.setEndAngle(e),this.scale.placeholderRangeAngle(e)},t.prototype.stroke=function(e){this.elements.stroke(e)},t.prototype.render=function(){if(!this.elements){var e=this.scale,t=this.options;!1!==t.animation&&_N(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),this.elements=e.addRange(e.options.min,this.options.value,{color:this.currentColor(),opacity:t.opacity,lineCap:e.options.rangeLineCap})}},t.prototype.currentColor=function(){var e=this.scale.options,t=e.min,n=e.max,o=this.options,i=o.colors,r=o.color,a=o.value,s=bN(a)?a:t;if(i)for(var l=0;l<i.length;l++){var c=i[l],d=c.color,u=c.from;void 0===u&&(u=t);var p=c.to;if(void 0===p&&(p=n),u<=s&&s<=p)return d}return r},t.prototype.reflow=function(){this.render(),this.bbox=this.elements.bbox()},t}(AJ);RP(mQ,{animation:{type:lJ,duration:$X}});const fQ=mQ;var gQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initTheme=function(t){e.prototype._initTheme.call(this,t),this.options.color=this.options.color||(this.theme.pointer||{}).color},t.prototype._createModel=function(){var e=this.options,t=this.scale=new uQ(e.scale,this.contextService),n=new fQ(t,_N({},{colors:e.colors,color:e.color,value:e.value,opacity:e.opacity,animation:{transitions:e.transitions}}));this.pointers=[n]},t.prototype._buildPointers=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.render(),n.value(n.options.value)}},t.prototype._setValueOptions=function(e){this.options.value=e},t.prototype.currentColor=function(){var e=this.pointers[0];if(e)return e.currentColor()},t.prototype.centerLabelPosition=function(e,t){var n=this.getSize(),o=this.scale.arc.center,i=o.x-e/2,r=o.y-t/2;if(e<n.width){var a=i+e;i=Math.max(i,0),a>n.width&&(i-=a-n.width)}if(t<n.height){var s=this.scale.bbox,l=s.bottomRight().y,c=r+t;r=Math.max(r,s.origin.y),c>l&&(r-=c-l)}return{left:i,top:r}},t}(cQ);!function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._createModel=function(){var t=this.options.scale;"number"!==typeof t.startAngle&&(t.startAngle=90),t.endAngle=t.startAngle+360,e.prototype._createModel.call(this)}}(gQ);var vQ=function(e){function t(t){e.call(this),this.setOptions(t),this.initProperties()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){},t.prototype.setOptions=function(e){this.options=Object.assign({},this.options,e),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0},t.prototype.encode=function(e,t,n){var o=bP(e)?String(e):e;return this.initValue(o,t,n),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}},t.prototype.initValue=function(){},t.prototype.addQuietZone=function(){this.pattern.push(this.options.quietZoneLength||10)},t.prototype.addData=function(){},t.prototype.invalidCharacterError=function(e){throw new Error('Character "'+e+'" is not valid for symbology '+this.name+".")},t}(aT);RP(vQ,{quietZoneLength:10,addQuietZone:!0,addCheckSum:!0});var yQ=Object.assign,xQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),yQ(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})},t.prototype.initValue=function(e,t){this.pattern=[],this.value=e,this.width=t,this.totalUnits=0},t.prototype.addData=function(){var e=this.value;this.addPattern(this.START);for(var t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},t.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},t.prototype.addCheckSum=function(){var e=this.value,t=e.length,n=this.getWeightedSum(e,t,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(n),this.addPattern(this.characterMap[n]),++t>=this.kCheckSumMinLength){var o=(n+this.getWeightedSum(e,t,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=o,this.addPattern(this.characterMap[o])}},t.prototype.getWeightedSum=function(e,t,n){for(var o=0,i=0;i<e.length;i++)o+=this.weightedValue(this.getValue(e.charAt(i)),t,i,n);return o},t.prototype.weightedValue=function(e,t,n,o){return((t-n)%o||o)*e},t.prototype.getValue=function(e){return isNaN(e)?(e!==this.DASH&&this.invalidCharacterError(e),this.DASH_VALUE):parseInt(e,10)},t.prototype.addCharacter=function(e){var t=this.getValue(e),n=this.characterMap[t];this.addPattern(n)},t.prototype.addPattern=function(e){for(var t,n=0;n<e.length;n++)t=parseInt(e.charAt(n),10),this.pattern.push(t),this.totalUnits+=t},t}(vQ);RP(xQ,{addCheckSum:!0});var bQ=Object.assign,wQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),bQ(this,{minBaseUnitLength:.7})},t.prototype.addData=function(){var e=this.value;this.addStart();for(var t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()},t.prototype.addCharacter=function(e){var t=this.characterMap[e];t||this.invalidCharacterError(e),this.addBase(t)},t.prototype.addBase=function(){},t}(vQ),kQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),bQ(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})},t.prototype.initValue=function(e,t,n){this.width=t,this.height=n,this.value=e,this.dataLength=e.length,this.pattern=[],this.patternString=""},t.prototype.prepareValues=function(){var e,t=this.minBaseUnitLength,n=this.minRatio,o=Math.ceil(Math.max(.15*this.width,24)),i=this.maxRatio;if(this.height<o)throw new Error("Insufficient height for Code39 encoding: the current height is "+this.height+"px and the minimum height is "+o+"px.");for(e=this.getBaseUnit(i);e<t&&i>n;)i=parseFloat((i-.1).toFixed(1)),e=this.getBaseUnit(i);if(e<t){var r=Math.ceil(this.getBaseWidth(n)*t);throw new Error("Insufficient width for Code39 encoding: the current width is "+this.width+'px and the minimum width for value "'+this.value+'" is '+r+"px.")}this.ratio=i,this.baseUnit=e,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,i).split(this.splitCharacter))},t.prototype.getBaseUnit=function(e){return this.width/this.getBaseWidth(e)},t.prototype.getBaseWidth=function(e){var t=3*(e+2);return this.quietZoneLength+t*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)},t.prototype.addStart=function(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()},t.prototype.addBase=function(e){this.addPattern(e.pattern),this.addCharacterGap()},t.prototype.addStop=function(){this.addPattern(this.characterMap.START.pattern)},t.prototype.addPattern=function(e){for(var t=0;t<e.length;t++)this.patternString+=this.patternMappings[e.charAt(t)]},t.prototype.addCharacterGap=function(){this.patternString+=this.gapWidth+this.splitCharacter},t}(wQ);RP(kQ,{addCheckSum:!1});var CQ={addCharacter:function(e){this.characterMap[e]?this.addBase(this.characterMap[e]):e.charCodeAt(0)>127?this.invalidCharacterError(e):this.addExtended(e.charCodeAt(0))},addExtended:function(e){for(var t,n=this,o=0;o<this.extendedMappings.length;o++)if(t=n.extendedMappings[o].call(n,e)){for(var i=0;i<t.length;i++){var r=t[i];n.addBase(r)}return void(n.dataLength+=t.length-1)}},extendedMappings:[function(e){if(97<=e&&e<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(e-32)]]},function(e){if(33<=e&&e<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(e+32)]]},function(e){if(1<=e&&e<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(e+64)]]},function(e){var t,n,o=this;if(this.specialAsciiCodes[e]){t=[];for(var i=0;i<this.specialAsciiCodes[e].length;i++)t.push(o.characterMap[o.shiftCharacters[3]]),t.push(o.characterMap[o.specialAsciiCodes[e][i]])}else n=6*Math.floor(e/32)+(e-27)%32+64,t=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(n)]];return t}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},SQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),_N(this,CQ,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})},t}(kQ),IQ=Object.assign,EQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),IQ(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})},t.prototype.initValue=function(e,t,n){this.value=e,this.width=t,this.height=n,this.pattern=[],this.values=[],this.dataLength=e.length},t.prototype.prepareValues=function(){var e=Math.ceil(Math.max(.15*this.width,24));if(this.height<e)throw new Error("Insufficient height for Code93 encoding: the current height is "+this.height+"px, the minimum required height is "+e+"px.");if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength){var t=Math.ceil(this.minBaseUnitLength*(this.width/this.baseUnit));throw new Error("Insufficient width for Code93 encoding: the current width is "+this.width+'px and the minimum required width for value "'+this.value+'" is '+t+"px.")}},t.prototype.setBaseUnit=function(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)},t.prototype.addStart=function(){var e=this.characterMap.START.pattern;this.addPattern(e)},t.prototype.addStop=function(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)},t.prototype.addBase=function(e){this.addPattern(e.pattern),this.values.push(e.value)},t.prototype.pushCheckSum=function(){var e,t=this,n=this._getCheckValues();this.checksum=n.join("");for(var o=0;o<n.length;o++)e=t.characterMap[t._findCharacterByValue(n[o])],t.addPattern(e.pattern)},t.prototype._getCheckValues=function(){var e,t,n=this,o=this.values,i=o.length,r=0;for(t=i-1;t>=0;t--)r+=n.weightedValue(o[t],i-t,n.cCheckSumTotal);for(e=r%this.checkSumMod,r=this.weightedValue(e,1,this.kCheckSumTotal),t=i-1;t>=0;t--)r+=n.weightedValue(o[t],i-t+1,n.kCheckSumTotal);return[e,r%this.checkSumMod]},t.prototype._findCharacterByValue=function(e){for(var t in this.characterMap)if(this.characterMap[t].value===e)return t},t.prototype.weightedValue=function(e,t,n){return(t%n||n)*e},t.prototype.addPattern=function(e){for(var t,n=0;n<e.length;n++)t=parseInt(e.charAt(n),10),this.pattern.push(t)},t}(wQ),jQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),_N(this,CQ,{name:"Code 93 extended",pushCheckSum:function(){var e,t=this,n=this._getCheckValues();this.checksum=n.join("");for(var o=0;o<n.length;o++)if(e=n[o],t.shiftValuesAsciiCodes[e])t.addExtended(t.shiftValuesAsciiCodes[e]);else{var i=t._findCharacterByValue(e);t.addPattern(t.characterMap[i].pattern)}}})},t}(EQ),AQ=/^\d+$/,_Q=Object.assign,DQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),_Q(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})},t.prototype.initValue=function(e,t,n){this.height=n,this.width=t,this.baseHeight=n/2,this.value=e.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()},t.prototype.addData=function(){var e=this.value;this.addPattern(this.START);for(var t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()},t.prototype.addCharacter=function(e){var t=this.characterMap[e];this.checkSum+=parseInt(e,10),this.addPattern(t)},t.prototype.addCheckSum=function(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)},t.prototype.setBaseUnit=function(){this.baseUnit=this.width/(10*(this.value.length+1)+3+this.quietZoneLength)},t.prototype.validate=function(e){if(AQ.test(e)||this.invalidCharacterError(e.match(/[^0-9]/)[0]),!YN(e.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(",")+".")},t.prototype.addPattern=function(e){for(var t,n=this,o=0;o<e.length;o++)t=n.height-n.baseHeight*e.charAt(o),n.pattern.push({width:1,y1:t,y2:n.height}),n.pattern.push(1)},t}(vQ),NQ=/^\d+$/,TQ=/^[a-z0-9]+$/i,PQ=Object.assign,MQ=function(e){function t(t){e.call(this),this.encoding=t,this.initProperties()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){},t.prototype.addStart=function(){},t.prototype.is=function(){},t.prototype.isCode=function(){return!1},t.prototype.move=function(){},t.prototype.pushState=function(){},t}(aT),OQ=function(e){function t(t,n){e.call(this,t),this.states=n,this._initMoves(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),_N(this,{FNC4:"FNC4",SHIFT:98})},t.prototype.addStart=function(){this.encoding.addPattern(this.START)},t.prototype.is=function(e,t){var n=e.charCodeAt(t);return this.isCode(n)},t.prototype.move=function(e){for(var t=0;!this._moves[t].call(this,e)&&t<this._moves.length;)t++},t.prototype.pushState=function(e){var t,n=this.states,o=e.value,i=o.length;if(YN("C",n)){var r=o.substr(e.index).match(/\d{4,}/g);r&&(i=o.indexOf(r[0],e.index))}for(;(t=e.value.charCodeAt(e.index))>=0&&this.isCode(t)&&e.index<i;)this.encoding.addPattern(this.getValue(t)),e.index++},t.prototype._initMoves=function(e){this._moves=[],YN(this.FNC4,e)&&this._moves.push(this._moveFNC),YN(this.shiftKey,e)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)},t.prototype._moveFNC=function(e){if(e.fnc)return e.fnc=!1,e.previousState===this.key},t.prototype._shiftState=function(e){if(e.previousState===this.shiftKey&&(e.index+1>=e.value.length||this.encoding[this.shiftKey].is(e.value,e.index+1)))return this.encoding.addPattern(this.SHIFT),e.shifted=!0,!0},t.prototype._moveState=function(){return this.encoding.addPattern(this.MOVE),!0},t}(MQ),RQ={};RQ.A=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),PQ(this,{key:"A",shiftKey:"B",MOVE:101,START:103})},t.prototype.isCode=function(e){return 0<=e&&e<96},t.prototype.getValue=function(e){return e<32?e+64:e-32},t}(OQ),RQ.B=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),PQ(this,{key:"B",shiftKey:"A",MOVE:100,START:104})},t.prototype.isCode=function(e){return 32<=e&&e<128},t.prototype.getValue=function(e){return e-32},t}(OQ),RQ.C=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),PQ(this,{key:"C",MOVE:99,START:105})},t.prototype.addStart=function(){this.encoding.addPattern(this.START)},t.prototype.is=function(e,t){var n=qQ(e,t,4);return(t+4<=e.length||2===e.length)&&NQ.test(n)},t.prototype.move=function(){this.encoding.addPattern(this.MOVE)},t.prototype.pushState=function(e){for(var t;(t=qQ(e.value,e.index,2))&&NQ.test(t)&&2===t.length;)this.encoding.addPattern(parseInt(t,10)),e.index+=2},t.prototype.getValue=function(e){return e},t}(MQ),RQ.FNC4=function(e){function t(t,n){e.call(this,t),this._initSubStates(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),PQ(this,{key:"FNC4",dependentStates:["A","B"]})},t.prototype.addStart=function(e){var t=e.value.charCodeAt(0)-128,n=this._getSubState(t);this.encoding[n].addStart()},t.prototype.is=function(e,t){var n=e.charCodeAt(t);return this.isCode(n)},t.prototype.isCode=function(e){return 128<=e&&e<256},t.prototype.pushState=function(e){var t,n=this._initSubState(e),o=this.encoding,i=n.value.length;if(e.index+=i,i<3)for(;n.index<i;n.index++)t=n.value.charCodeAt(n.index),n.state=this._getSubState(t),n.previousState!==n.state&&(n.previousState=n.state,o[n.state].move(n)),o.addPattern(o[n.state].MOVE),o.addPattern(o[n.state].getValue(t));else n.state!==n.previousState&&o[n.state].move(n),this._pushStart(n),o.pushData(n,this.subStates),e.index<e.value.length&&this._pushStart(n);e.fnc=!0,e.state=n.state},t.prototype._pushStart=function(e){this.encoding.addPattern(this.encoding[e.state].MOVE),this.encoding.addPattern(this.encoding[e.state].MOVE)},t.prototype._initSubState=function(e){var t={value:this._getAll(e.value,e.index),index:0};return t.state=this._getSubState(t.value.charCodeAt(0)),t.previousState=e.previousState===this.key?t.state:e.previousState,t},t.prototype._initSubStates=function(e){this.subStates=[];for(var t=0;t<e.length;t++)YN(e[t],this.dependentStates)&&this.subStates.push(e[t])},t.prototype._getSubState=function(e){for(var t=this,n=0;n<this.subStates.length;n++)if(t.encoding[t.subStates[n]].isCode(e))return t.subStates[n]},t.prototype._getAll=function(e,t){for(var n,o="",i=t;(n=e.charCodeAt(i++))&&this.isCode(n);)o+=String.fromCharCode(n-128);return o},t}(MQ),RQ.FNC1=function(e){function t(t,n){e.call(this,t),this.states=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),PQ(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})},t.prototype.addStart=function(){this.encoding[this.startState].addStart()},t.prototype.is=function(){return YN(this.key,this.states)},t.prototype.pushState=function(e){var t,n,o,i=this,r=this.encoding,a=e.value.replace(/\s/g,""),s=new RegExp("["+this.startAI+this.endAI+"]","g"),l=e.index,c={state:this.startState};r.addPattern(this.START);for(;;){if(c.index=0,(t=(o=a.charAt(l)===i.startAI?2:0)>0?i.getBySeparator(a,l):i.getByLength(a,l)).ai.length)n=l+o+t.id.length+t.ai.length;else if((n=a.indexOf(i.startAI,l+1))<0){if(l+t.ai.max+t.id.length+o<a.length)throw new Error("Separators are required after variable length identifiers");n=a.length}if(c.value=a.substring(l,n).replace(s,""),i.validate(t,c.value),r.pushData(c,i.dependentStates),n>=a.length)break;l=n,c.state!==i.startState&&(r[i.startState].move(c),c.state=i.startState),t.ai.length||r.addPattern(i.START)}e.index=e.value.length},t.prototype.validate=function(e,t){var n=t.substr(e.id.length),o=e.ai;if(!o.type&&!NQ.test(n))throw new Error("Application identifier "+e.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"===o.type&&!TQ.test(n))throw new Error("Application identifier "+e.id+" is alphanumeric only but contains non alphanumeric character(s).");if(o.length&&o.length!==n.length)throw new Error("Application identifier "+e.id+" must be "+o.length+" characters long.");if(o.min&&o.min>n.length)throw new Error("Application identifier "+e.id+" must be at least "+o.min+" characters long.");if(o.max&&o.max<n.length)throw new Error("Application identifier "+e.id+" must be at most "+o.max+" characters long.")},t.prototype.getByLength=function(e,t){for(var n,o,i=2;i<=4;i++)if(n=qQ(e,t,i),o=this.getApplicationIdentifier(n)||this.getApplicationIdentifier(n.substring(0,n.length-1)))return{id:n,ai:o};this.unsupportedAIError(n)},t.prototype.unsupportedAIError=function(e){throw new Error("'"+e+"' is not a supported Application Identifier")},t.prototype.getBySeparator=function(e,t){var n=e.indexOf(this.startAI,t),o=e.indexOf(this.endAI,n),i=e.substring(n+1,o),r=this.getApplicationIdentifier(i)||this.getApplicationIdentifier(i.substr(i.length-1));return r||this.unsupportedAIError(i),{ai:r,id:i}},t.prototype.getApplicationIdentifier=function(e){var t=this.applicationIdentifiers,n=t.multiKey;if(t[e])return t[e];for(var o=0;o<n.length;o++){if(n[o].ids&&YN(e,n[o].ids))return n[o].type;if(n[o].ranges)for(var i=n[o].ranges,r=0;r<i.length;r++)if(i[r][0]<=e&&e<=i[r][1])return n[o].type}},t}(MQ);var LQ=function(e){function t(t){e.call(this,t),this._initStates()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),PQ(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})},t.prototype._initStates=function(){for(var e=this,t=0;t<this.states.length;t++)e[e.states[t]]=new RQ[e.states[t]](e,e.states)},t.prototype.initValue=function(e,t,n){this.pattern=[],this.value=e,this.width=t,this.height=n,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1},t.prototype.addData=function(){var e={value:this.value,index:0,state:""};0!==this.value.length&&(e.state=e.previousState=this.getNextState(e,this.states),this.addStart(e),this.pushData(e,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())},t.prototype.pushData=function(e,t){for(var n=this;n[e.state].pushState(e),!(e.index>=e.value.length);)if(e.shifted){var o=e.state;e.state=e.previousState,e.previousState=o,e.shifted=!1}else e.previousState=e.state,e.state=n.getNextState(e,t),n[e.state].move(e)},t.prototype.addStart=function(e){this[e.state].addStart(e),this.position=1},t.prototype.addCheckSum=function(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)},t.prototype.addStop=function(){this.addPattern(this.STOP)},t.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},t.prototype.addPattern=function(e){for(var t,n=this.characterMap[e].toString(),o=0;o<n.length;o++)t=parseInt(n.charAt(o),10),this.pattern.push(t),this.totalUnits+=t;this.checkSum+=e*this.position++},t.prototype.getNextState=function(e,t){for(var n=0;n<t.length;n++)if(this[t[n]].is(e.value,e.index))return t[n];this.invalidCharacterError(e.value.charAt(e.index))},t}(vQ),FQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),PQ(this,{name:"Code 128 A",states:["A"]})},t}(LQ),zQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),PQ(this,{name:"Code 128 B",states:["B"]})},t}(LQ),BQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),PQ(this,{name:"Code 128 C",states:["C"]})},t}(LQ),VQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),PQ(this,{name:"Code 128",states:["C","B","A","FNC4"]})},t}(LQ),HQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),PQ(this,{name:"Code GS1-128",states:["FNC1","C","B"]})},t}(LQ);function qQ(e,t,n){return e.substring(t,t+n)}var UQ=Object.assign,GQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),UQ(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:JQ})},t.prototype.initValue=function(e,t){this.pattern=[],this.value=e,this.checkSumLength=0,this.width=t},t.prototype.setBaseUnit=function(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)},t.prototype.addData=function(){var e=this.value;this.addPattern(this.START);for(var t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},t.prototype.addCharacter=function(e){var t=this.characterMap[e];t||this.invalidCharacterError(e),this.addPattern(t)},t.prototype.addPattern=function(e){for(var t=0;t<e.length;t++)this.pattern.push(parseInt(e.charAt(t),10))},t.prototype.addCheckSum=function(){var e=this,t=this.checkSums[this.checkSumType].call(this.checkSums,this.value);this.checksum=t.join("");for(var n=0;n<t.length;n++)e.checkSumLength++,e.addPattern(e.characterMap[t[n]])},t}(vQ),WQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),UQ(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})},t}(GQ),KQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),UQ(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})},t}(GQ),YQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),UQ(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})},t}(GQ),XQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),UQ(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})},t}(GQ),JQ={Modulo10:function(e){var t,n,o,i=[0,""],r=e.length%2;for(t=0;t<e.length;t++)i[(t+r)%2]+=parseInt(e.charAt(t),10);for(o=i[0],n=(2*i[1]).toString(),t=0;t<n.length;t++)o+=parseInt(n.charAt(t),10);return[(10-o%10)%10]},Modulo11:function(e){for(var t,n=0,o=e.length,i=0;i<o;i++)n+=(((o-i)%6||6)+1)*e.charAt(i);return 10!==(t=(11-n%11)%11)?[t]:[1,0]},Modulo11Modulo10:function(e){var t,n=this.Modulo11(e);return t=e+n[0],n.concat(this.Modulo10(t))},Modulo10Modulo10:function(e){var t,n=this.Modulo10(e);return t=e+n[0],n.concat(this.Modulo10(t))}},QQ=Object.assign,ZQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),QQ(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})},t.prototype.initValue=function(e,t,n){var o=String(e);if(12!==o.length||/\D/.test(o))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=n,this.baseUnit=t/(95+this.quietZoneLength),this.value=o,this.checksum=this.calculateChecksum(),this.leftKey=o[0],this.leftPart=o.substr(1,6),this.rightPart=o.substr(7)+this.checksum},t.prototype.addData=function(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)},t.prototype.addSide=function(e,t){for(var n=this,o=0;o<e.length;o++)t&&parseInt(n.keyTable[t].charAt(o),10)?n.addPieces(Array.prototype.slice.call(n.characterMap.digits[e.charAt(o)]).reverse(),!0):n.addPieces(n.characterMap.digits[e.charAt(o)],!0)},t.prototype.addPieces=function(e,t){for(var n=this,o=0;o<e.length;o++)t?n.pattern.push({y1:0,y2:.95*n.options.height,width:e[o]}):n.pattern.push(e[o])},t.prototype.calculateChecksum=function(){for(var e=0,t=0,n=this.value.split("").reverse().join(""),o=0;o<n.length;o++)o%2?t+=parseInt(n.charAt(o),10):e+=parseInt(n.charAt(o),10);return(10-(3*e+t)%10)%10},t}(vQ),$Q=Object.assign,eZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),$Q(this,{name:"EAN 8"})},t.prototype.initValue=function(e,t,n){if(7!==e.length||/\D/.test(e))throw new Error("Invalid value provided");this.value=e,this.options.height=n,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=t/(67+this.quietZoneLength)},t}(ZQ),tZ={code11:xQ,code39:kQ,code39extended:SQ,code93:EQ,code93extended:jQ,code128:VQ,code128a:FQ,code128b:zQ,code128c:BQ};function nZ(e,t){var n=e.style.display;"canvas"===t&&(e.style.display="block");var o={width:e.clientWidth,height:e.clientHeight};return e.style.display=n,o}tZ["gs1-128"]=HQ,tZ.msimod10=WQ,tZ.msimod11=KQ,tZ.msimod1010=YQ,tZ.msimod1110=XQ,tZ.postnet=DQ,tZ.ean8=eZ,tZ.ean13=ZQ;var oZ=function(e){function t(t,n,o){void 0===o&&(o=gM),e.call(this),this.options=_N({},this.options,n),this.element=t,this.onError=o,this._initElement(),this._initSurface(),this._setOptions(n),n&&bP(n.value)&&this.redraw()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this._destroySurface()},t.prototype._initElement=function(){hN(this.element,"k-barcode")},t.prototype._initSurface=function(){var e=this.options,t=this.surface;t&&t.options.type===e.renderAs||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},t.prototype._createSurface=function(){return BW.create(this.surfaceElement,{type:this.options.renderAs})},t.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},t.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))},t.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},t.prototype.setOptions=function(e){this._setOptions(e),this._initSurface(),this.redraw()},t.prototype.redraw=function(){var e=this._getSize();this.surface.clear(),this.surface.setSize({width:e.width,height:e.height}),this.createVisual(),this.surface.draw(this.visual)},t.prototype.getSize=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},t.prototype._resize=function(){this.redraw()},t.prototype.createVisual=function(){this.visual=this._render()},t.prototype._render=function(){var e,t,n=this.options,o=n.value,i=n.text,r=ON(i.margin),a=this._getSize(),s=n.border||{},l=this.encoding,c=new IO(0,0,a.width,a.height).unpad(s.width).unpad(n.padding),d=c.height(),u=new iL;this.contentBox=c,u.append(this._getBackground(a)),i.visible&&(d-=$T(o,{font:i.font}).height+r.top+r.bottom);try{e=l.encode(o,c.width(),d)}catch(p){return this.onError(p),u}return i.visible&&(t=o,n.checksum&&bP(l.checksum)&&(t+=" "+l.checksum),u.append(this._getText(t))),this.barHeight=d,this._bandsGroup=this._getBands(e.pattern,e.baseUnit),u.append(this._bandsGroup),u},t.prototype.exportVisual=function(){return this._render()},t.prototype._getSize=function(){var e=nZ(this.element,this.options.renderAs),t=new bO(300,100);return e.width>0&&(t.width=e.width),e.height>0&&(t.height=e.height),this.options.width&&(t.width=this.options.width),this.options.height&&(t.height=this.options.height),t},t.prototype.value=function(e){if(!bP(e))return this.options.value;this.options.value=String(e),this.redraw()},t.prototype._getBands=function(e,t){for(var n,o,i=this.contentBox,r=i.x1,a=new iL,s=0;s<e.length;s++){if(n=(o=DN(e[s])?e[s]:{width:e[s],y1:0,y2:this.barHeight}).width*t,s%2){var l=kO.fromPoints(new yO(r,o.y1+i.y1),new yO(r+n,o.y2+i.y1)),c=GR.fromRect(l,{fill:{color:this.options.color},stroke:null});a.append(c)}r+=n}return a},t.prototype._getBackground=function(e){var t=this.options,n=t.border||{},o=new IO(0,0,e.width,e.height).unpad(n.width/2);return GR.fromRect(o.toRect(),{fill:{color:t.background},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType}})},t.prototype._getText=function(e){var t=this.options.text,n=this._textbox=new wF(e,{font:t.font,color:t.color,align:"center",vAlign:"bottom",margin:t.margin});return n.reflow(this.contentBox),n.renderVisual(),n.visual},t.prototype._setOptions=function(e){if(this.type=(e.type||this.options.type).toLowerCase(),"upca"===this.type&&(this.type="ean13",e.value="0"+e.value),"upce"===this.type&&(this.type="ean8",e.value="0"+e.value),!tZ[this.type])throw new Error("Encoding '"+this.type+"' is not supported.");this.encoding=new tZ[this.type],this.options=_N({},this.options,e)},t}(aT);RP(oZ,{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});class iZ extends($R($O,["rect"])){get nodeType(){return"Image"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new kO;super(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.src(e),this.rect(t)}src(e){return void 0!==e?(this.options.set("src",e),this):this.options.get("src")}bbox(e){const t=gO(this.currentTransform(e));return this._rect.bbox(t)}rawBBox(){return this._rect.bbox()}_containsPoint(e){return this._rect.containsPoint(e)}_hasFill(){return this.src()}}const rZ=iZ;var aZ=Object.assign;function sZ(e,t){for(var n=[],o=0;o<e.length;)n.push(e.substring(o,o+t)),o+=t;return n}function lZ(e,t){var n=Number(e).toString(2);return n.length<t&&(n=new Array(t-n.length+1).join(0)+n),n}function cZ(e){return parseInt(e,2)}var dZ=function(e){function t(t){e.call(this),this.matrix=t,this.row=t.length-1,this.column=t.length-1,this.startColumn=this.column,this.dir=-1,this.c=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.move=function(){this.row+=this.dir*this.c,this.c^=1,this.column=this.startColumn-this.c},t.prototype.getNextCell=function(){for(var e=this;void 0!==this.matrix[this.row][this.column];)e.move(),(e.row<0||e.row>=e.matrix.length)&&(e.dir=-e.dir,e.startColumn-=8!==e.startColumn?2:3,e.column=e.startColumn,e.row=e.dir<0?e.matrix.length-1:0);return{row:this.row,column:this.column}},t.prototype.getNextRemainderCell=function(){if(this.move(),void 0===this.matrix[this.row][this.column])return{row:this.row,column:this.column}},t}(aT),uZ=function(e){function t(t,n){e.call(this),this.dataString=t,this.version=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(aT),pZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getEncodingResult=function(e,t){var n=function(e){var t,n=[],o=0,i=e;n.push(JZ(i,LZ,FZ,zZ,t)),t=n[0].mode,i=i.substr(n[0].modeString.length);for(;i.length>0;){var r=JZ(i,BZ,VZ,HZ,t);r.mode!==t?(t=r.mode,n.push(r),o++):n[o].modeString+=r.modeString,i=i.substr(r.modeString.length)}return n}(e),o=function(e){for(var t=0,n=0;n<e.length;n++)t+=vZ[e[n].mode].getStringBitsLength(e[n].modeString.length);return Math.ceil(t/8)}(n),i=QZ(o,t),r=function(e,t){for(var n="",o=0;o<e.length;o++)n+=vZ[e[o].mode].encode(e[o].modeString,t);return n}(n,i);return new uZ(r,i)},t}(aT),hZ=function(e){function t(){e.call(this),this.initProperties()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){aZ(this,{modeIndicator:"",bitsInCharacterCount:[]})},t.prototype.getVersionIndex=function(e){return e<10?0:e>26?2:1},t.prototype.getBitsCharacterCount=function(e){return this.bitsInCharacterCount[this.getVersionIndex(e||40)]},t.prototype.getModeCountString=function(e,t){return this.modeIndicator+lZ(e,this.getBitsCharacterCount(t))},t.prototype.encode=function(){},t.prototype.getStringBitsLength=function(){},t.prototype.getValue=function(){},t}(aT),mZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),aZ(this,{bitsInCharacterCount:[10,12,14],modeIndicator:"0001"})},t.prototype.getValue=function(e){return parseInt(e,10)},t.prototype.encode=function(e,t){var n,o=sZ(e,3),i=this.getModeCountString(e.length,t);for(n=0;n<o.length-1;n++)i+=lZ(o[n],10);return i+lZ(o[n],1+3*o[n].length)},t.prototype.getStringBitsLength=function(e,t){var n=e%3;return 4+this.getBitsCharacterCount(t)+10*Math.floor(e/3)+3*n+(0===n?0:1)},t}(hZ),fZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),aZ(this,{characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010"})},t.prototype.getValue=function(e){return this.characters[e]},t.prototype.encode=function(e,t){var n,o=sZ(e,2),i=this.getModeCountString(e.length,t);for(n=0;n<o.length-1;n++)i+=lZ(45*this.getValue(o[n].charAt(0))+this.getValue(o[n].charAt(1)),11);return i+lZ(2===o[n].length?45*this.getValue(o[n].charAt(0))+this.getValue(o[n].charAt(1)):this.getValue(o[n].charAt(0)),1+5*o[n].length)},t.prototype.getStringBitsLength=function(e,t){return 4+this.getBitsCharacterCount(t)+11*Math.floor(e/2)+e%2*6},t}(hZ),gZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),aZ(this,{bitsInCharacterCount:[8,16,16],modeIndicator:"0100"})},t.prototype.getValue=function(e){var t=e.charCodeAt(0);if(t<=127||160<=t&&t<=255)return t;throw new Error('Unsupported character in QR Code: "'+e+'".')},t.prototype.encode=function(e,t){for(var n=this.getModeCountString(e.length,t),o=0;o<e.length;o++)n+=lZ(this.getValue(e.charAt(o)),8);return n},t.prototype.getStringBitsLength=function(e,t){return 4+this.getBitsCharacterCount(t)+8*e},t}(hZ),vZ={};vZ.numeric=new mZ,vZ.alphanumeric=new fZ,vZ.byte=new gZ;var yZ=function(e){function t(){e.call(this),this.initProperties(),this.mode=vZ[this.encodingMode]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){aZ(this,{encodingMode:"byte",utfBOM:"111011111011101110111111",initialModeCountStringLength:20,ranges:[128,2048,65536,2097152,67108864]})},t.prototype.getEncodingResult=function(e,t){var n=this.encode(e),o=QZ(this.getDataCodewordsCount(n),t),i=this.mode.getModeCountString(n.length/8,o)+n;return new uZ(i,o)},t.prototype.getDataCodewordsCount=function(e){var t=e.length;return Math.ceil((this.initialModeCountStringLength+t)/8)},t.prototype.encode=function(e){for(var t=this.utfBOM,n=0;n<e.length;n++)t+=this.encodeCharacter(e.charCodeAt(n));return t},t.prototype.encodeCharacter=function(e){var t=this.getBytesCount(e),n=t-1,o="";if(1===t)o=lZ(e,8);else{for(var i=8-t,r=0;r<n;r++)o=lZ(e>>6*r&63|128,8)+o;o=(e>>6*n|255>>i<<i).toString(2)+o}return o},t.prototype.getBytesCount=function(e){for(var t=this.ranges,n=0;n<t.length;n++)if(e<t[n])return n+1},t}(aT),xZ=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],bZ="0000",wZ="numeric",kZ="alphanumeric",CZ="byte",SZ={1:0},IZ={0:1},EZ={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},jZ=[1,0,1,1,1],AZ=[1,0,1],_Z={L:"01",M:"00",Q:"11",H:"10"},DZ=["11101100","00010001"],NZ=[function(e,t){return(e+t)%2===0},function(e,t){return e%2===0},function(e,t){return t%3===0},function(e,t){return(e+t)%3===0},function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2===0},function(e,t){return e*t%2+e*t%3===0},function(e,t){return(e*t%2+e*t%3)%2===0},function(e,t){return((e+t)%2+e*t%3)%2===0}],TZ=/^\d+/,PZ="A-Z0-9 $%*+./:-",MZ=new RegExp("^[A-Z $%*+./:-]+"),OZ=new RegExp("^["+PZ+"]+"),RZ=new RegExp("^[^"+PZ+"]+"),LZ=8,FZ=5,zZ=8,BZ=17,VZ=9,HZ=16,qZ=[[1,0],[1,25,0]];function UZ(e,t,n,o){for(var i=0;i<e.length;i++)e[i][n][o]=t}function GZ(e,t,n,o){for(var i=0;i<NZ.length;i++)e[i][n][o]=NZ[i](n,o)?1^t:parseInt(t,10)}function WZ(e,t){for(var n=[],o=e.length-2;o>=0;o--)n[o]=e[o]^t[o];return n}function KZ(e,t){for(var n=[],o=0;o<e.length;o++)for(var i=0;i<t.length;i++)void 0===n[o+i]?n[o+i]=(e[o]+(t[i]>=0?t[i]:0))%255:n[o+i]=SZ[IZ[n[o+i]]^IZ[(e[o]+t[i])%255]];return n}function YZ(e,t){var n=[],o=e.length-1;do{n[o]=IZ[(e[o]+t)%255],o--}while(void 0!==e[o]);return n}function XZ(e,t){var n,o,i=qZ[t-1],r=new Array(t).concat(e),a=new Array(r.length-i.length).concat(i),s=e.length,l=[];for(o=0;o<s;o++)n=YZ(a,SZ[r[r.length-1]]),a.splice(0,1),r=WZ(n,r);for(o=r.length-1;o>=0;o--)l[t-1-o]=lZ(r[o],8);return l}function JZ(e,t,n,o,i){var r,a,s=TZ.exec(e),l=s?s[0]:"",c=MZ.exec(e),d=c?c[0]:"",u=OZ.exec(e),p=u?u[0]:"";return l&&(l.length>=t||e.length===l.length||l.length>=n&&!OZ.test(e.charAt(l.length)))?(r=wZ,a=l):p&&(e.length===p.length||p.length>=o||i===kZ)?(r=kZ,a=l||d):(r=CZ,a=p?p+RZ.exec(e.substring(p.length))[0]:RZ.exec(e)[0]),{mode:r,modeString:a}}function QZ(e,t){var n=0,o=xZ.length-1,i=Math.floor(xZ.length/2);do{e<xZ[i][t].totalDataCodewords?o=i:n=i,i=n+Math.floor((o-n)/2)}while(o-n>1);return e<=xZ[n][t].totalDataCodewords?i+1:o+1}function ZZ(e,t,n){var o=cZ(t),i=t.length-1,r=e<<i,a=lZ(e,n-i),s=function(e,t){var n=t.toString(2).length,o=e.toString(2).length,i=e;do{o=(i^=t<<o-n).toString(2).length}while(o>=n);return i}(r,o);return s=a+lZ(s,i)}function $Z(e,t){return parseInt(e.charAt(t),10)}function e$(e,t){var n,o,i=e[0],r=0,a=t.length;for(n=0,o=8;n<=8;n++)6!==n&&UZ(e,$Z(t,a-1-r++),n,o);for(n=8,o=7;o>=0;o--)6!==o&&UZ(e,$Z(t,a-1-r++),n,o);for(r=0,o=i.length-1,n=8;o>=i.length-8;o--)UZ(e,$Z(t,a-1-r++),n,o);for(UZ(e,1,i.length-8,8),n=i.length-7,o=8;n<i.length;n++)UZ(e,$Z(t,a-1-r++),n,o)}function t$(e,t){for(var n,o,i,r=e[0].length,a=r-11,s=r-11,l=0;l<t.length;l++)n=Math.floor(l/3),o=l%3,UZ(e,i=$Z(t,t.length-l-1),0+n,a+o),UZ(e,i,s+o,0+n)}function n$(e,t,n,o){for(var i,r=t.length+2,a=t.length+1,s=0;s<t.length;s++)for(var l=s;l<r-s;l++)UZ(e,i=t[s],n+l,o+s),UZ(e,i,n+s,o+l),UZ(e,i,n+a-l,o+a-s),UZ(e,i,n+a-s,o+a-l)}function o$(e,t,n,o){var i=n,r=o,a=e[0];do{UZ(e,0,i,o),UZ(e,0,n,r),i+=t[0],r+=t[1]}while(i>=0&&i<a.length)}function i$(e,t,n,o,i){t[e][o]=(t[e][o]<<1^i)%128,93===t[e][o]&&(n[e]+=40)}function r$(e,t,n,o,i,r){n[e][r]===o?i[e][r]++:(n[e][r]=o,i[e][r]>=5&&(t[e]+=3+i[e][r]-5),i[e][r]=1)}function a$(e,t){var n=Math.floor(e/t*100),o=n%5,i=Math.abs(n-o-50),r=Math.abs(n+5-o-50);return 10*Math.min(i/5,r/5)}function s$(e,t,n){var o=function(e){return e&&e.toLowerCase().indexOf("utf_8")>=0?new yZ:new pZ}(n),i=o.getEncodingResult(e,t),r=i.version,a=xZ[r-1][t],s=function(e,t){for(var n,o,i,r,a,s=0,l=[],c=[],d=t.groups,u=0;u<d.length;u++){i=d[u][0];for(var p=0;p<i;p++){o=d[u][1],n=[],r=[];for(var h=1;h<=o;h++)a=e.substring(s,s+8),n.push(a),r[o-h]=cZ(a),s+=8;l.push(n),c.push(XZ(r,t.errorCodewordsPerBlock))}}return[l,c]}(function(e,t){for(var n=8*t,o=0,i=0,r=e;r.length<n&&o<4;)r+=bZ.charAt(o++);for(r.length%8!==0&&(r+=new Array(9-r.length%8).join("0"));r.length<n;)r+=DZ[i],i^=1;return r}(i.dataString,a.totalDataCodewords),a),l=function(e){for(var t=[],n=17+4*e,o=0;o<NZ.length;o++){t[o]=new Array(n);for(var i=0;i<n;i++)t[o][i]=new Array(n)}return t}(r);!function(e){var t=e[0].length;n$(e,jZ,0,0),o$(e,[-1,-1],7,7),n$(e,jZ,t-7,0),o$(e,[1,-1],t-8,7),n$(e,jZ,0,t-7),o$(e,[-1,1],7,t-8)}(l),function(e,t){if(!(t<2)){var n,o,i=e[0],r=i.length,a=Math.floor(t/7),s=[6],l=0;for((n=EZ[t])?o=(r-13-n)/a:n=o=(r-13)/(a+1),s.push(s[l++]+n);s[l]+o<r;)s.push(s[l++]+o);for(var c=0;c<s.length;c++)for(var d=0;d<s.length;d++)void 0===i[s[c]][s[d]]&&n$(e,AZ,s[c]-2,s[d]-2)}}(l,r),function(e){for(var t=1,n=e[0].length,o=8;o<n-8;o++)UZ(e,t,6,o),UZ(e,t,o,6),t^=1}(l),r>=7&&t$(l,lZ(0,18)),e$(l,lZ(0,15)),function(e,t){for(var n,o,i,r=new dZ(e[0]),a=0;a<t.length;a++)for(n=t[a],o=0;n.length>0;){for(var s=0;s<n.length;s++)for(var l=0;l<8;l++)i=r.getNextCell(),GZ(e,n[s][o].charAt(l),i.row,i.column);for(o++;n[0]&&o===n[0].length;)n.splice(0,1)}for(;i=r.getNextRemainderCell();)GZ(e,0,i.row,i.column)}(l,s);var c=function(e){var t,n,o=[],i=[],r=[],a=[],s=[],l=e[0].length;for(n=0;n<e.length;n++)o[n]=0,r[n]=0,s[n]=[0,0],a[n]=[0,0],i[n]=[];for(var c=0;c<l;c++)for(var d=0;d<l;d++)for(var u=0;u<e.length;u++)t=e[u],r[u]+=parseInt(t[c][d],10),i[u][0]===t[c][d]&&c+1<l&&d-1>=0&&t[c+1][d]===i[u][0]&&t[c+1][d-1]===i[u][0]&&(o[u]+=3),i$(u,a,o,0,t[c][d]),i$(u,a,o,1,t[d][c]),r$(u,o,i,t[c][d],s,0),r$(u,o,i,t[d][c],s,1);var p,h=l*l,m=Number.MAX_VALUE;for(n=0;n<o.length;n++)o[n]+=a$(r[n],h),o[n]<m&&(m=o[n],p=n);return p}(l),d=l[c];return r>=7&&t$([d],function(e){return ZZ(e,"1111100100101",18)}(r)),e$([d],function(e){var t,n="";if(0===cZ(e))return"101010000010010";t=ZZ(cZ(e),"10100110111",15);for(var o=0;o<t.length;o++)n+=t.charAt(o)^"101010000010010".charAt(o);return n}(_Z[t]+lZ(c,3))),d}!function(){var e,t;for(t=1;t<255;t++)(e=2*IZ[t-1])>255&&(e^=285),IZ[t]=e,SZ[e]=t;e=2*IZ[t-1]^285,IZ[t]=e,IZ[-1]=0}(),function(){for(var e=2;e<=68;e++){var t=qZ[e-1],n=[e,0];qZ[e]=KZ(t,n)}}();var l$=Math.round,c$=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],d$=[[0,1],[1,1],[1,0]],u$=200,p$="L",h$="#fff",m$="#000",f$=1,g$=7,v$=function(e){function t(t,n,o){void 0===o&&(o=gM),e.call(this),this.options=_N({},this.options,n),this.element=t,this.wrapper=this.element,this.onError=o,this._initElement(),this._initSurface(),this.setOptions(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this._destroySurface()},t.prototype._initElement=function(){hN(this.element,"k-qrcode")},t.prototype._initSurface=function(){var e=this.options,t=this.surface;t&&t.options.type===e.renderAs||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},t.prototype._createSurface=function(){return BW.create(this.surfaceElement,{type:this.options.renderAs})},t.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},t.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))},t.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},t.prototype.redraw=function(){var e=this._getSize();this.surface.clear(),this.surface.setSize({width:e,height:e}),this.createVisual(),this.surface.draw(this.visual)},t.prototype.getSize=function(){var e=this.element,t=e.clientWidth,n=e.clientHeight,o={width:0,height:0};return t>0&&(o.width=t),n&&(o.height=n),o},t.prototype._resize=function(){this.redraw()},t.prototype.createVisual=function(){this.visual=this._render()},t.prototype.exportVisual=function(){return this._render()},t.prototype._render=function(){var e,t,n,o,i,r=this._value,a=this.options.border||{},s=this.options.padding||0,l=a.width||0;a.width=l;var c=new iL;try{r&&(n=s$(r,this.options.errorCorrection,this.options.encoding),i=(o=this._getSize())-2*(l+s),e=this._calculateBaseUnit(i,n.length),t=l+s+(i-n.length*e)/2,c.append(this._renderBackground(o,a)),c.append(this._renderMatrix(n,e,t)),this._hasCustomLogo()?c.append(this._renderLogo(o,e)):this._isSwiss()&&c.append(this._renderSwissCode(o,e)))}catch(d){this.onError(d)}return c},t.prototype._renderLogo=function(e,t){var n,o=l$(e/2),i=this._getLogoSize(t*g$),r=this.options.overlay.imageUrl,a={x:o-i.width/2,y:o-i.height/2};return n=new kO(new yO(a.x,a.y),new bO(i.width,i.height)),new rZ(r,n)},t.prototype._renderSwissCode=function(e,t){var n=this._getLogoSize(t*g$),o=(n=Math.max(n.width,n.height))/4,i=o/2,r=e/2,a={},s=new iL;return a.x=a.y=Math.ceil(r-t-n/2),s.append(this._renderShape(a,Math.ceil(n+2*t),d$,"#fff")),a.x=a.y=r-n/2,s.append(this._renderShape(a,n,d$,this.options.color)),a.x=r+i-n/2,a.y=r+i+o-n/2,s.append(this._renderShape(a,o,c$,"#fff")),s},t.prototype._renderShape=function(e,t,n,o){var i=new WR({fill:{color:o},stroke:null});i.moveTo(e.x,e.y);for(var r=0;r<n.length;r++)i.lineTo(e.x+t*n[r][0],e.y+t*n[r][1]);return i.close(),i},t.prototype._getSize=function(){var e;if(this.options.size)e=parseInt(this.options.size,10);else{var t=nZ(this.element,this.options.renderAs),n=Math.min(t.width,t.height);e=n>0?n:u$}return e},t.prototype._calculateBaseUnit=function(e,t){var n=Math.floor(e/t);if(n<f$){var o=Math.ceil(t*f$);this.onError(new Error("Insufficient size for QR Code: the current size is "+e+"px and the minimum size is "+o+"px."))}else n*t>=e&&n-1>=f$&&n--;return n},t.prototype._renderMatrix=function(e,t,n){for(var o=new WR({fill:{color:this.options.color},stroke:null}),i=0;i<e.length;i++)for(var r=n+i*t,a=0;a<e.length;){for(;0===e[i][a]&&a<e.length;)a++;if(a<e.length){for(var s=a;1===e[i][a];)a++;var l=l$(n+s*t),c=l$(r),d=l$(n+a*t),u=l$(r+t);o.moveTo(l,c).lineTo(l,u).lineTo(d,u).lineTo(d,c).close()}}return o},t.prototype._renderBackground=function(e,t){var n=new IO(0,0,e,e).unpad(t.width/2);return GR.fromRect(n.toRect(),{fill:{color:this.options.background},stroke:{color:t.color,width:t.width}})},t.prototype.setOptions=function(e){var t=e||{};this.options=aZ(this.options,t),void 0!==e.value&&(this._value=String(this.options.value)),this._initSurface(),this.redraw()},t.prototype.value=function(e){if(void 0===e)return this._value;this._value=String(e),this.redraw()},t.prototype._hasCustomLogo=function(){return Boolean(this.options.overlay.imageUrl)},t.prototype._isSwiss=function(){return"swiss"===this.options.overlay.type},t.prototype._getLogoSize=function(e){var t=this.options.overlay.width,n=this.options.overlay.height;return t||n?t&&!n?n=t:!t&&n&&(t=n):t=n=e,{width:t,height:n}},t}(aT);RP(v$,{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:p$,background:h$,color:m$,size:"",padding:0,border:{color:"",width:0},overlay:{type:"image",imageUrl:"",width:0,height:0}});var y$={WGS84:{a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149}};function x$(e){return e*e}var b$=Math,w$=b$.abs,k$=b$.atan,C$=b$.atan2,S$=b$.cos,I$=b$.sin,E$=b$.tan,j$=function(e){function t(t,n){e.call(this),this.initProperties(),1===arguments.length?(this.lat=t[0],this.lng=t[1]):(this.lat=t,this.lng=n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){_N(this,{DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6}{1:N6}"})},t.prototype.toArray=function(){return[this.lat,this.lng]},t.prototype.equals=function(e){return e&&e.lat===this.lat&&e.lng===this.lng},t.prototype.clone=function(){return new t(this.lat,this.lng)},t.prototype.round=function(e){return this.lng=NP(this.lng,e),this.lat=NP(this.lat,e),this},t.prototype.wrap=function(){return this.lng=this.lng%180,this.lat=this.lat%90,this},t.prototype.distanceTo=function(e,t){return this.greatCircleTo(e,t).distance},t.prototype.destination=function(e,n,o){var i=DP(n),r=o||y$.WGS84,a=DP(this.lat),s=DP(this.lng),l=e/r.a,c=b$.asin(I$(a)*S$(l)+S$(a)*I$(l)*S$(i)),d=s+C$(I$(i)*I$(l)*S$(a),S$(l)-I$(a)*I$(c));return new t(wP(c),wP(d))},t.prototype.greatCircleTo=function(e,n){var o=t.create(o),i=n||y$.WGS84;if(!o||this.clone().round(8).equals(o.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};for(var r,a,s,l,c,d,u,p,h=i.a,m=i.b,f=i.f,g=DP(o.lng-this.lng),v=k$((1-f)*E$(DP(this.lat))),y=I$(v),x=S$(v),b=k$((1-f)*E$(DP(o.lat))),w=I$(b),k=S$(b),C=g,S=this.DISTANCE_ITERATIONS,I=!1;!I&&S-- >0;){a=I$(C),s=S$(C),l=b$.sqrt(x$(k*a)+x$(x*w-y*k*s)),p=C$(l,d=y*w+x*k*s);var E=x*k*a/l;u=0,0!==(c=1-x$(E))&&(u=d-2*y*w/c),r=C;var j=f/16*c*(4+f*(4-3*c));C=g+(1-j)*f*E*(p+j*l*(u+j*d*(2*x$(u)-1))),I=w$(C-r)<=this.DISTANCE_CONVERGENCE}var A=c*(x$(h)-x$(m))/x$(m),_=1+A/16384*(4096+A*(A*(320-175*A)-768)),D=A/1024*(256+A*(A*(74-47*A)-128)),N=D*l*(u+D/4*(d*(2*x$(u)-1)-D/6*u*(4*x$(l)-3)*(4*x$(u)-3))),T=C$(k*a,x*w-y*k*s),P=C$(x*a,-y*k+x*w*s);return{distance:NP(m*_*(p-N),this.DISTANCE_PRECISION),azimuthFrom:wP(T),azimuthTo:wP(P)}},t.prototype.toString=function(){return String(this.lat)+","+String(this.lng)},t.fromLngLat=function(e){return new t(e[1],e[0])},t.fromLatLng=function(e){return new t(e[0],e[1])},t.create=function(e,n){if(bP(e))return e instanceof t?e.clone():1===arguments.length&&2===e.length?t.fromLatLng(e):new t(e,n)},t}(aT),A$=Math,_$=A$.atan,D$=A$.exp,N$=A$.pow,T$=A$.sin,P$=A$.log,M$=A$.tan,O$=yO,R$=A$.PI,L$=R$/2,F$=R$/4,z$=R$/180,B$=y$.WGS84,V$=function(e){function t(t){e.call(this),this.initProperties(),this._initOptions(t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initOptions=function(e){this.options=_N({},this.options,e)},t.prototype.initProperties=function(){_N(this,{MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12})},t.prototype.forward=function(e,t){var n=this,o=n.options,i=o.datum.a,r=o.centralMeridian,a=AP(e.lat,-n.MAX_LAT,n.MAX_LAT),s=t?AP(e.lng,-n.MAX_LNG,n.MAX_LNG):e.lng,l=DP(s-r)*i,c=n._projectLat(a);return new O$(l,c)},t.prototype._projectLat=function(e){var t=this.options.datum,n=t.e,o=t.a,i=DP(e),r=M$(F$+i/2),a=n*T$(i),s=N$((1-a)/(1+a),n/2);return o*P$(r*s)},t.prototype.inverse=function(e,t){var n=this,o=n.options,i=o.datum.a,r=o.centralMeridian,a=e.x/(z$*i)+r,s=AP(n._inverseY(e.y),-n.MAX_LAT,n.MAX_LAT);return t&&(a=AP(a,-n.MAX_LNG,n.MAX_LNG)),new j$(s,a)},t.prototype._inverseY=function(e){var t,n=this,o=n.options.datum,i=o.a,r=o.e,a=r/2,s=D$(-e/i),l=L$-2*_$(s);for(t=0;t<=n.INVERSE_ITERATIONS;t++){var c=r*T$(l),d=N$((1-c)/(1+c),a),u=L$-2*_$(s*d)-l;if(l+=u,A$.abs(u)<=n.INVERSE_CONVERGENCE)break}return wP(l)},t}(aT);RP(V$,{centralMeridian:0,datum:B$});var H$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),_N(this,{MAX_LAT:85.0511287798})},t.prototype._projectLat=function(e){var t=this.options.datum.a,n=DP(e),o=M$(F$+n/2);return t*P$(o)},t.prototype._inverseY=function(e){var t=this.options.datum.a,n=D$(-e/t);return wP(L$-2*_$(n))},t}(V$),q$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.forward=function(e){return new O$(e.lng,e.lat)},t.prototype.inverse=function(e){return new j$(e.y,e.x)},t}(aT),U$=function(e){function t(){e.call(this);var t=this._proj=new H$,n=this.c=2*R$*t.options.datum.a;this._tm=OO().translate(.5,.5).scale(1/n,-1/n),this._itm=OO().scale(n,-n).translate(-.5,-.5)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toPoint=function(e,t,n){return this._proj.forward(e,n).transform(this._tm).scale(t||1)},t.prototype.toLocation=function(e,t,n){var o=e.clone().scale(1/(t||1)).transform(this._itm);return this._proj.inverse(o,n)},t}(aT),G$=(function(e){function t(){e.call(this),this._proj=new V$}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toPoint=function(e){return this._proj.forward(e)},t.prototype.toLocation=function(e){return this._proj.inverse(e)}}(aT),function(e){function t(){e.call(this),this._proj=new q$}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toPoint=function(e){return this._proj.forward(e)},t.prototype.toLocation=function(e){return this._proj.inverse(e)}}(aT),Object.assign,function(e,t){return e.bind(t)}),W$=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},K$=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},Y$=function(e,t){t.insertBefore(e,t.firstChild)},X$=function(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},J$=function(e){return e&&String(e).endsWith("px")?e:String(e)+"px"},Q$=function(e,t){var n=e.prototype;n.events?t.forEach(function(e){n.events.indexOf(e)<0&&n.events.push(e)}):n.events=t},Z$=function(e){var t=[];if(e)for(var n=X$(e).split("-"),o=0;o<n.length;o++)t.push("k-pos-"+n[o]);return t.join(" ")},$$=function(e){function t(t,n){e.call(this),this.element=t,this._initOptions(n),this.items=[],hN(this.element,"k-widget k-attribution")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initOptions=function(e){this.options=_N({},this.options,e)},t.prototype.filter=function(e,t){this._extent=e,this._zoom=t,this._render()},t.prototype.add=function(e){var t=e;bP(e)&&("string"===typeof e&&(t={text:e}),this.items.push(t),this._render())},t.prototype.remove=function(e){for(var t=[],n=0;n<this.items.length;n++){var o=this.items[n];o.text!==e&&t.push(o)}this.items=t,this._render()},t.prototype.clear=function(){this.items=[],K$(this.element)},t.prototype._render=function(){for(var e=[],t=0;t<this.items.length;t++){var n=this.items[t],o=this._itemText(n);""!==o&&e.push(o)}e.length>0?(K$(this.element),function(e,t){var n=document.createElement("div");for(n.innerHTML=e;n.childNodes.length>0;)t.appendChild(n.childNodes[0])}(e.join(this.options.separator),this.element),this.showElement()):this.hideElement()},t.prototype.hideElement=function(){this.element.style.display="none"},t.prototype.showElement=function(){this.element.style.display=""},t.prototype._itemText=function(e){var t="",n=this._inZoomLevel(e.minZoom,e.maxZoom),o=this._inArea(e.extent);return n&&o&&(t+=e.text),t},t.prototype._inZoomLevel=function(e,t){var n=PP(e,-Number.MAX_VALUE),o=PP(t,Number.MAX_VALUE);return this._zoom>n&&this._zoom<o},t.prototype._inArea=function(e){var t=!0;return e&&(t=e.contains(this._extent)),t},t}(FM);RP($$,{name:"Attribution",separator:"&nbsp;|&nbsp;"});var e0={up:{className:"k-navigator-n",iconClass:"k-i-caret-alt-up"},down:{className:"k-navigator-s",iconClass:"k-i-caret-alt-down"},right:{className:"k-navigator-e",iconClass:"k-i-caret-alt-right"},left:{className:"k-navigator-w",iconClass:"k-i-caret-alt-left"}};function t0(e,t){var n='<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button '+e0[e].className+'" aria-label="move '+e+'">'+qP({icon:"caret-alt-"+e,iconClass:"k-button-icon",svgIcons:t.svgIcons,type:t.type})+"</button>";return W$(n)}var n0=function(e){function t(t,n){e.call(this),this.element=t,this._initOptions(n);var o=t0("up",n.icons),i=t0("right",n.icons),r=t0("down",n.icons),a=t0("left",n.icons);this.element.appendChild(o),this.element.appendChild(i),this.element.appendChild(r),this.element.appendChild(a),hN(this.element,"k-widget k-navigator"),jM(this.element,"click",".k-button",G$(this._click,this));var s=this.element.parentNode.closest("[data-role]");this._keyroot=s||this.element,this._tabindex(this._keyroot),this._keydownHandler=G$(this._keydown,this),jM(this._keyroot,"keydown",this._keydownHandler)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){AM(this._keyroot,"keydown",this._keydownHandler)},t.prototype._tabindex=function(e){var t=e||this.wrapper||this.element,n=this.element,o="tabindex",i=t.getAttribute(o)||n.getAttribute(o);n.removeAttribute(o),t.setAttribute(o,isNaN(i)?0:i)},t.prototype._initOptions=function(e){this.options=_N({},this.options,e)},t.prototype._pan=function(e,t){var n=this.options.panStep;this.trigger("pan",{x:e*n,y:t*n})},t.prototype._click=function(e){var t=0,n=0,o=e.currentTarget;o.matches(".k-navigator-n")?n=1:o.matches(".k-navigator-s")?n=-1:o.matches(".k-navigator-e")?t=1:o.matches(".k-navigator-w")&&(t=-1),this._pan(t,n),e.preventDefault()},t.prototype._keydown=function(e){switch(e.which){case vM.UP:this._pan(0,1),e.preventDefault();break;case vM.DOWN:this._pan(0,-1),e.preventDefault();break;case vM.RIGHT:this._pan(1,0),e.preventDefault();break;case vM.LEFT:this._pan(-1,0),e.preventDefault()}},t}(FM);function o0(e,t,n){var o='<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-'+e+'" title="zoom-'+e+'" aria-label="zoom-'+e+'">'+qP({icon:t,iconClass:"k-button-icon",svgIcons:n.svgIcons,type:n.type})+"</button>";return W$(o)}RP(n0,{name:"Navigator",panStep:1}),Q$(n0,["pan"]);var i0="change",r0=function(e){function t(t,n,o){e.call(this),this.element=t,this._initOptions(n);var i=o0("in","plus",o),r=o0("out","minus",o);this.element.appendChild(i),this.element.appendChild(r),this.element.setAttribute("role","group"),hN(this.element,"k-widget k-zoom-control k-button-group k-group-horizontal"),this._clickHandler=this._click.bind(this),jM(this.element,"click",".k-button",this._clickHandler);var a=this.element.parentNode.closest("[data-role]");this._keyroot=a||this.element,this._tabindex(this._keyroot),this._keydownHandler=this._keydown.bind(this),jM(this._keyroot,"keydown",this._keydownHandler)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.element&&AM(this.element,"click",this._clickHandler),this._keyroot&&AM(this._keyroot,"keydown",this._keydownHandler)},t.prototype._tabindex=function(e){var t=e||this.wrapper||this.element,n=this.element,o="tabindex",i=t.getAttribute(o)||n.getAttribute(o);n.removeAttribute(o),t.setAttribute(o,isNaN(i)?0:i)},t.prototype._initOptions=function(e){this.options=_N({},this.options,e)},t.prototype._change=function(e){var t=this.options.zoomStep;this.trigger(i0,{delta:e*t})},t.prototype._click=function(e){var t=1;GN(e.currentTarget,"k-zoom-out")&&(t=-1),this._change(t),e.preventDefault()},t.prototype._keydown=function(e){switch(e.which){case vM.NUMPAD_PLUS:case 187:case 61:this._change(1);break;case vM.NUMPAD_MINUS:case 189:case 173:this._change(-1)}},t}(FM);RP(r0,{name:"ZoomControl",zoomStep:1}),Q$(r0,[i0]);var a0=Math,s0=a0.max,l0=a0.min,c0=function(e){function t(t,n){e.call(this);var o=j$.create(t),i=j$.create(n);o.lng+180>i.lng+180&&o.lat+90<i.lat+90?(this.se=o,this.nw=i):(this.se=i,this.nw=o)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={World:{configurable:!0}};return t.prototype.contains=function(e){var t=this.nw,n=this.se,o=PP(e.lng,e[1]),i=PP(e.lat,e[0]);return e&&o+180>=t.lng+180&&o+180<=n.lng+180&&i+90>=n.lat+90&&i+90<=t.lat+90},t.prototype.center=function(){var e=this.nw,t=this.se,n=e.lng+(t.lng-e.lng)/2,o=e.lat+(t.lat-e.lat)/2;return new j$(o,n)},t.prototype.containsAny=function(e){for(var t=!1,n=0;n<e.length;n++)t=t||this.contains(e[n]);return t},t.prototype.include=function(e){var t=this.nw,n=this.se,o=PP(e.lng,e[1]),i=PP(e.lat,e[0]);t.lng=l0(t.lng,o),t.lat=s0(t.lat,i),n.lng=s0(n.lng,o),n.lat=l0(n.lat,i)},t.prototype.includeAll=function(e){for(var t=0;t<e.length;t++)this.include(e[t])},t.prototype.edges=function(){var e=this.nw,t=this.se;return{nw:this.nw,ne:new j$(e.lat,t.lng),se:this.se,sw:new j$(t.lat,e.lng)}},t.prototype.toArray=function(){var e=this.nw,t=this.se;return[e,new j$(e.lat,t.lng),t,new j$(t.lat,e.lng)]},t.prototype.overlaps=function(e){return this.containsAny(e.toArray())||e.containsAny(this.toArray())},t.create=function(e,n){return e instanceof t?e:e&&n?new t(e,n):e&&4===e.length&&!n?new t([e[0],e[1]],[e[2],e[3]]):void 0},n.World.get=function(){return new t([90,-180],[-90,180])},Object.defineProperties(t,n),t}(aT),d0="centerChange",u0=function(e){function t(t,n){e.call(this),this.widgetService=t,this.options=_N({},this.options,n),this.offset={x:0,y:0}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={anchor:{configurable:!0}};return t.prototype.show=function(e,t){this.location!==t.location&&(this.anchor=e,this.location=t.location,this.widgetService.notify("showTooltip",Object.assign({anchor:this.anchor},t)),this.visible=!0)},t.prototype.hide=function(){this.widgetService&&this.widgetService.notify("hideTooltip"),this.visible=!1,this.location=null},n.anchor.get=function(){return this._anchor},n.anchor.set=function(e){var t=this.widgetService.widget._toDocumentCoordinates({x:e.left-this.offset.x,y:e.top-this.offset.y});this._anchor={left:t.left,top:t.top}},t.prototype.destroy=function(){this.widgetService=null},Object.defineProperties(t.prototype,n),t}(aT);RP(u0,{border:{width:1},opacity:1});var p0=function(e){function t(t,n){e.call(this),this.support=_M(),this._initOptions(n),this.map=t;var o=document.createElement("div");hN(o,"k-layer"),o.style.zIndex=this.options.zIndex,o.style.opacity=this.options.opacity,this.element=o,t.scrollElement.appendChild(this.element),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this._deactivate()},t.prototype._initOptions=function(e){this.options=_N({},this.options,e)},t.prototype.show=function(){this.reset(),this._activate(),this._applyExtent(!0)},t.prototype.hide=function(){this._deactivate(),this._setVisibility(!1)},t.prototype.reset=function(){this._beforeReset(),this._reset()},t.prototype._reset=function(){this._applyExtent()},t.prototype._beforeReset=function(){},t.prototype._resize=function(){},t.prototype._panEnd=function(){this._applyExtent()},t.prototype._applyExtent=function(){var e=this.options,t=this.map.zoom(),n=!bP(e.minZoom)||t>=e.minZoom,o=!bP(e.maxZoom)||t<=e.maxZoom,i=c0.create(e.extent),r=!i||i.overlaps(this.map.extent());this._setVisibility(n&&o&&r)},t.prototype._setVisibility=function(e){this.element.style.display=e?"":"none"},t.prototype._activate=function(){var e=this.map;this._deactivate(),e.bind("beforeReset",this._beforeReset),e.bind("reset",this._reset),e.bind("resize",this._resize),e.bind("panEnd",this._panEnd)},t.prototype._deactivate=function(){var e=this.map;e.unbind("beforeReset",this._beforeReset),e.unbind("reset",this._reset),e.unbind("resize",this._resize),e.unbind("panEnd",this._panEnd)},t.prototype._updateAttribution=function(){var e=this.map.attribution;e&&e.add(this.options.attribution)},t.prototype._readData=function(){return this.options.data||[]},t.prototype._hasData=function(){return this._data&&this._data.length>0},t.prototype._layerIndex=function(){return(this.map.layers||[]).indexOf(this)},t}(aT),h0=Math,m0=yO;function f0(e){return EN(e)?e:FN.compile(e)}function g0(e){return new m0(NP(e.x),NP(e.y))}function v0(e){var t=e;return"string"!==typeof e&&(t+="px"),t}var y0=function(e){function t(t,n){e.call(this,t,n),"string"===typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));var o=this._viewType();this._view=new o(this.element,this.options)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){e.prototype.destroy.call(this),this._view.destroy(),this._view=null},t.prototype._beforeReset=function(){var e=this.map,t=e.locationToLayer(e.extent().nw).round();this._view.viewOrigin(t)},t.prototype._reset=function(){e.prototype._reset.call(this),this._updateView(),this._view.reset()},t.prototype._viewType=function(){return x0},t.prototype._activate=function(){e.prototype._activate.call(this),this.support.mobileOS||(this._pan||(this._pan=hW(this._render.bind(this),100)),this.map.bind("pan",this._pan))},t.prototype._deactivate=function(){e.prototype._deactivate.call(this),this._pan&&this.map.unbind("pan",this._pan)},t.prototype._updateView=function(){var e=this._view,t=this.map,n=t.extent(),o={nw:t.locationToLayer(n.nw).round(),se:t.locationToLayer(n.se).round()};e.center(t.locationToLayer(t.center())),e.extent(o),e.zoom(t.zoom())},t.prototype._resize=function(){this._render()},t.prototype._panEnd=function(t){e.prototype._panEnd.call(this,t),this._render()},t.prototype._render=function(){this._updateView(),this._view.render()},t}(p0);RP(y0,{tileSize:256,subdomains:["a","b","c"],urlTemplate:"",zIndex:1});var x0=function(e){function t(t,n){e.call(this),this.element=t,this._initOptions(n),this.pool=new w0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initOptions=function(e){this.options=_N({},this.options,e)},t.prototype.center=function(e){this._center=e},t.prototype.extent=function(e){this._extent=e},t.prototype.viewOrigin=function(e){this._viewOrigin=e},t.prototype.zoom=function(e){this._zoom=e},t.prototype.pointToTileIndex=function(e){return new m0(h0.floor(e.x/this.options.tileSize),h0.floor(e.y/this.options.tileSize))},t.prototype.tileCount=function(){var e=this.size(),t=this.pointToTileIndex(this._extent.nw),n=this._extent.nw,o=this.indexToPoint(t).translate(-n.x,-n.y);return{x:h0.ceil((h0.abs(o.x)+e.width)/this.options.tileSize),y:h0.ceil((h0.abs(o.y)+e.height)/this.options.tileSize)}},t.prototype.size=function(){var e=this._extent.nw,t=this._extent.se.clone().translate(-e.x,-e.y);return{width:t.x,height:t.y}},t.prototype.indexToPoint=function(e){var t=e.x,n=e.y;return new m0(t*this.options.tileSize,n*this.options.tileSize)},t.prototype.subdomainText=function(){var e=this.options.subdomains;return e[this.subdomainIndex++%e.length]},t.prototype.destroy=function(){K$(this.element),this.pool.empty()},t.prototype.reset=function(){this.pool.reset(),this.subdomainIndex=0,this.render()},t.prototype.render=function(){var e,t,n,o=this.tileCount(),i=this.pointToTileIndex(this._extent.nw);for(t=0;t<o.x;t++)for(n=0;n<o.y;n++)(e=this.createTile({x:i.x+t,y:i.y+n})).visible||e.show()},t.prototype.createTile=function(e){var t=this.tileOptions(e),n=this.pool.get(this._center,t);return n.element.parentNode||this.element.append(n.element),n},t.prototype.tileOptions=function(e){var t=this.wrapIndex(e),n=this.indexToPoint(e),o=this._viewOrigin,i=n.clone().translate(-o.x,-o.y);return{index:t,currentIndex:e,point:n,offset:g0(i),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}},t.prototype.wrapIndex=function(e){var t=h0.pow(2,this._zoom);return{x:this.wrapValue(e.x,t),y:AP(e.y,0,t-1)}},t.prototype.wrapValue=function(e,t){var n=h0.abs(e)%t;return e>=0?n:t-(0===n?t:n)},t}(aT),b0=function(e){function t(t,n){e.call(this),this.id=t,this.visible=!0,this._initOptions(n),this.createElement(),this.show()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){var e=this.element,t=e?e.parentNode:null;e&&(t&&t.removeChild(e),this.element=null)},t.prototype._initOptions=function(e){this.options=_N({},this.options,e)},t.prototype.createElement=function(){var e=document.createElement("img"),t=this.options.size+"px";e.setAttribute("alt",""),e.style.position="absolute",e.style.display="block",e.style.width=e.style.maxWidth=t,e.style.height=e.style.maxHeight=t,this.element=e},t.prototype.show=function(){var e=this.element;e.style.top=v0(this.options.offset.y),e.style.left=v0(this.options.offset.x);var t=this.url();t&&e.setAttribute("src",t),e.style.visibility="visible",this.visible=!0},t.prototype.hide=function(){this.element.style.visibility="hidden",this.visible=!1},t.prototype.url=function(){return f0(this.options.urlTemplate)(this.urlOptions())},t.prototype.errorUrl=function(){return f0(this.options.errorUrlTemplate)(this.urlOptions())},t.prototype.urlOptions=function(){var e=this.options;return{zoom:e.zoom,subdomain:e.subdomain,z:e.zoom,x:e.index.x,y:e.index.y,s:e.subdomain,quadkey:e.quadkey,q:e.quadkey,culture:e.culture,c:e.culture}},t}(aT);RP(b0,{urlTemplate:"",errorUrlTemplate:""});var w0=function(e){function t(){e.call(this),this._items=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._items.length>=this.options.maxSize&&this._remove(e),this._create(t)},t.prototype.empty=function(){for(var e=this._items,t=0;t<e.length;t++)e[t].destroy();this._items=[]},t.prototype.reset=function(){for(var e=this._items,t=0;t<e.length;t++)e[t].hide()},t.prototype._create=function(e){for(var t,n=this._items,o=EP(e.point.toString()+e.offset.toString()+e.zoom+e.urlTemplate),i=0;i<n.length;i++)if(n[i].id===o){t=n[i];break}return t?t.show():(t=new b0(o,e),this._items.push(t)),t},t.prototype._remove=function(e){for(var t=this._items,n=-1,o=-1,i=0;i<t.length;i++){var r=t[i].options.point.distanceTo(e);r>n&&!t[i].visible&&(o=i,n=r)}-1!==o&&(t[o].destroy(),t.splice(o,1))},t}(aT);RP(w0,{maxSize:100});var k0=Object.assign,C0="change",S0=function(e){function t(t,n){e.call(this);var o=this,i=t[0]||t;o.capture=!1,i.addEventListener?(wM.down.split(" ").forEach(function(e){i.addEventListener(e,G$(o._press,o),!0)}),wM.up.split(" ").forEach(function(e){i.addEventListener(e,G$(o._release,o),!0)})):(wM.down.split(" ").forEach(function(e){i.attachEvent(e,G$(o._press,o))}),wM.up.split(" ").forEach(function(e){i.attachEvent(e,G$(o._release,o))})),o.bind(["press","release"],n||{})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.captureNext=function(){this.capture=!0},t.prototype.cancelCapture=function(){this.capture=!1},t.prototype._press=function(e){this.trigger("press"),this.capture&&e.preventDefault()},t.prototype._release=function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())},t}(FM),I0=function(e){function t(t){e.call(this);var n=this;n.forcedEnabled=!1,k0(n,t),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.makeVirtual=function(){k0(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},t.prototype.virtualSize=function(e,t){this._virtualMin===e&&this._virtualMax===t||(this._virtualMin=e,this._virtualMax=t,this.update())},t.prototype.outOfBounds=function(e){return e>this.max||e<this.min},t.prototype.forceEnabled=function(){this.forcedEnabled=!0},t.prototype.getSize=function(){return this.container[this.measure]},t.prototype.getTotal=function(){return this.element[this.scrollSize]},t.prototype.rescale=function(e){this.scale=e},t.prototype.update=function(e){var t=this,n=t.virtual?t._virtualMax:t.getTotal(),o=n*t.scale,i=t.getSize();(0!==n||t.forcedEnabled)&&(t.max=t.virtual?-t._virtualMin:0,t.size=i,t.total=o,t.min=Math.min(t.max,i-o),t.minScale=i/n,t.centerOffset=(o-i)/2,t.enabled=t.forcedEnabled||o>i,e||t.trigger(C0,t))},t}(FM),E0=function(e){function t(t){e.call(this);var n=this;n.x=new I0(k0({horizontal:!0},t)),n.y=new I0(k0({horizontal:!1},t)),n.container=t.container,n.forcedMinScale=t.minScale,n.maxScale=t.maxScale||100,n.bind(C0,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.rescale=function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},t.prototype.centerCoordinates=function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},t.prototype.refresh=function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(C0)},t}(FM),j0=function(e){function t(t){e.call(this),k0(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.outOfBounds=function(){return this.dimension.outOfBounds(this.movable[this.axis])},t.prototype.dragMove=function(e){var t=this,n=t.dimension,o=t.axis,i=t.movable,r=i[o]+e;if(n.enabled){var a=e;(r<n.min&&e<0||r>n.max&&e>0)&&(a*=t.resistance),i.translateAxis(o,a),t.trigger(C0,t)}},t}(FM),A0=function(e){function t(t){e.call(this);var n,o,i,r,a=this;k0(a,{elastic:!0},t),i=a.elastic?.5:0,r=a.movable,a.x=n=new j0({axis:"x",dimension:a.dimensions.x,resistance:i,movable:r}),a.y=o=new j0({axis:"y",dimension:a.dimensions.y,resistance:i,movable:r}),a.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(e){a.gesture=e,a.offset=kP(a.dimensions.container)},press:function(e){var t=e.event.target.closest("a");t&&t.matches("[data-navigate-on-press=true]")&&e.sender.cancel()},gesturechange:function(e){var t,i=a.gesture,s=i.center,l=e.center,c=e.distance/i.distance,d=a.dimensions.minScale,u=a.dimensions.maxScale;r.scale<=d&&c<1&&(c+=.8*(1-c)),r.scale*c>=u&&(c=u/r.scale);var p=r.x+a.offset.left,h=r.y+a.offset.top;t={x:(p-s.x)*c+l.x-p,y:(h-s.y)*c+l.y-h},r.scaleWith(c),n.dragMove(t.x),o.dragMove(t.y),a.dimensions.rescale(r.scale),a.gesture=e,e.preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(n.dimension.enabled||o.dimension.enabled?(n.dragMove(e.x.delta),o.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(aT),_0=function(e,t,n){return"translate3d("+e+"px,"+t+"px,0) scale("+n+")"},D0=function(e){function t(t){e.call(this);var n=this;n.element=t,n.element.style.transformOrigin="left top",n.x=0,n.y=0,n.scale=1;var o=_0(n.x,n.y,n.scale);n.element.style.transform=o,n._saveCoordinates(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.translateAxis=function(e,t){this[e]+=t,this.refresh()},t.prototype.scaleTo=function(e){this.scale=e,this.refresh()},t.prototype.scaleWith=function(e){this.scale*=e,this.refresh()},t.prototype.translate=function(e){this.x+=e.x,this.y+=e.y,this.refresh()},t.prototype.moveAxis=function(e,t){this[e]=t,this.refresh()},t.prototype.moveTo=function(e){k0(this,e),this.refresh()},t.prototype.refresh=function(){var e,t=this,n=t.x,o=t.y;t.round&&(n=Math.round(n),o=Math.round(o)),(e=_0(n,o,t.scale))!==t.coordinates&&(t.element.style.transform=e,t._saveCoordinates(e),t.trigger(C0))},t.prototype._saveCoordinates=function(e){this.coordinates=e},t}(FM),N0=iL,T0=function(e){function t(t,n){e.call(this,t,n),this._pan=G$(this._pan,this),this.surface=BW.create(this.element,{width:t.scrollElement.clientWidth,height:t.scrollElement.clientHeight}),this._initRoot(),this.movable=new D0(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this.surface.bind("mouseenter",this._mouseenter.bind(this))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){e.prototype.destroy.call(this),this.surface.destroy()},t.prototype._reset=function(){e.prototype._reset.call(this),this._translateSurface(),this._data=this._readData(),this._hasData()&&this._load(this._data)},t.prototype._initRoot=function(){this._root=new N0,this.surface.draw(this._root)},t.prototype._beforeReset=function(){this.surface.clear(),this._initRoot()},t.prototype._resize=function(){this.surface.size(this.map.size())},t.prototype._readData=function(){var t=e.prototype._readData.call(this);return"FeatureCollection"===t.type?t.features:"GeometryCollection"===t.type?t.geometries:t},t.prototype._load=function(e){this._data=e,this._clearMarkers(),this._loader||(this._loader=new P0(this.map,this.options.style,this));for(var t=new N0,n=0;n<e.length;n++){var o=this._loader.parse(e[n]);o&&t.append(o)}this._root.clear(),this._root.append(t)},t.prototype.shapeCreated=function(e){var t=!1;if(e instanceof tL&&this.map.options.renderPointsAsMarkers&&(t=bP(this._createMarker(e))),!t){var n={layer:this,shape:e};t=this.map.trigger("shapeCreated",n)}return t},t.prototype.featureCreated=function(e){e.layer=this,this.map.trigger("shapeFeatureCreated",e)},t.prototype._createMarker=function(e){var t=this.map.markers.bind({location:e.location},e.dataItem);return t&&this._markers.push(t),t},t.prototype._clearMarkers=function(){for(var e=0;e<this._markers.length;e++)this.map.markers.remove(this._markers[e]);this._markers=[]},t.prototype._pan=function(){this._panning||(this._panning=!0,this.surface.suspendTracking())},t.prototype._panEnd=function(t){e.prototype._panEnd.call(this,t),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1},t.prototype._translateSurface=function(){var e=this.map,t=e.locationToView(e.extent().nw);this.surface.translate&&(this.surface.translate(t),this.movable.moveTo({x:t.x,y:t.y}))},t.prototype._eventArgs=function(e){return{layer:this,layerIndex:this._layerIndex(),shape:e.element,shapeIndex:(this._data||[]).indexOf(e.element.dataItem),originalEvent:e.originalEvent}},t.prototype._handler=function(e){var t=this;return function(n){n.element&&t.map.trigger(e,t._eventArgs(n))}},t.prototype._mouseenter=function(e){if(e.element){this.map.trigger("shapeMouseEnter",this._eventArgs(e));var t=e.element,n=this._tooltipAnchor(e);this.map._tooltip.show(n,this._tooltipContext(t))}},t.prototype._tooltipContext=function(e){return{type:"shape",layerIndex:this._layerIndex(),className:"k-map-shape-tooltip",dataItem:e.dataItem,location:e.location}},t.prototype._tooltipAnchor=function(e){var t=this.map.eventOffset(e.originalEvent);return{top:t.y,left:t.x}},t.prototype._activate=function(){e.prototype._activate.call(this),this._panHandler=G$(this._pan,this),this.map.bind("pan",this.panHandler)},t.prototype._deactivate=function(){e.prototype._deactivate.call(this),this.map.unbind("pan",this._panHandler)},t}(p0);RP(T0,{autoBind:!0,zIndex:100});var P0=function(e){function t(t,n,o){e.call(this),this.observer=o,this.locator=t,this.style=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parse=function(e){var t=new N0,n=!0;return"Feature"===e.type?(n=!1,this._loadGeometryTo(t,e.geometry,e),this._featureCreated(t,e)):this._loadGeometryTo(t,e,e),n&&t.children.length<2&&(t=t.children[0]),t},t.prototype._shapeCreated=function(e){var t=!1;return this.observer&&this.observer.shapeCreated&&(t=this.observer.shapeCreated(e)),t},t.prototype._featureCreated=function(e,t){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:e,dataItem:t,properties:t.properties})},t.prototype._loadGeometryTo=function(e,t,n){var o,i,r=this,a=t.coordinates;switch(t.type){case"LineString":i=this._loadPolygon(e,[a],n),this._setLineFill(i);break;case"MultiLineString":for(o=0;o<a.length;o++)i=r._loadPolygon(e,[a[o]],n),r._setLineFill(i);break;case"Polygon":this._loadPolygon(e,a,n);break;case"MultiPolygon":for(o=0;o<a.length;o++)r._loadPolygon(e,a[o],n);break;case"Point":this._loadPoint(e,a,n);break;case"MultiPoint":for(o=0;o<a.length;o++)r._loadPoint(e,a[o],n)}},t.prototype._setLineFill=function(e){var t=e.segments;(t.length<4||!t[0].anchor().equals(jP(t).anchor()))&&(e.options.fill=null)},t.prototype._loadShape=function(e,t){return this._shapeCreated(t)||e.append(t),t},t.prototype._loadPolygon=function(e,t,n){var o=this._buildPolygon(t);return o.dataItem=n,o.location=this.locator.viewToLocation(o.bbox().center()),this._loadShape(e,o)},t.prototype._buildPolygon=function(e){for(var t=new(e.length>1?WR:GR)(this.style),n=0;n<e.length;n++)for(var o=0;o<e[n].length;o++){var i=this.locator.locationToView(j$.fromLngLat(e[n][o]));0===o?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y)}return t},t.prototype._loadPoint=function(e,t,n){var o=j$.fromLngLat(t),i=this.locator.locationToView(o),r=new QR(i,10),a=new tL(r,this.style);return a.dataItem=n,a.location=o,this._loadShape(e,a)},t}(aT),M0=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._readData=function(){return this.options.data||[]},t.prototype._load=function(e){var t=this;if(this._data=e,this.surface.clear(),0!==e.length){var n=this.options,o=qN(n.valueField),i=e.slice(0);i.sort(function(e,t){return o(t)-o(e)});for(var r,a=this._scaleType(),s=qN(this.options.locationField),l=0;l<i.length;l++){var c=i[l],d=s(c),u=o(c);if(bP(d)&&bP(u)){r||(r=new a([0,u],[n.minSize,n.maxSize])),d=j$.create(d);var p=t.map.locationToView(d),h=r.map(u),m=t._createSymbol({center:p,size:h,style:n.style,dataItem:c,location:d});m.dataItem=c,m.location=d,m.value=u,t._drawSymbol(m)}}}},t.prototype._scaleType=function(){var e=this.options.scale;return EN(e)?e:R0[e]},t.prototype._createSymbol=function(e){var t=this.options.symbol;return EN(t)||(t=L0[t]),t(e)},t.prototype._drawSymbol=function(e){var t={layer:this,shape:e};this.map.trigger("shapeCreated",t)||this.surface.draw(e)},t.prototype._tooltipContext=function(e){return{type:"bubble",layerIndex:this._layerIndex(),className:"k-map-bubble-tooltip",dataItem:e.dataItem,location:e.location,value:e.value}},t.prototype._tooltipAnchor=function(e){var t=e.element.bbox().center();return{top:t.y,left:t.x}},t}(T0);RP(M0,{locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle",zIndex:200});var O0=function(e){function t(t,n){e.call(this),this._domain=t,this._range=n;var o=Math.sqrt(t[1])-Math.sqrt(t[0]),i=n[1]-n[0];this._ratio=i/o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e){var t=(Math.sqrt(e)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+t},t}(aT),R0={sqrt:O0},L0={circle:function(e){var t=new QR(e.center,e.size/2);return new tL(t,e.style)},square:function(e){var t=new GR(e.style),n=e.size/2,o=e.center;return t.moveTo(o.x-n,o.y-n).lineTo(o.x+n,o.y-n).lineTo(o.x+n,o.y+n).lineTo(o.x-n,o.y+n).close(),t}},F0="click",z0="mouseenter",B0="mouseleave",V0=Object.assign,H0="k-marker",q0="."+H0,U0=function(e){function t(t,n){e.call(this,t,n),this._markerClickHandler=G$(this._markerClick,this),jM(this.element,F0,q0,this._markerClickHandler),this.items=[],this._load(this._readData())}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){e.prototype.destroy.call(this),AM(this.element,F0,this._markerClickHandler),this.clear()},t.prototype.add=function(e){if(!pN(e))return this._addOne(e);for(var t=0;t<e.length;t++)this._addOne(e[t])},t.prototype.remove=function(e){e.destroy();var t=(this.items||[]).indexOf(e);t>-1&&this.items.splice(t,1)},t.prototype.clear=function(){for(var e=0;e<this.items.length;e++)this.items[e].destroy();this.items=[]},t.prototype.update=function(e){var t=e.location();if(t){e.showAt(this.map.locationToView(t));var n={marker:e,layer:this};this.map.trigger("markerActivate",n)}},t.prototype._reset=function(){e.prototype._reset.call(this);for(var t=this.items,n=0;n<t.length;n++)this.update(t[n])},t.prototype.bind=function(e,t){var n=G0.create(e,this.options);n.dataItem=t;var o={marker:n,layer:this};if(!this.map.trigger("markerCreated",o))return this.add(n),n},t.prototype._addOne=function(e){var t=G0.create(e,this.options);return t.addTo(this),t},t.prototype._readData=function(){return this.options.data||[]},t.prototype._load=function(e){this._data=e,this.clear();for(var t=qN(this.options.locationField),n=qN(this.options.titleField),o=0;o<e.length;o++){var i=e[o];this.bind({location:t(i),title:n(i)},i)}},t.prototype._markerClick=function(e){var t=e.currentTarget._kendoNode,n={layer:this,layerIndex:this._layerIndex(),marker:t,markerIndex:(this.items||[]).indexOf(t),originalEvent:e};this.map.trigger("markerClick",n)},t.prototype._markerMouseEnter=function(e){var t=this._createMarkerEventArgs(e);this.map.trigger("markerMouseEnter",t)},t.prototype._markerMouseLeave=function(e){var t=this._createMarkerEventArgs(e);this.map.trigger("markerMouseLeave",t)},t.prototype._createMarkerEventArgs=function(e){var t=e.marker;return V0({},{layer:this,layerIndex:this._layerIndex(),marker:t,markerIndex:(this.items||[]).indexOf(t)},e)},t}(p0);RP(U0,{zIndex:1e3,autoBind:!0,locationField:"location",titleField:"title",template:""});var G0=function(e){function t(t){e.call(this),this.options=t||{}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.layer=null,this.unbindEvents(),this.hide()},t.prototype.addTo=function(e){this.layer=e.markers||e,this.layer.items.push(this),this.layer.update(this)},t.prototype.location=function(e){return e?(this.options.location=j$.create(e).toArray(),this.layer&&this.layer.update(this),this):j$.create(this.options.location)},t.prototype.showAt=function(e){this.render(),this._anchor={left:Math.round(e.x),top:Math.round(e.y)},this.element.style.left=J$(this._anchor.left),this.element.style.top=J$(this._anchor.top)},t.prototype.hide=function(){this.element&&(this.element.remove(),this.element=null)},t.prototype.bindEvents=function(){this.element&&(this._mouseEnterHandler=G$(this._mouseEnter,this),jM(this.element,z0,q0,this._mouseEnterHandler),this._mouseLeaveHandler=G$(this._mouseLeave,this),jM(this.element,B0,q0,this._mouseLeaveHandler))},t.prototype.unbindEvents=function(){this.element&&(AM(this.element,z0,this._mouseEnterHandler),AM(this.element,B0,this._mouseLeaveHandler))},t.prototype.render=function(){if(!this.element){var e=this.options,t=this.layer,n=document.createElement("span");if(hN(n,H0),this.options.template){var o=this._compileTemplate(this.options.template)(this.dataItem),i=W$(o);n.appendChild(i)}else if(e.svgIcon)qP(n,{icon:e.svgIcon,iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:"svg"});else{var r={icon:"map-marker",iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:this.options.icons.type};e.shape?"pinTarget"===e.shape?(r.icon="map-marker-target",qP(n,r)):"pin"===e.shape?qP(n,r):hN(n,"k-icon k-icon-xxl k-i-marker-"+X$(e.shape||"pin")):qP(n,r)}e.title&&n.setAttribute("title",e.title);var a=e.attributes||{};Object.keys(a).forEach(function(e){n.setAttribute(e,a[e])}),n._kendoNode=this,n.style.zIndex=e.zIndex,this.element=n,t&&t.element.appendChild(this.element),this.bindEvents()}},t.prototype._mouseEnter=function(e){var t=this._createEventArgs(e);this.layer._markerMouseEnter(t),this.layer.map._tooltip.show({top:this._anchor.top-this.element.offsetHeight,left:this._anchor.left},this._tooltipContext())},t.prototype._tooltipContext=function(){return{type:"marker",layerIndex:this.layer._layerIndex(),className:"k-map-marker-tooltip",dataItem:this.dataItem,title:this.options.title,location:this.location()}},t.prototype._mouseLeave=function(e){var t=this._createEventArgs(e);this.layer._markerMouseLeave(t)},t.prototype._createEventArgs=function(e){return{marker:this,originalEvent:e}},t.prototype._compileTemplate=function(e){return FN.compile(e,{paramName:"dataItem",useWithBlock:!1})},t.create=function(e,n){return e instanceof t?e:new t(_N({},n,e))},t}(aT),W0=Object.assign;function K0(e){window.requestAnimationFrame(e)}var Y0=function(e){function t(){e.call(this);var t=this;t._tickProxy=G$(t._tick,t),t._started=!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.tick=function(){},t.prototype.done=function(){},t.prototype.onEnd=function(){},t.prototype.onCancel=function(){},t.prototype.start=function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,K0(this._tickProxy)))},t.prototype.enabled=function(){return!0},t.prototype.cancel=function(){this._started=!1,this.onCancel()},t.prototype._tick=function(){var e=this;e._started&&(e.tick(),e.done()?(e._started=!1,e.onEnd()):K0(e._tickProxy))},t}(aT),X0=function(e){function t(t){e.call(this),W0(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.done=function(){return this.timePassed()>=this.duration},t.prototype.timePassed=function(){return Math.min(this.duration,TM()-this.startDate)},t.prototype.moveTo=function(e){var t=this,n=t.movable;t.initial=n[t.axis],t.delta=e.location-t.initial,t.duration="number"===typeof e.duration?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=TM(),t.start()},t.prototype._easeProxy=function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}},t.easeOutExpo=function(e,t,n,o){return e===o?t+n:n*(1-Math.pow(2,-10*e/o))+t},t}(Y0),J0=Object.assign,Q0=Math.abs,Z0="change",$0="scroll",e1=function(e){function t(t){e.call(this,t);var n=this;J0(n,t),n.userEvents.bind("gestureend",n.start.bind(this)),n.tapCapture.bind("press",n.cancel.bind(this))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.enabled=function(){return this.movable.scale<this.dimensions.minScale},t.prototype.done=function(){return this.dimensions.minScale-this.movable.scale<.01},t.prototype.tick=function(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)},t.prototype.onEnd=function(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)},t}(Y0),t1=function(e){function t(t){e.call(this);var n=this;J0(n,t,{transition:new X0({axis:t.axis,movable:t.movable,onEnd:function(){n._end()}})}),n.tapCapture.bind("press",function(){n.cancel()}),n.userEvents.bind("end",G$(n.start,n)),n.userEvents.bind("gestureend",G$(n.start,n)),n.userEvents.bind("tap",G$(n.onEnd,n))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onCancel=function(){this.transition.cancel()},t.prototype.freeze=function(e){this.cancel(),this._moveTo(e)},t.prototype.onEnd=function(){var e=this;e.paneAxis.outOfBounds()?e._snapBack():e._end()},t.prototype.done=function(){return Q0(this.velocity)<1},t.prototype.start=function(t){var n,o=this;o.dimension.enabled&&(o.paneAxis.outOfBounds()?o.transition._started?(o.transition.cancel(),o.velocity=Math.min(t.touch[o.axis].velocity*o.velocityMultiplier,55),e.prototype.start.call(this)):o._snapBack():(n=2===t.touch.id?0:t.touch[o.axis].velocity,o.velocity=Math.max(Math.min(n*o.velocityMultiplier,55),-55),o.tapCapture.captureNext(),e.prototype.start.call(this)))},t.prototype.tick=function(){var e=this,t=e.dimension,n=e.paneAxis.outOfBounds()?.5:e.friction,o=e.velocity*=n,i=e.movable[e.axis]+o;!e.elastic&&t.outOfBounds(i)&&(i=Math.max(Math.min(i,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,i)},t.prototype._end=function(){this.tapCapture.cancelCapture(),this.end()},t.prototype._snapBack=function(){var e=this,t=e.dimension,n=e.movable[e.axis]>t.max?t.max:t.min;e._moveTo(n)},t.prototype._moveTo=function(e){this.transition.moveTo({location:e,duration:500,ease:X0.easeOutExpo})},t}(Y0),n1=function(e){function t(t){e.call(this,t);J0(this,t,{origin:{},destination:{},offset:{}})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.tick=function(){this._updateCoordinates(),this.moveTo(this.origin)},t.prototype.done=function(){return Q0(this.offset.y)<5&&Q0(this.offset.x)<5},t.prototype.onEnd=function(){this.moveTo(this.destination),this.callback&&this.callback.call()},t.prototype.setCoordinates=function(e,t){this.offset={},this.origin=e,this.destination=t},t.prototype.setCallback=function(e){e&&EN(e)?this.callback=e:e=void 0},t.prototype._updateCoordinates=function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}},t}(Y0),o1=function(e){function t(t){e.call(this);var n=this,o="x"===t.axis,i=W$('<div class="km-touch-scrollbar km-'+(o?"horizontal":"vertical")+'-scrollbar" />');J0(n,t,{element:i,elementSize:0,movable:new D0(i),scrollMovable:t.movable,alwaysVisible:t.alwaysVisible,size:o?"width":"height"}),n.scrollMovable.bind(Z0,n.refresh.bind(n)),n.container.appendChild(i),t.alwaysVisible&&n.show()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.refresh=function(){var e=this,t=e.axis,n=e.dimension,o=n.size,i=e.scrollMovable,r=o/n.total,a=Math.round(-i[t]*r),s=Math.round(o*r);this.element.style.display=r>=1?"none":"",a+s>o?s=o-a:a<0&&(s+=a,a=0),e.elementSize!==s&&(e.element.style[e.size]=s+"px",e.elementSize=s),e.movable.moveAxis(t,a)},t.prototype.show=function(){this.element.style.opacity=.7,this.element.style.visibility="visible"},t.prototype.hide=function(){this.alwaysVisible||(this.element.style.opacity=0)},t}(aT),i1=function(e){function t(t,n){e.call(this);var o=this;this.element=t,this._initOptions(n);var i=function(){var e=_M().mobileOS;return e.ios||e.android}(navigator.userAgent);o._native=o.options.useNative&&i;var r=W$('<div class="km-scroll-header"/>');if(o._native)return hN(t,"km-native-scroller"),Y$(r,t),void J0(o,{scrollElement:t,fixedContainer:t.children[0]});t.style.overflow="hidden",hN(t,"km-scroll-wrapper"),function(e,t){for(e.appendChild(t);e.firstChild!==t;)t.appendChild(e.firstChild)}(t,W$('<div class="km-scroll-container"/>')),Y$(r,t);var a=t.children[1],s=new S0(t),l=new D0(a),c=new E0({element:a,container:t,forcedEnabled:o.options.zoom}),d=this.options.avoidScrolling,u=new lO(t,{touchAction:"none",allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:o.options.zoom,supportDoubleTap:o.options.supportDoubleTap,start:function(e){c.refresh();var t=Q0(e.x.velocity),n=Q0(e.y.velocity),i=2*t>=n,r=2*n>=t;!o.fixedContainer.contains(e.event.target)&&!d(e)&&o.enabled&&(c.x.enabled&&i||c.y.enabled&&r)?u.capture():u.cancel()}}),p=new A0({movable:l,dimensions:c,userEvents:u,elastic:o.options.elastic}),h=new e1({movable:l,dimensions:c,userEvents:u,tapCapture:s}),m=new n1({moveTo:function(e){o.scrollTo(e.x,e.y)}});l.bind(Z0,function(){o.scrollTop=-l.y,o.scrollLeft=-l.x,o.trigger($0,{scrollTop:o.scrollTop,scrollLeft:o.scrollLeft})}),o.options.mousewheelScrolling&&(this._wheelScrollHandler=this._wheelScroll.bind(this),jM(t,"wheel",this._wheelScrollHandler)),J0(o,{movable:l,dimensions:c,zoomSnapBack:h,animatedScroller:m,userEvents:u,pane:p,tapCapture:s,pulled:!1,enabled:!0,scrollElement:a,scrollTop:0,scrollLeft:0,fixedContainer:t.children[0]}),o._initAxis("x"),o._initAxis("y"),o._wheelEnd=function(){o._wheel=!1,o.userEvents.end(0,o._wheelY)},c.refresh(),o.options.pullToRefresh&&o._initPullToRefresh()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initOptions=function(e){this.options=_N({},this.options,e)},t.prototype._wheelScroll=function(e){if(!e.ctrlKey){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=function(e){var t,n=e.wheelDeltaY;return e.wheelDelta?(void 0===n||n)&&(t=e.wheelDelta):e.detail&&e.axis===e.VERTICAL_AXIS&&(t=10*-e.detail),t}(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()}},t.prototype.makeVirtual=function(){this.dimensions.y.makeVirtual()},t.prototype.virtualSize=function(e,t){this.dimensions.y.virtualSize(e,t)},t.prototype.height=function(){return this.dimensions.y.size},t.prototype.scrollHeight=function(){return this.scrollElement.scrollHeight},t.prototype.scrollWidth=function(){return this.scrollElement.scrollWidth},t.prototype._resize=function(){this._native||this.contentResized()},t.prototype.setOptions=function(e){this._initOptions(e),e.pullToRefresh&&this._initPullToRefresh()},t.prototype.reset=function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},t.prototype.contentResized=function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},t.prototype.zoomOut=function(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.scrollTo=function(e,t){this._native?(this.scrollElement.scrollLeft(Q0(e)),this.scrollElement.scrollTop(Q0(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}))},t.prototype.animatedScrollTo=function(e,t,n){var o,i;this._native?this.scrollTo(e,t):(o={x:this.movable.x,y:this.movable.y},i={x:e,y:t},this.animatedScroller.setCoordinates(o,i),this.animatedScroller.setCallback(n),this.animatedScroller.start())},t.prototype.pullHandled=function(){},t.prototype.destroy=function(){AM(this.element,"wheel",this._wheelScrollHandler),this.userEvents&&this.userEvents.destroy()},t.prototype._scale=function(e){this.dimensions.rescale(e),this.movable.scaleTo(e)},t.prototype._initPullToRefresh=function(){},t.prototype._dragEnd=function(){},t.prototype._paneChange=function(){},t.prototype._initAxis=function(e){var t=this,n=t.movable,o=t.dimensions[e],i=t.tapCapture,r=t.pane[e],a=new o1({axis:e,movable:n,dimension:o,container:t.element,alwaysVisible:t.options.visibleScrollHints});o.bind(Z0,function(){a.refresh()}),r.bind(Z0,function(){a.show()}),t[e+"inertia"]=new t1({axis:e,paneAxis:r,movable:n,tapCapture:i,userEvents:t.userEvents,dimension:o,elastic:t.options.elastic,friction:t.options.friction||.96,velocityMultiplier:t.options.velocityMultiplier||10,end:function(){a.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})},t}(FM);RP(i1,{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}}),Q$(i1,["pull",$0,"resize"]);var r1=function(e,t){void 0===t&&(t={}),this.sender=t.sender||e,this.widget=e,this.rtl=Boolean(t.rtl)};r1.prototype.notify=function(e,t){this.widget&&this.widget.trigger(e,t)};const a1=r1;var s1=Math,l1=s1.min,c1=s1.pow,d1=yO,u1="marker",p1="location",h1="wheel",m1={bubble:M0,shape:T0,tile:y0};m1[u1]=U0;var f1=function(e){function t(t,n,o,i){void 0===n&&(n={}),void 0===o&&(o={}),void 0===i&&(i={}),e.call(this),this._init(t,n,o,i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.scroller.destroy(),this._tooltip&&this._tooltip.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),pN(this.markers)?this.markers.forEach(function(e){e.destroy()}):this.markers.destroy();for(var t=0;t<this.layers.length;t++)this.layers[t].destroy();AM(this.element,h1,this._mousewheelHandler),e.prototype.destroy.call(this)},t.prototype._init=function(e,t,n,o){void 0===t&&(t={}),void 0===n&&(n={}),void 0===o&&(o={}),this.support=_M(),this.context=o,this.initObserver(o),this.initServices(o),this._notifyObserver("init"),this._initOptions(t),this._setEvents(t),this.crs=new U$,this._initElement(e),this._viewOrigin=this._getOrigin(),this._tooltip=this._createTooltip(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset();var i=hW(this._mousewheel.bind(this),50);this._mousewheelHandler=function(e){e.preventDefault(),i(e)},jM(this.element,h1,this._mousewheelHandler)},t.prototype._initOptions=function(e){this.options=_N({},this.options,e)},t.prototype._initElement=function(e){this.element=e,hN(e,"k-map"),e.style.position="relative",e.setAttribute("data-role","map"),K$(e);var t=W$("<div />");this.element.appendChild(t)},t.prototype.initServices=function(e){void 0===e&&(e={}),this.widgetService=new a1(this,e)},t.prototype.initObserver=function(e){void 0===e&&(e={}),this.observers=[],this.addObserver(e.observer)},t.prototype.addObserver=function(e){e&&this.observers.push(e)},t.prototype.removeObserver=function(e){var t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)},t.prototype.requiresHandlers=function(e){for(var t=this.observers,n=0;n<t.length;n++)if(t[n].requiresHandlers(e))return!0},t.prototype.trigger=function(t,n){void 0===n&&(n={}),n.sender=this;for(var o=this.observers,i=!1,r=0;r<o.length;r++)o[r].trigger(t,n)&&(i=!0);return i||e.prototype.trigger.call(this,t,n),i},t.prototype._notifyObserver=function(e,t){void 0===t&&(t={}),t.sender=this;for(var n=this.observers,o=!1,i=0;i<n.length;i++)n[i].trigger(e,t)&&(o=!0);return o},t.prototype.zoom=function(e){var t,n=this.options;if(bP(e)){var o=s1.round(AP(e,n.minZoom,n.maxZoom));n.zoom!==o&&(n.zoom=o,this.widgetService.notify("zoomChange",{zoom:n.zoom}),this._reset()),t=this}else t=n.zoom;return t},t.prototype.center=function(e){var t;if(e){var n=j$.create(e),o=j$.create(this.options.center);n.equals(o)||(this.options.center=n.toArray(),this.widgetService.notify(d0,{center:this.options.center}),this._reset()),t=this}else t=j$.create(this.options.center);return t},t.prototype.extent=function(e){var t;return e?(this._setExtent(e),t=this):t=this._getExtent(),t},t.prototype.setOptions=function(e){void 0===e&&(e={});var t=this.element;this.destroy(),K$(t),this._init(t,e,{},this.context),this._reset()},t.prototype.locationToLayer=function(e,t){var n=!this.options.wraparound,o=j$.create(e);return this.crs.toPoint(o,this._layerSize(t),n)},t.prototype.layerToLocation=function(e,t){var n=!this.options.wraparound,o=d1.create(e);return this.crs.toLocation(o,this._layerSize(t),n)},t.prototype.locationToView=function(e){var t=j$.create(e),n=this.locationToLayer(this._viewOrigin);return this.locationToLayer(t).translateWith(n.scale(-1))},t.prototype.viewToLocation=function(e,t){var n=this.locationToLayer(this._getOrigin(),t),o=d1.create(e).clone().translateWith(n);return this.layerToLocation(o,t)},t.prototype.eventOffset=function(e){var t,n,o=kP(this.element);if(e.x&&e.x[p1]||e.y&&e.y[p1])t=e.x[p1]-o.left,n=e.y[p1]-o.top;else{var i=e.originalEvent||e;t=PP(i.pageX,i.clientX)-o.left,n=PP(i.pageY,i.clientY)-o.top}return new yO(t,n)},t.prototype.eventToView=function(e){var t=this.eventOffset(e);return this.locationToView(this.viewToLocation(t))},t.prototype.eventToLayer=function(e){return this.locationToLayer(this.eventToLocation(e))},t.prototype.eventToLocation=function(e){var t=this.eventOffset(e);return this.viewToLocation(t)},t.prototype.viewSize=function(){var e=this.element,t=this._layerSize(),n=e.clientWidth;return this.options.wraparound||(n=l1(t,n)),{width:n,height:l1(t,e.clientHeight)}},t.prototype.exportVisual=function(){return this._reset(),!1},t.prototype.hideTooltip=function(){this._tooltip&&this._tooltip.hide()},t.prototype._setOrigin=function(e,t){var n,o=this.viewSize(),i=this._origin=j$.create(e);return(n=this.locationToLayer(i,t)).x+=o.width/2,n.y+=o.height/2,this.options.center=this.layerToLocation(n,t).toArray(),this.widgetService.notify(d0,{center:this.options.center}),this},t.prototype._getOrigin=function(e){var t,n=this.viewSize();return!e&&this._origin||((t=this.locationToLayer(this.center())).x-=n.width/2,t.y-=n.height/2,this._origin=this.layerToLocation(t)),this._origin},t.prototype._setExtent=function(e){var t=c0.create(e),n=t.se.clone();this.options.wraparound&&n.lng<0&&e.nw.lng>0&&(n.lng=180+(180+n.lng));var o=new c0(t.nw,n);this.center(o.center());var i,r=this.element.clientWidth,a=this.element.clientHeight;for(i=this.options.maxZoom;i>=this.options.minZoom;i--){var s=this.locationToLayer(o.nw,i),l=this.locationToLayer(o.se,i),c=s1.abs(l.x-s.x),d=s1.abs(l.y-s.y);if(c<=r&&d<=a)break}this.zoom(i)},t.prototype._getExtent=function(){var e=this._getOrigin(),t=this.locationToLayer(e),n=this.viewSize();t.x+=n.width,t.y+=n.height;var o=this.layerToLocation(t);return new c0(e,o)},t.prototype._zoomAround=function(e,t){this._setOrigin(this.layerToLocation(e,t),t),this.zoom(t)},t.prototype._initControls=function(){var e=this.options.controls;e.attribution&&this._createAttribution(e.attribution),this.support.mobileOS||(e.navigator&&this._createNavigator(e.navigator),e.zoom&&this._createZoomControl(e.zoom))},t.prototype._createControlElement=function(e,t){var n=e.position||t,o="."+Z$(n).replace(" ","."),i=this.element.querySelector(".k-map-controls"+o)||[];if(0===i.length){var r=document.createElement("div");hN(r,"k-map-controls "+Z$(n)),i=r,this.element.appendChild(i)}var a=document.createElement("div");return i.appendChild(a),a},t.prototype._createAttribution=function(e){var t=this._createControlElement(e,"bottomRight");this.attribution=new $$(t,e)},t.prototype._createNavigator=function(e){var t=this._createControlElement(e,"topLeft"),n=this.navigator=new n0(t,_N({},e,{icons:this.options.icons}));this._navigatorPan=this._navigatorPan.bind(this),n.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),n.bind("center",this._navigatorCenter)},t.prototype._navigatorPan=function(e){var t=this.scroller,n=t.scrollLeft+e.x,o=t.scrollTop-e.y,i=this._virtualSize,r=this.element.clientWidth,a=this.element.clientHeight;n=AP(n,i.x.min,i.x.max-r),o=AP(o,i.y.min,i.y.max-a),this.scroller.one("scroll",G$(this._scrollEnd,this)),this.scroller.scrollTo(-n,-o)},t.prototype._navigatorCenter=function(){this.center(this.options.center)},t.prototype._createZoomControl=function(e){var t=this._createControlElement(e,"topLeft"),n=this.zoomControl=new r0(t,e,this.options.icons);this._zoomControlChange=this._zoomControlChange.bind(this),n.bind("change",this._zoomControlChange)},t.prototype._zoomControlChange=function(e){this.trigger("zoomStart",{originalEvent:e})||(this.zoom(this.zoom()+e.delta),this.trigger("zoomEnd",{originalEvent:e}))},t.prototype._initScroller=function(){var e=this.support.mobileOS?.93:.9,t=!1!==this.options.zoomable,n=this.scroller=new i1(this.element.children[0],{friction:e,velocityMultiplier:5,zoom:t,mousewheelScrolling:!1,supportDoubleTap:!0});n.bind("scroll",G$(this._scroll,this)),n.bind("scrollEnd",G$(this._scrollEnd,this)),n.userEvents.bind("gesturestart",G$(this._scaleStart,this)),n.userEvents.bind("gestureend",G$(this._scale,this)),n.userEvents.bind("doubleTap",G$(this._doubleTap,this)),n.userEvents.bind("tap",G$(this._tap,this)),this.scrollElement=n.scrollElement},t.prototype._initLayers=function(){for(var e=this.options.layers,t=this.layers=[],n=0;n<e.length;n++){var o=e[n],i=this._createLayer(o);t.push(i)}},t.prototype._createLayer=function(e){var t=e.type||"shape",n=this.options.layerDefaults[t],o=t===u1?_N({},this.options.markerDefaults,e,{icons:this.options.icons}):_N({},n,e),i=new(0,m1[t])(this,o);return t===u1&&(this.markers=i),i},t.prototype._createTooltip=function(){return new u0(this.widgetService,this.options.tooltip)},t.prototype._initMarkers=function(){var e=(this.options.layers||[]).filter(function(e){return e&&e.type===u1});e.length>0||(this.markers=new U0(this,_N({},this.options.markerDefaults,{icons:this.options.icons})),this.markers.add(this.options.markers))},t.prototype._scroll=function(e){var t=this.locationToLayer(this._viewOrigin).round(),n=e.sender.movable,o=new yO(n.x,n.y).scale(-1).scale(1/n.scale);t.x+=o.x,t.y+=o.y,this._scrollOffset=o,this._tooltip.offset=o,this.hideTooltip(),this._setOrigin(this.layerToLocation(t)),this.trigger("pan",{originalEvent:e,origin:this._getOrigin(),center:this.center()})},t.prototype._scrollEnd=function(e){this._scrollOffset&&this._panComplete()&&(this._scrollOffset=null,this._panEndTimestamp=TM(),this.trigger("panEnd",{originalEvent:e,origin:this._getOrigin(),center:this.center()}))},t.prototype._panComplete=function(){return TM()-(this._panEndTimestamp||0)>50},t.prototype._scaleStart=function(e){if(this.trigger("zoomStart",{originalEvent:e})){var t=e.touches[1];t&&t.cancel()}},t.prototype._scale=function(e){var t=this.scroller.movable.scale,n=this._scaleToZoom(t),o=new yO(e.center.x,e.center.y),i=this.viewToLocation(o,n),r=this.locationToLayer(i,n).translate(-o.x,-o.y);this._zoomAround(r,n),this.trigger("zoomEnd",{originalEvent:e})},t.prototype._scaleToZoom=function(e){var t=this._layerSize()*e/this.options.minSize,n=s1.log(t)/s1.log(2);return s1.round(n)},t.prototype._reset=function(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.hideTooltip(),this.trigger("beforeReset"),this.trigger("reset")},t.prototype._resetScroller=function(){var e=this.scroller,t=e.dimensions.x,n=e.dimensions.y,o=this._layerSize(),i=this.extent().nw,r=this.locationToLayer(i).round();e.movable.round=!0,e.reset(),e.userEvents.cancel();var a=this.zoom();e.dimensions.forcedMinScale=c1(2,this.options.minZoom-a),e.dimensions.maxScale=c1(2,this.options.maxZoom-a);var s={min:-r.x,max:o-r.x},l={min:-r.y,max:o-r.y};if(this.options.wraparound&&(s.max=20*o,s.min=-s.max),!1===this.options.pannable){var c=this.viewSize();s.min=l.min=0,s.max=c.width,l.max=c.height}t.makeVirtual(),n.makeVirtual(),t.virtualSize(s.min,s.max),n.virtualSize(l.min,l.max),this._virtualSize={x:s,y:l}},t.prototype._renderLayers=function(){},t.prototype._layerSize=function(e){var t=PP(e,this.options.zoom);return this.options.minSize*c1(2,t)},t.prototype._tap=function(e){if(this._panComplete()){var t=this.eventOffset(e);this.hideTooltip(),this.trigger("click",{originalEvent:e,location:this.viewToLocation(t)})}},t.prototype._doubleTap=function(e){if(!1!==this.options.zoomable&&!this.trigger("zoomStart",{originalEvent:e})){var t=this.zoom()+1,n=this.eventOffset(e),o=this.viewToLocation(n),i=this.locationToLayer(o,t).translate(-n.x,-n.y);this._zoomAround(i,t),this.trigger("zoomEnd",{originalEvent:e})}},t.prototype._mousewheel=function(e){var t=rT(e)>0?-1:1,n=this.options,o=this.zoom(),i=AP(o+t,n.minZoom,n.maxZoom);if(!1!==n.zoomable&&i!==o&&!this.trigger("zoomStart",{originalEvent:e})){var r=this.eventOffset(e),a=this.viewToLocation(r),s=this.locationToLayer(a,i).translate(-r.x,-r.y);this._zoomAround(s,i),this.trigger("zoomEnd",{originalEvent:e})}},t.prototype._toDocumentCoordinates=function(e){var t=kP(this.element);return{left:NP(e.x+t.left),top:NP(e.y+t.top)}},t}(FM);RP(f1,{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],icons:{type:"font",svgIcons:{}},zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,renderPointsAsMarkers:!1}),Q$(f1,["beforeReset","click","markerActivate","markerClick","markerCreated","markerMouseEnter","markerMouseLeave","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"]);var g1=function(e,t){return e.map(t).reduce(function(e,t){return e+t},0)},v1=function(e,t){return e.y0===t.y0?e.index-t.index:e.y0+e.y1-t.y0-t.y1},y1=function(e,t){return v1(e.source,t.source)},x1=function(e,t){return v1(e.target,t.target)},b1=function(e){return e.value};function w1(e){e.forEach(function(e){e.targetLinks.forEach(function(e){e.source.sourceLinks.sort(x1)}),e.sourceLinks.forEach(function(e){e.target.targetLinks.sort(y1)})})}var k1=function(e,t){return"left"===e.align?e.depth:"right"===e.align?t-e.height:e.sourceLinks.length?e.depth:t},C1=function(e){var t=e.nodesOptions,n=t.offset;void 0===n&&(n={});var o=t.align;this.data={nodes:e.nodes.map(function(e){return _N({},{offset:n,align:o},e)}),links:e.links.map(function(e){return _N({},e)})},this.width=e.width,this.height=e.height,this.offsetX=e.offsetX||0,this.offsetY=e.offsetY||0,this.nodeWidth=e.nodesOptions.width,this.nodePadding=e.nodesOptions.padding,this.reverse=e.reverse,this.targetColumnIndex=e.targetColumnIndex,this.loops=e.loops,this.autoLayout=e.autoLayout};C1.prototype.calculate=function(){var e=this.data,t=e.nodes,n=e.links;this.connectLinksToNodes(t,n),this.calculateNodeValues(t);var o=this.calculateNodeHeights(t);if(o)return{nodes:[],links:[],columns:[],circularLinks:o};this.calculateNodeDepths(t);var i=this.calculateNodeColumns(t);return this.calculateNodeBreadths(i),this.applyNodesOffset(t),this.calculateLinkBreadths(t),Object.assign({},this.data,{columns:i})},C1.prototype.connectLinksToNodes=function(e,t){var n=new Map;e.forEach(function(e,t){e.index=t,e.sourceLinks=[],e.targetLinks=[],e.id=void 0!==e.id?e.id:e.label.text,n.set(e.id,e)}),t.forEach(function(e){e.source=n.get(e.sourceId),e.target=n.get(e.targetId),e.source.sourceLinks.push(e),e.target.targetLinks.push(e)})},C1.prototype.calculateNodeValues=function(e){e.forEach(function(e){e.value=Math.max(g1(e.sourceLinks,b1),g1(e.targetLinks,b1))})},C1.prototype.calculateNodeDepths=function(e){for(var t=new Set(e),n=new Set,o=0;t.size;){for(var i=Array.from(t),r=0;r<i.length;r++){var a=i[r];a.depth=o;for(var s=0;s<a.sourceLinks.length;s++){var l=a.sourceLinks[s];n.add(l.target)}}o++,t=n,n=new Set}},C1.prototype.calculateNodeHeights=function(e){for(var t=e.length,n=new Set(e),o=new Set,i=0,r=function(e){e.height=i,e.targetLinks.forEach(function(e){o.add(e.source)})};n.size;){if(n.forEach(r),++i>t)return!0;n=o,o=new Set}return!1},C1.prototype.calculateNodeColumns=function(e){for(var t,n,o=(t=e,n=function(e){return e.depth},Math.max.apply(null,t.map(n))),i=(this.width-this.offsetX-this.nodeWidth)/o,r=new Array(o+1),a=0;a<e.length;a++){var s=e[a],l=Math.max(0,Math.min(o,k1(s,o)));s.x0=this.offsetX+l*i,s.x1=s.x0+this.nodeWidth,s.layer=l,r[l]=r[l]||[],r[l].push(s)}return r},C1.prototype.calculateNodeBreadths=function(e){var t,n,o=this,i=(t=e,n=function(e){return(o.height-o.offsetY-(e.length-1)*o.nodePadding)/g1(e,b1)},Math.min.apply(null,t.map(n)));if(e.forEach(function(e){var t=o.offsetY;e.forEach(function(e){e.y0=t,e.y1=t+e.value*i,t=e.y1+o.nodePadding,e.sourceLinks.forEach(function(e){e.width=e.value*i})}),t=(o.height-t+o.nodePadding)/(e.length+1),e.forEach(function(e,n){e.y0+=t*(n+1),e.y1+=t*(n+1)})}),!1!==this.autoLayout)for(var r=void 0!==this.loops?this.loops:e.length-1,a=this.targetColumnIndex||1,s=0;s<r;s++)o.reverse?(o.uncurlLinksToRight(e,a),o.uncurlLinksToLeft(e,a)):(o.uncurlLinksToLeft(e,a),o.uncurlLinksToRight(e,a));e.forEach(w1)},C1.prototype.applyNodesOffset=function(e){e.forEach(function(e){var t=(e.offset?e.offset.left:0)||0,n=(e.offset?e.offset.top:0)||0;e.x0+=t,e.x1+=t,e.y0+=n,e.y1+=n})},C1.prototype.calculateLinkBreadths=function(e){e.forEach(function(e){var t=e.sourceLinks,n=e.targetLinks,o=e.y0,i=o;t.forEach(function(e){e.x0=e.source.x1,e.y0=o+e.width/2,o+=e.width}),n.forEach(function(e){e.x1=e.target.x0,e.y1=i+e.width/2,i+=e.width})})},C1.prototype.uncurlLinksToRight=function(e,t){for(var n=this,o=e.length,i=t;i<o;i++){var r=e[i];r.forEach(function(e){var t=0,o=0;e.targetLinks.forEach(function(i){var r=i.value*(e.layer-i.source.layer);t+=n.targetTopPos(i.source,e)*r,o+=r});var i=0===t?0:t/o-e.y0;e.y0+=i,e.y1+=i,w1([e])}),r.sort(v1),n.arrangeNodesVertically(r)}},C1.prototype.uncurlLinksToLeft=function(e,t){for(var n=this,o=e.length-1-t;o>=0;o--){for(var i=e[o],r=function(e){var t=i[e],o=0,r=0;t.sourceLinks.forEach(function(e){var i=e.value*(e.target.layer-t.layer);o+=n.sourceTopPos(t,e.target)*i,r+=i});var a=0===o?0:o/r-t.y0;t.y0+=a,t.y1+=a,w1([t])},a=0;a<i.length;a++)r(a);i.sort(v1),n.arrangeNodesVertically(i)}},C1.prototype.arrangeNodesVertically=function(e){var t=e.length-1;this.arrangeUp(e,this.height,t),this.arrangeDown(e,this.offsetY,0)},C1.prototype.arrangeDown=function(e,t,n){for(var o=t,i=n;i<e.length;i++){var r=e[i],a=Math.max(0,o-r.y0);r.y0+=a,r.y1+=a,o=r.y1+this.nodePadding}},C1.prototype.arrangeUp=function(e,t,n){for(var o=t,i=n;i>=0;--i){var r=e[i],a=Math.max(0,r.y1-o);r.y0-=a,r.y1-=a,o=r.y0-this.nodePadding}},C1.prototype.sourceTopPos=function(e,t){for(var n=t.y0-(t.targetLinks.length-1)*this.nodePadding/2,o=0;o<t.targetLinks.length;o++){var i=t.targetLinks[o];if(i.source===e)break;n+=i.width+this.nodePadding}for(var r=0;r<e.sourceLinks.length;r++){var a=e.sourceLinks[r];if(a.target===t)break;n-=a.width}return n},C1.prototype.targetTopPos=function(e,t){for(var n=e.y0-(e.sourceLinks.length-1)*this.nodePadding/2,o=0;o<e.sourceLinks.length;o++){var i=e.sourceLinks[o];if(i.target===t)break;n+=i.width+this.nodePadding}for(var r=0;r<t.targetLinks.length;r++){var a=t.targetLinks[r];if(a.source===e)break;n-=a.width}return n};var S1=function(e){return new C1(e).calculate()};function I1(e,t,n,o,i,r){var a=(r-t)*(n-e),s=(o-t)*(i-e);return a>s?1:a===s?0:-1}function E1(e,t){var n=I1(e.x0,e.y0,e.x1,e.y1,t.x1,t.y1),o=I1(e.x0,e.y0,e.x1,e.y1,t.x0,t.y0),i=I1(e.x0,e.y0,t.x0,t.y0,t.x1,t.y1),r=I1(e.x1,e.y1,t.x0,t.y0,t.x1,t.y1);return n!==o&&i!==r}var j1=function(e){function t(t){e.call(this),this.options=_N({},this.options,t),this.createVisual()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createVisual=function(){this.visual=this.createElement()},t.prototype.exportVisual=function(){return this.visual},t.prototype.createElement=function(){var e=this,t=this.options.visual;return t?t({sender:this.getSender(),options:this.visualOptions(),createVisual:function(){return e.getElement()}}):this.getElement()},t.prototype.getSender=function(){return this},t}(aT),A1=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){return GR.fromRect(this.getRect(),this.visualOptions())},t.prototype.getRect=function(){var e=this.options.node;return new kO([e.x0,e.y0],[e.x1-e.x0,e.y1-e.y0])},t.prototype.getLabelText=function(e){var t=e.labels.ariaTemplate;if(t)return t({node:e.node})},t.prototype.visualOptions=function(){var e=_N({},this.options,this.options.node),t=this.getLabelText(e);return{fill:{color:e.color,opacity:e.opacity},stroke:{width:0},className:"k-sankey-node",role:"graphics-symbol",ariaRoleDescription:"Node",ariaLabel:t}},t.prototype.createFocusHighlight=function(){if(this.options.navigatable)return this._highlight=GR.fromRect(this.getRect(),{stroke:this.options.focusHighlight.border,visible:!1}),this._highlight},t.prototype.focus=function(e){if(this._highlight){var t=(e||{}).highlight;void 0===t&&(t=!0),t&&this._highlight.options.set("visible",!0);var n=this.options.node.id;this.visual.options.set("id",n),this.options.root()&&this.options.root().setAttribute(MD,n)}},t.prototype.blur=function(){this._highlight&&(this._highlight.options.set("visible",!1),this.visual.options.set("id",""),this.options.root()&&this.options.root().removeAttribute(MD))},t}(j1),_1=function(e,t,n){return e.color||t[n%t.length]},D1=function(e,t,n,o){var i=_N({},t,t.node);return _N({},{color:_1(e,n,o)},i,{node:e},{visual:e.visual,opacity:e.opacity,offset:e.offset,color:e.color})},N1=function(e,t,n,o,i){var r=1-i,a=r*r,s=i*i;return e*a*r+3*t*i*a+3*n*s*r+o*s*i};var T1=function(e,t){var n=e.width/2,o=t?e.x1:e.x0,i=t?e.x0:e.x1,r=t?e.y1:e.y0,a=t?e.y0:e.y1,s=(o+i)/2,l=[s,N1(r,r,a,a,.5)],c=.4999,d=[N1(o,s,s,i,c),N1(r,r,a,a,c)],u=function(e,t,n,o,i){var r,a,s=(e+n)/2,l=(t+o)/2;if(t===o)r=0,a=i/2;else if(e===n)r=i/2,a=0;else{var c=-1/((o-t)/(n-e));a=c*(r=i/2/Math.sqrt(1+c*c))}return{P1:{x:s-r,y:l-a},P2:{x:s+r,y:l+a}}}(l[0],l[1],d[0],d[1],e.width),p=[s,N1(r+n,r+n,a+n,a+n,.5)],h=u.P1.y>u.P2.y?u.P1:u.P2,m=(r>a?1:-1)*n,f=function(e,t,n,o,i){var r=(e.x+t.x)/2,a=(e.y+t.y)/2,s=t.x-e.x,l=-(t.y-e.y),c=s,d=Math.sqrt(l*l+c*c),u=r+(l=l/d*n),p=a+(c=c/d*n),h=r-l,m=a-c,f=i.x-o.x,g=i.y-o.y,v=g*(u-h)-f*(p-m);if(Math.abs(v)<1e-10)return null;var y=(f*(m-o.y)-g*(h-o.x))/v,x=((u-h)*(m-o.y)-(p-m)*(h-o.x))/v;return y>=0&&y<=1&&x>=0&&x<=1?{x:h+y*(u-h)}:null}(h,{x:p[0],y:p[1]},n,{x:p[0],y:p[1]},{x:Math.max(1,p[0]+m),y:p[1]})||{x:(p[0]+h.x)/2},g=o,v=i;return s-(f.x-.125*g-.125*v)/.75},P1=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=this.options.link,t=e.x0,n=e.x1,o=e.y0,i=e.y1,r=(t+n)/2;return new GR(this.visualOptions()).moveTo(t,o).curveTo([r,o],[r,i],[n,i])},t.prototype.getLabelText=function(e){var t=e.labels.ariaTemplate;if(t)return t({link:e.link})},t.prototype.visualOptions=function(){var e=this.options,t=this.options.link,n=this.getLabelText(e);return{stroke:{width:e.link.width,color:t.color||e.color,opacity:bP(t.opacity)?t.opacity:e.opacity},role:"graphics-symbol",ariaRoleDescription:"Link",ariaLabel:n}},t.prototype.createFocusHighlight=function(){if(this.options.navigatable){var e=this.options.link,t=e.x0,n=e.x1,o=e.y0,i=e.y1,r=(t+n)/2,a=e.width/2,s=T1(e,this.options.rtl);this._highlight=new GR({stroke:this.options.focusHighlight.border,visible:!1}).moveTo(t,o+a).lineTo(t,o-a).curveTo([r+s,o-a],[r+s,i-a],[n,i-a]).lineTo(n,i+a).curveTo([r-s,i+a],[r-s,o+a],[t,o+a])}},t.prototype.focus=function(e){if(this._highlight){var t=(e||{}).highlight;void 0===t&&(t=!0),t&&this._highlight.options.set("visible",!0);var n=this.options.link.sourceId+"->"+this.options.link.targetId;this.visual.options.set("id",n),this.options.root()&&this.options.root().setAttribute(MD,n)}},t.prototype.blur=function(){this._highlight&&(this._highlight.options.set("visible",!1),this.visual.options.set("id",""),this.options.root()&&this.options.root().removeAttribute(MD))},t}(j1),M1="inside",O1="before",R1="after",L1=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=_N({},this.options,this.options.node.label),t=e.node,n=e.diagramMinX,o=e.diagramMaxX,i=e.text,r=e.offset,a=e.rtl,s=e.position;if(a&&s!==M1&&(s=s===O1?R1:O1),!e.visible||!i)return null;var l=new IO(t.x0,t.y0,t.x1,t.y1),c=this.visualOptions();a&&!c.align&&(c.align="right");var d=new wF(i,c);d.reflow(new IO);var u=d.box,p=l.center().y-u.height()/2,h=t.x1+u.width()>o,m=t.x0-u.width()<n,f=s===O1||s===M1&&h?O1:R1;a&&(f=s===R1||s===M1&&m?R1:O1);var g=[f===O1?t.x0-u.width():t.x1,p],v=new IO(g[0],g[1],g[0]+u.width(),g[1]+u.height());return v.translate(r.left||0,r.top||0),d.reflow(v),d.renderVisual(),d.visual},t.prototype.visualOptions=function(){var e=_N({},this.options,this.options.node.label);return{color:e.color,font:e.font,border:e.border,margin:e.margin,padding:e.padding,align:e.align,paintOrder:e.paintOrder,stroke:e.stroke}},t}(j1);RP(L1,{position:M1});var F1=function(e,t,n,o,i){return _N({},t,{node:e,diagramMinX:o,diagramMaxX:i,rtl:n,visual:e.label.visual,visible:e.label.visible,margin:e.label.margin,padding:e.label.padding,border:e.label.border,align:e.label.align,offset:e.label.offset})},z1=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=this.options,t=e.drawingRect,n=e.text;if(!1===e.visible||!n)return null;var o=SF.buildTitle(n,e);return o.reflow(t),o.renderVisual(),o.visual},t.prototype.createElement=function(){return this.getElement()},t}(j1);RP(z1,{align:LD,border:{width:0},margin:ON(5),padding:ON(5)});var B1=function(e,t){return e.node.x0-t.node.x0!==0?e.node.x0-t.node.x0:e.node.y0-t.node.y0},V1=function(e,t){return e.node.x1-t.node.x1!==0?e.node.x1-t.node.x1:t.node.y0-e.node.y0},H1=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=this.options,t=e.drawingRect,n=e.rtl,o=e.nodes;void 0===o&&(o=[]);var i=e.item,r=e.position;if(!1===e.visible||!o.length)return null;var a=o.map(function(e){return{text:e.label&&e.label.text||"",area:{background:void 0!==i.areaBackground?i.areaBackground:e.color,opacity:void 0!==i.areaOpacity?i.areaOpacity:e.opacity},node:e}});a.sort(function(e){return e?V1:B1}(n));var s=n&&r!==YD&&r!==eN,l=new xK(Object.assign({},e,{data:a,reverse:s}),{rtl:n});return l.reflow(t),l.renderVisual(),l.visual},t.prototype.createElement=function(){return this.getElement()},t}(j1);RP(H1,{markers:{visible:!1},item:{type:WB,cursor:dN,opacity:1},position:RD,align:LD,accessibility:{role:"presentation",ariaLabel:null,ariaRoleDescription:null},border:{width:0}});var q1="link",U1="node",G1=function(e){function t(t,n,o){e.call(this),this._initTheme(o),this._setOptions(n),this._initElement(t),this._initSurface(),n&&n.data&&(this._redraw(),this._initResizeObserver(),this._initNavigation(t))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.unbind(),this._destroySurface(),this._destroyResizeObserver(),this.element&&(this.element.removeEventListener("keydown",this._keydownHandler),this.element.removeEventListener("focus",this._focusHandler),this.element.removeEventListener("mousedown",this._onDownHandler),this.element.removeEventListener("touchstart",this._onDownHandler),this.element.removeEventListener("pointerdown",this._onDownHandler)),this._focusState=null,this.element=null},t.prototype._initElement=function(e){this.element=e,hN(e,["k-chart","k-sankey"]),e.setAttribute("role","graphics-document");var t=this.options.title;t.text&&e.setAttribute("aria-label",t.text),t.description&&e.setAttribute("aria-roledescription",t.description)},t.prototype._initSurface=function(){this.surface||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},t.prototype._initNavigation=function(e){e.tabIndex=e.getAttribute("tabindex")||0,this.options.disableKeyboardNavigation||(this._keydownHandler=this._keydown.bind(this),this._focusHandler=this._focus.bind(this),this._blurHandler=this._blur.bind(this),this._onDownHandler=this._onDown.bind(this),e.addEventListener("keydown",this._keydownHandler),e.addEventListener("focus",this._focusHandler),e.addEventListener("blur",this._blurHandler),e.addEventListener("mousedown",this._onDownHandler),e.addEventListener("touchstart",this._onDownHandler),e.addEventListener("pointerdown",this._onDownHandler),this._focusState={node:this.firstFocusableNode(),link:null})},t.prototype.firstFocusableNode=function(){return this.columns[0][0]},t.prototype._initResizeObserver=function(){var e=this,t=new ResizeObserver(function(t){t.forEach(function(t){var n=t.contentRect,o=n.width,i=n.height;t.target!==e.element||e.size&&e.size.width===o&&e.size.height===i||(e.size={width:o,height:i},e.surface.setSize(e.size),e.resize=!0,e._redraw())})});this._resizeObserver=t,t.observe(this.element)},t.prototype._createSurface=function(){return BW.create(this.surfaceElement,{mouseenter:this._mouseenter.bind(this),mouseleave:this._mouseleave.bind(this),mousemove:this._mousemove.bind(this),click:this._click.bind(this)})},t.prototype._initTheme=function(e){var t=e||this.theme||{};this.theme=t,this.options=_N({},t,this.options)},t.prototype.setLinksOpacity=function(e){var t=this;this.linksVisuals.forEach(function(n){t.setOpacity(n,e,n.linkOptions.opacity)})},t.prototype.setLinksInactivityOpacity=function(e){var t=this;this.linksVisuals.forEach(function(n){t.setOpacity(n,e,n.linkOptions.highlight.inactiveOpacity)})},t.prototype.setOpacity=function(e,t,n){e.options.set("stroke",Object.assign({},e.options.stroke,{opacity:bP(n)?n:t}))},t.prototype.trigger=function(t,n){var o=n.element.dataItem,i=n.element.type,r=Object.assign({},n,{type:t,targetType:i,dataItem:o});return e.prototype.trigger.call(this,t,r)},t.prototype._mouseenter=function(e){var t=e.element,n=t.type===q1,o=t.type===U1,i=Boolean(t.chartElement&&t.chartElement.options.node);if(!(n&&this.trigger("linkEnter",e)||o&&this.trigger("nodeEnter",e))){var r=this.options.links.highlight;if(n)this.setLinksInactivityOpacity(r.inactiveOpacity),this.setOpacity(t,r.opacity,t.linkOptions.highlight.opacity);else if(o)this.highlightLinks(t,r);else if(i){var a=this.nodesVisuals.get(t.chartElement.options.node.id);this.highlightLinks(a,r)}}},t.prototype._mouseleave=function(e){var t=this,n=e.element,o=n.type===q1,i=n.type===U1,r=Boolean(n.chartElement&&n.chartElement.options.node),a=e.originalEvent.relatedTarget;o&&a&&"text"===a.nodeName||((o||i)&&(this.tooltipTimeOut&&(clearTimeout(this.tooltipTimeOut),this.tooltipTimeOut=null),this.tooltipShown=!1,this.trigger("tooltipHide",e)),o&&this.trigger("linkLeave",e)||i&&this.trigger("nodeLeave",e)||(o||i||r)&&this.linksVisuals.forEach(function(e){t.setOpacity(e,t.options.links.opacity,e.linkOptions.opacity)}))},t.prototype._mousemove=function(e){var t=this,n=this.options.tooltip,o=n.followPointer,i=n.delay,r=e.element,a=r.type;if(!(a!==q1&&a!==U1||this.tooltipShown&&!o)){var s=e.originalEvent,l=this.element.getBoundingClientRect(),c=s.clientX-l.left<l.width/2,d=s.clientY-l.top<l.height/2;if(e.tooltipData={popupOffset:{left:s.pageX,top:s.pageY},popupAlign:{horizontal:c?"left":"right",vertical:d?"top":"bottom"}},a===U1){var u=r.dataItem,p=u.sourceLinks,h=u.targetLinks,m=h.length?h:p;e.nodeValue=m.reduce(function(e,t){return e+t.value},0)}this.tooltipTimeOut&&(clearTimeout(this.tooltipTimeOut),this.tooltipTimeOut=null);var f=o&&this.tooltipShown?0:i;this.tooltipTimeOut=setTimeout(function(){t.trigger("tooltipShow",e),t.tooltipShown=!0,t.tooltipTimeOut=null},f)}},t.prototype._click=function(e){var t=e.element,n=t.dataItem,o=t.type===q1,i=t.type===U1,r=this._focusState||{};if(i)!r.link&&this.sameNode(r.node,n)||(this._focusState={node:n,link:null},this._focusNode({highlight:!1})),this.trigger("nodeClick",e);else if(o){var a={sourceId:n.source.id,targetId:n.target.id,value:n.value};this.sameLink(r.link,a)||(this._focusState={node:n.source,link:a},this._focusLink({highlight:!1})),this.trigger("linkClick",e)}},t.prototype.sameNode=function(e,t){return e&&t&&e.id===t.id},t.prototype.sameLink=function(e,t){return e&&t&&e.sourceId===t.sourceId&&e.targetId===t.targetId},t.prototype._focusNode=function(e){this._cleanFocusHighlight();var t=this._focusState.node;this.models.map.get(t.id).focus(e)},t.prototype._focusLink=function(e){this._cleanFocusHighlight();var t=this._focusState.link;this.models.map.get(t.sourceId+"-"+t.targetId).focus(e)},t.prototype._focusNextNode=function(e){void 0===e&&(e=1);var t=this._focusState.node,n=this.columns.findIndex(function(e){return e.find(function(e){return e.id===t.id})}),o=this.columns[n],i=o.findIndex(function(e){return e.id===t.id}),r=o[i+e];r&&(this._focusState.node=r,this._focusNode())},t.prototype._focusNextLink=function(e){void 0===e&&(e=1);var t=this._focusState.node,n=this._focusState.link,o=t.sourceLinks.findIndex(function(e){return e.sourceId===n.sourceId&&e.targetId===n.targetId}),i=t.targetLinks.findIndex(function(e){return e.sourceId===n.sourceId&&e.targetId===n.targetId});if(-1!==o){var r=t.sourceLinks[o+e];r&&(this._focusState.link=r,this._focusLink())}else if(-1!==i){var a=t.targetLinks[i+e];a&&(this._focusState.link=a,this._focusLink())}},t.prototype._focusSourceNode=function(){var e=this._focusState.link,t=this.models.map.get(e.sourceId);this._focusState={node:t.options.node,link:null},this._focusNode()},t.prototype._focusTargetNode=function(){var e=this._focusState.link,t=this.models.map.get(e.targetId);this._focusState={node:t.options.node,link:null},this._focusNode()},t.prototype._focusSourceLink=function(){var e=this._focusState.node.sourceLinks[0];e&&(this._focusState.link=e,this._focusLink())},t.prototype._focusTargetLink=function(){var e=this._focusState.node.targetLinks[0];e&&(this._focusState.link=e,this._focusLink())},t.prototype._focus=function(){this._skipFocusHighlight||(this._focusState.link?this._focusLink():this._focusNode()),this._skipFocusHighlight=!1},t.prototype._blur=function(){this._cleanFocusHighlight()},t.prototype._onDown=function(){this._hasFocus()||(this._skipFocusHighlight=!0)},t.prototype._hasFocus=function(){return this.element.ownerDocument.activeElement===this.element},t.prototype._cleanFocusHighlight=function(){this.models.nodes.forEach(function(e){return e.blur()}),this.models.links.forEach(function(e){return e.blur()})},t.prototype._keydown=function(e){var t=this["on"+e.key],n=this.options.rtl;n&&"ArrowLeft"===e.key?t=this.onArrowRight:n&&"ArrowRight"===e.key&&(t=this.onArrowLeft),t&&t.call(this,e)},t.prototype.onEscape=function(e){e.preventDefault(),this._focusState={node:this.firstFocusableNode(),link:null},this._focusNode()},t.prototype.onArrowDown=function(e){e.preventDefault(),this._focusState.link?this._focusNextLink(1):this._focusNextNode(1)},t.prototype.onArrowUp=function(e){e.preventDefault(),this._focusState.link?this._focusNextLink(-1):this._focusNextNode(-1)},t.prototype.onArrowLeft=function(e){e.preventDefault(),this._focusState.link?this._focusSourceNode():this._focusTargetLink()},t.prototype.onArrowRight=function(e){e.preventDefault(),this._focusState.link?this._focusTargetNode():this._focusSourceLink()},t.prototype.highlightLinks=function(e,t){var n=this;e&&(this.setLinksInactivityOpacity(t.inactiveOpacity),e.links.forEach(function(e){n.setOpacity(e,t.opacity,e.linkOptions.highlight.opacity)}))},t.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},t.prototype._destroyResizeObserver=function(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},t.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement))},t.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},t.prototype.setOptions=function(e,t){this._setOptions(e),this._initTheme(t),this._initSurface(),this._redraw()},t.prototype._redraw=function(){this.surface.clear();var e=this._getSize(),t=e.width,n=e.height;this.size={width:t,height:n},this.surface.setSize(this.size),this.createVisual(),this.surface.draw(this.visual)},t.prototype._getSize=function(){return this.element.getBoundingClientRect()},t.prototype.createVisual=function(){this.visual=this._render()},t.prototype.titleBox=function(e,t){return e&&!1!==e.visible&&e.text?new z1(Object.assign({},{drawingRect:t},e)).exportVisual().chartElement.box:null},t.prototype.legendBox=function(e,t,n){return e&&!1!==e.visible?new H1(Object.assign({},{nodes:t},e,{drawingRect:n})).exportVisual().chartElement.box:null},t.prototype.calculateSankey=function(e,t){var n=t.title,o=t.legend,i=t.data,r=t.nodes,a=t.labels,s=t.nodeColors,l=t.disableAutoLayout,c=t.disableKeyboardNavigation,d=t.rtl,u=!l,p=((r.focusHighlight||{}).border||{}).width||0,h=c?0:p/2,m=new IO(0,0,e.width,e.height);m.unpad(h);var f=this.titleBox(n,m),g=m.clone();if(f){var v=f.height();n.position===iN?(m.unpad({top:v}),g=new IO(0,v,e.width,e.height)):(m.shrink(0,v),g=new IO(0,0,e.width,e.height-v))}var y=this.legendBox(o,i.nodes,g),x=o&&o.position||H1.prototype.options.position;y&&(x===YD&&m.unpad({left:y.width()}),x===eN&&m.shrink(y.width(),0),x===iN&&m.unpad({top:y.height()}),x===RD&&m.shrink(0,y.height()));var b=S1(Object.assign({},e,{offsetX:0,offsetY:0,width:m.width(),height:m.height()})),w=b.nodes,k=b.circularLinks;if(k)return console.warn("Circular links detected. Kendo Sankey diagram does not support circular links."),{sankey:{nodes:[],links:[],columns:[[]],circularLinks:k},legendBox:y,titleBox:f};var C=new IO,S=w.reduce(function(e,t){return Math.min(e,t.x0)},1/0),I=w.reduce(function(e,t){return Math.max(e,t.x1)},0);w.forEach(function(e,t){if(d){var n=e.x0,o=e.x1;e.x0=I-o,e.x1=I-n}var i=D1(e,r,s,t),l=new A1(i);C.wrap(yF(l.exportVisual().rawBBox()));var c=new L1(F1(e,a,d,S,I)).exportVisual();c&&C.wrap(yF(c.rawBBox()))});var E=m.x1,j=m.y1,A=m.width()+E,_=m.height()+j;if(A-=C.x2>m.width()?C.x2-m.width():0,_-=C.y2>m.height()?C.y2-m.height():0,E+=C.x1<0?-C.x1:0,j+=C.y1<0?-C.y1:0,!1===u)return{sankey:S1(Object.assign({},e,{offsetX:E,offsetY:j,width:A,height:_,autoLayout:!1})),legendBox:y,titleBox:f};if(this.resize&&u&&this.permutation)return this.resize=!1,{sankey:S1(Object.assign({},e,{offsetX:E,offsetY:j,width:A,height:_},this.permutation)),legendBox:y,titleBox:f};for(var D=S1(Object.assign({},e,{offsetX:E,offsetY:j,width:A,height:_,autoLayout:!1})).columns.length,N=[],T=function(t,n){var o=function(e){for(var t=0,n=e.length,o=0;o<n;o++)for(var i=e[o],r=o+1;r<n;r++){var a=e[r];E1(i,a)&&(t+=Math.min(i.value,a.value))}return t}(S1(Object.assign({},e,{offsetX:E,offsetY:j,width:A,height:_,loops:2,targetColumnIndex:t,reverse:n})).links);return N.push({crosses:o,reverse:n,targetColumnIndex:t}),0===o},P=1;P<=D-1&&(!T(P,!1)&&!T(P,!0));P++);var M=Math.min.apply(null,N.map(function(e){return e.crosses})),O=N.find(function(e){return e.crosses===M});return this.permutation={targetColumnIndex:O.targetColumnIndex,reverse:O.reverse},{sankey:S1(Object.assign({},e,{offsetX:E,offsetY:j,width:A,height:_},this.permutation)),legendBox:y,titleBox:f}},t.prototype._render=function(e,t){var n=e||this.options,o=t||this,i=n.labels,r=n.nodes,a=n.links,s=n.nodeColors,l=n.title,c=n.legend,d=n.rtl,u=n.disableKeyboardNavigation,p=n.data,h=o.size,m=h.width,f=h.height,g=Object.assign({},p,{width:m,height:f,nodesOptions:r,title:l,legend:c}),v=this.calculateSankey(g,n),y=v.sankey,x=v.titleBox,b=v.legendBox;d&&function(e){var t=e.nodes,n=e.links,o=Math.min.apply(Math,t.map(function(e){return e.x0})),i=Math.max.apply(Math,t.map(function(e){return e.x1})),r=i-o;t.forEach(function(e){var t=r-(e.x1-2*o),n=r-(e.x0-2*o);e.x0=t,e.x1=n}),n.forEach(function(e){var t=r-(e.x1-2*o),n=r-(e.x0-2*o);e.x1=t,e.x0=n})}(y);var w=y.nodes,k=y.links,C=y.columns;o.columns=C.map(function(e){var t=e.slice();return t.sort(function(e,t){return e.y0-t.y0}),t});var S=new iL({clip:GR.fromRect(new kO([0,0],[m,f]))});if(x){var I=new z1(Object.assign({},l,{drawingRect:x})).exportVisual();S.append(I)}if(y.circularLinks)return S;var E=new Map;o.nodesVisuals=E;var j={nodes:[],links:[],map:new Map};o.models=j;var A=[];w.forEach(function(e,t){var n=D1(e,r,s,t);n.root=function(){return o.element},n.navigatable=!0!==u;var i=new A1(n),a=i.exportVisual();a.links=[],a.type=U1,e.color=n.color,e.opacity=n.opacity,a.dataItem=Object.assign({},p.nodes[t],{color:n.color,opacity:n.opacity,sourceLinks:e.sourceLinks.map(function(e){return{sourceId:e.sourceId,targetId:e.targetId,value:e.value}}),targetLinks:e.targetLinks.map(function(e){return{sourceId:e.sourceId,targetId:e.targetId,value:e.value}})}),E.set(e.id,a),j.nodes.push(i),j.map.set(e.id,i),S.append(a),i.createFocusHighlight(),i._highlight&&A.push(i._highlight)});var _=k.slice().sort(function(e,t){return t.value-e.value}),D=[];o.linksVisuals=D,_.forEach(function(e){var t=e.source,n=e.target,i=E.get(t.id),r=E.get(n.id),s=function(e,t,n,o){var i=_N({},t,{link:e,opacity:e.opacity,color:e.color,colorType:e.colorType,visual:e.visual,highlight:e.highlight});return"source"===i.colorType?i.color=n.options.fill.color:"target"===i.colorType&&(i.color=o.options.fill.color),i}(e,a,i,r);s.root=function(){return o.element},s.navigatable=!0!==u,s.rtl=d;var l=new P1(s),c=l.exportVisual();c.type=q1,c.dataItem={source:Object.assign({},i.dataItem),target:Object.assign({},r.dataItem),value:e.value},c.linkOptions=s,D.push(c),i.links.push(c),r.links.push(c),j.links.push(l),j.map.set(t.id+"-"+n.id,l),l.createFocusHighlight(),l._highlight&&A.push(l._highlight),S.append(c)});var N=w.reduce(function(e,t){return Math.min(e,t.x0)},1/0),T=w.reduce(function(e,t){return Math.max(e,t.x1)},0);if(w.forEach(function(e){var t=F1(e,i,d,N,T),n=new L1(t).exportVisual();n&&S.append(n)}),b){var P=new H1(Object.assign({},c,{rtl:d,drawingRect:b,nodes:w})).exportVisual();S.append(P)}if(0!==A.length){var M=new iL;M.append.apply(M,A),S.append(M)}return S},t.prototype.exportVisual=function(e){var t=e&&e.options?_N({},this.options,e.options):this.options,n={size:{width:bP(e&&e.width)?e.width:this.size.width,height:bP(e&&e.height)?e.height:this.size.height}};return this._render(t,n)},t.prototype._setOptions=function(e){this.options=_N({},this.options,e)},t}(FM),W1={opacity:1,width:2,color:OD};RP(G1,{title:{position:iN},labels:{visible:!0,margin:{left:8,right:8},padding:0,border:{width:0},paintOrder:"stroke",stroke:{lineJoin:"round",width:1},offset:{left:0,top:0}},nodes:{width:24,padding:16,opacity:1,align:"stretch",offset:{left:0,top:0},focusHighlight:{border:Object.assign({},W1)},labels:{ariaTemplate:function(e){return e.node.label.text}}},links:{colorType:"static",opacity:.4,highlight:{opacity:.8,inactiveOpacity:.2},focusHighlight:{border:Object.assign({},W1)},labels:{ariaTemplate:function(e){var t=e.link;return t.source.label.text+" to "+t.target.label.text}}},tooltip:{followPointer:!1,delay:200}});var K1=Object.freeze({seriesType:0,stacked:1,categoryAxisX:2,valueAxisY:3,seriesChange:4,areaMarginLeft:5,areaMarginRight:6,areaMarginTop:7,areaMarginBottom:8,areaBackground:9,titleText:10,titleFontName:11,titleFontSize:12,titleColor:13,subtitleText:14,subtitleFontName:15,subtitleFontSize:16,subtitleColor:17,seriesColor:18,seriesLabel:19,legendVisible:20,legendFontName:21,legendFontSize:22,legendColor:23,legendPosition:24,categoryAxisTitleText:25,categoryAxisTitleFontName:26,categoryAxisTitleFontSize:27,categoryAxisTitleColor:28,categoryAxisLabelsFontName:29,categoryAxisLabelsFontSize:30,categoryAxisLabelsColor:31,categoryAxisLabelsRotation:32,categoryAxisReverseOrder:33,valueAxisTitleText:34,valueAxisTitleFontName:35,valueAxisTitleFontSize:36,valueAxisTitleColor:37,valueAxisLabelsFormat:38,valueAxisLabelsFontName:39,valueAxisLabelsFontSize:40,valueAxisLabelsColor:41,valueAxisLabelsRotation:42}),Y1="12px",X1="16px",J1=[{text:"Arial",value:"Arial, Helvetica, sans-serif",style:{fontFamily:"Arial, Helvetica, sans-serif"}},{text:"Courier New",value:"'Courier New', Courier, monospace",style:{fontFamily:"'Courier New', Courier, monospace"}},{text:"Georgia",value:"Georgia, serif",style:{fontFamily:"Georgia, serif"}},{text:"Impact",value:"Impact, Charcoal, sans-serif",style:{fontFamily:"Impact, Charcoal, sans-serif"}},{text:"Lucida Console",value:"'Lucida Console', Monaco, monospace",style:{fontFamily:"'Lucida Console', Monaco, monospace"}},{text:"Tahoma",value:"Tahoma, Geneva, sans-serif",style:{fontFamily:"Tahoma, Geneva, sans-serif"}},{text:"Times New Roman",value:"'Times New Roman', Times,serif",style:{fontFamily:"'Times New Roman', Times,serif"}},{text:"Trebuchet MS",value:"'Trebuchet MS', Helvetica, sans-serif",style:{fontFamily:"'Trebuchet MS', Helvetica, sans-serif"}},{text:"Verdana",value:"Verdana, Geneva, sans-serif",style:{fontFamily:"Verdana, Geneva, sans-serif"}}],Q1=J1[0].value,Z1="line",$1="scatter",e2=["column","bar",Z1,$1],t2={type:Z1,width:0};function n2(e){return e&&e2.includes(e)}var o2=["string","date","number"],i2=["number"],r2={bar:[{axisType:"category",types:o2},{axisType:"value",types:i2}],column:[{axisType:"category",types:o2},{axisType:"value",types:i2}],line:[{axisType:"category",types:o2},{axisType:"value",types:i2}],pie:[{axisType:"category",types:o2},{axisType:"value",types:i2,count:1}],scatter:[{axisType:"category",types:o2},{axisType:"value",types:i2}]};function a2(e,t){return((t||"")+" "+(e||"")).trim()}function s2(e){var t=(e||"").indexOf(" ");return{size:e&&e.substring(0,t),name:e&&e.substring(t+1)}}var l2=function(e,t,n){var o=s2(n).size;return e?a2(e,o||t):""},c2=function(e,t,n){var o=s2(n).name;return e?a2(o||t,e):""},d2=function(e){return void 0!==e&&null!==e},u2=function(e){var t=structuredClone(e[0]);return t.forEach(function(t,n){if(!d2(t.value))for(var o=0;o<e.length;o++){var i=e[o][n].value;if(d2(i)){t.value=i;break}}}),t},p2=function(e,t){var n=[],o=u2(e);t.types.forEach(function(e){o.forEach(function(t,o){typeof t.value===e&&n.push(o)})});var i=n.findIndex(function(t){var n=e.map(function(e){return e[t].value});return new Set(n).size===n.length});return Math.max(i,0)},h2=function(e,t){var n=[],o=u2(e);return t.forEach(function(e){e.types.forEach(function(e){o.forEach(function(t,o){typeof t.value===e&&n.push(o)})})}),n},m2=function(){return structuredClone({columns:[],data:[],series:[],initialSeries:[],categoryAxis:[{categories:[],labels:{visible:!0,rotation:"auto"},title:{text:""}}],valueAxis:[{labels:{visible:!0,rotation:"auto"}}],area:{margin:{left:void 0,right:void 0,top:void 0,bottom:void 0}},title:{text:""},subtitle:{text:""},stack:!1})},f2=function(e,t,n){var o=m2();o.seriesType=t,o.data=e||[],o.legend={visible:!0,position:"bottom"};var i=r2[t];if(!i||!e.length)return o;var r=e[0].slice();o.columns=e[0].map(function(e){return String(e.field)});var a=i.find(function(e){return"category"===e.axisType}),s=-1;a&&(s=n&&n.categoryAxis?o.columns.indexOf(n.categoryAxis):p2(e,a));var l=i.filter(function(e){return"value"===e.axisType}),c=h2(e,l);c.includes(s)&&(c.length>1?c=c.filter(function(e){return e!==s}):s=-1);var d=[];c.forEach(function(n){var o=r[n],i=[];e.forEach(function(e){i.push(e[n].value)}),d.push(Object.assign({},{name:o.field,type:t,data:i,stack:!1,labels:{visible:!1}},t===$1?t2:{}))});var u=s>-1?e.map(function(e){return String(d2(e[s].value)?e[s].value:" ")}):[];return d.length&&(o.series=d.map(function(e,t){return Object.assign({},e,{id:t})}),o.initialSeries=structuredClone(o.series)),o.categoryAxis=[{categories:u,labels:{visible:!0,rotation:"auto"}}],o.categoryField=o.columns[s],o},g2=function(e,t,n){var o=m2();o.seriesType=t,o.data=e||[];var i=r2[t];if(!i||!e.length)return o;var r=e[0].map(function(e){return e.field}),a=i.find(function(e){return"category"===e.axisType}),s=-1;a&&(s=n&&n.categoryAxis?r.indexOf(n.categoryAxis):p2(e,a));var l=i.filter(function(e){return"value"===e.axisType}),c=[];(c=n&&n.valueAxis?[r.indexOf(n.valueAxis)]:h2(e,l)).includes(s)&&c.length>1&&(c=c.filter(function(e){return e!==s})),"number"===typeof l[0].count&&(c=c.slice(0,l[0].count));var d=s>-1?e.map(function(e){return String(e[s].value)}):[],u=[];return e.forEach(function(e){var t={};c.forEach(function(n){var o=e[n];t[o.field]=o.value||0,t[e[s].field]=e[s].value||" "}),u.push(t)}),o.columns=r,o.categoryAxis=[{categories:d,title:{text:""}}],o.series=[{id:0,data:u,type:t,name:r[s],labels:{visible:!0},categoryField:r[s],field:r[c[0]]}],o.categoryField=r[s],o.valueField=r[c[0]],o.initialSeries=structuredClone(o.series),o};function v2(e,t){return(n2(t)?f2:g2)(e,t)}function y2(e,t){var n=structuredClone(t);if(n.legend=e.legend,n.area=e.area,n.title=e.title,n.subtitle=e.subtitle,n.series.length===e.series.length)for(var o=0;o<n.series.length;o++)n.series[o].color=e.series[o].color,n.series[o].labels=e.series[o].labels;return e.series.every(function(e){return e.labels&&e.labels.visible})&&n2(n.seriesType)&&n2(e.seriesType)&&n.series.forEach(function(e){e.labels=e.labels||{},e.labels.visible=!0}),n}function x2(e,t,n){var o=Object.assign({},e);switch(t){case K1.seriesType:return v2(o.data,n);case K1.stacked:return o.series=o.series.map(function(e){return Object.assign({},e,{stack:n})}),o.stack=n,o;case K1.categoryAxisX:return o.seriesType&&n2(o.seriesType)?y2(o,f2(o.data,o.seriesType,{categoryAxis:n})):"pie"===o.seriesType?y2(o,g2(o.data,o.seriesType,{categoryAxis:n})):o;case K1.valueAxisY:return"pie"===o.seriesType?y2(o,g2(o.data,o.seriesType,{categoryAxis:o.categoryField,valueAxis:n})):o;case K1.seriesChange:return o.series=n,o;case K1.areaMarginLeft:return o.area=Object.assign({},o.area,{margin:Object.assign({},o.area&&o.area.margin||{},{left:n})}),o;case K1.areaMarginRight:return o.area=Object.assign({},o.area,{margin:Object.assign({},o.area&&o.area.margin||{},{right:n})}),o;case K1.areaMarginTop:return o.area=Object.assign({},o.area,{margin:Object.assign({},o.area&&o.area.margin||{},{top:n})}),o;case K1.areaMarginBottom:return o.area=Object.assign({},o.area,{margin:Object.assign({},o.area&&o.area.margin||{},{bottom:n})}),o;case K1.areaBackground:return o.area=Object.assign({},o.area,{background:n}),o;case K1.titleText:return o.title=Object.assign({},o.title,{text:n}),o;case K1.titleFontName:return o.title=Object.assign({},o.title,{font:l2(n,"20px",o.title&&o.title.font)}),o;case K1.titleFontSize:return o.title=Object.assign({},o.title,{font:c2(n,Q1,o.title&&o.title.font)}),o;case K1.titleColor:return o.title=Object.assign({},o.title,{color:n}),o;case K1.subtitleText:return o.subtitle=Object.assign({},o.subtitle,{text:n}),o;case K1.subtitleFontName:return o.subtitle=Object.assign({},o.subtitle,{font:l2(n,"16px",o.subtitle&&o.subtitle.font)}),o;case K1.subtitleFontSize:return o.subtitle=Object.assign({},o.subtitle,{font:c2(n,Q1,o.subtitle&&o.subtitle.font)}),o;case K1.subtitleColor:return o.subtitle=Object.assign({},o.subtitle,{color:n}),o;case K1.seriesColor:return o.series=o.series.map(function(e){return Object.assign({},e,{color:n.seriesName===e.name?n.color:e.color})}),o;case K1.seriesLabel:return o.series=o.series.map(function(e){return n.all||n.seriesName===e.name?Object.assign({},e,{labels:{visible:n.visible}}):e}),o;case K1.legendVisible:return o.legend=Object.assign({},o.legend,{visible:n}),o;case K1.legendFontName:var i=o.legend||{};return o.legend=Object.assign({},i,{labels:Object.assign({},i.labels,{font:l2(n,Y1,i.labels&&i.labels.font)})}),o;case K1.legendFontSize:var r=o.legend||{};return o.legend=Object.assign({},r,{labels:Object.assign({},r.labels,{font:c2(n,Q1,r.labels&&r.labels.font)})}),o;case K1.legendColor:var a=o.legend||{};return o.legend=Object.assign({},a,{labels:Object.assign({},a.labels,{color:n})}),o;case K1.legendPosition:return o.legend=Object.assign({},o.legend,{position:n}),o;case K1.categoryAxisTitleText:return o.categoryAxis=(o.categoryAxis||[]).map(function(e){return Object.assign({},e,{title:Object.assign({},e.title,{text:n})})}),o;case K1.categoryAxisTitleFontName:return o.categoryAxis=(o.categoryAxis||[]).map(function(e){return Object.assign({},e,{title:Object.assign({},e.title,{font:l2(n,X1,e.title&&e.title.font)})})}),o;case K1.categoryAxisTitleFontSize:return o.categoryAxis=(o.categoryAxis||[]).map(function(e){return Object.assign({},e,{title:Object.assign({},e.title,{font:c2(n,Q1,e.title&&e.title.font)})})}),o;case K1.categoryAxisTitleColor:return o.categoryAxis=(o.categoryAxis||[]).map(function(e){return Object.assign({},e,{title:Object.assign({},e.title,{color:n})})}),o;case K1.categoryAxisLabelsFontName:return o.categoryAxis=(o.categoryAxis||[]).map(function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{font:l2(n,Y1,e.labels&&e.labels.font)})})}),o;case K1.categoryAxisLabelsFontSize:return o.categoryAxis=(o.categoryAxis||[]).map(function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{font:c2(n,Q1,e.labels&&e.labels.font)})})}),o;case K1.categoryAxisLabelsColor:return o.categoryAxis=(o.categoryAxis||[]).map(function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{color:n})})}),o;case K1.categoryAxisLabelsRotation:var s=d2(n)?n:"auto";return o.categoryAxis=(o.categoryAxis||[]).map(function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{rotation:s})})}),o;case K1.categoryAxisReverseOrder:return o.categoryAxis=(o.categoryAxis||[]).map(function(e){return Object.assign({},e,{reverse:n})}),o;case K1.valueAxisTitleText:return o.valueAxis&&0!==o.valueAxis.length?o.valueAxis=(o.valueAxis||[]).map(function(e){return Object.assign({},e,{title:Object.assign({},e.title,{text:n})})}):o.valueAxis=[{title:{text:n}}],o;case K1.valueAxisTitleFontName:return o.valueAxis=(o.valueAxis||[]).map(function(e){return Object.assign({},e,{title:Object.assign({},e.title,{font:l2(n,X1,e.title&&e.title.font)})})}),o;case K1.valueAxisTitleFontSize:return o.valueAxis=(o.valueAxis||[]).map(function(e){return Object.assign({},e,{title:Object.assign({},e.title,{font:c2(n,Q1,e.title&&e.title.font)})})}),o;case K1.valueAxisTitleColor:return o.valueAxis=(o.valueAxis||[]).map(function(e){return Object.assign({},e,{title:Object.assign({},e.title,{color:n})})}),o;case K1.valueAxisLabelsFormat:return o.valueAxis=(o.valueAxis||[]).map(function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{format:n})})}),o;case K1.valueAxisLabelsFontName:return o.valueAxis=(o.valueAxis||[]).map(function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{font:l2(n,Y1,e.labels&&e.labels.font)})})}),o;case K1.valueAxisLabelsFontSize:return o.valueAxis=(o.valueAxis||[]).map(function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{font:c2(n,Q1,e.labels&&e.labels.font)})})}),o;case K1.valueAxisLabelsColor:return o.valueAxis=(o.valueAxis||[]).map(function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{color:n})})}),o;case K1.valueAxisLabelsRotation:var l=d2(n)?n:"auto";return o.valueAxis=(o.valueAxis||[]).map(function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{rotation:l})})}),o;default:return o}}var b2=Object.freeze({windowTitle:"Chart Preview",exportButton:"Export",exportPDFButton:"PDF File",exportSVGButton:"SVG File",exportPNGButton:"PNG File",tabChart:"Chart",tabData:"Data",tabFormat:"Format",barChart:"Bar Chart",barChartBar:"Bar",barChartStackedBar:"Stacked Bar",barChart100StackedBar:"100% Stacked Bar",pieChart:"Pie Chart",pieChartPie:"Pie",columnChart:"Column Chart",columnChartColumn:"Column",columnChartStackedColumn:"Stacked Column",columnChart100StackedColumn:"100% Stacked Column",lineChart:"Line Chart",lineChartLine:"Line",lineChartStackedLine:"Stacked Line",lineChart100StackedLine:"100% Stacked Line",scatterChart:"Scatter Chart",scatterChartScatter:"Scatter",configuration:"Configuration",configurationCategoryAxis:"Category Axis",configurationXAxis:"X Axis",configurationValueAxis:"Value Axis",configurationSeries:"Series",configurationSeriesAdd:"Add",formatChartArea:"Chart Area",formatChartAreaMargins:"Margins",formatChartAreaMarginsAuto:"Auto",formatChartAreaMarginsLeft:"Left",formatChartAreaMarginsRight:"Right",formatChartAreaMarginsTop:"Top",formatChartAreaMarginsBottom:"Bottom",formatChartAreaBackground:"Background",formatChartAreaBackgroundColor:"Color",formatTitle:"Title",formatTitleApplyTo:"Apply to",formatTitleChartTitle:"Chart Title",formatTitleChartSubtitle:"Chart Subtitle",formatTitleLabel:"Title",formatTitleFont:"Font",formatTitleFontPlaceholder:"(inherited font)",formatTitleSize:"Size",formatTitleSizePlaceholder:"px",formatTitleColor:"Color",formatSeries:"Series",formatSeriesApplyTo:"Apply to",formatSeriesAllSeries:"All Series",formatSeriesColor:"Color",formatSeriesShowLabels:"Show Labels",formatLegend:"Legend",formatLegendShowLegend:"Show Legend",formatLegendFont:"Font",formatLegendFontPlaceholder:"(inherited font)",formatLegendSize:"Size",formatLegendSizePlaceholder:"px",formatLegendColor:"Color",formatLegendPosition:"Position",formatLegendPositionTop:"Top",formatLegendPositionBottom:"Bottom",formatLegendPositionLeft:"Left",formatLegendPositionRight:"Right",formatCategoryAxis:"Category Axis",formatXAxis:"X Axis",formatCategoryAxisTitle:"Title",formatCategoryAxisTitlePlaceholder:"Axis Title",formatCategoryAxisTitleFont:"Font",formatCategoryAxisTitleFontPlaceholder:"(inherited font)",formatCategoryAxisTitleSize:"Size",formatCategoryAxisTitleSizePlaceholder:"px",formatCategoryAxisTitleColor:"Color",formatCategoryAxisLabels:"Labels",formatCategoryAxisLabelsFont:"Font",formatCategoryAxisLabelsFontPlaceholder:"(inherited font)",formatCategoryAxisLabelsSize:"Size",formatCategoryAxisLabelsSizePlaceholder:"px",formatCategoryAxisLabelsColor:"Color",formatCategoryAxisLabelsRotation:"Rotation",formatCategoryAxisLabelsRotationAuto:"Auto",formatCategoryAxisLabelsReverseOrder:"Reverse Order",formatValueAxis:"Value Axis",formatYAxis:"Y Axis",formatValueAxisTitle:"Title",formatValueAxisTitlePlaceholder:"Axis Title",formatValueAxisTitleFont:"Font",formatValueAxisTitleFontPlaceholder:"(inherited font)",formatValueAxisTitleSize:"Size",formatValueAxisTitleSizePlaceholder:"px",formatValueAxisTitleColor:"Color",formatValueAxisLabels:"Labels",formatValueAxisLabelsFormat:"Label Format",formatValueAxisLabelsFormatText:"Text",formatValueAxisLabelsFormatNumber:"Number",formatValueAxisLabelsFormatCurrency:"Currency",formatValueAxisLabelsFormatPercent:"Percent",formatValueAxisLabelsFont:"Font",formatValueAxisLabelsFontPlaceholder:"(inherited font)",formatValueAxisLabelsSize:"Size",formatValueAxisLabelsSizePlaceholder:"px",formatValueAxisLabelsColor:"Color",formatValueAxisLabelsRotation:"Rotation",formatValueAxisLabelsRotationAuto:"Auto"}),w2=(Object.freeze({getWizardDataFromDataRows:function(e){var t=[];return e.forEach(function(e){var n=e.dataItem,o=e.dataColumns,i=[];o.forEach(function(e){i.push({field:e.title||e.field,value:qN(e.field)(n)})}),t.push(i)}),t},ActionTypes:K1,createInitialState:function(e,t,n){var o=v2(e,n&&n.seriesType||t);return"undefined"!==typeof(n&&n.stack)?x2(o,K1.stacked,n.stack):o},createState:v2,fontNames:J1,fontSizes:[{text:"10",value:"10px"},{text:"12",value:"12px"},{text:"14",value:"14px"},{text:"16",value:"16px"},{text:"20",value:"20px"},{text:"28",value:"28px"},{text:"42",value:"42px"},{text:"56",value:"56px"}],isCategorical:n2,mergeStates:y2,parseFont:s2,updateState:x2,messages:b2}),1.5),k2=.4,C2="#000",S2="Arial, Helvetica, sans-serif",I2="11px "+S2,E2="12px "+S2,j2="16px "+S2,A2="transparent",_2="#fff",D2={type:iV},N2={type:WB},T2=Object.assign({},N2,{markers:{visible:!1},highlight:{visible:!1}}),P2=function(){return{icon:{border:{width:1}},label:{font:E2,padding:3},line:{length:10,width:2},legendItem:T2,visible:!0}},M2=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:N2,opacity:.4}},O2=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:N2,opacity:.4}},R2=function(){return{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:_2,gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2},legendItem:T2}},L2=function(){return{gap:w2,spacing:k2,target:{color:"#ff0000"},legendItem:T2}},F2=function(){return{width:2,legendItem:D2}},z2=function(){return{line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:N2,opacity:.5}},B2=function(){return{markers:{visible:!1},legendItem:D2,width:2}},V2=function(){return{gap:.5,line:{color:C2,width:1},legendItem:T2,spacing:k2}},H2=function(){return{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}},legendItem:T2}},q2=H2,U2=function(e){return Object.assign({color:KD,trendline:{},markers:{visible:!1},width:1,dashType:"longDash",legendItem:D2},e)},G2=function(e){return{visible:!0,labels:{font:I2},overlay:e.gradients?{}:{gradient:"none"},area:M2(),rangeArea:O2(),verticalRangeArea:O2(),bar:{gap:w2,spacing:k2,legendItem:T2},boxPlot:R2(),bubble:{border:{width:0},labels:{background:A2},legendItem:T2,opacity:.6},bullet:L2(),candlestick:{border:{_brightness:.8,width:1},downColor:_2,gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:C2,width:1},legendItem:T2,spacing:.3},column:{gap:w2,spacing:k2,legendItem:T2},heatmap:{labels:{color:"",background:A2,visible:!0},highlight:{border:{width:0}},legendItem:T2},pie:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}},legendItem:T2},donut:{margin:1,legendItem:T2},funnel:H2(),pyramid:q2(),horizontalWaterfall:V2(),line:F2(),notes:P2(),ohlc:{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},legendItem:T2,spacing:.3},radarArea:z2(),radarLine:B2(),radarColumn:{legendItem:T2},polarArea:z2(),polarLine:B2(),polarScatter:{legendItem:D2},rangeBar:{gap:w2,spacing:k2,legendItem:T2},rangeColumn:{gap:w2,spacing:k2,legendItem:T2},scatter:{legendItem:D2},scatterLine:{width:1,legendItem:D2},verticalArea:M2(),verticalBoxPlot:R2(),verticalBullet:L2(),verticalLine:F2(),waterfall:V2(),linearTrendline:U2(),exponentialTrendline:U2({style:"smooth"}),logarithmicTrendline:U2({style:"smooth"}),polynomialTrendline:U2({style:"smooth"}),powerTrendline:U2({style:"smooth"}),movingAverageTrendline:U2()}},W2="--kendo-chart-series-",K2=function(e){return e.ownerDocument.defaultView.getComputedStyle(e)},Y2={},X2=function(e,t){var n=K2(e).getPropertyValue(t);return/^color-mix/i.test(n)&&(n=function(e,t){if(Y2[e])return Y2[e];var n=t.style.color;t.style.color=e;var o=K2(t).color;return t.style.color=n,Y2[e]=o,o}(n,e)),n},J2=function(e,t){return parseFloat(K2(e).getPropertyValue(t))},Q2=function(e,t,n,o){var i=K2(e);return[i.getPropertyValue(t),i.getPropertyValue(n),i.getPropertyValue(o)||i.fontFamily].join(" ")},Z2=function(e){for(var t=K2(e),n=[],o=1,i=t.getPropertyValue(""+W2+o);i||o<=30;)n.push(i),o++,i=t.getPropertyValue(""+W2+o);return n},$2=function(e){return Q2(e,"--kendo-font-weight","--kendo-chart-font-size","--kendo-font-family")},e3=function(e){return Q2(e,"--kendo-chart-pane-title-font-weight","--kendo-chart-pane-title-font-size","--kendo-font-family")},t3=function(e){return X2(e,"--kendo-chart-text")},n3=function(e){return{color:t3(e),font:Q2(e,"--kendo-font-weight","--kendo-chart-title-font-size","--kendo-font-family")}},o3=function(e){var t=t3(e);return{labels:{color:t,font:$2(e)},title:{color:t}}},i3=function(e){var t=X2(e,"--kendo-chart-inactive");return Object.assign({},{inactiveItems:{labels:{color:t},markers:{color:t}}},o3(e))},r3=function(e){var t=X2(e,"--kendo-chart-major-lines"),n=X2(e,"--kendo-chart-text"),o=Q2(e,"--kendo-font-weight","--kendo-chart-label-font-size","--kendo-font-family"),i=X2(e,"--kendo-chart-bg"),r=function(e){return{icon:{background:X2(e,"--kendo-chart-notes-bg"),border:{color:X2(e,"--kendo-chart-notes-border")}},line:{color:X2(e,"--kendo-chart-notes-lines")},label:{font:$2(e)}}}(e),a=J2(e,"--kendo-chart-area-opacity"),s=X2(e,"--kendo-color-surface"),l=X2(e,"--kendo-chart-primary-bg"),c=function(){return{downColor:t,mean:{color:s},median:{color:s},whiskers:{color:l}}},d=function(){return{line:{color:t}}},u=function(){return{opacity:a,highlight:{inactiveOpacity:J2(e,"--kendo-chart-area-inactive-opacity")}}},p=function(){return{highlight:{inactiveOpacity:J2(e,"--kendo-chart-line-inactive-opacity")}}},h=function(){return{target:{color:n}}};return{axisDefaults:{crosshair:{color:X2(e,"--kendo-chart-crosshair-bg")},labels:{color:n,font:o},line:{color:t},majorGridLines:{color:t},minorGridLines:{color:X2(e,"--kendo-chart-minor-lines")},notes:structuredClone(r),title:{color:n,font:$2(e)}},chartArea:{background:i},legend:i3(e),seriesColors:Z2(e),seriesDefaults:{area:u(),verticalArea:u(),radarArea:u(),boxPlot:c(),verticalBoxPlot:c(),bullet:h(),verticalBullet:h(),horizontalWaterfall:d(),waterfall:d(),line:p(),verticalLine:p(),candlestick:{downColor:n,line:{color:n}},errorBars:{color:X2(e,"--kendo-chart-error-bars-bg")},icon:{border:{color:t}},labels:{background:i,color:n,font:o,opacity:a},notes:structuredClone(r)},subtitle:{color:n,font:e3(e)},title:n3(e),paneDefaults:{title:{font:e3(e)}}}};function a3(e,t){let n=e;for(;n&&n!==t;)n=n.parentNode;return!!n}function s3(e,t,n,o){const i=e[t];if(i&&Array.isArray(i))for(const r of i)if(!r.type||r.type!==o)return new Error("".concat(n," children should be Array of type ").concat(o.displayName,"."));return null}const l3=e=>void 0!==e&&!e;class c3{constructor(e){this.target=e}}class d3 extends c3{constructor(){super(...arguments),this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class u3 extends c3{constructor(e,t){super(t),this.value=e.value,this.point=e.point,this.series=e.series,this.currentState=e.currentState,this.nextState=e.nextState}}const p3={axisLabelClick:class extends c3{constructor(e,t){super(t),this.axis=e.axis,this.dataItem=e.dataItem,this.index=e.index,this.text=e.text,this.value=e.value}},drag:class extends d3{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.nativeEvent=e.originalEvent}},dragEnd:class extends c3{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.nativeEvent=e.originalEvent}},dragStart:class extends d3{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.nativeEvent=e.originalEvent}},drilldownEvent:u3,legendItemHover:class extends d3{constructor(e,t){super(t),this.series=e.series,this.seriesIndex=e.seriesIndex,this.pointIndex=e.pointIndex,this.text=e.text}preventDefault(){super.preventDefault()}},legendItemClick:class extends d3{constructor(e,t){super(t),this.series=e.series,this.seriesIndex=e.seriesIndex,this.pointIndex=e.pointIndex,this.text=e.text}preventDefault(){super.preventDefault()}},legendItemLeave:class extends d3{constructor(e,t){super(t),this.series=e.series,this.seriesIndex=e.seriesIndex,this.pointIndex=e.pointIndex,this.text=e.text}preventDefault(){super.preventDefault()}},navigatorFilter:class extends c3{constructor(e,t){super(t),this.from=e.from,this.to=e.to}},noteClick:class extends c3{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.series=e.series,this.value=e.value,this.visual=e.visual}},noteHover:class extends c3{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.series=e.series,this.value=e.value,this.visual=e.visual}},plotAreaClick:class extends c3{constructor(e,t){super(t),this.category=e.category,this.nativeEvent=e.originalEvent,this.value=e.value,this.x=e.x,this.y=e.y}},plotAreaHover:class extends c3{constructor(e,t){super(t),this.category=e.category,this.nativeEvent=e.originalEvent,this.value=e.value,this.x=e.x,this.y=e.y}},render:class extends c3{constructor(e,t){super(t)}},select:class extends d3{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},selectEnd:class extends c3{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},selectStart:class extends d3{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},seriesClick:class extends c3{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.nativeEvent=e.originalEvent,this.percentage=e.percentage,this.point=e.point,this.series=e.series,this.stackValue=e.stackValue,this.value=e.value}},seriesHover:class extends d3{constructor(e,t){super(t),this.category=e.category,this.categoryPoints=e.categoryPoints,this.dataItem=e.dataItem,this.nativeEvent=e.originalEvent,this.percentage=e.percentage,this.point=e.point,this.series=e.series,this.stackValue=e.stackValue,this.value=e.value}},zoom:class extends d3{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.delta=e.delta,this.nativeEvent=e.originalEvent}},zoomEnd:class extends c3{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.nativeEvent=e.originalEvent}},zoomStart:class extends d3{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.nativeEvent=e.originalEvent}}};class h3{constructor(e,t){this.sender=e,this.syntheticEvent=t}}function m3(e,t){return new h3(e,t)}const f3=1e3/60,g3=e=>{let t,n,o=[];const i=i=>{t=e(t,i),Lo&&(window.clearTimeout(n),n=window.setTimeout(()=>o.forEach(e=>e()),f3))};return i({}),{getState:()=>t,dispatch:i,subscribe:e=>(o.push(e),()=>o=o.filter(t=>t!==e))}},v3=(e,t)=>t.chartCollectionIdxKey?b3.collectionConfigurationItem(e,t):t.chartKey?b3.configurationItem(e,t):{},y3=(e,t)=>{if(!t.type)return{};switch(t.type){case"set":return b3.themeItem(e,t);case"push":return Object.assign(e,t.payload);default:return e}},x3=(e,t)=>{if(!t.type)return[];switch(t.type){case"add":return[...e,t.payload];case"remove":return e.filter(e=>e!==t.payload);default:return e}},b3={configurationItem:(e,t)=>Object.assign(e,{[t.chartKey]:t.payload}),collectionConfigurationItem(e,t){let n=!1;const[o,i]=t.chartCollectionIdxKey.split("_"),r=e[o].map((e,o)=>parseInt(i,10)===o?(n=!0,t.payload):e);return!1===n&&r.splice(parseInt(i,10),0,t.payload),Object.assign(e,{[o]:r})},themeItem(e,t){let n={};const o=Object.assign(n,e),{field:i,value:r}=t.payload,a=i.split(".");let s=a.shift();for(;a.length>0;)n=n[s]=n[s]||{},s=a.shift();return n[s]=r,o}};class w3{constructor(e,t){this.value=e.value,this.category=e.category,this.categoryIndex=e.categoryIx,this.series=e.series,this.dataItem=e.dataItem,this.percentage=e.percentage,this.runningTotal=e.runningTotal,this.total=e.total,this.low=e.low,this.high=e.high,this.xLow=e.xLow,this.xHigh=e.xHigh,this.yLow=e.yLow,this.yHigh=e.yHigh,this.point=e,this.format=((e.options||{}).tooltip||{}).format||t}get formattedValue(){return this.format?this.point.formatValue(this.format):String(this.value)}}const k3=e=>{const{categoryText:t,colorMarker:n,colspan:i,nameColumn:r,points:a}=e;return o.createElement("table",null,o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",{colSpan:i},t))),o.createElement("tbody",null,a.map((e,t)=>o.createElement("tr",{key:t},n&&o.createElement("td",null,o.createElement("span",{className:"k-chart-shared-tooltip-marker",style:{backgroundColor:e.series.color}})),r&&o.createElement("td",null,e.series.name),o.createElement("td",{dangerouslySetInnerHTML:{__html:e.formattedValue}})))))},C3=o.createContext(null);C3.displayName="ChartContext";const S3={horizontal:"fit",vertical:"fit"},I3="k-chart-tooltip",E3=class extends o.Component{constructor(e){super(e),this.context=null,this.element=null,this.onChartMouseLeave=e=>{const{syntheticEvent:t}=e;return!!a3(t.relatedTarget,this.element)},this.onMouseLeave=e=>{const t=m3(this,e);this.context.childrenObserver.trigger("onMouseLeave",t)&&e.preventDefault()},this.popupRef=e=>{this.element=e;const t=e&&e.closest(".k-animation-container");t&&(t.style.transition="initial")},this.chartObserver=new $N(this,{onMouseLeave:"onChartMouseLeave"})}componentDidMount(){var e;null==(e=this.context)||e.observersStore.dispatch({type:"add",payload:this.chartObserver})}render(){const{popupShown:e,popupAlign:t,popupOffset:n,popupStyles:i,popupContent:r,className:a}=this.props,s=[I3,a].join(" ").trim();return o.createElement(Ci,{animate:!1,popupAlign:t,offset:n,show:e,collision:S3,className:"k-chart-tooltip-wrapper"},o.createElement("div",{className:s,style:i,onMouseLeave:this.onMouseLeave,ref:this.popupRef},r()))}componentWillUnmount(){this.context.observersStore.dispatch({type:"remove",payload:this.chartObserver})}};E3.contextType=C3;let j3=E3;const A3=["popupContext","shared","className"],_3="k-chart-shared-tooltip",D3="k-chart-tooltip-inverse",N3=class extends o.Component{constructor(){super(...arguments),this.context=null,this.state={popupShown:!1},this.chartObserver=null}componentDidMount(){this.chartObserver=new $N(this,{showTooltip:"onShowTooltip",hideTooltip:"onHideTooltip"}),this.context.observersStore.dispatch({type:"add",payload:this.chartObserver})}render(){const e=this.state,{popupContext:t,shared:n,className:i}=e,r=s(e,A3),a=this.state.popupShown?()=>{const e=this.findRenderFunction();if(n)return null!==e?e(t):o.createElement(k3,p({},t));const i=t.point,r=this.findRenderFunctionByIndex(i.series.index);return null!==r?r(t):null!==e?e(t):o.createElement("span",{dangerouslySetInnerHTML:{__html:t.point.formattedValue}})}:Function.prototype,l=rn({[_3]:n,[D3]:!!i});return o.createElement(j3,p(p({},r),{},{popupContent:a,className:l}))}componentWillUnmount(){this.context.observersStore.dispatch({type:"remove",payload:this.chartObserver})}onShowTooltip(e){const{anchor:t,style:n,shared:o,className:i,crosshair:r}=e;let a;r||(a=o?this.createSharedTooltipContext(e):this.createTooltipContext(e),this.setState({popupShown:!0,popupAlign:t.align,popupOffset:t.point,popupContext:a,popupStyles:n,className:i,shared:o}))}onHideTooltip(){this.setState({popupShown:!1,popupStyles:{},className:void 0})}createSharedTooltipContext(e){const{points:t,categoryText:n}=e,o=t.filter(e=>"undefined"!=typeof e.series.name).length>0,i=e.series.length>1;let r=1;return o&&r++,i&&r++,{categoryText:n,colorMarker:i,colspan:r,nameColumn:o,points:e.points.map(t=>new w3(t,e.format))}}createTooltipContext(e){const{point:t,format:n}=e;return{point:new w3(t,n)}}findRenderFunctionByIndex(e){const t=this.context.optionsStore.getState().series;return void 0!==t&&Array.isArray(t)&&void 0!==t[e]&&t[e].hasOwnProperty("tooltip")&&t[e].tooltip.hasOwnProperty("render")?t[e].tooltip.render:null}findRenderFunction(){const e=this.context.optionsStore.getState().tooltip;return void 0!==e&&e.hasOwnProperty("render")?e.render:null}};N3.contextType=C3;let T3=N3;const P3=e=>e.children;P3.displayName="Container";const M3=["popupContend","className"],O3="k-chart-crosshair-tooltip",R3="k-chart-tooltip-inverse",L3=class extends o.Component{constructor(e){super(e),this.context=null,this.state={popupShown:!1},this.chartObserver=new $N(this,{showTooltip:"onShowTooltip",hideTooltip:"onHideTooltip"})}componentDidMount(){var e;null==(e=this.context)||e.observersStore.dispatch({type:"add",payload:this.chartObserver})}render(){const e=this.state,{popupContend:t,className:n}=e,i=s(e,M3),r=this.state.popupShown?()=>t:Function.prototype,a=rn({[O3]:!0,[R3]:!!n});return o.createElement(j3,p(p({},i),{},{popupContent:r,className:a}))}componentWillUnmount(){var e;null==(e=this.context)||e.observersStore.dispatch({type:"remove",payload:this.chartObserver})}onShowTooltip(e){const{anchor:t,style:n,className:o,crosshair:i,axisName:r,axisIndex:a,value:s}=e,{name:l,index:c}=this.props;i&&r===l&&a===c&&this.setState({popupShown:!0,popupAlign:t.align,popupOffset:t.point,popupContend:s,popupStyles:n,className:o})}onHideTooltip(){this.setState({popupShown:!1,popupStyles:{},className:void 0})}};L3.contextType=C3;let F3=L3;const z3=["categoryAxis","valueAxis","xAxis","yAxis"];function B3(e){const t={};for(let n=0;n<z3.length;n++){const o=V3(e,z3[n]);for(let e=0;e<o.length;e++){const n=o[e];t[n.name+n.index]=n}}return t}function V3(e,t){const n=[];if(e[t]){const o=[].concat(e[t]);for(let e=0;e<o.length;e++){const i=(o[e].crosshair||{}).tooltip;i&&i.visible&&n.push({index:e,name:t})}}return n}const H3=class extends o.Component{constructor(){super(...arguments),this.context=null,this.state={tooltips:{}},this.storeUnsubscriber=Function.prototype,this.subscriber=()=>{var e;this.setState({tooltips:B3(null==(e=this.context)?void 0:e.optionsStore.getState())})}}componentDidMount(){this.storeUnsubscriber=this.context.optionsStore.subscribe(this.subscriber)}render(){const{tooltips:e}=this.state,t=Object.keys(e).map(t=>o.createElement(F3,p(p({},e[t]),{},{key:t})));return o.createElement(P3,null,t)}componentWillUnmount(){this.storeUnsubscriber()}};H3.contextType=C3;let q3=H3;const U3={name:"@progress/kendo-react-charts",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:1745410872,version:"10.2.0",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"},G3=["dir","children"],W3=class extends o.Component{constructor(e){super(e),this.chartInstance=null,this.surface=null,this._element=null,this.optionsStore={},this.optionsUnsubscriber=Function.prototype,this.themeStore={},this.themeUnsubscriber=Function.prototype,this.observersStore={},this.suppressTransitions=!1,this.showLicenseWatermark=!1,this.onRender=e=>{null!==this.chartInstance&&(this.surface=e.sender.surface,this.trigger("render",e))},this.onDrilldown=e=>{var t;const{series:n}=this.optionsStore.getState(),o=n.find(t=>t.name===e.series.name);if(o.drilldownSeriesFactory){const n="onDrilldown";if(this.props.hasOwnProperty(n)){const i={seriesName:o.name,drilldownValue:e.value},r=[...(null==(t=this.props.drilldownState)?void 0:t.steps)||[],i],a=this.props.getTarget(),s=p(p({},e),{},{currentState:this.props.drilldownState,nextState:{steps:r}}),l=new u3(s,a);this.props[n].call(void 0,l)}}return!0},this.onLegendItemClick=e=>{if(null!==this.chartInstance)if(this.props.onLegendItemClick)this.trigger("legendItemClick",e);else{const{series:t}=this.optionsStore.getState();if(!t)return;let n={};const{seriesIndex:o,pointIndex:i}=e,r=t[o];if(void 0===i)n=Object.assign({},r,{visible:l3(r.visible)});else{const e=r.pointVisibility=r.pointVisibility||[];e[i]=l3(e[i]),n=Object.assign({},r)}this.optionsStore.dispatch({chartCollectionIdxKey:"series_".concat(o),payload:n}),this.suppressTransitions=!0}},this.onWindowResize=()=>{null!==this.chartInstance&&this.chartInstance.resize()},this.onChartMouseLeave=e=>{const t=m3(this,e);this.triggerDomEvent("onMouseLeave",t)?e.preventDefault():null!==this.chartInstance&&this.chartInstance.hideElements()},this.onChildMouseLeave=e=>{const{syntheticEvent:t}=e;return this.chartInstance&&!a3(t.relatedTarget,this.element)&&this.chartInstance.hideElements(),!1},this.showLicenseWatermark=!na(U3,{component:"Chart"}),this.optionsStore=g3(v3),this.observersStore=g3(x3),this.childrenObserver=new $N(this,{onMouseLeave:"onChildMouseLeave"}),this.state={optionsStore:this.optionsStore,observersStore:this.observersStore,childrenObserver:this.childrenObserver,drilldownState:{steps:[]}},this.themeStore=g3(y3),this.chartObserver=new $N(this,{render:"onRender",legendItemClick:"onLegendItemClick",drilldown:"onDrilldown"})}get element(){return this._element}static getDerivedStateFromProps(e,t){return p(p({},t),{},{drilldownState:e.drilldownState||[]})}componentDidMount(){if(this._element){let t={};try{t=r3(this._element)}catch(e){}const n=_N(function(e){return void 0===e&&(e={}),{axisDefaults:{labels:{font:E2},notes:P2(),title:{font:j2,margin:5}},categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:G2(e),title:{font:j2},subtitle:{font:E2},legend:{labels:{font:E2}}}}(),t);this.themeStore.dispatch({type:"push",payload:n}),this.instantiateCoreChart()}this.optionsUnsubscriber=this.optionsStore.subscribe(this.refresh.bind(this)),this.themeUnsubscriber=this.themeStore.subscribe(this.refresh.bind(this)),window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){this.optionsUnsubscriber(),this.themeUnsubscriber(),null!==this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null),window.removeEventListener("resize",this.onWindowResize)}componentDidUpdate(e){const t=this.props,{dir:n,children:o}=t,i=s(t,G3);if(null!==this.chartInstance){const t=qh(this),o=this.chartInstance.chartService,r=t.locale!==o._intlService.locale,a=Object.entries(e).filter(e=>"dir"!==e[0]&&"children"!==e[0]).some(e=>{const[t,n]=e;return!(i.hasOwnProperty(t)&&i[t]===n)});r&&(this.chartInstance.chartService._intlService=t,this.chartInstance.chartService.format._intlService=t,a||this.chartInstance.noTransitionsRedraw()),a&&this.refresh(),e.dir!==n&&this.chartInstance.setDirection(this.getDirection(n))}}render(){const{style:e={},className:t,wrapper:n,children:i}=this.props,r=Object.assign({},e,{position:"relative"}),a=o.createElement(n,{className:t,style:r,key:"chartElement"},o.createElement("div",{onMouseLeave:this.onChartMouseLeave,ref:e=>{this._element=e},className:"k-chart-surface"},i),o.createElement(o.Fragment,null,this.showLicenseWatermark&&o.createElement(ia,null)));return o.createElement(C3.Provider,{value:this.state},o.createElement(T3,{key:"seriesTooltip"}),o.createElement(q3,{key:"crosshairTooltips"}),a)}getDirection(e){return"rtl"===(void 0!==e?e:Lo&&window.getComputedStyle(this.element).direction||"ltr")}getChartOptions(){const{renderAs:e,pannable:t,zoomable:n,paneDefaults:o,panes:i,transitions:r,seriesColors:a,seriesDefaults:s,axisDefaults:l,deriveOptionsFromParent:c}=this.props;let d={};return void 0!==e&&(d.renderAs=e),void 0!==t&&(d.pannable=t),void 0!==n&&(d.zoomable=n),void 0!==o&&(d.paneDefaults=o),void 0!==i&&(d.panes=i),void 0!==r&&(d.transitions=r),void 0!==a&&(d.seriesColors=a),void 0!==s&&(d.seriesDefaults=s),void 0!==l&&(d.axisDefaults=l),d=Object.assign(d,this.optionsStore.getState()),c&&(d=c(d)),d}refresh(){if(null!==this.chartInstance){const e=this.themeStore.getState(),t=this.getChartOptions(),n=t.transitions;this.suppressTransitions&&(t.transitions=!1),this.props.onRefresh?this.props.onRefresh.call(void 0,t,e,this.chartInstance):this.chartInstance.setOptions(t,e),this.suppressTransitions&&(t.transitions=n,this.suppressTransitions=!1)}}instantiateCoreChart(){const{dir:e,chartConstructor:t}=this.props,n=this.getChartOptions();this.chartInstance=new t(this.element,n,this.themeStore.getState(),{rtl:this.getDirection(e),intlService:qh(this),observer:this.chartObserver,sender:this})}trigger(e,t){const n=function(e,t,n){if(p3[e])return new p3[e](t,n)}(e,t,this.props.getTarget()),o="on"+e.charAt(0).toUpperCase()+e.slice(1),i=this.observersStore.getState();let r=!1;for(let a=0;a<i.length;a++)i[a].trigger(e,t)&&(r=!0);return!1===r&&n&&this.props.hasOwnProperty(o)?(this.props[o].call(void 0,n),n.isDefaultPrevented&&n.isDefaultPrevented()):r}requiresHandlers(e){for(let t=0;t<e.length;t++){const n=e[t],o="on"+n.charAt(0).toUpperCase()+n.slice(1);if(this.props.hasOwnProperty(o))return!0}return!1}triggerDomEvent(e,t){const n=this.observersStore.getState();let o=!1;for(let i=0;i<n.length;i++)n[i].trigger(e,t)&&(o=!0);return o}};W3.propTypes={dir:jt.string,renderAs:jt.oneOf(["svg","canvas"])},W3.defaultProps={renderAs:"svg"};let K3=W3;Gh(K3);const Y3=class extends o.Component{constructor(e){super(e),this.state={donutCenterStyles:null},this.chartObserver=new $N(this,{render:"onRender"})}componentDidMount(){var e;null==(e=this.context)||e.observersStore.dispatch({type:"add",payload:this.chartObserver})}render(){const{render:e}=this.props,{donutCenterStyles:t}=this.state;let n=null;return e&&t&&(n=o.createElement("div",{className:"k-chart-donut-center",style:t},o.createElement(e,null))),n}onRender(e){var t;const n=null==(t=this.context)?void 0:t.optionsStore.getState().series,o=Array.isArray(n)?n[0]:null,i=e.sender._plotArea.charts;if(!o||"donut"!==o.type||0===i[0].points.length)return;const r=i[0].points[0].sector,a=r.innerRadius,s=r.center.y-a,l=r.center.x-a,c=2*a;this.setState({donutCenterStyles:{height:c,left:l,top:s,width:c}})}};Y3.contextType=C3;let X3=Y3;const J3=["donutCenterRender","children","className"];class Q3 extends o.Component{constructor(){super(...arguments),this._baseChart=null,this.getTarget=()=>this}get chartInstance(){return null!==this._baseChart?this._baseChart.chartInstance:null}get surface(){return null!==this._baseChart?this._baseChart.surface:null}get element(){return null!==this._baseChart?this._baseChart.element:null}render(){const e=this.props,{donutCenterRender:t,children:n,className:i}=e,r=s(e,J3);return o.createElement(K3,p(p({},r),{},{ref:e=>{this._baseChart=e},chartConstructor:MX,getTarget:this.getTarget,wrapper:"div",className:rn("k-chart k-widget",i)}),n,o.createElement(X3,{render:t}))}}const Z3=["_chartKey","_chartCollectionIdxKey","_parentStore","children"],$3=class extends o.Component{get optionsStore(){var e;return null==(e=this.context)?void 0:e.optionsStore}constructor(e){super(e),this.childStore=g3(v3)}render(){const{children:e}=this.props;return void 0!==e?o.Children.map(e,e=>o.isValidElement(e)?this.renderChildren(e):e):null}componentDidMount(){this.dispatch()}componentDidUpdate(){this.dispatch()}dispatch(){const e=this.props,{_chartKey:t,_chartCollectionIdxKey:n,_parentStore:o,children:i}=e,r=s(e,Z3);(o||this.optionsStore).dispatch({chartKey:t,chartCollectionIdxKey:n,payload:Object.assign({},r,this.childStore.getState())})}renderChildren(e){const{children:t}=e.props,n=p(p({},e.props),{},{_parentStore:this.childStore});return o.cloneElement(e,n,t)}};$3.contextType=C3;let e4=$3;const t4=e=>o.createElement(e4,p(p({},e),{},{_chartKey:"title"}));t4.displayName="ChartTitle";const n4=e=>o.createElement(e4,p(p({visible:!0},e),{},{_chartKey:"legend"}));n4.displayName="ChartLegend";const o4=class extends o.Component{get optionsStore(){var e;return null==(e=this.context)?void 0:e.optionsStore}renderChildren(e,t){const{children:n}=e.props,{_chartKey:i,_parentStore:r}=this.props,a=p(p({},e.props),{},{_chartCollectionIdxKey:"".concat(i,"_").concat(t),_parentStore:r});return o.cloneElement(e,a,n)}render(){const{_chartKey:e,_parentStore:t,children:n}=this.props;return(t||this.optionsStore).dispatch({chartKey:e,payload:[]}),o.Children.map(n,(e,t)=>o.isValidElement(e)?this.renderChildren(e,t):e)}};o4.contextType=C3;let i4=o4;const r4=e=>o.createElement(e4,p({},e));r4.displayName="ChartCategoryAxisItem";const a4=e=>o.createElement(i4,p(p({},e),{},{_chartKey:"categoryAxis"}));a4.propTypes={children:function(e,t,n){return s3(e,t,n,r4)}},a4.displayName="ChartCategoryAxis";const s4=e=>{let t=e=>o.createElement(o.Fragment,null);e.drilldownSeriesFactory&&(t=e.drilldownSeriesFactory);const n=t=>{var n,o;return t&&(null==(o=null==(n=t.drilldownState)?void 0:n.steps)?void 0:o.find(t=>{let{seriesName:n}=t;return n===e.name}))};return o.createElement(C3.Consumer,null,i=>n(i)?o.createElement(t,{_chartCollectionIdxKey:e._chartCollectionIdxKey,drilldownValue:n(i).drilldownValue}):o.createElement(e4,p({},e)))};s4.displayName="ChartSeriesItem";const l4=e=>o.createElement(i4,p(p({},e),{},{_chartKey:"series"}));l4.propTypes={children:function(e,t,n){return s3(e,t,n,s4)}},l4.displayName="ChartSeries";const c4=[2002,2003,2004],d4=[{name:"India",data:[3.907,7.943,7.848]},{name:"Russian Federation",data:[4.743,7.295,7.175]},{name:"Germany",data:[.21,.375,1.161]},{name:"World",data:[1.988,2.733,3.994]}],u4=[{name:"World",data:[3.988,3.733,3.994]},{name:"Germany",data:[2.21,2.375,2.161]},{name:"Russian Federation",data:[1.743,1.295,1.175]},{name:"India",data:[.907,.943,.848]}],p4=[{name:"India",share:.24},{name:"Russian Federation",share:.26,explode:!0},{name:"Germany",share:.1},{name:"World",share:.4}],h4=()=>(0,sr.jsxs)(sr.Fragment,{children:[(0,sr.jsxs)("div",{className:"row mb-3",children:[(0,sr.jsx)("div",{className:"col-6",children:(0,sr.jsx)("div",{className:"k-card",children:(0,sr.jsxs)(Q3,{style:{height:350},children:[(0,sr.jsx)(t4,{text:"Column Chart"}),(0,sr.jsx)(n4,{position:"top",orientation:"horizontal"}),(0,sr.jsx)(a4,{children:(0,sr.jsx)(r4,{categories:c4,startAngle:45})}),(0,sr.jsx)(l4,{children:d4.map((e,t)=>(0,sr.jsx)(s4,{type:"column",tooltip:{visible:!0},data:e.data,name:e.name},t))})]})})}),(0,sr.jsx)("div",{className:"col-6",children:(0,sr.jsx)("div",{className:"k-card",children:(0,sr.jsxs)(Q3,{style:{height:350},children:[(0,sr.jsx)(t4,{text:"Line Chart"}),(0,sr.jsx)(n4,{position:"top",orientation:"horizontal"}),(0,sr.jsx)(a4,{children:(0,sr.jsx)(r4,{categories:c4,startAngle:45})}),(0,sr.jsx)(l4,{children:d4.map((e,t)=>(0,sr.jsx)(s4,{type:"line",tooltip:{visible:!0},data:e.data,name:e.name},t))})]})})})]}),(0,sr.jsxs)("div",{className:"row",children:[(0,sr.jsx)("div",{className:"col-6",children:(0,sr.jsx)("div",{className:"k-card",children:(0,sr.jsxs)(Q3,{style:{height:350},children:[(0,sr.jsx)(t4,{text:"Area Chart"}),(0,sr.jsx)(n4,{position:"top",orientation:"horizontal"}),(0,sr.jsx)(a4,{children:(0,sr.jsx)(r4,{categories:c4,startAngle:45})}),(0,sr.jsx)(l4,{children:u4.map((e,t)=>(0,sr.jsx)(s4,{type:"area",tooltip:{visible:!0},data:e.data,name:e.name},t))})]})})}),(0,sr.jsx)("div",{className:"col-6",children:(0,sr.jsx)("div",{className:"k-card",children:(0,sr.jsxs)(Q3,{style:{height:350},children:[(0,sr.jsx)(t4,{text:"Pie Chart"}),(0,sr.jsx)(n4,{position:"top",orientation:"horizontal"}),(0,sr.jsx)(l4,{children:(0,sr.jsx)(s4,{type:"pie",overlay:{gradient:"sharpBevel"},tooltip:{visible:!0},data:p4,categoryField:"name",field:"share"})})]})})})]})]}),m4=()=>{const[e,t]=(0,o.useState)([]),[n,i]=(0,o.useState)(!0),[r,a]=(0,o.useState)(null),s=ve();(0,o.useEffect)(()=>{(async()=>{try{i(!0);const e=hr("/chart-of-account"),n=await fetch(e);if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const o=await n.json();if(console.log("API Response:",o),!o.results||!Array.isArray(o.results))throw new Error("Invalid API response format");{const e=(e=>{console.log("Converting API data:",e);const t=new Map;e.forEach(e=>{const n={id:e.id,accountName:e.name,isParent:e.isParent,parent:e.parent,parentName:e.parentName,parentId:e.parent,expanded:!1,accountNumber:e.accountNumber,accountType:e.accountTypeName||"Unknown",openingBalance:e.openingBalance,inactive:e.inactive,notes:e.notes,items:[]};t.set(e.id,n)});const n=[];e.forEach(e=>{const o=t.get(e.id);if(null===e.parent||""===e.parent||void 0===e.parent)n.push(o);else{const i=t.get(e.parent);i?(o.parentId=i.id,i.items.push(o)):(console.warn("Parent '".concat(e.parent,"' not found for item '").concat(e.name,"'. Adding as root item.")),n.push(o))}});const o=e=>{const t=[...e].sort((e,t)=>{const n=e.accountNumber?String(e.accountNumber).trim():"",o=t.accountNumber?String(t.accountNumber).trim():"";console.log("Comparing:",n,"vs",o);const i=parseInt(n,10),r=parseInt(o,10);if(console.log("Parsed:",i,"vs",r),!isNaN(i)&&!isNaN(r)){const e=i-r;return console.log("Result:",e),e}return isNaN(i)?1:isNaN(r)?-1:n.localeCompare(o)});return t.map(e=>e.items&&e.items.length>0?p(p({},e),{},{items:o(e.items)}):e)},i=o(n);return console.log("Converted tree structure:",i),i})(o.results);t(e)}}catch(e){console.error("Error fetching chart of accounts:",e),a(e.message)}finally{i(!1)}})()},[]);const l=[{field:"accountName",title:"Account Name",width:"300px",cell:t=>{const n=t.dataItem.items&&t.dataItem.items.length>0,o=25*(t=>{let n=0;if(t.parent){let o=t.parent;const i=(e,t)=>{for(const n of e){if(n.id===t)return n;if(n.items){const e=i(n.items,t);if(e)return e}}return null};for(;o;){n++;const t=i(e,o);if(o=t?t.parent:null,n>10)break}}return n})(t.dataItem)+8;return(0,sr.jsx)("td",{style:{paddingLeft:"".concat(o,"px")},children:(0,sr.jsxs)("div",{className:"k-d-flex k-align-items-center k-gap-2",children:[n?(0,sr.jsx)("span",{onClick:e=>{e.stopPropagation(),n&&(console.log("Expanding/Collapsing:",t.dataItem.accountName,"Current expanded:",t.dataItem.expanded),c({dataItem:t.dataItem}))},className:"k-button k-button-flat k-button-sm k-rounded-full k-text-primary",style:{cursor:"pointer",fontSize:"14px",userSelect:"none",minWidth:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:t.dataItem.expanded?"\u25bc":"\u25b6"}):(0,sr.jsx)("span",{style:{width:"32px"}}),(0,sr.jsx)("span",{className:"k-font-weight-normal",children:t.dataItem.accountName})]})})}},{field:"accountType",title:"Account Type",width:"130px",cell:e=>(0,sr.jsx)("td",{className:"k-text-center",children:(0,sr.jsxs)("span",{className:"k-badge k-badge-rounded ".concat((e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"asset":return"k-badge-success";case"liability":return"k-badge-warning";case"equity":return"k-badge-info";case"income":case"revenue":return"k-badge-primary";case"expense":return"k-badge-error";default:return"k-badge-secondary"}})(e.dataItem.accountType)),children:[(0,sr.jsx)("span",{className:"k-icon ".concat((e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"asset":return"k-i-dollar";case"liability":return"k-i-warning";case"equity":return"k-i-user";case"income":case"revenue":return"k-i-plus";case"expense":return"k-i-minus";default:return"k-i-file"}})(e.dataItem.accountType)," k-mr-1")}),e.dataItem.accountType||"Unknown"]})})},{field:"accountNumber",title:"Account Number",width:"140px",cell:e=>(0,sr.jsx)("td",{className:"k-text-center",children:(0,sr.jsxs)(bo,{onClick:t=>{t.preventDefault(),s("/chart-of-account/view/".concat(e.dataItem.id))},fillMode:"flat",themeColor:"primary",size:"small",className:"k-button-link",style:{color:"#007acc"},children:[(0,sr.jsx)("span",{className:"k-icon k-i-external-link k-mr-1"}),(0,sr.jsx)("span",{style:{color:"#007acc"},children:e.dataItem.accountNumber})]})})},{field:"openingBalance",title:"Opening Balance",width:"150px",cell:e=>{const t=e.dataItem.openingBalance||0,n=t<0;return(0,sr.jsx)("td",{className:"k-text-right",children:(0,sr.jsxs)("span",{className:n?"k-text-error":"k-text-success",children:["$",Math.abs(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})})}}],c=n=>{console.log("onExpandChange called for:",n.dataItem.accountName);const o=[...e],i=e=>e.map(e=>e.id===n.dataItem.id?(console.log("Found item to toggle:",e.accountName,"from",e.expanded,"to",!e.expanded),p(p({},e),{},{expanded:!e.expanded})):e.items&&e.items.length>0?p(p({},e),{},{items:i(e.items)}):e),r=i(o);console.log("Setting new data:",r),t(r)},d=(()=>{const t=e=>{let n=[];return e.forEach(e=>{n.push(e),e.items&&e.items.length>0&&(n=n.concat(t(e.items)))}),n},n=t(e),o={};return n.forEach(e=>{const t=e.accountType||"Unknown";o[t]||(o[t]=0),o[t]++}),o})();return n?(0,sr.jsx)("div",{className:"k-d-flex k-flex-col k-gap-4",style:{padding:"24px",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:(0,sr.jsx)(N_,{className:"k-shadow-lg",style:{borderRadius:"12px",overflow:"hidden"},children:(0,sr.jsx)(P_,{children:(0,sr.jsx)("div",{className:"k-d-flex k-justify-content-center k-align-items-center",style:{minHeight:"400px"},children:(0,sr.jsxs)("div",{className:"k-d-flex k-flex-col k-align-items-center k-gap-3",children:[(0,sr.jsx)("div",{className:"k-loader k-loader-lg"}),(0,sr.jsx)("p",{className:"k-text-muted",children:"Loading Chart of Accounts..."})]})})})})}):r?(0,sr.jsx)("div",{className:"k-d-flex k-flex-col k-gap-4",style:{padding:"24px",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:(0,sr.jsx)(N_,{className:"k-shadow-lg",style:{borderRadius:"12px",overflow:"hidden"},children:(0,sr.jsx)(P_,{children:(0,sr.jsx)("div",{className:"k-d-flex k-justify-content-center k-align-items-center",style:{minHeight:"400px"},children:(0,sr.jsxs)(N_,{className:"k-state-empty k-text-center k-p-6",children:[(0,sr.jsx)("div",{className:"k-icon k-i-warning k-color-error k-font-size-xxl k-mb-4"}),(0,sr.jsx)("h3",{className:"k-text-muted",children:"Error Loading Data"}),(0,sr.jsx)("p",{className:"k-text-muted",children:r}),(0,sr.jsx)(bo,{onClick:()=>window.location.reload(),themeColor:"primary",className:"k-mt-3",children:"Retry"})]})})})})}):(0,sr.jsx)("div",{className:"k-d-flex k-flex-col k-gap-4",style:{padding:"24px",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:(0,sr.jsxs)(N_,{className:"k-shadow-lg",style:{borderRadius:"12px",overflow:"hidden"},children:[(0,sr.jsxs)(M_,{className:"k-hbox k-justify-content-between k-align-items-center",style:{borderRadius:"12px 12px 0 0"},children:[(0,sr.jsxs)("div",{children:[(0,sr.jsx)("h1",{className:"k-text-dark k-font-size-xl k-font-weight-bold k-m-0",children:"Chart of Accounts"}),(0,sr.jsx)("p",{className:"k-text-secondary k-font-size-sm k-m-0",children:"Financial account structure"})]}),(0,sr.jsx)("div",{className:"k-d-flex k-gap-2",children:Object.entries(d).map(e=>{let[t,n]=e;return(0,sr.jsxs)("div",{className:"k-badge k-badge-rounded ".concat("asset"===t.toLowerCase()?"k-badge-success":"liability"===t.toLowerCase()?"k-badge-warning":"equity"===t.toLowerCase()?"k-badge-info":"income"===t.toLowerCase()||"revenue"===t.toLowerCase()?"k-badge-primary":"expense"===t.toLowerCase()?"k-badge-error":"k-badge-secondary"),children:[(0,sr.jsx)("span",{className:"k-icon ".concat("asset"===t.toLowerCase()?"k-i-dollar":"liability"===t.toLowerCase()?"k-i-warning":"equity"===t.toLowerCase()?"k-i-user":"income"===t.toLowerCase()||"revenue"===t.toLowerCase()?"k-i-plus":"expense"===t.toLowerCase()?"k-i-minus":"k-i-file"," k-mr-1")}),t,": ",n]},t)})})]}),(0,sr.jsx)(P_,{children:e&&e.length>0?(0,sr.jsxs)("div",{className:"k-d-flex k-flex-col k-gap-3",children:[(0,sr.jsx)("style",{children:"\n                  /* Hide KendoReact's default expand icons since we're using custom ones */\n                  .k-treelist .k-hierarchy-cell .k-icon {\n                    display: none;\n                  }\n                  \n                  /* Enhanced TreeList styling */\n                  .k-treelist {\n                    border-radius: 12px;\n                    box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                  }\n                  \n                  .k-treelist .k-table-thead {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                  }\n                  \n                  .k-treelist .k-table-thead .k-header {\n                    color: white;\n                    font-weight: 600;\n                  }\n                  \n                  /* Rounded corners for table header */\n                  .k-treelist .k-table-thead .k-header:first-child {\n                    border-top-left-radius: 12px;\n                  }\n                  \n                  .k-treelist .k-table-thead .k-header:last-child {\n                    border-top-right-radius: 12px;\n                  }\n                  \n                  .k-treelist .k-table-tbody .k-table-row:hover {\n                    background-color: #f8f9ff;\n                  }\n                "}),(0,sr.jsx)(j_,{data:e,columns:l,expandField:"expanded",subItemsField:"items",onExpandChange:c,style:{width:"100%"},idField:"id",className:"k-treelist-enhanced"})]}):(0,sr.jsxs)(N_,{className:"k-state-empty k-text-center k-p-6",children:[(0,sr.jsx)("div",{className:"k-icon k-i-warning k-color-warning k-font-size-xxl k-mb-4"}),(0,sr.jsx)("h3",{className:"k-text-muted",children:"No Data Available"}),(0,sr.jsx)("p",{className:"k-text-muted",children:"No chart of accounts data found."})]})})]})})};const f4=function(){const[e,t]=(0,o.useState)(!1);return(0,sr.jsx)(vt,{children:(0,sr.jsxs)("div",{className:"app-container",children:[(0,sr.jsx)(lr,{onMenuClick:()=>{t(!e)},expanded:e}),(0,sr.jsxs)("div",{className:"app-body",children:[(0,sr.jsx)(cr,{expanded:e,setExpanded:t}),(0,sr.jsx)("div",{className:"content",children:(0,sr.jsxs)(Fe,{children:[(0,sr.jsx)(Re,{path:"/",element:(0,sr.jsx)(h4,{})}),(0,sr.jsx)(Re,{path:"/forms",element:(0,sr.jsx)(z_,{})}),(0,sr.jsx)(Re,{path:"/forms/new",element:(0,sr.jsx)(W_,{})}),(0,sr.jsx)(Re,{path:"/forms/view/:id",element:(0,sr.jsx)(W_,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/forms/edit/:id",element:(0,sr.jsx)(W_,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/inventory-adjustment",element:(0,sr.jsx)(iD,{})}),(0,sr.jsx)(Re,{path:"/inventory-adjustment/new",element:(0,sr.jsx)(oD,{recordType:"InventoryAdjustment"})}),(0,sr.jsx)(Re,{path:"/inventory-adjustment/view/:id",element:(0,sr.jsx)(oD,{recordType:"InventoryAdjustment",mode:"view"})}),(0,sr.jsx)(Re,{path:"/inventory-adjustment/edit/:id",element:(0,sr.jsx)(oD,{recordType:"InventoryAdjustment",mode:"edit"})}),(0,sr.jsx)(Re,{path:"/inventory-transfer",element:(0,sr.jsx)(rD,{})}),(0,sr.jsx)(Re,{path:"/inventory-transfer/new",element:(0,sr.jsx)(oD,{recordType:"InventoryTransfer"})}),(0,sr.jsx)(Re,{path:"/inventory-transfer/view/:id",element:(0,sr.jsx)(oD,{recordType:"InventoryTransfer",mode:"view"})}),(0,sr.jsx)(Re,{path:"/inventory-transfer/edit/:id",element:(0,sr.jsx)(oD,{recordType:"InventoryTransfer",mode:"edit"})}),(0,sr.jsx)(Re,{path:"/Sales",element:(0,sr.jsx)(Oe,{to:"/sales-order",replace:!0})}),(0,sr.jsx)(Re,{path:"/sales-order",element:(0,sr.jsx)(eA,{})}),(0,sr.jsx)(Re,{path:"/sales-order/new",element:(0,sr.jsx)(Jj,{})}),(0,sr.jsx)(Re,{path:"/sales-order/view/:id",element:(0,sr.jsx)(Jj,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/sales-order/edit/:id",element:(0,sr.jsx)(Jj,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/item-fulfillment",element:(0,sr.jsx)(tA,{})}),(0,sr.jsx)(Re,{path:"/item-fulfillment/new",element:(0,sr.jsx)(Qj,{})}),(0,sr.jsx)(Re,{path:"/item-fulfillment/view/:id",element:(0,sr.jsx)(Qj,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/item-fulfillment/edit/:id",element:(0,sr.jsx)(Qj,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/invoice",element:(0,sr.jsx)(nA,{})}),(0,sr.jsx)(Re,{path:"/invoice/new",element:(0,sr.jsx)(Zj,{})}),(0,sr.jsx)(Re,{path:"/invoice/view/:id",element:(0,sr.jsx)(Zj,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/invoice/edit/:id",element:(0,sr.jsx)(Zj,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/credit-memo",element:(0,sr.jsx)(oA,{})}),(0,sr.jsx)(Re,{path:"/credit-memo/new",element:(0,sr.jsx)($j,{recordType:"CreditMemo"})}),(0,sr.jsx)(Re,{path:"/credit-memo/view/:id",element:(0,sr.jsx)($j,{recordType:"CreditMemo",mode:"view"})}),(0,sr.jsx)(Re,{path:"/credit-memo/edit/:id",element:(0,sr.jsx)($j,{recordType:"CreditMemo",mode:"edit"})}),(0,sr.jsx)(Re,{path:"/debit-memo",element:(0,sr.jsx)(iA,{})}),(0,sr.jsx)(Re,{path:"/debit-memo/new",element:(0,sr.jsx)($j,{recordType:"DebitMemo"})}),(0,sr.jsx)(Re,{path:"/debit-memo/view/:id",element:(0,sr.jsx)($j,{recordType:"DebitMemo",mode:"view"})}),(0,sr.jsx)(Re,{path:"/debit-memo/edit/:id",element:(0,sr.jsx)($j,{recordType:"DebitMemo",mode:"edit"})}),(0,sr.jsx)(Re,{path:"/customer-payment",element:(0,sr.jsx)(gD,{})}),(0,sr.jsx)(Re,{path:"/customer-payment/new",element:(0,sr.jsx)(mD,{})}),(0,sr.jsx)(Re,{path:"/customer-payment/view/:id",element:(0,sr.jsx)(mD,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/customer-payment/edit/:id",element:(0,sr.jsx)(mD,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/journal-entry",element:(0,sr.jsx)(AD,{})}),(0,sr.jsx)(Re,{path:"/journal-entry/new",element:(0,sr.jsx)(jD,{})}),(0,sr.jsx)(Re,{path:"/journal-entry/view/:id",element:(0,sr.jsx)(jD,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/journal-entry/edit/:id",element:(0,sr.jsx)(jD,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/customer",element:(0,sr.jsx)(SA,{})}),(0,sr.jsx)(Re,{path:"/customer/new",element:(0,sr.jsx)(_A,{})}),(0,sr.jsx)(Re,{path:"/customer/view/:id",element:(0,sr.jsx)(_A,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/customer/edit/:id",element:(0,sr.jsx)(_A,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/vendor",element:(0,sr.jsx)(OA,{})}),(0,sr.jsx)(Re,{path:"/vendor/new",element:(0,sr.jsx)(DA,{})}),(0,sr.jsx)(Re,{path:"/vendor/view/:id",element:(0,sr.jsx)(DA,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/vendor/edit/:id",element:(0,sr.jsx)(DA,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/chart-of-account",element:(0,sr.jsx)(O_,{})}),(0,sr.jsx)(Re,{path:"/chart-of-account/new",element:(0,sr.jsx)(TA,{})}),(0,sr.jsx)(Re,{path:"/chart-of-account/view/:id",element:(0,sr.jsx)(TA,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/chart-of-account/edit/:id",element:(0,sr.jsx)(TA,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/location",element:(0,sr.jsx)(R_,{})}),(0,sr.jsx)(Re,{path:"/location/new",element:(0,sr.jsx)(NA,{})}),(0,sr.jsx)(Re,{path:"/location/view/:id",element:(0,sr.jsx)(NA,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/location/edit/:id",element:(0,sr.jsx)(NA,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/product",element:(0,sr.jsx)(L_,{})}),(0,sr.jsx)(Re,{path:"/product/new",element:(0,sr.jsx)(PA,{})}),(0,sr.jsx)(Re,{path:"/product/view/:id",element:(0,sr.jsx)(PA,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/product/edit/:id",element:(0,sr.jsx)(PA,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/tax",element:(0,sr.jsx)(F_,{})}),(0,sr.jsx)(Re,{path:"/tax/new",element:(0,sr.jsx)(MA,{})}),(0,sr.jsx)(Re,{path:"/tax/view/:id",element:(0,sr.jsx)(MA,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/tax/edit/:id",element:(0,sr.jsx)(MA,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/purchases",element:(0,sr.jsx)(Oe,{to:"/purchase-order",replace:!0})}),(0,sr.jsx)(Re,{path:"/purchase-order",element:(0,sr.jsx)(bA,{})}),(0,sr.jsx)(Re,{path:"/purchase-order/new",element:(0,sr.jsx)(gA,{})}),(0,sr.jsx)(Re,{path:"/purchase-order/view/:id",element:(0,sr.jsx)(gA,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/purchase-order/edit/:id",element:(0,sr.jsx)(gA,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/item-receipt",element:(0,sr.jsx)(wA,{})}),(0,sr.jsx)(Re,{path:"/item-receipt/new",element:(0,sr.jsx)(vA,{})}),(0,sr.jsx)(Re,{path:"/item-receipt/view/:id",element:(0,sr.jsx)(vA,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/item-receipt/edit/:id",element:(0,sr.jsx)(vA,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/vendor-bill",element:(0,sr.jsx)(kA,{})}),(0,sr.jsx)(Re,{path:"/vendor-bill/new",element:(0,sr.jsx)(yA,{})}),(0,sr.jsx)(Re,{path:"/vendor-bill/view/:id",element:(0,sr.jsx)(yA,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/vendor-bill/edit/:id",element:(0,sr.jsx)(yA,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/vendor-credit",element:(0,sr.jsx)(CA,{})}),(0,sr.jsx)(Re,{path:"/vendor-credit/new",element:(0,sr.jsx)(xA,{recordType:"VendorCredit"})}),(0,sr.jsx)(Re,{path:"/vendor-credit/view/:id",element:(0,sr.jsx)(xA,{recordType:"VendorCredit",mode:"view"})}),(0,sr.jsx)(Re,{path:"/vendor-credit/edit/:id",element:(0,sr.jsx)(xA,{recordType:"VendorCredit",mode:"edit"})}),(0,sr.jsx)(Re,{path:"/vendor-payment",element:(0,sr.jsx)(vD,{})}),(0,sr.jsx)(Re,{path:"/vendor-payment/new",element:(0,sr.jsx)(fD,{})}),(0,sr.jsx)(Re,{path:"/vendor-payment/view/:id",element:(0,sr.jsx)(fD,{mode:"view"})}),(0,sr.jsx)(Re,{path:"/vendor-payment/edit/:id",element:(0,sr.jsx)(fD,{mode:"edit"})}),(0,sr.jsx)(Re,{path:"/reports",element:(0,sr.jsx)(Oe,{to:"/charts",replace:!0})}),(0,sr.jsx)(Re,{path:"/charts",element:(0,sr.jsx)(h4,{})}),(0,sr.jsx)(Re,{path:"/coa-relation",element:(0,sr.jsx)(m4,{})})]})})]})]})})},g4=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:o,getFCP:i,getLCP:r,getTTFB:a}=t;n(e),o(e),i(e),r(e),a(e)})};r.createRoot(document.getElementById("root")).render((0,sr.jsx)(o.StrictMode,{children:(0,sr.jsx)(f4,{})})),document.addEventListener("DOMContentLoaded",()=>{const e=new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{1===e.nodeType&&e.classList&&(e.classList.contains("k-animation-container")||e.classList.contains("k-popup"))&&setTimeout(()=>{const t=e.querySelector(".k-popup.k-dropdown-popup")||(e.classList.contains("k-popup")?e:null);if(t){const e=document.querySelector(".k-dropdown-wrap.k-state-focused, .k-dropdown-wrap.k-state-active");if(e){const n=e.getBoundingClientRect();t.style.position="fixed",t.style.left=n.left+"px",t.style.top=n.bottom+2+"px",t.style.width=Math.max(n.width,200)+"px",t.style.zIndex="10001"}}},10)})})});e.observe(document.body,{childList:!0,subtree:!0})}),g4()})()})();
//# sourceMappingURL=main.ac884f48.js.map