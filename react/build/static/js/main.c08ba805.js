/*! For license information please see main.c08ba805.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var o=n(853),r=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(a(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var _=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var j=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case C:return"Suspense";case S:return"SuspenseList";case _:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return T(e(t))}catch(n){}}return null}var P=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},F=[],L=-1;function z(e){return{current:e}}function B(e){0>L||(e.current=F[L],F[L]=null,L--)}function V(e,t){L++,F[L]=e.current,e.current=t}var H=z(null),q=z(null),U=z(null),G=z(null);function W(e,t){switch(V(U,t),V(q,e),V(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ru(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=iu(t=ru(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(H),V(H,e)}function K(){B(H),B(q),B(U)}function Y(e){null!==e.memoizedState&&V(G,e);var t=H.current,n=iu(t,e.type);t!==n&&(V(q,e),V(H,n))}function X(e){q.current===e&&(B(H),B(q)),G.current===e&&(B(G),Yu._currentValue=R)}var Q=Object.prototype.hasOwnProperty,J=o.unstable_scheduleCallback,Z=o.unstable_cancelCallback,$=o.unstable_shouldYield,ee=o.unstable_requestPaint,te=o.unstable_now,ne=o.unstable_getCurrentPriorityLevel,oe=o.unstable_ImmediatePriority,re=o.unstable_UserBlockingPriority,ie=o.unstable_NormalPriority,ae=o.unstable_LowPriority,se=o.unstable_IdlePriority,le=o.log,ce=o.unstable_setDisableYieldValue,de=null,ue=null;function pe(e){if("function"===typeof le&&ce(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,n){var o=e.pendingLanes;if(0===o)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&o;return 0!==s?0!==(o=s&~i)?r=ye(o):0!==(a&=s)?r=ye(a):n||0!==(n=s&~e)&&(r=ye(n)):0!==(s=o&~i)?r=ye(s):0!==a?r=ye(a):n||0!==(n=o&~e)&&(r=ye(n)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:r}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Ce(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-he(t);e.entangledLanes|=t,e.entanglements[o]=1073741824|e.entanglements[o]|4194090&n}function _e(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-he(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function De(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:cp(e.type)}var Ne=Math.random().toString(36).slice(2),Te="__reactFiber$"+Ne,Pe="__reactProps$"+Ne,Me="__reactContainer$"+Ne,Oe="__reactEvents$"+Ne,Re="__reactListeners$"+Ne,Fe="__reactHandles$"+Ne,Le="__reactResources$"+Ne,ze="__reactMarker$"+Ne;function Be(e){delete e[Te],delete e[Pe],delete e[Oe],delete e[Re],delete e[Fe]}function Ve(e){var t=e[Te];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[Te]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xu(e);null!==e;){if(n=e[Te])return n;e=xu(e)}return t}n=(e=n).parentNode}return null}function He(e){if(e=e[Te]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ue(e){var t=e[Le];return t||(t=e[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[ze]=!0}var We=new Set,Ke={};function Ye(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Qe,Je,Ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$e={},et={};function tt(e,t,n){if(r=t,Q.call(et,r)||!Q.call($e,r)&&(Ze.test(r)?et[r]=!0:($e[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var o=t.toLowerCase().slice(0,5);if("data-"!==o&&"aria-"!==o)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ot(e,t,n,o){if(null===o)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+o)}}function rt(e){if(void 0===Qe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Je}var it=!1;function at(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var o=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){o=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){o=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&o&&"string"===typeof s.stack)return[s.stack,o.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=o.DetermineComponentFrameRoot(),a=i[0],s=i[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(r=o=0;o<l.length&&!l[o].includes("DetermineComponentFrameRoot");)o++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(o===l.length||r===c.length)for(o=l.length-1,r=c.length-1;1<=o&&0<=r&&l[o]!==c[r];)r--;for(;1<=o&&0<=r;o--,r--)if(l[o]!==c[r]){if(1!==o||1!==r)do{if(o--,0>--r||l[o]!==c[r]){var d="\n"+l[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=o&&0<=r);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return rt("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){o=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=dt(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,o,r,i,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=o&&e.removeAttribute("value"),null==r&&null!=i&&(e.defaultChecked=!!i),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function vt(e,t,n,o,r,i,a,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}o="function"!==typeof(o=null!=o?o:r)&&"symbol"!==typeof o&&!!o,e.checked=s?e.checked:!!o,e.defaultChecked=!!o,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(o&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,o){if(null==t){if(null!=o){if(null!=n)throw Error(a(92));if(P(o)){if(1<o.length)throw Error(a(93));o=o[0]}n=o}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(o=e.textContent)===n&&""!==o&&null!==o&&(e.value=o)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var o=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?o?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":o?e.setProperty(t,n):"number"!==typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var o in n)!n.hasOwnProperty(o)||null!=t&&t.hasOwnProperty(o)||(0===o.indexOf("--")?e.setProperty(o,""):"float"===o?e.cssFloat="":e[o]="");for(var r in t)o=t[r],t.hasOwnProperty(r)&&n[r]!==o&&St(e,r,o)}else for(var i in t)t.hasOwnProperty(i)&&St(e,i,t[i])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return jt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Dt=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Tt=null,Pt=null;function Mt(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=o[Pe]||null;if(!r)throw Error(a(90));gt(o,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(o=n[t]).form===e.form&&pt(o)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Rt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Tt||null!==Pt)&&(Vc(),Tt&&(t=Tt,e=Pt,Pt=Tt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var o=n[Pe]||null;if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Lt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Lt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Pp){zt=!1}var Vt=null,Ht=null,qt=null;function Ut(){if(qt)return qt;var e,t,n=Ht,o=n.length,r="value"in Vt?Vt.value:Vt.textContent,i=r.length;for(e=0;e<o&&n[e]===r[e];e++);var a=o-e;for(t=1;t<=a&&n[o-t]===r[i-t];t++);return qt=r.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Kt(){return!1}function Yt(e){function t(t,n,o,r,i){for(var a in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Wt:Kt,this.isPropagationStopped=Kt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Xt,Qt,Jt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=Yt(Zt),en=p({},Zt,{view:0,detail:0}),tn=Yt(en),nn=p({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Xt=e.screenX-Jt.screenX,Qt=e.screenY-Jt.screenY):Qt=Xt=0,Jt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),on=Yt(nn),rn=Yt(p({},nn,{dataTransfer:0})),an=Yt(p({},en,{relatedTarget:0})),sn=Yt(p({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Yt(p({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Yt(p({},Zt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function fn(){return hn}var mn=Yt(p({},en,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Yt(p({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Yt(p({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Yt(p({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Yt(p({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Yt(p({},Zt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=Lt&&"CompositionEvent"in window,Cn=null;Lt&&"documentMode"in document&&(Cn=document.documentMode);var Sn=Lt&&"TextEvent"in window&&!Cn,In=Lt&&(!kn||Cn&&8<Cn&&11>=Cn),En=String.fromCharCode(32),_n=!1;function jn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function Pn(e,t,n,o){Tt?Pt?Pt.push(o):Pt=[o]:Tt=o,0<(t=Ud(t,"onChange")).length&&(n=new $t("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Mn=null,On=null;function Rn(e){Rd(e,0)}function Fn(e){if(pt(qe(e)))return e}function Ln(e,t){if("change"===e)return t}var zn=!1;if(Lt){var Bn;if(Lt){var Vn="oninput"in document;if(!Vn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Vn="function"===typeof Hn.oninput}Bn=Vn}else Bn=!1;zn=Bn&&(!document.documentMode||9<document.documentMode)}function qn(){Mn&&(Mn.detachEvent("onpropertychange",Un),On=Mn=null)}function Un(e){if("value"===e.propertyName&&Fn(On)){var t=[];Pn(t,On,e,Nt(e)),Rt(Rn,t)}}function Gn(e,t,n){"focusin"===e?(qn(),On=n,(Mn=t).attachEvent("onpropertychange",Un)):"focusout"===e&&qn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(On)}function Kn(e,t){if("click"===e)return Fn(t)}function Yn(e,t){if("input"===e||"change"===e)return Fn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Q.call(t,r)||!Xn(e[r],t[r]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,o=Jn(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jn(o)}}function $n(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?$n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function eo(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(o){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function to(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var no=Lt&&"documentMode"in document&&11>=document.documentMode,oo=null,ro=null,io=null,ao=!1;function so(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ao||null==oo||oo!==ht(o)||("selectionStart"in(o=oo)&&to(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},io&&Qn(io,o)||(io=o,0<(o=Ud(ro,"onSelect")).length&&(t=new $t("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=oo)))}function lo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var co={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},uo={},po={};function ho(e){if(uo[e])return uo[e];if(!co[e])return e;var t,n=co[e];for(t in n)if(n.hasOwnProperty(t)&&t in po)return uo[e]=n[t];return e}Lt&&(po=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);var fo=ho("animationend"),mo=ho("animationiteration"),go=ho("animationstart"),vo=ho("transitionrun"),yo=ho("transitionstart"),xo=ho("transitioncancel"),bo=ho("transitionend"),wo=new Map,ko="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(e,t){wo.set(e,t),Ye(t,[e])}ko.push("scrollEnd");var So=new WeakMap;function Io(e,t){if("object"===typeof e&&null!==e){var n=So.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},So.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Eo=[],_o=0,jo=0;function Ao(){for(var e=_o,t=jo=_o=0;t<e;){var n=Eo[t];Eo[t++]=null;var o=Eo[t];Eo[t++]=null;var r=Eo[t];Eo[t++]=null;var i=Eo[t];if(Eo[t++]=null,null!==o&&null!==r){var a=o.pending;null===a?r.next=r:(r.next=a.next,a.next=r),o.pending=r}0!==i&&Po(n,r,i)}}function Do(e,t,n,o){Eo[_o++]=e,Eo[_o++]=t,Eo[_o++]=n,Eo[_o++]=o,jo|=o,e.lanes|=o,null!==(e=e.alternate)&&(e.lanes|=o)}function No(e,t,n,o){return Do(e,t,n,o),Mo(e)}function To(e,t){return Do(e,null,null,t),Mo(e)}function Po(e,t,n){e.lanes|=n;var o=e.alternate;null!==o&&(o.lanes|=n);for(var r=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(o=i.alternate)&&(o.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(r=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,r&&null!==t&&(r=31-he(n),null===(o=(e=i.hiddenUpdates)[r])?e[r]=[t]:o.push(t),t.lane=536870912|n),i):null}function Mo(e){if(50<Tc)throw Tc=0,Pc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Oo={};function Ro(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fo(e,t,n,o){return new Ro(e,t,n,o)}function Lo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zo(e,t){var n=e.alternate;return null===n?((n=Fo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Bo(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vo(e,t,n,o,r,i){var s=0;if(o=e,"function"===typeof e)Lo(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case _:return(e=Fo(31,n,t,r)).elementType=_,e.lanes=i,e;case g:return Ho(n.children,r,i,t);case v:s=8,r|=24;break;case y:return(e=Fo(12,n,t,2|r)).elementType=y,e.lanes=i,e;case C:return(e=Fo(13,n,t,r)).elementType=C,e.lanes=i,e;case S:return(e=Fo(19,n,t,r)).elementType=S,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:case w:s=10;break e;case b:s=9;break e;case k:s=11;break e;case I:s=14;break e;case E:s=16,o=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),o=null}return(t=Fo(s,n,t,r)).elementType=e,t.type=o,t.lanes=i,t}function Ho(e,t,n,o){return(e=Fo(7,e,o,t)).lanes=n,e}function qo(e,t,n){return(e=Fo(6,e,null,t)).lanes=n,e}function Uo(e,t,n){return(t=Fo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Go=[],Wo=0,Ko=null,Yo=0,Xo=[],Qo=0,Jo=null,Zo=1,$o="";function er(e,t){Go[Wo++]=Yo,Go[Wo++]=Ko,Ko=e,Yo=t}function tr(e,t,n){Xo[Qo++]=Zo,Xo[Qo++]=$o,Xo[Qo++]=Jo,Jo=e;var o=Zo;e=$o;var r=32-he(o)-1;o&=~(1<<r),n+=1;var i=32-he(t)+r;if(30<i){var a=r-r%5;i=(o&(1<<a)-1).toString(32),o>>=a,r-=a,Zo=1<<32-he(t)+r|n<<r|o,$o=i+e}else Zo=1<<i|n<<r|o,$o=e}function nr(e){null!==e.return&&(er(e,1),tr(e,1,0))}function or(e){for(;e===Ko;)Ko=Go[--Wo],Go[Wo]=null,Yo=Go[--Wo],Go[Wo]=null;for(;e===Jo;)Jo=Xo[--Qo],Xo[Qo]=null,$o=Xo[--Qo],Xo[Qo]=null,Zo=Xo[--Qo],Xo[Qo]=null}var rr=null,ir=null,ar=!1,sr=null,lr=!1,cr=Error(a(519));function dr(e){throw gr(Io(Error(a(418,"")),e)),cr}function ur(e){var t=e.stateNode,n=e.type,o=e.memoizedProps;switch(t[Te]=e,t[Pe]=o,n){case"dialog":Fd("cancel",t),Fd("close",t);break;case"iframe":case"object":case"embed":Fd("load",t);break;case"video":case"audio":for(n=0;n<Md.length;n++)Fd(Md[n],t);break;case"source":Fd("error",t);break;case"img":case"image":case"link":Fd("error",t),Fd("load",t);break;case"details":Fd("toggle",t);break;case"input":Fd("invalid",t),vt(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ut(t);break;case"select":Fd("invalid",t);break;case"textarea":Fd("invalid",t),wt(t,o.value,o.defaultValue,o.children),ut(t)}"string"!==typeof(n=o.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===o.suppressHydrationWarning||Qd(t.textContent,n)?(null!=o.popover&&(Fd("beforetoggle",t),Fd("toggle",t)),null!=o.onScroll&&Fd("scroll",t),null!=o.onScrollEnd&&Fd("scrollend",t),null!=o.onClick&&(t.onclick=Jd),t=!0):t=!1,t||dr(e)}function pr(e){for(rr=e.return;rr;)switch(rr.tag){case 5:case 13:return void(lr=!1);case 27:case 3:return void(lr=!0);default:rr=rr.return}}function hr(e){if(e!==rr)return!1;if(!ar)return pr(e),ar=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||au(e.type,e.memoizedProps)),t=!t),t&&ir&&dr(e),pr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ir=vu(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ir=null}}else 27===n?(n=ir,hu(e.type)?(e=yu,yu=null,ir=e):ir=n):ir=rr?vu(e.stateNode.nextSibling):null;return!0}function fr(){ir=rr=null,ar=!1}function mr(){var e=sr;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),sr=null),e}function gr(e){null===sr?sr=[e]:sr.push(e)}var vr=z(null),yr=null,xr=null;function br(e,t,n){V(vr,t._currentValue),t._currentValue=n}function wr(e){e._currentValue=vr.current,B(vr)}function kr(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Cr(e,t,n,o){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var i=r.dependencies;if(null!==i){var s=r.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),kr(i.return,n,e),o||(s=null);break e}i=l.next}}else if(18===r.tag){if(null===(s=r.return))throw Error(a(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),kr(s,n,e),s=null}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===e){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}}function Sr(e,t,n,o){e=null;for(var r=t,i=!1;null!==r;){if(!i)if(0!==(524288&r.flags))i=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var s=r.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=r.type;Xn(r.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(r===G.current){if(null===(s=r.alternate))throw Error(a(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Yu):e=[Yu])}r=r.return}null!==e&&Cr(t,e,n,o),t.flags|=262144}function Ir(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){yr=e,xr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _r(e){return Ar(yr,e)}function jr(e,t){return null===yr&&Er(e),Ar(e,t)}function Ar(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===xr){if(null===e)throw Error(a(308));xr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xr=xr.next=t;return n}var Dr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Nr=o.unstable_scheduleCallback,Tr=o.unstable_NormalPriority,Pr={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mr(){return{controller:new Dr,data:new Map,refCount:0}}function Or(e){e.refCount--,0===e.refCount&&Nr(Tr,(function(){e.controller.abort()}))}var Rr=null,Fr=0,Lr=0,zr=null;function Br(){if(0===--Fr&&null!==Rr){null!==zr&&(zr.status="fulfilled");var e=Rr;Rr=null,Lr=0,zr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vr=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Rr){var n=Rr=[];Fr=0,Lr=Ad(),zr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Fr++,t.then(Br,Br)}(0,t),null!==Vr&&Vr(e,t)};var Hr=z(null);function qr(){var e=Hr.current;return null!==e?e:oc.pooledCache}function Ur(e,t){V(Hr,null===t?Hr.current:t.pool)}function Gr(){var e=qr();return null===e?null:{parent:Pr._currentValue,pool:e}}var Wr=Error(a(460)),Kr=Error(a(474)),Yr=Error(a(542)),Xr={then:function(){}};function Qr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Jr(){}function Zr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Jr,Jr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e;default:if("string"===typeof t.status)t.then(Jr,Jr);else{if(null!==(e=oc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e}throw $r=t,Wr}}var $r=null;function ei(){if(null===$r)throw Error(a(459));var e=$r;return $r=null,e}function ti(e){if(e===Wr||e===Yr)throw Error(a(483))}var ni=!1;function oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ai(e,t,n){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,0!==(2&nc)){var r=o.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),o.pending=t,t=Mo(e),Po(e,null,n),t}return Do(e,o,t,n),Mo(e)}function si(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,_e(e,n)}}function li(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?r=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,callbacks:o.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ci=!1;function di(){if(ci){if(null!==zr)throw zr}}function ui(e,t,n,o){ci=!1;var r=e.updateQueue;ni=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=r.baseState;for(a=0,d=c=l=null,s=i;;){var h=-536870913&s.lane,f=h!==s.lane;if(f?(ic&h)===h:(o&h)===h){0!==h&&h===Lr&&(ci=!0),null!==d&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){u=m.call(v,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,u,h):m)||void 0===h)break e;u=p({},u,h);break e;case 2:ni=!0}}null!==(h=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=r.callbacks)?r.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,a|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(f=s).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null===i&&(r.shared.lanes=0),hc|=a,e.lanes=a,e.memoizedState=u}}function pi(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)pi(n[e],t)}var fi=z(null),mi=z(0);function gi(e,t){V(mi,e=uc),V(fi,t),uc=e|t.baseLanes}function vi(){V(mi,uc),V(fi,fi.current)}function yi(){uc=mi.current,B(fi),B(mi)}var xi=0,bi=null,wi=null,ki=null,Ci=!1,Si=!1,Ii=!1,Ei=0,_i=0,ji=null,Ai=0;function Di(){throw Error(a(321))}function Ni(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Ti(e,t,n,o,r,i){return xi=i,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Wa:Ka,Ii=!1,i=n(o,r),Ii=!1,Si&&(i=Mi(t,n,o,r)),Pi(e),i}function Pi(e){M.H=Ga;var t=null!==wi&&null!==wi.next;if(xi=0,ki=wi=bi=null,Ci=!1,_i=0,ji=null,t)throw Error(a(300));null===e||_s||null!==(e=e.dependencies)&&Ir(e)&&(_s=!0)}function Mi(e,t,n,o){bi=e;var r=0;do{if(Si&&(ji=null),_i=0,Si=!1,25<=r)throw Error(a(301));if(r+=1,ki=wi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}M.H=Ya,i=t(n,o)}while(Si);return i}function Oi(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Vi(t):t,e=e.useState()[0],(null!==wi?wi.memoizedState:null)!==e&&(bi.flags|=1024),t}function Ri(){var e=0!==Ei;return Ei=0,e}function Fi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Li(e){if(Ci){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ci=!1}xi=0,ki=wi=bi=null,Si=!1,_i=Ei=0,ji=null}function zi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ki?bi.memoizedState=ki=e:ki=ki.next=e,ki}function Bi(){if(null===wi){var e=bi.alternate;e=null!==e?e.memoizedState:null}else e=wi.next;var t=null===ki?bi.memoizedState:ki.next;if(null!==t)ki=t,wi=e;else{if(null===e){if(null===bi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(wi=e).memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},null===ki?bi.memoizedState=ki=e:ki=ki.next=e}return ki}function Vi(e){var t=_i;return _i+=1,null===ji&&(ji=[]),e=Zr(ji,e,t),t=bi,null===(null===ki?t.memoizedState:ki.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Wa:Ka),e}function Hi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vi(e);if(e.$$typeof===w)return _r(e)}throw Error(a(438,String(e)))}function qi(e){var t=null,n=bi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var o=bi.alternate;null!==o&&(null!==(o=o.updateQueue)&&(null!=(o=o.memoCache)&&(t={data:o.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),o=0;o<e;o++)n[o]=j;return t.index++,n}function Ui(e,t){return"function"===typeof t?t(e):t}function Gi(e){return Wi(Bi(),wi,e)}function Wi(e,t,n){var o=e.queue;if(null===o)throw Error(a(311));o.lastRenderedReducer=n;var r=e.baseQueue,i=o.pending;if(null!==i){if(null!==r){var s=r.next;r.next=i.next,i.next=s}t.baseQueue=r=i,o.pending=null}if(i=e.baseState,null===r)e.memoizedState=i;else{var l=s=null,c=null,d=t=r.next,u=!1;do{var p=-536870913&d.lane;if(p!==d.lane?(ic&p)===p:(xi&p)===p){var h=d.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),p===Lr&&(u=!0);else{if((xi&h)===h){d=d.next,h===Lr&&(u=!0);continue}p={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,s=i):c=c.next=p,bi.lanes|=h,hc|=h}p=d.action,Ii&&n(i,p),i=d.hasEagerState?d.eagerState:n(i,p)}else h={lane:p,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,bi.lanes|=p,hc|=p;d=d.next}while(null!==d&&d!==t);if(null===c?s=i:c.next=l,!Xn(i,e.memoizedState)&&(_s=!0,u&&null!==(n=zr)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=c,o.lastRenderedState=i}return null===r&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ki(e){var t=Bi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{i=e(i,s.action),s=s.next}while(s!==r);Xn(i,t.memoizedState)||(_s=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function Yi(e,t,n){var o=bi,r=Bi(),i=ar;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Xn((wi||r).memoizedState,n);if(s&&(r.memoizedState=n,_s=!0),r=r.queue,va(2048,8,Ji.bind(null,o,r,e),[e]),r.getSnapshot!==t||s||null!==ki&&1&ki.memoizedState.tag){if(o.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Qi.bind(null,o,r,n,t),null),null===oc)throw Error(a(349));i||0!==(124&xi)||Xi(o,t,n)}return n}function Xi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qi(e,t,n,o){t.value=n,t.getSnapshot=o,Zi(t)&&$i(e)}function Ji(e,t,n){return n((function(){Zi(t)&&$i(e)}))}function Zi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(o){return!0}}function $i(e){var t=To(e,2);null!==t&&Rc(t,e,2)}function ea(e){var t=zi();if("function"===typeof e){var n=e;if(e=n(),Ii){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t}function ta(e,t,n,o){return e.baseState=n,Wi(e,wi,"function"===typeof o?o:Ui)}function na(e,t,n,o,r){if(Ha(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==M.T?n(!0):i.isTransition=!1,o(i),null===(n=t.pending)?(i.next=t.pending=i,oa(t,i)):(i.next=n.next,t.pending=n.next=i)}}function oa(e,t){var n=t.action,o=t.payload,r=e.state;if(t.isTransition){var i=M.T,a={};M.T=a;try{var s=n(r,o),l=M.S;null!==l&&l(a,s),ra(e,t,s)}catch(c){aa(e,t,c)}finally{M.T=i}}else try{ra(e,t,i=n(r,o))}catch(d){aa(e,t,d)}}function ra(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){ia(e,t,n)}),(function(n){return aa(e,t,n)})):ia(e,t,n)}function ia(e,t,n){t.status="fulfilled",t.value=n,sa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,oa(e,n)))}function aa(e,t,n){var o=e.pending;if(e.pending=null,null!==o){o=o.next;do{t.status="rejected",t.reason=n,sa(t),t=t.next}while(t!==o)}e.action=null}function sa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function la(e,t){return t}function ca(e,t){if(ar){var n=oc.formState;if(null!==n){e:{var o=bi;if(ar){if(ir){t:{for(var r=ir,i=lr;8!==r.nodeType;){if(!i){r=null;break t}if(null===(r=vu(r.nextSibling))){r=null;break t}}r="F!"===(i=r.data)||"F"===i?r:null}if(r){ir=vu(r.nextSibling),o="F!"===r.data;break e}}dr(o)}o=!1}o&&(t=n[0])}}return(n=zi()).memoizedState=n.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},n.queue=o,n=za.bind(null,bi,o),o.dispatch=n,o=ea(!1),i=Va.bind(null,bi,!1,o.queue),r={state:t,dispatch:null,action:e,pending:null},(o=zi()).queue=r,n=na.bind(null,bi,r,i,n),r.dispatch=n,o.memoizedState=e,[t,n,!1]}function da(e){return ua(Bi(),wi,e)}function ua(e,t,n){if(t=Wi(e,t,la)[0],e=Gi(Ui)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var o=Vi(t)}catch(a){if(a===Wr)throw Yr;throw a}else o=t;var r=(t=Bi()).queue,i=r.dispatch;return n!==t.memoizedState&&(bi.flags|=2048,fa(9,{destroy:void 0,resource:void 0},pa.bind(null,r,n),null)),[o,i,e]}function pa(e,t){e.action=t}function ha(e){var t=Bi(),n=wi;if(null!==n)return ua(t,n,e);Bi(),t=t.memoizedState;var o=(n=Bi()).queue.dispatch;return n.memoizedState=e,[t,o,!1]}function fa(e,t,n,o){return e={tag:e,create:n,deps:o,inst:t,next:null},null===(t=bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function ma(){return Bi().memoizedState}function ga(e,t,n,o){var r=zi();o=void 0===o?null:o,bi.flags|=e,r.memoizedState=fa(1|t,{destroy:void 0,resource:void 0},n,o)}function va(e,t,n,o){var r=Bi();o=void 0===o?null:o;var i=r.memoizedState.inst;null!==wi&&null!==o&&Ni(o,wi.memoizedState.deps)?r.memoizedState=fa(t,i,n,o):(bi.flags|=e,r.memoizedState=fa(1|t,i,n,o))}function ya(e,t){ga(8390656,8,e,t)}function xa(e,t){va(2048,8,e,t)}function ba(e,t){return va(4,2,e,t)}function wa(e,t){return va(4,4,e,t)}function ka(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ca(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,va(4,4,ka.bind(null,t,e),n)}function Sa(){}function Ia(e,t){var n=Bi();t=void 0===t?null:t;var o=n.memoizedState;return null!==t&&Ni(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Ea(e,t){var n=Bi();t=void 0===t?null:t;var o=n.memoizedState;if(null!==t&&Ni(t,o[1]))return o[0];if(o=e(),Ii){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[o,t],o}function _a(e,t,n){return void 0===n||0!==(1073741824&xi)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),bi.lanes|=e,hc|=e,n)}function ja(e,t,n,o){return Xn(n,t)?n:null!==fi.current?(e=_a(e,n,o),Xn(e,t)||(_s=!0),e):0===(42&xi)?(_s=!0,e.memoizedState=n):(e=Oc(),bi.lanes|=e,hc|=e,t)}function Aa(e,t,n,o,r){var i=O.p;O.p=0!==i&&8>i?i:8;var a=M.T,s={};M.T=s,Va(e,!1,t,n);try{var l=r(),c=M.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ba(e,t,function(e,t){var n=[],o={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){o.status="fulfilled",o.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(o.status="rejected",o.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),o}(l,o),Mc());else Ba(e,t,o,Mc())}catch(d){Ba(e,t,{then:function(){},status:"rejected",reason:d},Mc())}finally{O.p=i,M.T=a}}function Da(){}function Na(e,t,n,o){if(5!==e.tag)throw Error(a(476));var r=Ta(e).queue;Aa(e,r,t,R,null===n?Da:function(){return Pa(e),n(o)})}function Ta(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Pa(e){Ba(e,Ta(e).next.queue,{},Mc())}function Ma(){return _r(Yu)}function Oa(){return Bi().memoizedState}function Ra(){return Bi().memoizedState}function Fa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Mc(),o=ai(t,e=ii(n),n);return null!==o&&(Rc(o,t,n),si(o,t,n)),t={cache:Mr()},void(e.payload=t)}t=t.return}}function La(e,t,n){var o=Mc();n={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ha(e)?qa(t,n):null!==(n=No(e,t,n,o))&&(Rc(n,e,o),Ua(n,t,o))}function za(e,t,n){Ba(e,t,n,Mc())}function Ba(e,t,n,o){var r={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ha(e))qa(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(r.hasEagerState=!0,r.eagerState=s,Xn(s,a))return Do(e,t,r,0),null===oc&&Ao(),!1}catch(l){}if(null!==(n=No(e,t,r,o)))return Rc(n,e,o),Ua(n,t,o),!0}return!1}function Va(e,t,n,o){if(o={lane:2,revertLane:Ad(),action:o,hasEagerState:!1,eagerState:null,next:null},Ha(e)){if(t)throw Error(a(479))}else null!==(t=No(e,n,o,2))&&Rc(t,e,2)}function Ha(e){var t=e.alternate;return e===bi||null!==t&&t===bi}function qa(e,t){Si=Ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ua(e,t,n){if(0!==(4194048&n)){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,_e(e,n)}}var Ga={readContext:_r,use:Hi,useCallback:Di,useContext:Di,useEffect:Di,useImperativeHandle:Di,useLayoutEffect:Di,useInsertionEffect:Di,useMemo:Di,useReducer:Di,useRef:Di,useState:Di,useDebugValue:Di,useDeferredValue:Di,useTransition:Di,useSyncExternalStore:Di,useId:Di,useHostTransitionStatus:Di,useFormState:Di,useActionState:Di,useOptimistic:Di,useMemoCache:Di,useCacheRefresh:Di},Wa={readContext:_r,use:Hi,useCallback:function(e,t){return zi().memoizedState=[e,void 0===t?null:t],e},useContext:_r,useEffect:ya,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4194308,4,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){ga(4,2,e,t)},useMemo:function(e,t){var n=zi();t=void 0===t?null:t;var o=e();if(Ii){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[o,t],o},useReducer:function(e,t,n){var o=zi();if(void 0!==n){var r=n(t);if(Ii){pe(!0);try{n(t)}finally{pe(!1)}}}else r=t;return o.memoizedState=o.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},o.queue=e,e=e.dispatch=La.bind(null,bi,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},zi().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,n=za.bind(null,bi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Sa,useDeferredValue:function(e,t){return _a(zi(),e,t)},useTransition:function(){var e=ea(!1);return e=Aa.bind(null,bi,e.queue,!0,!1),zi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=bi,r=zi();if(ar){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===oc)throw Error(a(349));0!==(124&ic)||Xi(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,ya(Ji.bind(null,o,i,e),[e]),o.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Qi.bind(null,o,i,n,t),null),n},useId:function(){var e=zi(),t=oc.identifierPrefix;if(ar){var n=$o;t="\xab"+t+"R"+(n=(Zo&~(1<<32-he(Zo)-1)).toString(32)+n),0<(n=Ei++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ai++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ma,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=zi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Va.bind(null,bi,!0,n),n.dispatch=t,[e,t]},useMemoCache:qi,useCacheRefresh:function(){return zi().memoizedState=Fa.bind(null,bi)}},Ka={readContext:_r,use:Hi,useCallback:Ia,useContext:_r,useEffect:xa,useImperativeHandle:Ca,useInsertionEffect:ba,useLayoutEffect:wa,useMemo:Ea,useReducer:Gi,useRef:ma,useState:function(){return Gi(Ui)},useDebugValue:Sa,useDeferredValue:function(e,t){return ja(Bi(),wi.memoizedState,e,t)},useTransition:function(){var e=Gi(Ui)[0],t=Bi().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Yi,useId:Oa,useHostTransitionStatus:Ma,useFormState:da,useActionState:da,useOptimistic:function(e,t){return ta(Bi(),0,e,t)},useMemoCache:qi,useCacheRefresh:Ra},Ya={readContext:_r,use:Hi,useCallback:Ia,useContext:_r,useEffect:xa,useImperativeHandle:Ca,useInsertionEffect:ba,useLayoutEffect:wa,useMemo:Ea,useReducer:Ki,useRef:ma,useState:function(){return Ki(Ui)},useDebugValue:Sa,useDeferredValue:function(e,t){var n=Bi();return null===wi?_a(n,e,t):ja(n,wi.memoizedState,e,t)},useTransition:function(){var e=Ki(Ui)[0],t=Bi().memoizedState;return["boolean"===typeof e?e:Vi(e),t]},useSyncExternalStore:Yi,useId:Oa,useHostTransitionStatus:Ma,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var n=Bi();return null!==wi?ta(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qi,useCacheRefresh:Ra},Xa=null,Qa=0;function Ja(e){var t=Qa;return Qa+=1,null===Xa&&(Xa=[]),Zr(Xa,e,t)}function Za(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function $a(e,t){if(t.$$typeof===h)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=zo(e,t)).index=0,e.sibling=null,e}function i(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=67108866,n):o:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,o){return null===t||6!==t.tag?((t=qo(n,e.mode,o)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,o){var i=n.type;return i===g?u(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===E&&es(i)===t.type)?(Za(t=r(t,n.props),n),t.return=e,t):(Za(t=Vo(n.type,n.key,n.props,null,e.mode,o),n),t.return=e,t)}function d(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uo(n,e.mode,o)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,o,i){return null===t||7!==t.tag?((t=Ho(n,e.mode,o,i)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qo(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Za(n=Vo(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Uo(t,e.mode,n)).return=e,t;case E:return p(e,t=(0,t._init)(t._payload),n)}if(P(t)||D(t))return(t=Ho(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,Ja(t),n);if(t.$$typeof===w)return p(e,jr(e,t),n);$a(e,t)}return null}function h(e,t,n,o){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(e,t,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===r?c(e,t,n,o):null;case m:return n.key===r?d(e,t,n,o):null;case E:return h(e,t,n=(r=n._init)(n._payload),o)}if(P(n)||D(n))return null!==r?null:u(e,t,n,o,null);if("function"===typeof n.then)return h(e,t,Ja(n),o);if(n.$$typeof===w)return h(e,t,jr(e,n),o);$a(e,n)}return null}function v(e,t,n,o,r){if("string"===typeof o&&""!==o||"number"===typeof o||"bigint"===typeof o)return l(t,e=e.get(n)||null,""+o,r);if("object"===typeof o&&null!==o){switch(o.$$typeof){case f:return c(t,e=e.get(null===o.key?n:o.key)||null,o,r);case m:return d(t,e=e.get(null===o.key?n:o.key)||null,o,r);case E:return v(e,t,n,o=(0,o._init)(o._payload),r)}if(P(o)||D(o))return u(t,e=e.get(n)||null,o,r,null);if("function"===typeof o.then)return v(e,t,n,Ja(o),r);if(o.$$typeof===w)return v(e,t,n,jr(t,o),r);$a(t,o)}return null}function y(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var x=d.key;null!==c;){if(c.key===x){if((x=d.type)===g){if(7===c.tag){n(l,c.sibling),(u=r(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===E&&es(x)===c.type){n(l,c.sibling),Za(u=r(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===g?((u=Ho(d.props.children,l.mode,u,d.key)).return=l,l=u):(Za(u=Vo(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return s(l);case m:e:{for(x=d.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=r(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=Uo(d,l.mode,u)).return=l,l=u}return s(l);case E:return y(l,c,d=(x=d._init)(d._payload),u)}if(P(d))return function(r,a,s,l){for(var c=null,d=null,u=a,f=a=0,m=null;null!==u&&f<s.length;f++){u.index>f?(m=u,u=null):m=u.sibling;var g=h(r,u,s[f],l);if(null===g){null===u&&(u=m);break}e&&u&&null===g.alternate&&t(r,u),a=i(g,a,f),null===d?c=g:d.sibling=g,d=g,u=m}if(f===s.length)return n(r,u),ar&&er(r,f),c;if(null===u){for(;f<s.length;f++)null!==(u=p(r,s[f],l))&&(a=i(u,a,f),null===d?c=u:d.sibling=u,d=u);return ar&&er(r,f),c}for(u=o(u);f<s.length;f++)null!==(m=v(u,r,f,s[f],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?f:m.key),a=i(m,a,f),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach((function(e){return t(r,e)})),ar&&er(r,f),c}(l,c,d,u);if(D(d)){if("function"!==typeof(x=D(d)))throw Error(a(150));return function(r,s,l,c){if(null==l)throw Error(a(151));for(var d=null,u=null,f=s,m=s=0,g=null,y=l.next();null!==f&&!y.done;m++,y=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var x=h(r,f,y.value,c);if(null===x){null===f&&(f=g);break}e&&f&&null===x.alternate&&t(r,f),s=i(x,s,m),null===u?d=x:u.sibling=x,u=x,f=g}if(y.done)return n(r,f),ar&&er(r,m),d;if(null===f){for(;!y.done;m++,y=l.next())null!==(y=p(r,y.value,c))&&(s=i(y,s,m),null===u?d=y:u.sibling=y,u=y);return ar&&er(r,m),d}for(f=o(f);!y.done;m++,y=l.next())null!==(y=v(f,r,m,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),s=i(y,s,m),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach((function(e){return t(r,e)})),ar&&er(r,m),d}(l,c,d=x.call(d),u)}if("function"===typeof d.then)return y(l,c,Ja(d),u);if(d.$$typeof===w)return y(l,c,jr(l,d),u);$a(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=r(c,d)).return=l,l=u):(n(l,c),(u=qo(d,l.mode,u)).return=l,l=u),s(l)):n(l,c)}return function(e,t,n,o){try{Qa=0;var r=y(e,t,n,o);return Xa=null,r}catch(a){if(a===Wr||a===Yr)throw a;var i=Fo(29,a,null,e.mode);return i.lanes=o,i.return=e,i}}}var ns=ts(!0),os=ts(!1),rs=z(null),is=null;function as(e){var t=e.alternate;V(ds,1&ds.current),V(rs,e),null===is&&(null===t||null!==fi.current||null!==t.memoizedState)&&(is=e)}function ss(e){if(22===e.tag){if(V(ds,ds.current),V(rs,e),null===is){var t=e.alternate;null!==t&&null!==t.memoizedState&&(is=e)}}else ls()}function ls(){V(ds,ds.current),V(rs,rs.current)}function cs(e){B(rs),is===e&&(is=null),B(ds)}var ds=z(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gu(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ps(e,t,n,o){n=null===(n=n(o,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var hs={enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Mc(),r=ii(o);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ai(e,r,o))&&(Rc(t,e,o),si(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Mc(),r=ii(o);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=ai(e,r,o))&&(Rc(t,e,o),si(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mc(),o=ii(n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=ai(e,o,n))&&(Rc(t,e,n),si(t,e,n))}};function fs(e,t,n,o,r,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,o)||!Qn(r,i))}function ms(e,t,n,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&hs.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var o in n={},t)"ref"!==o&&(n[o]=t[o]);if(e=e.defaultProps)for(var r in n===t&&(n=p({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var vs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ys(e){vs(e)}function xs(e){console.error(e)}function bs(e){vs(e)}function ws(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function ks(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(o){setTimeout((function(){throw o}))}}function Cs(e,t,n){return(n=ii(n)).tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function Ss(e){return(e=ii(e)).tag=3,e}function Is(e,t,n,o){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var i=o.value;e.payload=function(){return r(i)},e.callback=function(){ks(t,n,o)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ks(t,n,o),"function"!==typeof r&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=o.stack;this.componentDidCatch(o.value,{componentStack:null!==e?e:""})})}var Es=Error(a(461)),_s=!1;function js(e,t,n,o){t.child=null===e?os(t,null,n,o):ns(t,e.child,n,o)}function As(e,t,n,o,r){n=n.render;var i=t.ref;if("ref"in o){var a={};for(var s in o)"ref"!==s&&(a[s]=o[s])}else a=o;return Er(t),o=Ti(e,t,n,a,i,r),s=Ri(),null===e||_s?(ar&&s&&nr(t),t.flags|=1,js(e,t,o,r),t.child):(Fi(e,t,r),Xs(e,t,r))}function Ds(e,t,n,o,r){if(null===e){var i=n.type;return"function"!==typeof i||Lo(i)||void 0!==i.defaultProps||null!==n.compare?((e=Vo(n.type,null,o,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ns(e,t,i,o,r))}if(i=e.child,!Qs(e,r)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(a,o)&&e.ref===t.ref)return Xs(e,t,r)}return t.flags|=1,(e=zo(i,o)).ref=t.ref,e.return=t,t.child=e}function Ns(e,t,n,o,r){if(null!==e){var i=e.memoizedProps;if(Qn(i,o)&&e.ref===t.ref){if(_s=!1,t.pendingProps=o=i,!Qs(e,r))return t.lanes=e.lanes,Xs(e,t,r);0!==(131072&e.flags)&&(_s=!0)}}return Os(e,t,n,o,r)}function Ts(e,t,n){var o=t.pendingProps,r=o.children,i=null!==e?e.memoizedState:null;if("hidden"===o.mode){if(0!==(128&t.flags)){if(o=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;t.childLanes=i&~o}else t.childLanes=0,t.child=null;return Ps(e,t,o,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ps(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ur(0,null!==i?i.cachePool:null),null!==i?gi(t,i):vi(),ss(t)}else null!==i?(Ur(0,i.cachePool),gi(t,i),ls(),t.memoizedState=null):(null!==e&&Ur(0,null),vi(),ls());return js(e,t,r,n),t.child}function Ps(e,t,n,o){var r=qr();return r=null===r?null:{parent:Pr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Ur(0,null),vi(),ss(t),null!==e&&Sr(e,t,o,!0),null}function Ms(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Os(e,t,n,o,r){return Er(t),n=Ti(e,t,n,o,void 0,r),o=Ri(),null===e||_s?(ar&&o&&nr(t),t.flags|=1,js(e,t,n,r),t.child):(Fi(e,t,r),Xs(e,t,r))}function Rs(e,t,n,o,r,i){return Er(t),t.updateQueue=null,n=Mi(t,o,n,r),Pi(e),o=Ri(),null===e||_s?(ar&&o&&nr(t),t.flags|=1,js(e,t,n,i),t.child):(Fi(e,t,i),Xs(e,t,i))}function Fs(e,t,n,o,r){if(Er(t),null===t.stateNode){var i=Oo,a=n.contextType;"object"===typeof a&&null!==a&&(i=_r(a)),i=new n(o,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=hs,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=o,i.state=t.memoizedState,i.refs={},oi(t),a=n.contextType,i.context="object"===typeof a&&null!==a?_r(a):Oo,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ps(t,n,a,o),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&hs.enqueueReplaceState(i,i.state,null),ui(t,o,i,r),di(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),o=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=gs(n,s);i.props=l;var c=i.context,d=n.contextType;a=Oo,"object"===typeof d&&null!==d&&(a=_r(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||c!==a)&&ms(t,i,o,a),ni=!1;var p=t.memoizedState;i.state=p,ui(t,o,i,r),di(),c=t.memoizedState,s||p!==c||ni?("function"===typeof u&&(ps(t,n,u,o),c=t.memoizedState),(l=ni||fs(t,n,l,o,p,c,a))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=c),i.props=o,i.state=c,i.context=a,o=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),o=!1)}else{i=t.stateNode,ri(e,t),d=gs(n,a=t.memoizedProps),i.props=d,u=t.pendingProps,p=i.context,c=n.contextType,l=Oo,"object"===typeof c&&null!==c&&(l=_r(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==u||p!==l)&&ms(t,i,o,l),ni=!1,p=t.memoizedState,i.state=p,ui(t,o,i,r),di();var h=t.memoizedState;a!==u||p!==h||ni||null!==e&&null!==e.dependencies&&Ir(e.dependencies)?("function"===typeof s&&(ps(t,n,s,o),h=t.memoizedState),(d=ni||fs(t,n,d,o,p,h,l)||null!==e&&null!==e.dependencies&&Ir(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(o,h,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(o,h,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=h),i.props=o,i.state=h,i.context=l,o=d):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return i=o,Ms(e,t),o=0!==(128&t.flags),i||o?(i=t.stateNode,n=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&o?(t.child=ns(t,e.child,null,r),t.child=ns(t,null,n,r)):js(e,t,n,r),t.memoizedState=i.state,e=t.child):e=Xs(e,t,r),e}function Ls(e,t,n,o){return fr(),t.flags|=256,js(e,t,n,o),t.child}var zs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bs(e){return{baseLanes:e,cachePool:Gr()}}function Vs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Hs(e,t,n){var o,r=t.pendingProps,i=!1,s=0!==(128&t.flags);if((o=s)||(o=(null===e||null!==e.memoizedState)&&0!==(2&ds.current)),o&&(i=!0,t.flags&=-129),o=0!==(32&t.flags),t.flags&=-33,null===e){if(ar){if(i?as(t):ls(),ar){var l,c=ir;if(l=c){e:{for(l=c,c=lr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jo?{id:Zo,overflow:$o}:null,retryLane:536870912,hydrationErrors:null},(l=Fo(18,null,null,0)).stateNode=c,l.return=t,t.child=l,rr=t,ir=null,l=!0):l=!1}l||dr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gu(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=r.children,r=r.fallback,i?(ls(),c=Us({mode:"hidden",children:c},i=t.mode),r=Ho(r,i,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(i=t.child).memoizedState=Bs(n),i.childLanes=Vs(e,o,n),t.memoizedState=zs,r):(as(t),qs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(as(t),t.flags&=-257,t=Gs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),i=r.fallback,c=t.mode,r=Us({mode:"visible",children:r.children},c),(i=Ho(i,c,n,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,ns(t,e.child,null,n),(r=t.child).memoizedState=Bs(n),r.childLanes=Vs(e,o,n),t.memoizedState=zs,t=i);else if(as(t),gu(c)){if(o=c.nextSibling&&c.nextSibling.dataset)var d=o.dgst;o=d,(r=Error(a(419))).stack="",r.digest=o,gr({value:r,source:null,stack:null}),t=Gs(e,t,n)}else if(_s||Sr(e,t,n,!1),o=0!==(n&e.childLanes),_s||o){if(null!==(o=oc)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:je(r))&(o.suspendedLanes|n))?0:r)&&r!==l.retryLane))throw l.retryLane=r,To(e,r),Rc(o,e,r),Es;"$?"===c.data||Kc(),t=Gs(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ir=vu(c.nextSibling),rr=t,ar=!0,sr=null,lr=!1,null!==e&&(Xo[Qo++]=Zo,Xo[Qo++]=$o,Xo[Qo++]=Jo,Zo=e.id,$o=e.overflow,Jo=t),(t=qs(t,r.children)).flags|=4096);return t}return i?(ls(),i=r.fallback,c=t.mode,d=(l=e.child).sibling,(r=zo(l,{mode:"hidden",children:r.children})).subtreeFlags=65011712&l.subtreeFlags,null!==d?i=zo(d,i):(i=Ho(i,c,n,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,null===(c=e.child.memoizedState)?c=Bs(n):(null!==(l=c.cachePool)?(d=Pr._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Gr(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Vs(e,o,n),t.memoizedState=zs,r):(as(t),e=(n=e.child).sibling,(n=zo(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(o=t.deletions)?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function qs(e,t){return(t=Us({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Us(e,t){return(e=Fo(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gs(e,t,n){return ns(t,e.child,null,n),(e=qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ws(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),kr(e.return,t,n)}function Ks(e,t,n,o,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Ys(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(js(e,t,o.children,n),0!==(2&(o=ds.current)))o=1&o|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,n,t);else if(19===e.tag)Ws(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(V(ds,o),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ks(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===us(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ks(t,!0,n,null,i);break;case"together":Ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Sr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zo(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zo(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ir(e))}function Js(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_s=!0;else{if(!Qs(e,n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),br(0,Pr,e.memoizedState.cache),fr();break;case 27:case 5:Y(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:br(0,t.type,t.memoizedProps.value);break;case 13:var o=t.memoizedState;if(null!==o)return null!==o.dehydrated?(as(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Hs(e,t,n):(as(t),null!==(e=Xs(e,t,n))?e.sibling:null);as(t);break;case 19:var r=0!==(128&e.flags);if((o=0!==(n&t.childLanes))||(Sr(e,t,n,!1),o=0!==(n&t.childLanes)),r){if(o)return Ys(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),V(ds,ds.current),o)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n);case 24:br(0,Pr,e.memoizedState.cache)}return Xs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ar&&0!==(1048576&t.flags)&&tr(t,Yo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var o=t.elementType,r=o._init;if(o=r(o._payload),t.type=o,"function"!==typeof o){if(void 0!==o&&null!==o){if((r=o.$$typeof)===k){t.tag=11,t=As(null,t,o,e,n);break e}if(r===I){t.tag=14,t=Ds(null,t,o,e,n);break e}}throw t=T(o)||o,Error(a(306,t,""))}Lo(o)?(e=gs(o,e),t.tag=1,t=Fs(null,t,o,e,n)):(t.tag=0,t=Os(null,t,o,e,n))}return t;case 0:return Os(e,t,t.type,t.pendingProps,n);case 1:return Fs(e,t,o=t.type,r=gs(o,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(a(387));o=t.pendingProps;var i=t.memoizedState;r=i.element,ri(e,t),ui(t,o,null,n);var s=t.memoizedState;if(o=s.cache,br(0,Pr,o),o!==i.cache&&Cr(t,[Pr],n,!0),di(),o=s.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ls(e,t,o,n);break e}if(o!==r){gr(r=Io(Error(a(424)),t)),t=Ls(e,t,o,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ir=vu(e.firstChild),rr=t,ar=!0,sr=null,lr=!0,n=os(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fr(),o===r){t=Xs(e,t,n);break e}js(e,t,o,n)}t=t.child}return t;case 26:return Ms(e,t),null===e?(n=ju(t.type,null,t.pendingProps,null))?t.memoizedState=n:ar||(n=t.type,e=t.pendingProps,(o=ou(U.current).createElement(n))[Te]=t,o[Pe]=e,eu(o,n,e),Ge(o),t.stateNode=o):t.memoizedState=ju(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ar&&(o=t.stateNode=bu(t.type,t.pendingProps,U.current),rr=t,lr=!0,r=ir,hu(t.type)?(yu=r,ir=vu(o.firstChild)):ir=r),js(e,t,t.pendingProps.children,n),Ms(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ar&&((r=o=ir)&&(null!==(o=function(e,t,n,o){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(o){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===i)return e}if(null===(e=vu(e.nextSibling)))break}return null}(o,t.type,t.pendingProps,lr))?(t.stateNode=o,rr=t,ir=vu(o.firstChild),lr=!1,r=!0):r=!1),r||dr(t)),Y(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,au(r,i)?o=null:null!==s&&au(r,s)&&(t.flags|=32),null!==t.memoizedState&&(r=Ti(e,t,Oi,null,null,n),Yu._currentValue=r),Ms(e,t),js(e,t,o,n),t.child;case 6:return null===e&&ar&&((e=n=ir)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vu(e.nextSibling)))return null}return e}(n,t.pendingProps,lr))?(t.stateNode=n,rr=t,ir=null,e=!0):e=!1),e||dr(t)),null;case 13:return Hs(e,t,n);case 4:return W(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=ns(t,null,o,n):js(e,t,o,n),t.child;case 11:return As(e,t,t.type,t.pendingProps,n);case 7:return js(e,t,t.pendingProps,n),t.child;case 8:case 12:return js(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,br(0,t.type,o.value),js(e,t,o.children,n),t.child;case 9:return r=t.type._context,o=t.pendingProps.children,Er(t),o=o(r=_r(r)),t.flags|=1,js(e,t,o,n),t.child;case 14:return Ds(e,t,t.type,t.pendingProps,n);case 15:return Ns(e,t,t.type,t.pendingProps,n);case 19:return Ys(e,t,n);case 31:return o=t.pendingProps,n=t.mode,o={mode:o.mode,children:o.children},null===e?((n=Us(o,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=zo(e.child,o)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ts(e,t,n);case 24:return Er(t),o=_r(Pr),null===e?(null===(r=qr())&&(r=oc,i=Mr(),r.pooledCache=i,i.refCount++,null!==i&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:o,cache:r},oi(t),br(0,Pr,r)):(0!==(e.lanes&n)&&(ri(e,t),ui(t,null,null,n),di()),r=e.memoizedState,i=t.memoizedState,r.parent!==o?(r={parent:o,cache:o},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),br(0,Pr,o)):(o=i.cache,br(0,Pr,o),o!==r.cache&&Cr(t,[Pr],n,!0))),js(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Zs(e){e.flags|=4}function $s(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vu(t)){if(null!==(t=rs.current)&&((4194048&ic)===ic?null!==is:(62914560&ic)!==ic&&0===(536870912&ic)||t!==is))throw $r=Xr,Kr;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=65011712&r.subtreeFlags,o|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function ol(e,t,n){var o=t.pendingProps;switch(or(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,o=null,null!==e&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),wr(Pr),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hr(t)?Zs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mr())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Zs(t),null!==n?(nl(t),$s(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zs(t),nl(t),$s(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==o&&Zs(t),nl(t),t.flags&=-16777217),null;case 27:X(t),n=U.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==o&&Zs(t);else{if(!o){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=H.current,hr(t)?ur(t):(e=bu(r,o,n),t.stateNode=e,Zs(t))}return nl(t),null;case 5:if(X(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&Zs(t);else{if(!o){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=H.current,hr(t))ur(t);else{switch(r=ou(U.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof o.is?r.createElement("select",{is:o.is}):r.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e="string"===typeof o.is?r.createElement(n,{is:o.is}):r.createElement(n)}}e[Te]=t,e[Pe]=o;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(eu(e,n,o),n){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zs(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==o&&Zs(t);else{if("string"!==typeof o&&null===t.stateNode)throw Error(a(166));if(e=U.current,hr(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,null!==(r=rr))switch(r.tag){case 27:case 5:o=r.memoizedProps}e[Te]=t,(e=!!(e.nodeValue===n||null!==o&&!0===o.suppressHydrationWarning||Qd(e.nodeValue,n)))||dr(t)}else(e=ou(e).createTextNode(o))[Te]=t,t.stateNode=e}return nl(t),null;case 13:if(o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=hr(t),null!==o&&null!==o.dehydrated){if(null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[Te]=t}else fr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),r=!1}else r=mr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==o,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(o=t.child).alternate&&null!==o.alternate.memoizedState&&null!==o.alternate.memoizedState.cachePool&&(r=o.alternate.memoizedState.cachePool.pool);var i=null;null!==o.memoizedState&&null!==o.memoizedState.cachePool&&(i=o.memoizedState.cachePool.pool),i!==r&&(o.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&Bd(t.stateNode.containerInfo),nl(t),null;case 10:return wr(t.type),nl(t),null;case 19:if(B(ds),null===(r=t.memoizedState))return nl(t),null;if(o=0!==(128&t.flags),null===(i=r.rendering))if(o)tl(r,!1);else{if(0!==pc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=us(e))){for(t.flags|=128,tl(r,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Bo(n,e),n=n.sibling;return V(ds,1&ds.current|2),t.child}e=e.sibling}null!==r.tail&&te()>kc&&(t.flags|=128,o=!0,tl(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=us(i))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!ar)return nl(t),null}else 2*te()-r.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,o=!0,tl(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=ds.current,V(ds,o?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),yi(),o=null!==t.memoizedState,null!==e?null!==e.memoizedState!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),o=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),null!==e&&B(Hr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wr(Pr),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function rl(e,t){switch(or(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wr(Pr),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(ds),null;case 4:return K(),null;case 10:return wr(t.type),null;case 22:case 23:return cs(t),yi(),null!==e&&B(Hr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wr(Pr),null;default:return null}}function il(e,t){switch(or(t),t.tag){case 3:wr(Pr),K();break;case 26:case 27:case 5:X(t);break;case 4:K();break;case 13:cs(t);break;case 19:B(ds);break;case 10:wr(t.type);break;case 22:case 23:cs(t),yi(),null!==e&&B(Hr);break;case 24:wr(Pr)}}function al(e,t){try{var n=t.updateQueue,o=null!==n?n.lastEffect:null;if(null!==o){var r=o.next;n=r;do{if((n.tag&e)===e){o=void 0;var i=n.create,a=n.inst;o=i(),a.destroy=o}n=n.next}while(n!==r)}}catch(s){dd(t,t.return,s)}}function sl(e,t,n){try{var o=t.updateQueue,r=null!==o?o.lastEffect:null;if(null!==r){var i=r.next;o=i;do{if((o.tag&e)===e){var a=o.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,r=t;var l=n,c=s;try{c()}catch(d){dd(r,l,d)}}}o=o.next}while(o!==i)}}catch(d){dd(t,t.return,d)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(o){dd(e,e.return,o)}}}function cl(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(o){dd(e,t,o)}}function dl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;default:o=e.stateNode}"function"===typeof n?e.refCleanup=n(o):n.current=o}}catch(r){dd(e,t,r)}}function ul(e,t){var n=e.ref,o=e.refCleanup;if(null!==n)if("function"===typeof o)try{o()}catch(r){dd(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){dd(e,t,i)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&o.focus();break e;case"img":n.src?o.src=n.src:n.srcSet&&(o.srcset=n.srcSet)}}catch(r){dd(e,e.return,r)}}function hl(e,t,n){try{var o=e.stateNode;!function(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,s=null,l=null,c=null,d=null,u=null;for(f in n){var p=n[f];if(n.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":c=p;default:o.hasOwnProperty(f)||Zd(e,t,f,null,o,p)}}for(var h in o){var f=o[h];if(p=n[h],o.hasOwnProperty(h)&&(null!=f||null!=p))switch(h){case"type":i=f;break;case"name":r=f;break;case"checked":d=f;break;case"defaultChecked":u=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:f!==p&&Zd(e,t,h,f,o,p)}}return void gt(e,s,l,c,d,u,i,r);case"select":for(i in f=s=l=h=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:o.hasOwnProperty(i)||Zd(e,t,i,null,o,c)}for(r in o)if(i=o[r],c=n[r],o.hasOwnProperty(r)&&(null!=i||null!=c))switch(r){case"value":h=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&Zd(e,t,r,i,o,c)}return t=l,n=s,o=f,void(null!=h?xt(e,!!n,h,!1):!!o!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=h=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!o.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zd(e,t,l,null,o,r)}for(s in o)if(r=o[s],i=n[s],o.hasOwnProperty(s)&&(null!=r||null!=i))switch(s){case"value":h=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(a(91));break;default:r!==i&&Zd(e,t,s,r,o,i)}return void bt(e,h,f);case"option":for(var m in n)if(h=n[m],n.hasOwnProperty(m)&&null!=h&&!o.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zd(e,t,m,null,o,h);for(c in o)if(h=o[c],f=n[c],o.hasOwnProperty(c)&&h!==f&&(null!=h||null!=f))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Zd(e,t,c,h,o,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!o.hasOwnProperty(g)&&Zd(e,t,g,null,o,h);for(d in o)if(h=o[d],f=n[d],o.hasOwnProperty(d)&&h!==f&&(null!=h||null!=f))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Zd(e,t,d,h,o,f)}return;default:if(Et(t)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&void 0!==h&&!o.hasOwnProperty(v)&&$d(e,t,v,void 0,o,h);for(u in o)h=o[u],f=n[u],!o.hasOwnProperty(u)||h===f||void 0===h&&void 0===f||$d(e,t,u,h,o,f);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!o.hasOwnProperty(y)&&Zd(e,t,y,null,o,h);for(p in o)h=o[p],f=n[p],!o.hasOwnProperty(p)||h===f||null==h&&null==f||Zd(e,t,p,h,o,f)}(o,e.type,n,t),o[Pe]=t}catch(r){dd(e,e.return,r)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hu(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jd));else if(4!==o&&(27===o&&hu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&(27===o&&hu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var o=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);eu(t,o,n),t[Te]=e,t[Pe]=n}catch(i){dd(e,e.return,i)}}var xl=!1,bl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Cl=null;function Sl(e,t,n){var o=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&o&&al(5,n);break;case 1:if(Fl(e,n),4&o)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){dd(n,n.return,a)}else{var r=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){dd(n,n.return,s)}}64&o&&ll(n),512&o&&dl(n,n.return);break;case 3:if(Fl(e,n),64&o&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(a){dd(n,n.return,a)}}break;case 27:null===t&&4&o&&yl(n);case 26:case 5:Fl(e,n),null===t&&4&o&&pl(n),512&o&&dl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&o&&Dl(e,n),64&o&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var o=function(){t(),n.removeEventListener("DOMContentLoaded",o)};n.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}(e,n=fd.bind(null,n))));break;case 22:if(!(o=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||bl,r=xl;var i=bl;xl=o,(bl=t)&&!i?zl(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),xl=r,bl=i}break;case 30:break;default:Fl(e,n)}}function Il(e){var t=e.alternate;null!==t&&(e.alternate=null,Il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,_l=!1;function jl(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,n)}catch(i){}switch(n.tag){case 26:bl||ul(n,t),jl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||ul(n,t);var o=El,r=_l;hu(n.type)&&(El=n.stateNode,_l=!1),jl(e,t,n),wu(n.stateNode),El=o,_l=r;break;case 5:bl||ul(n,t);case 6:if(o=El,r=_l,El=null,jl(e,t,n),_l=r,null!==(El=o))if(_l)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(a){dd(n,t,a)}else try{El.removeChild(n.stateNode)}catch(a){dd(n,t,a)}break;case 18:null!==El&&(_l?(fu(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),_p(e)):fu(El,n.stateNode));break;case 4:o=El,r=_l,El=n.stateNode.containerInfo,_l=!0,jl(e,t,n),El=o,_l=r;break;case 0:case 11:case 14:case 15:bl||sl(2,n,t),bl||sl(4,n,t),jl(e,t,n);break;case 1:bl||(ul(n,t),"function"===typeof(o=n.stateNode).componentWillUnmount&&cl(n,t,o)),jl(e,t,n);break;case 21:jl(e,t,n);break;case 22:bl=(o=bl)||null!==n.memoizedState,jl(e,t,n),bl=o;break;default:jl(e,t,n)}}function Dl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{_p(e)}catch(n){dd(t,t.return,n)}}function Nl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var o=md.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))}))}function Tl(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var r=n[o],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(hu(l.type)){El=l.stateNode,_l=!1;break e}break;case 5:El=l.stateNode,_l=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,_l=!0;break e}l=l.return}if(null===El)throw Error(a(160));Al(i,s,r),El=null,_l=!1,null!==(i=r.alternate)&&(i.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ml(t,e),t=t.sibling}var Pl=null;function Ml(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tl(t,e),Ol(e),4&o&&(sl(3,e,e.return),al(3,e),sl(5,e,e.return));break;case 1:Tl(t,e),Ol(e),512&o&&(bl||null===n||ul(n,n.return)),64&o&&xl&&(null!==(e=e.updateQueue)&&(null!==(o=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?o:n.concat(o))));break;case 26:var r=Pl;if(Tl(t,e),Ol(e),512&o&&(bl||null===n||ul(n,n.return)),4&o){var i=null!==n?n.memoizedState:null;if(o=e.memoizedState,null===n)if(null===o)if(null===e.stateNode){e:{o=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(o){case"title":(!(i=r.getElementsByTagName("title")[0])||i[ze]||i[Te]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=r.createElement(o),r.head.insertBefore(i,r.querySelector("head > title"))),eu(i,o,n),i[Te]=e,Ge(i),o=i;break e;case"link":var s=zu("link","href",r).get(o+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}eu(i=r.createElement(o),o,n),r.head.appendChild(i);break;case"meta":if(s=zu("meta","content",r).get(o+(n.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}eu(i=r.createElement(o),o,n),r.head.appendChild(i);break;default:throw Error(a(468,o))}i[Te]=e,Ge(i),o=i}e.stateNode=o}else Bu(r,e.type,e.stateNode);else e.stateNode=Mu(r,o,e.memoizedProps);else i!==o?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===o?Bu(r,e.type,e.stateNode):Mu(r,o,e.memoizedProps)):null===o&&null!==e.stateNode&&hl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Tl(t,e),Ol(e),512&o&&(bl||null===n||ul(n,n.return)),null!==n&&4&o&&hl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Tl(t,e),Ol(e),512&o&&(bl||null===n||ul(n,n.return)),32&e.flags){r=e.stateNode;try{kt(r,"")}catch(f){dd(e,e.return,f)}}4&o&&null!=e.stateNode&&hl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&o&&(wl=!0);break;case 6:if(Tl(t,e),Ol(e),4&o){if(null===e.stateNode)throw Error(a(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(f){dd(e,e.return,f)}}break;case 3:if(Lu=null,r=Pl,Pl=Su(t.containerInfo),Tl(t,e),Pl=r,Ol(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{_p(t.containerInfo)}catch(f){dd(e,e.return,f)}wl&&(wl=!1,Rl(e));break;case 4:o=Pl,Pl=Su(e.stateNode.containerInfo),Tl(t,e),Ol(e),Pl=o;break;case 12:default:Tl(t,e),Ol(e);break;case 13:Tl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,Nl(e,o)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=xl,u=bl;if(xl=d||r,bl=u||c,Tl(t,e),bl=u,xl=d,Ol(e),8192&o)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||xl||bl||Ll(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,r)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var p=c.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(f){dd(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(f){dd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&o&&(null!==(o=e.updateQueue)&&(null!==(n=o.retryQueue)&&(o.retryQueue=null,Nl(e,n))));break;case 19:Tl(t,e),Ol(e),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,Nl(e,o)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,o=e.return;null!==o;){if(fl(o)){n=o;break}o=o.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var r=n.stateNode;vl(e,ml(e),r);break;case 5:var i=n.stateNode;32&n.flags&&(kt(i,""),n.flags&=-33),vl(e,ml(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,ml(e),s);break;default:throw Error(a(161))}}catch(l){dd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Rl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Rl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Ll(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Ll(t);break;case 1:ul(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ll(t);break;case 27:wu(t.stateNode);case 26:case 5:ul(t,t.return),Ll(t);break;case 22:null===t.memoizedState&&Ll(t);break;default:Ll(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var o=t.alternate,r=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:zl(r,i,n),al(4,i);break;case 1:if(zl(r,i,n),"function"===typeof(r=(o=i).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){dd(o,o.return,c)}if(null!==(r=(o=i).updateQueue)){var s=o.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)pi(l[r],s)}catch(c){dd(o,o.return,c)}}n&&64&a&&ll(i),dl(i,i.return);break;case 27:yl(i);case 26:case 5:zl(r,i,n),n&&null===o&&4&a&&pl(i),dl(i,i.return);break;case 12:zl(r,i,n);break;case 13:zl(r,i,n),n&&4&a&&Dl(r,i);break;case 22:null===i.memoizedState&&zl(r,i,n),dl(i,i.return);break;case 30:break;default:zl(r,i,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Or(n))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Or(e))}function Hl(e,t,n,o){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,o),t=t.sibling}function ql(e,t,n,o){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Hl(e,t,n,o),2048&r&&al(9,t);break;case 1:case 13:default:Hl(e,t,n,o);break;case 3:Hl(e,t,n,o),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Or(e)));break;case 12:if(2048&r){Hl(e,t,n,o),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,s=i.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){dd(t,t.return,l)}}else Hl(e,t,n,o);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?Hl(e,t,n,o):Gl(e,t):2&i._visibility?Hl(e,t,n,o):(i._visibility|=2,Ul(e,t,n,o,0!==(10256&t.subtreeFlags))),2048&r&&Bl(a,t);break;case 24:Hl(e,t,n,o),2048&r&&Vl(t.alternate,t)}}function Ul(e,t,n,o,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,s=n,l=o,c=a.flags;switch(a.tag){case 0:case 11:case 15:Ul(i,a,s,l,r),al(8,a);break;case 23:break;case 22:var d=a.stateNode;null!==a.memoizedState?2&d._visibility?Ul(i,a,s,l,r):Gl(i,a):(d._visibility|=2,Ul(i,a,s,l,r)),r&&2048&c&&Bl(a.alternate,a);break;case 24:Ul(i,a,s,l,r),r&&2048&c&&Vl(a.alternate,a);break;default:Ul(i,a,s,l,r)}t=t.sibling}}function Gl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,o=t,r=o.flags;switch(o.tag){case 22:Gl(n,o),2048&r&&Bl(o.alternate,o);break;case 24:Gl(n,o),2048&r&&Vl(o.alternate,o);break;default:Gl(n,o)}t=t.sibling}}var Wl=8192;function Kl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Kl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===Hu)throw Error(a(475));var o=Hu;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=Au(n.href),i=e.querySelector(Du(r));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(o.count++,o=Uu.bind(o),e.then(o,o)),t.state.loading|=4,t.instance=i,void Ge(i);i=e.ownerDocument||e,n=Nu(n),(r=ku.get(r))&&Ru(n,r),Ge(i=i.createElement("link"));var s=i;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),eu(i,"link",n),t.instance=i}null===o.stylesheets&&(o.stylesheets=new Map),o.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(o.count++,t=Uu.bind(o),e.addEventListener("load",t),e.addEventListener("error",t))}}(Pl,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Pl;Pl=Su(e.stateNode.containerInfo),Kl(e),Pl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Kl(e),Wl=t):Kl(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var o=t[n];Cl=o,$l(o,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Ql(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var o=t[n];Cl=o,$l(o,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function $l(e,t){for(;null!==Cl;){var n=Cl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var o=n.memoizedState.cachePool.pool;null!=o&&o.refCount++}break;case 24:Or(n.memoizedState.cache)}if(null!==(o=n.child))o.return=n,Cl=o;else e:for(n=e;null!==Cl;){var r=(o=Cl).sibling,i=o.return;if(Il(o),o===n){Cl=null;break e}if(null!==r){r.return=i,Cl=r;break e}Cl=i}}}var ec={getCacheForType:function(e){var t=_r(Pr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,oc=null,rc=null,ic=0,ac=0,sc=null,lc=!1,cc=!1,dc=!1,uc=0,pc=0,hc=0,fc=0,mc=0,gc=0,vc=0,yc=null,xc=null,bc=!1,wc=0,kc=1/0,Cc=null,Sc=null,Ic=0,Ec=null,_c=null,jc=0,Ac=0,Dc=null,Nc=null,Tc=0,Pc=null;function Mc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==M.T){return 0!==Lr?Lr:Ad()}return De()}function Oc(){0===gc&&(gc=0===(536870912&ic)||ar?ke():536870912);var e=rs.current;return null!==e&&(e.flags|=32),gc}function Rc(e,t,n){(e!==oc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(qc(e,0),Bc(e,ic,gc,!1)),Ie(e,n),0!==(2&nc)&&e===oc||(e===oc&&(0===(2&nc)&&(fc|=n),4===pc&&Bc(e,ic,gc,!1)),kd(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var o=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),r=o?function(e,t){var n=nc;nc|=2;var o=Gc(),r=Wc();oc!==e||ic!==t?(Cc=null,kc=te()+500,qc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==ac&&null!==rc){t=rc;var i=sc;t:switch(ac){case 1:ac=0,sc=null,$c(e,t,i,1);break;case 2:case 9:if(Qr(i)){ac=0,sc=null,Zc(t);break}t=function(){2!==ac&&9!==ac||oc!==e||(ac=7),kd(e)},i.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Qr(i)?(ac=0,sc=null,Zc(t)):(ac=0,sc=null,$c(e,t,i,7));break;case 5:var s=null;switch(rc.tag){case 26:s=rc.memoizedState;case 5:case 27:var l=rc;if(!s||Vu(s)){ac=0,sc=null;var c=l.sibling;if(null!==c)rc=c;else{var d=l.return;null!==d?(rc=d,ed(d)):rc=null}break t}}ac=0,sc=null,$c(e,t,i,5);break;case 6:ac=0,sc=null,$c(e,t,i,6);break;case 8:Hc(),pc=6;break e;default:throw Error(a(462))}}Qc();break}catch(u){Uc(e,u)}return xr=yr=null,M.H=o,M.A=r,nc=n,null!==rc?0:(oc=null,ic=0,Ao(),pc)}(e,t):Yc(e,t,!0),i=o;;){if(0===r){cc&&!o&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!i||zc(n)){if(2===r){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;r=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,s).flags|=256),2!==(s=Yc(l,s,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=i,fc|=i,r=4;break e}i=xc,xc=r,null!==i&&(null===xc?xc=i:xc.push.apply(xc,i))}r=s}if(i=!1,2!==r)continue}}if(1===r){qc(e,0),Bc(e,t,0,!0);break}e:{switch(o=e,i=r){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Bc(o,t,gc,!lc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(r=wc+300-te())){if(Bc(o,t,gc,!lc),0!==xe(o,0,!0))break e;o.timeoutHandle=lu(Lc.bind(null,o,n,xc,Cc,bc,t,gc,fc,vc,lc,i,2,-0,0),r)}else Lc(o,n,xc,Cc,bc,t,gc,fc,vc,lc,i,0,-0,0)}break}r=Yc(e,t,!1),i=!1}kd(e)}function Lc(e,t,n,o,r,i,s,l,c,d,u,p,h,f){if(e.timeoutHandle=-1,(8192&(p=t.subtreeFlags)||16785408===(16785408&p))&&(Hu={stylesheets:null,count:0,unsuspend:qu},Yl(t),null!==(p=function(){if(null===Hu)throw Error(a(475));var e=Hu;return e.stylesheets&&0===e.count&&Wu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Wu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=p(nd.bind(null,e,t,i,n,o,r,s,l,c,u,1,h,f)),void Bc(e,i,s,!d);nd(e,t,i,n,o,r,s,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!Xn(i(),r))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,o){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var r=t;0<r;){var i=31-he(r),a=1<<i;o[i]=-1,r&=~a}0!==n&&Ee(e,n,t)}function Vc(){return 0!==(6&nc)||(Cd(0,!1),!1)}function Hc(){if(null!==rc){if(0===ac)var e=rc.return;else xr=yr=null,Li(e=rc),Xa=null,Qa=0,e=rc;for(;null!==e;)il(e.alternate,e),e=e.return;rc=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc(),oc=e,rc=n=zo(e.current,null),ic=t,ac=0,sc=null,lc=!1,cc=be(e,t),dc=!1,vc=gc=mc=fc=hc=pc=0,xc=yc=null,bc=!1,0!==(8&t)&&(t|=32&t);var o=e.entangledLanes;if(0!==o)for(e=e.entanglements,o&=t;0<o;){var r=31-he(o),i=1<<r;t|=e[r],o&=~i}return uc=t,Ao(),n}function Uc(e,t){bi=null,M.H=Ga,t===Wr||t===Yr?(t=ei(),ac=3):t===Kr?(t=ei(),ac=4):ac=t===Es?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===rc&&(pc=1,ws(e,Io(t,e.current)))}function Gc(){var e=M.H;return M.H=Ga,null===e?Ga:e}function Wc(){var e=M.A;return M.A=ec,e}function Kc(){pc=4,lc||(4194048&ic)!==ic&&null!==rs.current||(cc=!0),0===(134217727&hc)&&0===(134217727&fc)||null===oc||Bc(oc,ic,gc,!1)}function Yc(e,t,n){var o=nc;nc|=2;var r=Gc(),i=Wc();oc===e&&ic===t||(Cc=null,qc(e,t)),t=!1;var a=pc;e:for(;;)try{if(0!==ac&&null!==rc){var s=rc,l=sc;switch(ac){case 8:Hc(),a=6;break e;case 3:case 2:case 9:case 6:null===rs.current&&(t=!0);var c=ac;if(ac=0,sc=null,$c(e,s,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,sc=null,$c(e,s,l,c)}}Xc(),a=pc;break}catch(d){Uc(e,d)}return t&&e.shellSuspendCounter++,xr=yr=null,nc=o,M.H=r,M.A=i,null===rc&&(oc=null,ic=0,Ao()),a}function Xc(){for(;null!==rc;)Jc(rc)}function Qc(){for(;null!==rc&&!$();)Jc(rc)}function Jc(e){var t=Js(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?ed(e):rc=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Rs(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Rs(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Li(t);default:il(n,t),t=Js(n,t=rc=Bo(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?ed(e):rc=t}function $c(e,t,n,o){xr=yr=null,Li(t),Xa=null,Qa=0;var r=t.return;try{if(function(e,t,n,o,r){if(n.flags|=32768,null!==o&&"object"===typeof o&&"function"===typeof o.then){if(null!==(t=n.alternate)&&Sr(t,n,r,!0),null!==(n=rs.current)){switch(n.tag){case 13:return null===is?Kc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,o===Xr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([o]):t.add(o),ud(e,o,r)),!1;case 22:return n.flags|=65536,o===Xr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([o]):n.add(o),ud(e,o,r)),!1}throw Error(a(435,n.tag))}return ud(e,o,r),Kc(),!1}if(ar)return null!==(t=rs.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,o!==cr&&gr(Io(e=Error(a(422),{cause:o}),n))):(o!==cr&&gr(Io(t=Error(a(423),{cause:o}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,o=Io(o,n),li(e,r=Cs(e.stateNode,o,r)),4!==pc&&(pc=2)),!1;var i=Error(a(520),{cause:o});if(i=Io(i,n),null===yc?yc=[i]:yc.push(i),4!==pc&&(pc=2),null===t)return!0;o=Io(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,li(n,e=Cs(n.stateNode,o,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Sc||!Sc.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,Is(r=Ss(r),e,n,o),li(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,ic))return pc=1,ws(e,Io(n,e.current)),void(rc=null)}catch(i){if(null!==r)throw rc=r,i;return pc=1,ws(e,Io(n,e.current)),void(rc=null)}32768&t.flags?(ar||1===o?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===o||9===o||3===o||6===o)&&(null!==(o=rs.current)&&13===o.tag&&(o.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,lc);e=t.return;var n=ol(t.alternate,t,uc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===pc&&(pc=5)}function td(e,t){do{var n=rl(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);pc=6,rc=null}function nd(e,t,n,o,r,i,s,l,c){e.cancelPendingCommit=null;do{sd()}while(0!==Ic);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,o,r,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-he(n),u=1<<d;s[d]=0,l[d]=-1;var p=c[d];if(null!==p)for(c[d]=null,d=0;d<p.length;d++){var h=p[d];null!==h&&(h.lane&=-536870913)}n&=~u}0!==o&&Ee(e,o,0),0!==i&&0===r&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=jo,s,l,c),e===oc&&(rc=oc=null,ic=0),_c=t,Ec=e,jc=n,Ac=i,Dc=r,Nc=o,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(ie,(function(){return ld(),null}))):(e.callbackNode=null,e.callbackPriority=0),o=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||o){o=M.T,M.T=null,r=O.p,O.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,tu=np,to(e=eo(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==r&&3!==p.nodeType||(l=s+r),p!==i||0!==o&&3!==p.nodeType||(c=s+o),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++d===r&&(l=s),h===i&&++u===o&&(c=s),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nu={focusedElem:e,selectionRange:n},np=!1,Cl=t;null!==Cl;)if(e=(t=Cl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Cl=e;else for(;null!==Cl;){switch(i=(t=Cl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,r=i.memoizedProps,i=i.memoizedState,o=n.stateNode;try{var m=gs(n.type,r,(n.elementType,n.type));e=o.getSnapshotBeforeUpdate(m,i),o.__reactInternalSnapshotBeforeUpdate=e}catch(v){dd(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))mu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Cl=e;break}Cl=t.return}}(e,t)}finally{nc=s,O.p=r,M.T=o}}Ic=1,od(),rd(),id()}}function od(){if(1===Ic){Ic=0;var e=Ec,t=_c,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var o=O.p;O.p=2;var r=nc;nc|=4;try{Ml(t,e);var i=nu,a=eo(e.containerInfo),s=i.focusedElem,l=i.selectionRange;if(a!==s&&s&&s.ownerDocument&&$n(s.ownerDocument.documentElement,s)){if(null!==l&&to(s)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(d,s.value.length);else{var u=s.ownerDocument||document,p=u&&u.defaultView||window;if(p.getSelection){var h=p.getSelection(),f=s.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!h.extend&&m>g&&(a=g,g=m,m=a);var v=Zn(s,m),y=Zn(s,g);if(v&&y&&(1!==h.rangeCount||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var x=u.createRange();x.setStart(v.node,v.offset),h.removeAllRanges(),m>g?(h.addRange(x),h.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),h.addRange(x))}}}}for(u=[],h=s;h=h.parentNode;)1===h.nodeType&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<u.length;s++){var b=u[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}np=!!tu,nu=tu=null}finally{nc=r,O.p=o,M.T=n}}e.current=t,Ic=2}}function rd(){if(2===Ic){Ic=0;var e=Ec,t=_c,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var o=O.p;O.p=2;var r=nc;nc|=4;try{Sl(e,t.alternate,t)}finally{nc=r,O.p=o,M.T=n}}Ic=3}}function id(){if(4===Ic||3===Ic){Ic=0,ee();var e=Ec,t=_c,n=jc,o=Nc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ic=5:(Ic=0,_c=Ec=null,ad(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Sc=null),Ae(n),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==o){t=M.T,r=O.p,O.p=2,M.T=null;try{for(var i=e.onRecoverableError,a=0;a<o.length;a++){var s=o[a];i(s.value,{componentStack:s.stack})}}finally{M.T=t,O.p=r}}0!==(3&jc)&&sd(),kd(e),r=e.pendingLanes,0!==(4194090&n)&&0!==(42&r)?e===Pc?Tc++:(Tc=0,Pc=e):Tc=0,Cd(0,!1)}}function ad(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Or(t)))}function sd(e){return od(),rd(),id(),ld()}function ld(){if(5!==Ic)return!1;var e=Ec,t=Ac;Ac=0;var n=Ae(jc),o=M.T,r=O.p;try{O.p=32>n?32:n,M.T=null,n=Dc,Dc=null;var i=Ec,s=jc;if(Ic=0,_c=Ec=null,jc=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Jl(i.current),ql(i,i.current,s,n),nc=l,Cd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,i)}catch(c){}return!0}finally{O.p=r,M.T=o,ad(e,t)}}function cd(e,t,n){t=Io(n,t),null!==(e=ai(e,t=Cs(e.stateNode,t,2),2))&&(Ie(e,2),kd(e))}function dd(e,t,n){if(3===e.tag)cd(e,e,n);else for(;null!==t;){if(3===t.tag){cd(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===Sc||!Sc.has(o))){e=Io(n,e),null!==(o=ai(t,n=Ss(2),2))&&(Is(n,o,t,e),Ie(o,2),kd(o));break}}t=t.return}}function ud(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new tc;var r=new Set;o.set(t,r)}else void 0===(r=o.get(t))&&(r=new Set,o.set(t,r));r.has(n)||(dc=!0,r.add(n),e=pd.bind(null,e,t,n),t.then(e,e))}function pd(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,oc===e&&(ic&n)===n&&(4===pc||3===pc&&(62914560&ic)===ic&&300>te()-wc?0===(2&nc)&&qc(e,0):mc|=n,vc===ic&&(vc=0)),kd(e)}function hd(e,t){0===t&&(t=Ce()),null!==(e=To(e,t))&&(Ie(e,t),kd(e))}function fd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hd(e,n)}function md(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==o&&o.delete(t),hd(e,n)}var gd=null,vd=null,yd=!1,xd=!1,bd=!1,wd=0;function kd(e){e!==vd&&null===e.next&&(null===vd?gd=vd=e:vd=vd.next=e),xd=!0,yd||(yd=!0,uu((function(){0!==(6&nc)?J(oe,Sd):Id()})))}function Cd(e,t){if(!bd&&xd){bd=!0;do{for(var n=!1,o=gd;null!==o;){if(!t)if(0!==e){var r=o.pendingLanes;if(0===r)var i=0;else{var a=o.suspendedLanes,s=o.pingedLanes;i=(1<<31-he(42|e)+1)-1,i=201326741&(i&=r&~(a&~s))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,jd(o,i))}else i=ic,0===(3&(i=xe(o,o===oc?i:0,null!==o.cancelPendingCommit||-1!==o.timeoutHandle)))||be(o,i)||(n=!0,jd(o,i));o=o.next}}while(n);bd=!1}}function Sd(){Id()}function Id(){xd=yd=!1;var e=0;0!==wd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==su&&(su=e,!0);return su=null,!1}()&&(e=wd),wd=0);for(var t=te(),n=null,o=gd;null!==o;){var r=o.next,i=Ed(o,t);0===i?(o.next=null,null===n?gd=r:n.next=r,null===r&&(vd=n)):(n=o,(0!==e||0!==(3&i))&&(xd=!0)),o=r}Cd(e,!1)}function Ed(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-he(i),s=1<<a,l=r[a];-1===l?0!==(s&n)&&0===(s&o)||(r[a]=we(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(n=ic,n=xe(e,e===(t=oc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),o=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==o&&null!==o&&Z(o),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==o&&Z(o),Ae(n)){case 2:case 8:n=re;break;case 32:default:n=ie;break;case 268435456:n=se}return o=_d.bind(null,e),n=J(n,o),e.callbackPriority=t,e.callbackNode=n,t}return null!==o&&null!==o&&Z(o),e.callbackPriority=2,e.callbackNode=null,2}function _d(e,t){if(0!==Ic&&5!==Ic)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(sd()&&e.callbackNode!==n)return null;var o=ic;return 0===(o=xe(e,e===oc?o:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,o,t),Ed(e,te()),null!=e.callbackNode&&e.callbackNode===n?_d.bind(null,e):null)}function jd(e,t){if(sd())return null;Fc(e,t,!0)}function Ad(){return 0===wd&&(wd=ke()),wd}function Dd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Nd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Td=0;Td<ko.length;Td++){var Pd=ko[Td];Co(Pd.toLowerCase(),"on"+(Pd[0].toUpperCase()+Pd.slice(1)))}Co(fo,"onAnimationEnd"),Co(mo,"onAnimationIteration"),Co(go,"onAnimationStart"),Co("dblclick","onDoubleClick"),Co("focusin","onFocus"),Co("focusout","onBlur"),Co(vo,"onTransitionRun"),Co(yo,"onTransitionStart"),Co(xo,"onTransitionCancel"),Co(bo,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Od=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Md));function Rd(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var a=o.length-1;0<=a;a--){var s=o[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&r.isPropagationStopped())break e;i=s,r.currentTarget=c;try{i(r)}catch(d){vs(d)}r.currentTarget=null,i=l}else for(a=0;a<o.length;a++){if(l=(s=o[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&r.isPropagationStopped())break e;i=s,r.currentTarget=c;try{i(r)}catch(d){vs(d)}r.currentTarget=null,i=l}}}}function Fd(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var o=e+"__bubble";n.has(o)||(Vd(t,e,2,!1),n.add(o))}function Ld(e,t,n){var o=0;t&&(o|=4),Vd(n,e,o,t)}var zd="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[zd]){e[zd]=!0,We.forEach((function(t){"selectionchange"!==t&&(Od.has(t)||Ld(t,!1,e),Ld(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zd]||(t[zd]=!0,Ld("selectionchange",!1,t))}}function Vd(e,t,n,o){switch(cp(t)){case 2:var r=op;break;case 8:r=rp;break;default:r=ip}n=r.bind(null,t,n,e),r=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),o?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hd(e,t,n,o,r){var i=o;if(0===(1&t)&&0===(2&t)&&null!==o)e:for(;;){if(null===o)return;var a=o.tag;if(3===a||4===a){var s=o.stateNode.containerInfo;if(s===r)break;if(4===a)for(a=o.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===r)return;a=a.return}for(;null!==s;){if(null===(a=Ve(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){o=i=a;continue e}s=s.parentNode}}o=o.return}Rt((function(){var o=i,r=Nt(n),a=[];e:{var s=wo.get(e);if(void 0!==s){var c=$t,d=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":d="focus",c=an;break;case"focusout":d="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fo:case mo:case go:c=sn;break;case bo:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=bn}var u=0!==(4&t),p=!u&&("scroll"===e||"scrollend"===e),h=u?null!==s?s+"Capture":null:s;u=[];for(var f,m=o;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=Ft(m,h))&&u.push(qd(m,g,f)),p)break;m=m.return}0<u.length&&(s=new c(s,d,null,n,r),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Dt||!(d=n.relatedTarget||n.fromElement)||!Ve(d)&&!d[Me])&&(c||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=o,null!==(d=(d=n.relatedTarget||n.toElement)?Ve(d):null)&&(p=l(d),u=d.tag,d!==p||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=o),c!==d)){if(u=on,g="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=gn,g="onPointerLeave",h="onPointerEnter",m="pointer"),p=null==c?s:qe(c),f=null==d?s:qe(d),(s=new u(g,m+"leave",c,n,r)).target=p,s.relatedTarget=f,g=null,Ve(r)===o&&((u=new u(h,m+"enter",d,n,r)).target=f,u.relatedTarget=p,g=u),p=g,c&&d)e:{for(h=d,m=0,f=u=c;f;f=Gd(f))m++;for(f=0,g=h;g;g=Gd(g))f++;for(;0<m-f;)u=Gd(u),m--;for(;0<f-m;)h=Gd(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gd(u),h=Gd(h)}u=null}else u=null;null!==c&&Wd(a,s,c,u,!1),null!==d&&null!==p&&Wd(a,p,d,u,!0)}if("select"===(c=(s=o?qe(o):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Ln;else if(Tn(s))if(zn)v=Yn;else{v=Wn;var y=Gn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?o&&Et(o.elementType)&&(v=Ln):v=Kn;switch(v&&(v=v(e,o))?Pn(a,v,n,r):(y&&y(e,s,o),"focusout"===e&&o&&"number"===s.type&&null!=o.memoizedProps.value&&yt(s,"number",s.value)),y=o?qe(o):window,e){case"focusin":(Tn(y)||"true"===y.contentEditable)&&(oo=y,ro=o,io=null);break;case"focusout":io=ro=oo=null;break;case"mousedown":ao=!0;break;case"contextmenu":case"mouseup":case"dragend":ao=!1,so(a,n,r);break;case"selectionchange":if(no)break;case"keydown":case"keyup":so(a,n,r)}var x;if(kn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Dn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(In&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Dn&&(x=Ut()):(Ht="value"in(Vt=r)?Vt.value:Vt.textContent,Dn=!0)),0<(y=Ud(o,b)).length&&(b=new cn(b,e,null,n,r),a.push({event:b,listeners:y}),x?b.data=x:null!==(x=An(n))&&(b.data=x))),(x=Sn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(_n=!0,En);case"textInput":return(e=t.data)===En&&_n?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!kn&&jn(e,t)?(e=Ut(),qt=Ht=Vt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Ud(o,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,r),a.push({event:y,listeners:b}),y.data=x)),function(e,t,n,o,r){if("submit"===t&&n&&n.stateNode===r){var i=Dd((r[Pe]||null).action),a=o.submitter;a&&null!==(t=(t=a[Pe]||null)?Dd(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var s=new $t("action","action",null,o,r);e.push({event:s,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(0!==wd){var e=a?Nd(r,a):new FormData(r);Na(n,{pending:!0,data:e,method:r.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=a?Nd(r,a):new FormData(r),Na(n,{pending:!0,data:e,method:r.method,action:i},i,e))},currentTarget:r}]})}}(a,e,o,n,r)}Rd(a,t)}))}function qd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ud(e,t){for(var n=t+"Capture",o=[];null!==e;){var r=e,i=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===i||(null!=(r=Ft(e,n))&&o.unshift(qd(e,r,i)),null!=(r=Ft(e,t))&&o.push(qd(e,r,i))),3===e.tag)return o;e=e.return}return[]}function Gd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wd(e,t,n,o,r){for(var i=t._reactName,a=[];null!==n&&n!==o;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===o)break;5!==s&&26!==s&&27!==s||null===c||(l=c,r?null!=(c=Ft(n,i))&&a.unshift(qd(n,c,l)):r||null!=(c=Ft(n,i))&&a.push(qd(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kd=/\r\n?/g,Yd=/\u0000|\uFFFD/g;function Xd(e){return("string"===typeof e?e:""+e).replace(Kd,"\n").replace(Yd,"")}function Qd(e,t){return t=Xd(t),Xd(e)===t}function Jd(){}function Zd(e,t,n,o,r,i){switch(n){case"children":"string"===typeof o?"body"===t||"textarea"===t&&""===o||kt(e,o):("number"===typeof o||"bigint"===typeof o)&&"body"!==t&&kt(e,""+o);break;case"className":nt(e,"class",o);break;case"tabIndex":nt(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,o);break;case"style":It(e,o,i);break;case"data":if("object"!==t){nt(e,"data",o);break}case"src":case"href":if(""===o&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==o||"function"===typeof o||"symbol"===typeof o||"boolean"===typeof o){e.removeAttribute(n);break}o=At(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if("function"===typeof o){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Zd(e,t,"name",r.name,r,null),Zd(e,t,"formEncType",r.formEncType,r,null),Zd(e,t,"formMethod",r.formMethod,r,null),Zd(e,t,"formTarget",r.formTarget,r,null)):(Zd(e,t,"encType",r.encType,r,null),Zd(e,t,"method",r.method,r,null),Zd(e,t,"target",r.target,r,null))),null==o||"symbol"===typeof o||"boolean"===typeof o){e.removeAttribute(n);break}o=At(""+o),e.setAttribute(n,o);break;case"onClick":null!=o&&(e.onclick=Jd);break;case"onScroll":null!=o&&Fd("scroll",e);break;case"onScrollEnd":null!=o&&Fd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!==typeof o||!("__html"in o))throw Error(a(61));if(null!=(n=o.__html)){if(null!=r.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&"function"!==typeof o&&"symbol"!==typeof o;break;case"muted":e.muted=o&&"function"!==typeof o&&"symbol"!==typeof o;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==o||"function"===typeof o||"boolean"===typeof o||"symbol"===typeof o){e.removeAttribute("xlink:href");break}n=At(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=o&&"function"!==typeof o&&"symbol"!==typeof o?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&"function"!==typeof o&&"symbol"!==typeof o?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===o?e.setAttribute(n,""):!1!==o&&null!=o&&"function"!==typeof o&&"symbol"!==typeof o?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":null==o||"function"===typeof o||"symbol"===typeof o||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":Fd("beforetoggle",e),Fd("toggle",e),tt(e,"popover",o);break;case"xlinkActuate":ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ot(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ot(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ot(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ot(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":tt(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=_t.get(n)||n,o)}}function $d(e,t,n,o,r,i){switch(n){case"style":It(e,o,i);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!==typeof o||!("__html"in o))throw Error(a(61));if(null!=(n=o.__html)){if(null!=r.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof o?kt(e,o):("number"===typeof o||"bigint"===typeof o)&&kt(e,""+o);break;case"onScroll":null!=o&&Fd("scroll",e);break;case"onScrollEnd":null!=o&&Fd("scrollend",e);break;case"onClick":null!=o&&(e.onclick=Jd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Pe]||null)?i[n]:null)&&e.removeEventListener(t,i,r),"function"!==typeof o)?n in e?e[n]=o:!0===o?e.setAttribute(n,""):tt(e,n,o):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,r)))}}function eu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fd("error",e),Fd("load",e);var o,r=!1,i=!1;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(null!=s)switch(o){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zd(e,t,o,s,n,null)}}return i&&Zd(e,t,"srcSet",n.srcSet,n,null),void(r&&Zd(e,t,"src",n.src,n,null));case"input":Fd("invalid",e);var l=o=s=i=null,c=null,d=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(null!=u)switch(r){case"name":i=u;break;case"type":s=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":o=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(a(137,t));break;default:Zd(e,t,r,u,n,null)}}return vt(e,o,l,c,d,s,i,!1),void ut(e);case"select":for(i in Fd("invalid",e),r=s=o=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":o=l;break;case"defaultValue":s=l;break;case"multiple":r=l;default:Zd(e,t,i,l,n,null)}return t=o,n=s,e.multiple=!!r,void(null!=t?xt(e,!!r,t,!1):null!=n&&xt(e,!!r,n,!0));case"textarea":for(s in Fd("invalid",e),o=i=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":i=l;break;case"children":o=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Zd(e,t,s,l,n,null)}return wt(e,r,i,o),void ut(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Zd(e,t,c,r,n,null);return;case"dialog":Fd("beforetoggle",e),Fd("toggle",e),Fd("cancel",e),Fd("close",e);break;case"iframe":case"object":Fd("load",e);break;case"video":case"audio":for(r=0;r<Md.length;r++)Fd(Md[r],e);break;case"image":Fd("error",e),Fd("load",e);break;case"details":Fd("toggle",e);break;case"embed":case"source":case"link":Fd("error",e),Fd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(r=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zd(e,t,d,r,n,null)}return;default:if(Et(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(r=n[u])&&$d(e,t,u,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&Zd(e,t,l,r,n,null))}var tu=null,nu=null;function ou(e){return 9===e.nodeType?e:e.ownerDocument}function ru(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function au(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var su=null;var lu="function"===typeof setTimeout?setTimeout:void 0,cu="function"===typeof clearTimeout?clearTimeout:void 0,du="function"===typeof Promise?Promise:void 0,uu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof du?function(e){return du.resolve(null).then(e).catch(pu)}:lu;function pu(e){setTimeout((function(){throw e}))}function hu(e){return"head"===e}function fu(e,t){var n=t,o=0,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<o&&8>o){n=o;var a=e.ownerDocument;if(1&n&&wu(a.documentElement),2&n&&wu(a.body),4&n)for(wu(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===r)return e.removeChild(i),void _p(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:o=n.charCodeAt(0)-48;else o=0;n=i}while(n);_p(t)}function mu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mu(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yu=null;function xu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bu(e,t,n){switch(t=ou(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var ku=new Map,Cu=new Set;function Su(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Iu=O.d;O.d={f:function(){var e=Iu.f(),t=Vc();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?Pa(t):Iu.r(e)},D:function(e){Iu.D(e),_u("dns-prefetch",e,null)},C:function(e,t){Iu.C(e,t),_u("preconnect",e,t)},L:function(e,t,n){Iu.L(e,t,n);var o=Eu;if(o&&e&&t){var r='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+mt(n.imageSizes)+'"]')):r+='[href="'+mt(e)+'"]';var i=r;switch(t){case"style":i=Au(e);break;case"script":i=Tu(e)}ku.has(i)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ku.set(i,e),null!==o.querySelector(r)||"style"===t&&o.querySelector(Du(i))||"script"===t&&o.querySelector(Pu(i))||(eu(t=o.createElement("link"),"link",e),Ge(t),o.head.appendChild(t)))}},m:function(e,t){Iu.m(e,t);var n=Eu;if(n&&e){var o=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+mt(o)+'"][href="'+mt(e)+'"]',i=r;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Tu(e)}if(!ku.has(i)&&(e=p({rel:"modulepreload",href:e},t),ku.set(i,e),null===n.querySelector(r))){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pu(i)))return}eu(o=n.createElement("link"),"link",e),Ge(o),n.head.appendChild(o)}}},X:function(e,t){Iu.X(e,t);var n=Eu;if(n&&e){var o=Ue(n).hoistableScripts,r=Tu(e),i=o.get(r);i||((i=n.querySelector(Pu(r)))||(e=p({src:e,async:!0},t),(t=ku.get(r))&&Fu(e,t),Ge(i=n.createElement("script")),eu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(r,i))}},S:function(e,t,n){Iu.S(e,t,n);var o=Eu;if(o&&e){var r=Ue(o).hoistableStyles,i=Au(e);t=t||"default";var a=r.get(i);if(!a){var s={loading:0,preload:null};if(a=o.querySelector(Du(i)))s.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ku.get(i))&&Ru(e,n);var l=a=o.createElement("link");Ge(l),eu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Ou(a,t,o)}a={type:"stylesheet",instance:a,count:1,state:s},r.set(i,a)}}},M:function(e,t){Iu.M(e,t);var n=Eu;if(n&&e){var o=Ue(n).hoistableScripts,r=Tu(e),i=o.get(r);i||((i=n.querySelector(Pu(r)))||(e=p({src:e,async:!0,type:"module"},t),(t=ku.get(r))&&Fu(e,t),Ge(i=n.createElement("script")),eu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(r,i))}}};var Eu="undefined"===typeof document?null:document;function _u(e,t,n){var o=Eu;if(o&&"string"===typeof t&&t){var r=mt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),Cu.has(r)||(Cu.add(r),e={rel:e,crossOrigin:n,href:t},null===o.querySelector(r)&&(eu(t=o.createElement("link"),"link",e),Ge(t),o.head.appendChild(t)))}}function ju(e,t,n,o){var r,i,s,l,c=(c=U.current)?Su(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Au(n.href),(o=(n=Ue(c).hoistableStyles).get(t))||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Au(n.href);var d=Ue(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Du(e)))&&!d._p&&(u.instance=d,u.state.loading=5),ku.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ku.set(e,n),d||(r=c,i=e,s=n,l=u.state,r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),eu(i,"link",s),Ge(i),r.head.appendChild(i))))),t&&null===o)throw Error(a(528,""));return u}if(t&&null!==o)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Tu(n),(o=(n=Ue(c).hoistableScripts).get(t))||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Au(e){return'href="'+mt(e)+'"'}function Du(e){return'link[rel="stylesheet"]['+e+"]"}function Nu(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Tu(e){return'[src="'+mt(e)+'"]'}function Pu(e){return"script[async]"+e}function Mu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(o)return t.instance=o,Ge(o),o;var r=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ge(o=(e.ownerDocument||e).createElement("style")),eu(o,"style",r),Ou(o,n.precedence,e),t.instance=o;case"stylesheet":r=Au(n.href);var i=e.querySelector(Du(r));if(i)return t.state.loading|=4,t.instance=i,Ge(i),i;o=Nu(n),(r=ku.get(r))&&Ru(o,r),Ge(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),eu(i,"link",o),t.state.loading|=4,Ou(i,n.precedence,e),t.instance=i;case"script":return i=Tu(n.src),(r=e.querySelector(Pu(i)))?(t.instance=r,Ge(r),r):(o=n,(r=ku.get(i))&&Fu(o=p({},n),r),Ge(r=(e=e.ownerDocument||e).createElement("script")),eu(r,"link",o),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(o=t.instance,t.state.loading|=4,Ou(o,n.precedence,e));return t.instance}function Ou(e,t,n){for(var o=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=o.length?o[o.length-1]:null,i=r,a=0;a<o.length;a++){var s=o[a];if(s.dataset.precedence===t)i=s;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ru(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Lu=null;function zu(e,t,n){if(null===Lu){var o=new Map,r=Lu=new Map;r.set(n,o)}else(o=(r=Lu).get(n))||(o=new Map,r.set(n,o));if(o.has(e))return o;for(o.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var i=n[r];if(!(i[ze]||i[Te]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var s=o.get(a);s?s.push(i):o.set(a,[i])}}return o}function Bu(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Vu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Hu=null;function qu(){}function Uu(){if(this.count--,0===this.count)if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Gu=null;function Wu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Gu=new Map,t.forEach(Ku,e),Gu=null,Uu.call(e))}function Ku(e,t){if(!(4&t.state.loading)){var n=Gu.get(e);if(n)var o=n.get(null);else{n=new Map,Gu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var a=r[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),o=a)}o&&n.set(null,o)}a=(r=t.instance).getAttribute("data-precedence"),(i=n.get(a)||o)===o&&n.set(null,r),n.set(a,r),this.count++,o=Uu.bind(this),r.addEventListener("load",o),r.addEventListener("error",o),i?i.parentNode.insertBefore(r,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Yu={$$typeof:w,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Xu(e,t,n,o,r,i,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=o,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Qu(e,t,n,o,r,i,a,s,l,c,d,u){return e=new Xu(e,t,n,a,s,l,c,u),t=1,!0===i&&(t|=24),i=Fo(3,null,null,t),e.current=i,i.stateNode=e,(t=Mr()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:o,isDehydrated:n,cache:t},oi(i),e}function Ju(e){return e?e=Oo:Oo}function Zu(e,t,n,o,r,i){r=Ju(r),null===o.context?o.context=r:o.pendingContext=r,(o=ii(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(o.callback=i),null!==(n=ai(e,o,t))&&(Rc(n,0,t),si(n,e,t))}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ep(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function tp(e){if(13===e.tag){var t=To(e,67108864);null!==t&&Rc(t,0,67108864),ep(e,67108864)}}var np=!0;function op(e,t,n,o){var r=M.T;M.T=null;var i=O.p;try{O.p=2,ip(e,t,n,o)}finally{O.p=i,M.T=r}}function rp(e,t,n,o){var r=M.T;M.T=null;var i=O.p;try{O.p=8,ip(e,t,n,o)}finally{O.p=i,M.T=r}}function ip(e,t,n,o){if(np){var r=ap(o);if(null===r)Hd(e,t,o,sp,n),yp(e,o);else if(function(e,t,n,o,r){switch(t){case"focusin":return up=xp(up,e,t,n,o,r),!0;case"dragenter":return pp=xp(pp,e,t,n,o,r),!0;case"mouseover":return hp=xp(hp,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return fp.set(i,xp(fp.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,mp.set(i,xp(mp.get(i)||null,e,t,n,o,r)),!0}return!1}(r,e,t,n,o))o.stopPropagation();else if(yp(e,o),4&t&&-1<vp.indexOf(e)){for(;null!==r;){var i=He(r);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=ye(i.pendingLanes);if(0!==a){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-he(a);s.entanglements[1]|=l,a&=~l}kd(i),0===(6&nc)&&(kc=te()+500,Cd(0,!1))}}break;case 13:null!==(s=To(i,2))&&Rc(s,0,2),Vc(),ep(i,2)}if(null===(i=ap(o))&&Hd(e,t,o,sp,n),i===r)break;r=i}null!==r&&o.stopPropagation()}else Hd(e,t,o,null,n)}}function ap(e){return lp(e=Nt(e))}var sp=null;function lp(e){if(sp=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sp=e,null}function cp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case oe:return 2;case re:return 8;case ie:case ae:return 32;case se:return 268435456;default:return 32}default:return 32}}var dp=!1,up=null,pp=null,hp=null,fp=new Map,mp=new Map,gp=[],vp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yp(e,t){switch(e){case"focusin":case"focusout":up=null;break;case"dragenter":case"dragleave":pp=null;break;case"mouseover":case"mouseout":hp=null;break;case"pointerover":case"pointerout":fp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mp.delete(t.pointerId)}}function xp(e,t,n,o,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=He(t))&&tp(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function bp(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,(function(){if(13===n.tag){var e=Mc();e=je(e);var t=To(n,e);null!==t&&Rc(t,0,e),ep(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ap(e.nativeEvent);if(null!==n)return null!==(t=He(n))&&tp(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);Dt=o,n.target.dispatchEvent(o),Dt=null,t.shift()}return!0}function kp(e,t,n){wp(e)&&n.delete(t)}function Cp(){dp=!1,null!==up&&wp(up)&&(up=null),null!==pp&&wp(pp)&&(pp=null),null!==hp&&wp(hp)&&(hp=null),fp.forEach(kp),mp.forEach(kp)}function Sp(e,t){e.blockedOn===t&&(e.blockedOn=null,dp||(dp=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Cp)))}var Ip=null;function Ep(e){Ip!==e&&(Ip=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,(function(){Ip===e&&(Ip=null);for(var t=0;t<e.length;t+=3){var n=e[t],o=e[t+1],r=e[t+2];if("function"!==typeof o){if(null===lp(o||n))continue;break}var i=He(n);null!==i&&(e.splice(t,3),t-=3,Na(i,{pending:!0,data:r,method:n.method,action:o},o,r))}})))}function _p(e){function t(t){return Sp(t,e)}null!==up&&Sp(up,e),null!==pp&&Sp(pp,e),null!==hp&&Sp(hp,e),fp.forEach(t),mp.forEach(t);for(var n=0;n<gp.length;n++){var o=gp[n];o.blockedOn===e&&(o.blockedOn=null)}for(;0<gp.length&&null===(n=gp[0]).blockedOn;)bp(n),null===n.blockedOn&&gp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(o=0;o<n.length;o+=3){var r=n[o],i=n[o+1],a=r[Pe]||null;if("function"===typeof i)a||Ep(n);else if(a){var s=null;if(i&&i.hasAttribute("formAction")){if(r=i,a=i[Pe]||null)s=a.formAction;else if(null!==lp(r))continue}else s=a.action;"function"===typeof s?n[o+1]=s:(n.splice(o,3),o-=3),Ep(n)}}}function jp(e){this._internalRoot=e}function Ap(e){this._internalRoot=e}Ap.prototype.render=jp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Zu(t.current,Mc(),e,t,null,null)},Ap.prototype.unmount=jp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zu(e.current,2,null,e,null,null),Vc(),t[Me]=null}},Ap.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gp.length&&0!==t&&t<gp[n].priority;n++);gp.splice(n,0,e),0===n&&bp(e)}};var Dp=r.version;if("19.1.0"!==Dp)throw Error(a(527,Dp,"19.1.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(o=r.return)){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return d(r),e;if(i===o)return d(r),t;i=i.sibling}throw Error(a(188))}if(n.return!==o.return)n=r,o=i;else{for(var s=!1,c=r.child;c;){if(c===n){s=!0,n=r,o=i;break}if(c===o){s=!0,o=r,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,o=r;break}if(c===o){s=!0,o=i,n=r;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==o)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Np={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tp.isDisabled&&Tp.supportsFiber)try{de=Tp.inject(Np),ue=Tp}catch(Mp){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,o="",r=ys,i=xs,l=bs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qu(e,1,!1,null,0,n,o,r,i,l,0,null),e[Me]=t.current,Bd(e),new jp(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var o=!1,r="",i=ys,l=xs,c=bs,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(t=Qu(e,1,!0,t,0,o,r,i,l,c,0,d)).context=Ju(null),n=t.current,(r=ii(o=je(o=Mc()))).callback=null,ai(n,r,o),n=o,t.current.lanes=n,Ie(t,n),kd(t),e[Me]=t.current,Bd(e),new Ap(t)},t.version="19.1.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},173:(e,t,n)=>{e.exports=n(497)()},175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,o=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function d(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function S(e,t,o,r,i,a){return o=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==o?o:null,props:a}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(){}function A(e,t,r,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(s){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case o:d=!0;break;case p:return A((d=e._init)(e._payload),t,r,i,a)}}if(d)return a=a(e),d=""===i?"."+_(e,0):i,w(a)?(r="",null!=d&&(r=d.replace(E,"$&/")+"/"),A(a,t,r,"",(function(e){return e}))):null!=a&&(I(a)&&(l=a,c=r+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+d,a=S(l.type,c,void 0,0,0,l.props)),t.push(a)),1;d=0;var u,f=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)d+=A(i=e[m],t,r,s=f+_(i,m),a);else if("function"===typeof(m=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=h&&u[h]||u["@@iterator"])?u:null))for(e=m.call(e),m=0;!(i=e.next()).done;)d+=A(i=i.value,t,r,s=f+_(i,m++),a);else if("object"===s){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(j,j):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function D(e,t,n){if(null==e)return e;var o=[],r=0;return A(e,o,"","",(function(e){return t.call(n,e,r++)})),o}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=a,t.PureComponent=x,t.StrictMode=i,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var o=m({},e.props),r=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!C.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(o[i]=t[i]);var i=arguments.length-2;if(1===i)o.children=n;else if(1<i){for(var a=Array(i),s=0;s<i;s++)a[s]=arguments[s+2];o.children=a}return S(e.type,r,void 0,0,0,o)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var o,r={},i=null;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)C.call(t,o)&&"key"!==o&&"__self"!==o&&"__source"!==o&&(r[o]=t[o]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];r.children=s}if(e&&e.defaultProps)for(o in a=e.defaultProps)void 0===r[o]&&(r[o]=a[o]);return S(e,i,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var o=e(),r=k.S;null!==r&&r(n,o),"object"===typeof o&&null!==o&&"function"===typeof o.then&&o.then(P,T)}catch(i){T(i)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var o=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return o.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},497:(e,t,n)=>{"use strict";var o=n(218);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var o=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,o=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:o,integrity:r,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:o,integrity:r,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,o=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:o,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function r(e,t,o){var r=null;if(void 0!==o&&(r=""+o),void 0!==t.key&&(r=""+t.key),"key"in t)for(var i in o={},t)"key"!==i&&(o[i]=t[i]);else o=t;return t=o.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:o}}t.Fragment=o,t.jsx=r,t.jsxs=r},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,r=e[o];if(!(0<i(r,t)))break e;e[o]=t,e[n]=r,n=o}}function o(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,r=e.length,a=r>>>1;o<a;){var s=2*(o+1)-1,l=e[s],c=s+1,d=e[c];if(0>i(l,n))c<r&&0>i(d,l)?(e[o]=d,e[c]=n,o=c):(e[o]=l,e[s]=n,o=s);else{if(!(c<r&&0>i(d,n)))break e;e[o]=d,e[c]=n,o=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,p=null,h=3,f=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=o(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=o(d)}}function k(e){if(g=!1,w(e),!m)if(null!==o(c))m=!0,S||(S=!0,C());else{var t=o(d);null!==t&&T(k,t.startTime-e)}}var C,S=!1,I=-1,E=5,_=-1;function j(){return!!v||!(t.unstable_now()-_<E)}function A(){if(v=!1,S){var e=t.unstable_now();_=e;var n=!0;try{e:{m=!1,g&&(g=!1,x(I),I=-1),f=!0;var i=h;try{t:{for(w(e),p=o(c);null!==p&&!(p.expirationTime>e&&j());){var a=p.callback;if("function"===typeof a){p.callback=null,h=p.priorityLevel;var s=a(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){p.callback=s,w(e),n=!0;break t}p===o(c)&&r(c),w(e)}else r(c);p=o(c)}if(null!==p)n=!0;else{var l=o(d);null!==l&&T(k,l.startTime-e),n=!1}}break e}finally{p=null,h=i,f=!1}n=void 0}}finally{n?C():S=!1}}}if("function"===typeof b)C=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,N=D.port2;D.port1.onmessage=A,C=function(){N.postMessage(null)}}else C=function(){y(A,0)};function T(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(d,e),null===o(c)&&e===o(d)&&(g?(x(I),I=-1):g=!0,T(k,i-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,S||(S=!0,C()))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&o;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>o[e]));return a.default=()=>o,n.d(i,a),i}})(),n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,o)=>(n.f[o](e,t),t)),[])),n.u=e=>"static/js/"+e+".b094ecea.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="accounting_react:";n.l=(o,r,i,a)=>{if(e[o])e[o].push(r);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=o),e[o]=[r];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var r=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(n))),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,o)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var i=new Promise(((n,o)=>r=e[t]=[n,o]));o.push(r[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(o=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=(t,o)=>{var r,i,a=o[0],s=o[1],l=o[2],c=0;if(a.some((t=>0!==e[t]))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)l(n)}for(t&&t(o);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},o=self.webpackChunkaccounting_react=self.webpackChunkaccounting_react||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{DEG_TO_RAD:()=>xT,LRUCache:()=>XT,MAX_NUM:()=>bT,MIN_NUM:()=>wT,TextMetrics:()=>rP,append:()=>hT,arabicToRoman:()=>mT,bindEvents:()=>RT,createPromise:()=>gT,defined:()=>kN,definitionId:()=>yT,deg:()=>kT,elementOffset:()=>FT,elementPadding:()=>HT,elementScale:()=>KT,elementSize:()=>BT,elementStyles:()=>LT,encodeBase64:()=>IT,eventCoordinates:()=>ET,eventElement:()=>_T,hashKey:()=>eP,isTransparent:()=>jT,last:()=>AT,limitValue:()=>DT,measureText:()=>iP,mergeSort:()=>NT,normalizeText:()=>ZT,now:()=>TT,objectKey:()=>$T,promiseAll:()=>PT,rad:()=>MT,round:()=>eT,unbindEvents:()=>VT,valueOrDefault:()=>OT});var t={};n.r(t),n.d(t,{easeOutElastic:()=>eF,linear:()=>$R,swing:()=>ZR});var o=n(43),r=n.t(o,2),i=n(391);function a(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}function s(e,t){if(null==e)return{};var n,o,r=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function d(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(175);const h=["sri"],f=["page"],m=["page","matches"],g=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],v=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var x="popstate";function b(){return _((function(e,t){let{pathname:n,search:o,hash:r}=e.location;return S("",{pathname:n,search:o,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:I(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function k(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(co){}}}function C(e,t){return{usr:e.state,key:e.key,idx:t}}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0;return p(p({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t),{},{state:n,key:t&&t.key||o||Math.random().toString(36).substring(2,10)})}function I(e){let{pathname:t="/",search:n="",hash:o=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(t+="#"===o.charAt(0)?o:"#"+o),t}function E(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function _(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:i=!1}=o,a=r.history,s="POP",l=null,c=d();function d(){return(a.state||{idx:null}).idx}function u(){s="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:s,location:f.location,delta:t})}function h(e){return j(e)}null==c&&(c=0,a.replaceState(p(p({},a.state),{},{idx:c}),""));let f={get action(){return s},get location(){return e(r,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(x,u),l=e,()=>{r.removeEventListener(x,u),l=null}},createHref:e=>t(r,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let o=S(f.location,e,t);n&&n(o,e),c=d()+1;let u=C(o,c),p=f.createHref(o);try{a.pushState(u,"",p)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;r.location.assign(p)}i&&l&&l({action:s,location:f.location,delta:1})},replace:function(e,t){s="REPLACE";let o=S(f.location,e,t);n&&n(o,e),c=d();let r=C(o,c),u=f.createHref(o);a.replaceState(r,"",u),i&&l&&l({action:s,location:f.location,delta:0})},go:e=>a.go(e)};return f}function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let o="string"===typeof e?e:I(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=n+o),new URL(o,n)}new WeakMap;function A(e,t){return D(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function D(e,t,n,o){let r=G(("string"===typeof t?E(t):t).pathname||"/",n);if(null==r)return null;let i=N(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=U(r);a=V(i[s],e,o)}return a}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=(e,r,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};a.relativePath.startsWith("/")&&(w(a.relativePath.startsWith(o),'Absolute route path "'.concat(a.relativePath,'" nested under path "').concat(o,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),a.relativePath=a.relativePath.slice(o.length));let s=Q([o,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(s,'".')),N(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:B(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let o of T(e.path))r(e,t,o);else r(e,t)})),t}function T(e){let t=e.split("/");if(0===t.length)return[];let[n,...o]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===o.length)return r?[i,""]:[i];let a=T(o.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),r&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var P=/^:[\w-]+$/,M=3,O=2,R=1,F=10,L=-2,z=e=>"*"===e;function B(e,t){let n=e.split("/"),o=n.length;return n.some(z)&&(o+=L),t&&(o+=O),n.filter((e=>!z(e))).reduce(((e,t)=>e+(P.test(t)?M:""===t?R:F)),o)}function V(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:o}=e,r={},i="/",a=[];for(let s=0;s<o.length;++s){let e=o[s],l=s===o.length-1,c="/"===i?t:t.slice(i.length)||"/",d=H({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!o[o.length-1].route.index&&(d=H({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),a.push({params:r,pathname:Q([i,d.pathname]),pathnameBase:J(Q([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=Q([i,d.pathnameBase]))}return a}function H(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=q(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),s=r.slice(1),l=o.reduce(((e,t,n)=>{let{paramName:o,isOptional:r}=t;if("*"===o){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[o]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:i,pathnameBase:a,pattern:e}}function q(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];k("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let o=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(o.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(o.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),o]}function U(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return k(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function G(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&"/"!==o?null:e.slice(n)||"/"}function W(e,t,n,o){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(o),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function K(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Y(e){let t=K(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function X(e,t,n){let o,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?o=E(e):(o=p({},e),w(!o.pathname||!o.pathname.includes("?"),W("?","pathname","search",o)),w(!o.pathname||!o.pathname.includes("#"),W("#","pathname","hash",o)),w(!o.search||!o.search.includes("#"),W("#","search","hash",o)));let i,a=""===e||""===o.pathname,s=a?"/":o.pathname;if(null==s)i=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:o="",hash:r=""}="string"===typeof e?E(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:Z(o),hash:$(r)}}(o,i),c=s&&"/"!==s&&s.endsWith("/"),d=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var Q=e=>e.join("/").replace(/\/\/+/g,"/"),J=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var te=["POST","PUT","PATCH","DELETE"],ne=(new Set(te),["GET",...te]);new Set(ne),Symbol("ResetLoaderData");var oe=o.createContext(null);oe.displayName="DataRouter";var re=o.createContext(null);re.displayName="DataRouterState";var ie=o.createContext({isTransitioning:!1});ie.displayName="ViewTransition";var ae=o.createContext(new Map);ae.displayName="Fetchers";var se=o.createContext(null);se.displayName="Await";var le=o.createContext(null);le.displayName="Navigation";var ce=o.createContext(null);ce.displayName="Location";var de=o.createContext({outlet:null,matches:[],isDataRoute:!1});de.displayName="Route";var ue=o.createContext(null);ue.displayName="RouteError";function pe(){return null!=o.useContext(ce)}function he(){return w(pe(),"useLocation() may be used only in the context of a <Router> component."),o.useContext(ce).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function me(e){o.useContext(le).static||o.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=o.useContext(de);return e?function(){let{router:e}=Ee("useNavigate"),t=je("useNavigate"),n=o.useRef(!1);me((()=>{n.current=!0}));let r=o.useCallback((async function(o){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(n.current,fe),n.current&&("number"===typeof o?e.navigate(o):await e.navigate(o,p({fromRouteId:t},r)))}),[e,t]);return r}():function(){w(pe(),"useNavigate() may be used only in the context of a <Router> component.");let e=o.useContext(oe),{basename:t,navigator:n}=o.useContext(le),{matches:r}=o.useContext(de),{pathname:i}=he(),a=JSON.stringify(Y(r)),s=o.useRef(!1);me((()=>{s.current=!0}));let l=o.useCallback((function(o){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(k(s.current,fe),!s.current)return;if("number"===typeof o)return void n.go(o);let l=X(o,JSON.parse(a),i,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Q([t,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)}),[t,n,a,i,e]);return l}()}o.createContext(null);function ve(){let{matches:e}=o.useContext(de),t=e[e.length-1];return t?t.params:{}}function ye(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=o.useContext(de),{pathname:r}=he(),i=JSON.stringify(Y(n));return o.useMemo((()=>X(e,JSON.parse(i),r,"path"===t)),[e,i,r,t])}function xe(e,t,n,r){w(pe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=o.useContext(le),{matches:s}=o.useContext(de),l=s[s.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";Ne(d,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=he();if(t){var g;let e="string"===typeof t?E(t):t;w("/"===u||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let v=f.pathname||"/",y=v;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!a&&n&&n.matches&&n.matches.length>0?n.matches:A(e,{pathname:y});k(h||null!=x,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),k(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let b=Se(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Q([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Q([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,r);return t&&b?o.createElement(ce.Provider,{value:{location:p({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},b):b}function be(){let e=Ae(),t=ee(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=o.createElement(o.Fragment,null,o.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),o.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",o.createElement("code",{style:a},"ErrorBoundary")," or"," ",o.createElement("code",{style:a},"errorElement")," prop on your route.")),o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:i},n):null,s)}var we=o.createElement(be,null),ke=class extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(de.Provider,{value:this.props.routeContext},o.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ce(e){let{routeContext:t,match:n,children:r}=e,i=o.useContext(oe);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(de.Provider,{value:t},r)}function Se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=r.findIndex((e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id])));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let a=!1,s=-1;if(n)for(let o=0;o<r.length;o++){let e=r[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=o),e.route.id){let{loaderData:t,errors:o}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!o||void 0===o[e.route.id]);if(e.route.lazy||i){a=!0,r=s>=0?r.slice(0,s+1):[r[0]];break}}}return r.reduceRight(((e,l,c)=>{let d,u=!1,p=null,h=null;n&&(d=i&&l.route.id?i[l.route.id]:void 0,p=l.route.errorElement||we,a&&(s<0&&0===c?(Ne("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,h=null):s===c&&(u=!0,h=l.route.hydrateFallbackElement||null)));let f=t.concat(r.slice(0,c+1)),m=()=>{let t;return t=d?p:u?h:l.route.Component?o.createElement(l.route.Component,null):l.route.element?l.route.element:e,o.createElement(Ce,{match:l,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?o.createElement(ke,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}function Ie(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ee(e){let t=o.useContext(oe);return w(t,Ie(e)),t}function _e(e){let t=o.useContext(re);return w(t,Ie(e)),t}function je(e){let t=function(e){let t=o.useContext(de);return w(t,Ie(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ae(){var e;let t=o.useContext(ue),n=_e("useRouteError"),r=je("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var De={};function Ne(e,t,n){t||De[e]||(De[e]=!0,k(!1,n))}o.memo((function(e){let{routes:t,future:n,state:o}=e;return xe(t,void 0,o,n)}));function Te(e){let{to:t,replace:n,state:r,relative:i}=e;w(pe(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=o.useContext(le);k(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=o.useContext(de),{pathname:l}=he(),c=ge(),d=X(t,Y(s),l,"path"===i),u=JSON.stringify(d);return o.useEffect((()=>{c(JSON.parse(u),{replace:n,state:r,relative:i})}),[c,u,i,n,r]),null}function Pe(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Me(e){let{basename:t="/",children:n=null,location:r,navigationType:i="POP",navigator:a,static:s=!1}=e;w(!pe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=o.useMemo((()=>({basename:l,navigator:a,static:s,future:{}})),[l,a,s]);"string"===typeof r&&(r=E(r));let{pathname:d="/",search:u="",hash:p="",state:h=null,key:f="default"}=r,m=o.useMemo((()=>{let e=G(d,l);return null==e?null:{location:{pathname:e,search:u,hash:p,state:h,key:f},navigationType:i}}),[l,d,u,p,h,f,i]);return k(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(u).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:o.createElement(le.Provider,{value:c},o.createElement(ce.Provider,{children:n,value:m}))}function Oe(e){let{children:t,location:n}=e;return xe(Re(t),n)}o.Component;function Re(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return o.Children.forEach(e,((e,r)=>{if(!o.isValidElement(e))return;let i=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,Re(e.props.children,i));w(e.type===Pe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Re(e.props.children,i)),n.push(a)})),n}var Fe="get",Le="application/x-www-form-urlencoded";function ze(e){return null!=e&&"string"===typeof e.tagName}var Be=null;var Ve=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function He(e){return null==e||Ve.has(e)?e:(k(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Le,'"')),null)}function qe(e,t){let n,o,r,i,a;if(ze(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");o=a?G(a,t):null,n=e.getAttribute("method")||Fe,r=He(e.getAttribute("enctype"))||Le,i=new FormData(e)}else if(function(e){return ze(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ze(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(o=s?G(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Fe,r=He(e.getAttribute("formenctype"))||He(a.getAttribute("enctype"))||Le,i=new FormData(a,e),!function(){if(null===Be)try{new FormData(document.createElement("form"),0),Be=!1}catch(co){Be=!0}return Be}()){let{name:t,type:n,value:o}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,o)}}else{if(ze(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fe,o=null,r=Le,a=e}var s;return i&&"text/plain"===r&&(a=i,i=void 0),{action:o,method:n.toLowerCase(),encType:r,formData:i,body:a}}function Ue(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ge(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function We(e){return null!=e&&"string"===typeof e.page}function Ke(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ye(e,t,n,o,r,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var o;return n[t].pathname!==e.pathname||(null===(o=n[t].route.path)||void 0===o?void 0:o.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter(((e,t)=>a(e,t)||s(e,t))):"data"===i?t.filter(((t,i)=>{let l=o.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){var c;let o=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof o)return o}return!0})):[]}function Xe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o=e.map((e=>{let o=t.routes[e.route.id];if(!o)return[];let r=[o.module];return o.clientActionModule&&(r=r.concat(o.clientActionModule)),o.clientLoaderModule&&(r=r.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(r=r.concat(o.hydrateFallbackModule)),o.imports&&(r=r.concat(o.imports)),r})).flat(1),[...new Set(o)];var o}function Qe(e,t){let n=new Set,o=new Set(t);return e.reduce(((e,r)=>{if(t&&!We(r)&&"script"===r.as&&r.href&&o.has(r.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let o of n)t[o]=e[o];return t}(r));return n.has(i)||(n.add(i),e.push({key:i,link:r})),e}),[])}function Je(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Ze=new Set([100,101,204,205]);function $e(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===G(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}o.Component;function et(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,i=o.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ee(t))return o.createElement(tt,{title:"Unhandled Thrown Response!"},o.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return o.createElement(tt,{title:"Application Error!",isOutsideRemixApp:n},o.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),o.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),i)}function tt(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:i,children:a}=e,{routeModules:s}=at();return null!==s.root&&void 0!==t&&t.Layout&&!i?a:o.createElement("html",{lang:"en"},o.createElement("head",null,o.createElement("meta",{charSet:"utf-8"}),o.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),o.createElement("title",null,n)),o.createElement("body",null,o.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,r?o.createElement(ht,null):null)))}function nt(e,t){return"lazy"===e.mode&&!0===t}function ot(){let e=o.useContext(oe);return Ue(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rt(){let e=o.useContext(re);return Ue(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var it=o.createContext(void 0);function at(){let e=o.useContext(it);return Ue(e,"You must render this element inside a <HydratedRouter> element"),e}function st(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lt(e,t,n){if(n&&!pt)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function ct(e){let{page:t}=e,n=s(e,f),{router:r}=ot(),i=o.useMemo((()=>A(r.routes,t,r.basename)),[r.routes,t,r.basename]);return i?o.createElement(ut,p({page:t,matches:i},n)):null}function dt(e){let{manifest:t,routeModules:n}=at(),[r,i]=o.useState([]);return o.useEffect((()=>{let o=!1;return async function(e,t,n){return Qe((await Promise.all(e.map((async e=>{let o=t.routes[e.route.id];if(o){let e=await Ge(o,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ke).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?p(p({},e),{},{rel:"prefetch",as:"style"}):p(p({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{o||i(e)})),()=>{o=!0}}),[e,t,n]),r}function ut(e){let{page:t,matches:n}=e,r=s(e,m),i=he(),{manifest:a,routeModules:l}=at(),{basename:c}=ot(),{loaderData:d,matches:u}=rt(),h=o.useMemo((()=>Ye(t,n,u,a,i,"data")),[t,n,u,a,i]),f=o.useMemo((()=>Ye(t,n,u,a,i,"assets")),[t,n,u,a,i]),g=o.useMemo((()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,o=!1;if(n.forEach((t=>{var n;let r=a.routes[t.route.id];r&&r.hasLoader&&(!h.some((e=>e.route.id===t.route.id))&&t.route.id in d&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||r.hasClientLoader?o=!0:e.add(t.route.id))})),0===e.size)return[];let r=$e(t,c);return o&&e.size>0&&r.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[r.pathname+r.search]}),[c,d,i,a,h,n,t,l]),v=o.useMemo((()=>Xe(f,a)),[f,a]),y=dt(f);return o.createElement(o.Fragment,null,g.map((e=>o.createElement("link",p({key:e,rel:"prefetch",as:"fetch",href:e},r)))),v.map((e=>o.createElement("link",p({key:e,rel:"modulepreload",href:e},r)))),y.map((e=>{let{key:t,link:n}=e;return o.createElement("link",p({key:t},n))})))}it.displayName="FrameworkContext";var pt=!1;function ht(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:i,routeDiscovery:a,ssr:l}=at(),{router:c,static:d,staticContext:u}=ot(),{matches:f}=rt(),m=nt(a,l);i&&(i.didRenderScripts=!0);let g=lt(f,null,r);o.useEffect((()=>{0}),[]);let v=o.useMemo((()=>{var r;let i=u?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=d?"".concat(null!==t.hmr&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map(((e,n)=>{let o="route".concat(n),r=t.routes[e.route.id];Ue(r,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=r,d=[...i?[{module:i,varName:"".concat(o,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(o,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(o,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(o,"_HydrateFallback")}]:[],{module:c,varName:"".concat(o,"_main")}];return 1===d.length?"import * as ".concat(o," from ").concat(JSON.stringify(c),";"):[d.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(o," = {").concat(d.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,o=s(e,h),r=new Set(t.state.matches.map((e=>e.route.id))),i=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(i.pop();i.length>0;)a.push("/".concat(i.join("/"))),i.pop();a.forEach((e=>{let n=A(t.routes,e,t.basename);n&&n.forEach((e=>r.add(e.route.id)))}));let l=[...r].reduce(((e,t)=>Object.assign(e,{[t]:o.routes[t]})),{});return p(p({},o),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return o.createElement(o.Fragment,null,o.createElement("script",p(p({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Je(i),type:void 0})),o.createElement("script",p(p({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Je(a),type:"module",async:!0})))}),[]),y=pt?[]:(t.entry.imports.concat(Xe(g,t,{includeHydrateFallback:!0})),[...new Set(x)]);var x;let b="object"===typeof t.sri?t.sri:{};return pt?null:o.createElement(o.Fragment,null,"object"===typeof t.sri?o.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,m?null:o.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:b[t.url],suppressHydrationWarning:!0}),o.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:b[t.entry.module],suppressHydrationWarning:!0}),y.map((t=>o.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:b[t],suppressHydrationWarning:!0}))),v)}function ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var mt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{mt&&(window.__reactRouterVersion="7.6.0")}catch(co){}function gt(e){let{basename:t,children:n,window:r}=e,i=o.useRef();null==i.current&&(i.current=b({window:r,v5Compat:!0}));let a=i.current,[s,l]=o.useState({action:a.action,location:a.location}),c=o.useCallback((e=>{o.startTransition((()=>l(e)))}),[l]);return o.useLayoutEffect((()=>a.listen(c)),[a,c]),o.createElement(Me,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a})}var vt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=o.forwardRef((function(e,t){let n,{onClick:r,discover:i="render",prefetch:a="none",relative:l,reloadDocument:c,replace:d,state:u,target:h,to:f,preventScrollReset:m,viewTransition:v}=e,y=s(e,g),{basename:x}=o.useContext(le),b="string"===typeof f&&vt.test(f),C=!1;if("string"===typeof f&&b&&(n=f,mt))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=G(t.pathname,x);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:C=!0}catch(co){k(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(pe(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=o.useContext(le),{hash:i,pathname:a,search:s}=ye(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:Q([n,a])),r.createHref({pathname:l,search:s,hash:i})}(f,{relative:l}),[E,_,j]=function(e,t){let n=o.useContext(it),[r,i]=o.useState(!1),[a,s]=o.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:p}=t,h=o.useRef(null);o.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}}),[e]),o.useEffect((()=>{if(r){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let f=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?"intent"!==e?[a,h,{}]:[a,h,{onFocus:st(l,f),onBlur:st(c,m),onMouseEnter:st(d,f),onMouseLeave:st(u,m),onTouchStart:st(p,f)}]:[!1,h,{}]}(a,y),A=function(e){let{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ge(),c=he(),d=ye(e,{relative:a});return o.useCallback((o=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(o,t)){o.preventDefault();let t=void 0!==n?n:I(c)===I(d);l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:s})}}),[c,l,d,n,r,t,e,i,a,s])}(f,{replace:d,state:u,target:h,preventScrollReset:m,relative:l,viewTransition:v});let D=o.createElement("a",p(p(p({},y),j),{},{href:n||S,onClick:C||c?r:function(e){r&&r(e),e.defaultPrevented||A(e)},ref:ft(t,_),target:h,"data-discover":b||"render"!==i?void 0:"true"}));return E&&!b?o.createElement(o.Fragment,null,D,o.createElement(ct,{page:S})):D}));yt.displayName="Link";var xt=o.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:u}=e,h=s(e,v),f=ye(c,{relative:h.relative}),m=he(),g=o.useContext(re),{navigator:y,basename:x}=o.useContext(le),b=null!=g&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.useContext(ie);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kt("useViewTransitionState"),i=ye(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=G(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=G(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=H(i.pathname,s)||null!=H(i.pathname,a)}(f)&&!0===d,k=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,C=m.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(C=C.toLowerCase(),S=S?S.toLowerCase():null,k=k.toLowerCase()),S&&x&&(S=G(S,x)||S);const I="/"!==k&&k.endsWith("/")?k.length-1:k.length;let E,_=C===k||!a&&C.startsWith(k)&&"/"===C.charAt(I),j=null!=S&&(S===k||!a&&S.startsWith(k)&&"/"===S.charAt(k.length)),A={isActive:_,isPending:j,isTransitioning:b},D=_?n:void 0;E="function"===typeof i?i(A):[i,_?"active":null,j?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof l?l(A):l;return o.createElement(yt,p(p({},h),{},{"aria-current":D,className:E,ref:t,style:N,to:c,viewTransition:d}),"function"===typeof u?u(A):u)}));xt.displayName="NavLink";var bt=o.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:i,reloadDocument:a,replace:l,state:c,method:d=Fe,action:u,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:g}=e,v=s(e,y),x=It(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=o.useContext(le),r=o.useContext(de);w(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a=p({},ye(e||".",{relative:t})),s=he();if(null==e){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:Q([n,a.pathname]));return I(a)}(u,{relative:f}),k="get"===d.toLowerCase()?"get":"post",C="string"===typeof u&&vt.test(u);return o.createElement("form",p(p({ref:t,method:k,action:b,onSubmit:a?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:r,method:n,navigate:i,replace:l,state:c,relative:f,preventScrollReset:m,viewTransition:g})}},v),{},{"data-discover":C||"render"!==n?void 0:"true"}))}));function wt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function kt(e){let t=o.useContext(oe);return w(t,wt(e)),t}bt.displayName="Form";var Ct=0,St=()=>"__".concat(String(++Ct),"__");function It(){let{router:e}=kt("useSubmit"),{basename:t}=o.useContext(le),n=je("useRouteId");return o.useCallback((async function(o){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:s,formData:l,body:c}=qe(o,t);if(!1===r.navigate){let t=r.fetcherKey||St();await e.fetch(t,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||a,formEncType:r.encType||s,flushSync:r.flushSync})}else await e.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:l,body:c,formMethod:r.method||a,formEncType:r.encType||s,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})}),[e,t,n])}var Et=n(173);const _t=8,jt=9,At=13,Dt=27,Nt=32,Tt=33,Pt=34,Mt=35,Ot=36,Rt=37,Ft=38,Lt=39,zt=40,Bt=46,Vt=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,Ht=":not(.k-dropdownlist button):not(.k-colorpicker button):not(.k-numerictextbox button):not(.k-split-button .k-split-button-arrow)",qt=":not(.k-dropdownlist select)",Ut=["input:not([disabled]):not([type=hidden])","select:not([disabled]):not(.k-dropdownlist select)","textarea:not([disabled])","button:not([disabled])".concat(Ht),"a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Gt=[...Ut,"[tabindex]".concat(Ht).concat(qt)],Wt=[...Ut,"[tabindex]".concat(Ht).concat(qt)].map((e=>e+':not([tabindex="-1"])')),Kt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gt;return e.querySelectorAll(t.join(","))},Yt=function(e){if(e){const t=Kt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gt);if(t.length&&t[0].focus)return t[0]}},Xt=function(e){if(e){const t=Kt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gt);if(t.length&&t[t.length-1].focus)return t[t.length-1]}},Qt=(e,t)=>{if(e){const n=Yt(e,t);n&&n.focus()}},Jt=(e,t,n)=>{if(t&&e.keyCode===jt&&t){const o=Yt(t,n),r=Xt(t,n);o&&r&&!e.shiftKey&&e.target===r&&(e.preventDefault(),o.focus()),o&&r&&e.shiftKey&&e.target===o&&(e.preventDefault(),r.focus()),o||e.preventDefault()}},Zt=(e,t)=>{const n=Kt(e,t);n&&n.forEach((e=>{e.tabIndex=0}))},$t=(e,t)=>{const n=Kt(e,t);n&&n.forEach((e=>{e.tabIndex=-1}))},en=()=>{let e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,(8===e||12===e||16===e||20===e)&&(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n},tn="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;function nn(e){const[t,n]=o.useState(!1);o.useEffect((()=>{n(!0)}),[]);const[i,a]=o.useState((()=>e||(t?en():void 0)));tn((()=>{void 0===i&&a(en())}),[]);const s=r["useId".concat(en()).slice(0,5)];if(void 0!==s){const t=s();return null!=e?e:t}return i}const on=function(){const e={},t=n=>n.filter((e=>!0!==e&&!!e)).map((n=>Array.isArray(n)?t(n):(t=>"object"==typeof t?Object.keys(t).forEach((n=>{e[n]=t[n]})):e[t]=!0)(n)));for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t(o),Object.keys(e).map((t=>e[t]&&t||null)).filter((e=>null!==e)).join(" ")},rn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return on(t).replace(/[^[\]a-zA-Z0-9-_!: ]/g,"")},an=o.forwardRef(((e,t)=>{const{children:n,className:r,style:i,id:a}=e,s=o.useRef(null),l=o.useCallback((()=>{s.current&&Qt(s.current)}),[]),c=o.useCallback((()=>({element:s.current,focus:l})),[l]);o.useImperativeHandle(t,c);const d=nn(),u=o.useMemo((()=>e.themeColor||sn.themeColor),[e.themeColor]),p=o.useMemo((()=>e.position||sn.position),[e.position]),h=o.useMemo((()=>e.positionMode||sn.positionMode),[e.positionMode]),f=o.useMemo((()=>on("k-appbar",{"k-appbar-top":"top"===p,"k-appbar-bottom":"bottom"===p,"k-appbar-static":"static"===h,"k-appbar-sticky":"sticky"===h,"k-appbar-fixed":"fixed"===h,["k-appbar-".concat(u)]:!!u},r)),[p,h,u,r]);return o.createElement("div",{className:f,style:i,id:a||d},n)}));an.propTypes={children:Et.any,className:Et.string,style:Et.object,id:Et.string,themeColor:Et.string,position:Et.oneOf(["top","bottom"]),positionMode:Et.oneOf(["static","sticky","fixed"])};const sn={themeColor:"light",position:"top",positionMode:"static"};an.displayName="KendoAppBar";const ln=o.forwardRef(((e,t)=>{const{children:n,className:r,style:i}=e,a=o.useRef(null),s=o.useCallback((()=>{a.current&&Qt(a.current)}),[]),l=o.useCallback((()=>({element:a.current,focus:s})),[s]);o.useImperativeHandle(t,l);const c=o.useMemo((()=>on("k-appbar-section",r)),[r]);return o.createElement("div",{className:c,style:i},n)}));ln.propTypes={children:Et.any,className:Et.string,style:Et.object},ln.displayName="KendoAppBarSection";const cn=o.forwardRef(((e,t)=>{const{children:n,className:r,style:i}=e,a=o.useRef(null),s=o.useCallback((()=>{a.current&&Qt(a.current)}),[]),l=o.useCallback((()=>({element:a.current,focus:s})),[s]);o.useImperativeHandle(t,l);const c=o.useMemo((()=>on("k-appbar-spacer",{"k-appbar-spacer-sized":i&&i.width&&null!==i.width},r)),[r,i]),d=o.useMemo((()=>({flexBasis:i&&i.width?i.width:void 0})),[i]);return o.createElement("span",{className:c,style:d},n)}));cn.propTypes={children:Et.any,className:Et.string,style:Et.object},cn.displayName="KendoAppBarSpacer";const dn=(e,t)=>n=>{const{c:o=e}=n;return{[o[t]||""]:!0}},un={prefix:"k",important:"!",rtl:"rtl",rounded:"rounded",value:"value",state:"state",filter:"filter",virtual:"virtual",infinite:"infinite",clear:"clear",reset:"reset",data:"data",nodata:"nodata",scroller:"scroller"},pn={center:"center",hbox:"hbox",vstack:"vstack",hstack:"hstack",overflow:"overflow"},hn={actionsheet:"actionsheet",calendar:"calendar",buttongroup:"buttongroup",dateinput:"dateinput",datetime:"datetime",datetimepicker:"datetimepicker",dropdownlist:"dropdownlist",combobox:"combobox",maskedtextbox:"maskedtextbox",menu:"menu",searchbox:"searchbox",timepicker:"timepicker"},fn={xsmall:"xs",small:"sm",medium:"md",large:"lg",xlarge:"xl",xxlarge:"xxl",xxxlarge:"xxxl"},mn={solid:"solid",outline:"outline",flat:"flat",link:"link",clear:"clear"},gn={base:"base",primary:"primary",secondary:"secondary",tertiary:"tertiary",info:"info",success:"success",warning:"warning",error:"error",dark:"dark",light:"light",inherit:"inherit",inverse:"inverse"},vn={small:"sm",medium:"md",large:"lg",full:"full"},yn={vertical:"vertical",horizontal:"horizontal"},xn={height:"height",width:"width"},bn={default:"cursor-default"},wn={up:"up",down:"down",left:"left",right:"right",start:"start",mid:"mid",end:"end"},kn={actions:"actions",container:"container",content:"content",group:"group",row:"row",nav:"nav",wrap:"wrap",wrapper:"wrapper",list:"list",placeholder:"placeholder",popup:"popup",item:"item",part:"part",picker:"picker",separator:"separator",spacer:"spacer",tab:"tab",titlebar:"titlebar",optionLabel:"optionlabel",view:"view"},Cn={table:"table",text:"text",button:"button",tbody:"tbody",thead:"thead",tr:"tr",th:"th",td:"td",header:"header",footer:"footer",icon:"icon",title:"title",subtitle:"subtitle",link:"link",label:"label",ul:"ul",caption:"caption"},Sn={increase:"increase",decrease:"decrease",cancel:"cancel",accept:"accept",split:"split"},In={active:"active",adaptive:"adaptive",first:"first",focus:"focus",pending:"pending",last:"last",draggable:"draggable",filterable:"filterable",grouping:"grouping",selected:"selected",disabled:"disabled",hidden:"hidden",highlight:"highlight",invalid:"invalid",loading:"loading",required:"required",checked:"checked",empty:"empty",scrollable:"scrollable",sorted:"sorted",sort:"sort",sticky:"sticky",stretched:"stretched",order:"order",alt:"alt",edit:"edit",template:"template",shown:"shown",horizontal:"horizontal",vertical:"vertical",fullscreen:"fullscreen",bottom:"bottom"},En={prefix:"animation",child:"child",relative:"relative",slide:"slide",appear:"appear",active:"active",enter:"enter",exit:"exit",pushRight:"push-right",pushLeft:"push-left",pushDown:"push-down",pushUp:"push-up",expandVertical:"expand-vertical",expandHorizontal:"expand-horizontal",fade:"fade",zoomIn:"zoom-in",zoomOut:"zoom-out",slideIn:"slide-in",slideDown:"slide-down",slideUp:"slide-up",slideRight:"slide-right",slideLeft:"slide-left",revealVertical:"reveal-vertical",revealHorizontal:"reveal-horizontal","animation-container":"animation-container","animation-container-shown":"animation-container-shown","animation-container-relative":"animation-container-relative","animation-container-fixed":"animation-container-fixed","child-animation-container":"child-animation-container"},_n={input:"input",inner:"inner",spin:"spin",spinner:"spinner",maskedtextbox:"maskedtextbox",radio:"radio",textbox:"textbox",prefix:"prefix",suffix:"suffix"},jn={week:"week",weekdays:"weekdays",weekend:"weekend",month:"month",year:"year",decade:"decade",century:"century",number:"number",navigation:"navigation",marker:"marker",now:"now",range:"range",today:"today",other:"other",date:"date",time:"time",selector:"selector",timeselector:"timeselector"},An={prefix:"icon",svg:"svg",i:"i",color:"color",flipH:"flip-h",flipV:"flip-v"},Dn={label:"label",text:"text",floatingLabel:"floating-label",container:"container",hint:"form-hint",error:"form-error"},Nn={form:"form",field:"field"},Tn={prefix:"popup"},Pn={prefix:"grid",ariaRoot:"aria-root",tableWrap:"table-wrap",master:"master",column:"column",cell:"cell",cellInner:"cell-inner",row:"row",group:"group",hierarchy:"hierarchy",detail:"detail",noRecords:"norecords",pager:"pager"},Mn="drop",On="drag",Rn="hint",Fn="h",Ln="clue",zn="reorder",Bn="".concat(un.prefix,"-").concat(_n.input),Vn="".concat(un.prefix,"-").concat(hn.calendar),Hn=("".concat(un.prefix,"-").concat(hn.maskedtextbox),"".concat(un.prefix,"-").concat(_n.radio),"".concat(un.prefix,"-").concat(Cn.button)),qn="".concat(un.prefix,"-").concat(hn.menu),Un="".concat(un.prefix,"-").concat(kn.picker),Gn="".concat(un.prefix,"-").concat(hn.dropdownlist),Wn="".concat(un.prefix,"-").concat(hn.combobox),Kn="".concat(un.prefix,"-").concat(Pn.prefix),Yn={wrapper:{main:Hn,size:{small:"".concat(Hn,"-").concat(fn.small),medium:"".concat(Hn,"-").concat(fn.medium),large:"".concat(Hn,"-").concat(fn.large)},fillMode:{solid:"".concat(Hn,"-").concat(mn.solid),outline:"".concat(Hn,"-").concat(mn.outline),flat:"".concat(Hn,"-").concat(mn.flat),link:"".concat(Hn,"-").concat(mn.link),clear:"".concat(Hn,"-").concat(mn.clear)},themeColor:{base:{fillMode:{solid:"".concat(Hn,"-").concat(mn.solid,"-").concat(gn.base),outline:"".concat(Hn,"-").concat(mn.outline,"-").concat(gn.base),flat:"".concat(Hn,"-").concat(mn.flat,"-").concat(gn.base),link:"".concat(Hn,"-").concat(mn.link,"-").concat(gn.base),clear:"".concat(Hn,"-").concat(mn.clear,"-").concat(gn.base)}},primary:{fillMode:{solid:"".concat(Hn,"-").concat(mn.solid,"-").concat(gn.primary),outline:"".concat(Hn,"-").concat(mn.outline,"-").concat(gn.primary),flat:"".concat(Hn,"-").concat(mn.flat,"-").concat(gn.primary),link:"".concat(Hn,"-").concat(mn.link,"-").concat(gn.primary),clear:"".concat(Hn,"-").concat(mn.clear,"-").concat(gn.primary)}},secondary:{fillMode:{solid:"".concat(Hn,"-").concat(mn.solid,"-").concat(gn.secondary),outline:"".concat(Hn,"-").concat(mn.outline,"-").concat(gn.secondary),flat:"".concat(Hn,"-").concat(mn.flat,"-").concat(gn.secondary),link:"".concat(Hn,"-").concat(mn.link,"-").concat(gn.secondary),clear:"".concat(Hn,"-").concat(mn.clear,"-").concat(gn.secondary)}},tertiary:{fillMode:{solid:"".concat(Hn,"-").concat(mn.solid,"-").concat(gn.tertiary),outline:"".concat(Hn,"-").concat(mn.outline,"-").concat(gn.tertiary),flat:"".concat(Hn,"-").concat(mn.flat,"-").concat(gn.tertiary),link:"".concat(Hn,"-").concat(mn.link,"-").concat(gn.tertiary),clear:"".concat(Hn,"-").concat(mn.clear,"-").concat(gn.tertiary)}},info:{fillMode:{solid:"".concat(Hn,"-").concat(mn.solid,"-").concat(gn.info),outline:"".concat(Hn,"-").concat(mn.outline,"-").concat(gn.info),flat:"".concat(Hn,"-").concat(mn.flat,"-").concat(gn.info),link:"".concat(Hn,"-").concat(mn.link,"-").concat(gn.info),clear:"".concat(Hn,"-").concat(mn.clear,"-").concat(gn.info)}},success:{fillMode:{solid:"".concat(Hn,"-").concat(mn.solid,"-").concat(gn.success),outline:"".concat(Hn,"-").concat(mn.outline,"-").concat(gn.success),flat:"".concat(Hn,"-").concat(mn.flat,"-").concat(gn.success),link:"".concat(Hn,"-").concat(mn.link,"-").concat(gn.success),clear:"".concat(Hn,"-").concat(mn.clear,"-").concat(gn.success)}},warning:{fillMode:{solid:"".concat(Hn,"-").concat(mn.solid,"-").concat(gn.warning),outline:"".concat(Hn,"-").concat(mn.outline,"-").concat(gn.warning),flat:"".concat(Hn,"-").concat(mn.flat,"-").concat(gn.warning),link:"".concat(Hn,"-").concat(mn.link,"-").concat(gn.warning),clear:"".concat(Hn,"-").concat(mn.clear,"-").concat(gn.warning)}},error:{fillMode:{solid:"".concat(Hn,"-").concat(mn.solid,"-").concat(gn.error),outline:"".concat(Hn,"-").concat(mn.outline,"-").concat(gn.error),flat:"".concat(Hn,"-").concat(mn.flat,"-").concat(gn.error),link:"".concat(Hn,"-").concat(mn.link,"-").concat(gn.error),clear:"".concat(Hn,"-").concat(mn.clear,"-").concat(gn.error)}},dark:{fillMode:{solid:"".concat(Hn,"-").concat(mn.solid,"-").concat(gn.dark),outline:"".concat(Hn,"-").concat(mn.outline,"-").concat(gn.dark),flat:"".concat(Hn,"-").concat(mn.flat,"-").concat(gn.dark),link:"".concat(Hn,"-").concat(mn.link,"-").concat(gn.dark),clear:"".concat(Hn,"-").concat(mn.clear,"-").concat(gn.dark)}},light:{fillMode:{solid:"".concat(Hn,"-").concat(mn.solid,"-").concat(gn.light),outline:"".concat(Hn,"-").concat(mn.outline,"-").concat(gn.light),flat:"".concat(Hn,"-").concat(mn.flat,"-").concat(gn.light),link:"".concat(Hn,"-").concat(mn.link,"-").concat(gn.light),clear:"".concat(Hn,"-").concat(mn.clear,"-").concat(gn.light)}},inverse:{fillMode:{solid:"".concat(Hn,"-").concat(mn.solid,"-").concat(gn.inverse),outline:"".concat(Hn,"-").concat(mn.outline,"-").concat(gn.inverse),flat:"".concat(Hn,"-").concat(mn.flat,"-").concat(gn.inverse),link:"".concat(Hn,"-").concat(mn.link,"-").concat(gn.inverse),clear:"".concat(Hn,"-").concat(mn.clear,"-").concat(gn.inverse)}}},rounded:{small:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.small),medium:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.medium),large:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.large)},iconButton:"".concat(un.prefix,"-").concat(Cn.icon,"-").concat(Cn.button),disabled:"".concat(un.prefix,"-").concat(In.disabled),selected:"".concat(un.prefix,"-").concat(In.selected),isRtl:"".concat(un.prefix,"-").concat(un.rtl)},text:"".concat(Hn,"-").concat(Cn.text),icon:"".concat(Hn,"-").concat(Cn.icon)},Xn=e=>{const{isRtl:t,selected:n,disabled:o,size:r,fillMode:i,rounded:a,themeColor:s,iconButton:l,c:c=Yn}=e,d=c.wrapper,u=d.themeColor[s],p=u.fillMode[i];return{[d.main]:!0,[d.size[r]]:d.size[r],["".concat(Hn,"-").concat(r)]:r&&!d.size[r],[d.fillMode[i]]:d.fillMode[i],[p]:p,[d.rounded[a]]:d.rounded[a],["".concat(un.prefix,"-").concat(un.rounded,"-").concat(a)]:a&&!d.rounded[a],[d.iconButton]:l,[u.disabled]:o&&u&&u.disabled,[u.selected]:n&&u&&u.selected,[d.disabled]:o,[d.selected]:n,[d.isRtl]:t}},Qn=e=>{const{c:t=Yn}=e;return{[t.text]:!0}},Jn=e=>{const{c:t=Yn}=e;return{[t.icon]:!0}},Zn=("".concat(Hn,"-").concat(kn.group),"".concat(Hn,"-").concat(kn.group,"-").concat(In.stretched),"".concat(un.prefix,"-").concat(In.disabled),"".concat(un.prefix,"-").concat(kn.group,"-").concat(wn.start),"".concat(un.prefix,"-").concat(kn.group,"-").concat(wn.end),{wrapper:{main:"".concat(qn,"-").concat(Cn.button),focus:"".concat(un.prefix,"-").concat(In.focus),disabled:"".concat(un.prefix,"-").concat(In.disabled)},ul:{group:"".concat(qn,"-").concat(kn.group),size:{small:"".concat(qn,"-").concat(kn.group,"-").concat(fn.small),medium:"".concat(qn,"-").concat(kn.group,"-").concat(fn.medium),large:"".concat(qn,"-").concat(kn.group,"-").concat(fn.large)}},li:{item:"".concat(un.prefix,"-").concat(kn.item),focus:"".concat(un.prefix,"-").concat(In.focus)},item:"".concat(qn,"-").concat(kn.item),link:{main:"".concat(un.prefix,"-").concat(Cn.link),link:"".concat(qn,"-").concat(Cn.link),selected:"".concat(un.prefix,"-").concat(In.selected),disabled:"".concat(un.prefix,"-").concat(In.disabled)},popup:"".concat(qn,"-").concat(kn.popup)}),$n=(dn(Zn,"item"),dn(Zn,"popup"),{default:"",xsmall:"k-icon-xs",small:"k-icon-sm",medium:"k-icon-md",large:"k-icon-lg",xlarge:"k-icon-xl",xxlarge:"k-icon-xxl",xxxlarge:"k-icon-xxxl"}),eo=e=>e.replace(/^k-i-/,""),to=Et.shape({name:Et.string.isRequired,content:Et.string.isRequired,viewBox:Et.string.isRequired}),no=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=o.useCallback((o=>{n.onMouseDown&&n.onMouseDown.call(void 0,o),e.onMouseDown&&e.onMouseDown.call(void 0,{target:t.current,syntheticEvent:o})}),[n.onMouseDown,e.onMouseDown,t]),i=o.useCallback((o=>{n.onMouseUp&&n.onMouseUp.call(void 0,o),e.onMouseUp&&e.onMouseUp.call(void 0,{target:t.current,syntheticEvent:o})}),[n.onMouseUp,e.onMouseUp,t]),a=o.useCallback((o=>{n.onClick&&n.onClick.call(void 0,o),e.onClick&&e.onClick.call(void 0,{target:t.current,syntheticEvent:o})}),[n.onClick,e.onClick,t]),s=o.useCallback((o=>{n.onDoubleClick&&n.onDoubleClick.call(void 0,o),e.onDoubleClick&&e.onDoubleClick.call(void 0,{target:t.current,syntheticEvent:o})}),[n.onDoubleClick,e.onDoubleClick,t]),l=o.useCallback((o=>{n.onMouseEnter&&n.onMouseEnter.call(void 0,o),e.onMouseEnter&&e.onMouseEnter.call(void 0,{target:t.current,syntheticEvent:o})}),[n.onMouseEnter,e.onMouseEnter,t]),c=o.useCallback((o=>{n.onMouseLeave&&n.onMouseLeave.call(void 0,o),e.onMouseLeave&&e.onMouseLeave.call(void 0,{target:t.current,syntheticEvent:o})}),[n.onMouseLeave,e.onMouseLeave,t]),d=o.useCallback((o=>{n.onMouseMove&&n.onMouseMove.call(void 0,o),e.onMouseMove&&e.onMouseMove.call(void 0,{target:t.current,syntheticEvent:o})}),[n.onMouseMove,e.onMouseMove,t]),u=o.useCallback((o=>{n.onMouseOut&&n.onMouseOut.call(void 0,o),e.onMouseOut&&e.onMouseOut.call(void 0,{target:t.current,syntheticEvent:o})}),[n.onMouseOut,e.onMouseOut,t]),p=o.useCallback((o=>{n.onMouseOver&&n.onMouseOver.call(void 0,o),e.onMouseOver&&e.onMouseOver.call(void 0,{target:t.current,syntheticEvent:o})}),[n.onMouseOver,e.onMouseOver,t]);return{onClick:a,onMouseUp:i,onMouseDown:r,onDoubleClick:s,onMouseEnter:l,onMouseLeave:c,onMouseMove:d,onMouseOut:u,onMouseOver:p}},oo=["className","name","themeColor","size","flip","style","id","tabIndex"],ro=o.forwardRef(((e,t)=>{const{className:n,name:r,themeColor:i,size:a,flip:l,style:c,id:d,tabIndex:u}=e,h=s(e,oo),f=o.useRef(null),m=o.useRef(null);o.useImperativeHandle(f,(()=>({element:m.current}))),o.useImperativeHandle(t,(()=>f.current));const g=o.useMemo((()=>a||io.size),[a]),v=o.useMemo((()=>l||io.flip),[l]),y=o.useMemo((()=>on("k-icon","k-font-icon",r&&(e=>"k-i-"+e)(r),{["k-color-".concat(i)]:i,"k-flip-h":"horizontal"===v||"both"===v,"k-flip-v":"vertical"===v||"both"===v},$n[g],n)),[r,i,g,v,n]),x=no(e,f);return o.createElement("span",p(p(p({ref:m},h),x),{},{className:y,id:d,tabIndex:u,style:c,role:"presentation"}))}));ro.propTypes={style:Et.object,classNames:Et.string,name:Et.string,themeColor:Et.oneOf(["inherit","primary","secondary","tertiary","info","success","error","warning","dark","light","inverse"]),size:Et.oneOf(["default","xsmall","small","medium","large","xlarge","xxlarge","xxxlarge"]),flip:Et.oneOf(["default","horizontal","vertical","both"])};const io={size:"default",flip:"default"};ro.displayName="KendoIcon";const ao={wrapper:{main:"".concat(un.prefix,"-").concat(An.prefix),svgPrefix:"".concat(un.prefix,"-").concat(An.svg,"-").concat(An.prefix),namePrefix:"".concat(un.prefix,"-").concat(An.svg,"-").concat(An.i,"-"),flipH:"".concat(un.prefix,"-").concat(An.flipH),flipV:"".concat(un.prefix,"-").concat(An.flipV),themeColor:{inherit:"".concat(un.prefix,"-").concat(An.color,"-").concat(gn.inherit),primary:"".concat(un.prefix,"-").concat(An.color,"-").concat(gn.primary),secondary:"".concat(un.prefix,"-").concat(An.color,"-").concat(gn.secondary),tertiary:"".concat(un.prefix,"-").concat(An.color,"-").concat(gn.tertiary),info:"".concat(un.prefix,"-").concat(An.color,"-").concat(gn.info),success:"".concat(un.prefix,"-").concat(An.color,"-").concat(gn.success),warning:"".concat(un.prefix,"-").concat(An.color,"-").concat(gn.warning),error:"".concat(un.prefix,"-").concat(An.color,"-").concat(gn.error),dark:"".concat(un.prefix,"-").concat(An.color,"-").concat(gn.dark),light:"".concat(un.prefix,"-").concat(An.color,"-").concat(gn.light)},size:{default:"",xsmall:"".concat(un.prefix,"-").concat(An.prefix,"-").concat(fn.xsmall),small:"".concat(un.prefix,"-").concat(An.prefix,"-").concat(fn.small),medium:"".concat(un.prefix,"-").concat(An.prefix,"-").concat(fn.medium),large:"".concat(un.prefix,"-").concat(An.prefix,"-").concat(fn.large),xlarge:"".concat(un.prefix,"-").concat(An.prefix,"-").concat(fn.xlarge),xxlarge:"".concat(un.prefix,"-").concat(An.prefix,"-").concat(fn.xxlarge),xxxlarge:"".concat(un.prefix,"-").concat(An.prefix,"-").concat(fn.xxxlarge)}},svg:{main:"",flipH:"",flipV:""}},so=e=>{const{iconNameProp:t,themeColor:n,flipH:o,flipV:r,size:i,c:a=ao}=e,s=a.wrapper||{};return{[s.main||""]:!0,[s.svgPrefix||""]:!0,["".concat(s.namePrefix||"").concat(t)]:t,[s.themeColor[n]||""]:n,[s.flipH||""]:o,[s.flipV||""]:r,[s.size[i]||""]:s.size[i]}},lo=e=>{const{flipH:t,flipV:n,c:o=ao}=e,r=o.svg;return{[r.main||""]:!0,[r.flipH||""]:t,[r.flipV||""]:n}},co=o.createContext(void 0),uo=()=>o.useContext(co),po=["children","className","svgClassName","icon","flip","id","tabIndex","size","style","svgStyle","themeColor","viewBox","name","onClick"],ho=o.forwardRef(((e,t)=>{const{children:n,className:r,svgClassName:i,icon:a,flip:l,id:c,tabIndex:d,size:u,style:h,svgStyle:f,themeColor:m,viewBox:g,name:v,onClick:y}=e,x=s(e,po),b=o.useRef(null),w=uo(),k=w&&w.uSvgIcon;o.useImperativeHandle(t,(()=>({element:b.current})));const C=o.useMemo((()=>a?a.name:fo.icon),[a]),S=o.useMemo((()=>a?a.content:void 0),[a]),I=o.useMemo((()=>u||fo.size),[u]),E=o.useMemo((()=>l||fo.flip),[l]),_=o.useMemo((()=>g||fo.viewBox),[g]),j=o.useMemo((()=>on(so({c:k,iconNameProp:C,themeColor:m,flipH:"horizontal"===E||"both"===E,flipV:"vertical"===E||"both"===E,size:I}),r)),[k,C,m,E,I,r]),A=o.useMemo((()=>e.width&&e.height?p({width:e.width,height:e.height},h):e.width?p({width:e.width,height:e.width},h):e.height?p({width:e.height,height:e.height},h):p({},h)),[e.width,e.height,h]),D=o.useMemo((()=>S?{__html:S}:void 0),[S]);return o.createElement("span",{className:on(lo({c:k,themeColor:m,flipH:"horizontal"===E||"both"===E,flipV:"vertical"===E||"both"===E}),j),style:A,ref:b,onClick:y,"aria-hidden":!0},o.createElement("svg",p({id:c,className:i,style:f,"aria-hidden":!0,tabIndex:d,focusable:!1,xmlns:"http://www.w3.org/2000/svg",viewBox:a?a.viewBox:_,dangerouslySetInnerHTML:D},x),a?void 0:n))}));ho.propTypes={style:Et.object,classNames:Et.string,children:Et.any,icon:Et.object,themeColor:Et.oneOf(["inherit","primary","secondary","tertiary","info","success","error","warning","dark","light","inverse"]),size:Et.oneOf(["default","xsmall","small","medium","large","xlarge","xxlarge","xxxlarge"]),flip:Et.oneOf(["default","horizontal","vertical","both"])};const fo={size:"default",flip:"default",icon:"",viewBox:"0 0 24 24"};ho.displayName="KendoSvgIcon";const mo=o.createContext({type:"svg"});mo.displayName="KendoReactIconsContext";const go=["icon"],vo=o.forwardRef(((e,t)=>{var n,r;const{type:i,icons:a}=o.useContext(mo),{icon:l}=e,c=s(e,go);let d="svg"===i?(null==(n=e.icon)?void 0:n.name)||e.name:e.name||(null==(r=e.icon)?void 0:r.name);d=d&&a&&a[d]&&"string"==typeof a[d]?a[d]:d;const u=d&&a&&a[d]&&"string"!=typeof a[d]?a[d]:l;return"svg"===i&&u?o.createElement(ho,p(p({},e),{},{icon:u,ref:t})):o.createElement(ro,p(p({},c),{},{name:d,ref:t}))}));vo.displayName="KendoIconWrap";const yo=["children","togglable","dir","disabled","selected","icon","iconClass","svgIcon","imageUrl","imageAlt","className","startIcon","endIcon","onClick","size","rounded","fillMode","themeColor"];const xo=o.forwardRef(((e,t)=>{const{children:n,togglable:r,dir:i,disabled:a,selected:l,icon:c,iconClass:d,svgIcon:u,imageUrl:h,imageAlt:f,className:m,startIcon:g,endIcon:v,onClick:y,size:x=bo.size,rounded:b=bo.rounded,fillMode:w=bo.fillMode,themeColor:k=bo.themeColor}=e,C=s(e,yo),S=o.useRef(void 0),I=o.useRef(null),[E,_]=o.useState(!0===r&&!0===l),j=void 0!==u||void 0!==c||void 0!==d||void 0!==h,A=void 0!==n,D=uo(),N=e.unstyled||D,T=N&&N.uButton;o.useImperativeHandle(t,(()=>({element:I.current,selected:void 0!==S.current?S.current:E}))),o.useMemo((()=>{r&&void 0!==l&&l!==E&&_(l)}),[r,l]),o.useEffect((()=>{S.current=void 0}),[E]);const P=function(e){let{imageUrl:t,name:n,iconClass:r,svgIcon:i,imageAlt:a,buttonClasses:s}=e;return t?o.createElement("img",{role:"presentation",className:on(Jn({c:s})),alt:a,src:t}):n||i?o.createElement(vo,{className:on(Jn({c:s})),name:n,icon:i}):r?o.createElement("span",{role:"presentation",className:on(Jn({c:s}),r)}):null}({name:c,svgIcon:u,iconClass:d,imageUrl:h,imageAlt:f,buttonClasses:T}),M=e=>o.cloneElement(e,{className:on(Jn({c:T}))});return o.createElement("button",p(p({ref:I,"aria-pressed":r?E:void 0},C),{},{dir:i,disabled:a,onClick:e=>{r&&void 0===l&&(S.current=!E,_(!E)),y&&y.call(void 0,e)},className:on(Xn({c:T,isRtl:"rtl"===i,selected:E,disabled:a,size:x,fillMode:w,rounded:b,themeColor:k,iconButton:!A&&j}),m)}),g&&M(g),P,n&&o.createElement("span",{className:on(Qn({c:T}))},n),v&&M(v))})),bo={togglable:!1,size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base"};function wo(e,t,n){const[r,i]=o.useState(t);return o.useEffect((()=>{if(!r&&window&&e.current){const t=window.getComputedStyle(e.current).direction;t&&i(t)}}),n),r}xo.displayName="KendoReactButton",xo.propTypes={children:Et.node,selected:Et.bool,togglable:Et.bool,icon:Et.string,svgIcon:to,iconClass:Et.string,imageUrl:Et.string,imageAlt:Et.string,size:Et.oneOf([null,"small","medium","large"]),rounded:Et.oneOf([null,"small","medium","large","full"]),fillMode:Et.oneOf([null,"flat","link","outline","solid","clear"]),themeColor:Et.oneOf([null,"base","primary","secondary","tertiary","info","success","warning","error","dark","light","inverse"])};const ko={sizeMap:{small:"sm",medium:"md",large:"lg"},roundedMap:{small:"sm",medium:"md",large:"lg"},orientationMap:{vertical:"vstack",horizontal:"hstack"}},Co=o.forwardRef(((e,t)=>{const{cutoutBorder:n=So.cutoutBorder,position:r=So.position,align:i=So.align,children:a,className:s,style:l}=e,c=o.useRef(null),d=o.useCallback((()=>{c.current&&c.current.focus()}),[]);o.useImperativeHandle(t,(()=>({element:c.current,focus:d})));const u=wo(c,e.dir),p=o.useMemo((()=>null===e.size?null:e.size||So.size),[e.size]),h=o.useMemo((()=>null===e.fillMode?null:e.fillMode||So.fillMode),[e.fillMode]),f=o.useMemo((()=>e.themeColor||So.themeColor),[e.themeColor]),m=o.useMemo((()=>void 0!==e.rounded&&e.rounded||"medium"),[e.rounded]),g=o.useMemo((()=>on("k-badge",{"k-badge-sm":"small"===p,"k-badge-md":"medium"===p,"k-badge-lg":"large"===p,["k-badge-".concat(h)]:h,["k-badge-".concat(h,"-").concat(f)]:!(!h||!f),"k-badge-border-cutout":n,["k-badge-".concat(r)]:r,"k-top-start":"top"===i.vertical&&"start"===i.horizontal,"k-top-end":"top"===i.vertical&&"end"===i.horizontal,"k-bottom-start":"bottom"===i.vertical&&"start"===i.horizontal,"k-bottom-end":"bottom"===i.vertical&&"end"===i.horizontal},null!==e.rounded?["k-rounded-".concat(ko.roundedMap[m]||m)]:void 0,s)),[p,h,f,m,n,i,r,s]);return o.createElement("span",{className:g,style:l,dir:u},a)}));Co.propTypes={className:Et.string,dir:Et.string,style:Et.object,align:Et.shape({vertical:Et.oneOf(["top","bottom",null]),horizontal:Et.oneOf(["start","end",null])}),size:Et.oneOf([null,"small","medium","large"]),fillMode:Et.oneOf([null,"solid","outline"]),themeColor:Et.oneOf([null,"base","primary","secondary","tertiary","info","success","warning","error","dark","light","inverse","inherit"]),rounded:Et.oneOf([null,"small","medium","large","full"]),position:Et.oneOf(["edge","outside","inside",null]),cutoutBorder:Et.bool};const So={size:"medium",fillMode:"solid",themeColor:"primary",position:"edge",align:{vertical:"top",horizontal:"end"},cutoutBorder:!1};Co.displayName="KendoBadge";var Io=n(950);const Eo={animationContainer:"".concat(un.prefix,"-").concat(En.prefix,"-").concat(kn.container),animationContainerShown:"".concat(un.prefix,"-").concat(En.prefix,"-").concat(kn.container,"-").concat(In.shown),animationChild:"".concat(un.prefix,"-").concat(En.child,"-").concat(En.prefix,"-").concat(kn.container),popup:"".concat(un.prefix,"-").concat(Tn.prefix),slide:{up:{enter:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.up,"-").concat(En.enter),exit:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.up,"-").concat(En.exit)},down:{enter:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.down,"-").concat(En.enter),exit:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.down,"-").concat(En.exit)},left:{enter:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.left,"-").concat(En.enter),exit:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.left,"-").concat(En.exit)},right:{enter:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.right,"-").concat(En.enter),exit:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.right,"-").concat(En.exit)}},slideActive:{up:{enter:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.up,"-").concat(En.enter,"-").concat(En.active),exit:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.up,"-").concat(En.exit,"-").concat(En.active)},down:{enter:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.down,"-").concat(En.enter,"-").concat(En.active),exit:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.down,"-").concat(En.exit,"-").concat(En.active)},left:{enter:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.left,"-").concat(En.enter,"-").concat(En.active),exit:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.left,"-").concat(En.exit,"-").concat(En.active)},right:{enter:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.right,"-").concat(En.enter,"-").concat(En.active),exit:"".concat(un.prefix,"-").concat(En.slide,"-").concat(wn.right,"-").concat(En.exit,"-").concat(En.active)}}},_o=e=>{const{c:t=Eo}=e;return{[t.animationContainer]:!0}},jo=e=>{const{c:t=Eo}=e;return{[t.animationContainerShown]:!0}},Ao=e=>{const{c:t=Eo}=e;return{[t.animationChild]:!0}},Do=e=>{const{c:t=Eo}=e;return{[t.popup]:!0}},No=e=>{const{direction:t,type:n,c:o=Eo}=e;return{[o.slide[t][n]]:o.slide[t]&&o.slide[t][n]}},To=e=>{const{direction:t,type:n,c:o=Eo}=e;return{[o.slideActive[t][n]]:o.slideActive[t]&&o.slideActive[t][n]}},Po=(e,t,n)=>{e.style.transitionDuration="",t&&e.classList.remove(...t.split(" ")),n&&e.classList.remove(...n.split(" "))},Mo="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent),Oo=o.createContext(0);Oo.displayName="KendoReactZIndexContext";const Ro=!("undefined"==typeof window||!window.document||!window.document.createElement),Fo="bottom",Lo="center",zo="middle",Bo="left",Vo="right",Ho="top";const qo=function(e){var t=e.anchorRect,n=e.anchorAlign,o=e.elementRect,r=e.elementAlign,i=e.margin;void 0===i&&(i={});var a=n.horizontal,s=n.vertical,l=r.horizontal,c=r.vertical,d=i.horizontal||0,u=i.vertical||0,p=t.top,h=t.left;return s===Fo&&(p+=t.height),s!==Lo&&s!==zo||(p+=Math.round(t.height/2)),c===Fo&&(p-=o.height,u*=-1),c!==Lo&&c!==zo||(p-=Math.round(o.height/2),u*=-1),a===Vo&&(h+=t.width),a!==Lo&&a!==zo||(h+=Math.round(t.width/2)),l===Vo&&(h-=o.width,d*=-1),l!==Lo&&l!==zo||(h-=Math.round(o.width/2),d*=-1),{top:p+u,left:h+d}},Uo="fit",Go="flip",Wo="none";var Ko=function(e,t,n){var o=0;return e+t>n&&(o=n-(e+t)),e<0&&(o=-e),o},Yo=function(e){var t=e.offset,n=e.size,o=e.anchorSize,r=e.viewPortSize,i=e.anchorAlignPoint,a=e.elementAlignPoint,s=0,l=2*e.margin;if(a!==i&&!(a===Lo||a===zo)&&!(i===Lo||i===zo)){var c=i===Ho||i===Bo;t<0&&c?t+(s=n+o+l)+n>r&&(s=0):t>=0&&!c&&(t+n>r&&(s+=-(o+n+l)),t+s<0&&(s=0))}return s};const Xo=function(e){var t=e.anchorRect,n=e.anchorAlign,o=e.elementRect,r=e.elementAlign,i=e.collisions,a=e.viewPort,s=e.margin;void 0===s&&(s={});var l=o.top,c=o.left,d=o.height,u=o.width,p=a.height,h=a.width,f=s.horizontal||0,m=s.vertical||0,g=0,v=0,y=i.vertical===Uo,x=i.horizontal===Uo,b=i.vertical===Go,w=i.horizontal===Go;y&&(v+=Ko(l,d,p)),x&&(g+=Ko(c,u,h)),b&&(v+=Yo({margin:m,offset:l,size:d,anchorSize:t.height,viewPortSize:p,anchorAlignPoint:n.vertical,elementAlignPoint:r.vertical})),w&&(g+=Yo({margin:f,offset:c,size:u,anchorSize:t.width,viewPortSize:h,anchorAlignPoint:n.horizontal,elementAlignPoint:r.horizontal}));var k=b&&0!==v,C=w&&0!==g,S=y&&0!==v,I=x&&0!==g;return{flipped:C||k,fitted:S||I,flip:{horizontal:C,vertical:k},fit:{horizontal:I,vertical:S},offset:{left:g,top:v}}};var Qo=function(e){var t,n=!1;return function(){for(var o=[],r=arguments.length;r--;)o[r]=arguments[r];return n||(t=e.apply(void 0,o),n=!0),t}}((function(e){if(!Jo())return!1;var t=e?e.ownerDocument:document;if(!t||!t.body)return!1;var n=t.createElement("div");n.style.transform="matrix(10, 0, 0, 10, 0, 0)",n.innerHTML='<div style="position: fixed; top: 10px;">child</div>',t.body.appendChild(n);var o=10!==n.children[0].getBoundingClientRect().top;return t.body.removeChild(n),o})),Jo=function(){return Boolean("undefined"!==typeof window&&window.document&&window.document.createElement)},Zo={eitherRect:function(e,t){return e||{height:0,left:t.left,top:t.top,width:0}},scaleRect:function(e,t){return e&&1!==t?{height:e.height/t,left:e.left/t,top:e.top/t,width:e.width/t}:e},removeStackingOffset:function(e,t){return t?{height:e.height,left:e.left-t.left,top:e.top-t.top,width:e.width}:e},hasRelativeStackingContext:Qo,canUseDOM:Jo};const $o=Zo;function er(e){return e.ownerDocument||e.document||e}const tr=function(e){return er(e).defaultView};const nr=function(e){return er(e).documentElement};var or=0;function rr(){if(!or&&"undefined"!==typeof document){var e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),or=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return or}function ir(e){var t=tr(e),n=nr(e),o={height:t.innerHeight,width:t.innerWidth};return n.scrollHeight-n.clientHeight>0&&(o.width-=rr()),o}const ar=function(e){if(!e.getBoundingClientRect){var t=ir(e);return{bottom:t.height,left:0,right:t.width,top:0}}var n=e.getBoundingClientRect();return{bottom:n.bottom,left:n.left,right:n.right,top:n.top}};function sr(e){var t=nr(e),n=tr(e);return{x:n.pageXOffset||t.scrollLeft||0,y:n.pageYOffset||t.scrollTop||0}}const lr=function(e){var t=e.getBoundingClientRect(),n=t.left,o=t.top;return t.height||t.width||(t=function(e){var t=e.style,n=t.display,o=t.left,r=t.position;e.style.display="",e.style.left="-10000px",e.style.position="absolute";var i=e.getBoundingClientRect();return e.style.display=n,e.style.left=o,e.style.position=r,i}(e)),{top:o,left:n,height:t.height,width:t.width}};function cr(e){return e===(e.ownerDocument||{}).body?sr(e):{x:e.scrollLeft,y:e.scrollTop}}const dr=function(e){for(var t=e.offsetParent;t&&"static"===t.style.position;)t=t.offsetParent;return t||nr(e)};function ur(e,t){return e?cr(e):function(e){var t=dr(e);return t?cr(t):{x:0,y:0}}(t)}const pr=function(e,t){var n=tr(e),o=n.getComputedStyle(e),r=lr(e),i=t||dr(e),a=e.ownerDocument,s=i!==a.body&&i!==a.documentElement,l={top:0,left:0};if("fixed"!==o.position&&s){var c=n.getComputedStyle(i);(l=lr(i)).top+=parseInt(c.borderTopWidth,10),l.left+=parseInt(c.borderLeftWidth,10)}return{top:r.top-l.top,left:r.left-l.left,height:r.height,width:r.width}};function hr(e,t){for(var n=[],o=e.parentNode;o&&(n.push(o),o!==t);)o=o.parentNode;return n}function fr(e){for(var t=[],n=e.parentNode.firstElementChild;n;)n!==e&&t.push(n),n=n.nextElementSibling;return t}var mr=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],gr=function(){return $o.canUseDOM()?window:null},vr=/auto|scroll/,yr=function(e){return function(e){return""+e.style.overflow+e.style.overflowX+e.style.overflowY}(e)||function(e){var t=window.getComputedStyle(e);return""+t.overflow+t.overflowX+t.overflowY}(e)},xr=function(e){if(!e||!$o.hasRelativeStackingContext())return null;for(var t=e.parentElement;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null},br=function(){return $o.canUseDOM()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1},wr={addOffset:function(e,t){return{left:e.left+t.left,top:e.top+t.top}},addScroll:function(e,t){return{top:e.top+t.y,left:e.left+t.x,height:e.height,width:e.width}},align:qo,boundingOffset:ar,getFontStyles:function(e){var t=gr();if(!t||!e)return[];var n=t.getComputedStyle(e);return mr.map((function(e){return{key:e,value:n[e]}}))},getWindow:gr,hasOffsetParent:function(e){return!!e&&Boolean(e.offsetParent)},offset:function(e){return e?lr(e):null},offsetAtPoint:function(e,t){if(!e)return null;var n=e.style,o=n.left,r=n.top,i=n.transition;e.style.transition="none",e.style.left=t.left+"px",e.style.top=t.top+"px";var a=lr(e);return e.style.left=o,e.style.top=r,e.offsetHeight,e.style.transition=i,a},position:function(e,t,n){return e&&t?function(e,t,n){void 0===n&&(n=1);var o=t?dr(t):null,r=pr(e,o),i=r.top,a=r.left,s=r.height,l=r.width,c=ur(o,e),d=c.x,u=c.y,p=e.ownerDocument,h=o===p.body||o===p.documentElement?1:n;return{top:i+u*h,left:a+d*h,height:s,width:l}}(e,t,n||1):null},removeScroll:function(e,t){return{top:e.top-t.y,left:e.left-t.x,height:e.height,width:e.width}},restrictToView:Xo,scrollPosition:sr,scrollableParents:function(e){var t=[];if(!$o.canUseDOM())return t;for(var n=e.parentElement;n;)(vr.test(yr(n))||n.hasAttribute("data-scrollable"))&&t.push(n),n=n.parentElement;return t.push(window),t},getRelativeContextElement:xr,stackingElementOffset:function(e){var t=xr(e);return t?lr(t):null},stackingElementScroll:function(e){var t=xr(e);return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}},stackingElementViewPort:function(e){var t=xr(e);return t?{height:t.scrollHeight,width:t.scrollWidth}:null},useRelativePosition:function(e){return Boolean(xr(e))},windowViewPort:ir,zoomLevel:br,isZoomed:function(){return br()>1},zIndex:function(e,t){if(!e||!$o.canUseDOM())return null;var n=function(e,t){for(var n,o,r=hr(e),i=t;i&&(n=fr(i),o=r.reduce((function(e,t){return e.concat(n.filter((function(e){return e===t})))}),[])[0],!o);)i=i.parentElement;return o}(e,t);if(!n)return null;var o=[e].concat(hr(e,n)).reduce((function(e,t){var n=t.style.zIndex||window.getComputedStyle(t).zIndex,o=parseInt(n,10);return o>e?o:e}),0);return o?o+1:null}};const kr=wr;var Cr=function(e,t){return e?{x:0,y:0}:kr.scrollPosition(t)};const Sr=function(e){var t=e.anchor,n=e.element,o=e.anchorAlign,r=e.elementAlign,i=e.margin,a=e.offset,s=e.positionMode,l=e.scale||1,c="fixed"===s||!kr.hasOffsetParent(n)?function(e,t,n,o){var r=Cr(e,t),i=$o.eitherRect(kr.offset(e),n),a=2*o,s=kr.stackingElementScroll(t);1!==o&&s&&(s.x/=a,s.y/=a);var l=kr.stackingElementOffset(t);return 1!==o&&l&&(l.left/=a,l.top/=a),kr.removeScroll(kr.addScroll($o.removeStackingOffset($o.scaleRect(i,o),l),s),r)}(t,n,a,l):function(e,t,n,o){var r=$o.eitherRect(kr.position(e,t,o),n);return $o.scaleRect(r,o)}(t,n,a,l),d=$o.scaleRect(kr.offset(n),l);return kr.align({anchorAlign:o,anchorRect:c,elementAlign:r,elementRect:d,margin:i})};const Ir=function(e){var t=e.anchor,n=e.currentLocation,o=e.element,r=e.anchorAlign,i=e.elementAlign,a=e.collisions,s=e.margin,l=e.scale||1,c=kr.offsetAtPoint(o,n),d=$o.scaleRect(c,l),u=$o.scaleRect(kr.offset(t),l),p=$o.eitherRect(u,n),h=e.viewPort||kr.windowViewPort(o);h.width=h.width/l,h.height=h.height/l;var f=kr.restrictToView({anchorAlign:r,anchorRect:p,collisions:a,elementAlign:i,elementRect:d,margin:s,viewPort:h}),m=kr.addOffset(n,f.offset);return{flip:f.flip,flipped:f.flipped,fit:f.fit,fitted:f.fitted,offset:m}},Er=o.createContext((e=>e));function _r(e,t){if(e===t)return!0;if(!!e!=!!t)return!1;const n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);if(n.length!==o.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(e[o]!==t[o])return!1}return!0}const jr=o.forwardRef(((e,t)=>{const n=o.useContext(Er).call(void 0,e),{collision:r=Ar.collision,anchorAlign:i=Ar.anchorAlign,popupAlign:a=Ar.popupAlign,offset:s=Ar.offset,animate:l=Ar.animate,show:c=Ar.show,margin:d=Ar.margin,positionMode:u=Ar.positionMode,appendTo:h,contentKey:f,anchor:m,scale:g,role:v,onKeyDown:y,onPosition:x,onOpen:b,onMouseDownOutside:w,onClose:k,className:C,popupClass:S,id:I,style:E,children:_}=n,j=uo(),A=n.unstyled||j,D=A&&A.uPopup,[N,T]=o.useState({current:"hidden",previous:"hidden",props:{}}),P=e=>{null==window||window.addEventListener("mousedown",F),M(e),R(e.firstChild,"enter",O),T(p(p({},Q),{},{current:"shown",previous:Q.current}))},M=e=>{const{width:t,height:n}=e.style;if(0===e.offsetWidth&&0===e.offsetHeight)return;e.style.width=e.offsetWidth+"px",e.style.height=e.offsetHeight+"px";const o=Sr({anchor:m,anchorAlign:i,element:e,elementAlign:a,offset:s,margin:d,positionMode:u,scale:g}),l=Ir({anchor:m,anchorAlign:i,element:e,elementAlign:a,collisions:r,currentLocation:o,margin:d});if(e.style.top=l.offset.top+"px",e.style.left=l.offset.left+"px",e.style.width=t,e.style.height=n,U.current={fit:l.fit,fitted:l.fitted,flip:l.flip,flipped:l.flipped},x){const e={target:K.current,flipped:l.flipped,fitted:l.fitted};x.call(void 0,e)}},O=()=>{const e=W.current;e&&(c&&e.classList.add(...on(jo({c:D})).split(" ").filter((e=>e))),B(e),b&&b.call(void 0,{target:K.current}))},R=(t,n,o)=>{if(!a)return;let r;const{horizontal:i,vertical:s}=a;r="object"==typeof e.animate&&e.animate.direction?e.animate.direction:"left"===i&&"center"===s?"right":"right"===i&&"center"===s?"left":"top"===s?"down":"up";U.current&&U.current.flipped&&(r={down:"up",up:"down",left:"right",right:"left"}[r]),((e,t,n,o,r,i)=>{if(0===n)return r();const a=on(No({direction:t,type:o,c:i})),s=on(To({direction:t,type:o,c:i})),l=t=>{t.target===e&&(e.removeEventListener("transitionend",l),Po(e,a,s),e.style.display="exit"===o?"none":"",r())};e.addEventListener("transitionend",l);const c=e.ownerDocument;if(!c)return;const d=c.defaultView;if(!d)return;const u=()=>{Po(e,a,s),"enter"===o&&(e.style.display=""),a&&e.classList.add(...a.split(" ").filter((e=>e))),d.requestAnimationFrame((()=>{e.style.transitionDuration=n+"ms",e.classList.add(...s.split(" ").filter((e=>e)))}))};Mo?d.requestAnimationFrame(u):u()})(t,r,z()[n],n,o,D)},F=e=>{var t;const n=null===(null==(t=null==e?void 0:e.target)?void 0:t.closest(".k-animation-container")),o=(null==m?void 0:m.contains(null==e?void 0:e.target))||!1;if(n){if(w){const t={target:K.current,event:e,state:N,isAnchorClicked:o};w.call(void 0,t)}null==window||window.removeEventListener("mousedown",F)}},L=()=>{"hiding"===Q.current&&("shown"===Q.previous||"reposition"===Q.previous)&&T(p(p({},Q),{},{current:"hidden",previous:Q.current})),k&&k.call(void 0,{target:K.current})},z=()=>{const e=l;let t=0,n=0;return e&&(!0===e?t=n=300:(t=e.openDuration||0,n=e.closeDuration||0)),{enter:t,exit:n}},B=e=>{V(),G.current=kr.scrollableParents(m||e),G.current&&G.current.map((e=>e.addEventListener("scroll",H))),window.addEventListener("resize",H)},V=()=>{G.current&&(G.current.map((e=>e.removeEventListener("scroll",H))),G.current=void 0),window.removeEventListener("resize",H)},H=function(e,t){let n,o,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=0;a=a||{};const l=function(){s=!1===a.leading?0:(new Date).getTime(),n=void 0,i=e.apply(o,r),n||(o=r=null)};return function(){const c=(new Date).getTime();!s&&!1===a.leading&&(s=c);const d=t-(c-s);return o=void 0,r=arguments,d<=0||d>t?(n&&(clearTimeout(n),n=void 0),s=c,i=e.apply(o,r),n||(o=r=null)):!n&&!1!==a.trailing&&(n=window.setTimeout(l,d)),i}}((()=>{W.current&&"hidden"!==Q.current&&"hiding"!==Q.current&&T(p(p({},N),{},{current:"reposition",previous:Q.current}))}),16.666666666666668),q=o.useContext(Oo)||0,U=o.useRef(void 0),G=o.useRef(void 0),W=o.useRef(null),K=o.useRef(null),Y=o.useRef({}),X=o.useRef(!1);o.useImperativeHandle(K,(()=>({element:W.current,setPosition:M,props:e}))),o.useImperativeHandle(t,(()=>K.current));const Q=o.useMemo((()=>{const e=p(p({},N),{},{props:{show:c,anchor:m,anchorAlign:i,appendTo:h,collision:r,popupAlign:a,className:C,popupClass:S,style:E,offset:s,contentKey:f}});return c?"hidden"===N.current||"hiding"===N.current?p(p({},e),{},{current:"showing",previous:N.current}):"showing"===N.current?p(p({},e),{},{current:"shown",previous:N.current}):"shown"!==N.current||_r(s,N.props.offset)&&_r(i,N.props.anchorAlign)&&_r(h,N.props.appendTo)&&_r(r,N.props.collision)&&_r(a,N.props.popupAlign)&&_r(E,N.props.style)&&m===N.props.anchor&&S===N.props.popupClass&&C===N.props.className?e:p(p({},e),{},{current:"reposition",previous:N.current}):"hiding"===N.current||"hidden"===N.current?p(p({},e),{},{current:"hidden",previous:N.current}):p(p({},e),{},{current:"hiding",previous:N.current})}),[c,m,i,h,r,a,C,S,E,s,f,N]);o.useEffect((()=>{"hiding"===Q.current&&!X.current&&W.current?(X.current=!0,(e=>{if(!c){const t=A&&A.uPopup;e.classList.remove(...on(jo({c:t})).split(" ").filter((e=>e)))}V()})(W.current),R(W.current.firstChild,"exit",L)):(X.current=!1,"showing"===Q.current&&W.current&&!W.current.classList.contains("k-animation-container-shown")?P(W.current):"hiding"===Q.current&&W.current?L():"reposition"===Q.current&&"shown"===Q.previous?setTimeout((()=>{T(p(p({},Q),{},{current:"shown",previous:Q.current}))}),0):"shown"===Q.current&&Y.current.contentKey!==f&&W.current&&M(W.current)),"reposition"===Q.current&&("shown"===Q.previous||"showing"===Q.previous)&&W.current&&M(W.current),Y.current={contentKey:f}}),[Q]),o.useEffect((()=>("showing"===Q.current&&W.current&&P(W.current),()=>{V()})),[]);const J=h||(Ro?m&&m.ownerDocument?m.ownerDocument.body:document.body:void 0),Z=Object.assign({},{position:u,top:0,left:-1e4},E||{}),$="hiding"===Q.current;if((c||$)&&J){const e=q?q+1:100,t=o.createElement(Oo.Provider,{value:e},o.createElement("div",{onKeyDown:y,className:on(_o({c:D}),C),id:I,ref:W,style:p({zIndex:e},Z)},o.createElement("div",{className:on(Ao({c:D})),style:{transitionDelay:"0ms"}},o.createElement("div",{role:v,className:on(Do({c:D}),S)},_))));return null!==h?Io.createPortal(t,J):t}return null})),Ar={collision:{horizontal:Uo,vertical:Go},anchorAlign:{horizontal:Bo,vertical:Fo},popupAlign:{horizontal:Bo,vertical:Ho},offset:{left:-1e3,top:0},animate:!0,show:!1,margin:{horizontal:0,vertical:0},positionMode:"absolute"};jr.displayName="Popup",jr.propTypes={anchor:function(e){const t=e.anchor;return t&&"number"!=typeof t.nodeType?new Error("Invalid prop `anchor` supplied to `Kendo React Popup`. Validation failed."):null},appendTo:function(e){const t=e.appendTo;return t&&"number"!=typeof t.nodeType?new Error("Invalid prop `appendTo` supplied to `Kendo React Popup`. Validation failed."):null},className:Et.oneOfType([Et.string,Et.arrayOf(Et.string.isRequired)]),id:Et.string,popupClass:Et.oneOfType([Et.string,Et.arrayOf(Et.string),Et.object]),collision:Et.shape({horizontal:Et.oneOf([Uo,Go,Wo]),vertical:Et.oneOf([Uo,Go,Wo])}),anchorAlign:Et.shape({horizontal:Et.oneOf([Bo,Lo,Vo]),vertical:Et.oneOf([Ho,Lo,Fo])}),popupAlign:Et.shape({horizontal:Et.oneOf([Bo,Lo,Vo]),vertical:Et.oneOf([Ho,Lo,Fo])}),offset:Et.shape({left:Et.number,top:Et.number}),children:Et.oneOfType([Et.element,Et.node]),show:Et.bool,animate:Et.oneOfType([Et.bool,Et.shape({openDuration:Et.number,closeDuration:Et.number})]),margin:Et.shape({horizontal:Et.number,vertical:Et.number}),positionMode:Et.oneOf(["fixed","absolute"]),scale:Et.number,style:Et.object,onClose:Et.func,onPosition:Et.func,onOpen:Et.func,onKeyDown:Et.func,onMouseDownOutside:Et.func};var Dr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Nr=o.createContext&&o.createContext(Dr),Tr=["attr","size","title"];function Pr(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mr(){return Mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Mr.apply(this,arguments)}function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){Fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fr(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lr(e){return e&&e.map(((e,t)=>o.createElement(e.tag,Rr({key:t},e.attr),Lr(e.child))))}function zr(e){return t=>o.createElement(Br,Mr({attr:Rr({},e.attr)},t),Lr(e.child))}function Br(e){var t=t=>{var n,{attr:r,size:i,title:a}=e,s=Pr(e,Tr),l=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),o.createElement("svg",Mr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:Rr(Rr({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&o.createElement("title",null,a),e.children)};return void 0!==Nr?o.createElement(Nr.Consumer,null,(e=>t(e))):t(Dr)}function Vr(e){return zr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Hr(e){return zr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(e)}function qr(e){return zr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function Ur(e){return zr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Gr(e){return zr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function Wr(e){return zr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Kr(e){return zr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Yr(e){return zr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function Xr(e){return zr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Qr(e){return zr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(e)}function Jr(e){return zr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function Zr(e){return zr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function $r(e){return zr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function ei(e){return zr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function ti(e){return zr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function ni(e){return zr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function oi(e){return zr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function ri(e){return zr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function ii(e){return zr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(e)}function ai(e){return zr({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function si(e){return zr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function li(e){return zr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function ci(e){return zr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function di(e){return zr({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function ui(e){return zr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}var pi=n(579);const hi=e=>{let{onMenuClick:t,expanded:n}=e;const[r,i]=(0,o.useState)(!1),a=(0,o.useRef)(null),s=e=>{a.current&&!a.current.contains(e.target)&&i(!1)};return o.useEffect((()=>(document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)})),[]),(0,pi.jsxs)(an,{className:"header",children:[(0,pi.jsxs)(ln,{className:"left-section",children:[(0,pi.jsx)(xo,{className:"hamburger-button",onClick:t,look:"flat",children:(0,pi.jsxs)("div",{className:"hamburger-icon ".concat(n?"open":""),children:[(0,pi.jsx)("span",{className:"hamburger-line"}),(0,pi.jsx)("span",{className:"hamburger-line"}),(0,pi.jsx)("span",{className:"hamburger-line"})]})}),(0,pi.jsx)("h2",{className:"app-title",children:"Accounting System"})]}),(0,pi.jsx)(cn,{}),(0,pi.jsxs)(ln,{className:"right-section",children:[(0,pi.jsx)("div",{className:"notification-wrapper",children:(0,pi.jsxs)(xo,{className:"notification-button",look:"flat",children:[(0,pi.jsx)(Vr,{className:"notification-icon"}),(0,pi.jsx)(Co,{className:"notification-badge",themeColor:"info",size:"small"})]})}),(0,pi.jsx)("div",{className:"divider"}),(0,pi.jsxs)("div",{className:"user-section",ref:a,children:[(0,pi.jsx)(xo,{className:"user-button",look:"flat",onClick:()=>{i(!r)},children:(0,pi.jsxs)("div",{className:"user-info",children:[(0,pi.jsx)("div",{className:"user-avatar",children:(0,pi.jsx)(di,{})}),(0,pi.jsx)("span",{className:"user-name",children:"Admin"}),(0,pi.jsx)(Gr,{className:"dropdown-arrow ".concat(r?"open":"")})]})}),(0,pi.jsx)(jr,{show:r,anchor:a.current,popupClass:"user-popup",animate:!1,position:"bottom",align:{horizontal:"right",vertical:"top"},offset:{left:0,top:5},children:(0,pi.jsxs)("div",{className:"popup-content",children:[(0,pi.jsxs)("div",{className:"popup-header",children:[(0,pi.jsx)("div",{className:"popup-avatar",children:(0,pi.jsx)(di,{})}),(0,pi.jsxs)("div",{className:"popup-user-info",children:[(0,pi.jsx)("span",{className:"popup-user-name",children:"Admin"}),(0,pi.jsx)("span",{className:"popup-user-email",children:"admin@example.com"})]})]}),(0,pi.jsx)("div",{className:"menu-separator"}),(0,pi.jsxs)("ul",{className:"popup-menu",children:[(0,pi.jsx)("li",{children:(0,pi.jsxs)(xo,{look:"flat",className:"menu-item",children:[(0,pi.jsx)(ui,{className:"menu-icon"}),(0,pi.jsx)("span",{children:"My Profile"})]})}),(0,pi.jsx)("li",{children:(0,pi.jsxs)(xo,{look:"flat",className:"menu-item",children:[(0,pi.jsx)(Kr,{className:"menu-icon"}),(0,pi.jsx)("span",{children:"Settings"})]})}),(0,pi.jsx)("li",{className:"menu-separator"}),(0,pi.jsx)("li",{children:(0,pi.jsxs)(xo,{look:"flat",className:"menu-item menu-item-danger",children:[(0,pi.jsx)(ri,{className:"menu-icon"}),(0,pi.jsx)("span",{children:"Sign Out"})]})})]})]})})]})]}),(0,pi.jsx)("style",{children:"\n        .header {\n          background-color: #1976d2;\n          padding: 0 16px;\n          height: 60px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          position: relative;\n        }\n\n        .left-section {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n\n        .right-section {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          position: relative;\n        }\n\n        .hamburger-button {\n          color: white !important;\n          background: transparent !important;\n          border: none !important;\n          padding: 8px !important;\n          height: 40px;\n          width: 40px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 4px;\n        }\n\n        .hamburger-button:hover {\n          background-color: rgba(255,255,255,0.1) !important;\n        }\n\n        .app-title {\n          color: white;\n          font-size: 15px;\n          font-weight: 500;\n          margin: 0;\n        }\n\n        .notification-wrapper {\n          position: relative;\n        }\n\n        .notification-button {\n          color: white !important;\n          background: transparent !important;\n          border: none !important;\n          padding: 8px !important;\n          height: 40px;\n          width: 40px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 4px;\n        }\n\n        .notification-button:hover {\n          background-color: rgba(255,255,255,0.1) !important;\n        }\n\n        .notification-icon {\n          font-size: 16px;\n        }\n\n        .notification-badge {\n          position: absolute;\n          top: 8px;\n          right: 8px;\n          width: 8px;\n          height: 8px;\n          background-color: #38b2ac;\n          border: 2px solid #1976d2;\n          border-radius: 50%;\n        }\n\n        .divider {\n          width: 1px;\n          height: 24px;\n          background-color: rgba(255,255,255,0.2);\n          margin: 0 8px;\n        }\n\n        .user-section {\n          position: relative;\n          height: 40px;\n          display: flex;\n          align-items: center;\n        }\n\n        .user-button {\n          color: white !important;\n          background: transparent !important;\n          border: none !important;\n          padding: 6px 12px !important;\n          height: 40px;\n          display: flex;\n          align-items: center;\n          border-radius: 4px;\n          min-width: 160px;\n          transition: background-color 0.2s ease;\n          position: relative;\n        }\n\n        .user-button:hover {\n          background-color: rgba(255,255,255,0.1) !important;\n        }\n\n        .user-info {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          width: 100%;\n        }\n\n        .user-avatar {\n          width: 28px;\n          height: 28px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 20px;\n          color: white;\n          flex-shrink: 0;\n        }\n\n        .user-name {\n          font-size: 13px;\n          font-weight: 500;\n          color: white;\n          flex: 1;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .dropdown-arrow {\n          font-size: 12px;\n          color: rgba(255, 255, 255, 0.8);\n          margin-left: 4px;\n          transform: rotate(0deg);\n          transition: transform 0.2s ease;\n        }\n\n        .dropdown-arrow.open {\n          transform: rotate(180deg);\n        }\n\n        .user-popup {\n          position: absolute !important;\n          right: 0 !important;\n          top: 100% !important;\n          margin-top: 8px;\n          z-index: 9999;\n        }\n\n        .popup-content {\n          background: white;\n          border-radius: 8px;\n          box-shadow: 0 4px 16px rgba(0,0,0,0.2);\n          min-width: 240px;\n          max-width: 280px;\n          width: 100%;\n          padding: 0;\n          border: 1px solid rgba(0,0,0,0.08);\n          overflow: hidden;\n        }\n\n        .popup-header {\n          padding: 16px;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          background-color: #f8fafc;\n          border-bottom: 1px solid #e2e8f0;\n        }\n\n        .popup-avatar {\n          width: 40px;\n          height: 40px;\n          font-size: 40px;\n          color: #64748b;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n        }\n\n        .popup-user-info {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n          flex: 1;\n          min-width: 0;\n        }\n\n        .popup-user-name {\n          font-size: 14px;\n          font-weight: 600;\n          color: #1e293b;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .popup-user-email {\n          font-size: 12px;\n          color: #64748b;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .popup-menu {\n          list-style: none;\n          margin: 0;\n          padding: 8px;\n        }\n\n        .popup-menu li {\n          margin: 2px 0;\n        }\n\n        .menu-item {\n          width: 100%;\n          text-align: left;\n          padding: 8px 12px !important;\n          font-size: 13px;\n          color: #2d3748 !important;\n          border-radius: 6px;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          transition: all 0.2s ease;\n          cursor: pointer;\n        }\n\n        .menu-item:hover {\n          background-color: #f1f5f9 !important;\n        }\n\n        .menu-item-danger {\n          color: #dc2626 !important;\n        }\n\n        .menu-item-danger:hover {\n          background-color: #fef2f2 !important;\n        }\n\n        .menu-icon {\n          font-size: 14px;\n          opacity: 0.8;\n          width: 16px;\n          text-align: center;\n        }\n\n        .menu-separator {\n          height: 1px;\n          background-color: #e2e8f0;\n          margin: 8px 0;\n        }\n\n        /* Only target the user popup inside the header */\n        .user-popup .k-popup,\n        .user-popup .k-animation-container {\n          position: absolute !important;\n          right: 0 !important;\n          left: auto !important;\n          transform: none !important;\n          z-index: 9999;\n        }\n\n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .user-button {\n            min-width: auto;\n            padding: 6px !important;\n          }\n\n          .user-info {\n            justify-content: center;\n          }\n\n          .user-name, .dropdown-arrow {\n            display: none;\n          }\n\n          .user-avatar {\n            margin: 0;\n          }\n        }\n      "})]})},fi=e=>{let{expanded:t,setExpanded:n}=e;const r=ge(),i=he(),[a,s]=(0,o.useState)(new Set(["masterdata"]));(0,o.useEffect)((()=>{const e=i.pathname,t=new Set;e.startsWith("/forms")?t.add("forms"):e.startsWith("/inventory-adjustment")||e.startsWith("/inventory-transfer")?t.add("inventory"):e.startsWith("/sales-order")||e.startsWith("/item-fulfillment")||e.startsWith("/invoice")||e.startsWith("/credit-memo")||e.startsWith("/debit-memo")||e.startsWith("/customer-payment")?t.add("transaction"):e.startsWith("/purchase-order")||e.startsWith("/item-receipt")||e.startsWith("/vendor-bill")||e.startsWith("/vendor-credit")||e.startsWith("/vendor-payment")?t.add("purchases"):e.startsWith("/journal-entry")?t.add("journal"):(e.startsWith("/customer")||e.startsWith("/vendor")||e.startsWith("/chart-of-account")||e.startsWith("/location")||e.startsWith("/product")||e.startsWith("/tax"))&&t.add("masterdata"),t.size>0&&s(t)}),[i.pathname]);const l=[{text:"Forms",icon:"k-i-form",id:"forms",items:[{text:"Form List",icon:"k-i-grid",route:"/forms",selected:"/forms"===i.pathname}]},{text:"Master Data",icon:"k-i-folder-open",id:"masterdata",items:[{text:"Customers",icon:"k-i-user",route:"/customer",selected:i.pathname.startsWith("/customer")},{text:"Vendors",icon:"k-i-hyperlink-email",route:"/vendor",selected:i.pathname.startsWith("/vendor")},{text:"Chart of Accounts",icon:"k-i-table-align",route:"/chart-of-account",selected:i.pathname.startsWith("/chart-of-account")},{text:"Locations",icon:"k-i-pin",route:"/location",selected:i.pathname.startsWith("/location")},{text:"Products",icon:"k-i-shopping-cart",route:"/product",selected:i.pathname.startsWith("/product")},{text:"Taxes",icon:"k-i-calculator",route:"/tax",selected:i.pathname.startsWith("/tax")}]},{text:"Inventory",icon:"k-i-box",id:"inventory",items:[{text:"Inventory Adjustment",icon:"k-i-grid-settings",route:"/inventory-adjustment",selected:i.pathname.startsWith("/inventory-adjustment")},{text:"Inventory Transfer",icon:"k-i-arrow-right",route:"/inventory-transfer",selected:i.pathname.startsWith("/inventory-transfer")}]},{text:"Sales",icon:"k-i-dollar",id:"transaction",items:[{text:"Sales Order",icon:"k-i-grid",route:"/sales-order",selected:i.pathname.startsWith("/sales-order")},{text:"Item Fulfillment",icon:"k-i-check",route:"/item-fulfillment",selected:i.pathname.startsWith("/item-fulfillment")},{text:"Invoice",icon:"k-i-dollar",route:"/invoice",selected:i.pathname.startsWith("/invoice")},{text:"Credit Memo",icon:"k-i-minus",route:"/credit-memo",selected:i.pathname.startsWith("/credit-memo")},{text:"Debit Memo",icon:"k-i-plus",route:"/debit-memo",selected:i.pathname.startsWith("/debit-memo")},{text:"Customer Payment",icon:"k-i-dollar",route:"/customer-payment",selected:i.pathname.startsWith("/customer-payment")}]},{text:"Purchases",icon:"k-i-cart",id:"purchases",items:[{text:"Purchase Order",icon:"k-i-grid",route:"/purchase-order",selected:i.pathname.startsWith("/purchase-order")},{text:"Item Receipt",icon:"k-i-check",route:"/item-receipt",selected:i.pathname.startsWith("/item-receipt")},{text:"Vendor Bill",icon:"k-i-dollar",route:"/vendor-bill",selected:i.pathname.startsWith("/vendor-bill")},{text:"Vendor Credit",icon:"k-i-minus",route:"/vendor-credit",selected:i.pathname.startsWith("/vendor-credit")},{text:"Vendor Payment",icon:"k-i-dollar",route:"/vendor-payment",selected:i.pathname.startsWith("/vendor-payment")}]},{text:"Journal",icon:"k-i-book",id:"journal",items:[{text:"Journal Entry",icon:"k-i-edit",route:"/journal-entry",selected:i.pathname.startsWith("/journal-entry")}]},{text:"Reports",icon:"k-i-chart",id:"reports",items:[{text:"Charts",icon:"k-i-file-txt",route:"/charts",selected:"/charts"===i.pathname},{text:"COA Relation",icon:"k-i-table-align",route:"/coa-relation",selected:"/coa-relation"===i.pathname}]}],c=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=e.selected,d=e.items&&e.items.length>0,u=a.has(e.id),p=d&&t&&u,h=e.id||e.route||"".concat(e.text,"-").concat(o);return(0,pi.jsxs)("div",{className:"menu-item-container",children:[(0,pi.jsx)("div",{className:"drawer-item ".concat(i?"selected":""," ").concat(d?"has-submenu":""," ").concat(o>0?"submenu-item":""),onClick:()=>(e=>{if(e.items){const t=a.has(e.id);s((n=>{const o=new Set(n);if(t){o.delete(e.id);const t=e=>{e.items&&e.items.forEach((e=>{e.id&&(o.delete(e.id),t(e))}))};t(e)}else o.add(e.id),["forms","inventory","transaction","masterdata","purchases","journal","reports"].includes(e.id)?["forms","inventory","transaction","masterdata","purchases","journal","reports"].forEach((t=>{if(t!==e.id){o.delete(t);const e=l.find((e=>e.id===t));e&&e.items&&e.items.forEach((e=>{e.id&&o.delete(e.id)}))}})):"customers"!==e.id&&"vendors"!==e.id&&"chart-of-account"!==e.id||(["customers","vendors","chart-of-account"].forEach((t=>{t!==e.id&&o.delete(t)})),o.add("masterdata"));return o}))}else e.route&&(r(e.route),window.innerWidth<768&&n(!1))})(e),children:(0,pi.jsxs)("div",{className:"item-content",children:[(0,pi.jsx)("span",{className:"menu-icon ".concat(e.icon)}),(0,pi.jsxs)("div",{className:"item-text-container ".concat(t?"visible":""),children:[(0,pi.jsx)("span",{className:"item-text",children:e.text}),d&&t&&(0,pi.jsx)("span",{className:"submenu-arrow k-i-arrow-chevron-right ".concat(u?"expanded":"")})]})]})}),p&&(0,pi.jsx)("div",{className:"submenu",children:e.items&&e.items.map(((e,t)=>c(e,o+1)))})]},h)};return(0,pi.jsx)("div",{className:"drawer-container ".concat(t?"expanded":""),children:(0,pi.jsx)("div",{className:"drawer-content",children:l.map(((e,t)=>c(e)))})})},mi={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"https://localhost:7184",gi={"Content-Type":"application/json",Accept:"application/json"},vi={baseURL:mi,headers:gi,endpoints:{recordType:"/record-type",forms:"/form",formByRecordType:e=>"/form/by-type-of-record/".concat(e),formByTypeOfRecord:e=>"/form/by-type-of-record/".concat(e),formSequence:"/form-sequence",formSequenceByForm:e=>"/form-sequence/by-form/".concat(e),customFormField:"/custom-form-field",customFormFieldByForm:e=>"/custom-form-field/by-form/".concat(e),customFieldValue:"/custom-field-value",customFieldValueByTypeAndRecord:(e,t)=>"/custom-field-value/by-type-and-record?typeOfRecord=".concat(e,"&recordId=").concat(t),chartOfAccount:"/chart-of-account",chartOfAccountByParentNumber:e=>"/chart-of-account/by-parent-number/".concat(e),salesOrderLine:"/salesorderline",salesOrderLineByOrder:e=>"/salesorderline/by-salesorder/".concat(e),itemFulfillmentLine:"/item-fulfilment-line",itemFulfillmentLineByOrder:e=>"/item-fulfilment-line/by-item-fulfilment/".concat(e),itemFulfillmentLineByFulfillment:e=>"/item-fulfilment-line/by-item-fulfillment/".concat(e),invoice:"/invoice",invoiceByCustomer:e=>"/invoice/by-customer/".concat(e),invoiceLine:"/invoice-line",invoiceLineByInvoice:e=>"/invoice-line/by-invoice/".concat(e),tax:"/tax",inventoryAdjustment:"/inventory-adjustment",inventoryAdjustmentById:e=>"/inventory-adjustment/".concat(e),inventoryAdjustmentLine:"/inventory-adjustment-line",inventoryAdjustmentLineByAdjustment:e=>"/inventory-adjustment-line/by-adjustment/".concat(e),inventoryTransfer:"/inventory-transfer",inventoryTransferById:e=>"/inventory-transfer/".concat(e),inventoryTransferLine:"/inventory-transfer-line",inventoryTransferLineByTransfer:e=>"/inventory-transfer-line/by-transfer/".concat(e),purchaseOrder:"/purchase-order",purchaseOrderById:e=>"/purchase-order/".concat(e),purchaseOrderLine:"/purchase-order-line",purchaseOrderLineByOrder:e=>"/purchase-order-line/by-order/".concat(e),itemReceipt:"/item-receipt",itemReceiptById:e=>"/item-receipt/".concat(e),itemReceiptLine:"/item-receipt-line",itemReceiptLineByReceipt:e=>"/item-receipt-line/by-receipt/".concat(e),vendorBill:"/vendor-bill",vendorBillById:e=>"/vendor-bill/".concat(e),vendorBillByVendor:e=>"/vendor-bill/by-vendor/".concat(e),vendorBillLine:"/vendor-bill-line",vendorBillLineByBill:e=>"/vendor-bill-line/by-bill/".concat(e),vendorCredit:"/vendor-credit",vendorCreditById:e=>"/vendor-credit/".concat(e),vendorCreditLine:"/vendor-credit-line",vendorCreditLineByCredit:e=>"/vendor-credit-line/by-credit/".concat(e),standardField:"/standard-field",standardFieldByRecordType:e=>"/standard-field/by-record-type/".concat(e),creditMemo:"/credit-memo",creditMemoByCustomer:e=>"/credit-memo/by-customer/".concat(e),debitMemo:"/debit-memo",debitMemoByCustomer:e=>"/debit-memo/by-customer/".concat(e),customer:"/customer",vendor:"/vendor",product:"/product",location:"/location"}},yi=e=>{const t=e.startsWith("/")?e:"/".concat(e);return"".concat(mi).concat(t)},xi=(vi.endpoints.salesOrderLine,vi.endpoints.itemFulfillmentLine,vi.endpoints.invoiceLine,vi.endpoints.inventoryAdjustmentLine,vi.endpoints.inventoryTransferLine,vi.endpoints.purchaseOrderLine,vi.endpoints.itemReceiptLine,vi.endpoints.vendorBillLine,vi.endpoints.vendorCreditLine,o.createContext(null)),bi=["name","component","validator","children","onChange"],wi=e=>{const{name:t,component:n,validator:r,children:i,onChange:a}=e,l=s(e,bi),c=o.useContext(xi),d=c?c.id:"";o.useEffect((()=>c?c.registerField(t,r):void 0),[t,d,r]);const u=o.useCallback((e=>{const n=e&&(void 0!==e.value?e.value:e.target?e.target.value:e.target);c.onChange(t,{value:n}),a&&a.call(void 0,e)}),[t,d,a]),h=o.useCallback((e=>c.onChange(t,{value:e.target.value})),[t,d]),f=o.useCallback((()=>c.onBlur(t)),[t,d]),m=o.useCallback((()=>c.onFocus(t)),[t,d]);if(!c)return null;const g=c.valueGetter(t);return"string"==typeof n?o.createElement(n,p({onChange:h,onBlur:f,onFocus:m,value:g,children:i},l)):o.createElement(n,p(p({children:i},l),{},{onChange:u,onBlur:f,onFocus:m,value:g,validationMessage:c.errors[t],touched:c.touched[t],modified:c.modified[t],visited:c.visited[t],valid:!(c.errors[t]&&c.touched[t]),name:t}))};wi.displayName="KendoReactField";function ki(e){const t={};return Ci(e,t),t}function Ci(e,t){for(const n in e)if("__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&e.hasOwnProperty(n)){const o=e[n];t[n]=Si(o,t[n])}}function Si(e,t){if(Array.isArray(e))return Ii(e);if(e instanceof Date)return(e=>e?new Date(e.getTime()):null)(e);if(o.isValidElement(e))return o.cloneElement(e,e.props);if(e&&"object"==typeof e){const n=t||{};return Ci(e,n),n}return e}function Ii(e){return e.map((e=>Si(e,void 0)))}function Ei(e){const t=[];return e.replace(Vt,(function(e,n,o,r){t.push(void 0!==n?n:o||r)})),t}const _i={};function ji(e){if(_i[e])return _i[e];const t=Ei(e);return _i[e]=function(e){let n=e;for(let o=0;o<t.length&&n;o++)n=n[t[o]];return n},_i[e]}_i.undefined=()=>{};const Ai={undefined:e=>e},Di=(e,t)=>t&&t.arrays&&!isNaN(Number(e))?[]:{};function Ni(e,t){const n=ea();return Ni=function(t,o){let r=n[t-=307];if(void 0===Ni.gUKDvc){Ni.LtQmWo=function(e){let t="",n="";for(let o,r,i=0,a=0;r=e.charAt(a++);~r&&(o=i%4?64*o+r:r,i++%4)?t+=String.fromCharCode(255&o>>(-2*i&6)):0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let o=0,r=t.length;o<r;o++)n+="%"+("00"+t.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Ni.gUKDvc=!0}const i=t+n[0],a=e[i];return a?r=a:(r=Ni.LtQmWo(r),e[i]=r),r},Ni(e,t)}const Ti=Ni;!function(e){const t=Ni,n=e();for(;;)try{if(333496===-parseInt(t(367))/1+parseInt(t(321))/2+parseInt(t(364))/3+-parseInt(t(433))/4*(-parseInt(t(322))/5)+-parseInt(t(473))/6*(parseInt(t(435))/7)+parseInt(t(312))/8+-parseInt(t(442))/9)break;n.push(n.shift())}catch(o){n.push(n.shift())}}(ea);const Pi=Ti(437),Mi=Ti(467),Oi=Ti(324);function Ri(e){const t=Ti;return Math[t(449)](e[t(475)]()/1e3)}function Fi(e,t){const n=Ti,o=new Date(1e3*e);return o[n(347)](o[n(401)]()+t),Ri(o)}function Li(){return Ri(new Date)}function zi(e){const t=Ti,n=function(e){const t=Ti;if(typeof atob===t(410)){if(t(372)===t(372))return atob(e);{const e=_0x45eb19^_0x3e027d;return _0x3a5992=_0x3730b8,e}}var n,o;if(typeof Buffer===t(410))return t(465)!==t(426)?Buffer[t(331)](e,t(438))[t(317)](t(461)):_0x5982dc[t(316)]===_0x234d23[t(427)]||(null===(n=_0x6250bd[t(310)])||void 0===n?void 0:n[t(382)](_0x48ef7f[t(427)]))||(null===(o=_0x5264b6[t(344)])||void 0===o?void 0:o[t(382)](_0x318dc8[t(427)]));throw new Error(t(451))}(e),o=new Uint8Array(n[t(434)]);for(let r=0;r<n[t(434)];r++){if(t(395)===t(386)){const e=_0x2a8377(_0x4e61ea),n=new _0x4dd5c5(e[t(434)]);for(let o=0;o<e[t(434)];o++)n[o]=e[t(369)](o);return n}o[r]=n[t(369)](r)}return o}function Bi(e){const t=Ti;return zi(e[t(385)](/-/g,"+")[t(385)](/_/g,"/"))}function Vi(e){return new Date(1e3*e)}function Hi(e,t){const n=Ti,o=Vi(t);return e>new Date(o[n(388)](),o[n(459)](),o[n(401)]()+1)[n(475)]()/1e3}function qi(e,t){const n=Ti;var o,r;let i=[];if((null===(o=e[n(348)])||void 0===o?void 0:o[n(434)])>0)n(339)===n(360)?_0x5502ca=!0:i=e[n(348)][n(471)]((e=>function(e){const t=Ti,n=e[t(390)](".")[1],o=String[t(329)](...Bi(n));return JSON[t(425)](o)}(e)));else if((null===(r=e[n(469)])||void 0===r?void 0:r[n(434)])>0)if(n(412)===n(412))i=e[n(469)][n(471)]((t=>({type:t[n(455)]?n(455):n(381),code:t[n(427)],expiration:t[n(474)],licenseId:null,userId:e[n(460)]})));else{const e=_0x3990e2[n(425)](_0x19e0bf[n(351)]);_0x4ca1a4[n(469)]=[...e[n(469)],..._0x43a9f3[n(469)]],_0x5d6ebe[n(348)]=[...e[n(348)],..._0x1643dc[n(348)]]}return function(e,t){const n=Ti,o=t[n(340)]((e=>e[n(436)]!==n(466)))[n(340)]((t=>{const o=n;var r,i;if(o(353)!==o(408))return e[o(316)]===t[o(427)]||(null===(r=e[o(310)])||void 0===r?void 0:r[o(382)](t[o(427)]))||(null===(i=e[o(344)])||void 0===i?void 0:i[o(382)](t[o(427)]));{this[o(366)]=_0x12519a,this[o(404)]=o(373),this[o(427)]=o(357);const e=_0x318be5?o(336)+_0xe92a75:"";this[o(387)]=o(319)+_0x313547[o(330)]()+o(418)+""+_0x293c36+e+o(342)+_0x52e88f[o(330)]()+".\n"+o(441)}}))[n(411)](((e,t)=>t[n(314)]-e[n(314)]));return o[n(398)]((e=>e[n(436)]===n(424)&&!Hi(Li(),e[n(314)])))||o[n(398)]((t=>t[n(436)]===n(381)&&!Hi(e[n(318)],t[n(314)])))||o[n(398)]((e=>e[n(436)]===n(424)&&!Hi(Fi(Li(),10),e[n(314)])))||o[n(398)]((e=>e[n(436)]===n(455)&&!Hi(Li(),e[n(314)])))||o[n(398)]((e=>e[n(436)]===n(424)))||o[n(398)]((e=>e[n(436)]===n(381)))||o[n(398)]((e=>e[n(436)]===n(455)))}(t,i)}class Ui{constructor(e){const t=Ti;this[t(366)]=e,this[t(404)]=t(373),this[t(427)]=t(309),this[t(387)]=t(379)+t(429)}}class Gi{constructor(e,t){const n=Ti;this[n(366)]=e,this[n(404)]=n(373),this[n(427)]=n(332),this[n(387)]=e+n(452)+(n(397)+e+n(400)+t)}}class Wi{constructor(e,t){const n=Ti;this[n(366)]=e,this[n(404)]=n(373),this[n(427)]=n(419),this[n(387)]=n(420)+t+n(431)+(n(407)+e+n(450))+n(359)}}class Ki{constructor(e,t,n,o){const r=Ti;this[r(366)]=e,this[r(404)]=r(373),this[r(427)]=r(357);const i=n?r(336)+n:"";this[r(387)]=r(319)+t[r(330)]()+r(418)+""+e+i+r(342)+o[r(330)]()+".\n"+r(441)}}class Yi{constructor(e,t){const n=Ti;this[n(366)]=e,this[n(404)]=n(352),this[n(387)]=n(362)+-t+n(389)+n(445)}}async function Xi(e,t){const n=Ti;if(typeof crypto!==n(454)||typeof crypto[n(394)]!==n(454)||typeof TextEncoder!==n(410)||typeof TextDecoder!==n(410)){if(n(439)!==n(396))return;{const e=_0x34a581(_0x1582e2(_0x7bf33b[n(314)]));_0x34c51f(_0x5506c5(),_0x25c113[n(314)])?_0x28a253=new _0x14430e(_0x3f997d[n(366)],e):(_0x36c8f5=new _0x837e95(_0x56f6a2[n(366)],e),_0x12c799=!0)}}const o=crypto[n(394)],[r,i,a]=e[n(390)]("."),s=Bi(a),l=new TextEncoder,c=new TextDecoder,d=l[n(327)](r+"."+i),u=c[n(421)](Bi(r));if(!(JSON[n(425)](u)[n(376)]===Pi)){if(n(392)!==n(323))throw new Error(n(472));{if(_0x1099c9[n(456)](_0x46bd71[n(453)]))return _0x4bcdc1[n(354)](_0x3030b0[n(453)]);const{isLicenseValid:e,message:t}=_0x3e7f38(_0x5b5d09),o=_0x34b005(_0x12e66f);return t&&!_0x5d7ae8[n(456)](o)&&(_0x57b5ff(t,_0x5ee0c0),_0xc5232[n(463)](o)),_0x5b533c[n(399)](_0x36008[n(453)],e),e}}const p=await function(e){const t=Ti,n=t(335),o=t(380),r=zi(e[t(385)](n,"")[t(385)](o,"")[t(385)](/\n/gm,""));return crypto[t(394)][t(422)](t(405),r,{name:t(440),hash:t(457)},!0,[t(458)])}(t);if(!await o[n(458)](p[n(326)],p,s,d)){if(n(446)===n(446))throw new Error(n(308));_0x51af4d[n(358)](_0x142c10)}}const Qi={data:'  {"products":[],"licenses":["eyJhbGciOiJSUzI1NiIsInR5cCI6IlRlbGVyaWsgTGljZW5zZSBFdmlkZW5jZSJ9.eyJjb2RlIjoiS0VORE9VSVJFQUNUIiwidHlwZSI6InBlcnBldHVhbCIsImV4cGlyYXRpb24iOjE3NjA3NTE4MTMsInVzZXJJZCI6ImZlMDg3YmU0LTVlNjItNGY5MS1iZWYzLTE0MGMwNTM4OTYxMyIsImxpY2Vuc2VJZCI6ImMwZDM1M2UwLTliYmUtNDAxOS05NGJlLWRkYTM1ZGEzOWE3NSJ9.vb6OguOH7GZl8frxb7AV-UhDLcaPPfAoxKXpkIIq_KSBzI7rvZGt4ZlbqkuFhF6t3-SN2Aa-3UyG748uFg6-wX6Um5-m4UXiVdIzJz6yjNdPSpSu1D8RC9fSJIGELodpQ7oK8nlyWa2bYBNk6L-2v9K0QhwG9z5XFCQMSBNQmyXm7ij45tXLrgkvJOA6l12M0RNyMegXrHkwh8H6HE4YYVqXtVw0xjpdS3IxF3TDnMp_Plci5CQ1EC0twpfEPcx9cKzyuDenfDsySLvFvDL3zJbv0Z8U9NH5MwwTkKr4H09j7oQ9Gpu9QH0ryEcW4hAuJwqZFjWxbseohJi_WoLVjg"],"userId":"fe087be4-5e62-4f91-bef3-140c05389613","integrity":"Q6esZpw5/OwDxKS3Y2ru7TBA2+WbJShFZR+KnsAeWRE=","scriptKey":false,"timestamp":1747581398}  '};let Ji=Oi;const Zi=new Map,$i=new Set;function ea(){const e=["yLD1B3O","vvrMAgy","igfUzcbPCYbUB3qGDMfSAwqGzM9Yia","veTmmJaZ","ww91CIb0CMLHBcbOyxmGzxHWAxjLzca","zgvJB2rL","Aw1WB3j0s2v5","yNn4yva","C3vIC2nYAxb0Aw9U","CgfYC2u","z3HvvK4","y29Kzq","vunJAum","icbuBYbKB3DUBg9HzcbHigXPy2vUC2uGA2v5igzPBguSihzPC2L0igH0DhbZoI8VChjNCMvZCY5JBY8ZuhDrtuTA","CwruBuC","igrHEsHZksbHz28UcG","z3jVDxa","ndm2me5RzLP1Cq","BgvUz3rO","mJyXntjsuvP3z3y","DhLWzq","vgvSzxjPAYbmAwnLBNnLiev2AwrLBMnL","yMfZzty0","EMnSvNO","uLnbu1nblvblq1mXlxyXxZu","icbszw5LDYb5B3vYigXPy2vUC2uGyxqGAhr0Chm6lY9WCMDYzxnZlMnVlZnqEdLTnuy","mtC2nZeZmKjqDgnnqW","DgLTzxn0yw1W","DMvYC2LVBG","icbuBYbHy3f1AxjLigeGy29TBwvYy2LHBcbSAwnLBNnLlcb2AxnPDcbODhrWCZOVl3bYz3jLC3mUy28Vm1b5seLVsa","zKLjz2m","ywXS","ANntr0K","zMXVB3i","lcb3zsbOB3bLihLVDsbLBMPVEwvKihLVDxiGDhjPywWGCgvYAw9KlGO","yxrVyIbPCYb1BMrLzMLUzwq","igLZig5VDcbSAxn0zwqGAw4GEw91CIbJDxjYzw50igXPy2vUC2uGzMLSzs4k","BMfTzq","B2jQzwn0","DhjPywW","AgfZ","u0Hblti1nG","DMvYAwz5","z2v0tw9UDgG","DxnLCKLK","DxrMoa","DK9jzgS","ywrK","DgHLBG","rhn4Dei","DxnHz2u","vgvSzxjPAYbHBMqGs2vUzg8GvuKGtgLJzw5ZAw5N","BgLJzw5ZAw5Nrg9JC1vYBa","ChjVzhvJDhm","y2f0y2G","BwfW","vw5RBM93BIbSAwnLBNnLigv2AwrLBMnLihr5Cgu","nZy4AgTZu1Lz","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","z2v0vgLTzq","z3jVDxbfBMq","sw52ywXPzcbSAwnLBNnLigv2AwrLBMnL","veTmmJaX","CMvKAxn0CMLIDxrLzej5","q2jNAw0","nda5mda5nKfotKXIsq","rM1rwMq","zxHWAxjHDgLVBG","BvHUwgu","ChjVzhvJDenVzgu","Dg9tDhjPBMC","ChvIBgLZAerHDgu","ww91CIbJDxjYzw50igXPy2vUC2uGAgfZigv4CgLYzwqGB24G","C3bSAwnL","ndmXmdq2EfzhsxPw","mJe1twHgtfPP","vw13Egm","ls0Tls1cruDjtIbqvujmsumGs0vzls0Tls0ktuLjqKLQqu5cz2TXAgTPrZL3mejbuuvgqufpq0froefnsuLcq2Dlq0frrueYBw5vvK1TA3rOmNGRtI9prhn6rWPprKLzqKW2tK9pmvHxuMOXD2TTzwnlDuX6AuPeAez6mfDrBxLpALKZnfLTzZLWthvcqtLru1DYCLP1DLb3ndbocM0Wwc9hqM10DezTue52y2eZv21kmM9lttDqCeXPvvu5zJDpDJvxzuLyBNGRk3rZl0Xdl09cn0z0wITmAvjNsJCkmg1ABLbLvg9NzezYqvnMmhPtuuP2ngPTwdG0meXqytzUB21xzvvNsvzhueXmvKKXneDPyJHeBcTUt2nRCunoyWPRqvvvAZrjqKy2n0r1zLj0oxPrEvj4zZK5ExnHA3ziwdjtrgjKr3zjqMr4v3H2AgHTCKjVzwL4mhvtvNrhmMDTcMPKDLnXBfbkvMr2twjRmvHLmITtvwXKsLbYEeGXvNjuwwvsvxq0ExfxEhKXnM5gsLveAJLLEfOYmdjynfriA1uksLfjrefrquikls0Tls1ftKqGufvcteLdieTfws0Tls0T","zg5zEhC","ywXNB3jPDgHT","zw5JB2rL","DMP0B1i","zNjVBunOyxjdB2rL","Dg9mB2nHBgveyxrLu3rYAw5N","zNjVBq","veTmmJaY","EfDuzMm","AM9PBG","ls0Tls1cruDjtIbqvujmsumGs0vzls0Tls0","ihzLCNnPB24G","AKziDK0","zMjfs3O","Bxbuzfi","zMLSDgvY","DvPPt1C","lIbuAguGChjVzhvJDcb3yxmGChvIBgLZAgvKig9Uia","CgfYC2vjBNq","ChjVzhvJDenVzgvZ","Dw5KzwzPBMvK","qvHeswW","C2v0rgf0zq","BgLJzw5Zzxm","D3HsBNO","C3rYAw5NAwz5","zgf0yq","su5gtW","rhbnz00","z2v0","DhjPBq","AvnVCxe","veTmmJa0","D2fYBG","icbuBYbJB250Aw51zsb1C2LUzYbVDxiGChjVzhvJDcWGy29UC2LKzxiGDxbNCMfKAw5NihrVigeGy29TBwvYy2LHBcbSAwnLBNnLoIbODhrWCZOVl3bYz3jLC3mUy28Vm0m5BxiXtq","D1jAsgu","q2rwuhe","ww91CIbuCMLHBcbSAwnLBNnLihDPBgWGzxHWAxjLigLUia","ALPoyKG","mti5nZmZnuXku1DAvW","D3LevfG","ChjVzhvJDe5HBwu","mtK4mdq4B0jiEuX4","s3jLC3G","y2HHCKnVzgvbDa","DejjvLu","sKzkuvK","y0j1C3G","v0fstG","AxnbCNjHEq","teLcC1C","DhLW","tuXVBxq","y2XLyxi","tM8GvgvSzxjPAYbHBMqGs2vUzg8GvuKGtgLJzw5ZzsbMB3vUzc4k","ls0Tls1ftKqGufvcteLdieTfws0Tls0T","CgvYCgv0DwfS","Aw5JBhvKzxm","ChvZAa","yMvTALi","CMvWBgfJzq","BvDPyMS","BwvZC2fNzq","z2v0rNvSBfLLyxi","igrHEsHZks4k","C3bSAxq","Du5ezeO","qK9PzKK","AfvhwNy","C3vIDgXL","rfLjseq","shLIEfC","icbmzwfYBIbTB3jLigfIB3v0ia","zMLUza","C2v0","igXPy2vUC2LUzYbHDca","z2v0rgf0zq","C2XPy2u","q2LXqNG","C2v2zxjPDhK","C3bRAq","C2nYAxb0s2v5","icbuAgfUAYb5B3uGzM9YihrYEwLUzYbVDxqG","r053tvC","rgLMAMG","zNvUy3rPB24","C29YDa","C2PbDNm","v0rkz0m","De93vhK","D0j1wK0"];return(ea=function(){return e})()}let ta=!0;function na(e){const t=Ti,n=JSON[t(425)](Qi[t(351)]),o=!n[t(406)]&&!n[t(443)],r=n[t(406)]&&typeof KendoLicensing===t(345);let i,a,s=!1;if(o||r||!(e=>{const t=Ti;var n,o;return(null===(n=e[t(348)])||void 0===n?void 0:n[t(434)])>0&&(t(328)!==t(361)?Promise[t(447)](null===(o=e[t(348)])||void 0===o?void 0:o[t(471)]((e=>Xi(e,Ji))))[t(464)]((()=>{const e=t;e(371)!==e(371)?((void 0)[e(366)]=_0xa0e9fa,(void 0)[e(404)]=e(352),(void 0)[e(387)]=e(362)+-_0x3c322c+e(389)+e(445)):ta=!0}))[t(470)]((()=>{const e=t;e(325)===e(384)?(_0x279ee5(_0x40a78e,_0x376352),_0x1de0d9[e(463)](_0x9e336f)):(ta=!1,Zi[e(378)]())})):_0x4919fc=_0x176fb4[t(348)][t(471)]((e=>_0x23b881(e)))),ta})(n))t(346)!==t(346)?_0x172134=new _0xd45048(_0x20f331[t(366)],_0x5b103b[t(468)]):i=new Ui(e[t(366)]);else if(t(338)===t(338))if(a=qi(n,e),a){if(a[t(436)]===t(455)){if(t(363)!==t(363))throw new _0x448cfd(t(472));{const n=function(e){const t=Ti,n=Li()-Ri(e);return Math[t(449)](n/86400)}(Vi(a[t(314)]));if(Hi(Li(),a[t(314)]))t(341)===t(341)?i=new Wi(e[t(366)],n):_0x35f50f=_0x1bc909[t(469)][t(471)]((e=>({type:e[t(455)]?t(455):t(381),code:e[t(427)],expiration:e[t(474)],licenseId:null,userId:_0x50a162[t(460)]})));else{if(t(413)===t(375)){const e=_0x43aa00(_0x26c514),n=new _0x160981(e[t(388)](),e[t(459)](),e[t(401)]()+1)[t(475)]()/1e3;return _0x30d191>n}i=new Yi(e[t(366)],n),s=!0}}}else if(a[t(436)]===t(381)||a[t(436)]===t(424)){if(t(393)===t(403)){const e=new _0x180312(1e3*_0x1c0fba);return e[t(347)](e[t(401)]()+_0x5d9b8e),_0x3c33b4(e)}{let n=a[t(314)];if(a[t(436)]===t(424)){if(t(365)===t(349))return _0x305a7e[t(331)](_0x1d74f2,t(438))[t(317)](t(461));n=Fi(n,10)}if(Hi(e[t(318)],n)){if(t(313)!==t(313)){const e=[],n=_0x24185b[t(355)]();for(let r=0;r<n[t(434)];r+=2){const o=n[t(402)](r,r+2);e[t(383)](_0x11ba44[t(343)](o,21))}let o=66;return e[t(471)]((e=>{const t=e^o;return o=e,t}))[t(471)]((e=>_0x4ea915[t(329)](e)))[t(334)]("")}i=new Ki(e[t(366)],Vi(a[t(314)]),e[t(444)],Vi(e[t(318)]))}else{if(t(370)===t(428)){const e=_0x3ac30b[t(385)](/-/g,"+")[t(385)](/_/g,"/");return _0x248bcc(e)}s=!0}}}}else t(333)!==t(391)?i=new Gi(e[t(366)],e[t(468)]):_0xa096c8=new _0x98da4d(_0x16eef4[t(366)],_0x1785ac);else _0x37cadf[t(432)](_0x30e463);const l=a,c=(null===l||void 0===l?void 0:l[t(314)])?Vi(l[t(314)]):void 0;return{isLicenseValid:s,licenseType:null===a||void 0===a?void 0:a[t(436)],licenseProductCode:null===l||void 0===l?void 0:l[t(427)],expiration:c,message:i}}function oa(e){const t=Ti;if(Zi[t(456)](e[t(453)]))return t(462)!==t(462)?void 0:Zi[t(354)](e[t(453)]);const{isLicenseValid:n,message:o}=na(e),r=(i=e)[Ti(316)]||i[Ti(344)][0];var i;if(o&&!$i[t(456)](r)){if(t(377)===t(368)){const e=_0x36910c[t(390)](".")[1],n=_0x2f9af6[t(329)](..._0x41151f(e));return _0x15476e[t(425)](n)}(function(e,t){const n=Ti;if(typeof console===n(454))if(n(356)===n(356)){const r="["+e[n(404)]+"]["+Mi+"]"+(o?" "+o+":":"")+" "+t[n(366)],i=typeof console[n(432)]===n(410);if(i)n(337)!==n(337)?(this[n(366)]=_0x37433e,this[n(404)]=n(373),this[n(427)]=n(332),this[n(387)]=_0x274a5f+n(452)+(n(397)+_0x5d4d36+n(400)+_0x2f4cfe)):console[n(432)](r);else{if(n(448)===n(416)){const e=_0x273768()-_0xe80df2(_0x275bda);return _0x4f2d04[n(449)](e/86400)}console[n(358)](r)}if(console[n(358)](e[n(387)]),i){if(n(414)!==n(414)){const e=_0x53c0d4[n(340)]((e=>e[n(436)]!==n(466)))[n(340)]((e=>{const t=n;var o,r;return _0x9d0913[t(316)]===e[t(427)]||(null===(o=_0x3c168c[t(310)])||void 0===o?void 0:o[t(382)](e[t(427)]))||(null===(r=_0x37b044[t(344)])||void 0===r?void 0:r[t(382)](e[t(427)]))}))[n(411)](((e,t)=>t[n(314)]-e[n(314)])),t=()=>e[n(398)]((e=>e[n(436)]===n(381)&&!_0xd396bd(_0x190c4f[n(318)],e[n(314)]))),o=()=>e[n(398)]((e=>e[n(436)]===n(424)&&!_0x3285c4(_0x23f671(_0x2184e9(),_0x557385),e[n(314)]))),r=()=>e[n(398)]((e=>e[n(436)]===n(455)&&!_0x1a54ab(_0x1357a4(),e[n(314)]))),i=()=>e[n(398)]((e=>e[n(436)]===n(381))),a=()=>e[n(398)]((e=>e[n(436)]===n(424))),s=()=>e[n(398)]((e=>e[n(436)]===n(455)));return(()=>e[n(398)]((e=>e[n(436)]===n(424)&&!_0x3f97ba(_0xcf232a(),e[n(314)]))))()||t()||o()||r()||a()||i()||s()}console[n(307)]()}}else _0xcdaef8[n(320)](3,0,"");var o})(o,e),$i[t(463)](r)}return Zi[t(399)](e[t(453)],n),n}const ra=["telerik.com","progress.com","stackblitz.io","csb.app"],ia=new Map,aa=()=>{const e=Array.from(ia,(e=>{let[t,n]=e;return"- ".concat(t,": ").concat(Array.from(n).join(", ")||"all")})).join("\n");console.group("[WARN][Telerik and Kendo UI Licensing] KendoReact"),console.warn("License check was triggered by these premium KendoReact components/features\n".concat(e,"\nSee the full list of free and premium components here: ").concat("https://www.telerik.com/kendo-react-ui/components/free?utm_medium=product&utm_source=console&utm_campaign=dt_kendoreact_freemium")),console.groupEnd(),ia.clear()},sa=(e,t)=>{const n=oa(e),o=ra.some((e=>{var t;return null==(t=globalThis.document)?void 0:t.location.hostname.endsWith(e)}));if(!n&&Ro&&t)if(0===ia.size&&setTimeout(aa,1e3),ia.has(t.component)){const e=ia.get(t.component)||[];ia.set(t.component,new Set([...t.features||[],...e]))}else ia.set(t.component,t.features||[]);return n||o};let la=!1;const ca=()=>{const[e,t]=o.useState(!0),[n,r]=o.useState(!1);o.useEffect((()=>{la||(r(!0),la=!0)}),[]);const i=o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"16px",right:"16px",padding:"12px",borderRadius:"4px",boxShadow:"0px 4px 5px 0px rgba(0, 0, 0, 0.04), 0px 2px 4px 0px rgba(0, 0, 0, 0.03)",fontSize:"14px",fontWeight:400,lineHeight:"20px",backgroundColor:"#FFC000",color:"#1E1E1E",zIndex:2e3}},o.createElement("span",{style:{display:"flex",alignSelf:"center",marginRight:"8px"}},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1L0 15H16L8 1ZM7 6V11H9V6H7ZM7 14V12H9V14H7Z",fill:"#1E1E1E"}))),o.createElement("span",null,"No valid license found for KendoReact. Learn how to activate your license."),o.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:"24px"}},o.createElement("a",{href:"https://www.telerik.com/kendo-react-ui/components/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-banner",style:{marginRight:"8px",display:"flex"}},o.createElement("button",{title:"Learn More",style:{display:"inline-flex",position:"relative",border:"none",borderRadius:"4px",padding:"5px",backgroundColor:"transparent",transition:"color 0.2s ease-in-out",outline:"none",cursor:"pointer"}},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},o.createElement("path",{d:"M15 8C15 11.8656 11.8656 15 8 15C4.13437 15 1 11.8656 1 8C1 4.13437 4.13437 1 8 1C11.8656 1 15 4.13437 15 8ZM14 8C14 4.6875 11.3125 2 8 2C4.6875 2 2 4.6875 2 8C2 11.3125 4.6875 14 8 14C11.3125 14 14 11.3125 14 8ZM11 6C11 7.4125 10.2687 8.05937 9.73125 8.53125C9.25937 8.94688 9 9.17813 9 10H7C7 8.275 7.84688 7.525 8.40938 7.03125C8.84062 6.65312 9 6.50938 9 6C9 5.45 8.55 5 8 5C7.45 5 7 5.45 7 6H5C5 4.34375 6.34375 3 8 3C9.65625 3 11 4.34375 11 6ZM9 13V11H7V13H9Z",fill:"#1E1E1E"})))),o.createElement("button",{title:"Close",style:{display:"inline-flex",position:"relative",border:"none",borderRadius:"4px",padding:"5px",backgroundColor:"transparent",transition:"color 0.2s ease-in-out",outline:"none",cursor:"pointer"},onClick:()=>{t(!1)}},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},o.createElement("path",{d:"M13 4.41562L9.41563 8L13 11.5844L11.5844 13L8 9.41563L4.41562 13L3 11.5844L6.58437 8L3 4.41562L4.41562 3L8 6.58437L11.5844 3L13 4.41562Z",fill:"#1E1E1E"})))));return o.createElement(o.Fragment,null,o.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,right:0,bottom:0,opacity:.12,zIndex:101,pointerEvents:"none",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABVxSURBVHgB7Z3tVRtJE4WL9zgANgLLGRCCnAGOADmCxRGgDFAGYiOADKQMIAGO9J8ji42g37mjqlUjBgOanpn+uM85sjC2sKzbVd1dVV0tQgghhBBCCCGEEEIIKRPn3Gn1GAlJmmN1pP558J6OX9540ejh4WGlX09OTk7+EZIclXYXlY43+vVflY7PH3wd9c+AY/Wvvcb9/b0bjUYOz/hBQpICmh1oOPrEa6l/4rTR337AhIMgTSqtzg+0m8gnof7p0mD8EzmGhkFwJiR6np6e7luLL9Q/RTDTBzF+7wfWg2CxWOCHjYVET6XTdLPZrFuLL9Q/NeCkoVUQ4/d+6Ijev1yof1rAUVMvQgjJHebrSRu+CEmWo/O8hISgCjStKpgiGoDWed4AUP/hwGf++Pi4hQYyFHgDzBP3T7A8b0uo/zD4+sMBy1CwWKR/YjF+fS/Uv2di0t/eEAdBT0QnvlD/PolR/xoOgu4JUd7bFdS/e6I1foODoFuqz3M2mUziFF+of5dEb/xGwyAYCwmCVuPNYv5MqX94Yl75NWKD4PLyEm92KqQoqH9Y8Bnis0zC+A14LbxxVqiVCfUPh678plxNFYQe5pjRgAgpDAv4IOAHJyCEkDJoiPaeCyG5UA1oRIYWHNivSSbV0wLq/zbQXz+bS8kV/AeZJ35NCcYPqH8zvv4VS8kVFou8phTjB9T/NcVt+zgI9rjQDRwTgPrvKcn5v4CDYIfT/vtFiS/UHxRr/AYHwQ4t9DiVwihZ/+KN36ATKJsS9U+utr9r/EGQdQSUNFKa/geZkImQ/2rHlznnQDG7oX9b9Xwl5AUl6G9oLcSSxl8Q/p4P13YJIaQMisvzEkJ2lJjnJyQY3lnoJGfNUvP8oUhZf7c70s2eCG1wL7uhRJ0iQnCveiDIhzf7t/f9IvP8IUhJfx/b9rErUkvgRVPIE1fv6xrvbzweu7OzM3d7e4v3OhfSilT092HMJzCxF4u43eWctfFvt1uHu9nxXvF1CWmtroldfx9W+HVErINAjX+M65ngAPxnOAJ1AiMhrUjBCdD4Oya2QYBlPwx8vV47WwFg+a+XZbrz83NzANz/ByBmJ0Dj74lYBgECfrbnt6U/DB/vC7388L2rqyu8vzshwYjRCdD4e8YfBLidVgYA0X7M9jB8PGazmbu5ualnfiz9dSAsufwPTwz6+5jjp/H3CD5ofPB9343u9v3u6+U+0jyY7eEA8Hx3d4c/QjvvMyGdMZT+TeA9wBHR+DPHUn3T6bRe7uMxn89tn18v/TH7O17gQEheYM9vEX7M9hbsg/FbHED3/IPPSISQgNhyE0au+7x7PPtOQFcB3PMTMjTYf4cyRN3zL2DgMHgs/7XU99acgDIWEgUh9W/4uWMh8QKBvCh8qxSR7fmxt0eEv8kJ6MzP8/2REFL/g59bp/o0xsMAb6xAnBB5Yr+6D3X9KOpBxP/ACWA0jFnoEw+h9D/4mYd5/pGQeAlRLFK95tJy+35578PDQ+0E9LAPi3wixAUsFmKRT6I0DIIPzdJuf6R3i+UeZnsz/nqjPx47/fMpZ/54OVb/g5/BZi4pY4Pgo8s2d3CkF0Z/cXFRL/+Xy2W9BdBUH4/5JsBn9W94PZu5pI77QzMOjepiNp/j71hO//fv31sr7qmtfT73i3xWjnvAZHhH/4nquXrLwB2bueSJ27Vmvodhq4df4BmzvQb3IPxWl/zgRl/DwZA4GrhdYFUHfbHE1y0enXsJ2FLfCnggvjqBejDoTI8o38ocgJAscNq8BY4fv/Uf+J46gjkdQcbA+19fXzs7zQfR8TWcgH+kFw/u+fMDKz/o3OQETk9PLcWLPSBbeeWELd91eb+CcTc5gXr6r9J8PNKbF/7S3z+6DYcvDasBOv6M0GUduNDfv+cEYPhjIVmA+I3Vc4gaOQzfHAECvb4joAPICCzlrIJP93h/dAIYDBQ/L8wBNC37rXUblv5CB5AfGvi5h6F7Ed9GJ2CZP0b780O1vreVnnhOAFsBOoCMscg/HMBbTsCO+grJFkvvHmYCSnYA/5MMcbsiH6TykNgfr9fry58/f0oltFxcXMj379+l+h42gBcnJyfr6iXfq1nhJ56FZIeuAq+fn59Xv379Oq0CgVJNBEIydAAavLv98ePHeSX4bfX1OQSv9noQ/a7y9A8HTuAcTqB63FSPZyE5Mq3GwOW3b99kNpu9+5e/fv2Kp3+FpAW8vB3cwbLOOvZYfl9LfGdW9KOn+mZCskZXhCuL9vtLfjvshd97hWArpn8TxGn5rhZzOL/gB19DYBzzxcEeTQEtGfArB7c7xbmyVu4YExoTuNcYEL6eCkkTxHYOmna4wzQfvq8z/+o949e940hIkjTp5/ZXjm/1+VQfr856UP/EcLtqr9s/OQENDl5+wPhH3nHQZK6mJjucNvNo2w+A+icC0jaY4a2LT5MT+Mye3+l58JSupiY7XIA2XtQ/IZw2f7D9v+X6D53AZ/f8LqGrqckOF7CNF/VPAF3Or6xvv53r951Amx5+DYOAXWEjxXXQxov6R4zTSzusht8OfABE+r3U39y1iPbbIODVX3ED4/Tagk8kENQ/QiyaC1Fg7PX6frm0Mk6/wUOQ8l799+j9I0cDwcF1ov4R4Xbde2vjxi92ogsPzPrY92szD7buJiQn3K6+v17q2yxvlV1u3+TRAn4jIYTkAfbymOWx1AcwfHMEXp5/JISQ9PEDd867ohvGbvt+cwRe6+5ee7ltNpuVf7yYdA8+68fHxy0+exkY6t8RGnSxJX19yAd7fWvhjEs7NOCHb2D9/+AGqO3HQGSeuD/8PD/GggwM9e8IBPCwr7ciHnzA6NrqtW5+4QRkIByLRXrDRXhXH/XvCKRccEuPX8mHD9jr7Vc7AV32D9rJh4Oge2I0foP6d8QHnADO9kdxYw8HQXfEbPwG9e+It5yAlvdG1beNgyA8KRi/Qf07oskJIEYQw8x/SMMgGAs5CmR0UjF+g/oHwh00YzAn0OZgT1/YINBU5VTIUeCzw2eYivEb1L8l7o1mDm7X220a48x/iNtVLE4dC5OOxu2794wlMaj/kbgAzRwIIQmS4p6PEBKIp6enexo/IYWCPdNms1nnbPxat7BwvH/+P7Dt08/kUjKH+hcOxGeeeI8f86lYSuZQ/8JhsciehoBv9rMi9VdcwZcucBCkVeEXmuL1dy0vbciBkgdBycZvFKs/8/x7ShwENP49xelP8V9T0iBgncdritGfxv82/iDIORJ+EAGfCKnJXn8a//to7fgy51y45sCX1P812erPZR8hBVMZ/Ax9+2j8hBSIHumcpXikkxBCBsXtz8QnUyXndvfz8Sx8AFLUnwTEveyKE32KyAK+7IYThqT0V88/o+cPBz7TVPLEJdb2d00y+pv4elHHTEgwUigWYaq3O6LXn56/e2IeBDT+7olWf4rfHzEOAurfH9HpT/H7J6ZBQP37Jxr9Kf5w+IMAt9PKQOB6NurfP4Prjyg/jX9Y8JnDAHE/vQwE/m0MQOrfP4PqX/3jp15Dj4kQQspCK5SK7OZDCCGEEBIfbneH4kgCoT9vLCQJguqPaD8CDdXzlZDogaEuFotgKSLL9uBnYmAJiZqg+vupPlzbJSR6YKSh8sSODVyTI5j+LO9NlxDFIqzzSJfW+jPPnz4Ng+DDGRvqnz5t9GeePxNsEHx2+U798+BY/e3FzPNnwLE6Uv88oI6EEEIIIYQQQgghhBBCCCGEEEIIIYQQQkiRoHyQxz/T51gdqX8evKfjlzdeNHp4eFjp15OTk5N/hCQHjoFWOt7o139VOj5/8HXUPwOO1f+/02ApXEhJmmnTzIP6p49r28wlRFMJMgwhmnlQ/3RB854g/RwaBgF7wkVOyGYe1D9N0L4vWDMXGwTaFHIsJGpgpF5TyIm0hPqnR6XTdLPZrF2oZi7aVIDePxFgqCH1ov6EEEIIITHRtl7jixBCkuToPH8ocGMQrihmiqh/8Jnjau6hrwen/sPQOs8fAgxA5on7xxcfBigDQf2HIUSdR6g3wmKRnolGfKH+QxCT/vaGOAh6Ijrxhfr3SYz613AQdE+04gv174Ng5b1dwUHQHTEbv0H9u6X6PGeTySTu69oaBsFYSCui9/we1L87tBpzFv1naoPg8vISA2AqpBX4DPFZxm78BvUn9awF8R07yrRGPf80pdmU+hNCyJHoYa4ZHSghhWEBXwT84ASEEFIGDdmec8mJ6j+EyNAiu/9YACC+fjaXkinU/21SSPW2BuIzT/waX/yKpWQK9W+mCOMHLBZ5TfbLPg/q/5pijN/gINhTnPhC/X1cwAauScFBUKbxG9R/h9P7F0rTv6bkQVCy8Rt0Aju00OtUSqTEQZBSbX/X0AmQF4Mg5wi4cRAJn0jhlKY/aUBrx5c558ANzYUvafx7StAfqxv0UKyer4QQUg5+zAfXdgkhpAxKqvMghHgUm+cPhdufhU/Oa+qRTp6Jb0HK+oOi8/whcC+74SSTIrJlH7vitCMl/RHcqx4I8uHN/u19v9w8f1swi6aWJ+aeLxyp6F+9r2u8v/F47M7Oztzt7S3e61xIe1IqFmGFX3hi19/tLuesjX+73brFYlG/V3xdQlq7F1JwAjT+7ohVfzX+Ma5ngwPwn+EI1AmMhLQnZidA4++e2PTHsh8Gvl6vna0AsPzXy1Ld+fm5OQDu/0MRoxOg8fdHLPoj4Gd7flv6w/DxvtDLD9+7urrC+7sTEhZ/EOB2WhkYE57G3w8x6I9oP2Z7GD4es9nM3dzc1DM/lv46FpZc/ncEBgEMD7XVMjB4DxiINP7+GEp/t7/voF7uI0WJ2R4OAM93d3f4I7TzPhNCSD5Yqm86ndbLfTzm87nt8+ulP2Z/x+vQCMkL7Pktwo/Z3oJ9MH6LA+ief/AVKSEkILbdgJHr3v4ez74T0FUA9/wxgP1XF0Lozx0LiZqQ+uuefwEDh8Fj+a+lvrfmBJSxkOGBEF4UNliKyFJ9usdjgCdSQupve37s7RHhb3ICOvPzfH8swDhD54kb8vwjIVESSn+/ug91/SjqQcT/wAlgNhiz0CcyQhaLsMgnPULoX73m0nL7fnnvw8ND7QT0sA+LfGKlYRB82ks7NnNIlmP1d/sjvVtsJTDbm/HXG/3x2OmfTznzR44NgmOX7Y7NHJLms/q7gyO9MPqLi4t6+b9cLustgKb6eMw3FdwfmjFggKg3X71l4I7NHJLmHf3PVPs5/o7l9H///r214p7a2udzv8hn5RgDShsN3Czg1SE4lom6xKO4heB2rdnvYdi6QljgGbO9BvfgOLa65Ac3+hpOBinjtHkDhMdv/Qe+p45gTkeQL7bUtwIeaK5OoJ4MdKZHlG9lDkBIPsDzQ/QmJ3B6emopHqwB2corQzDDX19fOzvNh7GAr+EE/CO9eHDPnxH+0t8/ugnBpWE1QOHzwpbvurxfwbibnEA9/VdpPh7pzQjs3yyfK2rkMHxzBAj0+I6ADiAvdFsHLvT37zkBGP5YSB6YA2ha9lvrJiz9hQ4gO7CVswo+jfH80QlgMqD2GaKC35unF88JYCtAB5AnGvi9h6F7GZ9GJ2CZP0b7M8XSO4eZADqAvLHIPxzAW07AjvpKYfxPCkBngevn5+fVr1+/TqtAoFQDQUieuF2RD1J5SOyP1+v15c+fP6Vy9HJxcSHfv3+X6nsIAF2cnJysq5d8r1YAP/EshVGEA6iYVkZ/+e3bN5nNZu/+5a9fv+LpXyHJocG72x8/fpxXDv+2+vocDr+K9cDp31UrvYcDJ3AOJ1A9bqrHs5D80BlhZdF+f8lvhz3we68QZMX0T3pglWcHd6Cjdeyx/L6W+M6s6EdP9c2ElIHbneJaWStnFIRoTOBe94D4eiokSZyW72oxl/MLfvA1jB6642CPpoCXDPhljO79RwffG6kj2OrzqT5e1Xo3vZ7EC2K7B0073GGaD9/XmX/1nvFT/4Rx2syjbT+AIW+gIZ/D7ao9b//kBDQ4ePkB46f+qeICtPFy2g8gpavJSwZpW8zw1sWnyQl8Zs9P/RPFBWzj5RK6mrxkTCfb/1uu/9AJfHbPT/0Tw3XQxqthELArcETocn5lffvtXL/vBNr08KP+CQFxvLbQEwmEDQJe/RQXTi/tsBp+O/AFEOn3Un9z1yLaT/0TQgNBwb20Zg/o/SPBsjkwShh7vb5fLq2M22/wEqS8V/+9sRBChsXtuvfWxo1f7EQnHpj1se/XZh5s3U1ITrhdfX+91LdZ3io73b7JqwX8RkIIyQPs5THLY6kPYPjmCLw8/0hI3iAd8/j4uN1sNisZGLwH/3gpCYcfuHPeFd0wdtv3myPwWnf32suR+veMn+fHBy8DA0fEPHF4NOhmS/r6kA/2+tbCHZd2aMAP38D6/8ENUNtP/XvERXhXn2OxSCcggId9vRXx4LNF12avdfsLJyADQf17IkbjNzgIwoOUK27p8Sv58Nl6vf1qJ6DL/kE7+VD/jonZ+A0OgvB8wAngbH8UN/ZQ/45IwfgNDoLwvOUEtLw3qr6N1D8wiOimYvxGwyAYC2lFkxNAjCCGmf8Q6h8QRHeR7knF+A0bBJqqmgr5NO6gGYc5gTYHe/qC+gfC7bv3jCUx3K5ibepYmPJp3BvNXNyut+M0xpn/EOpPyBG4AM1cCCEJkmLMhxASiKenp3saf4Fg2Vc9FsjpSuZo3hr/115r1lMAe+bNZrPO2fip/wH+nq9iKZkD8ZknLhfq79EQ8MneK7JYpGyov5JShV9oOAjKvnSjeP1LNn6j5EHgWl7akgPF6k/j31PiIGCef09x+jPP+5qSBgGd/2uKcgIHEdCJkBp/EOSaCaHxv00J+tdoDnRJ8V+jtePLHGshaPzvk7P+pGC47SOkYCqDn6FvH42fkAJxuyPdaN01FlIGbnc/37TkFE8o3L4nAmvHCyQ5/S3gw24oYXAvuyKxbLgwktK/xNr+rsFqKpU8sa78Zlz5hSMZ/Znq6Y4UikVMf72oYyYkGNHrT+PvnpgHAVd+3ROt/jT+/ohxEFD//ohOf4rfPzENAurfP1E5AVzPRPH7xx8EuJ1WBoDGPxyH+ruhjlTjbnR9AxMhvYLPHA4YGkjPIMpP4x+WIfUnhYMZx2voMRFCSFlohVqR3XwIIaQc3O5OtrGQJFC9RkKKRCsyRxICi/YuFgvs986ERA3Eh1ahUkT4GQg0Vc9XQqInqP6ODRyTA046VJ7Y1x/XdgmJnmD6M8+bLiGKRVjemy6t9WeeN30aBsGHI/bUP33a6M88bybYIPjs9o3658Gx+tuLmefNgGN1pP55QB0JIYQQQgghhBBCCJGy+T9ftRg+rVNPfAAAAABJRU5ErkJggg==')"}}),n&&e&&Io.createPortal(i,document.body))},da={name:"@progress/kendo-react-form",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:1745410752,version:"10.2.0",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"},ua=class extends o.Component{constructor(e){super(e),this._touched={},this._visited={},this._modified={},this._validatorsByField={},this._values={},this._fields={},this._unmounted=!1,this._submitted=!1,this.showLicenseWatermark=!1,this.isValid=()=>this.isFormValid(this.errors),this.accumulatedForceUpdate=()=>{this._accumulatorTimeout&&clearTimeout(this._accumulatorTimeout),this._accumulatorTimeout=window.setTimeout((()=>{this._accumulatorTimeout=void 0,this.forceUpdate()}),0)},this.resetForm=()=>{this.values=ki(this.props.initialValues),this._key=en(),this._touched={},this._visited={},this._modified={},this._validatorsByField={},this._fields={},this._submitted=!1,this.forceUpdate()},this.onReset=()=>this.resetForm(),this.addField=e=>{this._fields[e]=!0},this.onSubmit=e=>{const t={},n=this.fields;e&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation()),n.forEach((e=>{t[e]=!0})),this.visited=p({},t),this.touched=p({},t);const o=this.values,r=this.isFormValid(this.errors),i=this.isFormModified(this.modified,n);this.props.onSubmitClick&&this.props.onSubmitClick.call(void 0,{values:o,isValid:r,isModified:i,event:e}),r&&(this.props.ignoreModified||i)&&this.props.onSubmit&&(this._submitted=!0,this.props.onSubmit.call(void 0,o,e)),this.forceUpdate()},this.onChange=(e,t)=>{const{value:n}=t;this.addField(e),this.modified[e]||(this.modified=p(p({},this.modified),{},{[e]:!0})),this.valueSetter(e,n),this.forceUpdate()},this.onFocus=(e,t)=>{this.visited[e]||(this.visited=p(p({},this.visited),{},{[e]:!0}),t||this.forceUpdate())},this.onBlur=(e,t)=>{this.touched[e]||(this.onFocus(e,t),this.touched=p(p({},this.touched),{},{[e]:!0}),t||this.forceUpdate())},this.onFieldRegister=(e,t)=>{this.addField(e);const n=this.validatorsByField[e]||[],o=n.length;return this.validatorsByField=p(p({},this.validatorsByField),{},{[e]:[...n,t]}),this.accumulatedForceUpdate(),()=>{if(this._unmounted)return;const t=[...this.validatorsByField[e]||[]],n=!!t[o];t[o]=void 0,this.validatorsByField=p(p({},this.validatorsByField),{},{[e]:t}),n&&this.accumulatedForceUpdate()}},this.isFormValid=e=>!Object.keys(e).some((t=>!!e[t])),this.isFormModified=(e,t)=>t.some((t=>e[t])),this.isFormHasNotTouched=(e,t)=>t.some((t=>!e[t])),this.isFormTouched=(e,t)=>t.some((t=>e[t])),this.isFormVisited=(e,t)=>t.some((t=>e[t])),this.valueGetter=e=>ji(e)(this.values),this.valueSetter=(e,t)=>function(e){if(Ai[e])return Ai[e];const t=Ei(e);return Ai[e]=(e,n,o)=>{let r=e;const i=t.length-1;for(let a=0;a<i&&r;a++)r=r[t[a]]=r[t[a]]||Di(t[a+1],o);r[t[i]]=n},Ai[e]}(e)(this.values,t),this.onArrayAction=e=>{this.addField(e),this.modified[e]||(this.modified=p(p({},this.modified),{},{[e]:!0})),this.onBlur(e,!0)},this.onInsert=(e,t)=>{this.onArrayAction(e);const n=[...this.valueGetter(e)||[]];n.splice(t.index,0,t.value),this.valueSetter(e,n),this.forceUpdate()},this.onUnshift=(e,t)=>{this.onInsert(e,{value:t.value,index:0})},this.onPush=(e,t)=>{this.onArrayAction(e);const n=[...this.valueGetter(e)||[],t.value];this.valueSetter(e,n),this.forceUpdate()},this.onPop=e=>{this.onArrayAction(e);const t=[...this.valueGetter(e)||[]],n=t.pop();return this.valueSetter(e,t),this.forceUpdate(),n},this.onRemove=(e,t)=>{this.onArrayAction(e);const n=[...this.valueGetter(e)||[]],o=n.splice(t.index,1);return this.valueSetter(e,n),this.forceUpdate(),o},this.onReplace=(e,t)=>{this.onArrayAction(e);const n=[...this.valueGetter(e)||[]];n.splice(t.index,1,t.value),this.valueSetter(e,n),this.forceUpdate()},this.onMove=(e,t)=>{this.onArrayAction(e);const n=[...this.valueGetter(e)||[]],o=n[t.prevIndex];n.splice(t.prevIndex,1),n.splice(t.nextIndex,0,o),this.valueSetter(e,n),this.forceUpdate()},this.showLicenseWatermark=!sa(da,{component:"Form"}),this.values=ki(e.initialValues)}get touched(){return this._touched}set touched(e){this._touched=e}get visited(){return this._visited}set visited(e){this._visited=e}get modified(){return this._modified}set modified(e){this._modified=e}get validatorsByField(){return this._validatorsByField}set validatorsByField(e){this._validatorsByField=e}get values(){return this._values}set values(e){this._values=e}get fields(){return Object.keys(this._fields)}get formErrors(){if(this.props.validator)return this.props.validator(this.values,this.valueGetter)}get errors(){const e={},t=this.fields,n=this.validatorsByField;return t.forEach((t=>{if(e[t]="",n[t]){const o=[];n[t].forEach((e=>{Array.isArray(e)?o.push(...e):o.push(e)})),o.find((n=>{if(n){const o=n(this.valueGetter(t),this.valueGetter,{name:t});if(o)return e[t]=o,!0}return!1}))}})),this.formErrors&&Ci(this.formErrors,e),e}componentWillUnmount(){this._unmounted=!0,this._accumulatorTimeout&&clearTimeout(this._accumulatorTimeout)}render(){const{render:e}=this.props,t=this.touched,n=this.visited,r=this.modified,i=this.fields,a=this.errors,s=this.isFormValid(a),l=this.isFormModified(r,i),c=this.isFormTouched(t,i),d=this.isFormVisited(n,i),u=this.isFormHasNotTouched(t,i)&&!s||s&&(this.props.ignoreModified||l);return o.createElement(o.Fragment,null,o.createElement(xi.Provider,{key:this._key||this.props.id,value:{id:this.props.id,valueGetter:this.valueGetter,errors:a,modified:r,touched:t,visited:n,registerField:this.onFieldRegister,onSubmit:this.onSubmit,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onUnshift:this.onUnshift,onPush:this.onPush,onInsert:this.onInsert,onPop:this.onPop,onRemove:this.onRemove,onReplace:this.onReplace,onMove:this.onMove}},e({valid:s,modified:l,touched:c,visited:d,submitted:this._submitted,valueGetter:this.valueGetter,errors:a,allowSubmit:u,onChange:this.onChange,onSubmit:this.onSubmit,onFormReset:this.resetForm})),this.showLicenseWatermark&&o.createElement(ca,null))}};ua.displayName="KendoReactForm",ua.propTypes={initialValues:Et.any,onSubmit:Et.func,onSubmitClick:Et.func,render:Et.func.isRequired,id:Et.string};const pa=e=>o.forwardRef(((t,n)=>{const r=nn(t.id);return o.createElement(e,p(p({},t),{},{id:r,ref:n}))})),ha=pa(ua);ha.displayName="KendoReactForm";const fa="".concat(un.prefix,"-").concat(Nn.form),ma="".concat(un.prefix,"-").concat(Nn.form,"-").concat(Nn.field),ga={form:{main:fa,size:{prefix:"".concat(fa,"-"),small:"".concat(fa,"-").concat(fn.small),medium:"".concat(fa,"-").concat(fn.medium),large:"".concat(fa,"-").concat(fn.large)},orientation:{horizontal:"".concat(fa,"-").concat(yn.horizontal),vertical:"".concat(fa,"-").concat(yn.vertical)}},field:{main:ma,isRtl:"".concat(un.prefix,"-").concat(un.rtl)}},va=e=>{var t;const{size:n,orientation:o,c:r=ga}=e,i=r.form;return{[i.main]:!0,[i.size[n]]:i.size[n],[(null==(t=i.size)?void 0:t.prefix)||""]:n&&!i.size[n],[i.orientation[o]]:i.orientation[o]}},ya=["className","style","horizontal","size"],xa=o.forwardRef(((e,t)=>{const n=p({size:"medium"},e),r=o.useRef(null),i=o.useRef(null);o.useImperativeHandle(i,(()=>({element:r.current,props:n}))),o.useImperativeHandle(t,(()=>i.current));const a=o.useContext(xi),{className:l,style:c,horizontal:d,size:u}=n,h=s(n,ya),f=uo(),m=f&&f.uForm,g=o.useMemo((()=>d?"horizontal":!1===d?"vertical":void 0),[d]),v=o.useMemo((()=>on(va({c:m,size:u,orientation:g}),l)),[l,m,g,u]);return o.createElement("form",p(p({ref:r},h),{},{id:a?a.id:void 0,style:e.style,className:v,onSubmit:a?a.onSubmit:void 0}),e.children)}));xa.displayName="KendoReactFormElement";const ba="".concat(un.prefix,"-").concat(_n.input),wa="".concat(un.prefix,"-").concat(_n.maskedtextbox),ka="".concat(un.prefix,"-").concat(_n.radio),Ca="".concat(un.prefix,"-").concat(_n.textbox),Sa="".concat(un.prefix,"-").concat(_n.input,"-").concat(_n.prefix),Ia="".concat(un.prefix,"-").concat(_n.input,"-").concat(_n.suffix),Ea=("".concat(ka,"-"),"".concat(ka,"-").concat(fn.small),"".concat(ka,"-").concat(fn.medium),"".concat(ka,"-").concat(fn.large),"".concat(un.prefix,"-").concat(In.invalid),"".concat(un.prefix,"-").concat(In.checked),"".concat(ka,"-").concat(kn.wrap),"".concat(ka,"-").concat(Cn.label),"".concat(ka,"-").concat(kn.list),"".concat(un.prefix,"-").concat(kn.list,"-").concat(In.horizontal),"".concat(un.prefix,"-").concat(kn.list,"-").concat(In.vertical),"".concat(ka,"-").concat(kn.list,"-").concat(kn.item),"".concat(un.prefix,"-").concat(In.disabled),{wrapper:{main:wa,input:ba,size:{small:"".concat(ba,"-").concat(fn.small),medium:"".concat(ba,"-").concat(fn.medium),large:"".concat(ba,"-").concat(fn.large)},fillMode:{solid:"".concat(ba,"-").concat(mn.solid),outline:"".concat(ba,"-").concat(mn.outline),flat:"".concat(ba,"-").concat(mn.flat)},rounded:{small:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.small),medium:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.medium),large:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.large)},disabled:"".concat(un.prefix,"-").concat(In.disabled),invalid:"".concat(un.prefix,"-").concat(In.invalid),isRtl:"".concat(un.prefix,"-").concat(un.rtl)},inputInner:"".concat(ba,"-").concat(_n.inner)}),_a=(dn(Ea,"inputInner"),{wrapper:{main:Ca,input:ba,size:{small:"".concat(ba,"-").concat(fn.small),medium:"".concat(ba,"-").concat(fn.medium),large:"".concat(ba,"-").concat(fn.large)},fillMode:{solid:"".concat(ba,"-").concat(mn.solid),outline:"".concat(ba,"-").concat(mn.outline),flat:"".concat(ba,"-").concat(mn.flat)},rounded:{small:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.small),medium:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.medium),large:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.large)},disabled:"".concat(un.prefix,"-").concat(In.disabled),focused:"".concat(un.prefix,"-").concat(In.focus),required:"".concat(un.prefix,"-").concat(In.required),invalid:"".concat(un.prefix,"-").concat(In.invalid),isRtl:"".concat(un.prefix,"-").concat(un.rtl)},inputInner:"".concat(ba,"-").concat(_n.inner),prefix:{main:Sa,orientation:{horizontal:"".concat(Sa,"-").concat(yn.horizontal),vertical:"".concat(Sa,"-").concat(yn.vertical)}},suffix:{main:Ia,orientation:{horizontal:"".concat(Ia,"-").concat(yn.horizontal),vertical:"".concat(Ia,"-").concat(yn.vertical)}}}),ja={wrapper:e=>{const{disabled:t,invalid:n,focused:o,required:r,size:i,fillMode:a,rounded:s,isRtl:l,c:c=_a}=e,d=c.wrapper;return{[null==d?void 0:d.main]:!0,[null==d?void 0:d.input]:!0,[null==d?void 0:d.size[i]]:null==d?void 0:d.size[i],["".concat(ba,"-").concat(i)]:i&&!(null!=d&&d.size[i]),[null==d?void 0:d.fillMode[a]]:null==d?void 0:d.fillMode[a],[null==d?void 0:d.rounded[s]]:null==d?void 0:d.rounded[s],["".concat(un.prefix,"-").concat(un.rounded,"-").concat(s)]:s&&!(null!=d&&d.rounded[s]),[null==d?void 0:d.disabled]:t,[null==d?void 0:d.focused]:o,[null==d?void 0:d.required]:r,[null==d?void 0:d.invalid]:n,[null==d?void 0:d.isRtl]:l}},inputInner:dn(_a,"inputInner"),prefix:e=>{const{orientation:t,c:n=_a}=e,o=n.prefix;return{[o.main]:!0,[o.orientation[t]]:o.orientation[t]}},suffix:e=>{const{orientation:t,c:n=_a}=e,o=n.suffix;return{[null==o?void 0:o.main]:!0,[null==o?void 0:o.orientation[t]]:null==o?void 0:o.orientation[t]}}},Aa={input:{main:"".concat(ba," ").concat(ba,"-").concat(fn.medium," ").concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.medium," ").concat(ba,"-").concat(mn.solid),disabled:"".concat(un.prefix,"-").concat(In.disabled),required:"".concat(un.prefix,"-").concat(In.required),invalid:"".concat(un.prefix,"-").concat(In.invalid),isRtl:"".concat(un.prefix,"-").concat(un.rtl)},clearButton:"".concat(un.prefix,"-").concat(un.clear,"-").concat(un.value)},Da=e=>{const{disabled:t,invalid:n,required:o,isRtl:r,c:i=Aa}=e,a=i.input;return{[null==a?void 0:a.main]:!0,[null==a?void 0:a.disabled]:t,[null==a?void 0:a.required]:o,[null==a?void 0:a.invalid]:n,[null==a?void 0:a.isRtl]:r}},Na=(dn(Aa,"clearButton"),(e,t)=>o.useContext(e)(t)),Ta=()=>o.createContext((e=>e)),Pa=(e,t)=>o.forwardRef(((n,r)=>{const i=Na(e,n);return o.createElement(t,p(p({},i),{},{ref:r}))})),Ma="".concat(un.prefix,"-").concat(Dn.label),Oa="".concat(un.prefix,"-").concat(Dn.floatingLabel),Ra="".concat(un.prefix,"-").concat(Dn.error),Fa="".concat(un.prefix,"-").concat(Dn.hint),La=("".concat(un.prefix,"-").concat(Dn.label,"-").concat(In.empty),"".concat(un.prefix,"-").concat(Dn.text,"-").concat(gn.error),"".concat(un.prefix,"-").concat(Dn.text,"-").concat(In.disabled),{wrapper:{main:"".concat(Oa,"-").concat(Dn.container),focused:"".concat(un.prefix,"-").concat(In.focus),empty:"".concat(un.prefix,"-").concat(In.empty),notEmpty:"",disabled:"".concat(un.prefix,"-").concat(Dn.text,"-").concat(In.disabled),isRtl:"".concat(un.prefix,"-").concat(un.rtl)},label:{main:Oa,focused:"",empty:"",notEmpty:"",invalid:"".concat(un.prefix,"-").concat(Dn.text,"-").concat(gn.error),disabled:"".concat(un.prefix,"-").concat(Dn.text,"-").concat(In.disabled)}}),za=e=>{const{focused:t,empty:n,notEmpty:o,disabled:r,isRtl:i,c:a=La}=e,s=a.wrapper;return{[null==s?void 0:s.main]:!0,[null==s?void 0:s.focused]:t,[null==s?void 0:s.empty]:n,[null==s?void 0:s.notEmpty]:o,[null==s?void 0:s.disabled]:r,[null==s?void 0:s.isRtl]:i}},Ba=e=>{const{focused:t,empty:n,notEmpty:o,invalid:r,disabled:i,c:a=La}=e,s=a.label;return{[null==s?void 0:s.main]:!0,[null==s?void 0:s.focused]:t,[null==s?void 0:s.empty]:n,[null==s?void 0:s.notEmpty]:o,[null==s?void 0:s.invalid]:r,[null==s?void 0:s.disabled]:i}};"".concat(un.prefix,"-").concat(Dn.text,"-").concat(wn.start),"".concat(un.prefix,"-").concat(Dn.text,"-").concat(wn.end),"".concat(un.prefix,"-").concat(Dn.text,"-").concat(wn.start),"".concat(un.prefix,"-").concat(Dn.text,"-").concat(wn.end),"".concat(un.prefix,"-").concat(Dn.text,"-").concat(In.disabled);const Va={en:{name:"en",identity:{version:{_unicodeVersion:"14.0.0",_cldrVersion:"41"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":",approximatelySign:"~"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMd:"M/d/y GGGGG",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era",short:"era",narrow:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},weekOfMonth:{wide:"week of month",short:"wk. of mo.",narrow:"wk. of mo."},day:{wide:"day",short:"day",narrow:"day"},dayOfYear:{wide:"day of year",short:"day of yr.",narrow:"day of yr."},weekday:{wide:"day of the week",short:"day of wk.",narrow:"day of wk."},weekdayOfMonth:{wide:"weekday of the month",short:"wkday. of mo.",narrow:"wkday. of mo."},dayperiod:{short:"AM/PM",wide:"AM/PM",narrow:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone",short:"zone",narrow:"zone"},millisecond:{narrow:"ms",short:"ms",wide:"millisecond"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function Ha(e){return"string"===typeof e}var qa=/\{(\d+)}?\}/g,Ua=function(e){var t=e.name,n=e.message;if(!t||!n)throw new Error("{ name: string, message: string } object is required!");this.name=t,this.message=n};Ua.prototype.formatMessage=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Ga(e),o=this.message.replace(qa,(function(e,t){return n[parseInt(t,10)]}));return this.name+": "+o},Ua.prototype.error=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new Error(this.formatMessage(e))};var Ga=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},Wa=function(e){return Object.keys(e).reduce((function(t,n){return t[n]=new Ua({name:n,message:e[n]}),t}),{})}({NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."});var Ka=Va;function Ya(e){return Ha(e)?Xa(e):e}function Xa(e){if(Ka[e])return Ka[e];if(Ka.supplemental.likelySubtags){var t=e.split("-"),n=t[0],o=t.slice(1),r=function(e,t){for(var n=Ka.supplemental.likelySubtags,o=0;o<t.length;o++){var r=n[e+"-"+t[o]];if(r)return r}if(n[e])return n[e]}(n,o),i=r?function(e,t){var n=e.split("-"),o=n[0],r=n[1],i=n[2];return Ka[e]||-1!==t.indexOf(i)&&Ka[o+"-"+i]||-1!==t.indexOf(r)&&Ka[o+"-"+r]||Ka[o]}(r,o):null;if(i)return i}throw Wa.NoLocale.error(e)}var Qa="decimal",Ja="currency",Za="accounting",$a="percent",es="scientific",ts="$",ns="n",os=".",rs="",is="en",as="Formats-numberSystem-latn",ss=/([#,0.]+)/g,ls=/\xa4/g;function cs(e){return ss.lastIndex=0,e.replace(ls,ts).replace(ss,ns).split(";")}function ds(e){ss.lastIndex=0;var t=ss.exec(e.split(";")[0])[0].split(os)[0].split(",").slice(1).map((function(e){return e.length})).reverse();return t}function us(e,t){for(var n in t)n.startsWith("unitPattern")&&(e[n]=t[n].replace("{0}",ns).replace("{1}",ts))}function ps(e,t){var n=Ka[e],o=n.numbers=n.numbers||{};for(var r in o.symbols=o.symbols||{},t)if("symbols-numberSystem-latn"===r)Object.assign(o.symbols,t[r]);else if(r.includes(as)){var i=r.substr(0,r.indexOf(as)),a=t[r].standard;o[i]={patterns:cs(a)},i===Ja?(o[i].groupSize=ds((t[Qa+as]||t[r]).standard),us(o[i],t[r]),o[Za]={patterns:cs(t[r][Za]),groupSize:o[i].groupSize}):o[i].groupSize=ds(a)}else"currencies"===r&&(o.currencies=t[r])}var hs={s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},fs=/y+/g,ms=[["dateFormats","short"]],gs={D:[["dateFormats","full"]],m:[["dateTimeFormats","availableFormats","MMMd"]],M:[["dateTimeFormats","availableFormats","MMMMd"]],y:[["dateTimeFormats","availableFormats","yMMM"]],Y:[["dateTimeFormats","availableFormats","yMMMM"]],F:[["dateFormats","full"],["timeFormats","medium"]],g:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","short"]],G:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","medium"]],t:[["timeFormats","short"]],T:[["timeFormats","medium"]]};function vs(e){for(var t=[],n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=e[n[o]];t.push(r)}return t}function ys(e,t){var n={};for(var o in e){var r=n[o]={};for(var i in e[o]){var a=e[o][i];r[i]=t?a:vs(a)}}return n}function xs(e,t){var n=Ka[e].calendar;n.days=ys(t.days),n.months=ys(t.months),n.quarters=ys(t.quarters),n.dayPeriods=ys(t.dayPeriods,!0),n.eras=function(e){var t={},n=t.format={},o={eraAbbr:"abbreviated",eraNames:"wide",eraNarrow:"narrow"};for(var r in e)n[o[r]]=e[r];return t}(t.eras)}function bs(e,t){var n=Ka[e].calendar,o={};for(var r in t){var i=r.split("-"),a=i[0],s=i[1];void 0===s&&(s="wide");var l=o[a]||{},c=t[r].displayName;c&&(l[s]=c,o[a]=l)}n.dateFields=o}function ws(e,t){for(var n=[],o=0;o<e.length;o++){for(var r=e[o],i=t,a=0;a<r.length;a++)i=i[r[a]];n.push(i)}return n.join(" ")}function ks(e,t){var n=Ka[e].calendar,o=n.patterns={};for(var r in o.d=ws(ms,t).replace(fs,"y"),gs)o[r]=ws(gs[r],t);for(var i in hs)o[i]=hs[i];var a=t.dateTimeFormats;n.dateTimeFormats={full:a.full,long:a.long,medium:a.medium,short:a.short,availableFormats:a.availableFormats},n.timeFormats=t.timeFormats,n.dateFormats=t.dateFormats}function Cs(e,t){var n=Ka[e].calendar=Ka[e].calendar||{};for(var o in t)"timeZoneNames"===o?(n.gmtFormat=t[o].gmtFormat,n.gmtZeroFormat=t[o].gmtZeroFormat):"calendars"===o&&t[o].gregorian?(ks(e,t[o].gregorian),xs(e,t[o].gregorian)):"fields"===o&&bs(e,t.fields)}function Ss(e){if(e.territory)return e.territory;var t,n=e.name,o=e.identity;return t=o&&o.territory?o.territory:function(e,t){var n=Ka.supplemental.likelySubtags,o=e.split("-");if(n){var r=n[e]||n[o[0]];r&&(o=r.split("-"))}if(t)for(var i=o.length-1;i>=1;i--){var a=o[i];a!==t.variant&&a!==t.script||o.splice(i,1)}var s=o.length;if(s>1)return o[s-1].toUpperCase()}(n,o),e.territory=t,t}var Is="duration-millisecond",Es=/\{0\}\s?/;function _s(e){return(e["unitPattern-count-one"]||e["unitPattern-count-other"]).replace(Es,"")}function js(e,t){e.calendar.dateFields.millisecond={narrow:_s(t.narrow[Is]),short:_s(t.short[Is]),wide:_s(t.long[Is])}}function As(e,t){for(var n in t)"numbers"===n?ps(e,t[n]):"dates"===n&&Cs(e,t[n])}function Ds(e,t){var n=t.type,o=t.nameType,r=t.standAlone,i=t.lower,a=Ya(e),s=r?"stand-alone":"format",l=(i?"lower-":rs)+o,c=a.calendar[n][s],d=c[l];return!d&&i&&(d=c[l]=function(e){var t=Array.isArray(e)?function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toLowerCase());return t}(e):function(e){var t={};for(var n in e)t[n]=e[n].toLowerCase();return t}(e);return t}(c[o])),d}function Ns(e){var t=e.split("-"),n=parseInt(t[0],10),o=parseInt(t[1],10)-1,r=parseInt(t[2],10);return new Date(n,o,r)}var Ts=Wa.NoCurrency,Ps=Wa.NoCurrencyDisplay,Ms=Wa.NoSupplementalCurrency,Os=Wa.NoCurrencyRegion,Rs=Wa.NoValidCurrency,Fs="symbol",Ls={"001":"USD",150:"EUR"};function zs(e,t,n){var o=Ya(e).numbers.currencies;if(o){var r=o[t];if(r)return r;if(n)throw Ps.error()}else if(n)throw Ts.error()}function Bs(e,t){return t.length-e.length}function Vs(e,t){if(void 0===t&&(t=!0),Ls[e])return Ls[e];var n=Ka.supplemental.currencyData;if(n){var o=n.region[e];if(o){var r=function(e){for(var t,n,o,r,i=0;i<e.length;i++){var a=e[i],s=Object.keys(a)[0],l=a[s];if("XXX"!==s&&"false"!==l._tender&&l._from)if(l._to){if(!o){var c=Ns(l._from),d=Ns(l._to);(!n||n.to<d||n.from<c)&&(t=s,n={from:c,to:d})}}else{var u=Ns(l._from);(!r||r<u)&&(o=s,r=u)}}return o||t}(o);return r}if(t)throw Os.error(e)}else if(t)throw Ms.error()}function Hs(e,t){var n=Ya(e),o=n.numbers;if(!o.localeCurrency){var r=Vs(Ss(n),t);if(!r&&t)throw Rs.error(n.name);o.localeCurrency=r}return o.localeCurrency}var qs=["sun","mon","tue","wed","thu","fri","sat"],Us=Wa.NoWeekData,Gs=Wa.NoFirstDay;function Ws(e){var t=Ya(e);if(!isNaN(t.firstDay))return t.firstDay;var n=Ka.supplemental.weekData;if(!n)throw Us.error();var o=n.firstDay[Ss(t)]||n.firstDay["001"];if(!o)throw Gs.error();return t.firstDay=qs.indexOf(o),t.firstDay}Wa.NoWeekData;function Ks(e){return 1/e===-1/0}function Ys(e,t){void 0===t&&(t={}),t.currency||(t.currency=Hs(e,!0));var n=function(e,t){var n=t.value,o=t.currency,r=t.currencyDisplay;if(void 0===r&&(r=Fs),"code"===r)return o;var i=zs(e,o,!0);return r===Fs?i["symbol-alt-narrow"]||i[Fs]||o:"undefined"===typeof n||1!==n?i["displayName-count-other"]:i["displayName-count-one"]}(e,t);return n}function Xs(e,t,n,o,r){var i=r.numbers.symbols,a=e.indexOf(i.decimal),s=o.groupSize.slice(),l=s.shift(),c=-1!==a?a:n+1,d=e.substring(t,c),u=e,p=d.length;if(p>=l){for(var h=p,f=[];h>-1;){var m=d.substring(h-l,h);m&&f.push(m),h-=l;var g=s.shift();if(0===(l=void 0!==g?g:l)){(m=d.substring(0,h))&&f.push(m);break}}d=f.reverse().join(i.group),u=e.substring(0,t)+d+e.substring(c)}return u}function Qs(e){return e===Ja||e===Za}function Js(e,t,n){void 0===t&&(t=2),void 0===n&&(n=!1);var o=t-String(e).length,r=e;if(o>0){var i=new Array(o+1).join("0");r=n?e+i:i+e}return r}function Zs(e,t){var n=e,o=t||0;return n=n.toString().split("e"),n=(n=Math.round(Number(n[0]+"e"+(n[1]?Number(n[1])+o:o)))).toString().split("e"),(n=Number(n[0]+"e"+(n[1]?Number(n[1])-o:-o))).toFixed(Math.min(o,20))}var $s=/0+$/;function el(e){var t,n=e.minimumFractionDigits,o=e.maximumFractionDigits,r=e.style,i=Qs(r);return i&&(t=function(e){var t=2,n=2,o=((Ka.supplemental.currencyData||{}).fractions||{})[e];return o&&o._digits&&(n=t=parseInt(o._digits,10)),{minimumFractionDigits:t,maximumFractionDigits:n}}(e.currency)),void 0===n&&(n=i?t.minimumFractionDigits:0),void 0===o&&(o=r===$a?Math.max(n,0):i?Math.max(n,t.maximumFractionDigits):Math.max(n,3)),{minimumFractionDigits:n,maximumFractionDigits:o}}function tl(e,t,n){var o=n.numbers.symbols,r=t.style,i=Qs(r);if(r===es)return(void 0!==t.minimumFractionDigits?e.toExponential(t.minimumFractionDigits):e.toExponential()).replace(os,o.decimal);var a,s=e;i&&(t.value=s,a=Ys(n,t)),r===$a&&(s*=100,a=o.percentSign);var l=el(t),c=l.minimumFractionDigits,d=(s=Zs(s,l.maximumFractionDigits))<0,u=Ks(e),p=s.split(os),h=p[0],f=Js(p[1]?p[1].replace($s,rs):rs,c,!0);d&&(h=h.substring(1)),t.minimumIntegerDigits&&(h=Js(h,t.minimumIntegerDigits));var m,g=!1!==t.useGrouping?Xs(h,0,h.length,t,n):h;if(f&&(g+=o.decimal+f),i&&"name"===t.currencyDisplay)m=function(e,t){var n=e.numbers.currency,o=1!==t?n["unitPattern-count-other"]:n["unitPattern-count-one"];return t<0&&(o=o.replace(ns,"-n")),o}(n,e);else{var v=t.patterns;m=d||u?v[1]||"-"+v[0]:v[0]}if(m===ns&&!d)return g;var y=function(e,t,n){for(var o=rs,r=0,i=t.length;r<i;r++){var a=t.charAt(r);o+=a===ns?e:a===ts||"%"===a?n:a}return o}(g,m,a);return y}var nl=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,ol="__??__";function rl(e,t){var n=e.format;-1!==n.indexOf("%")&&(e.style=$a,e.symbol=t.numbers.symbols.percentSign,e.number*=100),-1!==n.indexOf(ts)&&(e.style=Ja,e.symbol=Ys(t))}function il(e){var t=e.format;if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1){var n=e.literals=[];e.format=t.replace(nl,(function(e){var t=e.charAt(0).replace("\\",rs),o=e.slice(1).replace(t,rs);return n.push(o),ol}))}}var al="#",sl="0",ll=/(\.(?:[0-9]*[1-9])?)0+$/g,cl=/\.$/,dl=/,/g;function ul(e){var t=e.number,n=e.format,o=n.indexOf(os);if(-1!==o){var r=n.lastIndexOf(sl)-o,i=n.lastIndexOf(al)-o,a=r>-1,s=i>-1,l=t.toString().split("e"),c=(l=(l=l[1]?Zs(t,Math.abs(l[1])):l[0]).split(os)[1]||rs).length,d=-1;a||s?a&&r>i?c=r:i>r&&(s&&c>i?c=i:a&&c<r&&(c=r),d=a?r:0):(e.format=n.substring(0,o)+n.substring(o+1),o=-1,c=0),c>-1&&(t=Zs(t,c),d>-1&&(t=function(e,t){var n;return n=0===t?ll:new RegExp("(\\.[0-9]{"+t+"}[1-9]*)0+$","g"),e.replace(n,"$1").replace(cl,rs)}(t,d)))}else t=Zs(t);e.negative&&-1*t>=0&&!e.negativeZero&&(e.negative=!1),e.number=t,e.decimalIndex=o}function pl(e){var t=e.number,n=e.format;if(n=n.split(";"),(e.negative||e.negativeZero)&&n[1])n=n[1],e.hasNegativeFormat=!0;else if(0===t){var o=n[2];n=o||n[0],o&&function(e){return-1===e.indexOf(al)&&-1===e.indexOf(sl)}(o)&&(e.constant=o)}else n=n[0];e.format=n}function hl(e,t,n){return-1===e&&-1!==t?t:-1!==e&&-1===t?e:n?Math.min(e,t):Math.max(e,t)}function fl(e,t){var n=e.number;return-1!==e.start&&(n=function(e,t){var n=e.start,o=e.end,r=e.negative,i=e.negativeZero,a=e.format,s=e.decimalIndex,l=e.lastZeroIndex,c=e.hasNegativeFormat,d=e.hasGroup,u=e.number,p=u.toString().split(os),h=a.length,f=p[0],m=p[1]||rs,g=f.length,v=rs;u=a.substring(0,n),!r&&!i||c||(u+="-");for(var y=n;y<h;y++){var x=a.charAt(y);if(-1===s){if(o-y<g){u+=f;break}}else if(-1!==l&&l<y&&(v=rs),s-y<=g&&s-y>-1&&(u+=f,y=s),s===y){u+=(m?t.numbers.symbols.decimal:rs)+m,y+=o-s+1;continue}x===sl?(u+=x,v=x):x===al&&(u+=v)}return d&&(u=Xs(u,n+(r&&!c?1:0),Math.max(o,g+n),t.numbers.decimal,t)),o>=n&&(u+=a.substring(o+1)),u}(e,t),n=function(e,t){var n=e;if(t)for(var o=t.length,r=0;r<o;r++)n=n.replace(ol,t[r]);return n}(n=function(e,t,n){var o=e;if(t===Ja||t===$a){o=rs;for(var r=0,i=e.length;r<i;r++){var a=e.charAt(r);o+=a===ts||"%"===a?n:a}}return o}(n,e.style,e.symbol),e.literals)),n}function ml(e,t,n){var o={negative:e<0,number:Math.abs(e),negativeZero:Ks(e),format:t};return pl(o),o.constant?o.constant:(il(o),rl(o,n),function(e){e.hasGroup=e.format.indexOf(",")>-1,e.hasGroup&&(e.format=e.format.replace(dl,rs))}(o),ul(o),function(e){var t=e.format,n=t.indexOf(al),o=t.indexOf(sl),r=hl(n,o,!0),i=hl(n=t.lastIndexOf(al),o=t.lastIndexOf(sl));r===t.length&&(i=r),e.start=r,e.end=i,e.lastZeroIndex=o}(o),fl(o,n))}var gl=/^(n|c|p|e|a)(\d*)$/i;function vl(e){return Ha(e)?function(e){var t=gl.exec(e);if(t){var n={style:Qa},o=t[1].toLowerCase();return"c"===o?n.style=Ja:"a"===o?n.style=Za:"p"===o?n.style=$a:"e"===o&&(n.style=es),t[2]&&(n.minimumFractionDigits=n.maximumFractionDigits=parseInt(t[2],10)),n}}(e):e}function yl(e,t,n){if(void 0===t&&(t=ns),void 0===n&&(n=is),void 0===e||null===e)return rs;if(!isFinite(e))return String(e);var o,r=Xa(n),i=vl(t);if(i){var a=i.style||Qa;o=tl(e,Object.assign({},r.numbers[a],i),r)}else o=ml(e,t,r);return o}function xl(e){return"number"===typeof e}var bl=/[eE][-+]?[0-9]+/,wl=/\u00A0/g;function kl(e,t){if(t.length>1){var n=(t[1]||rs).replace(ts,rs).split(ns);if(e.indexOf(n[0])>-1&&e.indexOf(n[1])>-1)return e.replace(n[0],rs).replace(n[1],rs)}}function Cl(e,t,n){var o,r=vl(n)||{},i=Qs(r.style),a=e,s=r.currency||Hs(t,i);if(s){var l=function(e,t,n){void 0===n&&(n=!0);var o=zs(e,t,n);if(o){if(!o.displays){var r=[t];for(var i in o)r.push(o[i]);r.sort(Bs),o.displays=r}return o.displays}}(t,s,i);if(l)for(var c=0;c<l.length;c++){var d=l[c];if(a.includes(d)){a=a.replace(d,rs),i=!0;break}}if(i){var u=kl(a,t.numbers.currency.patterns)||kl(a,t.numbers.accounting.patterns);u&&(o=!0,a=u)}}return{number:a,negative:o}}function Sl(e,t,n){if(void 0===t&&(t=is),void 0===n&&(n={}),!e&&0!==e)return null;if(xl(e))return e;var o,r=Xa(t),i=r.numbers.symbols,a=e.toString(),s=n||{};if(Ha(n)&&(il(s={format:n}),a=function(e,t){var n=t.literals,o=e;if(n)for(var r=0;r<n.length;r++)o=o.replace(n[r],rs);return o}(a,s),rl(s,r)),(s.style===$a||a.indexOf(i.percentSign)>-1)&&(a=a.replace(i.percentSign,rs),o=!0),bl.test(a))return a=parseFloat(a.replace(i.decimal,os)),isNaN(a)?null:a;var l=Cl(a,r,s),c=l.negative,d=l.number,u=(a=String(d).trim()).indexOf("-");if(u>0)return null;var p=u>-1;return p=void 0!==c?c:p,a=a.replace("-",rs).replace(wl," ").split(i.group.replace(wl," ")).join(rs).replace(i.decimal,os),a=parseFloat(a),isNaN(a)?a=null:p&&(a*=-1),a&&o&&(a=function(e){var t=String(e),n=t.indexOf(os),o=e/Math.pow(10,2);if(-1===n||String(o).length<=t.length+2)return o;var r=t.length-n+1+2;return parseFloat(o.toFixed(r))}(a)),a}var Il=/\{(\d+)}/g;function El(e){var t=arguments;return e.replace(Il,(function(e,n){return t[parseInt(n,10)+1]}))}var _l=[2,1,5,3,4],jl={};jl[(-2).toString()]=8,jl[(-1).toString()]=6,jl[2..toString()]=6,jl[1..toString()]=3;var Al={numeric:1,"2-digit":2,short:3,long:4,narrow:5},Dl=/[hHmsSzZoOvVxX]/;var Nl=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(e){return e.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],Tl={e:"c",E:"c",M:"L",Q:"q"},Pl={},Ml={};function Ol(e){return Pl[e]||(Pl[e]=new RegExp(e+"+")),Pl[e]}function Rl(e){for(var t=[],n=e.charAt(0),o=n,r=1;r<e.length;r++){var i=e.charAt(r);i===o?n+=i:(t.push(n),n=o=i)}return t.push(n),t}function Fl(e,t){var n,o,r=e.length,i=-Number.MAX_VALUE;for(var a in t){for(var s=[],l=a.replace("v","z"),c=0,d=0;d<r;d++){var u=e[d],p=(Ol(u[0]).exec(l)||[])[0];if(p){if(l=l.replace(p,rs),p.length!==u.length){var h=Math.max(Math.min(_l[p.length]-_l[u.length],2),-2);c-=jl[h]}}else c-=120;if(s.push(p),c<i)break}l.length&&(c-=20*Rl(l).length),c>i&&(i=c,n=s,o=t[a])}o=o.replace("v","z");for(var f=0;f<r;f++){var m=n[f];if(m&&m!==e[f]){var g=n[f][0];o=o.replace(Ol(g),e[f]),Tl[g]&&(o=o.replace(Ol(Tl[g]),e[f]))}}return o}function Ll(e,t){var n=t.calendar.dateTimeFormats.availableFormats;if(n[e])return n[e];if(Ml[t.name]&&Ml[t.name][e])return Ml[t.name][e];var o,r=e.search(Dl);if(r>0){var i=e.substr(0,r),a=e.substr(r);o=El(t.calendar.dateTimeFormats.short,n[a]||Fl(Rl(a),n),n[i]||Fl(Rl(i),n))}else o=Fl(Rl(e),n);return function(e,t,n){Ml[n]||(Ml[n]={}),Ml[n][e]=t}(e,o,t.name),o}function zl(e,t){var n,o=t.calendar;if(Ha(e))n=o.patterns[e]?o.patterns[e]:e;else if(e){if(e.pattern)return e.pattern;var r=e.skeleton;r||(e.datetime?n=El(o.dateTimeFormats[e.datetime],o.timeFormats[e.datetime],o.dateFormats[e.datetime]):e.date?n=o.dateFormats[e.date]:e.time?n=o.timeFormats[e.time]:r=function(e){for(var t=[],n=0;n<Nl.length;n++){var o=Nl[n],r=e[o.key];if(r){var i=o.specifier||o.getSpecifier(e);t.push(i.repeat(Al[r]))}}return t.join(rs)}(e)),r&&(n=Ll(r,t))}return n||(n=o.patterns.d),n}function Bl(e){var t;return e<=3?t="abbreviated":4===e?t="wide":5===e?t="narrow":6===e&&(t="short"),t}function Vl(e,t,n,o,r){return Ds(e,{type:t,nameType:Bl(n),standAlone:o,lower:r})}function Hl(e){return"function"===typeof e}function ql(e){return Boolean(e)&&Hl(e.getTime)&&Hl(e.getMonth)}var Ul="month",Gl="hour",Wl="zone",Kl="weekday",Yl="quarter",Xl={G:"era",y:"year",q:Yl,Q:Yl,M:Ul,L:Ul,d:"day",E:Kl,c:Kl,e:Kl,h:Gl,H:Gl,k:Gl,K:Gl,m:"minute",s:"second",S:"millisecond",a:"dayperiod",x:Wl,X:Wl,z:Wl,Z:Wl},Ql=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function Jl(e,t,n,o){return t<=2?Js(e+1,t):Vl(n,"months",t,o)[e]}function Zl(e,t,n,o){var r=Math.floor(e.getMonth()/3);return t<3?r+1:Vl(n,"quarters",t,o)[r]}function $l(e,t,n){var o=n.shortHours,r=n.optionalMinutes,i=n.separator,a=n.localizedName,s=n.zZeroOffset,l=e.getTimezoneOffset()/60;if(0===l&&s)return"Z";var c=l<=0?"+":"-",d=Math.abs(l).toString().split("."),u=d[1]||0,p=c+(o?d[0]:Js(d[0],2));(!u&&r||(p+=(i?":":rs)+Js(u,2)),a)&&(p=El(0===l?t.calendar.gmtZeroFormat:t.calendar.gmtFormat,p));return p}function ec(e,t,n,o){var r;return r=t<3?function(e,t,n){var o=Ws(n);return(e<o?7-o+e:e-o)+1}(e.getDay(),0,n):Vl(n,"days",t,o)[e.getDay()],r}var tc={};function nc(e,t,n){if(void 0===n&&(n=is),!ql(e))return void 0===e||null===e?rs:e;var o=Xa(n);return zl(t,o).replace(Ql,(function(t){var n=t.length;return t.includes("'")||t.includes('"')?t.slice(1,n-1):tc[t[0]](e,n,o)}))}function oc(e,t,n){var o=e.getTimezoneOffset(),r=new Date(e.getTime()+6e4*(t-n)),i=r.getTimezoneOffset();return new Date(r.getTime()+6e4*(i-o))}tc.d=function(e,t){return Js(e.getDate(),t)},tc.E=function(e,t,n){return Vl(n,"days",t)[e.getDay()]},tc.M=function(e,t,n){return Jl(e.getMonth(),t,n,!1)},tc.L=function(e,t,n){return Jl(e.getMonth(),t,n,!0)},tc.y=function(e,t){var n=e.getFullYear();return 2===t&&(n%=100),Js(n,t)},tc.h=function(e,t){return Js(e.getHours()%12||12,t)},tc.H=function(e,t){return Js(e.getHours(),t)},tc.k=function(e,t){return Js(e.getHours()||24,t)},tc.K=function(e,t){return Js(e.getHours()%12,t)},tc.m=function(e,t){return Js(e.getMinutes(),t)},tc.s=function(e,t){return Js(e.getSeconds(),t)},tc.S=function(e,t){var n=e.getMilliseconds();return 0!==n?Js(String(n/1e3).split(".")[1].substr(0,t),t,!0):Js(rs,t)},tc.a=function(e,t,n){return Vl(n,"dayPeriods",t)[e.getHours()<12?"am":"pm"]},tc.z=function(e,t,n){return $l(e,n,{shortHours:t<4,optionalMinutes:t<4,separator:!0,localizedName:!0})},tc.Z=function(e,t,n){return $l(e,n,{separator:t>3,localizedName:4===t,zZeroOffset:5===t})},tc.x=function(e,t,n){return $l(e,n,{optionalMinutes:1===t,separator:3===t||5===t})},tc.X=function(e,t,n){return $l(e,n,{optionalMinutes:1===t,separator:3===t||5===t,zZeroOffset:!0})},tc.G=function(e,t,n){var o=e.getFullYear()>=0?1:0;return Vl(n,"eras",t)[o]},tc.e=ec,tc.c=function(e,t,n){return ec(e,t,n,!0)},tc.q=function(e,t,n){return Zl(e,t,n,!0)},tc.Q=Zl;var rc=/([+|-]\d{1,2})(:?)(\d{2})?/,ic=/^\/Date\((.*?)\)\/$/,ac=/[+-]\d*/,sc={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},lc=/\d+/,cc=/^ */,dc=/ *$/,uc=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],pc=["G","g","F","Y","y","M","m","D","d","y","T","t"];function hc(e,t,n){return!(e>=t&&e<=n)}function fc(e,t){for(var n=t.format,o=t.idx,r=0;n[o]===e;)r++,o++;return r>0&&(o-=1),t.idx=o,r}function mc(e,t){var n=e?sc[e]||new RegExp("^\\d{1,"+e+"}"):lc,o=t.value.substr(t.valueIdx,e).match(n);return o?(o=o[0],t.valueIdx+=o.length,parseInt(o,10)):null}function gc(e,t,n){for(var o,r,i,a=0,s=e.length,l=0,c=0;a<s;a++)r=(o=e[a]).length,i=t.value.substr(t.valueIdx,r),n&&(i=i.toLowerCase()),i===o&&r>l&&(l=r,c=a);return l?(t.valueIdx+=l,c+1):null}function vc(e){var t=!1;return e.value.charAt(e.valueIdx)===e.format[e.idx]&&(e.valueIdx++,t=!0),t}function yc(e,t,n){var o=n.shortHours,r=n.noSeparator,i=n.optionalMinutes,a=n.localizedName,s=n.zLiteral;if(e.UTC=!0,s&&"Z"===e.value.charAt(e.valueIdx))return e.valueIdx++,!1;if(a&&!gc(function(e){var t=e.gmtFormat,n=e.gmtZeroFormat;if(!t)throw Wa.NoGMTInfo.error();return[t.replace("{0}",rs).toLowerCase(),n.replace("{0}",rs).toLowerCase()]}(t.calendar),e,!0))return!0;var l=rc.exec(e.value.substr(e.valueIdx,6));if(!l)return!a;var c=l[1],d=l[3],u=parseInt(c,10),p=l[2],h=parseInt(d,10);return!!(isNaN(u)||!o&&3!==c.length||!i&&isNaN(h)||r&&p)||(isNaN(h)&&(h=null),!!(hc(u,-12,13)||h&&hc(h,0,59))||(e.valueIdx+=l[0].length,e.hoursOffset=u,void(e.minutesOffset=h)))}function xc(e,t,n){var o=fc(e,t),r=Vl(n,"months",o,"L"===e,!0),i=o<3?mc(2,t):gc(r,t,!0);if(null===i||hc(i,1,12))return!0;t.month=i-1}function bc(e,t,n){var o=fc(e,t),r=Vl(n,"days",o,"c"===e,!0),i=o<3?mc(1,t):gc(r,t,!0);if(!i&&0!==i||hc(i,1,7))return!0}var wc={};function kc(e,t){return""+cc.exec(t)[0]+e+dc.exec(t)[0]}function Cc(e,t,n){for(var o=zl(t,n).split(rs),r={format:o,idx:0,value:kc(e,t),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},i=o.length,a=!1;r.idx<i;r.idx++){var s=o[r.idx];if(a)"'"===s&&(a=!1),vc(r);else if(wc[s]){if(wc[s](r,n))return null}else if("'"===s)a=!0,vc(r);else if(!vc(r))return null}return r.valueIdx<e.length?null:function(e){var t,n=e.year,o=e.month,r=e.day,i=e.hours,a=e.minutes,s=e.seconds,l=e.milliseconds,c=e.pmHour,d=e.UTC,u=e.hoursOffset,p=e.minutesOffset,h=null!==i||null!==a||s||null,f=new Date;return null===n&&null===o&&null===r&&h?(n=f.getFullYear(),o=f.getMonth(),r=f.getDate()):(null===n&&(n=f.getFullYear()),null===r&&(r=1)),c&&i<12&&(i+=12),d?(u&&(i+=-u),p&&(a+=-p*(u<0?-1:1)),t=new Date(Date.UTC(n,o,r,i,a,s,l))):function(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}(t=new Date(n,o,r,i,a,s,l),i),n<100&&t.setFullYear(n),t.getDate()!==r&&void 0===d?null:t}(r)||null}function Sc(e){if(e&&0===e.indexOf("/D")){var t=ic.exec(e);if(t){t=t[1];var n=ac.exec(t.substring(1));return t=new Date(parseInt(t,10)),n&&(n=function(e){var t="-"===e.substr(0,1)?-1:1,n=e.substring(1);return t*(60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10))}(n[0]),t=oc(t,t.getTimezoneOffset(),0),t=oc(t,0,-1*n)),t}}}function Ic(e,t,n){if(void 0===n&&(n=is),!e)return null;if(ql(e))return e;var o=String(e).trim(),r=Sc(o);if(r)return r;for(var i=Xa(n),a=t||function(e){for(var t=[],n=e.patterns,o=pc.length,r=0;r<o;r++)t.push(n[pc[r]]);return t.concat(uc)}(i.calendar),s=(a=Array.isArray(a)?a:[a]).length,l=0;l<s;l++)if(r=Cc(o,a[l],i))return r;return r}wc.d=function(e){fc("d",e);var t=mc(2,e);if(null===t||hc(t,1,31))return!0;null===e.day&&(e.day=t)},wc.E=function(e,t){if(null===gc(Vl(t,"days",fc("E",e),!1,!0),e,!0))return!0},wc.M=function(e,t){return xc("M",e,t)},wc.L=function(e,t){return xc("L",e,t)},wc.y=function(e){var t=fc("y",e),n=mc(1===t?void 0:t,e);if(null===n)return!0;if(2===t){var o=(new Date).getFullYear();(n=o-o%100+n)>2029&&(n-=100)}e.year=n},wc.h=function(e){fc("h",e);var t=mc(2,e);if(12===t&&(t=0),null===t||hc(t,0,11))return!0;e.hours=t},wc.K=function(e){fc("K",e);var t=mc(2,e);if(null===t||hc(t,0,11))return!0;e.hours=t},wc.a=function(e,t){var n=Vl(t,"dayPeriods",fc("a",e),!1,!0),o=gc([n.pm],e,!0);if(!o&&!gc([n.am],e,!0))return!0;e.pmHour=o},wc.H=function(e){fc("H",e);var t=mc(2,e);if(null===t||hc(t,0,23))return!0;e.hours=t},wc.k=function(e){fc("k",e);var t=mc(2,e);if(null===t||hc(t,1,24))return!0;e.hours=24===t?0:t},wc.m=function(e){fc("m",e);var t=mc(2,e);if(null===t||hc(t,0,59))return!0;e.minutes=t},wc.s=function(e){fc("s",e);var t=mc(2,e);if(null===t||hc(t,0,59))return!0;e.seconds=t},wc.S=function(e){var t=fc("S",e),n=e.value.substr(e.valueIdx,t),o=null;if(isNaN(parseInt(n,10))||(o=Zs(o=parseFloat("0."+n,10),3),o*=1e3,e.valueIdx+=t),null===o||hc(o,0,999))return!0;e.milliseconds=o},wc.z=function(e,t){var n=fc("z",e)<4,o=yc(e,t,{shortHours:n,optionalMinutes:n,localizedName:!0});if(o)return o},wc.Z=function(e,t){var n=fc("Z",e),o=yc(e,t,{noSeparator:n<4,zLiteral:5===n,localizedName:4===n});if(o)return o},wc.x=function(e,t){var n=fc("x",e),o=yc(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n});if(o)return o},wc.X=function(e,t){var n=fc("X",e),o=yc(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n,zLiteral:!0});if(o)return o},wc.G=function(e,t){var n=Vl(t,"eras",fc("G",e),!1,!0);if(null===gc([n[0],n[1]],e,!0))return!0},wc.e=function(e,t){return bc("e",e,t)},wc.c=function(e,t){return bc("c",e,t)};var Ec={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},_c="literal";function jc(e,t){var n=e[e.length-1];n&&n.type===_c?n.pattern+=t:e.push({type:_c,pattern:t})}function Ac(e){return"h"===e||"K"===e}var Dc=/\{(\d+)(:[^}]+)?\}/g;function Nc(e,t,n){if(t){if(ql(e))return nc(e,t,n);if(xl(e))return yl(e,t,n)}return void 0!==e&&null!==e?e:rs}function Tc(e,t,n){return e.replace(Dc,(function(e,o,r){return Nc(t[parseInt(o,10)],r?r.substring(1):rs,n)}))}class Pc{constructor(e){this.locale=e,0}format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return 1===n.length&&Array.isArray(n[0])?Tc(e,n[0],this.locale):Tc(e,n,this.locale)}formatDate(e,t){return nc(e,t,this.locale)}toString(e,t){return Nc(e,t,this.locale)}parseNumber(e,t){return Sl(e,this.locale,t)}parseDate(e,t){return Ic(e,t,this.locale)}formatNumber(e,t){return yl(e,t,this.locale)}dateFieldName(e){return function(e,t){void 0===t&&(t=is);var n=Xa(t).calendar.dateFields;if(!n)throw Wa.NoDateFieldNames.error();var o=n[e.type]||{};return o[e.nameType]||o.wide}(e,this.locale)}dateFormatNames(e){return Ds(this.locale,e)}splitDateFormat(e){return function(e,t){void 0===t&&(t=is);for(var n=zl(e,Xa(t)),o=[],r=Ql.lastIndex=0,i=Ql.exec(n);i;){var a=i[0];if(r<i.index&&jc(o,n.substring(r,i.index)),a.startsWith('"')||a.startsWith("'"))jc(o,a);else{var s=a[0],l=Xl[s],c={type:l,pattern:a};"hour"===l&&(c.hour12=Ac(a));var d=Ec[l];if(d){var u=xl(d.minLength)?d.minLength:d.minLength[s],p=a.length;p>=u&&(c.names={type:d.type,nameType:Bl(p),standAlone:d.standAlone===s})}o.push(c)}r=Ql.lastIndex,i=Ql.exec(n)}return r<n.length&&jc(o,n.substring(r)),o}(e,this.locale)}numberSymbols(){return Ya(this.locale).numbers.symbols}firstDay(){return Ws(this.locale)}localeInfo(){return Xa(this.locale)}localeCurrency(){return Hs(this.locale)}}const Mc=Object.create({});class Oc{constructor(e){this.language=e,0}toLanguageString(e,t){return this.language&&Mc[this.language]&&Mc[this.language].hasOwnProperty(e)?Mc[this.language][e]:t}}const Rc=o.createContext({intl:new Pc("en"),localization:new Oc}),Fc=()=>o.useContext(Rc).localization,Lc="labels.optional",zc={[Lc]:"(Optional)"},Bc=["label","editorId","className","labelClassName","editorValue","editorPlaceholder","editorValid","editorDisabled","style","id","optional","unstyled"],Vc=e=>{const[t,n]=o.useState({focused:!1}),{label:r,editorId:i,className:a,labelClassName:l,editorValue:c,editorPlaceholder:d,editorValid:u,editorDisabled:h,style:f,id:m,optional:g,unstyled:v}=e,y=s(e,Bc),x=Fc(),b=g?x.toLanguageString(Lc,zc[Lc]):"",w=b&&o.createElement("span",{className:"k-label-optional"},b),k=v&&v.uFloatingLabel,C=!d&&!c&&0!==c,S=on(za({c:k,focused:t.focused,empty:C,notEmpty:!C,disabled:h,isRtl:"rtl"===e.dir}),a),I=on(Ba({c:k,focused:t.focused,empty:C,notEmpty:!C,invalid:!1===u,disabled:h}),l);return o.createElement("span",p(p({},y),{},{id:e.id,className:S,onFocus:e=>{n({focused:!0})},onBlur:e=>{n({focused:!1})},style:f,dir:e.dir}),e.children,r?i?o.createElement("label",{id:m,htmlFor:i,className:I},r,w):o.createElement("span",{id:m,className:I},r,w):null)};Vc.propTypes={label:Et.string,editorId:Et.string,editorValue:Et.oneOfType([Et.string,Et.bool,Et.number]),editorPlaceholder:Et.string,editorValid:Et.bool,editorDisabled:Et.bool,id:Et.string,style:Et.object,className:Et.string,labelClassName:Et.string,optional:Et.bool};const Hc=["className","label","labelClassName","id","validationMessage","defaultValue","valid","unstyled","visited","touched","modified","autoFocus","ariaLabelledBy","ariaDescribedBy","validityStyles","style","ariaLabel"],qc=o.forwardRef(((e,t)=>{const n=o.useContext(Uc).call(void 0,e),[,r]=o.useReducer((e=>e),!0),i=((e,t)=>{const n=p({},t);for(const o in e)void 0!==e[o]&&(n[o]=e[o]);return n})(n,Gc),{className:a,label:l,labelClassName:c,id:d,validationMessage:u,defaultValue:h,valid:f,unstyled:m,visited:g,touched:v,modified:y,autoFocus:x,ariaLabelledBy:b,ariaDescribedBy:w,validityStyles:k,style:C,ariaLabel:S}=i,I=s(i,Hc),E=uo(),_=m||E,j=_&&_.uInput,A=nn(),[D,N]=o.useState({value:h}),T=d||A,P=o.useRef(null),M=o.useRef(void 0),O=o.useRef(null),R=()=>{P.current&&P.current.focus()},F=()=>void 0!==M.current?M.current:void 0!==i.value?i.value:D.value,L=()=>{const e={badInput:!!P.current&&P.current.validity.badInput,patternMismatch:!!P.current&&P.current.validity.patternMismatch,rangeOverflow:!!P.current&&P.current.validity.rangeOverflow,rangeUnderflow:!!P.current&&P.current.validity.rangeUnderflow,stepMismatch:!!P.current&&P.current.validity.stepMismatch,tooLong:!!P.current&&P.current.validity.tooLong,typeMismatch:!!P.current&&P.current.validity.typeMismatch,valueMissing:!!P.current&&P.current.validity.valueMissing};return p(p({},e),{},{customError:void 0!==u,valid:void 0!==f?f:!P.current||!z(e)})};o.useImperativeHandle(O,(()=>({element:P.current,props:i,get value(){return F()},name:i.name,get validity(){return L()},focus:R}))),o.useImperativeHandle(t,(()=>O.current));const z=e=>{let t=!1;for(const n in e)e.hasOwnProperty(n)&&(t=t||!!e[n]);return t},B=!k||L().valid,V=on(a,Da({c:j,invalid:!B,disabled:i.disabled}));o.useEffect((()=>{r()}),[]),o.useEffect((()=>{P.current&&P.current.setCustomValidity&&(L().valid||!k?P.current.classList.remove("k-invalid"):P.current.classList.add("k-invalid"),P.current.setCustomValidity(L().valid?"":u||""))}));const H=o.createElement("input",p(p({"aria-labelledby":b,"aria-describedby":w,"aria-disabled":i.disabled||void 0,"aria-invalid":!B||void 0,"aria-label":S||void 0},I),{},{style:l?void 0:C,value:F(),id:T,autoFocus:x,className:V,onChange:e=>{N({value:e.target.value}),M.current=e.target.value,i.onChange&&i.onChange.call(void 0,{syntheticEvent:e,nativeEvent:e.nativeEvent,value:e.target.value,target:O.current}),M.current=void 0},onAnimationStart:e=>{if("autoFillStart"===e.animationName){const t=e.target.parentNode;t&&t.classList.contains("k-empty")&&t.classList.remove("k-empty")}},ref:P}));return l?o.createElement(Vc,{label:l,labelClassName:c,editorId:T,editorValue:String(F()),editorValid:B,editorDisabled:i.disabled,editorPlaceholder:i.placeholder,children:H,style:C,dir:i.dir,unstyled:_}):H})),Uc=Ta(),Gc={defaultValue:"",required:!1,validityStyles:!0,autoFocus:!1};qc.displayName="KendoReactInput",qc.propTypes={label:Et.string,labelClassName:Et.string,validationMessage:Et.string,required:Et.bool,validate:Et.bool,id:Et.string,ariaLabelledBy:Et.string,ariaDescribedBy:Et.string,ariaLabel:Et.string,autoFocus:Et.bool,value:Et.oneOfType([Et.string,Et.number,Et.array])};const Wc=()=>o.useContext(Rc).intl,Kc=()=>null,Yc=e=>{let{children:t}=e;return t},Xc=e=>e?e===o.Fragment?[Yc,{}]:o.isValidElement(e)?[e.type,e.props]:[e,{}]:[Kc,{}];function Qc(e,t,n,o){if(e){const r={syntheticEvent:t,nativeEvent:t.nativeEvent,target:n};e.call(void 0,Object.assign(r,o))}}const Jc=e=>{const t=e.shadowRoot,n=e.contentDocument;return t&&t.activeElement?Jc(t.activeElement):n&&n.activeElement?Jc(n.activeElement):e},Zc=e=>{if(e&&e.activeElement)return Jc(e.activeElement)},$c=(e,t,n)=>{const o="string"==typeof e?parseInt(e):e;if(!Number.isNaN(o))return void 0!==o?o:t?n?void 0:-1:0},ed={name:"caret-alt-up",content:'<path d="m256 160 128 192H128z" />',viewBox:"0 0 512 512"},td={name:"caret-alt-right",content:'<path d="M352 256 160 384V128z" />',viewBox:"0 0 512 512"},nd={name:"caret-alt-down",content:'<path d="M256 352 128 160h256z" />',viewBox:"0 0 512 512"},od={name:"caret-alt-left",content:'<path d="m160 256 192-128v256z" />',viewBox:"0 0 512 512"},rd={name:"caret-alt-to-right",content:'<path d="m128 128 192 128-192 128zm224 256V128h-32v256z" />',viewBox:"0 0 512 512"},id={name:"caret-alt-to-left",content:'<path d="M352 384 160 256l192-128zM128 128v256h32V128z" />',viewBox:"0 0 512 512"},ad={name:"reorder",content:'<path d="M480 128v64H32v-64zM32 224v64h448v-64zm448 96H32v64h448z" />',viewBox:"0 0 512 512"},sd={name:"more-vertical",content:'<path d="M240 128c26.4 0 48-21.6 48-48s-21.6-48-48-48-48 21.6-48 48 21.6 48 48 48m0 64c-26.4 0-48 21.6-48 48s21.6 48 48 48 48-21.6 48-48-21.6-48-48-48m0 160c-26.4 0-48 21.6-48 48s21.6 48 48 48 48-21.6 48-48-21.6-48-48-48" />',viewBox:"0 0 512 512"},ld={name:"calendar",content:'<path d="M416 416H288V288h128zm64-352v384c0 17.6-14.4 32-32 32H64c-17.6 0-32-14.4-32-32V64c0-17.6 14.4-32 32-32h64V0h64v32h128V0h64v32h64c17.6 0 32 14.4 32 32m-32 128H64v255.9l.1.1 383.9-.1zm0-127.9q-.15-.15 0 0l-64-.1v32h-64V64H192v32h-64V64H64.1l-.1.1V160h384z" />',viewBox:"0 0 512 512"},cd={name:"cancel",content:'<path d="M256 32c-50.3 0-96.8 16.6-134.1 44.6-17.2 12.8-32.4 28.1-45.3 45.3C48.6 159.2 32 205.7 32 256c0 123.7 100.3 224 224 224 50.3 0 96.8-16.6 134.1-44.6 17.2-12.8 32.4-28.1 45.3-45.3 28-37.4 44.6-83.8 44.6-134.1 0-123.7-100.3-224-224-224m0 384c-88.2 0-160-71.8-160-160 0-32.6 9.8-62.9 26.6-88.2l221.6 221.6C318.9 406.2 288.6 416 256 416m133.4-71.8L167.8 122.6C193.1 105.8 223.4 96 256 96c88.2 0 160 71.8 160 160 0 32.6-9.8 62.9-26.6 88.2" />',viewBox:"0 0 512 512"},dd={name:"x",content:'<path d="M416 141.3 301.3 256 416 370.7 370.7 416 256 301.3 141.3 416 96 370.7 210.7 256 96 141.3 141.3 96 256 210.7 370.7 96z" />',viewBox:"0 0 512 512"},ud={name:"x-circle",content:'<path d="M256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m128 306.7L338.7 384 256 301.3 173.3 384 128 338.7l82.7-82.7-82.7-82.7 45.3-45.3 82.7 82.7 82.7-82.7 45.3 45.3-82.7 82.7z" />',viewBox:"0 0 512 512"},pd={name:"plus",content:'<path d="M288 224V96h-64v128H96v64h128v128h64V288h128v-64z" />',viewBox:"0 0 512 512"},hd={name:"minus",content:'<path d="M96 224v64h320v-64z" />',viewBox:"0 0 512 512"},fd={name:"sort-asc-small",content:'<path d="M256 192v224h-32V192h-96L240 64l112 128z" />',viewBox:"0 0 512 512"},md={name:"sort-desc-small",content:'<path d="M352 288 240 416 128 288h96V64h32v224z" />',viewBox:"0 0 512 512"},gd={name:"filter",content:'<path d="M64 64v32l160 160v224l64-64V256L448 96V64z" />',viewBox:"0 0 512 512"},vd={name:"filter-clear",content:'<path d="m143.5 64 168.2 168.2L288 256v160l-64 64V256L64 96V64zm236.1 100.4L448 96V64H279.3l-64-64L192 22l298 298 22-23.3z" />',viewBox:"0 0 512 512"},yd={name:"search",content:'<path d="M365.3 320h-22.7l-26.7-26.7C338.5 265.7 352 230.4 352 192c0-88.4-71.6-160-160-160S32 103.6 32 192s71.6 160 160 160c38.4 0 73.7-13.5 101.3-36.1l26.7 26.7v22.7L434.7 480l45.3-45.3zM64 192c0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128S64 262.7 64 192" />',viewBox:"0 0 512 512"},xd={name:"insert-middle",content:'<path d="M192 128h192v32H192zm0 128h288v-32H192zm192 64H192v32h192zM32 128v224l96-112z" />',viewBox:"0 0 512 512"},bd="numerictextbox.increment",wd="numerictextbox.decrement",kd="slider.increment",Cd="slider.decrement",Sd="slider.dragTitle",Id="colorGradient.r",Ed="colorGradient.g",_d="colorGradient.b",jd="colorGradient.a",Ad="colorGradient.hex",Dd="colorGradient.contrastRatio",Nd="colorGradient.colorGradientAALevel",Td="colorGradient.colorGradientAAALevel",Pd="colorGradient.colorGradientPass",Md="colorGradient.colorGradientFail",Od="colorGradient.hueSliderLabel",Rd="colorGradient.alphaSliderLabel",Fd="colorGradient.toggleInputsButton",Ld="flatColorPicker.cancelBtn",zd="flatColorPicker.applyBtn",Bd="flatColorPicker.colorGradientBtn",Vd="flatColorPicker.colorPaletteBtn",Hd="flatColorPicker.clearBtn",qd="colorPicker.adaptiveTitle",Ud="checkbox.validation",Gd="checkbox.optionalText",Wd="radioButton.validation",Kd="switch.validation",Yd="colorPicker.dropdownButtonAriaLabel",Xd="rating.ariaLabel",Qd="signature.clear",Jd="signature.maximize",Zd="signature.minimize",$d={[bd]:"Increase value",[wd]:"Decrease value",[kd]:"Increase",[Cd]:"Decrease",[Sd]:"Drag",[Id]:"r",[Ed]:"g",[_d]:"b",[jd]:"a",[Ad]:"hex",[Dd]:"Contrast ratio",[Nd]:"AA",[Td]:"AAA",[Pd]:"Pass",[Md]:"Fail",[Od]:"Hue slider",[Rd]:"Alpha slider",[Fd]:"Toggle colorgradient inputs",[Ld]:"Cancel",[zd]:"Apply",[Bd]:"Color Gradient view",[Vd]:"Color Palette view",[Hd]:"Clear color value",[qd]:"Choose color",[Ud]:"Please check this box if you want to proceed!",[Gd]:"(Optional)",[Wd]:"Please select option if you want to proceed!",[Kd]:"Please turn on if you want to proceed!",[Yd]:"Select",[Xd]:"Rating",[Qd]:"Clear",[Jd]:"Maximize",[Zd]:"Minimize"},eu=1111111.1111111,tu=/\d/,nu=(e,t)=>void 0!==e?e:t,ou=(e,t,n)=>null===e&&void 0===e?"":"string"==typeof e?e:n.formatNumber(e,t),ru=e=>(String(e).split(".")[1]||"").length,iu=(e,t)=>Math.max(ru(e),ru(t)),au=(e,t)=>{const n=(e=>Math.min(e,15))(t);return parseFloat(e.toFixed(n))},su=(e,t,n,o,r,i,a)=>{const s=iu(e||0,n||0),l=cu(au((e||0)+(n||0),s),o,r);t.eventValue=l,t.currentLooseValue=ou(l,i,a),t.selectionStart=t.selectionEnd=mu(t.currentLooseValue,tu)},lu=(e,t,n,o,r,i,a)=>{const s=iu(e||0,n||0),l=cu(au((e||0)-(n||0),s),o,r);t.eventValue=l,t.currentLooseValue=ou(l,i,a),t.selectionStart=t.selectionEnd=mu(t.currentLooseValue,tu)},cu=(e,t,n)=>null==e?e:!(e>1||e<1||1===e)||void 0!==n&&void 0!==t&&n<t?null:(void 0!==n&&e>n&&(e=n),void 0!==t&&e<t&&(e=t),e),du=(e,t,n,o)=>{e.selectionStart=e.selectionEnd=t,((e,t,n)=>{const o=((e,t)=>{const n=t.findIndex((t=>{let[n,o]=t;return!!o&&e.indexOf(o)===e.length-o.length}));if(-1===n)return-1;const o=t[n][1];return e.length-o.length})(e,t);if(-1!==o&&n.selectionStart>o)return void(n.selectionStart=n.selectionEnd=o);n.selectionStart>e.length&&(n.selectionStart=n.selectionEnd=e.length);const r=((e,t)=>{const n=t.findIndex((t=>{let[n,o]=t;return!!n&&0===e.indexOf(n)}));return-1===n?-1:t[n][0].length})(e,t);-1!==r&&n.selectionStart<r&&(n.selectionStart=n.selectionEnd=r),-1===n.selectionStart&&(n.selectionStart=n.selectionEnd=0)})(n,o,e)},uu=(e,t,n,o)=>{e.eventValue=o.parseNumber(e.prevLooseValue,t),e.currentLooseValue=e.prevLooseValue,e.valueIsCorrected=!0,du(e,e.selectionStart,e.currentLooseValue,n)},pu=(e,t,n)=>t.split(e).length!==n.split(e).length&&t.length===n.length+e.length,hu=(e,t)=>{const n=e.indexOf(t.decimal);return n>-1?n:mu(e,tu)},fu=e=>e.split("").reverse().join(""),mu=(e,t)=>e.length-fu(e).search(t),gu=e=>e.split(e[e.search(tu)])[0],vu=e=>{const t=fu(e);return fu(t.split(t[t.search(tu)])[0])},yu=(e,t)=>e.search(t),xu=(e,t)=>{const n=e.indexOf(t);return n>-1?e.length-n-1:0},bu=(e,t,n,o,r)=>{const i="0"===e.replace(r,"")[0],a="0"===t.replace(r,"")[0];if(i&&!a)return n-1;if(a&&o)return n+1;let s=0;for(let c=0;c<n;c++)tu.test(e.charAt(c))&&s++;let l=0;for(;s>0&&t.length>l;)tu.test(t.charAt(l))&&s--,l++;return l},wu=(e,t,n)=>{const o=p({},e),{prevLooseValue:r}=o,i=n.numberSymbols(),a=((e,t)=>{const n=t.formatNumber(eu,e),o=t.formatNumber(-eu,e),r=t.formatNumber(0,e),i=t.formatNumber(1,e),a=t.numberSymbols(),s=new RegExp("[\\d\\".concat(a.decimal).concat(a.group,"]"),"g");return[n,o,r,i].map((e=>e.replace(s,""))).join("").split("").filter(((e,t,n)=>n.indexOf(e)===t)).join("")})(t,n),s=String(o.currentLooseValue),l=String(r),c=new RegExp("[^\\d\\".concat(i.decimal,"]"),"g"),d=new RegExp("[^\\d\\".concat(i.decimal,"\\").concat(i.group,"]"),"g"),u=new RegExp("[\\d\\".concat(i.decimal,"\\").concat(i.group,"]")),h=s.replace(c,""),f=yu(s,tu),m=-1===f?-1:mu(s,tu),g=s.indexOf(i.decimal),v=(s.substring(0,f)+s.substring(f,m).replace(d,"")+s.substring(m,s.length)).split("").filter((e=>-1!==a.indexOf(e)||-1!==e.search(u))).join(""),y=n.formatNumber(.31111111111111117,t).replace(c,""),x=y.indexOf(i.decimal),b=x>-1?y.length-x-1:0,w=n.formatNumber(1,t).replace(c,""),k=w.indexOf(i.decimal),C=k>-1?w.length-k-1:0,{positiveInfo:S,negativeInfo:I,zeroInfo:E,oneInfo:_}=((e,t)=>{const n=t.formatNumber(eu,e),o=t.formatNumber(-eu,e),r=t.formatNumber(0,e),i=t.formatNumber(1,e),a=gu(n),s=gu(o),l=gu(r),c=gu(i);return{positiveInfo:[a,vu(n)],negativeInfo:[s,vu(o)],zeroInfo:[l,vu(r)],oneInfo:[c,vu(i)]}})(t,n),j=[S,I,E,_],A=1!==j.findIndex((e=>-1!==e.findIndex((e=>!!e)))),D=s.length>0&&s.length<l.length,N="string"==typeof t&&"p"===t[0]&&s&&-1===s.indexOf(i.percentSign);if(!o.isPaste){if(""===s)return o.eventValue=null,o.currentLooseValue="",o;if(o.currentLooseValue===i.minusSign&&n.formatNumber(-0,t)!==l)return o.eventValue=-0,o.currentLooseValue=ou(o.eventValue,t,n),du(o,hu(o.currentLooseValue,i),o.currentLooseValue,j),o;if(o.currentLooseValue===i.decimal){o.eventValue=0;const e=ou(o.eventValue,t,n);if(0===C&&b>0){const t=mu(e,tu);o.currentLooseValue=e.substring(0,t)+i.decimal+e.substring(t)}else o.currentLooseValue=e;return du(o,hu(o.currentLooseValue,i)+1,o.currentLooseValue,j),o}if(((e,t)=>{const n=String(e.currentLooseValue),o=String(e.prevLooseValue);return pu(t.minusSign,n,o)||pu("-",n,o)||pu("\u2212",n,o)})(o,i)){const e=n.parseNumber(r,t);o.eventValue=-(null!==e?e:0),o.currentLooseValue=ou(o.eventValue,t,n);const i=yu(o.currentLooseValue,tu),a=yu(l,tu);return du(o,o.selectionEnd-1+(i-a),o.currentLooseValue,j),o}if(((e,t)=>{const n=String(e.currentLooseValue),o=String(e.prevLooseValue);return-1===n.indexOf(t.minusSign)&&-1!==o.indexOf(t.minusSign)})(o,i))return o.eventValue=n.parseNumber(o.currentLooseValue,t),du(o,o.selectionStart,o.currentLooseValue,j),o;if(((e,t)=>String(e.currentLooseValue).split(t.decimal).length>2)(o,i))return uu(o,t,j,n),o;if(N)return o.eventValue=n.parseNumber(s,t)/100,o.currentLooseValue=ou(o.eventValue,t,n),o;if(String(o.currentLooseValue).replace(/[^\d]/g,"").length>15||h!==s&&s&&A&&-1===j.findIndex((e=>{let[t,n]=e;const o=s.indexOf(t),r=s.indexOf(n),a=0===o,l=r===s.length-n.length,c=o+t.length!==f&&-1!==f&&s[o+t.length]!==i.decimal,d=r!==m&&-1!==m&&s[r-1]!==i.decimal;return t&&n?!c&&!d&&(a&&l):t?!c&&a:!!n&&(!d&&l)})))return uu(o,t,j,n),o;if(h[h.length-1]===i.decimal&&b>0)return o.eventValue=n.parseNumber(s,t),o.currentLooseValue=v,o;if(o.currentLooseValue&&r&&(a+i.decimal+i.group).split("").findIndex((e=>s.split("").filter((t=>t===e)).length<l.split("").filter((t=>t===e)).length&&s.length+1===l.length&&!(e===i.decimal&&0===xu(l.replace(c,""),i.decimal))))>-1)return o.eventValue=n.parseNumber(e.prevLooseValue,t),o.currentLooseValue=e.prevLooseValue,o;const d=xu(h,i.decimal),u="0"===h[h.length-1];if(D&&u&&d<C)return o.eventValue=n.parseNumber(o.currentLooseValue,t),o.currentLooseValue=ou(o.eventValue,t,n),o;if(d>0){const e=s.substring(0,g);if(u&&(!e||0!==l.indexOf(e))){o.eventValue=n.parseNumber(o.currentLooseValue,t);const e=ou(o.eventValue,t,n);return du(o,bu(s,e,o.selectionEnd,D,c),e,j),o.currentLooseValue=e,o}if(d>b){const e=s.indexOf(i.decimal),r=s.substring(0,e)+s.substring(e,e+1+b)+s.substring(m,String(o.currentLooseValue).length);return o.eventValue=n.parseNumber(r,t),o.currentLooseValue=r,du(o,o.selectionStart,r,j),o}if(C!==b&&d<=b&&u)return o.eventValue=n.parseNumber(o.currentLooseValue,t),o.currentLooseValue=v,o;if(d<C)return o.eventValue=n.parseNumber(o.currentLooseValue,t),o.currentLooseValue=ou(o.eventValue,t,n),o}}if(o.eventValue=n.parseNumber(o.currentLooseValue,t),N&&(o.eventValue=o.eventValue/100),"number"==typeof o.eventValue){const e=ou(o.eventValue,t,n);1===s.length?du(o,hu(e,i),e,j):du(o,bu(s,e,o.selectionEnd,D,c),e,j),o.currentLooseValue=e}else o.currentLooseValue=ou(n.parseNumber(h),t,n);return o},ku=["className","value","defaultValue","format","width","tabIndex","accessKey","title","placeholder","min","max","dir","name","label","id","ariaDescribedBy","ariaLabelledBy","ariaLabel","inputType","readOnly","validationMessage","children","touched","visited","modified","style","inputStyle","valid","step","spinners","disabled","required","validityStyles","prefix","suffix","onChange","onFocus","onBlur","rangeOnEnter","size","rounded","fillMode","autoFocus","inputAttributes"],Cu=Ta(),Su=o.forwardRef(((e,t)=>{const n=Na(Cu,e),{className:r,value:i,defaultValue:a,format:l,width:c,tabIndex:d,accessKey:u,title:h,placeholder:f,min:m,max:g,dir:v,name:y,label:x,id:b,ariaDescribedBy:w,ariaLabelledBy:k,ariaLabel:C,inputType:S,readOnly:I,validationMessage:E,children:_,touched:j,visited:A,modified:D,style:N,inputStyle:T,valid:P,step:M=Iu.step,spinners:O=Iu.spinners,disabled:R=Iu.disabled,required:F=Iu.required,validityStyles:L=Iu.validityStyles,prefix:z=Iu.prefix,suffix:B=Iu.suffix,onChange:V=Iu.onChange,onFocus:H=Iu.onFocus,onBlur:q=Iu.onBlur,rangeOnEnter:U=Iu.rangeOnEnter,size:G=Iu.size,rounded:W=Iu.rounded,fillMode:K=Iu.fillMode,autoFocus:Y=Iu.autoFocus,inputAttributes:X}=n,Q=s(n,ku),J=nn(),Z=b||J,$=Wc(),ee=Fc(),te=o.useRef(null),ne=o.useRef(void 0),[oe,re]=o.useState(!1),ie=o.useRef({eventValue:null,prevLooseValue:"",currentLooseValue:"",focused:!1,selectionStart:void 0,selectionEnd:void 0,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1}),ae=o.useRef(!1),se=o.useRef(void 0),le=o.useRef(a),ce=ou(ie.current.focused&&!R?ie.current.currentLooseValue:nu(i,le.current),l,$);se.current=ce;const[de]=Xc(z),[ue]=Xc(B);o.useEffect((()=>{te.current&&te.current.setCustomValidity&&te.current.setCustomValidity(ge().valid?"":E||"Please enter a valid value!")}));const pe=o.useCallback((()=>{te.current&&te.current.focus()}),[]),he=o.useCallback((()=>void 0!==ne.current?ne.current:nu(i,le.current)),[i]),fe=o.useCallback((()=>y),[y]),me=o.useCallback((()=>F),[F]),ge=o.useCallback((()=>{const e=void 0!==E,t=he();return{customError:e,valid:void 0!==P?P:!ie.current.valueIsOutOfRange&&(!me()||null!=t),valueMissing:null==t}}),[E,P,he,me]),ve=o.useCallback((()=>L),[L]),ye=o.useCallback((()=>n),[n]),xe=o.useCallback((()=>{const e={element:te.current,focus:pe};return Object.defineProperty(e,"name",{get:fe}),Object.defineProperty(e,"value",{get:he}),Object.defineProperty(e,"validity",{get:ge}),Object.defineProperty(e,"validityStyles",{get:ve}),Object.defineProperty(e,"required",{get:me}),Object.defineProperty(e,"props",{get:ye}),e}),[fe,he,ge,ve,me,pe,ye]);o.useImperativeHandle(t,xe);const be=o.useCallback((()=>({eventValue:nu(i,le.current),prevLooseValue:se.current,currentLooseValue:te.current.value,selectionStart:te.current.selectionStart,selectionEnd:te.current.selectionEnd,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1,isPaste:ae.current,focused:ie.current.focused})),[i]),we=o.useCallback(((e,t)=>{if(R)return;ne.current=t.eventValue,le.current=t.eventValue;const n=ou(cu(t.eventValue,m,g),l,$),o=cu($.parseNumber(n,l),m,g);o!==t.eventValue&&(t.valueIsOutOfRange=!0,t.eventValue=o,le.current=o),i!==t.eventValue&&Qc(V,e,xe(),{value:t.eventValue}),ne.current=void 0,ie.current=t,re((e=>!e))}),[i,V,R,re,xe]),ke=o.useCallback((e=>{const t=be();ae.current=!1,we(e,wu(t,l,$))}),[l,V,$,we,be]),Ce=o.useCallback((e=>{let t=be();const n=$.parseNumber(String(t.currentLooseValue),l);if(t.selectionEnd>t.selectionStart&&t.selectionEnd-t.selectionStart===String(t.currentLooseValue).length){const t=$.numberSymbols(),n=t&&e.key===t.minusSign,o=t&&e.key===t.decimal;ae.current=!n&&!o}else{switch(e.keyCode){case 38:su(n,t,M,m,g,l,$);break;case 40:lu(n,t,M,m,g,l,$);break;case 13:{if(!1===U)return;const e=ou(cu(n,m,g),l,$),o=cu($.parseNumber(e,l),m,g);t.eventValue=o,t.currentLooseValue=ou(o,l,$),t.selectionStart=t.selectionEnd=t.currentLooseValue.length;break}case 110:{const e=te.current,n=$.numberSymbols();e&&(t.currentLooseValue=t.currentLooseValue.slice(0,t.selectionStart)+n.decimal+t.currentLooseValue.slice(t.selectionEnd),t.selectionStart=t.selectionEnd=t.selectionStart+1,t=wu(t,l,$));break}default:return}e.preventDefault(),we(e,t)}}),[l,m,g,M,V,U,we,be]),Se=o.useCallback((()=>{ae.current=!0}),[]),Ie=o.useCallback((e=>{if(I||R)return;const t=be();su($.parseNumber(String(t.currentLooseValue),l),t,M,m,g,l,$),we(e,t)}),[l,m,g,M,V,I,R,we,be]),Ee=o.useCallback((e=>{if(I||R)return;const t=be();lu($.parseNumber(String(t.currentLooseValue),l),t,M,m,g,l,$),we(e,t)}),[l,m,g,M,V,I,R,we,be]),_e=o.useCallback((e=>{const t=Zc(document);!document||t!==te.current||!te.current||I||R||(e.nativeEvent.deltaY<0&&Ie(e),e.nativeEvent.deltaY>0&&Ee(e))}),[Ie,Ee,R,I]),je=o.useCallback((e=>{ie.current.currentLooseValue=se.current,ie.current.focused=!0,Qc(H,e,xe(),{}),re((e=>!e))}),[H,re,xe]),Ae=o.useCallback((e=>{ie.current={eventValue:null,prevLooseValue:"",currentLooseValue:"",focused:!1,selectionStart:void 0,selectionEnd:void 0,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1},Qc(q,e,xe(),{}),re((e=>!e))}),[q,re,xe]),De=o.useCallback((e=>{if(document&&te.current){const t=Zc(document);e.preventDefault(),t!==te.current&&te.current.focus()}}),[]);tn((()=>{te.current&&"number"!==te.current.type&&void 0!==ie.current.selectionStart&&void 0!==ie.current.selectionEnd&&(te.current.selectionStart=ie.current.selectionStart,te.current.selectionEnd=ie.current.selectionEnd,ie.current.selectionStart=void 0,ie.current.selectionEnd=void 0)}),[oe]);const Ne=!ve()||ge().valid,Te=o.createElement("span",p({dir:v,style:x?N:p({width:c},N),className:on("k-input","k-numerictextbox",{["k-input-".concat(ko.sizeMap[G]||G)]:G,["k-input-".concat(K)]:K,["k-rounded-".concat(ko.roundedMap[W]||W)]:W,"k-invalid":!Ne,"k-required":F,"k-disabled":R},r),"aria-disabled":R?"true":void 0},x?{}:Q),o.createElement(de,null),o.createElement("input",p({role:"spinbutton",value:null===ce?"":ce,tabIndex:$c(d,R),accessKey:u,disabled:R,title:h,"aria-disabled":R?"true":void 0,"aria-valuemin":m,"aria-valuemax":g,"aria-label":C,"aria-labelledby":k,"aria-describedby":w,"aria-required":F,placeholder:f,spellCheck:!1,autoComplete:"off",autoCorrect:"off",autoFocus:Y,type:S||"tel",className:"k-input-inner",id:Z,name:y,readOnly:I,style:T,onChange:ke,onFocus:je,onBlur:Ae,onKeyDown:Ce,onPaste:Se,onWheel:_e,ref:te},X)),o.createElement(ue,null),_,O&&o.createElement("span",{className:"k-input-spinner k-spin-button",onMouseDown:De},o.createElement(xo,{tabIndex:-1,type:"button",icon:"caret-alt-up",svgIcon:ed,rounded:null,fillMode:K,className:"k-spinner-increase","aria-label":ee.toLanguageString(bd,$d[bd]),title:ee.toLanguageString(bd,$d[bd]),onClick:Ie}),o.createElement(xo,{tabIndex:-1,type:"button",icon:"caret-alt-down",svgIcon:nd,rounded:null,fillMode:K,className:"k-spinner-decrease","aria-label":ee.toLanguageString(wd,$d[wd]),title:ee.toLanguageString(wd,$d[wd]),onClick:Ee})));return x?o.createElement(Vc,p({label:x,editorId:Z,editorValue:null===ce?"":ce,editorValid:Ne,editorDisabled:R,editorPlaceholder:f,children:Te,style:{width:c},dir:v},Q)):Te}));Su.propTypes={value:Et.number,defaultValue:Et.number,step:Et.number,format:Et.oneOfType([Et.string,Et.shape({style:Et.oneOf(["decimal","currency","percent","scientific","accounting"]),currency:Et.string,currencyDisplay:Et.oneOf(["symbol","code","name"]),useGrouping:Et.bool,minimumIntegerDigits:Et.number,minimumFractionDigits:Et.number,maximumFractionDigits:Et.number})]),width:Et.oneOfType([Et.string,Et.number]),tabIndex:Et.number,accessKey:Et.string,title:Et.string,placeholder:Et.string,min:Et.number,max:Et.number,spinners:Et.bool,disabled:Et.bool,readOnly:Et.bool,dir:Et.string,name:Et.string,label:Et.string,validationMessage:Et.string,required:Et.bool,id:Et.string,rangeOnEnter:Et.bool,ariaLabelledBy:Et.string,ariaDescribedBy:Et.string,ariaLabel:Et.string,onChange:Et.func,onFocus:Et.func,onBlur:Et.func,size:Et.oneOf([null,"small","medium","large"]),rounded:Et.oneOf([null,"small","medium","large","full"]),fillMode:Et.oneOf([null,"solid","flat","outline"]),inputAttributes:Et.object};const Iu={prefix:e=>null,suffix:e=>null,step:1,spinners:!0,disabled:!1,required:!1,validityStyles:!0,rangeOnEnter:!0,autoFocus:!1,onChange:e=>{},onFocus:e=>{},onBlur:e=>{},size:"medium",rounded:"medium",fillMode:"solid"};Su.displayName="KendoNumericTextBox";const Eu=["size","rounded","fillMode","autoFocus","prefix","suffix","ariaDescribedBy","ariaLabelledBy","autoSize","className","defaultValue","disabled","readOnly","required","rows","id","name","placeholder","style","tabIndex","value","valid","validationMessage","validityStyles","onChange","onFocus","onBlur","visited","touched","modified","resizable","inputAttributes"],_u=Ta(),ju=o.forwardRef(((e,t)=>{const n=Na(_u,e),{size:r=Au.size,rounded:i=Au.rounded,fillMode:a=Au.fillMode,autoFocus:l=Au.autoFocus,prefix:c=null,suffix:d=null,ariaDescribedBy:u,ariaLabelledBy:h,autoSize:f,className:m,defaultValue:g,disabled:v,readOnly:y,required:x,rows:b,id:w,name:k,placeholder:C,style:S,tabIndex:I,value:E,valid:_,validationMessage:j,validityStyles:A,onChange:D,onFocus:N,onBlur:T,visited:P,touched:M,modified:O,resizable:R,inputAttributes:F}=n,L=s(n,Eu),z=o.useRef(null),B=o.useCallback((()=>{z.current&&z.current.focus()}),[]),[V,H]=o.useState(g),[q,U]=Xc(c),[G,W]=Xc(d),K=void 0!==E,Y=K?E:V,X=o.useCallback((()=>({element:z,focus:B,get value(){return Y},get name(){return z.current&&z.current.name}})),[B,Y]);o.useImperativeHandle(t,X);const[Q,J]=o.useState("auto"),Z=nn(),$=wo(z,n.dir),ee=void 0!==_?_:!x||!!Y;o.useEffect((()=>{z.current&&z.current.setCustomValidity&&z.current.setCustomValidity(ee?"":j||"")}),[ee,j]),tn((()=>{z.current&&J("".concat(z.current.scrollHeight,"px"))}),[Y]);const te=o.useCallback((e=>{const t=e.target.value;J("auto"),!K&&!v&&H(t),D&&!v&&Qc(D,e,p(p({},X()),{},{value:t}),{value:t})}),[H,D,v,K]),ne=o.useCallback((e=>{N&&!v&&Qc(N,e,X(),void 0)}),[N,v]),oe=o.useCallback((e=>{T&&!v&&Qc(T,e,X(),void 0)}),[T,v]),re=p(p({id:w||Z,role:"textbox",name:k,className:on("k-input-inner","!k-overflow-auto",{"k-resize":!f&&"none"!==R}),ref:z,disabled:v,rows:b,placeholder:C,readOnly:y,required:x,tabIndex:$c(I,v),autoFocus:l,style:f?{resize:"none",overflow:"hidden",height:Q}:R?{resize:R}:{},"aria-labelledby":h,"aria-describedby":u,"aria-multiline":!0,"aria-disabled":v||void 0,"aria-required":x,value:K?E:V},Object.assign({},L,F)),{},{onChange:te,onFocus:ne,onBlur:oe});return o.createElement("span",{className:on("k-input","k-textarea",{["k-input-".concat(ko.sizeMap[r]||r)]:r,["k-input-".concat(a)]:a,["k-rounded-".concat(ko.roundedMap[i]||i)]:i,"k-invalid":!(ee||void 0!==A||!0===A),"k-required":x,"k-disabled":v},m),style:S,dir:$},n.prefix&&o.createElement(q,p({},U)),o.createElement("textarea",p({},re)),n.suffix&&o.createElement(G,p({},W)))}));ju.propTypes={ariaDescribedBy:Et.string,ariaLabelledBy:Et.string,autoSize:Et.bool,className:Et.string,defaultValue:Et.string,dir:Et.string,disabled:Et.bool,readOnly:Et.bool,rows:Et.number,id:Et.string,name:Et.string,placeholder:Et.string,style:Et.object,tabIndex:Et.number,value:Et.oneOfType([Et.string,Et.arrayOf(Et.string),Et.number]),onChange:Et.func,onFocus:Et.func,onBlur:Et.func,size:Et.oneOf([null,"small","medium","large"]),rounded:Et.oneOf([null,"small","medium","large","full"]),fillMode:Et.oneOf([null,"solid","flat","outline"]),resizable:Et.oneOf(["none","both","horizontal","vertical"]),autoFocus:Et.bool};const Au={size:"medium",rounded:"medium",fillMode:"solid",autoFocus:!1};ju.displayName="KendoTextArea";const Du=["ariaDescribedBy","ariaLabelledBy","checked","className","labelClassName","children","defaultChecked","disabled","defaultValue","id","size","rounded","label","labelPlacement","name","labelOptional","onChange","onFocus","onBlur","tabIndex","value","required","valid","validationMessage","validityStyles","autoFocus","visited","touched","modified"],Nu=Ta(),Tu=o.forwardRef(((e,t)=>{const n=Na(Nu,e),{ariaDescribedBy:r,ariaLabelledBy:i,checked:a,className:l,labelClassName:c,children:d,defaultChecked:u,disabled:h,defaultValue:f,id:m,size:g=Pu.size,rounded:v=Pu.rounded,label:y,labelPlacement:x,name:b,labelOptional:w,onChange:k,onFocus:C,onBlur:S,tabIndex:I,value:E,required:_,valid:j,validationMessage:A,validityStyles:D,autoFocus:N,visited:T,touched:P,modified:M}=n,O=s(n,Du),R=o.useRef(null),F=o.useCallback((()=>{R.current&&R.current.focus()}),[]),L=o.useCallback((()=>({element:R.current,focus:F,get name(){return R.current&&R.current.name}})),[F]);o.useImperativeHandle(t,L);const[z,B]=o.useState(u),[V,H]=o.useState(f),q="boolean"==typeof E||null===E,U=void 0!==a,G=q,W=G?E:V,K=U?a:G?void 0:z,Y=void 0===K&&W,X=Y?W:K,Q=Y||G?null===E?E:void 0:E||W,J=null===X||null===Q,Z=nn(),$=Fc(),ee=e=>$.toLanguageString(e,$d[e]),te=ee(Ud),ne=ee(Gd),oe=void 0!==j?j:!_||!!K;o.useEffect((()=>{R.current&&R.current.setCustomValidity&&R.current.setCustomValidity(oe?"":A||te)}),[oe,A,te]);const re=o.useCallback(((e,t)=>{!G&&!h&&(H(t),!U&&!h&&B(t)),k&&!h&&Qc(k,e,p(p({},L()),{},{value:t}),{value:t})}),[U,h,k,G,L]),ie=o.useCallback((e=>{const t=e.target.checked;re(e,t)}),[re,E]),ae=o.useCallback((e=>{if(h)return;const{keyCode:t}=e,n=e.currentTarget.checked;t===Nt&&(e.preventDefault(),e.stopPropagation(),re(e,!n))}),[h,re]),se=o.useCallback((e=>{if(h)return;const{keyCode:t}=e;t===Nt&&e.preventDefault()}),[h]),le=o.useCallback((e=>{C&&!h&&Qc(C,e,L(),void 0)}),[C,h,L]),ce=o.useCallback((e=>{S&&!h&&Qc(S,e,L(),void 0)}),[S,h,L]),de=wo(R,n.dir),ue=on("k-checkbox-wrap",l),pe=p(p({type:"checkbox",className:on("k-checkbox",{["k-checkbox-".concat(ko.sizeMap[g]||g)]:g,["k-rounded-".concat(ko.roundedMap[v]||v)]:v,"k-indeterminate":J,"k-disabled":h,"k-invalid k-invalid":!(oe||void 0!==D||!0===D)}),ref:R,name:b,id:m||Z,disabled:h,required:void 0!==_&&_,tabIndex:$c(I,h),role:"checkbox",checked:!!X,"aria-describedby":r,"aria-labelledby":i,"aria-disabled":h||void 0,"aria-required":_,autoFocus:N},O),{},{onChange:ie,onKeyDown:ae,onKeyUp:se,onFocus:le,onBlur:ce}),he=void 0===Q?o.createElement("input",p({},pe)):o.createElement("input",p(p({},pe),{},{value:q?void 0:null===Q?"":Q})),fe=void 0!==y?o.createElement("label",{className:on("k-checkbox-label",c),htmlFor:m||Z,style:{userSelect:"none"}},y,w&&o.createElement("span",{className:"k-label-optional"},ne)):null,me=o.createElement("span",{className:ue},he,d);return o.createElement(o.Fragment,null,"before"===x?o.createElement("div",{dir:"rtl"},me,fe):"after"===x?o.createElement("div",{dir:"ltr"},me,fe):o.createElement("div",{dir:de},me,fe))}));Tu.propTypes={checked:Et.bool,className:Et.string,defaultChecked:Et.bool,defaultValue:Et.any,dir:Et.string,disabled:Et.bool,id:Et.string,size:Et.oneOf([null,"small","medium","large"]),rounded:Et.oneOf([null,"small","medium","large"]),ariaLabelledBy:Et.string,ariaDescribedBy:Et.string,label:Et.any,labelPlacement:Et.string,labelOptional:Et.bool,name:Et.string,tabIndex:Et.number,value:Et.any,validationMessage:Et.string,required:Et.bool,validate:Et.bool,valid:Et.bool,autoFocus:Et.bool,onChange:Et.func,onFocus:Et.func,onBlur:Et.func};const Pu={size:"medium",rounded:"medium",autoFocus:!1};Tu.displayName="KendoCheckbox";const Mu={clearButton:"".concat(un.prefix,"-").concat(un.clear,"-").concat(un.value),groupStickyHeader:"".concat(un.prefix,"-").concat(kn.list,"-").concat(kn.group,"-").concat(In.sticky,"-").concat(Cn.header),listHeaderText:"".concat(un.prefix,"-").concat(kn.list,"-").concat(Cn.header,"-").concat(Cn.text),ul:"".concat(un.prefix,"-").concat(kn.list,"-").concat(Cn.ul),li:{main:"".concat(un.prefix,"-").concat(kn.list,"-").concat(kn.item),selected:"".concat(un.prefix,"-").concat(In.selected),focused:"".concat(un.prefix,"-").concat(In.focus),first:"".concat(un.prefix,"-").concat(In.first),disabled:"".concat(un.prefix,"-").concat(In.disabled)},groupLi:{list:"".concat(un.prefix,"-").concat(kn.list,"-").concat(kn.group,"-").concat(kn.item),table:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(kn.group,"-").concat(kn.row)},itemText:"".concat(un.prefix,"-").concat(kn.list,"-").concat(kn.item,"-").concat(Cn.text),groupItemText:{list:"".concat(un.prefix,"-").concat(kn.list,"-").concat(kn.item,"-").concat(Cn.text),table:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(Cn.th)},itemGroupLabel:"".concat(un.prefix,"-").concat(kn.list,"-").concat(kn.item,"-").concat(kn.group,"-").concat(Cn.label),noData:"".concat(un.prefix,"-").concat(un.nodata),heightContainer:"".concat(un.prefix,"-").concat(xn.height,"-").concat(kn.container),optionLabel:{main:"".concat(un.prefix,"-").concat(kn.list,"-").concat(kn.optionLabel),selected:"".concat(un.prefix,"-").concat(In.selected)},inputInner:"".concat(Bn,"-").concat(_n.inner),inputIcon:"".concat(un.prefix,"-").concat(_n.input,"-").concat(An.prefix),searchbox:"".concat(un.prefix,"-").concat(hn.searchbox),listFilter:"".concat(un.prefix,"-").concat(kn.list,"-").concat(un.filter)},Ou={clearButton:dn(Mu,"clearButton"),groupStickyHeader:dn(Mu,"groupStickyHeader"),listHeaderText:dn(Mu,"listHeaderText"),ul:dn(Mu,"ul"),li:e=>{const{c:t=Mu,selected:n,focused:o,first:r,disabled:i}=e,a=t.li;return{[a.main]:!0,[a.selected]:n,[a.focused]:o,[a.first]:r,[a.disabled]:i}},groupLi:e=>{const{c:t=Mu,isMultiColumn:n}=e,o=t.groupLi;return{[o.table]:n,[o.list]:!n}},itemText:dn(Mu,"itemText"),groupItemText:e=>{const{c:t=Mu,isMultiColumn:n}=e,o=t.groupItemText;return{[o.table]:n,[o.list]:!n}},itemGroupLabel:dn(Mu,"itemGroupLabel"),noData:dn(Mu,"noData"),heightContainer:dn(Mu,"heightContainer"),optionLabel:e=>{const{c:t=Mu,selected:n}=e,o=t.optionLabel;return{[o.main]:!0,[o.selected]:n}},inputInner:dn(Mu,"inputInner"),inputIcon:dn(Mu,"inputIcon"),searchbox:dn(Mu,"searchbox"),listFilter:dn(Mu,"listFilter")},Ru={wrapper:{main:"".concat(un.prefix,"-").concat(In.adaptive,"-").concat(hn.actionsheet),fullscreen:"".concat(un.prefix,"-").concat(hn.actionsheet,"-").concat(In.fullscreen),bottom:"".concat(un.prefix,"-").concat(hn.actionsheet,"-").concat(In.bottom)},header:"".concat(un.prefix,"-").concat(Cn.text,"-").concat(pn.center),titleBar:{main:"".concat(un.prefix,"-").concat(hn.actionsheet,"-").concat(kn.titlebar,"-").concat(kn.group),position:"".concat(un.prefix,"-").concat(pn.hbox)},title:"".concat(un.prefix,"-").concat(hn.actionsheet,"-").concat(Cn.title),subtitle:{main:"".concat(un.prefix,"-").concat(hn.actionsheet,"-").concat(Cn.subtitle),textCenter:"".concat(un.prefix,"-").concat(Cn.text,"-").concat(pn.center)},actions:"".concat(un.prefix,"-").concat(hn.actionsheet,"-").concat(kn.actions),titleBarGroup:{main:"".concat(un.prefix,"-").concat(hn.actionsheet,"-").concat(kn.titlebar,"-").concat(kn.group),filter:"".concat(un.prefix,"-").concat(hn.actionsheet,"-").concat(un.filter)}},Fu={wrapper:e=>{const{c:t=Ru,isFullScreen:n}=e,o=t.wrapper;return{[o.main]:!0,[o.fullscreen]:n,[o.bottom]:!n}},header:dn(Ru,"header"),titleBar:e=>{const{c:t=Ru}=e,n=t.titleBar;return{[n.main]:!0,[n.position]:!0}},title:dn(Ru,"title"),subtitle:e=>{const{c:t=Ru}=e,n=t.subtitle;return{[n.main]:!0,[n.textCenter]:!0}},actions:dn(Ru,"actions"),titleBarGroup:e=>{const{c:t=Ru}=e,n=t.titleBarGroup;return{[n.main]:!0,[n.filter]:!0}}},Lu={wrapper:{main:Gn,picker:Un,size:{small:"".concat(Un,"-").concat(fn.small),medium:"".concat(Un,"-").concat(fn.medium),large:"".concat(Un,"-").concat(fn.large)},fillMode:{solid:"".concat(Un,"-").concat(mn.solid),outline:"".concat(Un,"-").concat(mn.outline),flat:"".concat(Un,"-").concat(mn.flat),link:"".concat(Un,"-").concat(mn.link),clear:"".concat(Un,"-").concat(mn.clear)},rounded:{small:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.small),medium:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.medium),large:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.large)},disabled:"".concat(un.prefix,"-").concat(In.disabled),focused:"".concat(un.prefix,"-").concat(In.focus),invalid:"".concat(un.prefix,"-").concat(In.invalid),loading:"".concat(un.prefix,"-").concat(In.loading),required:"".concat(un.prefix,"-").concat(In.required)},loadingIcon:"".concat(Bn,"-").concat(In.loading,"-").concat(An.prefix),inputButton:"".concat(Bn,"-").concat(Cn.button),listContainer:{main:"".concat(un.prefix,"-").concat(kn.list,"-").concat(kn.container),popup:"".concat(un.prefix,"-").concat(hn.dropdownlist,"-").concat(kn.popup)},inputInner:"".concat(Bn,"-").concat(_n.inner),inputText:"".concat(Bn,"-").concat(un.value,"-").concat(Cn.text),listHeader:"".concat(un.prefix,"-").concat(kn.list,"-").concat(Cn.header),list:{main:"".concat(un.prefix,"-").concat(kn.list),size:{small:"".concat(un.prefix,"-").concat(kn.list,"-").concat(fn.small),medium:"".concat(un.prefix,"-").concat(kn.list,"-").concat(fn.medium),large:"".concat(un.prefix,"-").concat(kn.list,"-").concat(fn.large)},virtual:"".concat(un.prefix,"-").concat(un.virtual,"-").concat(kn.list)},listContent:"".concat(un.prefix,"-").concat(kn.list,"-").concat(kn.content),listFooter:"".concat(un.prefix,"-").concat(kn.list,"-").concat(Cn.footer)},zu={wrapper:e=>{const{c:t=Lu,size:n,rounded:o,fillMode:r,focused:i,disabled:a,invalid:s,loading:l,required:c}=e,d=t.wrapper;return{[d.main]:!0,[d.picker]:!0,[d.size[n]]:d.size[n],["".concat(Un,"-").concat(n)]:n&&!d.size[n],[d.fillMode[r]]:d.fillMode[r],[d.rounded[o]]:d.rounded[o],["".concat(un.prefix,"-").concat(un.rounded,"-").concat(o)]:o&&!d.rounded[o],[d.focused]:i,[d.disabled]:a,[d.loading]:l,[d.invalid]:s,[d.required]:c}},loadingIcon:dn(Lu,"loadingIcon"),inputButton:dn(Lu,"inputButton"),listContainer:e=>{const{c:t=Lu}=e,n=t.listContainer;return{[n.main]:!0,[n.popup]:!0}},inputInner:dn(Lu,"inputInner"),inputText:dn(Lu,"inputText"),listHeader:dn(Lu,"listHeader"),list:e=>{const{c:t=Lu,size:n,virtual:o}=e,r=t.list;return{[r.main]:!0,[r.size[n]]:r.size[n],["".concat(un.prefix,"-").concat(kn.list,"-").concat(n)]:n&&!r.size[n],[r.virtual]:o}},listContent:dn(Lu,"listContent"),listFooter:dn(Lu,"listFooter")},Bu={wrapper:{main:Wn,input:Bn,size:{small:"".concat(Bn,"-").concat(fn.small),medium:"".concat(Bn,"-").concat(fn.medium),large:"".concat(Bn,"-").concat(fn.large)},fillMode:{solid:"".concat(Bn,"-").concat(mn.solid),outline:"".concat(Bn,"-").concat(mn.outline),flat:"".concat(Bn,"-").concat(mn.flat),link:"".concat(Bn,"-").concat(mn.link),clear:"".concat(Bn,"-").concat(mn.clear)},rounded:{small:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.small),medium:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.medium),large:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.large)},disabled:"".concat(un.prefix,"-").concat(In.disabled),invalid:"".concat(un.prefix,"-").concat(In.invalid),loading:"".concat(un.prefix,"-").concat(In.loading),required:"".concat(un.prefix,"-").concat(In.required)},loadingIcon:"".concat(Bn,"-").concat(In.loading,"-").concat(An.prefix),inputButton:"".concat(Bn,"-").concat(Cn.button),listContainer:{main:"".concat(un.prefix,"-").concat(kn.list,"-").concat(kn.container),popup:"".concat(un.prefix,"-").concat(hn.combobox,"-").concat(kn.popup)},listHeader:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(Cn.header),list:{list:"".concat(un.prefix,"-").concat(kn.list),table:"".concat(un.prefix,"-").concat(un.data,"-").concat(Cn.table),size:{prefix:"".concat(un.prefix,"-").concat(kn.list,"-"),small:"".concat(un.prefix,"-").concat(kn.list,"-").concat(fn.small),medium:"".concat(un.prefix,"-").concat(kn.list,"-").concat(fn.medium),large:"".concat(un.prefix,"-").concat(kn.list,"-").concat(fn.large)},tableSize:{prefix:"".concat(un.prefix,"-").concat(Cn.table,"-"),small:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(fn.small),medium:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(fn.medium),large:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(fn.large)},virtual:"".concat(un.prefix,"-").concat(un.virtual,"-").concat(kn.list)},listContent:{main:"".concat(un.prefix,"-").concat(kn.list,"-").concat(kn.content),scroller:"".concat(un.prefix,"-").concat(kn.list,"-").concat(un.scroller)},listFooter:"".concat(un.prefix,"-").concat(kn.list,"-").concat(Cn.footer)},Vu=(dn(Bu,"loadingIcon"),dn(Bu,"inputButton"),dn(Bu,"listHeader"),dn(Bu,"listFooter"),{small:500,medium:768}),Hu=o.createContext(Vu),qu=()=>o.useContext(Hu);Hu.displayName="KendoReactAdaptiveModeContext";const Uu=e=>{const{children:t,width:n,dir:r,itemsCount:i,popupSettings:a}=e,s=o.useContext(Oo),l=s?s+2e3:12e3;return o.createElement(Oo.Provider,{value:l},o.createElement(jr,p({style:{width:n,direction:r},contentKey:i&&i.join()},a),t))},Gu=["orientation"],Wu=o.forwardRef(((e,t)=>{let{orientation:n="horizontal"}=e,r=s(e,Gu);const i=o.useRef(null),a=o.useRef(null),l=uo(),c=l&&l.uTextBox;o.useImperativeHandle(i,(()=>({element:a.current}))),o.useImperativeHandle(t,(()=>i.current));const d=o.useMemo((()=>on(ja.prefix({c:c,orientation:n}),r.className)),[r.className,c,n]);return o.createElement("span",p(p({},r),{},{className:d}))}));Wu.displayName="KendoReactInputPrefix";const Ku=["orientation"],Yu=o.forwardRef(((e,t)=>{let{orientation:n="vertical"}=e,r=s(e,Ku);const i=o.useRef(null),a=o.useRef(null);return o.useImperativeHandle(i,(()=>({element:a.current}))),o.useImperativeHandle(t,(()=>i.current)),o.createElement("span",p(p({},r),{},{className:on("k-input-separator",r.className,"k-input-separator-".concat(n))}))}));function Xu(e){let{onFocus:t,onBlur:n,onSyncFocus:r,onSyncBlur:i}=e;const a=o.useRef(!1),s=o.useRef(0),l=o.useCallback((e=>{clearTimeout(s.current),s.current=window.setTimeout((()=>e()))}),[s]),c=o.useCallback((function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];clearTimeout(s.current),r&&r.call(void 0,n[0]),!a.current&&(a.current=!0,t&&t.call(void 0,...n))}),[a,t,r]),d=o.useCallback((function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];i&&i.call(void 0,t[0]),l((()=>{a.current&&n&&(a.current=!1,n.call(void 0,...t))}))}),[a,l,n,i]);return o.useEffect((()=>()=>{clearTimeout(s.current)}),[]),{onFocus:c,onBlur:d}}Yu.displayName="KendoReactInputSeparator";const Qu=["size","fillMode","rounded","autoFocus","inputAttributes","className","dir","style","prefix","suffix","valid","onFocus","onBlur","modified","touched","visited"],Ju=o.forwardRef(((e,t)=>{const n=o.useRef(null),r=o.useRef(null),i=o.useRef(void 0),a=uo(),l=a&&a.uTextBox,c=o.useCallback((()=>{var e;return void 0!==i.current?i.current:null==(e=n.current)?void 0:e.value}),[]);o.useImperativeHandle(r,(()=>({get element(){return n.current},get name(){return n.current&&n.current.name},get value(){return c()}}))),o.useImperativeHandle(t,(()=>r.current));const{size:d=Zu.size,fillMode:u=Zu.fillMode,rounded:h=Zu.rounded,autoFocus:f=Zu.autoFocus,inputAttributes:m,className:g,dir:v,style:y,prefix:x=Zu.prefix,suffix:b=Zu.suffix,valid:w,onFocus:k,onBlur:C,modified:S,touched:I,visited:E}=e,_=s(e,Qu),[j]=Xc(x),[A]=Xc(b),[D,N]=o.useState(!1),T=o.useCallback((t=>{i.current=t.target.value,e.onChange&&e.onChange.call(void 0,{syntheticEvent:t,nativeEvent:t.nativeEvent,value:t.target.value,target:r.current}),i.current=void 0}),[e.onChange]),{onFocus:P,onBlur:M}=Xu({onFocus:e=>{N(!0)},onBlur:e=>{N(!1)},onSyncFocus:k,onSyncBlur:C}),O=o.useMemo((()=>on(ja.wrapper({c:l,rounded:h,fillMode:u,size:d,focused:D,required:e.required,disabled:e.disabled,invalid:!1===e.valid}),g)),[g,u,D,e.disabled,e.required,e.valid,h,d,l]);return o.createElement("span",{style:y,dir:v,className:O,onFocus:P,onBlur:M},o.createElement(j,null),o.createElement("input",p(p({ref:n,className:on(ja.inputInner({c:l})),autoFocus:f},Object.assign({},_,m)),{},{"aria-required":e.required,onChange:T})),o.createElement(A,null))})),Zu={prefix:e=>null,suffix:e=>null,size:"medium",rounded:"medium",fillMode:"solid",autoFocus:!1};Ju.propTypes={size:Et.oneOf([null,"small","medium","large"]),rounded:Et.oneOf([null,"small","medium","large","full"]),fillMode:Et.oneOf([null,"solid","flat","outline"]),autoFocus:Et.bool,inputAttributes:Et.object},Ju.displayName="KendoReactTextBoxComponent";const $u=["renderListFilterWrapper","renderPrefixSeparator"],ep=o.forwardRef(((e,t)=>{const n=o.useRef(null),{renderListFilterWrapper:r=!1,renderPrefixSeparator:i=!1}=e,a=s(e,$u),l=uo(),c=l&&l.uDropDownsBase;o.useImperativeHandle(t,(()=>n.current));const d=o.createElement(Ju,p(p({},a),{},{ref:n,className:on(Ou.searchbox({c:c})),value:e.value||"",onChange:e.onChange,onKeyDown:e.onKeyDown,tabIndex:e.tabIndex,onClick:e=>e.stopPropagation(),size:e.size,fillMode:e.fillMode,rounded:e.rounded,prefix:()=>o.createElement(o.Fragment,null,o.createElement(Wu,null,o.createElement(vo,{name:"search",icon:yd,className:on(Ou.inputIcon({c:c}))})),i&&o.createElement(Yu,null))}));return r?o.createElement("div",{className:on(Ou.listFilter({c:c}))}," ",d," "):d}));ep.propTypes={value:Et.oneOfType([Et.string,Et.number,Et.array]),tabIndex:Et.number,onChange:Et.func,onKeyDown:Et.func,size:Et.oneOf([null,"small","medium","large"]),rounded:Et.oneOf([null,"small","medium","large","full"]),fillMode:Et.oneOf([null,"solid","flat","outline"]),renderListFilterWrapper:Et.bool,renderPrefixSeparator:Et.bool},ep.displayName="KendoReactListFilter";const tp=e=>{const{group:t,groupMode:n,render:r}=e,i=uo(),a=i&&i.uDropDownsBase,s=o.createElement("div",{className:on(Ou.groupStickyHeader({c:a}))},"classic"===n?t:o.createElement("div",{className:on(Ou.listHeaderText({c:a}))},t));return void 0!==r?r.call(void 0,s,e):s},np=e=>null!=e,op=(e,t,n)=>{if(!np(e))return!1;let o=String(e);return n&&(o=o.toLowerCase()),0===o.indexOf(t)},rp=(e,t,n)=>{let o=-1;if(t){t=t.toLowerCase();for(let r=0;r<e.length;r++){const i=(ip(e[r],n)||"")+"";if(i&&i.toLowerCase().startsWith(t)){o=r;break}}}return o},ip=(e,t)=>{if(t&&np(e)){const n=t.split(".");let o=e;return n.forEach((e=>{o=o?o[e]:void 0})),o}return e},ap=(e,t,n)=>{t.forEach((t=>{const o=e.findIndex((e=>sp(e,t,n)));-1!==o&&e.splice(o,1)}))},sp=(e,t,n)=>e===t||np(e)===np(t)&&ip(e,n)===ip(t,n),lp=e=>{"INPUT"!==e.target.nodeName&&e.preventDefault()},cp=(e,t,n)=>!!e==!!t&&e.text===t.text&&(e===t||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(e===t)return!0;if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!sp(e[o],t[o],n))return!1;return!0}(e.data,t.data,n)),dp=e=>{const{data:t=[],groupField:n}=e;return n?t.filter((e=>n&&void 0!==e[n])):t},up=e=>e.preventDefault(),pp=e=>{const{selected:t,defaultItem:n,textField:r}=e,i=uo(),a=i&&i.uDropDownsBase;return o.createElement("div",{onClick:e.onClick,onMouseDown:up,style:{position:"unset"},className:on(Ou.optionLabel({c:a,selected:t}))},ip(n,r)||"")},hp=e=>{const{selected:t,group:n,dataItem:r,virtual:i,groupMode:a,disabled:s,id:l,focused:c,render:d}=e,u=uo(),p=u&&u.uDropDownsBase,h=o.createElement("li",{id:l,role:"option","aria-selected":t,"aria-disabled":!!s||void 0,className:on(Ou.li({c:p,selected:t,focused:c,first:!!n&&"classic"===a,disabled:s})),onClick:t=>e.onClick(e.index,t),style:{position:i?"relative":"unset"}},o.createElement("span",{className:on(Ou.itemText({c:p}))},ip(r,e.textField).toString()),void 0!==n&&"classic"===a?o.createElement("div",{className:on(Ou.itemGroupLabel({c:p}))},n):null);return void 0!==d?d.call(void 0,h,e):h},fp=e=>{const{group:t,virtual:n,render:r,isMultiColumn:i=!1,id:a}=e,s=uo(),l=s&&s.uDropDownsBase,c=o.createElement("li",{id:a,role:"group",className:on(Ou.groupLi({c:l,isMultiColumn:i})),style:i?{boxSizing:"inherit",position:n?"relative":"unset"}:{position:n?"relative":"unset"}},o.createElement("span",{className:r?void 0:on(Ou.groupItemText({c:l,isMultiColumn:i}))},t));return void 0!==r?r.call(void 0,c,e):c},mp="dropdowns.nodata",gp="dropdowns.clear",vp="dropdowns.comboArrowBtnAriaLabelExpand",yp="dropdowns.comboArrowBtnAriaLabelCollapse",xp="dropdowns.dropDownListArrowBtnAriaLabel",bp="dropdowns.apply",wp="dropdowns.cancel",kp={[gp]:"clear",[mp]:"NO DATA FOUND.",[vp]:"expand combobox",[yp]:"collapse combobox",[xp]:"select",[bp]:"Apply",[wp]:"Cancel"},Cp=e=>{const t=Fc(),n=uo(),r=n&&n.uDropDownsBase,{id:i,show:a,wrapperCssClass:s,wrapperStyle:l,listStyle:c,listRef:d,wrapperRef:u,listClassName:p,ariaSetSize:h}=e,f=(()=>{const{textField:t,valueField:n,groupField:r,groupMode:i,isMultiColumn:a,optionsGuid:s,skip:l=0,virtual:c,focusedIndex:d,hasDuplicates:u,highlightSelected:p=!0,value:h,data:f,itemRender:m,groupHeaderItemRender:g}=e,v=Array.isArray(h);let y=0;return f.map(((x,b)=>{const w=l+b,k=l+b+y,C=u?!!h&&d===b:!x.disabled&&(p&&(!v&&sp(x,h,n)||v&&-1!==h.findIndex((e=>sp(e,x,n)))));let S,I,E;b>0&&void 0!==r&&(I=ip(x,r),E=ip(f[b-1],r),I&&E&&I!==E&&(S=I));const _=void 0!==S&&"modern"===i;return _?y+=1:y=0,[_&&o.createElement(fp,{id:"option-".concat(s,"-").concat(k),virtual:c,key:w+"-group-item",group:S,isMultiColumn:a,render:g}),o.createElement(hp,{id:"option-".concat(s,"-").concat(_?k+1:k),virtual:c,dataItem:x,groupMode:i,selected:C,focused:d===b,index:w,key:w,onClick:e.onClick,textField:t,group:S,render:m,disabled:x.disabled})]}))})();return f.length?o.createElement("div",{className:s,style:l,ref:u,onMouseDown:e.onMouseDown,onBlur:e.onBlur,onScroll:e.onScroll,unselectable:"on"},o.createElement("ul",{id:i,role:"listbox","aria-hidden":!a||void 0,"aria-setsize":h,className:p||on(Ou.ul({c:r})),ref:d,style:c},f),e.scroller&&o.createElement("div",{className:on(Ou.heightContainer({c:r}))},e.scroller)):(()=>{const n=e.noDataRender,i=o.createElement("div",{className:on(Ou.noData({c:r}))},o.createElement("div",null,t.toLanguageString(mp,kp[mp])));return n?n.call(void 0,i):i})()};function Sp(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function Ip(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Sp(e[n],t[n]))return!1;return!0}function Ep(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ip,n=null;function o(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;const a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return o.clear=function(){n=null},o}class _p{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;this.total=e,this.offsets=[],this.heights=[];let r=0;for(let i=0;i<e;i++){this.offsets.push(r);const e=o&&o[i].expanded&&"data"===o[i].rowType?n:t;r+=e,this.heights.push(e)}}height(e){return this.heights[e]}index(e){for(let t=0;t<this.offsets.length;t++){if(e===this.offsets[t])return t;if(e<this.offsets[t])return t-1}return this.total-1}offset(e){return this.offsets[e]}totalHeight(){return this.offsets[this.offsets.length-1]+this.heights[this.heights.length-1]}}const jp="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent);class Ap{constructor(){this.table=null,this.total=0,this.enabled=!1,this.skip=0,this.pageSize=0,this.PageChange=null,this.scrollElement=null,this.listTransform="",this.itemHeight=0,this.containerHeight=0,this.reactVersion=Number.parseFloat(o.version),this.scrollSyncing=!1,this.lastLoaded=0,this.firstLoaded=0,this.lastScrollTop=0,this.listTranslate=0,this.list=null,this.container=null,this.calcScrollElementHeight=()=>{var e;this.scrollSyncing=!0;let t=!1;this.itemHeight=this.list?this.list.children[0].offsetHeight:this.itemHeight;const n=this.itemHeight*this.total-((null==(e=this.list)?void 0:e.offsetHeight)||0);this.containerHeight=jp?Math.min(17895697,n):n;const o=this.containerHeight;return this.scrollElement&&(t=this.scrollElement.style.height!==o+"px",t&&(this.scrollElement.style.height=o+"px")),this.scrollSyncing=!1,t},this.scrollerRef=e=>{this.container=e,e&&(e.setAttribute("unselectable","on"),window.setTimeout(this.calcScrollElementHeight.bind(this),0))},this.getRowHeightService=Ep(((e,t)=>new _p(t,e,0))),this.firstLoaded=this.pageSize,this.lastLoaded=this.skip+this.pageSize,this.scrollHandler=this.scrollHandler.bind(this)}get translate(){return this.listTranslate}translateTo(e,t){this.listTranslate=e,this.enabled&&this.list&&(jp||this.reactVersion<=17||t?this.list.style.transform="translateY("+e+"px)":this.listTransform="translateY("+e+"px)")}changePage(e,t){const n=Math.min(Math.max(0,e),this.total-this.pageSize);n!==this.skip&&this.PageChange&&this.PageChange({skip:n,take:this.pageSize},t)}reset(){this.container&&(this.calcScrollElementHeight(),this.container.scrollTop=0,this.translateTo(0,!0))}scrollToEnd(){if(this.container&&this.list){this.calcScrollElementHeight();const{scrollHeight:e,offsetHeight:t}=this.container;this.container.scrollTop=e,this.translateTo(e-t,!0)}}scrollHandler(e){if(!this.enabled||!this.container||!this.list)return;if(this.scrollSyncing)return void(this.scrollSyncing=!1);this.rowHeightService=this.getRowHeightService(this.itemHeight,this.total);const t=this.container.scrollTop,n=this.lastScrollTop>=t,o=!n,r=Math.abs(t-this.lastScrollTop);this.lastScrollTop=t;let i=this.rowHeightService.index(t),a=this.rowHeightService.offset(i);const{offsetHeight:s}=this.container,l=this.rowHeightService.index(t+s);if(o&&l>=this.lastLoaded&&this.lastLoaded<this.total){const t=i+this.pageSize-this.total;t>0&&(i-=t,a=this.rowHeightService.offset(i)),this.firstLoaded=i,this.translateTo(a);const n=this.firstLoaded+this.pageSize;this.lastLoaded=Math.min(n,this.total),this.changePage(this.firstLoaded,e)}else if(n&&i-1<=this.firstLoaded){const t=r===this.itemHeight;if(0===this.skip&&t)this.lastScrollTop=0,this.firstLoaded=0,this.lastLoaded=this.pageSize,this.container.scrollTop=0,this.translateTo(0,!0);else{const t=Math.floor(.3*this.pageSize);this.firstLoaded=Math.max(i-t,0),this.translateTo(this.rowHeightService.offset(this.firstLoaded)),this.lastLoaded=Math.min(this.firstLoaded+this.pageSize,this.total),this.changePage(this.firstLoaded,e)}}}}class Dp{navigate(e){const t=e.keyCode;return t===Ft||t===Rt?this.next({current:e.current,min:e.min,max:e.max,step:e.skipItems?e.skipItems:-1}):t===zt||t===Lt?this.next({current:e.current,min:e.min,max:e.max,step:e.skipItems?e.skipItems:1}):t===Ot?0:t===Mt?e.max:void 0}next(e){return np(e.current)?Math.min(e.max,Math.max(e.current+e.step,e.min)):e.min}}const Np=class e{constructor(e){this.wrapper=null,this.list=null,this.vs=new Ap,this.navigation=new Dp,this.handleItemClick=(e,t)=>{const n=this.initState();n.syntheticEvent=t,t.stopPropagation(),this.component.handleItemSelect(e,n),this.togglePopup(n),this.applyState(n)},this.handleFocus=e=>{if(!this.component.state.focused){const t=this.initState();t.data.focused=!0,t.events.push({type:"onFocus"}),t.syntheticEvent=e,this.applyState(t)}},this.filterChanged=(e,t)=>{const{textField:n,filterable:o}=this.component.props;o&&t.events.push({type:"onFilterChange",filter:{field:n,operator:"contains",ignoreCase:!0,value:e}})},this.togglePopup=e=>{const t=this.component.props,n=void 0!==t.opened?t.opened:this.component.state.opened;void 0===t.opened&&(e.data.opened=!n),n?e.events.push({type:"onClose"}):(e.events.push({type:"onOpen"}),this.calculatePopupWidth())},this.pageChange=(e,t)=>{const n=this.initState();n.syntheticEvent=t,this.triggerOnPageChange(n,e.skip,e.take),this.applyState(n)},this.scrollToVirtualItem=(e,t)=>{const n=this.vs;if(0===e.skip)n.reset();else{let o=n.translate;0===o&&(n.calcScrollElementHeight(),o=n.itemHeight*e.skip,n.translateTo(o,!0)),t<0&&o>0&&(o+=n.itemHeight*(e.pageSize/4)),n.container&&(n.container.scrollTop=o),this.scrollToItem(t,!0)}},this.scrollPopupByPageSize=e=>{var t,n,o,r,i,a;const s=this.vs,l=null==(n=null==(t=this.list)?void 0:t.parentElement)?void 0:n.scrollTop,c=s.enabled&&s.itemHeight?s.itemHeight:this.list?this.list.children[0].offsetHeight:0,d=null==(r=null==(o=this.list)?void 0:o.parentElement)?void 0:r.offsetHeight;void 0!==l&&void 0!==d&&(null==(a=null==(i=this.list)?void 0:i.parentElement)||a.scroll({top:l+e*Math.floor(d/c)*c}))},this.renderScrollElement=()=>{const e=this.vs;return e.enabled&&o.createElement("div",{ref:t=>{e.scrollElement=t},key:"scrollElementKey"})},this.resetGroupStickyHeader=(e,t)=>{e!==t.state.group&&t.setState({group:e})},this.listBoxId=e.props.id+"list",this.guid=e.props.id,this.component=e,this.vs.PageChange=this.pageChange}didUpdate(){this.vs.listTransform&&this.vs.list&&(this.vs.list.style.transform=this.vs.listTransform,this.vs.listTransform="")}didMount(){const e=this.component.props,t=e.popupSettings||{},n=e.style||{},o=t.width;let r=!0===e.opened;void 0===o&&this.calculatePopupWidth(),void 0===e.dir&&void 0===n.direction&&(this.calculateDir(),r=!0),r&&this.component.forceUpdate()}calculateDir(){const e=this.component.element;e&&e.ownerDocument&&e.ownerDocument.defaultView&&(this.dirCalculated=e.ownerDocument.defaultView.getComputedStyle(e).direction||void 0)}calculatePopupWidth(){this.wrapper&&(this.popupWidth=this.wrapper.offsetWidth+"px")}scrollToItem(e,t,n){const o=this.list||this.vs.list;if(!o&&!n&&setTimeout((()=>{this.scrollToItem(e,t,!0)}),10),0===e&&t&&0===this.vs.skip)this.vs.reset();else if(o&&e>=0){const n=this.vs,r=n.container||o.parentNode,i=void 0!==t?t:n.enabled;((e,t,n,o,r)=>{const i=e.offsetHeight,a=t.children.item(n),s=a.offsetTop+(r?o-e.scrollTop:0),l=a.offsetHeight;if(r){let t=0;s+l>i?t=s+l-i:s<0&&(t=s),0!==t?e.scrollTop+=t:0===e.scrollTop&&0!==o&&(e.scrollTop=o)}else s+l>i+e.scrollTop?e.scrollTop=s+l-i:s<e.scrollTop&&(e.scrollTop-=e.scrollTop-s)})(r,o,e,n.translate,i)}}updateComponentArgs(e){for(let t in e)Object.hasOwnProperty.call(e,t)&&(this.component[t]=e[t])}initState(){return{data:{},events:[],syntheticEvent:void 0}}applyState(e){Object.keys(e.data).length>0&&this.component.setState(e.data);const t={syntheticEvent:e.syntheticEvent,nativeEvent:e.syntheticEvent?e.syntheticEvent.nativeEvent:void 0,target:this.component,value:this.component.value};e.events.forEach((e=>{const n=e.type;delete e.type;const o=n&&this.component.props[n];o&&o.call(void 0,p(p({},t),e))}))}triggerOnPageChange(e,t,n){const o=this.component.props.virtual;if(o){const r=Math.min(Math.max(0,t),Math.max(0,o.total-n));r!==o.skip&&e.events.push({type:"onPageChange",page:{skip:r,take:n}})}}triggerPageChangeCornerItems(e,t){const n=this.component.props,{data:o=[],dataItemKey:r,virtual:i}=n,a=void 0!==n.opened?n.opened:this.component.state.opened;e&&i&&this.vs.enabled&&(i.skip>0&&sp(e,o[0],r)?this.triggerOnPageChange(t,i.skip-1,i.pageSize):!a&&i.skip+i.pageSize<i.total&&sp(e,o[o.length-1],r)&&this.triggerOnPageChange(t,i.skip+1,i.pageSize))}getPopupSettings(){return Object.assign({},e.defaultProps.popupSettings,this.component.props.popupSettings)}getAdaptiveAnimation(){const e=this.getPopupSettings();return void 0===e.animate||e.animate}getGroupedDataModernMode(e,t){const n=[];return e.forEach(((o,r)=>{e[r-1]&&o[t]!==e[r-1][t]&&n.push({[t]:o[t]}),n.push(e[r])})),n}};Np.basicPropTypes={opened:Et.bool,disabled:Et.bool,dir:Et.string,tabIndex:Et.number,accessKey:Et.string,data:Et.array,textField:Et.string,className:Et.string,label:Et.string,loading:Et.bool,popupSettings:Et.shape({animate:Et.oneOfType([Et.bool,Et.shape({openDuration:Et.number,closeDuration:Et.number})]),popupClass:Et.string,className:Et.string,appendTo:Et.any,width:Et.oneOfType([Et.string,Et.number]),height:Et.oneOfType([Et.string,Et.number])}),onOpen:Et.func,onClose:Et.func,onFocus:Et.func,onBlur:Et.func,onChange:Et.func,itemRender:Et.func,listNoDataRender:Et.func,focusedItemIndex:Et.func,header:Et.node,footer:Et.node},Np.propTypes=p(p({},Np.basicPropTypes),{},{value:Et.any,defaultValue:Et.any,filterable:Et.bool,filter:Et.string,virtual:Et.shape({pageSize:Et.number.isRequired,skip:Et.number.isRequired,total:Et.number.isRequired}),onFilterChange:Et.func,onPageChange:Et.func}),Np.defaultProps={popupSettings:{height:"200px"},required:!1,validityStyles:!0};let Tp=Np;const Pp={name:"@progress/kendo-react-dropdowns",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:1745410715,version:"10.2.0",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},Mp={child:{container:"".concat(un.prefix,"-").concat(En["".concat(En.prefix,"-").concat(kn.container)]),relative:"".concat(un.prefix,"-").concat(En["".concat(En.prefix,"-").concat(kn.container,"-").concat(En.relative)])},childContainer:{container:"".concat(un.prefix,"-").concat(En["".concat(En.child,"-").concat(En.prefix,"-").concat(kn.container)])},appear:{"push-right":"".concat(un.prefix,"-").concat(En.pushRight,"-").concat(En.appear),"push-left":"".concat(un.prefix,"-").concat(En.pushLeft,"-").concat(En.appear),"push-down":"".concat(un.prefix,"-").concat(En.pushDown,"-").concat(En.appear),"push-up":"".concat(un.prefix,"-").concat(En.pushUp,"-").concat(En.appear),"expand-vertical":"".concat(un.prefix,"-").concat(En.expandVertical,"-").concat(En.appear),"expand-horizontal":"".concat(un.prefix,"-").concat(En.expandHorizontal,"-").concat(En.appear),fade:"".concat(un.prefix,"-").concat(En.fade,"-").concat(En.appear),"zoom-in":"".concat(un.prefix,"-").concat(En.zoomIn,"-").concat(En.appear),"zoom-out":"".concat(un.prefix,"-").concat(En.zoomOut,"-").concat(En.appear),"slide-in":"".concat(un.prefix,"-").concat(En.slideIn,"-").concat(En.appear),"slide-down":"".concat(un.prefix,"-").concat(En.slideDown,"-").concat(En.appear),"slide-up":"".concat(un.prefix,"-").concat(En.slideUp,"-").concat(En.appear),"slide-right":"".concat(un.prefix,"-").concat(En.slideRight,"-").concat(En.appear),"slide-left":"".concat(un.prefix,"-").concat(En.slideLeft,"-").concat(En.appear),"reveal-vertical":"".concat(un.prefix,"-").concat(En.revealVertical,"-").concat(En.appear),"reveal-horizontal":"".concat(un.prefix,"-").concat(En.revealHorizontal,"-").concat(En.appear)},appearActive:{"push-right":"".concat(un.prefix,"-").concat(En.pushRight,"-").concat(En.appear,"-").concat(En.active),"push-left":"".concat(un.prefix,"-").concat(En.pushLeft,"-").concat(En.appear,"-").concat(En.active),"push-down":"".concat(un.prefix,"-").concat(En.pushDown,"-").concat(En.appear,"-").concat(En.active),"push-up":"".concat(un.prefix,"-").concat(En.pushUp,"-").concat(En.appear,"-").concat(En.active),"expand-vertical":"".concat(un.prefix,"-").concat(En.expandVertical,"-").concat(En.appear,"-").concat(En.active),"expand-horizontal":"".concat(un.prefix,"-").concat(En.expandHorizontal,"-").concat(En.appear,"-").concat(En.active),fade:"".concat(un.prefix,"-").concat(En.fade,"-").concat(En.appear,"-").concat(En.active),"zoom-in":"".concat(un.prefix,"-").concat(En.zoomIn,"-").concat(En.appear,"-").concat(En.active),"zoom-out":"".concat(un.prefix,"-").concat(En.zoomOut,"-").concat(En.appear,"-").concat(En.active),"slide-in":"".concat(un.prefix,"-").concat(En.slideIn,"-").concat(En.appear,"-").concat(En.active),"slide-down":"".concat(un.prefix,"-").concat(En.slideDown,"-").concat(En.appear,"-").concat(En.active),"slide-up":"".concat(un.prefix,"-").concat(En.slideUp,"-").concat(En.appear,"-").concat(En.active),"slide-right":"".concat(un.prefix,"-").concat(En.slideRight,"-").concat(En.appear,"-").concat(En.active),"slide-left":"".concat(un.prefix,"-").concat(En.slideLeft,"-").concat(En.appear,"-").concat(En.active),"reveal-vertical":"".concat(un.prefix,"-").concat(En.revealVertical,"-").concat(En.appear,"-").concat(En.active),"reveal-horizontal":"".concat(un.prefix,"-").concat(En.revealHorizontal,"-").concat(En.appear,"-").concat(En.active)},enter:{"push-right":"".concat(un.prefix,"-").concat(En.pushRight,"-").concat(En.enter),"push-left":"".concat(un.prefix,"-").concat(En.pushLeft,"-").concat(En.enter),"push-down":"".concat(un.prefix,"-").concat(En.pushDown,"-").concat(En.enter),"push-up":"".concat(un.prefix,"-").concat(En.pushUp,"-").concat(En.enter),"expand-vertical":"".concat(un.prefix,"-").concat(En.expandVertical,"-").concat(En.enter),"expand-horizontal":"".concat(un.prefix,"-").concat(En.expandHorizontal,"-").concat(En.enter),fade:"".concat(un.prefix,"-").concat(En.fade,"-").concat(En.enter),"zoom-in":"".concat(un.prefix,"-").concat(En.zoomIn,"-").concat(En.enter),"zoom-out":"".concat(un.prefix,"-").concat(En.zoomOut,"-").concat(En.enter),"slide-in":"".concat(un.prefix,"-").concat(En.slideIn,"-").concat(En.enter),"slide-down":"".concat(un.prefix,"-").concat(En.slideDown,"-").concat(En.enter),"slide-up":"".concat(un.prefix,"-").concat(En.slideUp,"-").concat(En.enter),"slide-right":"".concat(un.prefix,"-").concat(En.slideRight,"-").concat(En.enter),"slide-left":"".concat(un.prefix,"-").concat(En.slideLeft,"-").concat(En.enter),"reveal-vertical":"".concat(un.prefix,"-").concat(En.revealVertical,"-").concat(En.enter),"reveal-horizontal":"".concat(un.prefix,"-").concat(En.revealHorizontal,"-").concat(En.enter)},enterActive:{"push-right":"".concat(un.prefix,"-").concat(En.pushRight,"-").concat(En.enter,"-").concat(En.active),"push-left":"".concat(un.prefix,"-").concat(En.pushLeft,"-").concat(En.enter,"-").concat(En.active),"push-down":"".concat(un.prefix,"-").concat(En.pushDown,"-").concat(En.enter,"-").concat(En.active),"push-up":"".concat(un.prefix,"-").concat(En.pushUp,"-").concat(En.enter,"-").concat(En.active),"expand-vertical":"".concat(un.prefix,"-").concat(En.expandVertical,"-").concat(En.enter,"-").concat(En.active),"expand-horizontal":"".concat(un.prefix,"-").concat(En.expandHorizontal,"-").concat(En.enter,"-").concat(En.active),fade:"".concat(un.prefix,"-").concat(En.fade,"-").concat(En.enter,"-").concat(En.active),"zoom-in":"".concat(un.prefix,"-").concat(En.zoomIn,"-").concat(En.enter,"-").concat(En.active),"zoom-out":"".concat(un.prefix,"-").concat(En.zoomOut,"-").concat(En.enter,"-").concat(En.active),"slide-in":"".concat(un.prefix,"-").concat(En.slideIn,"-").concat(En.enter,"-").concat(En.active),"slide-down":"".concat(un.prefix,"-").concat(En.slideDown,"-").concat(En.enter,"-").concat(En.active),"slide-up":"".concat(un.prefix,"-").concat(En.slideUp,"-").concat(En.enter,"-").concat(En.active),"slide-right":"".concat(un.prefix,"-").concat(En.slideRight,"-").concat(En.enter,"-").concat(En.active),"slide-left":"".concat(un.prefix,"-").concat(En.slideLeft,"-").concat(En.enter,"-").concat(En.active),"reveal-vertical":"".concat(un.prefix,"-").concat(En.revealVertical,"-").concat(En.enter,"-").concat(En.active),"reveal-horizontal":"".concat(un.prefix,"-").concat(En.revealHorizontal,"-").concat(En.enter,"-").concat(En.active)},exit:{"push-right":"".concat(un.prefix,"-").concat(En.pushRight,"-").concat(En.exit),"push-left":"".concat(un.prefix,"-").concat(En.pushLeft,"-").concat(En.exit),"push-down":"".concat(un.prefix,"-").concat(En.pushDown,"-").concat(En.exit),"push-up":"".concat(un.prefix,"-").concat(En.pushUp,"-").concat(En.exit),"expand-vertical":"".concat(un.prefix,"-").concat(En.expandVertical,"-").concat(En.exit),"expand-horizontal":"".concat(un.prefix,"-").concat(En.expandHorizontal,"-").concat(En.exit),fade:"".concat(un.prefix,"-").concat(En.fade,"-").concat(En.exit),"zoom-in":"".concat(un.prefix,"-").concat(En.zoomIn,"-").concat(En.exit),"zoom-out":"".concat(un.prefix,"-").concat(En.zoomOut,"-").concat(En.exit),"slide-in":"".concat(un.prefix,"-").concat(En.slideIn,"-").concat(En.exit),"slide-down":"".concat(un.prefix,"-").concat(En.slideDown,"-").concat(En.exit),"slide-up":"".concat(un.prefix,"-").concat(En.slideUp,"-").concat(En.exit),"slide-right":"".concat(un.prefix,"-").concat(En.slideRight,"-").concat(En.exit),"slide-left":"".concat(un.prefix,"-").concat(En.slideLeft,"-").concat(En.exit),"reveal-vertical":"".concat(un.prefix,"-").concat(En.revealVertical,"-").concat(En.exit),"reveal-horizontal":"".concat(un.prefix,"-").concat(En.revealHorizontal,"-").concat(En.exit)},exitActive:{"push-right":"".concat(un.prefix,"-").concat(En.pushRight,"-").concat(En.exit,"-").concat(En.active),"push-left":"".concat(un.prefix,"-").concat(En.pushLeft,"-").concat(En.exit,"-").concat(En.active),"push-down":"".concat(un.prefix,"-").concat(En.pushDown,"-").concat(En.exit,"-").concat(En.active),"push-up":"".concat(un.prefix,"-").concat(En.pushUp,"-").concat(En.exit,"-").concat(En.active),"expand-vertical":"".concat(un.prefix,"-").concat(En.expandVertical,"-").concat(En.exit,"-").concat(En.active),"expand-horizontal":"".concat(un.prefix,"-").concat(En.expandHorizontal,"-").concat(En.exit,"-").concat(En.active),fade:"".concat(un.prefix,"-").concat(En.fade,"-").concat(En.exit,"-").concat(En.active),"zoom-in":"".concat(un.prefix,"-").concat(En.zoomIn,"-").concat(En.exit,"-").concat(En.active),"zoom-out":"".concat(un.prefix,"-").concat(En.zoomOut,"-").concat(En.exit,"-").concat(En.active),"slide-in":"".concat(un.prefix,"-").concat(En.slideIn,"-").concat(En.exit,"-").concat(En.active),"slide-down":"".concat(un.prefix,"-").concat(En.slideDown,"-").concat(En.exit,"-").concat(En.active),"slide-up":"".concat(un.prefix,"-").concat(En.slideUp,"-").concat(En.exit,"-").concat(En.active),"slide-right":"".concat(un.prefix,"-").concat(En.slideRight,"-").concat(En.exit,"-").concat(En.active),"slide-left":"".concat(un.prefix,"-").concat(En.slideLeft,"-").concat(En.exit,"-").concat(En.active),"reveal-vertical":"".concat(un.prefix,"-").concat(En.revealVertical,"-").concat(En.exit,"-").concat(En.active),"reveal-horizontal":"".concat(un.prefix,"-").concat(En.revealHorizontal,"-").concat(En.exit,"-").concat(En.active)}},Op=e=>{const{c:t=Mp}=e;return{[t.child.container]:!0,[t.child.relative]:!0}},Rp=e=>{const{c:t=Mp}=e;return{[t.childContainer.container]:!0}},Fp=e=>{const{c:t=Mp,transitionName:n}=e;return{["".concat(t.appear[n])]:t.appear[n],["".concat(n,"-").concat(En.appear)]:!t.appear[n]}},Lp=e=>{const{c:t=Mp,transitionName:n}=e;return{["".concat(t.appearActive[n])]:t.appearActive[n],["".concat(n,"-").concat(En.appear,"-").concat(En.active)]:!t.appearActive[n]}},zp=e=>{const{c:t=Mp,transitionName:n}=e;return{["".concat(t.enter[n])]:t.enter[n],["".concat(n,"-").concat(En.enter)]:!t.enter[n]}},Bp=e=>{const{c:t=Mp,transitionName:n}=e;return{["".concat(t.enterActive[n])]:t.enterActive[n],["".concat(n,"-").concat(En.enter,"-").concat(En.active)]:!t.enterActive[n]}},Vp=e=>{const{c:t=Mp,transitionName:n}=e;return{["".concat(t.exit[n])]:t.exit[n],["".concat(n,"-").concat(En.exit)]:!t.exit[n]}},Hp=e=>{const{c:t=Mp,transitionName:n}=e;return{["".concat(t.exitActive[n])]:t.exitActive[n],["".concat(n,"-").concat(En.exit,"-").concat(En.active)]:!t.exitActive[n]}},qp=function(){};function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Up.apply(null,arguments)}function Gp(e,t){return Gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gp(e,t)}function Wp(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Gp(e,t)}function Kp(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Yp=!1,Xp=o.createContext(null);var Qp=function(e){return e.scrollTop},Jp="unmounted",Zp="exited",$p="entering",eh="entered",th="exiting",nh=function(e){function t(t,n){var o;o=e.call(this,t,n)||this;var r,i=n&&!n.isMounting?t.enter:t.appear;return o.appearStatus=null,t.in?i?(r=Zp,o.appearStatus=$p):r=eh:r=t.unmountOnExit||t.mountOnEnter?Jp:Zp,o.state={status:r},o.nextCallback=null,o}Wp(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Jp?{status:Zp}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==$p&&n!==eh&&(t=$p):n!==$p&&n!==eh||(t=th)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,o=this.props.timeout;return e=t=n=o,null!=o&&"number"!==typeof o&&(e=o.exit,t=o.enter,n=void 0!==o.appear?o.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===$p){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Io.findDOMNode(this);n&&Qp(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zp&&this.setState({status:Jp})},n.performEnter=function(e){var t=this,n=this.props.enter,o=this.context?this.context.isMounting:e,r=this.props.nodeRef?[o]:[Io.findDOMNode(this),o],i=r[0],a=r[1],s=this.getTimeouts(),l=o?s.appear:s.enter;!e&&!n||Yp?this.safeSetState({status:eh},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,a),this.safeSetState({status:$p},(function(){t.props.onEntering(i,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:eh},(function(){t.props.onEntered(i,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),o=this.props.nodeRef?void 0:Io.findDOMNode(this);t&&!Yp?(this.props.onExit(o),this.safeSetState({status:th},(function(){e.props.onExiting(o),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Zp},(function(){e.props.onExited(o)}))}))}))):this.safeSetState({status:Zp},(function(){e.props.onExited(o)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,t.nextCallback=null,e(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Io.findDOMNode(this),o=null==e&&!this.props.addEndListener;if(n&&!o){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=r[0],a=r[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Jp)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,a(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(Xp.Provider,{value:null},"function"===typeof n?n(e,r):o.cloneElement(o.Children.only(n),r))},t}(o.Component);function oh(){}nh.contextType=Xp,nh.propTypes={},nh.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:oh,onEntering:oh,onEntered:oh,onExit:oh,onExiting:oh,onExited:oh},nh.UNMOUNTED=Jp,nh.EXITED=Zp,nh.ENTERING=$p,nh.ENTERED=eh,nh.EXITING=th;const rh=nh;var ih=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return o=t,void((n=e).classList?n.classList.remove(o):"string"===typeof n.className?n.className=Kp(n.className,o):n.setAttribute("class",Kp(n.className&&n.className.baseVal||"",o)));var n,o}))},ah=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var o=t.resolveArguments(e,n),r=o[0],i=o[1];t.removeClasses(r,"exit"),t.addClass(r,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var o=t.resolveArguments(e,n),r=o[0],i=o[1]?"appear":"enter";t.addClass(r,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var o=t.resolveArguments(e,n),r=o[0],i=o[1]?"appear":"enter";t.removeClasses(r,i),t.addClass(r,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,o="string"===typeof n,r=o?""+(o&&n?n+"-":"")+e:n[e];return{baseClassName:r,activeClassName:o?r+"-active":n[e+"Active"],doneClassName:o?r+"-done":n[e+"Done"]}},t}Wp(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var o=this.getClassNames(t)[n+"ClassName"],r=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&r&&(o+=" "+r),"active"===n&&e&&Qp(e),o&&(this.appliedClasses[t][n]=o,function(e,t){e&&t&&t.split(" ").forEach((function(t){return o=t,void((n=e).classList?n.classList.add(o):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,o)||("string"===typeof n.className?n.className=n.className+" "+o:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+o)));var n,o}))}(e,o))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],o=n.base,r=n.active,i=n.done;this.appliedClasses[t]={},o&&ih(e,o),r&&ih(e,r),i&&ih(e,i)},n.render=function(){var e=this.props,t=(e.classNames,a(e,["classNames"]));return o.createElement(rh,Up({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.Component);ah.defaultProps={classNames:""},ah.propTypes={};const sh=ah,lh=["mountOnEnter","unmountOnExit","onEnter","onEntering","onEntered","onExit","onExiting","onExited","onAfterExited","animationEnteringStyle","animationEnteredStyle","animationExitingStyle","animationExitedStyle","children","style","appear","enter","exit","transitionName","transitionEnterDuration","transitionExitDuration","className","unstyled"],ch=o.forwardRef(((e,t)=>{const n=o.useRef(null),{mountOnEnter:r=dh.mountOnEnter,unmountOnExit:i=dh.unmountOnExit,onEnter:a=dh.onEnter,onEntering:l=dh.onEntering,onEntered:c=dh.onEntered,onExit:d=dh.onExit,onExiting:u=dh.onExiting,onExited:h=dh.onExited,onAfterExited:f=dh.onAfterExited,animationEnteringStyle:m=dh.animationEnteringStyle,animationEnteredStyle:g=dh.animationEnteredStyle,animationExitingStyle:v=dh.animationExitingStyle,animationExitedStyle:y=dh.animationExitedStyle,children:x,style:b,appear:w,enter:k,exit:C,transitionName:S,transitionEnterDuration:I,transitionExitDuration:E,className:_,unstyled:j}=e,A=s(e,lh),D=p({transitionDelay:"0ms"},b),N=j&&j.uAnimation,T=on(_,Rp({c:N})),P=o.useRef({element:n.current,props:e}),M=o.useRef(null);o.useImperativeHandle(M,(()=>({element:n.current,props:e}))),o.useImperativeHandle(t,(()=>M.current),[]);const O={entering:p({transitionDuration:"".concat(I,"ms")},m),entered:p({},g),exiting:p({transitionDuration:"".concat(E,"ms")},v),exited:p({},y)},R={in:e.in,appear:w,enter:k,exit:C,mountOnEnter:r,unmountOnExit:i,timeout:{enter:I,exit:E},onEnter:()=>{a&&a.call(void 0,{animatedElement:n.current,target:M.current||P.current})},onEntering:()=>{l&&l.call(void 0,{animatedElement:n.current,target:M.current||P.current})},onEntered:()=>{c&&c.call(void 0,{animatedElement:n.current,target:M.current||P.current})},onExit:()=>{d&&d.call(void 0,{animatedElement:n.current,target:M.current||P.current})},onExiting:()=>{u&&u.call(void 0,{animatedElement:n.current,target:M.current||P.current})},onExited:()=>{f&&f.call(void 0,{animatedElement:n.current,target:M.current||P.current}),h&&h.call(void 0,{animatedElement:n.current,target:M.current||P.current})},classNames:{appear:on(Fp({c:N,transitionName:S})),appearActive:on(Lp({c:N,transitionName:S})),enter:on(zp({c:N,transitionName:S})),enterActive:on(Bp({c:N,transitionName:S})),exit:on(Vp({c:N,transitionName:S})),exitActive:on(Hp({c:N,transitionName:S}))}};return o.createElement(sh,p(p(p({},R),A),{},{nodeRef:n}),(e=>o.createElement("div",{style:p(p({},D),O[e]),className:T,ref:e=>{n.current=e,P.current.element=e}},x)))})),dh={mountOnEnter:!0,unmountOnExit:!1,onEnter:qp,onEntering:qp,onEntered:qp,onExit:qp,onExiting:qp,onExited:qp,onAfterExited:qp,animationEnteringStyle:{},animationEnteredStyle:{},animationExitingStyle:{},animationExitedStyle:{}};function uh(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,o.isValidElement)(e)?t(e):e}(e)})),n}function ph(e,t,n){return null!=n[t]?n[t]:e.props[t]}function hh(e,t,n){var r=uh(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var o,r=Object.create(null),i=[];for(var a in e)a in t?i.length&&(r[a]=i,i=[]):i.push(a);var s={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];s[r[l][o]]=n(c)}s[l]=n(l)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}(t,r);return Object.keys(i).forEach((function(a){var s=i[a];if((0,o.isValidElement)(s)){var l=a in t,c=a in r,d=t[a],u=(0,o.isValidElement)(d)&&!d.props.in;!c||l&&!u?c||!l||u?c&&l&&(0,o.isValidElement)(d)&&(i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:d.props.in,exit:ph(s,"exit",e),enter:ph(s,"enter",e)})):i[a]=(0,o.cloneElement)(s,{in:!1}):i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:ph(s,"exit",e),enter:ph(s,"enter",e)})}})),i}ch.displayName="KendoReactAnimationChild",ch.propTypes={in:Et.bool,children:Et.oneOfType([Et.arrayOf(Et.node),Et.node]),transitionName:Et.string.isRequired,className:Et.string,appear:Et.bool,enter:Et.bool,exit:Et.bool,transitionEnterDuration:Et.number.isRequired,transitionExitDuration:Et.number.isRequired,mountOnEnter:Et.bool,unmountOnExit:Et.bool,animationEnteringStyle:Et.object,animationEnteredStyle:Et.object,animationExitingStyle:Et.object,animationExitedStyle:Et.object};var fh=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},mh=function(e){function t(t,n){var o,r=(o=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o));return o.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},o}Wp(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,uh(n.children,(function(e){return(0,o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:ph(e,"appear",n),enter:ph(e,"enter",n),exit:ph(e,"exit",n)})}))):hh(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=uh(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Up({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=a(e,["component","childFactory"]),i=this.state.contextValue,s=fh(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.createElement(Xp.Provider,{value:i},s):o.createElement(Xp.Provider,{value:i},o.createElement(t,r,s))},t}(o.Component);mh.propTypes={},mh.defaultProps={component:"div",childFactory:function(e){return e}};const gh=mh,vh=["id","style","children","component","className","childFactory","stackChildren","componentChildStyle","componentChildClassName"],yh=e=>{const{id:t,style:n,children:r,component:i="div",className:a,childFactory:l,stackChildren:c,componentChildStyle:d,componentChildClassName:u}=e,h=s(e,vh),f=uo(),m=e.unstyled||f,g=m&&m.uAnimation,v={id:t,style:n,component:i,childFactory:l,className:on(Op({c:g}),a)},y=o.Children.map(r||null,(e=>o.createElement(ch,p(p({},h),{},{unstyled:m,style:d,className:u}),e)));return o.createElement(gh,p({},v),y)};yh.propTypes={children:Et.oneOfType([Et.arrayOf(Et.node),Et.node]),childFactory:Et.any,className:Et.string,component:Et.string,id:Et.string,style:Et.any,transitionName:Et.string.isRequired,appear:Et.bool.isRequired,enter:Et.bool.isRequired,exit:Et.bool.isRequired,transitionEnterDuration:Et.number.isRequired,transitionExitDuration:Et.number.isRequired};class xh{constructor(e){this.rovingTabIndex=!0,this.update=()=>{},this.setFocusClass=e=>{e.target.classList.add(this.focusClass)},this.disableTabindexForRest=e=>{this.elements.forEach((t=>{t!==e&&t.setAttribute("tabindex","-1")}))},this.focusNextIndex=(e,t,n)=>{const o=1===t?this.next(e,n):this.previous(e,n);return this.focusElement(o,e),o},this.tabIndex=e.tabIndex||0,this.root=e.root,this.selectors=e.selectors,this.focusOptions=e.focusOptions||{preventScroll:!0},this.rovingTabIndex=void 0===e.rovingTabIndex||e.rovingTabIndex,this.mouseEvents=e.mouseEvents||{},this.keyboardEvents=e.keyboardEvents||{},this.focusClass=e.focusClass,this.lastFocused=null}get elements(){return this.root.current?Array.from(this.root.current.querySelectorAll(this.selectors.join(","))):[]}get first(){return this.root.current&&this.root.current.querySelector(this.selectors.join(","))||null}get last(){const e=this.elements;return e[e.length-1]||null}get current(){return this.elements.find((e=>e.matches(":focus")))||null}next(e,t){const n=t?this.customElements(t):this.elements;let o=n.indexOf(e)+1;return o=o<0?n.length-1:o,n[o%n.length]}previous(e,t){const n=t?this.customElements(t):this.elements;let o=n.indexOf(e)-1;return o=o<0?n.length-1:o,n[o%n.length]}focusNext(e,t){return this.focusNextIndex(e,1,t)}focusPrevious(e,t){return this.focusNextIndex(e,-1,t)}triggerKeyboardEvent(e,t){const n=this.target(e.target),o=n&&n.closest(this.selectors.join(",")),r=" "===e.key?"Space":e.key,i=e.nativeEvent.type;o&&this.keyboardEvents[i][r]&&this.keyboardEvents[i][r].call(void 0,o,this,e,t)}triggerMouseEvent(e){const t=this.target(e.target),n=t&&t.closest(this.selectors.join(",")),o=e.nativeEvent.type;n&&this.mouseEvents[o].call(void 0,n,this,e)}focusElement(e,t){e&&(t&&(this.rovingTabIndex&&t.setAttribute("tabindex","-1"),this.focusClass&&(this.removeFocusClass(t),t.removeEventListener("focus",this.setFocusClass))),this.rovingTabIndex&&e.setAttribute("tabindex",String(this.tabIndex)),this.focusClass&&(e.classList.add(this.focusClass),e.addEventListener("focus",this.setFocusClass)),e.focus(this.focusOptions),this.lastFocused=e)}initializeRovingTab(e){const t=e?this.elements[e]:this.first;t&&(this.focusClass&&t.addEventListener("focus",this.setFocusClass),t.setAttribute("tabindex",String(this.tabIndex)),this.disableTabindexForRest(t))}removeFocusListener(){this.lastFocused&&this.lastFocused.removeEventListener("focus",this.setFocusClass)}removeFocusClass(e){this.focusClass&&e.classList.remove(this.focusClass)}customElements(e){return this.root.current?Array.from(this.root.current.querySelectorAll(e.join(","))):[]}target(e){var t;const n=e&&e.ownerDocument||null;return e instanceof(n&&(null==(t=null==n?void 0:n.defaultView)?void 0:t.Element)||Element)?e:null}}const bh=e=>{const t=o.useRef(null),n=o.useCallback((t=>{e.onClick&&e.onClick.call(void 0,{syntheticEvent:t,item:e.item,title:e.title})}),[e.item,e.title,e.onClick]);return o.useEffect((()=>{t.current&&e.focused&&t.current.focus()}),[e.focused]),o.createElement("span",{style:e.style,tabIndex:e.tabIndex,className:on("k-actionsheet-item","k-cursor-pointer",e.disabled&&"k-disabled",e.className),ref:t,role:"button","aria-disabled":e.disabled,onClick:n},o.createElement("span",{className:"k-actionsheet-action"},e.icon&&o.createElement("span",{className:"k-icon-wrap"},e.icon),(e.title||e.description)&&o.createElement("span",{className:"k-actionsheet-item-text"},e.title&&o.createElement("span",{className:"k-actionsheet-item-title"},e.title),e.description&&o.createElement("span",{className:"k-actionsheet-item-description"},e.description))))};bh.propTypes={className:Et.string,style:Et.object,description:Et.string,disabled:Et.bool,group:Et.oneOf(["top","bottom"]),icon:Et.element,title:Et.string};const wh="ActionSheetHeader",kh=e=>o.createElement("div",{className:on("k-actionsheet-titlebar",e.className)},e.children);kh.propTypes={className:Et.string},kh.displayName=wh,kh.propTypes={children:Et.any};const Ch="ActionSheetFooter",Sh=e=>{const{actionButtonsAlignment:t="stretched",actionButtonsOrientation:n="horizontal",className:r,children:i}=e;return o.createElement("div",{className:on("k-actionsheet-footer",{"k-actions":t||n,"k-actions-horizontal":"horizontal"===n,"k-actions-vertical":"vertical"===n,"k-actions-start":"start"===t&&"horizontal"===n,"k-actions-center":"center"===t&&"horizontal"===n,"k-actions-end":"end"===t&&"horizontal"===n,"k-actions-stretched":"stretched"===t,"k-actions-justify":"justify"===t&&"horizontal"===n},r)},i)};Sh.propTypes={className:Et.string,children:Et.any,actionButtonsOrientation:Et.oneOf(["horizontal","vertical"]),actionButtonsAlignment:Et.oneOf(["start","center","end","stretched","justify"])},Sh.displayName=Ch;const Ih="ActionSheetContent",Eh=e=>o.createElement("div",{className:on("k-actionsheet-content",e.className)},e.children);Eh.propTypes={className:Et.string},Eh.displayName=Ih,Eh.propTypes={children:Et.any};const _h=o.forwardRef(((e,t)=>{var n,r;const{navigatableElements:i=jh.navigatableElements,navigatable:a=jh.navigatable,position:s=jh.position,animationDuration:l=300,prefixActions:c,suffixActions:d,filter:u}=e,h=(e,t,n)=>{n.preventDefault(),n.shiftKey?t.focusPrevious(e):t.focusNext(e)},f=(t,n,o)=>{if(t.ariaDisabled)return;const r=!(!t.className||!t.className.indexOf)&&-1!==t.className.indexOf("k-actionsheet-item"),i=n.elements.filter((e=>-1!==e.className.indexOf("k-actionsheet-item")));if(r&&e.onItemClick){o.preventDefault();const n=e.items[i.indexOf(t)];e.onItemClick.call(void 0,{syntheticEvent:o,item:n,title:n&&n.title})}if(r&&e.onItemSelect){o.preventDefault();const n=e.items[i.indexOf(t)];e.onItemSelect.call(void 0,{syntheticEvent:o,item:n,title:n&&n.title})}e.animation||g()},m=(t,n,o)=>{e.onOverlayClick&&(o.preventDefault(),e.onOverlayClick.call(void 0,o)),e.onClose&&(o.preventDefault(),e.onClose.call(void 0,o)),e.animation||g()},g=()=>{I({show:!1})},v=t=>{e.onItemClick&&e.onItemClick.call(void 0,t),e.onItemSelect&&e.onItemSelect.call(void 0,t),e.animation||g()},y=o.useRef(null),x=o.useRef(null);o.useImperativeHandle(y,(()=>({props:e}))),o.useImperativeHandle(t,(()=>y.current));const b=o.useRef(void 0),w=o.useRef({bottom:"0",width:"100%"}),k=o.useRef(void 0),[C,S]=o.useState({show:!1,slide:!1}),I=e=>{S((t=>p(p({},t),e)))};o.useEffect((()=>{e.expand&&!C.show&&I({show:!0})}),[]),o.useEffect((()=>{const t=x.current;if(e.expand&&!C.show&&I({show:!0}),e.expand&&C.show&&!C.slide&&I({slide:!0}),!e.expand&&C.show&&C.slide&&I({slide:!1}),k!==C&&C.slide&&t&&!e.className&&(t.style.setProperty("--kendo-actionsheet-height","auto"),t.style.setProperty("--kendo-actionsheet-max-height","none")),t&&a){const t=[".k-actionsheet-item",...[".k-actionsheet-footer",".k-actionsheet-content",".k-actionsheet-titlebar"].map((e=>Gt.concat(i).map((t=>"".concat(e," ").concat(t))))).flat()];b.current=new xh({tabIndex:e.tabIndex||0,root:x,rovingTabIndex:!1,selectors:t,keyboardEvents:{keydown:{Tab:h,Enter:f,Escape:m}}}),b.current.focusElement(b.current.first,null)}k.current=p({},C)}));const E="k-actionsheet-title",_=E,j=null==(n=e.items)?void 0:n.filter((e=>!e.group||"top"===e.group)),A=null==(r=e.items)?void 0:r.filter((e=>"bottom"===e.group)),D=j&&j.length>0&&A&&A.length>0,N=(e=>{const t={};return o.Children.forEach(e,(e=>{e&&(t[e.type.displayName]=e)})),t})(e.children),T=C.slide&&o.createElement("div",{className:on("k-actionsheet k-actionsheet-".concat(s),e.className),role:"dialog","aria-modal":"true","aria-hidden":!1,"aria-labelledby":_,ref:x,onKeyDown:e=>{a&&b.current.triggerKeyboardEvent(e)}},N[wh]&&!e.title&&!e.subTitle&&N[wh],(e.title||e.subTitle)&&o.createElement("div",{className:"k-actionsheet-titlebar"},o.createElement("div",{className:"k-actionsheet-titlebar-group k-hbox"},c&&o.createElement("div",{className:"k-actionsheet-actions"},c),o.createElement("div",{className:E,id:_},o.createElement("div",{className:"k-text-center"},e.title),e.subTitle&&o.createElement("div",{className:"k-actionsheet-subtitle k-text-center"},e.subTitle)),d&&o.createElement("div",{className:"k-actionsheet-actions"},d)),u&&o.createElement("div",{className:"k-actionsheet-titlebar-group k-actionsheet-filter"},u)),N[Ih]||o.createElement("div",{className:"k-actionsheet-content"},o.createElement("div",{className:"k-list-ul",role:"group"},j&&j.map(((t,n)=>o.createElement(bh,p(p({},t),{},{id:n,key:n,item:t,tabIndex:e.tabIndex||0,onClick:v})))),D&&o.createElement("hr",{className:"k-hr"}),A&&A.map(((t,n)=>o.createElement(bh,p(p({},t),{},{id:n+((null==j?void 0:j.length)||0),key:n,item:t,tabIndex:e.tabIndex||0,onClick:v})))))),N[Ch]);return o.createElement(o.Fragment,null,e.expand||C.show?o.createElement("div",{className:"k-actionsheet-container"},o.createElement("div",{className:"k-overlay",onClick:t=>{e.onOverlayClick&&e.onOverlayClick.call(void 0,t),e.onClose&&e.onClose.call(void 0,t),e.animation||g()}}),e.animation?o.createElement(yh,{transitionName:C.slide?"slide-up":"slide-down",onExited:g,transitionEnterDuration:"object"==typeof l&&Object.keys(l).length>0&&l.openDuration?Number(l.openDuration):Number(l),transitionExitDuration:"object"==typeof l&&Object.keys(l).length>0&&l.closeDuration?Number(l.closeDuration):Number(l),animationEnteringStyle:e.animationStyles||w.current,animationEnteredStyle:e.animationStyles||w.current,animationExitingStyle:e.animationStyles||w.current,exit:!0,enter:!0,appear:!1},T):T):null)})),jh={navigatable:!0,navigatableElements:[],position:"bottom"};_h.propTypes={items:Et.array,subTitle:Et.string,title:Et.string,navigatable:Et.bool,navigatableElements:Et.array,position:Et.oneOf(["top","bottom","left","right","fullscreen"])},_h.displayName="KendoReactActionSheet";const Ah=o.forwardRef(((e,t)=>{let n=!1;const r=Na(Nh,e),{delay:i=Dh.delay,tabIndex:a=Dh.tabIndex,ignoreCase:s=Dh.ignoreCase,size:l=Dh.size,rounded:c=Dh.rounded,fillMode:d=Dh.fillMode,groupMode:u=Dh.groupMode}=r;if(r.filterable||r.virtual){const e=[];r.filterable&&e.push("filterable"),r.virtual&&e.push("virtualization"),n=!sa(Pp,{component:"DropDownList",features:e})}const h=uo(),f=nn(r.id),m=()=>{var e;if(Ro)return(null==(e=G.current)?void 0:e.ownerDocument)||window.document},g=()=>{var e,t;null!=(e=null==ne?void 0:ne.current)&&e.wrapper&&(null==(t=null==ne?void 0:ne.current)||t.wrapper.focus({preventScroll:!0}))},v=()=>{let e;return void 0!==J.current&&null!==J.current?e=J.current:void 0!==r.value?e=r.value:void 0!==ie.value&&null!==ie.value?e=ie.value:void 0!==r.defaultValue&&null!==r.defaultValue&&(e=r.defaultValue),!np(e)&&void 0!==r.defaultItem&&null!==r.defaultItem&&(e=r.defaultItem),e},y=()=>void 0!==r.required?r.required:Dh.required,x=()=>{const e=void 0!==r.validationMessage,t=v(),n=!y()||null!==t&&""!==t&&void 0!==t;return{customError:e,valid:void 0!==r.valid?r.valid:n,valueMissing:null===t}},b=e=>{Q.current=!0,e.focus(),window.setTimeout((()=>Q.current=!1),30)},w=()=>{K.current&&b(K.current),r.adaptive&&setTimeout((()=>{K.current&&b(K.current)}),300)},k=o.useCallback((e=>{for(const t of e)le(t.target.clientWidth)}),[]),C=()=>{var e;null!=(e=W.current)&&e.setCustomValidity&&W.current.setCustomValidity(x().valid?"":r.validationMessage||"Please select a value from the list!")},S=(e,t)=>{const n=v();sp(n,e,r.dataItemKey)||(void 0===r.value&&(t.data.value=e),ne.current.updateComponentArgs({value:e}),J.current=e,t.events.push({type:"onChange"}))},I=e=>{var t;null==(t=null==ne?void 0:ne.current)||t.applyState(e),J.current=void 0},E=(e,t)=>{var n;const{virtual:o,dataItemKey:i,defaultItem:a}=r,s=dp(r),l=o?o.skip:0,c=v(),d=-1===e&&void 0!==a?a:s[e-l],u=!sp(d,c,i);S(d,t),u&&(null==(n=null==ne?void 0:ne.current)||n.triggerPageChangeCornerItems(d,t))},_=(e,t,n)=>{var o,i;const{defaultItem:a,dataItemKey:s,virtual:l={skip:0,total:0,pageSize:0}}=r,c=v(),d=dp(r),u=null==(o=null==ne?void 0:ne.current)?void 0:o.vs,p=d.findIndex((e=>sp(e,c,s))),h=null==(i=null==ne?void 0:ne.current)?void 0:i.navigation.navigate({current:l.skip+p,max:(null!=u&&u.enabled?l.total:d.length)-1,min:void 0!==a?-1:0,keyCode:t,skipItems:n||void 0});void 0!==h&&E(h,e),I(e)},j=()=>{const{textField:e,dataItemKey:t,virtual:n={skip:0},focusedItemIndex:o=rp,filterable:i,skipDisabledItems:a=!0}=r,s=v(),l=dp(r),c=r.filter?r.filter:ie.text;return a&&e&&!c&&!s?l.findIndex((t=>!t.disabled&&t[e])):np(s)&&void 0===c||i&&""===c?l.findIndex((e=>sp(e,s,t))):c?$.current?o(l,c,e):l.findIndex((e=>sp(e,s,t))):0===n.skip?0:-1},A=(e,t)=>void 0!==t&&-1!==t&&e&&e.length>0&&e[t].disabled,D=()=>{const e=dp(r),t=ne.current.initState(),n=j();A(e,n)&&(S(null,t),I(t))},N=e=>{if(e.isPropagationStopped())return;const t=ne.current.initState();t.syntheticEvent=e,ie.focused||(t.data.focused=!0),D(),ne.current.togglePopup(t),I(t)},T=e=>{var t,n,o,i,a,s,l;e&&e.target instanceof Element&&"INPUT"===e.target.nodeName&&e.stopPropagation&&e.stopPropagation();const{filterable:c,disabled:d,defaultItem:u,leftRightKeysNavigation:p=!0,virtual:h={skip:0,total:0,pageSize:0},dataItemKey:f,groupField:m="",textField:g,skipDisabledItems:y=!0}=r,x=dp(r),b=v(),w=x.findIndex((e=>sp(e,b,f))),k=void 0!==r.opened?r.opened:ie.opened,C=e.keyCode,N=C===Ot||C===Mt,T=C===Ft||C===zt,P=!k&&(e.altKey&&C===zt||C===At||C===Nt),M=k&&(e.altKey&&C===Ft||C===Dt),O=T||p&&(C===Rt||C===Lt)&&!c||N,R=ne.current.initState();if(R.syntheticEvent=e,!d){if(N&&null!=(t=null==ne?void 0:ne.current)&&t.vs.enabled)C===Ot?0!==h.skip?(null==(n=null==ne?void 0:ne.current)||n.triggerOnPageChange(R,0,h.pageSize),Z.current=!0):S(x[0],R):h.skip<h.total-h.pageSize?(null==(o=null==ne?void 0:ne.current)||o.triggerOnPageChange(R,h.total-h.pageSize,h.pageSize),Z.current=!0):S(x[x.length-1],R);else if(k&&C===Tt)e.preventDefault(),null==(i=null==ne?void 0:ne.current)||i.scrollPopupByPageSize(-1);else if(k&&C===Pt)e.preventDefault(),null==(a=null==ne?void 0:ne.current)||a.scrollPopupByPageSize(1);else if(k&&C===At){const t=j();A(x,t)?(S(null,R),I(R)):E(t,R),null==(s=null==ne?void 0:ne.current)||s.togglePopup(R),e.preventDefault()}else if(P||M)M&&D(),null==(l=null==ne?void 0:ne.current)||l.togglePopup(R),e.preventDefault();else if(O){if($.current=!1,""!==m&&g)if(!y&&k)_(R,C);else{let e;if(C===zt||C===Lt){const t=x.slice(w+1).find((e=>!e.disabled&&e[g]));e=t&&x.findIndex((e=>e[g]===t[g]))}else if(C===Ft||C===Rt){let t;if(0===w&&u)e=-1;else if(-1===w)t=x,e=x.findIndex((e=>!e.disabled&&e[g]));else{t=x.slice(0,w);let n=t.pop();for(;n&&n.disabled;)n=t.pop();e=n&&x.findIndex((e=>e[g]===n[g]))}}if(void 0!==e){_(R,C,e-w)}else void 0===e&&x.findIndex((e=>e[g]===b[g]))===x.length-1&&_(R,C)}else if(!y&&k||N)_(R,C);else if(g){let e;if(C===zt||C===Lt){const t=x.slice(w+1).find((e=>!e.disabled&&e[g]));e=t&&x.findIndex((e=>e[g]===t[g]))}else if(C===Ft||C===Rt){let t;if(0===w&&u)e=-1;else if(-1===w)t=x,e=x.find((e=>!e.disabled&&e[g]));else{t=x.slice(0,w);let n=t.pop();for(;n&&n.disabled;)n=t.pop();e=n&&x.findIndex((e=>e[g]===n[g]))}}if(void 0!==e){_(R,C,e-w)}else void 0===e&&x.findIndex((e=>e[g]===b[g]))===x.length-1&&_(R,C)}else _(R,C);e.preventDefault()}I(R)}},P=e=>{const t=ne.current.initState();t.syntheticEvent=e.syntheticEvent,void 0===r.filter&&(t.data.text=e.target.value),ne.current.filterChanged(e.target.value,t),$.current=!0,I(t),ue({group:void 0,text:String(e.target.value)})},M=()=>{const e=void 0!==r.filter?r.filter:ie.text;return r.filterable&&o.createElement(ep,{value:e,ref:e=>{K.current=e&&e.element},onChange:P,onKeyDown:T,size:l,rounded:c,fillMode:d,renderListFilterWrapper:!0})},O=e=>{var t;const n=ne.current.initState();n.syntheticEvent=e,null==(t=null==ne?void 0:ne.current)||t.togglePopup(n),S(r.defaultItem,n),I(n)},R=()=>{const{textField:e,defaultItem:t,dataItemKey:n}=r,i=v();return void 0!==t&&o.createElement(pp,{defaultItem:t,textField:e,selected:sp(i,t,n),key:"defaultitemkey",onClick:O})},F=(e,t)=>{var n;null==(n=null==ne?void 0:ne.current)||n.handleItemClick(e,t),J.current=void 0},L=e=>{const{vs:t,list:n}=ne.current;t.scrollHandler(e);const{groupField:o}=r;let i=dp(r);if(o&&i.length&&o){const r=oe.current=oe.current||(t.enabled?t.itemHeight:n?n.children[0].offsetHeight:0),a=e.target.scrollTop-t.skip*r;i=ne.current.getGroupedDataModernMode(i,o);let s=i[0][o];for(let e=1;e<i.length&&!(r*e>a);e++)i[e]&&i[e][o]&&(s=i[e][o]);s!==ie.group&&ue({group:s})}},z=()=>{var e;const{textField:t,dataItemKey:n,virtual:i={skip:0,total:void 0},groupHeaderItemRender:a,listNoDataRender:s,itemRender:l}=r,c=dp(r),d=h&&h.uDropDownList,u=ne.current.vs,p=i.skip,f=void 0!==r.opened?r.opened:ie.opened,m=ne.current.getPopupSettings(),g="translateY(".concat(u.translate,"px)"),y=v();return o.createElement(Cp,{id:he,show:f,data:c.slice(),focusedIndex:j(),value:y,textField:t,valueField:n,optionsGuid:fe,groupField:r.groupField,groupMode:"modern",listRef:e=>{u.list=ne.current.list=e},wrapperStyle:{maxHeight:m.height},wrapperCssClass:on(zu.listContent({c:d})),listStyle:u.enabled?{transform:g}:void 0,key:"listkey",skip:p,onClick:F,itemRender:l,groupHeaderItemRender:a,noDataRender:s,onScroll:L,wrapperRef:u.scrollerRef,scroller:null==(e=null==ne?void 0:ne.current)?void 0:e.renderScrollElement(),ariaSetSize:i.total})},B=()=>{ie.focused&&window.setTimeout((()=>{ie.focused&&ne.current.wrapper&&b(ne.current.wrapper)}))},V=e=>{"onMouseDownOutside"in(r.popupSettings||{})&&r.popupSettings.onMouseDownOutside.call(void 0,e)},H=e=>{clearTimeout(Y.current),r.filterable||(Y.current=window.setTimeout((()=>X.current.word=""),i),(e=>{const{dataItemKey:t}=r,n=dp(r),o=v();let i=n.map(((e,t)=>({item:e,itemIndex:t})));const a=X.current.word,l=X.current.last,c=((e,t)=>{for(let n=0;n<e.length;n++)if(e.charAt(n)!==t)return!1;return!0})(a,l);let d,u=i.length,p=Math.max(0,n.findIndex((e=>sp(e,o,t))));r.defaultItem&&(d={item:r.defaultItem,itemIndex:-1},u+=1,p+=1),p+=c?1:0,i=((e,t,n)=>{let o=e;return n&&(o=[n].concat(o)),o.slice(t).concat(o.slice(0,t))})(i,p,d);let h,f,m,g=0;const{textField:y}=r;for(;g<u;){if(h=ip(i[g].item,y),f=c&&op(h,l,s),m=op(h,a,s),f||m){g=i[g].itemIndex;break}g++}if(g!==u){const t=ne.current.initState();t.syntheticEvent=e,E(g,t),I(t),J.current=void 0}})(e))},q=()=>{const e=ne.current.initState();e.data.opened=ie.opened,ne.current.togglePopup(e),I(e)},U=o.useRef(null),G=o.useRef(null),W=o.useRef(null),K=o.useRef(null);o.useImperativeHandle(U,(()=>({get element(){return G.current},get index(){return(()=>{const{dataItemKey:e}=r,t=dp(r),n=v();return t.findIndex((t=>sp(t,n,e)))})()},get name(){return r.name},get validity(){return x()},get value(){return v()},get focused(){return ie.focused},get opened(){return ie.opened},focus:g,props:r,togglePopup:q}))),o.useImperativeHandle(t,(()=>U.current));const Y=o.useRef(null),X=o.useRef({word:"",last:""}),Q=o.useRef(!1),J=o.useRef(null),Z=o.useRef(!1),$=o.useRef(!1),ee=o.useRef({}),te=o.useRef({}),ne=o.useRef(new Tp({props:r,setState:()=>{},state:{},forceUpdate:()=>{},element:null,value:null,handleItemSelect:()=>{}})),oe=o.useRef(0),re=o.useRef(null),[ie,ae]=o.useState({}),[se,le]=o.useState(),[,ce]=o.useReducer((e=>e),!0),de=Fc(),ue=e=>{ae(p(p({},ie),e))};o.useEffect((()=>{ne.current.updateComponentArgs({props:r,setState:ue,state:ie,forceUpdate:ce,element:G.current,handleItemSelect:E,value:v()})}),[ue,ie,ce,E,v]),o.useEffect((()=>{var e,t,n,o,i,a,s,l,c,d,u,p,h;const{dataItemKey:f,virtual:m,groupField:g="",textField:y}=r,x=dp(r),b=ee.current.virtual?ee.current.virtual.total:0,k=void 0!==r.opened?r.opened:ie.opened,S=void 0!==ee.current.opened?ee.current.opened:te.current.opened,I=!S&&k;if(null==(e=null==ne?void 0:ne.current)||e.didUpdate(),null!=(t=null==ne?void 0:ne.current)&&t.getPopupSettings().animate||I&&w(),m&&m.total!==b)null==(n=null==ne?void 0:ne.current)||n.vs.calcScrollElementHeight(),null==(o=null==ne?void 0:ne.current)||o.vs.reset();else{const e=v(),t=void 0!==ee.current.value?ee.current.value:te.current.value;let n=x.findIndex((t=>sp(t,e,f)));""!==g&&e&&y&&(n=null==(a=null==(i=null==ne?void 0:ne.current)?void 0:i.getGroupedDataModernMode(x,g))?void 0:a.map((e=>e[y])).indexOf(e[y]));const o=!sp(t,e,f);I&&m?null==(s=null==ne?void 0:ne.current)||s.scrollToVirtualItem(m,n):I&&!m?(w(),x&&0!==x.length&&(null==(l=null==ne?void 0:ne.current)||l.resetGroupStickyHeader(x[0][g],{setState:ue,group:ie.group,state:ie})),null==(c=null==ne?void 0:ne.current)||c.scrollToItem(n)):k&&S&&e&&o&&!Z.current?null==(u=null==ne?void 0:ne.current)||u.scrollToItem(n,null==(d=null==ne?void 0:ne.current)?void 0:d.vs.enabled):k&&S&&Z.current&&(Z.current&&m&&0===m.skip?null==(p=null==ne?void 0:ne.current)||p.vs.reset():Z.current&&m&&m.skip===m.total-m.pageSize&&(null==(h=null==ne?void 0:ne.current)||h.vs.scrollToEnd()))}Z.current=!1,te.current=ie,ee.current=r,C()})),o.useEffect((()=>{var e,t;return re.current=Ro&&window.ResizeObserver&&new window.ResizeObserver(k.bind(void 0)),null==(e=null==ne?void 0:ne.current)||e.didMount(),C(),null!=(t=m())&&t.body&&re.current&&re.current.observe(m().body),()=>{var e;null!=(e=m())&&e.body&&re.current&&re.current.disconnect()}}),[]);const pe=f+"-accessibility-id",he=f+"-listbox-id",fe=f+"-guid",me=de.toLanguageString(xp,kp[xp]),{style:ge,className:ve,label:ye,dir:xe,virtual:be,adaptive:we,dataItemKey:ke,disabled:Ce,loading:Se,iconClassName:Ie,svgIcon:Ee,valueRender:_e}=r,je=void 0!==r.opened?r.opened:ie.opened,Ae=v(),De=ip(Ae,r.textField),Ne=!(void 0!==r.validityStyles?r.validityStyles:Dh.validityStyles)||x().valid,Te=ne.current,Pe=Te.vs,Me=h&&h.uDropDownList;Pe.enabled=void 0!==be;const Oe=qu(),Re=!!(se&&Oe&&se<=Oe.medium&&r.adaptive);void 0!==be&&(Te.vs.skip=be.skip,Te.vs.total=be.total,Te.vs.pageSize=be.pageSize);const Fe=dp(r),{focused:Le}=ie,ze=Fe.findIndex((e=>sp(e,Ae,ke))),Be=o.createElement("span",{id:pe,className:on(zu.inputInner({c:Me}))},De&&o.createElement("span",{className:on(zu.inputText({c:Me}))},De)),Ve=void 0!==_e?_e.call(void 0,Be,Ae):Be,He=o.createElement(o.Fragment,null,o.createElement("span",{ref:e=>{G.current=e,ne.current.wrapper=e},className:on(zu.wrapper({c:Me,size:l,rounded:c,fillMode:d,focused:Le,disabled:Ce,invalid:!Ne,loading:Se,required:y()}),ve),style:ye?p(p({},ge),{},{width:void 0}):ge,dir:xe,onMouseDown:je?e=>{"INPUT"!==e.target.nodeName&&(b(ne.current.wrapper),e.preventDefault())}:void 0,onFocus:e=>{Q.current||ne.current.handleFocus(e)},onBlur:e=>{if(Q.current||!ie.focused)return;const t=void 0!==r.opened?r.opened:ie.opened,n=ne.current.initState();n.syntheticEvent=e,n.data.focused=!1,n.events.push({type:"onBlur"}),t&&D(),t&&!Re&&ne.current.togglePopup(n),I(n)},tabIndex:$c(a,Ce),accessKey:r.accessKey,onKeyDown:T,onKeyPress:e=>{if(r.filterable||0===e.which||e.keyCode===At)return;let t=String.fromCharCode(e.charCode||e.keyCode);s&&(t=t.toLowerCase())," "===t&&e.preventDefault(),X.current={word:X.current.word+t,last:X.current.last+t},H(e)},onClick:Ce?void 0:N,role:"combobox","aria-required":y(),"aria-disabled":Ce||void 0,"aria-haspopup":"listbox","aria-expanded":je||!1,"aria-owns":he,"aria-activedescendant":je?"option-"+fe+"-"+(ze+(be?be.skip:0)):void 0,"aria-label":r.ariaLabel||r.label,"aria-labelledby":r.ariaLabelledBy,"aria-describedby":r.ariaDescribedBy||pe,"aria-controls":he,id:r.id,title:r.title},Ve,Se&&o.createElement(vo,{className:on(zu.loadingIcon({c:Me})),name:"loading"}),o.createElement(xo,{tabIndex:-1,type:"button","aria-label":me,size:l,fillMode:d,className:on(zu.inputButton({c:Me})),rounded:null,themeColor:"base",iconClass:Ie,svgIcon:Ie?void 0:Ee||nd,onMouseDown:e=>ie.focused&&e.preventDefault()}),(e=>o.createElement("select",{name:r.name,ref:e=>{W.current=e},tabIndex:-1,"aria-hidden":!0,title:r.label,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},o.createElement("option",{value:r.valueMap?r.valueMap.call(void 0,e):e})))(Ae),!Re&&(()=>{const{header:e,footer:t,dir:i,groupField:a,groupStickyHeaderItemRender:s,list:c}=r,d=dp(r),u=ne.current,f=u.getPopupSettings(),m=void 0!==r.opened?r.opened:ie.opened,g=void 0!==f.width?f.width:u.popupWidth,v=h&&h.uDropDownList,y={dir:void 0!==i?i:u.dirCalculated,width:g,popupSettings:p(p({},f),{},{popupClass:on(f.popupClass,zu.listContainer({c:v})),anchor:f.anchor||G.current,show:m,onOpen:w,onClose:B,onMouseDownOutside:V}),itemsCount:[d.length]};let{group:x}=ie;return void 0===x&&void 0!==a&&(x=ip(d[0],a)),o.createElement(Uu,p({},y),M(),e&&o.createElement("div",{className:on(zu.listHeader({c:v}))},e),o.createElement("div",{className:on(zu.list({c:v,size:l,virtual:ne.current.vs.enabled}))},R(),!c&&x&&0!==d.length&&o.createElement(tp,{group:x,groupMode:"modern",render:s}),z()),t&&o.createElement("div",{className:on(zu.listFooter({c:v}))},t),n&&o.createElement(ca,null))})()),Re&&(()=>{var e;const{header:t,footer:n,adaptiveTitle:i,groupField:a,groupStickyHeaderItemRender:s,list:c}=r,d=dp(r),u=void 0!==r.opened?r.opened:ie.opened,f=h&&h.uDropDownList,m=h&&h.uDropDownsActionSheet,g={navigatable:!1,navigatableElements:[],expand:u,animation:!0,onClose:e=>N(e),className:on(Fu.wrapper({c:m}),"k-adaptive-actionsheet"),animationStyles:se&&Oe&&se<=Oe.small?{top:0,width:"100%",height:"100%"}:void 0,position:se&&Oe&&se<=Oe.small?"fullscreen":void 0};let{group:v}=ie;return void 0===v&&void 0!==a&&(v=ip(d[0],a)),o.createElement(_h,p({},g),o.createElement(kh,{className:on(Fu.header({c:m}))},o.createElement("div",{className:on(Fu.titleBar({c:m}))},o.createElement("div",{className:on(Fu.title({c:m}))},o.createElement("div",null,i)),o.createElement("div",{className:on(Fu.actions({c:m}))},o.createElement(xo,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",onClick:N,icon:"x",svgIcon:dd}))),o.createElement("div",{className:on(Fu.titleBarGroup({c:m}))},M())),o.createElement(Eh,null,t&&o.createElement("div",{className:on(zu.listHeader({c:f}))},t),o.createElement("div",{className:on(zu.list({c:f,size:l,virtual:null==(e=null==ne?void 0:ne.current)?void 0:e.vs.enabled}))},R(),!c&&v&&0!==d.length&&o.createElement(tp,{group:v,groupMode:"modern",render:s}),z()),n&&o.createElement("div",{className:on(zu.listFooter({c:f}))},n)))})());return ye?o.createElement(Vc,{label:ye,editorValue:De,editorValid:Ne,editorDisabled:r.disabled,style:{width:ge?ge.width:void 0},children:He}):He}));Ah.propTypes={delay:Et.number,ignoreCase:Et.bool,iconClassName:Et.string,svgIcon:to,defaultItem:Et.any,valueRender:Et.func,valueMap:Et.func,validationMessage:Et.string,required:Et.bool,id:Et.string,ariaLabelledBy:Et.string,ariaDescribedBy:Et.string,ariaLabel:Et.string,leftRightKeysNavigation:Et.bool,title:Et.string,groupField:Et.string,list:Et.any,skipDisabledItems:Et.bool};const Dh=p(p({delay:500,tabIndex:0,ignoreCase:!0},Tp.defaultProps),{},{required:!1,size:"medium",rounded:"medium",fillMode:"solid",groupMode:"modern"});Ah.displayName="KendoReactDropDownList";const Nh=Ta();Ah.displayName="KendoReactDropDownList";const Th=o.createContext([null,e=>{}]),Ph=o.createContext([null,e=>{}]),Mh=o.createContext([null,e=>{}]);var Oh=(e=>(e.next="next",e.prev="prev",e.current="current",e.reset="reset",e))(Oh||{});var Rh=(e=>(e.remove="remove",e.add="add",e.reorder="reorder",e))(Rh||{});var Fh=(e=>(e.toggle="toggle",e.remove="remove",e))(Fh||{});const Lh=o.forwardRef(((e,t)=>{const n=o.useRef(null),r=o.useRef(null),{disabled:i=Bh.disabled,fillMode:a=Bh.fillMode,themeColor:s=Bh.themeColor,size:l=Bh.size,rounded:c=Bh.rounded,dir:d=Bh.dir,removeIcon:u=Bh.removeIcon,removeSvgIcon:h=Bh.removeSvgIcon,removable:f=Bh.removable}=e,m=wo(r,d);o.useImperativeHandle(n,(()=>({element:r.current,props:e}))),o.useImperativeHandle(t,(()=>n.current));const[g,v]=o.useContext(Th),[y,x]=o.useContext(Ph),[,b]=o.useContext(Mh),w=o.useMemo((()=>e.selected||(Array.isArray(g)?g.some((t=>t===e.value)):g===e.value)),[e.selected,e.value,g]),k=o.useMemo((()=>y===e.value),[e.value,y]);o.useEffect((()=>{k&&r.current&&r.current.focus()}),[k]);const C=o.useCallback((t=>{v({type:Fh.toggle,payload:e.value,event:t})}),[v,e.value]),S=o.useCallback((t=>{f&&(b({type:Rh.remove,payload:e.value,event:t}),x({type:Oh.reset,payload:e.value,event:t}),v({type:Fh.remove,payload:e.value,event:t}),e.onRemove&&e.onRemove.call(void 0,{target:n.current,syntheticEvent:t}))}),[e.onRemove,e.value,f,b,x,v]),I=o.useCallback((t=>{switch(t.keyCode){case Rt:x({type:Oh.prev,payload:e.value,event:t});break;case Lt:x({type:Oh.next,payload:e.value,event:t});break;case At:v({type:Fh.toggle,payload:e.value,event:t});break;case Bt:S(t)}e.onKeyDown&&e.onKeyDown.call(void 0,{target:n.current,syntheticEvent:t})}),[e.onKeyDown,e.value,x,v,S]),E=o.useCallback((t=>{x({payload:e.value,type:Oh.current,event:t}),e.onFocus&&e.onFocus.call(void 0,{target:n.current,syntheticEvent:t})}),[e.onFocus,e.value,x]),_=o.useCallback((t=>{e.onBlur&&e.onBlur.call(void 0,{target:n.current,syntheticEvent:t})}),[e.onBlur]),j=no(e,n,{onClick:C});return o.createElement("div",p(p({},j),{},{role:e.role||"button",id:e.value,style:e.style,ref:r,dir:m,tabIndex:$c(e.tabIndex,i,void 0),className:on("k-chip",{"k-rtl":"rtl"===m,"k-disabled":i,"k-selected":w,"k-focus":k,["k-chip-".concat(ko.sizeMap[l]||l)]:l,["k-rounded-".concat(ko.roundedMap[c]||c)]:c,["k-chip-".concat(a)]:a,["k-chip-".concat(a,"-").concat(s)]:!(!a||!s)},e.className),"aria-pressed":e.role?void 0:w,"aria-disabled":i,"aria-describedby":e.ariaDescribedBy,"aria-keyshortcuts":f?"Enter Delete":void 0,onFocus:E,onBlur:_,onKeyDown:I}),w&&(e.selectedIcon||e.selectedSvgIcon)&&o.createElement(vo,{className:"k-chip-icon",name:e.selectedIcon?eo(e.selectedIcon):void 0,icon:e.selectedSvgIcon,size:"small"}),(e.icon||e.svgIcon)&&o.createElement(vo,{className:"k-chip-icon",name:e.icon?eo(e.icon):void 0,icon:e.svgIcon,size:"small"}),e.avatar&&o.createElement("div",{className:"k-chip-avatar k-avatar k-rounded-".concat(e.avatar.rounded," k-avatar-md k-avatar-solid k-avatar-solid-primary"),style:e.avatar.style},o.createElement("span",{className:"k-avatar-image"},o.createElement("img",{src:e.avatar.image,alt:e.avatar.imageAlt}))),o.createElement("span",{className:"k-chip-content"},void 0!==e.children?e.children:e.text&&o.createElement("span",{"aria-label":e.ariaLabel||e.text,className:"k-chip-label"},e.text)),f&&o.createElement("span",{className:"k-chip-actions"},o.createElement("span",{className:on("k-chip-action","k-chip-remove-action"),onClick:S},o.createElement(vo,{name:u?eo(u):void 0,icon:h||ud,size:"small"}))))})),zh={id:Et.string,text:Et.string,value:Et.any,dir:Et.oneOf(["ltr","rtl"]),removable:Et.bool,removeIcon:Et.string,removeIconSvg:to,disabled:Et.bool,icon:Et.string,svgIcon:to,selectedIcon:Et.string,selectedIconSvg:to,onRemove:Et.func,dataItem:Et.any,selected:Et.bool,ariaDescribedBy:Et.string,size:Et.oneOf([null,"small","medium","large"]),rounded:Et.oneOf([null,"small","medium","large","full"]),fillMode:Et.oneOf([null,"outline","solid"]),themeColor:Et.oneOf([null,"base","info","success","warning","error"])},Bh={disabled:!1,removable:!1,removeIcon:"k-i-x-circle",removeSvgIcon:ud,dir:"ltr",size:"medium",rounded:"medium",fillMode:"solid",themeColor:"base"};Lh.displayName="KendoReactChip",Lh.propTypes=zh;const Vh=e=>e.syntheticEvent.preventDefault(),Hh=e=>e.syntheticEvent.stopPropagation();class qh extends o.Component{render(){const{data:e,guid:t,focused:n,tagRender:r,tag:i,onTagDelete:a,size:s}=this.props;return o.createElement(o.Fragment,null,e.map(((l,c)=>{const d=i?o.createElement(i,{key:l.text+c,tagData:l,guid:t,focusedTag:n,onTagDelete:a}):o.createElement(Lh,{id:"tag-".concat(t,"-").concat(l.text.replace(/\s+/g,"-")),"aria-selected":!0,role:"option","aria-setsize":e.length,key:l.text+c,text:l.text,removable:!0,onRemove:e=>a.call(void 0,l.data,e.syntheticEvent),onMouseDown:Vh,onClick:Hh,className:l===n?"k-focus":void 0,size:s});return r?r(l,d):d})),this.props.children)}}class Uh extends o.Component{constructor(){super(...arguments),this._input=null}get input(){return this._input}componentDidUpdate(e){const t=e.value,n=e.suggestedText,{value:o,suggestedText:r,focused:i}=this.props,a=this.input,s=t!==o||r!==n,l=s&&t.startsWith(o)&&!(n&&r&&n.endsWith(r)),c=Zc(document);i&&a&&c!==a&&a.focus(),r&&s&&!l&&a&&a.setSelectionRange(o.length-r.length,o.length)}render(){const{expanded:e=!1,disabled:t,role:n="listbox",render:r,tabIndex:i,accessKey:a,unstyled:s,inputAttributes:l}=this.props,c=s&&s.uDropDownsBase,d={tabIndex:i,accessKey:a},u=o.createElement("input",p({autoComplete:"off",id:this.props.id,type:"text",key:"searchbar",size:this.props.size,placeholder:this.props.placeholder,className:on(Ou.inputInner({c:c})),role:n,name:this.props.name,value:this.props.value,onChange:this.props.onChange,ref:e=>{this._input=e},onKeyDown:this.props.onKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onClick:this.props.onClick,"aria-disabled":t||void 0,disabled:t||void 0,readOnly:this.props.readOnly||void 0,title:this.props.title,"aria-haspopup":"listbox","aria-expanded":e,"aria-owns":this.props.owns,"aria-activedescendant":e?this.props.activedescendant:void 0,"aria-describedby":this.props.ariaDescribedBy,"aria-labelledby":this.props.ariaLabelledBy,"aria-label":this.props.ariaLabel,"aria-required":this.props.ariaRequired,"aria-controls":this.props.ariaControls},Object.assign({},d,l)));return r?r.call(void 0,u):u}}var Gh=(e=>(e[e.PopupList=0]="PopupList",e[e.TagsList=1]="TagsList",e))(Gh||{});const Wh=e=>{const t=Fc(),n=uo(),r=n&&n.uDropDownsBase,i=t.toLanguageString(gp,kp[gp]);return o.createElement("span",{className:on(Ou.clearButton({c:r})),role:"button",onClick:e.onClick,onMouseDown:e=>e.preventDefault(),tabIndex:-1,title:i,key:"clearbutton"},o.createElement(vo,{name:"x",icon:dd}))},Kh=e=>{const{footer:t,windowWidth:n=0,mobileFilter:r,children:i,navigatable:a,navigatableElements:s,expand:l,animation:c,title:d,subTitle:u,onClose:h}=e,f=qu(),m={navigatable:a||!1,navigatableElements:s||[],expand:l,animation:!1!==c,suffixActions:o.createElement(xo,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",icon:"x",svgIcon:dd,onClick:h}),filter:r,onClose:h,animationStyles:f&&n<=f.small?{top:0,width:"100%",height:"100%"}:void 0,title:d,subTitle:u,className:"k-adaptive-actionsheet",position:f&&n<=f.small?"fullscreen":void 0};return o.createElement(_h,p({},m),i,t&&o.createElement(Sh,{className:"k-actions k-actions-stretched"},o.createElement(xo,{size:"large",tabIndex:0,"aria-label":t.cancelText,"aria-disabled":"false",type:"button",onClick:t.onCancel},t.cancelText),o.createElement(xo,{tabIndex:0,themeColor:"primary",size:"large","aria-label":t.applyText,"aria-disabled":"false",type:"button",onClick:t.onApply},t.applyText)))};function Yh(e){const t=e.context;return t&&t.intl?t.intl:new Pc("en")}function Xh(e){const t=e.context;return t&&t.localization?t.localization:new Oc}function Qh(e){e.contextType=Rc}function Jh(e){e.contextType=Rc}const Zh=Xc,{sizeMap:$h,roundedMap:ef}=ko,tf=e=>e.preventDefault(),nf=e=>2===e,of=class e extends o.Component{constructor(e){super(e),this.state={activedescendant:Gh.PopupList,currentValue:[]},this._element=null,this._valueItemsDuringOnChange=null,this.base=new Tp(this),this._tags=[],this._input=null,this._adaptiveInput=null,this._skipFocusEvent=!1,this._lastSelectedOrDeslectedItemIndex=null,this.itemHeight=0,this.scrollToFocused=!1,this.localization=null,this.showLicenseWatermark=!1,this.focus=()=>{this._input&&this._input.focus()},this.handleItemSelect=(e,t)=>{const{dataItemKey:n,virtual:o}=this.props,r=dp(this.props),i=r[e-(o?o.skip:0)],a=this.value.findIndex((e=>sp(e,i,n)));this._lastSelectedOrDeslectedItemIndex=r.findIndex((e=>sp(e,i,n)));let s=[];-1!==a?(s=this.value,s.splice(a,1)):s=[...this.value,i],(void 0!==this.props.filter?this.props.filter:this.state.text)&&!this.mobileMode&&(this.state.text&&(t.data.text=""),this.base.filterChanged("",t)),this._adaptiveInput&&this._adaptiveInput.blur(),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.triggerOnChange(s,t),this.base.triggerPageChangeCornerItems(i,t)},this.onTagDelete=(e,t)=>{const n=this.base.initState();n.syntheticEvent=t,this.opened&&this.base.togglePopup(n),!this.state.focused&&!this.mobileMode&&(n.data.focused=!0,this.focus());const o=this.value;ap(o,e,this.props.dataItemKey),this.triggerOnChange(o,n),this.applyState(n)},this.itemFocus=(e,t)=>{const{allowCustom:n,virtual:o}=this.props,r=dp(this.props),i=o?o.skip:0,a=void 0!==this.props.filter?this.props.filter:this.state.text,{focusedIndex:s}=this.getFocusedState(),l=n&&a,c=r[e-i];c&&s!==e?this.state.focusedIndex!==e&&(t.data.focusedIndex=e,t.data.activedescendant=Gh.PopupList):l&&-1===e&&void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.base.triggerPageChangeCornerItems(c,t)},this.componentRef=e=>{this._element=e,this.base.wrapper=e},this.searchbarRef=e=>{const t=this._input=e&&e.input;t&&this.state.focused&&window.setTimeout((()=>t.focus()),0)},this.onChangeHandler=e=>{const t=this.base.initState(),n=e.target.value;t.syntheticEvent=e,void 0===this.props.filter&&(t.data.text=n),t.data.focusedIndex=void 0,this.opened||(this.base.togglePopup(t),this.setState({currentValue:this.value})),this.base.filterChanged(n,t),this.applyState(t),this.setState({group:void 0})},this.clearButtonClick=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),this.value.length>0&&this.triggerOnChange([],t),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t);const n=void 0!==this.props.filter?this.props.filter:this.state.text;np(n)&&""!==n&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this._lastSelectedOrDeslectedItemIndex=null,this.applyState(t)},this.onInputKeyDown=e=>{const{textField:t,groupField:n}=this.props,o=dp(this.props),r=e.keyCode,i=void 0!==this.props.filter?this.props.filter:this.state.text,a=void 0!==this.props.opened?this.props.opened:this.state.opened,{focusedItem:s,focusedIndex:l}=this.getFocusedState(),c=this.base.initState();if(c.syntheticEvent=e,!i&&this.value.length>0&&(r===Rt||r===Lt||r===Ot||r===Mt||r===Bt||r===_t)&&!e.shiftKey)return this.onTagsNavigate(e,c);const d=()=>{e.preventDefault(),this.base.togglePopup(c),this.applyState(c)};if(this.opened)if(r===Tt)e.preventDefault(),this.base.scrollPopupByPageSize(-1);else if(r===Pt)e.preventDefault(),this.base.scrollPopupByPageSize(1);else if((e.ctrlKey||e.metaKey)&&"KeyA"===e.code){const e=(this.state.value&&this.state.value.length)===o.length?[]:o;this.updateStateOnKeyboardNavigation(e,c)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===Mt){const e=o.slice(this.getFocusedState().focusedIndex);this.itemFocus(o.length-1,c),this.updateStateOnKeyboardNavigation(e,c)}else if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.keyCode===Ot){const e=o.slice(0,this.getFocusedState().focusedIndex+1);this.itemFocus(0,c),this.updateStateOnKeyboardNavigation(e,c)}else if(e.shiftKey&&e.keyCode===Ft){let e;const t=this.getLastSelectedOrDeselectedIndex(1,l);null===t?e=0!==l?o.slice(l-1,l):[o[l]]:t===l?e=[o[t-1]]:l>=0&&(e=t>l?o.slice(l-1,t):o.slice(t-1,l)),e&&e.length>0&&(l>=1&&this.itemFocus(l-1,c),this.updateStateOnKeyboardNavigation(e,c))}else if(e.shiftKey&&e.keyCode===zt){let e;const t=this.getLastSelectedOrDeselectedIndex(0,l);null===t?e=l!==o.length-1?o.slice(l,l+1):[o[l]]:t===l?e=o.slice(l,l+2):l>=0&&(e=t>l?o.slice(l+1,t+1):o.slice(t,l+2)),e&&e.length>=1&&(this.itemFocus(l+1,c),this.updateStateOnKeyboardNavigation(e,c))}else if(e.altKey&&r===Ft)d();else if(r===Ft||r===zt){if(""!==n&&t)if(!this.props.skipDisabledItems&&a)this.onNavigate(c,r);else{let e=0;if(r===zt||r===Lt){const n=o.slice(l+1).find((e=>!e.disabled&&e[t]));e=n&&o.findIndex((e=>e[t]===n[t]))}else if(r===Ft||r===Rt){let n;if(-1===l)n=o,e=o.findIndex((e=>!e.disabled&&e[t]));else{n=o.slice(0,l);let r=n.pop();for(;r&&r.disabled;)r=n.pop();e=r&&o.findIndex((e=>e[t]===r[t]))}}if(e){const t=e-l;this.onNavigate(c,r,t)}else void 0!==e&&this.onNavigate(c,r)}else if(!this.props.skipDisabledItems&&a)this.onNavigate(c,r);else{let e=null;if(r===zt||r===Lt)e=o.slice(l+1).find((e=>!e.disabled));else if(r===Ft||r===Rt){const t=o.slice(0,l);for(e=t.pop();e&&e.disabled;)e=t.pop()}if(e){const t=e.id-l-1;this.onNavigate(c,r,t)}else this.onNavigate(c,r)}this.applyState(c),e.preventDefault()}else r===At?(e.preventDefault(),this.props.allowCustom&&i&&null===s?this.customItemSelect(e):s&&s.disabled?d():this.selectFocusedItem(e)):r===Dt&&d();else e.altKey&&r===zt?d():r===Dt&&this.clearButtonClick(e)},this.listContainerContent=()=>{const{header:e,footer:t,allowCustom:n,size:r,groupStickyHeaderItemRender:i,groupField:a,list:s}=this.props,l=dp(this.props),c=void 0!==this.props.filter?this.props.filter:this.state.text,{focusedType:d}=this.getFocusedState(),u=n&&c&&o.createElement("div",{className:on("k-list",{["k-list-".concat($h[r]||r)]:r}),key:"customitem",onClick:this.customItemSelect,onMouseDown:tf},o.createElement("div",{className:on("k-list-item k-custom-item",{"k-focus":nf(d)}),style:{fontStyle:"italic"}},c,o.createElement(vo,{name:"plus",icon:pd,style:{position:"absolute",right:"0.5em"}})));let{group:p}=this.state;return void 0===p&&void 0!==a&&(p=ip(l[0],a)),o.createElement(o.Fragment,null,e&&o.createElement("div",{className:"k-list-header"},e),u,o.createElement("div",{className:on("k-list",{["k-list-".concat(this.mobileMode?"lg":$h[r]||r)]:r,"k-virtual-list":this.base.vs.enabled})},!s&&p&&0!==l.length&&o.createElement(tp,{group:p,groupMode:"modern",render:i}),this.renderList()),this.showLicenseWatermark&&o.createElement(ca,null),t&&o.createElement("div",{className:"k-list-footer"},t))},this.renderListContainer=()=>{const e=this.base,{dir:t}=this.props,n=dp(this.props),r=this.base.getPopupSettings(),i=void 0!==r.width?r.width:e.popupWidth,a={dir:void 0!==t?t:e.dirCalculated,width:i,popupSettings:p(p({},r),{},{popupClass:on(r.popupClass,"k-list-container","k-multiselect-popup"),anchor:r.anchor||this.element,show:this.opened,onOpen:this.onPopupOpened,onClose:this.onPopupClosed}),itemsCount:[n.length,this.value.length]};return o.createElement(Uu,p({},a),this.listContainerContent())},this.renderAdaptiveListContainer=()=>{const{adaptiveTitle:e,filterable:t,filter:n}=this.props,{windowWidth:r=0}=this.state,i=void 0!==n?n:this.state.text;this.localization=Xh(this);const a=t?o.createElement(ep,{value:i,ref:e=>{this._adaptiveInput=e&&e.element},onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,size:this.props.size,rounded:this.props.rounded,fillMode:this.props.fillMode}):null,s={title:e,expand:this.opened,onClose:e=>this.onCancel(e),windowWidth:r,mobileFilter:a,footer:{cancelText:this.localization.toLanguageString(wp,kp[wp]),onCancel:this.onCancel,applyText:this.localization.toLanguageString(bp,kp[bp]),onApply:this.closePopup}};return o.createElement(Kh,p({},s),o.createElement(Eh,null,o.createElement("div",{className:"k-list-container"},this.listContainerContent())))},this.closePopup=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onClose"});const n=void 0!==this.props.filter?this.props.filter:this.state.text;np(n)&&""!==n&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.onCancel=e=>{const t=this.base.initState();t.syntheticEvent=e,e.stopPropagation(),void 0!==this.state.focusedIndex&&(t.data.focusedIndex=void 0),this.opened&&this.base.togglePopup(t),t.events.push({type:"onCancel"});const n=void 0!==this.props.filter?this.props.filter:this.state.text;np(n)&&""!==n&&this.base.filterChanged("",t),this.state.text&&(t.data.text=""),this.applyState(t)},this.renderList=()=>{const{textField:e,listNoDataRender:t,itemRender:n,groupHeaderItemRender:r,dataItemKey:i,virtual:a={skip:0,total:void 0}}=this.props,s=dp(this.props),l=this.base.vs,{focusedIndex:c}=this.getFocusedState(),d=this.base.getPopupSettings(),u="translateY(".concat(l.translate,"px)");return o.createElement(Cp,{id:this.base.listBoxId,show:this.opened,data:s.slice(),focusedIndex:c-a.skip,value:this.value,textField:e,valueField:i,optionsGuid:this.base.guid,groupField:this.props.groupField,groupMode:"modern",listRef:e=>{l.list=this.base.list=e},wrapperStyle:this.mobileMode?{}:{maxHeight:d.height},wrapperCssClass:"k-list-content",listStyle:l.enabled?{transform:u}:void 0,key:"listKey",skip:a.skip,onClick:this.handleItemClick,itemRender:n,groupHeaderItemRender:r,noDataRender:t,onMouseDown:tf,onBlur:this.handleBlur,onScroll:this.onScroll,wrapperRef:l.scrollerRef,scroller:this.base.renderScrollElement(),ariaSetSize:a.total})},this.onScroll=e=>{const{vs:t,list:n}=this.base;t.scrollHandler(e);const{groupField:o}=this.props;let r=dp(this.props);if(o&&r.length&&o){const i=this.itemHeight=this.itemHeight||(t.enabled?t.itemHeight:n?n.children[0].offsetHeight:0),a=e.target.scrollTop-t.skip*i;r=this.base.getGroupedDataModernMode(r,o);let s=r[0][o];for(let e=1;e<r.length&&!(i*e>a);e++)r[e]&&r[e][o]&&(s=r[e][o]);s!==this.state.group&&this.setState({group:s})}},this.customItemSelect=e=>{const t=void 0!==this.props.filter?this.props.filter:this.state.text,{textField:n}=this.props;if(!t)return;const o=this.base.initState();o.syntheticEvent=e;const r=n?{[n]:t}:t;void 0!==this.state.text&&(o.data.text=""),o.data.focusedIndex=void 0,this.base.filterChanged("",o);const i=[...this.value,r];this.triggerOnChange(i,o),this.base.togglePopup(o),this.applyState(o)},this.handleWrapperClick=e=>{const t=this._input;!this.opened&&t&&this.focusElement(t);const n=this.base.initState();n.syntheticEvent=e,!this.state.focused&&!this.mobileMode&&(n.events.push({type:"onFocus"}),n.data.focused=!0),this.mobileMode&&(this.setState({currentValue:this.tagsToRender}),this.mobileMode&&window.setTimeout((()=>this._adaptiveInput&&this._adaptiveInput.focus()),300)),this.base.togglePopup(n),this.applyState(n)},this.handleItemClick=(e,t)=>{const n=this.base.initState();n.syntheticEvent=t,this.handleItemSelect(e,n),this.props.autoClose&&!this.mobileMode&&this.base.togglePopup(n),t.stopPropagation(),this.applyState(n)},this.handleBlur=e=>{if(!this.state.focused||this._skipFocusEvent)return;const t=this.base.initState(),{allowCustom:n,filterable:o}=this.props;t.syntheticEvent=e,t.data.focused=!1,t.events.push({type:"onBlur"}),this.opened&&!this.mobileMode&&(this.state.opened&&(t.data.opened=!1),t.events.push({type:"onClose"})),!n&&!o&&this.state.text&&(t.data.text=""),this.applyState(t)},this.handleFocus=e=>{this._skipFocusEvent||this.base.handleFocus(e)},this.onPopupOpened=()=>{this._input&&this.state.focused&&!this.mobileMode&&this.focusElement(this._input)},this.onPopupClosed=()=>{this.state.focused&&window.setTimeout((()=>{this.state.focused&&this.focusElement(this._input)}),0)},this.setValidity=()=>{this._input&&this._input.setCustomValidity&&this._input.setCustomValidity(this.validity.valid?"":this.props.validationMessage||"Please enter a valid value!")},this.validate(e)}get _inputId(){return this.props.id}get document(){if(Ro)return this.element&&this.element.ownerDocument||document}validate(e){if(e.filterable||e.virtual){const t=[];e.filterable&&t.push("filterable"),e.virtual&&t.push("virtualization"),this.showLicenseWatermark=!sa(Pp,{component:"MultiSelect",features:t})}}get element(){return this._element}get opened(){return!!(void 0!==this.props.opened?this.props.opened:this.state.opened)}get tagsToRender(){const{tags:e,textField:t}=this.props,n=[];return void 0===e?this.value.forEach((e=>{n.push({text:ip(e,t),data:[e]})})):n.push(...e),n}get mobileMode(){var e;return!!(this.state.windowWidth&&this.props._adaptiveMode&&this.state.windowWidth<=(null==(e=this.props._adaptiveMode)?void 0:e.medium)&&this.props.adaptive)}get value(){const e=[];return this._valueItemsDuringOnChange?e.push(...this._valueItemsDuringOnChange):this.props.value?e.push(...this.props.value):this.state.value?e.push(...this.state.value):this.props.defaultValue&&e.push(...this.props.defaultValue),e}get name(){return this.props.name}get validity(){const e=void 0!==this.props.validationMessage,t=!this.required||null!==this.value&&this.value.length>0&&void 0!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}}get required(){return void 0!==this.props.required?this.props.required:e.defaultProps.required}get validityStyles(){return void 0!==this.props.validityStyles?this.props.validityStyles:e.defaultProps.validityStyles}componentDidUpdate(e,t){var n;const{virtual:o,groupField:r=""}=this.props,i=dp(this.props),a=o?o.skip:0,s=e.virtual?e.virtual.total:0,l=void 0!==e.opened?e.opened:t.opened,c=!l&&this.opened,d=l&&!this.opened,u=this.base.getPopupSettings();if(this.validate(this.props),this.base.didUpdate(),!u.animate&&d&&this.onPopupClosed(),o&&o.total!==s)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{let{focusedItem:e,focusedIndex:t}=this.getFocusedState();""!==r&&(t=null==(n=this.base.getGroupedDataModernMode(i,r))?void 0:n.indexOf(e)),c&&o?this.base.scrollToVirtualItem(o,t-a):c&&!o?(i&&0!==i.length&&this.base.resetGroupStickyHeader(i[0][r],this),this.base.scrollToItem(t)):this.opened&&l&&e&&this.scrollToFocused&&this.base.scrollToItem(t-a)}this.scrollToFocused=!1,this.setValidity()}componentDidMount(){var e;this.observerResize=Ro&&window.ResizeObserver&&new window.ResizeObserver(this.calculateMedia.bind(this)),this.base.didMount(),this.setValidity(),null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.observe(this.document.body)}componentWillUnmount(){var e;null!=(e=this.document)&&e.body&&this.observerResize&&this.observerResize.disconnect()}onNavigate(e,t,n){const{allowCustom:o}=this.props,r=dp(this.props),i=void 0!==this.props.filter?this.props.filter:this.state.text,{focusedType:a,focusedIndex:s}=this.getFocusedState(),l=o&&i,c=nf(a),d=this.base,u=d.vs;if(this.opened&&t===Ft&&c)void 0!==this.state.focusedIndex&&(e.data.focusedIndex=void 0);else{const o=d.navigation.navigate({keyCode:t,current:s,max:(u.enabled?u.total:r.length)-1,min:l?-1:0,skipItems:n||void 0});void 0!==o&&(this.itemFocus(o,e),this.scrollToFocused=!0)}this.applyState(e)}render(){const{style:e,className:t,label:n,dir:r,disabled:i,textField:a,dataItemKey:s,virtual:l,size:c,rounded:d,fillMode:u,loading:h,filter:f}=this.props,{text:m,focused:g,focusedTag:v,currentValue:y}=this.state,x=this.base.vs,b=this.props.id||this._inputId;x.enabled=void 0!==l,void 0!==l&&(x.skip=l.skip,x.total=l.total,x.pageSize=l.pageSize);const w=this.mobileMode&&this.opened?y:this.tagsToRender;this.setItems(this.tagsToRender,this._tags);const k=!this.validityStyles||this.validity.valid,C=!!(void 0!==f?f:m)||w&&w.length>0,[S,I]=Zh(this.props.prefix||o.Fragment),[E,_]=Zh(this.props.suffix||o.Fragment),j=o.createElement(o.Fragment,null,o.createElement("div",{ref:this.componentRef,className:on("k-multiselect k-input",t,{["k-input-".concat($h[c]||c)]:c,["k-rounded-".concat(ef[d]||d)]:d,["k-input-".concat(u)]:u,"k-focus":g&&!i,"k-invalid":!k,"k-disabled":i,"k-loading":h,"k-required":this.required}),style:n?p(p({},e),{},{width:void 0}):e,dir:r,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleWrapperClick,onMouseDown:lp},this.props.prefix&&o.createElement(S,p({},I)),o.createElement("div",{className:on("k-input-values")},o.createElement("div",{className:on("k-chip-list",{["k-chip-list-".concat($h[c]||c)]:c}),role:"listbox",id:"tagslist-"+this.base.guid},w&&w.length>0&&o.createElement(qh,{tagRender:this.props.tagRender,onTagDelete:this.onTagDelete,data:w,guid:this.base.guid,focused:v?w.find((e=>cp(e,v,s))):void 0,size:c})),this.renderSearchBar(b)),h&&o.createElement(vo,{className:"k-input-loading-icon",name:"loading"}),this.props.suffix&&o.createElement(E,p({},_)),C&&o.createElement(Wh,{onClick:this.clearButtonClick}),!this.mobileMode&&this.renderListContainer()),this.mobileMode&&this.renderAdaptiveListContainer());return n?o.createElement(Vc,{label:n,editorId:b,editorValue:m||ip(this.value[0],a),editorValid:k,editorDisabled:i,style:{width:e?e.width:void 0},children:j}):j}renderSearchBar(e){const{activedescendant:t,focusedTag:n,currentValue:r}=this.state,{disabled:i,placeholder:a,ariaDescribedBy:s,ariaLabelledBy:l,ariaLabel:c,inputAttributes:d}=this.props,u=!this.mobileMode&&(void 0!==this.props.filter?this.props.filter:this.state.text)||"",{focusedIndex:h}=this.getFocusedState(),f=0!==this.value.length||u?void 0:a,m=r&&r.length>0?void 0:a,g=t===Gh.TagsList&&void 0!==n?"tag-".concat(this.base.guid,"-").concat(n.text.replace(/\s+/g,"-")):"option-".concat(this.base.guid,"-").concat(h),v={accessKey:this.props.accessKey,tabIndex:this.props.tabIndex};return o.createElement(Uh,p({id:e,size:Math.max((f||"").length,u.length,1),placeholder:this.mobileMode&&this.opened?m:f,value:u,onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,ref:this.searchbarRef,disabled:i,expanded:this.opened,owns:this.base.listBoxId,role:"combobox",activedescendant:g,ariaDescribedBy:"tagslist-".concat(this.base.guid).concat(s?" "+s:""),ariaLabelledBy:l,ariaRequired:this.required,ariaLabel:c,inputAttributes:d},v))}onTagsNavigate(e,t){const n=e.keyCode,{focusedTag:o}=this.state,r=this._tags,i=this.props.dataItemKey;let a,s=o?r.findIndex((e=>cp(e,o,i))):-1;const l=-1!==s;if(n===Rt)s=l?Math.max(0,s-1):r.length-1,a=r[s];else if(n===Lt)s===r.length-1?a=void 0:l&&(s=Math.min(r.length-1,s+1),a=r[s]);else if(n!==Ot||e.shiftKey)if(n!==Mt||e.shiftKey){if(n===Bt){if(l){const e=this.value;ap(e,r[s].data,i),this.triggerOnChange(e,t)}}else if(n===_t){const e=this.value;if(l)ap(e,r[s].data,i),this.triggerOnChange(e,t);else if(!l&&r.length){const n=r.pop();ap(e,n.data,i),this.triggerOnChange(e,t)}}}else a=r[r.length-1];else a=r[0];a!==o&&(t.data.focusedTag=a,t.data.activedescendant=Gh.TagsList),this.applyState(t)}triggerOnChange(e,t){void 0===this.props.value&&(t.data.value=[...e]),this._valueItemsDuringOnChange=[],this.setItems(e,this._valueItemsDuringOnChange),t.events.push({type:"onChange"})}selectFocusedItem(e,t){const{virtual:n}=this.props,o=dp(this.props),{focusedIndex:r}=t||this.getFocusedState();void 0!==o[r-(n?n.skip:0)]&&this.handleItemClick(r,e)}setItems(e,t){t.length=0,t.push(...e)}getFocusedState(){const{focusedIndex:e}=this.state,t=void 0!==this.props.filter?this.props.filter:this.state.text,{allowCustom:n,dataItemKey:o,virtual:r,textField:i,focusedItemIndex:a=rp,skipDisabledItems:s}=this.props,l=dp(this.props),c=r&&r.skip||0;let d;if(void 0!==e)return{focusedIndex:e,focusedItem:l[e-c],focusedType:1};const u=this.value;if(n&&t)return{focusedItem:null,focusedIndex:-1,focusedType:2};if(t)return d=a(l,t,i),{focusedItem:l[d],focusedIndex:d+c,focusedType:1};if(u.length){const e=u[u.length-1];return d=l.findIndex((t=>sp(t,e,o))),void 0!==l[d]?{focusedIndex:d+c,focusedItem:l[d],focusedType:1}:{focusedType:0,focusedIndex:-1}}if(s&&i&&!t&&0===c){const e=l.findIndex((e=>!e.disabled&&e[i]));return{focusedIndex:e,focusedItem:l[e-c],focusedType:1}}return 0===c?{focusedItem:l[0],focusedIndex:0,focusedType:1}:{focusedType:0,focusedIndex:-1}}focusElement(e){this._skipFocusEvent=!0,e.focus(),window.setTimeout((()=>this._skipFocusEvent=!1),0)}applyState(e){this.base.applyState(e),this._valueItemsDuringOnChange=null}calculateMedia(e){for(const t of e)this.setState({windowWidth:t.target.clientWidth})}updateStateOnKeyboardNavigation(e,t){this.setState({value:e}),this.triggerOnChange(e,t),this.applyState(t)}getLastSelectedOrDeselectedIndex(e,t){return null===this._lastSelectedOrDeslectedItemIndex&&(this._lastSelectedOrDeslectedItemIndex=t),null!==this._lastSelectedOrDeslectedItemIndex?this._lastSelectedOrDeslectedItemIndex+e:null}};of.displayName="MultiSelect",of.propTypes=p(p({},Tp.propTypes),{},{autoClose:Et.bool,value:Et.arrayOf(Et.any),defaultValue:Et.arrayOf(Et.any),dataItemKey:Et.string,placeholder:Et.string,tags:Et.arrayOf(Et.shape({text:Et.string,data:Et.arrayOf(Et.any)})),tagRender:Et.func,id:Et.string,ariaLabelledBy:Et.string,ariaDescribedBy:Et.string,groupField:Et.string,list:Et.any,adaptive:Et.bool,adaptiveTitle:Et.string,onCancel:Et.func,skipDisabledItems:Et.bool,inputAttributes:Et.object}),of.defaultProps=p(p({},Tp.defaultProps),{},{autoClose:!0,required:!1,size:"medium",rounded:"medium",fillMode:"solid",groupMode:"modern",skipDisabledItems:!0,prefix:void 0,suffix:void 0});let rf=of;const af=pa(Pa(Ta(),(e=>o.forwardRef(((t,n)=>{const r=qu();return o.createElement(e,p(p({},t),{},{ref:n,_adaptiveMode:r}))})))(rf)));af.displayName="KendoReactMultiSelect";var sf=function(e){return e?new Date(e.getTime()):null},lf=function(e,t){var n=sf(e);return 0===t&&23===n.getHours()&&n.setHours(n.getHours()+2),n},cf=function(e,t,n,o,r,i,a){void 0===o&&(o=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===a&&(a=0);var s=new Date(e,t,n,o,r,i,a);return e>-1&&e<100&&s.setFullYear(s.getFullYear()-1900),lf(s,o)},df=function(e){return cf(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0)};const uf=e=>{let{children:t,onFocus:n,onBlur:r,onSyncFocus:i,onSyncBlur:a}=e;const s=Xu({onFocus:n,onBlur:r,onSyncFocus:i,onSyncBlur:a});return o.createElement(o.Fragment,null,t.call(void 0,p({},s)))};var pf=function(e,t){return!e&&!t||e&&t&&e.getTime()===t.getTime()};const hf={footer:{main:"".concat(un.prefix,"-").concat(jn.time,"-").concat(Cn.footer),actions:"".concat(un.prefix,"-").concat(kn.actions),stretched:"".concat(un.prefix,"-").concat(kn.actions,"-").concat(In.stretched),horizontal:"".concat(un.prefix,"-").concat(kn.actions,"-").concat(yn.horizontal)},cancel:"".concat(un.prefix,"-").concat(jn.time,"-").concat(Sn.cancel),accept:"".concat(un.prefix,"-").concat(jn.time,"-").concat(Sn.accept),part:{main:"".concat(un.prefix,"-").concat(jn.time,"-").concat(kn.part),disabled:"".concat(un.prefix,"-").concat(In.disabled)},header:"".concat(un.prefix,"-").concat(jn.time,"-").concat(Cn.header),now:"".concat(un.prefix,"-").concat(jn.time,"-").concat(jn.now),listContainer:"".concat(un.prefix,"-").concat(jn.time,"-").concat(kn.list,"-").concat(kn.container),highlight:"".concat(un.prefix,"-").concat(jn.time,"-").concat(In.highlight),listWrapper:{main:"".concat(un.prefix,"-").concat(jn.time,"-").concat(kn.list,"-").concat(kn.wrapper),focused:"".concat(un.prefix,"-").concat(In.focus)},list:"".concat(un.prefix,"-").concat(jn.time,"-").concat(kn.list),container:{main:"".concat(un.prefix,"-").concat(jn.time,"-").concat(kn.container),scrollable:"".concat(un.prefix,"-").concat(In.scrollable),content:"".concat(un.prefix,"-").concat(kn.content)},containerSelector:"".concat(un.prefix,"-").concat(jn.time,"-").concat(kn.container),separator:"".concat(un.prefix,"-").concat(jn.time,"-").concat(kn.separator),ul:"".concat(un.prefix,"-").concat(un.reset),li:"".concat(un.prefix,"-").concat(kn.item),title:"".concat(un.prefix,"-").concat(Cn.title),scrollablePlaceholder:"".concat(un.prefix,"-").concat(In.scrollable,"-").concat(kn.placeholder)},ff=(dn(hf,"cancel"),dn(hf,"accept"),dn(hf,"header"),dn(hf,"now"),dn(hf,"listContainer"),dn(hf,"highlight"),dn(hf,"list"),dn(hf,"containerSelector"),dn(hf,"separator"),dn(hf,"ul"),dn(hf,"li"),dn(hf,"title"),dn(hf,"scrollablePlaceholder"),{wrapper:{main:"".concat(un.prefix,"-").concat(hn.timepicker),input:"".concat(Bn),size:{small:"".concat(Bn,"-").concat(fn.small),medium:"".concat(Bn,"-").concat(fn.medium),large:"".concat(Bn,"-").concat(fn.large)},fillMode:{solid:"".concat(Bn,"-").concat(mn.solid),outline:"".concat(Bn,"-").concat(mn.outline),flat:"".concat(Bn,"-").concat(mn.flat)},rounded:{small:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.small),medium:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.medium),large:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.large)},disabled:"".concat(un.prefix,"-").concat(In.disabled),required:"".concat(un.prefix,"-").concat(In.required),invalid:"".concat(un.prefix,"-").concat(In.invalid)},inputButton:"".concat(Bn,"-").concat(Cn.button),popup:{main:"".concat(un.prefix,"-").concat(hn.timepicker,"-").concat(kn.popup),container:"".concat(un.prefix,"-").concat(kn.list,"-").concat(kn.container)},timeSelector:{main:"".concat(un.prefix,"-").concat(jn.timeselector),size:{medium:"".concat(un.prefix,"-").concat(jn.timeselector,"-").concat(fn.medium),large:"".concat(un.prefix,"-").concat(jn.timeselector,"-").concat(fn.large)},disabled:"".concat(un.prefix,"-").concat(In.disabled),reset:"".concat(un.prefix,"-").concat(un.reset)}}),mf=(dn(ff,"inputButton"),{wrapper:{main:"".concat(Vn),infinite:"".concat(Vn,"-").concat(un.infinite),disabled:"".concat(un.prefix,"-").concat(In.disabled),weekNumber:"".concat(un.prefix,"-").concat(jn.week,"-").concat(jn.number),size:{medium:"".concat(Vn,"-").concat(fn.medium),large:"".concat(Vn,"-").concat(fn.large)}},view:{main:"".concat(Vn,"-").concat(kn.view),vertical:"".concat(un.prefix,"-").concat(pn.vstack),month:"".concat(Vn,"-").concat(jn.month).concat(kn.view),year:"".concat(Vn,"-").concat(jn.year).concat(kn.view),decade:"".concat(Vn,"-").concat(jn.decade).concat(kn.view),century:"".concat(Vn,"-").concat(jn.century).concat(kn.view)},navigation:"".concat(Vn,"-").concat(jn.navigation),navigationHighlight:"".concat(Vn,"-").concat(jn.navigation,"-").concat(In.highlight),table:{main:"".concat(Vn,"-").concat(Cn.table),weekdays:"".concat(Vn,"-").concat(jn.weekdays)},thead:"".concat(Vn,"-").concat(Cn.thead),tr:"".concat(Vn,"-").concat(Cn.tr),th:"".concat(Vn,"-").concat(Cn.th),caption:"".concat(Vn,"-").concat(Cn.caption),tbody:"".concat(Vn,"-").concat(Cn.tbody),ul:"".concat(un.prefix,"-").concat(un.reset),li:"",td:{main:"".concat(Vn,"-").concat(Cn.td),rangeStart:"".concat(un.prefix,"-").concat(jn.range,"-").concat(wn.start),rangeEnd:"".concat(un.prefix,"-").concat(jn.range,"-").concat(wn.end),rangeMid:"".concat(un.prefix,"-").concat(jn.range,"-").concat(wn.mid),rangeSplitEnd:"".concat(un.prefix,"-").concat(jn.range,"-").concat(Sn.split,"-").concat(wn.end),rangeSplitStart:"".concat(un.prefix,"-").concat(jn.range,"-").concat(Sn.split,"-").concat(wn.start),active:"".concat(un.prefix,"-").concat(In.active),focused:"".concat(un.prefix,"-").concat(un.state,"-").concat(In.pending,"-").concat(In.focus),selected:"".concat(un.prefix,"-").concat(In.selected),today:"".concat(un.prefix,"-").concat(jn.today),weekend:"".concat(un.prefix,"-").concat(jn.weekend),disabled:"".concat(un.prefix,"-").concat(In.disabled),isOtherMonth:"".concat(un.prefix,"-").concat(jn.other,"-").concat(jn.month),isEmpty:"".concat(un.prefix,"-").concat(In.empty),isWeek:"".concat(un.prefix,"-").concat(In.alt)},title:"".concat(Vn,"-").concat(Cn.title),header:{main:"".concat(Vn,"-").concat(Cn.header),vertical:"".concat(un.prefix,"-").concat(pn.hstack)},spacer:"".concat(un.prefix,"-").concat(kn.spacer),nav:"".concat(Vn,"-").concat(kn.nav),today:{main:"".concat(Vn,"-").concat(kn.nav,"-").concat(jn.today),disabled:"".concat(un.prefix,"-").concat(In.disabled)},scrollable:{main:"".concat(un.prefix,"-").concat(In.scrollable),content:"".concat(un.prefix,"-").concat(kn.content),horizontal:"".concat(un.prefix,"-").concat(In.scrollable,"-").concat(yn.horizontal)},scrollableSelector:"".concat(un.prefix,"-").concat(In.scrollable),scrollablePlaceholder:{main:"".concat(un.prefix,"-").concat(In.scrollable,"-").concat(kn.placeholder),horizontal:"".concat(un.prefix,"-").concat(In.scrollable,"-").concat(yn.horizontal,"-").concat(kn.placeholder)},link:"".concat(un.prefix,"-").concat(Cn.link),navigationMarker:"".concat(Vn,"-").concat(jn.navigation,"-").concat(jn.marker)}),gf={wrapper:e=>{const{c:t=mf,disabled:n,weekNumber:o,mobileMode:r}=e,i=t.wrapper;return{[i.main]:!0,[i.infinite]:!0,[i.disabled]:n,[i.weekNumber]:o,[i.size.large]:r,[i.size.medium]:!r}},view:e=>{const{c:t=mf,month:n,year:o,decade:r,century:i}=e,a=t.view;return{[a.main]:!0,[a.vertical]:!0,[a.month]:n,[a.year]:o,[a.decade]:r,[a.century]:i}},navigation:dn(mf,"navigation"),navigationHighlight:dn(mf,"navigationHighlight"),table:e=>{const{c:t=mf,weekdays:n}=e,o=t.table;return{[o.main]:!0,[o.weekdays]:n}},thead:dn(mf,"thead"),tr:dn(mf,"tr"),th:dn(mf,"th"),tbody:dn(mf,"tbody"),title:dn(mf,"title"),header:e=>{const{c:t=mf,vertical:n}=e,o=t.header;return{[o.main]:!0,[o.vertical]:n}},today:e=>{const{c:t=mf,disabled:n}=e,o=t.today;return{[o.main]:!0,[o.disabled]:n}},spacer:dn(mf,"spacer"),nav:dn(mf,"nav"),caption:dn(mf,"caption"),ul:dn(mf,"ul"),li:dn(mf,"li"),td:e=>{const{c:t=mf,rangeStart:n,rangeEnd:o,rangeMid:r,rangeSplitEnd:i,rangeSplitStart:a,active:s,focused:l,selected:c,today:d,weekend:u,disabled:p,isOtherMonth:h,isEmpty:f,isWeek:m}=e,g=t.td;return m?{[g.main]:!0,[g.isWeek]:m}:f?{[g.main]:!0,[g.isEmpty]:f}:{[g.main]:!0,[g.rangeStart]:n,[g.rangeEnd]:o,[g.rangeMid]:r,[g.rangeSplitEnd]:i,[g.rangeSplitStart]:a,[g.active]:s,[g.focused]:l,[g.selected]:c,[g.today]:d,[g.weekend]:u,[g.disabled]:p,[g.isOtherMonth]:h}},scrollable:e=>{const{c:t=mf,horizontal:n}=e,o=t.scrollable;return{[o.main]:!0,[o.content]:!0,[o.horizontal]:n}},scrollableSelector:dn(mf,"scrollableSelector"),scrollablePlaceholder:e=>{const{c:t=mf,horizontal:n}=e,o=t.scrollablePlaceholder;return{[o.main]:!0,[o.horizontal]:n}},link:dn(mf,"link"),navigationMarker:e=>{const{c:t=mf,isRangeStart:n}=e;return{[t.navigationMarker]:n}}},vf={wrapper:{main:"".concat(un.prefix,"-").concat(hn.dateinput),input:"".concat(Bn),size:{small:"".concat(Bn,"-").concat(fn.small),medium:"".concat(Bn,"-").concat(fn.medium),large:"".concat(Bn,"-").concat(fn.large)},fillMode:{solid:"".concat(Bn,"-").concat(mn.solid),outline:"".concat(Bn,"-").concat(mn.outline),flat:"".concat(Bn,"-").concat(mn.flat)},rounded:{small:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.small),medium:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.medium),large:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.large)},disabled:"".concat(un.prefix,"-").concat(In.disabled),required:"".concat(un.prefix,"-").concat(In.required),invalid:"".concat(un.prefix,"-").concat(In.invalid)},inputInner:"".concat(Bn,"-").concat(_n.inner),inputSpinner:{main:"".concat(Bn,"-").concat(_n.spinner),button:"".concat(un.prefix,"-").concat(_n.spin,"-").concat(Cn.button)},spinnerIncrease:"".concat(un.prefix,"-").concat(_n.spinner,"-").concat(Sn.increase),spinnerDecrease:"".concat(un.prefix,"-").concat(_n.spinner,"-").concat(Sn.decrease),clearButton:"".concat(un.prefix,"-").concat(un.clear,"-").concat(un.value)},yf={wrapper:e=>{const{c:t=vf,size:n,fillMode:o,rounded:r,disabled:i,required:a,invalid:s}=e,l=t.wrapper;return{[l.main]:!0,[l.input]:!0,[l.size[n]]:l.size[n],["".concat(Bn,"-").concat(n)]:n&&!l.size[n],[l.fillMode[o]]:l.fillMode[o],[l.rounded[r]]:l.rounded[r],["".concat(un.prefix,"-").concat(un.rounded,"-").concat(r)]:r&&!l.rounded[r],[l.disabled]:i,[l.invalid]:s,[l.required]:a}},inputInner:dn(vf,"inputInner"),inputSpinner:e=>{const{c:t=vf}=e,n=t.inputSpinner;return{[n.main]:!0,[n.button]:!0}},spinnerIncrease:dn(vf,"spinnerIncrease"),spinnerDecrease:dn(vf,"spinnerDecrease"),clearButton:dn(vf,"clearButton")},xf={wrapper:{main:"".concat(un.prefix,"-").concat(hn.datetimepicker),input:"".concat(Bn),size:{small:"".concat(Bn,"-").concat(fn.small),medium:"".concat(Bn,"-").concat(fn.medium),large:"".concat(Bn,"-").concat(fn.large)},fillMode:{solid:"".concat(Bn,"-").concat(mn.solid),outline:"".concat(Bn,"-").concat(mn.outline),flat:"".concat(Bn,"-").concat(mn.flat)},rounded:{small:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.small),medium:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.medium),large:"".concat(un.prefix,"-").concat(un.rounded,"-").concat(vn.large)},disabled:"".concat(un.prefix,"-").concat(In.disabled),required:"".concat(un.prefix,"-").concat(In.required),invalid:"".concat(un.prefix,"-").concat(In.invalid)},inputButton:"".concat(Bn,"-").concat(Cn.button),popup:{main:"".concat(un.prefix,"-").concat(hn.datetime,"-").concat(kn.container),reset:"".concat(un.prefix,"-").concat(un.reset)},wrap:{main:"".concat(un.prefix,"-").concat(hn.datetime,"-").concat(kn.wrap),date:"".concat(un.prefix,"-").concat(jn.date,"-").concat(kn.tab),time:"".concat(un.prefix,"-").concat(jn.time,"-").concat(kn.tab),disabled:"".concat(un.prefix,"-").concat(In.disabled)},timeFooter:{main:"".concat(un.prefix,"-").concat(hn.datetime,"-").concat(Cn.footer),actions:"".concat(un.prefix,"-").concat(kn.actions),stretched:"".concat(un.prefix,"-").concat(kn.actions,"-").concat(In.stretched)},buttonGroup:"".concat(un.prefix,"-").concat(hn.datetime,"-").concat(hn.buttongroup),selector:"".concat(un.prefix,"-").concat(hn.datetime,"-").concat(jn.selector),calendarWrap:"".concat(un.prefix,"-").concat(hn.datetime,"-").concat(Vn,"-").concat(kn.wrap),timeWrap:"".concat(un.prefix,"-").concat(hn.datetime,"-").concat(jn.time,"-").concat(kn.wrap),timeSelector:{main:"".concat(un.prefix,"-").concat(jn.timeselector),size:{medium:"".concat(un.prefix,"-").concat(jn.timeselector,"-").concat(fn.medium),large:"".concat(un.prefix,"-").concat(jn.timeselector,"-").concat(fn.large)},disabled:"".concat(un.prefix,"-").concat(In.disabled),reset:"".concat(un.prefix,"-").concat(un.reset)}};dn(xf,"inputButton"),dn(xf,"buttonGroup"),dn(xf,"selector"),dn(xf,"calendarWrap"),dn(xf,"timeWrap");var bf=function(e,t){return bf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},bf(e,t)};function wf(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}bf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var kf=function(){return kf=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},kf.apply(this,arguments)};Object.create;function Cf(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Sf,If,Ef,_f=function(e,t){var n=sf(e);return n.setDate(n.getDate()+t),lf(n,e.getHours())},jf=function(e){var t=cf(e.getFullYear(),e.getMonth()+1,1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return _f(t,-1)},Af=function(e,t){var n=sf(e),o=(12+(n.getMonth()+t)%12)%12;return n.setMonth(n.getMonth()+t),function(e,t){return e.getMonth()!==t?jf(Af(e,-1)):e}(lf(n,e.getHours()),o)},Df=function(){this.symbols="",this.partMap=[]},Nf="_",Tf=68,Pf="d",Mf="en",Of="Delete",Rf="Backspace",Ff=" ",Lf=function(e){return new Array(Math.max(e,0)).fill("0").join("")},zf=function(e){return e.replace(/^0*/,"")},Bf=function(e,t){return e[t.pattern[0]]=t.type,e},Vf=function(e){return void 0!==e&&null!==e},Hf=function(){return!!document},qf=function(e){return Vf(e)&&"number"===typeof e&&!Number.isNaN(e)},Uf=function(e){return parseInt(e,10)},Gf=function(e){return qf(Uf(e))&&/^[0-9]+$/.test(e)},Wf=function(e,t,n){return Math.min(n,Math.max(t,e))},Kf=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object.assign.apply(Object,e)},Yf=(Sf="setFullYear",function(e,t){var n=sf(e);return n[Sf](t),n}),Xf=function(e,t,n,o,r,i,a,s){return!(!e||e.getFullYear()!==t||e.getMonth()!==n||e.getDate()!==o||e.getHours()!==r||e.getMinutes()!==i||e.getSeconds()!==a||e.getMilliseconds()!==s)},Qf=function(e){return Vf(e)&&e.getTime&&qf(e.getTime())},Jf=/d|M|H|h|m|s/,Zf=function(){function e(e){var t=e.intlService,n=e.formatPlaceholder,o=e.format,r=e.cycleTime,i=void 0!==r&&r,a=e.twoDigitYearMax,s=void 0===a?Tf:a,l=e.value,c=void 0===l?null:l,d=e.autoCorrectParts,u=void 0===d||d,p=e.toggleDayPeriod,h=void 0!==p&&p,f=e.autoSwitchParts,m=void 0===f||f;if(this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.dayperiod=!0,this.leadingZero=null,this.typedMonthPart="",this.knownParts="adHhmMsEyS",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y",S:"S"},this._value=this.getDefaultDate(),this.cycleTime=!1,this._partiallyInvalidDate={startDate:null,invalidDateParts:{E:{value:null,date:null,startDateOffset:0},H:{value:null,date:null,startDateOffset:0},M:{value:null,date:null,startDateOffset:0},a:{value:null,date:null,startDateOffset:0},d:{value:null,date:null,startDateOffset:0},h:{value:null,date:null,startDateOffset:0},m:{value:null,date:null,startDateOffset:0},s:{value:null,date:null,startDateOffset:0},y:{value:null,date:null,startDateOffset:0},S:{value:null,date:null,startDateOffset:0}}},this.setOptions({intlService:t,formatPlaceholder:n,format:o,cycleTime:i,twoDigitYearMax:s,value:c,autoCorrectParts:u,toggleDayPeriod:h,autoSwitchParts:m}),c)this._value=sf(c);else{this._value=this.getDefaultDate();for(var g=this.dateFormatString(this.value,this.format).symbols,v=0;v<g.length;v++)this.setExisting(g[v],!1)}}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){(!e||e instanceof Date)&&(this._value=e,this.resetInvalidDate())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localeId",{get:function(){for(var e=Mf,t=Object.keys(this.intl.cldr),n=0;n<t.length;n++){var o=t[n],r=this.intl.cldr[o];if(r.name&&r.calendar&&r.numbers&&r.name!==Mf){e=r.name;break}}return e},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this.intl=e.intlService,this.formatPlaceholder=e.formatPlaceholder||"wide",this.format=e.format,this.cycleTime=e.cycleTime,this.monthNames=this.allFormattedMonths(this.localeId),this.dayPeriods=this.allDayPeriods(this.localeId),this.twoDigitYearMax=e.twoDigitYearMax,this.autoCorrectParts=e.autoCorrectParts,this.toggleDayPeriod=e.toggleDayPeriod,this.autoSwitchParts=e.autoSwitchParts},e.prototype.setValue=function(e){e?pf(e,this._value)?pf(e,this._value)&&this.dayPeriods&&this.setExisting("a",!0):(this._value=sf(e),this.modifyExisting(!0)):(this._value=this.getDefaultDate(),this.modifyExisting(!1)),this.resetInvalidDate()},e.prototype.hasValue=function(){var e=this;return this.intl.splitDateFormat(this.format,this.localeId).reduce((function(t,n){return t||"literal"!==n.type&&"dayperiod"!==n.type&&e.getExisting(n.pattern[0])}),!1)},e.prototype.getValue=function(){for(var e=0;e<this.knownParts.length;e++)if(!this.getExisting(this.knownParts[e]))return null;return sf(this.value)},e.prototype.createDefaultDate=function(){return cf(2e3,0,31)},e.prototype.getDefaultDate=function(){return df(this.createDefaultDate())},e.prototype.getFormattedDate=function(e){return this.intl.formatDate(this.getValue(),e,this.localeId)},e.prototype.getTextAndFormat=function(e){void 0===e&&(e="");var t=e||this.format,n=this.intl.formatDate(this.value,t,this.localeId),o=this.dateFormatString(this.value,t);if(!this.autoCorrectParts&&this._partiallyInvalidDate.startDate){for(var r="",i=this.intl.formatDate(this.value,t,this.localeId),a=this.getFormattedInvalidDates(t),s=0;s<i.length;s++){var l=o.symbols[s];if("literal"===o.partMap[s].type)r+=n[s];else if(this.getInvalidDatePartValue(l)){var c=this.getPartsForSegment(o,s);if("M"===l){var d=(Uf(this.getInvalidDatePartValue(l))+1).toString();if(c.length>2)r+=a[l][s];else if(this.getInvalidDatePartValue(l))r+=Lf(c.length-d.length)+d,s+=c.length-1;else r+=a[l][s]}else if(this.getInvalidDatePartValue(l)){d=this.getInvalidDatePartValue(l).toString();r+=Lf(c.length-d.length)+d,s+=c.length-1}else r+=a[l][s]}else r+=n[s]}n=r}return this.merge(n,o)},e.prototype.getFormattedInvalidDates=function(e){var t=this;void 0===e&&(e="");var n=e||this.format,o={E:"",H:"",M:"",a:"",d:"",h:"",m:"",s:"",y:"",S:""};return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach((function(e){var r=t.getInvalidDatePart(e).date;if(r){var i=t.intl.formatDate(r,n,t.localeId);o[e]=i}})),o},e.prototype.modifyExisting=function(e){for(var t=this.dateFormatString(this.value,this.format).symbols,n=0;n<t.length;n++)this.setExisting(t[n],e)},e.prototype.getExisting=function(e){switch(e){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"t":case"a":return this.dayperiod;case"m":return this.minutes;case"s":return this.seconds;case"S":return this.milliseconds;default:return!0}},e.prototype.setExisting=function(e,t){switch(e){case"y":this.year=t,!1===t&&this._value.setFullYear(2e3);break;case"M":this.month=t,!1===t&&this.autoCorrectParts&&this._value.setMonth(0);break;case"d":this.date=t;break;case"h":case"H":this.hours=t;break;case"t":case"a":this.dayperiod=t;break;case"m":this.minutes=t;break;case"s":this.seconds=t;break;case"S":this.milliseconds=t}this.getValue()&&this.resetInvalidDate()},e.prototype.modifyPart=function(e,t){if(Vf(e)&&Vf(t)&&0!==t){var n,o=sf(this.value),r=!1,i="M"===e,a="d"===e||"E"===e,s=this.getExisting(e);if(this.autoCorrectParts||!a&&!i){var l=o.getHours();switch(e){case"y":o.setFullYear(o.getFullYear()+t);break;case"M":o=Af(this.value,t);break;case"d":case"E":o.setDate(o.getDate()+t);break;case"h":case"H":o.setHours(o.getHours()+t),r=!0;break;case"m":o.setMinutes(o.getMinutes()+t),r=!0;break;case"s":o.setSeconds(o.getSeconds()+t),r=!0;break;case"S":o.setMilliseconds(o.getMilliseconds()+t);break;case"a":this.toggleDayPeriod?o.setHours(l>=12?l-12:l+12):o.setHours(o.getHours()+12*t),r=!0}}else{var c=this._partiallyInvalidDate.invalidDateParts||{},d=this.getInvalidDatePartValue(e),u=c.y.value||o.getFullYear(),p=c.M.value||o.getMonth(),h=c.d.value||c.E.value||o.getDate(),f=c.h.value||c.H.value||o.getHours(),m=c.m.value||o.getMinutes(),g=c.s.value||o.getSeconds(),v=c.S.value||o.getMilliseconds();switch(e){case"y":u+=t;break;case"M":p+=t;break;case"d":case"E":h+=t}if("M"===e){if((p<0||p>11)&&s)return this.setExisting(e,!1),void this.resetInvalidDateSymbol(e);if(!s){if(p<0)p=Wf(p%11+1+11,0,11);else{var y=Vf(d)?p:(t-1)%12;p=Wf(y,0,11)}p=Wf(p,0,11)}p=Wf(p,0,11)}else if("d"===e)if(s){if(h<=0||h>31)return this.setExisting(e,!1),void this.resetInvalidDateSymbol(e)}else if(!s){if(Vf(d)&&(h<=0||h>31))return this.setExisting(e,!1),void this.resetInvalidDateSymbol(e);if(t<0){var x=Vf(d)?h:31-Math.abs(t%31)+1;h=Wf(x,1,31)}else{x=Vf(d)?h:t%31;h=Wf(x,1,31)}h=Wf(h,1,31)}var b=cf(u,p,h,f,m,g,v),w=i||a?this.modifyDateSymbolWithValue(o,e,i?p:h):null,k=Xf(b,u,p,h,f,m,g,v);this.getValue()&&Xf(b,u,p,h,f,m,g,v)?(o=sf(b),this.markDatePartsAsExisting()):i&&w?w.getMonth()===p?this.getExisting("d")?k?(o=sf(b),this.resetInvalidDateSymbol(e)):(n=!0,this.setInvalidDatePart(e,{value:p,date:sf(w),startDateOffset:t,startDate:sf(this.value)}),this.setExisting(e,!1)):k?(this.resetInvalidDateSymbol(e),o=sf(b),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(e),o=sf(w)):(n=!0,this.setInvalidDatePart(e,{value:p,date:sf(w),startDateOffset:t,startDate:sf(this.value)}),this.setExisting(e,!1)):a&&w&&(w.getDate()===h?this.getExisting("M")?k?(o=sf(b),this.resetInvalidDateSymbol(e)):(n=!0,this.setInvalidDatePart(e,{value:h,date:sf(w),startDateOffset:t,startDate:sf(this.value)}),this.setExisting(e,!1)):k?(o=sf(b),this.resetInvalidDateSymbol(e),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(e),o=sf(w)):(n=!0,this.setInvalidDatePart(e,{value:h,date:sf(this.value),startDateOffset:t,startDate:sf(this.value)}),this.setExisting(e,!1)))}this.shouldNormalizeCentury()&&(o=this.normalizeCentury(o)),r&&!this.cycleTime&&(o.getDate(),this._value.getDate()),n||(this.setExisting(e,!0),this._value=o,this.getValue()&&this.resetInvalidDate())}},e.prototype.parsePart=function(e){for(var t=e.symbol,n=e.currentChar,o=e.resetSegmentValue,r=e.cycleSegmentValue,i=e.rawTextValue,a=e.isDeleting,s=e.originalFormat,l=!r,c=this.dateFormatString(this.value,this.format),d=c.partMap.filter((function(e){return"literal"===e.type})).map((function(e,t){return{datePartIndex:t,type:e.type,pattern:e.pattern,literal:""}})),u=c.partMap.map((function(e){return{type:e.type,pattern:e.pattern,text:""}})),p=0;p<d.length;p++){for(var h=d[p],f=0;f<h.pattern.length;f++)d[p+f]&&(d[p+f].literal=h.pattern[f]);p+=h.pattern.length-1}for(p=0;p<u.length;p++){for(h=u[p],f=0;f<h.pattern.length;f++)u[p+f]&&(u[p+f].text=h.pattern[f]);p+=h.pattern.length-1}var m=l&&"M"===t&&c.partMap.filter((function(e){return"month"===e.type})).some((function(e){return e.pattern.length>2})),g={value:null,switchToNext:!1,resetPart:m,hasInvalidDatePart:!1};if(!n){if(!l)return this.resetLeadingZero(),this.setExisting(t,!1),this.resetInvalidDateSymbol(t),Kf(g,{value:null,switchToNext:!1});for(p=0;p<d.length;p++){var v=d[p].literal,y=i.startsWith(v),x=i.endsWith(v),b=i.indexOf(v+v)>=0;if(y||x||b)return this.resetLeadingZero(),this.setExisting(t,!1),this.resetInvalidDateSymbol(t),Kf(g,{value:null,switchToNext:!1})}}var w=this.intl.formatDate(this.value,this.format,this.localeId),k=c.symbols,C=!1,S="",I="",E="",_="",j="",A="",D="";for(p=0;p<u.length;p++)D+=u[p].text;var N=this.format===k||this.format===D||this.format===s||this.format.length===s.length,T=(N?D:s).indexOf(t),P=(N?D:s).lastIndexOf(t)-T+1,M=s.length-i.length;if(l||!l&&!this.autoCorrectParts){var O=0;for(p=0;p<w.length;p++)if(k[p]===t){var R=this.getExisting(t);if("y"===t)if(!this.hasInvalidDatePart()&&this.getExisting("y"))I+=w[p];else{var F=this.getInvalidDatePartValue(t);Vf(F)?(I+=(F||"").toString()[O]||"",O++):I+=R?w[p]:"0"}else I+=R?w[p]:"0";M>0?E.length+M<P&&(E+=i[p]||""):E+=i[p]||"",C=!0}else C?(A+=w[p],j+=w[p]):(S+=w[p],_+=w[p]);if(N&&(D.length<i.length?E+=n:!a&&(s.length,i.length),E.length>P))return Kf(g,{value:null,switchToNext:!1});if(!N||N&&!this.autoCorrectParts){I="",E="",S="",A="",C=!1;var L=0;for(p=0;p<s.length;p++)if(s[p]===t){R=this.getExisting(t);if("y"===t)if(!this.hasInvalidDatePart()&&this.getExisting("y"))I+=w[p];else{F=this.getInvalidDatePartValue(t);Vf(F)?(I+=(F||"").toString()[L]||"",L++):I+=R?w[p]:"0"}else I+=R?w[p]||"":"0";M>0?E.length+M<P&&(E+=i[p]||""):E+=i[p]||"",C=!0}else C?A+=i[p-M]||"":S+=i[p]||"";s.length<i.length&&(E+=n)}}if(!l)if(this.autoCorrectParts){I="",E="",S="",A="",C=!1;for(p=0;p<w.length;p++){if(k[p]===t)I+=(R=this.getExisting(t))?w[p]:"0",C=!0;else C?A+=w[p]:S+=w[p]}}else I=o?E:I;var z=null,B=this.matchMonth(n),V=this.matchDayPeriod(n,t),H="0"===n,q=this.leadingZero||{};H?("0"===E&&(E=I),0!==Uf(o?n:(l?E:I)+n)||this.isAbbrMonth(c.partMap,t)||"a"===t||this.incrementLeadingZero(t)):this.resetLeadingZero();var U=this.partPattern(c.partMap,t),G=U?U.pattern:null,W=this.patternLength(G)||G.length;if(l&&a&&!E)return this.setExisting(t,!1),Kf(g,{value:null,switchToNext:!1});var K=I.length-3,Y=!0,X=l?E:I;for(p=Math.max(0,K);p<=I.length&&Y;p++){X=o?n:l?E:I.substring(p)+n,this.autoSwitchParts&&"h"===t&&"12"===I.substring(p)&&(X=X.replace("12","0")),!l&&this.autoCorrectParts||(Y=!1,X=zf(X),X=Lf(W-X.length)+X);var Q=parseInt(X,10),J=S+X+A;(z=this.intl.parseDate(J,this.format,this.localeId))&&this.value&&c.partMap.every((function(e){return"year"!==e.type&&"month"!==e.type&&"day"!=e.type}))&&(z.setFullYear(this.value.getFullYear()),z.setMonth(this.value.getMonth()),z.setDate(this.value.getDate()));var Z=!1;l&&!Qf(z)&&this.autoCorrectParts&&(z=this.intl.parseDate(_+X+j,this.format,this.localeId),Z=!0);var $=!isNaN(parseInt(n,10))||l&&a&&""===n;if(!z&&!isNaN(Q)&&$&&this.autoCorrectParts){if("M"===t&&!B){var ee=Q-1;ee>-1&&ee<12&&((z=sf(this.value)).setMonth(ee),z.getMonth()!==ee&&(z=jf(Af(z,-1))))}"y"===t&&(z=cf(parseInt(X,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),(l&&Qf(z)||!l&&z)&&this.date&&z.getDate()!==this.value.getDate()&&(z=jf(Af(z,-1))))}if(l&&Qf(z)||!l&&z){var te=this.isPeekDateOverflowingDatePart({useBasePrefixAndSuffix:Z,middle:X,patternValue:G,basePrefix:_,baseSuffix:j,prefix:S,suffix:A,symbol:t,patternLength:W,leadingZero:q}),ne=te.switchToNext;return this.shouldNormalizeCentury()&&(z=this.normalizeCentury(z)),"H"===t&&z.getHours()>=12&&this.setExisting("a",!0),this._value=z,this.setExisting(t,!0),this.resetInvalidDateSymbol(t),this.autoCorrectParts||("M"===t?this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d")):"d"===t?this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M")):"y"===t&&this.markDatePartsAsExisting(),this.hasInvalidDatePart()||(this.markDatePartsAsExisting(),te.peekedDate||!te.switchToNext||this.autoCorrectParts||"M"===t||"d"===t&&30===te.parsedPeekedValue&&1===this.value.getMonth()&&(ne=!1))),Kf(g,{value:this.value,switchToNext:ne})}}if(B&&(z=this.intl.parseDate(S+B+A,this.format,this.localeId)))return this._value=z,this.setExisting(t,!0),Kf(g,{value:this.value,switchToNext:!1});if(V&&(z=this.intl.parseDate(S+V+A,this.format)||this.intl.parseDate(_+V+j,this.format)))return this._value=z,this.setExisting(t,!0),Kf(g,{value:this.value,switchToNext:!0});if(H&&"a"!==t&&this.setExisting(t,!1),!this.autoCorrectParts){var oe=void 0,re=l?E:X,ie=Uf(re);if(qf(ie)&&Gf(re)){if("d"===t&&(ie<=0||ie>31)||"M"===t&&(ie<=0||ie>11)){if(l)return Kf(g,{value:null,switchToNext:!1});ie=Uf(re=n)}if(!qf(ie)||!Gf(re))return Kf(g,{value:null,switchToNext:!1});oe="M"===t?ie-1:ie;var ae="y"===t,se="M"===t,le="d"===t,ce=sf(this._value),de=this._partiallyInvalidDate.invalidDateParts||{},ue=ae?oe:de.y.value||ce.getFullYear(),pe=se?oe:de.M.value||ce.getMonth(),he=le?oe:de.d.value||de.E.value||ce.getDate(),fe=de.h.value||de.H.value||ce.getHours(),me=de.m.value||ce.getMinutes(),ge=de.s.value||ce.getSeconds(),ve=de.S.value||ce.getMilliseconds(),ye=cf(ue,pe,he,fe,me,ge,ve),xe=Xf(ye,ue,pe,he,fe,me,ge,ve),be=ae||se||le?this.modifyDateSymbolWithValue(ce,t,ae?ue:se?pe:he):null,we=!1;if(se&&be?be.getMonth()===pe?this.getExisting("d")?xe?(ce=sf(ye),this.resetInvalidDateSymbol(t)):(we=!0,this.setInvalidDatePart(t,{value:pe,date:sf(be),startDate:sf(this.value)}),this.setExisting(t,!1)):xe?(this.resetInvalidDateSymbol(t),ce=sf(ye),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(t),ce=sf(be)):(we=!0,this.setInvalidDatePart(t,{value:pe,date:sf(be),startDate:sf(this.value)}),this.setExisting(t,!1)):le&&be?be.getDate()===he?this.getExisting("M")?xe?(ce=sf(ye),this.resetInvalidDateSymbol(t)):(we=!0,this.setInvalidDatePart(t,{value:he,date:sf(be),startDate:sf(this.value)}),this.setExisting(t,!1)):xe?(ce=sf(ye),this.resetInvalidDateSymbol(t),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(t),ce=sf(be)):(we=!0,this.setInvalidDatePart(t,{value:he,date:sf(this.value),startDate:sf(this.value)}),this.setExisting(t,!1)):ae&&be&&(be.getFullYear()===ue?this.getExisting("d")&&this.getExisting("M")?xe?(ce=sf(ye),this.resetInvalidDateSymbol(t)):(we=!0,this.setInvalidDatePart(t,{value:ue,date:sf(be),startDate:sf(this.value)}),this.setExisting(t,!1)):xe?(this.resetInvalidDateSymbol(t),ce=sf(ye),this.getExisting("M")&&this.getExisting("d")&&(this.setExisting("y",!0),this.resetInvalidDateSymbol("y"))):(this.resetInvalidDateSymbol(t),ce=sf(be)):(we=!0,this.setInvalidDatePart(t,{value:ue,date:sf(be),startDate:sf(this.value)}),this.setExisting(t,!1))),!we){if(this.setExisting(t,!0),l&&!Qf(z)){var ke=this.intl.parseDate(_+X+j,this.format,this.localeId);Qf(ke)&&(this._value=ke)}else this._value=ce;this.getValue()&&this.resetInvalidDate()}ne=!1;if("M"===t)ne=ie>=2||re.length>=2;else if(N)ne=this.isPeekDateOverflowingDatePart({useBasePrefixAndSuffix:!this.autoCorrectParts,middle:X,patternValue:G,basePrefix:_,baseSuffix:j,prefix:S,suffix:A,symbol:t,patternLength:W,leadingZero:q}).switchToNext;else ne=re.length>P;return Kf(g,{value:null,switchToNext:ne,hasInvalidDatePart:we})}}return Kf(g,{value:null,switchToNext:!1})},e.prototype.symbolMap=function(e){return this.intl.splitDateFormat(this.format,this.localeId).reduce(Bf,{})[e]},e.prototype.resetLeadingZero=function(){var e=null!==this.leadingZero;return this.setLeadingZero(null),e},e.prototype.setLeadingZero=function(e){this.leadingZero=e},e.prototype.getLeadingZero=function(){return this.leadingZero||{}},e.prototype.normalizeCentury=function(e){if(!Vf(e))return e;var t=function(e){return!Vf(e)||isNaN(e.getTime())?0:Number(e.getFullYear().toString().slice(-2))}(e),n=this.getNormalizedCenturyBase(t);return Yf(e,n+t)},e.prototype.incrementLeadingZero=function(e){var t=this.leadingZero||{};t[e]=(t[e]||0)+1,this.leadingZero=t},e.prototype.isAbbrMonth=function(e,t){var n=this.partPattern(e,t);return"month"===n.type&&n.names},e.prototype.partPattern=function(e,t){return e.filter((function(e){return-1!==e.pattern.indexOf(t)}))[0]},e.prototype.peek=function(e,t){var n=e.replace(/^0*/,"")+"0";return Lf(t.length-n.length)+n},e.prototype.matchMonth=function(e){if(this.typedMonthPart+=e.toLowerCase(),0===this.monthNames.length)return"";for(;this.typedMonthPart.length>0;){for(var t=0;t<this.monthNames.length;t++)if(0===this.monthNames[t].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[t];var n=parseInt(this.typedMonthPart,10);if(n>=1&&n<=12&&n.toString()===this.typedMonthPart)return this.monthNames[n-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""},e.prototype.matchDayPeriod=function(e,t){var n=e.toLowerCase();if("a"===t&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(n))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(n))return this.dayPeriods.pm}return""},e.prototype.allFormattedMonths=function(e){void 0===e&&(e="en");for(var t=this.intl.splitDateFormat(this.format,this.localeId),n=0;n<t.length;n++)if("month"===t[n].type&&t[n].names)return this.intl.dateFormatNames(e,t[n].names);return[]},e.prototype.allDayPeriods=function(e){void 0===e&&(e="en");for(var t=this.intl.splitDateFormat(this.format),n=0;n<t.length;n++)if("dayperiod"===t[n].type&&t[n].names)return this.intl.dateFormatNames(e,t[n].names);return null},e.prototype.patternLength=function(e){return"y"===e[0]?4:Jf.test(e)?2:0},e.prototype.dateFormatString=function(e,t){for(var n=this.intl.splitDateFormat(t,this.localeId),o=[],r=[],i=0;i<n.length;i++)for(var a=this.intl.formatDate(e,{pattern:n[i].pattern},this.localeId).length;a>0;)o.push(this.symbols[n[i].pattern[0]]||Nf),r.push(n[i]),a--;var s=new Df;return s.symbols=o.join(""),s.partMap=r,s},e.prototype.merge=function(e,t){for(var n="",o="",r=t.symbols,i=!1,a=0,s=this.getFormattedInvalidDates(r),l=r.length-1;l>=0;l--){var c=this.getPartsForSegment(t,l);if(-1===this.knownParts.indexOf(r[l])||this.getExisting(r[l]))this.autoCorrectParts?n=e[l]+n:e.length!==r.length?i?n=e[l]+n:a>0?(n=e[l]+n,--a<=0&&(i=!0)):n=(e[l+e.length-r.length]||"")+n:n=e[l]+n,o=r[l]+o;else{var d=r[l],u=0;if(this.autoCorrectParts||!this.autoCorrectParts&&!this.getInvalidDatePartValue(d)){for(;l>=0&&d===r[l];)l--;l++}if(this.leadingZero&&this.leadingZero[d])n="0"+n;else if(!this.autoCorrectParts&&this.getInvalidDatePartValue(d)){var p=this.getInvalidDatePartValue(d).toString();if("M"===d)if(p=(Uf(this.getInvalidDatePartValue(d))+1).toString(),c.length>2)n=s[d][l]+n;else p=(Uf(this.getInvalidDatePartValue(d))+1).toString(),n=Lf(c.length-p.length)+p+n,u=c.length-1,a=p.length-c.length;else n=Lf(c.length-p.length)+p+n,u=c.length-1,a=p.length-c.length}else n=this.dateFieldName(t.partMap[l])+n;for(;o.length<n.length;)o=r[l]+o;0!==u&&(l=l-u+(e.length-r.length))}}return{text:n,format:o}},e.prototype.dateFieldName=function(e){var t=this.formatPlaceholder||"wide";return t[e.type]?t[e.type]:"formatPattern"===t?e.pattern:this.intl.dateFieldName(Object.assign(e,{nameType:t}))},e.prototype.getNormalizedCenturyBase=function(e){return e>this.twoDigitYearMax?1900:2e3},e.prototype.shouldNormalizeCentury=function(){return this.intl.splitDateFormat(this.format).some((function(e){return"yy"===e.pattern}))},e.prototype.resetInvalidDate=function(){var e=this;this._partiallyInvalidDate.startDate=null,Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach((function(t){e.resetInvalidDatePart(t)}))},e.prototype.resetInvalidDateSymbol=function(e){var t=this;this.resetInvalidDatePart(e);var n=!0;Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach((function(e){t._partiallyInvalidDate.invalidDateParts[e]&&Vf(t._partiallyInvalidDate.invalidDateParts[e].value)&&(n=!1)})),n&&this.resetInvalidDate()},e.prototype.resetInvalidDatePart=function(e){this._partiallyInvalidDate.invalidDateParts[e]&&(this._partiallyInvalidDate.invalidDateParts[e]={value:null,date:null,startDateOffset:0})},e.prototype.getInvalidDatePart=function(e){return this._partiallyInvalidDate.invalidDateParts[e]||{}},e.prototype.getInvalidDatePartValue=function(e){return(this._partiallyInvalidDate.invalidDateParts[e]||{}).value},e.prototype.setInvalidDatePart=function(e,t){var n=t.value,o=void 0===n?null:n,r=t.date,i=void 0===r?null:r,a=t.startDateOffset,s=void 0===a?0:a,l=t.startDate,c=void 0===l?null:l;this._partiallyInvalidDate.invalidDateParts[e]&&(this._partiallyInvalidDate.invalidDateParts[e].value=o,this._partiallyInvalidDate.invalidDateParts[e].date=i,this._partiallyInvalidDate.invalidDateParts[e].startDateOffset=s,this._partiallyInvalidDate.startDate=c)},e.prototype.hasInvalidDatePart=function(){var e=this,t=!1;return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach((function(n){e._partiallyInvalidDate.invalidDateParts[n]&&Vf(e._partiallyInvalidDate.invalidDateParts[n].value)&&(t=!0)})),t},e.prototype.modifyDateSymbolWithOffset=function(e,t,n){var o=sf(e),r=!1;switch(t){case"y":o.setFullYear(o.getFullYear()+n);break;case"M":o=Af(this.value,n);break;case"d":case"E":o.setDate(o.getDate()+n);break;case"h":case"H":o.setHours(o.getHours()+n),r=!0;break;case"m":o.setMinutes(o.getMinutes()+n),r=!0;break;case"s":o.setSeconds(o.getSeconds()+n),r=!0;break;case"S":o.setMilliseconds(o.getMilliseconds()+n);break;case"a":o.setHours(o.getHours()+12*n),r=!0}return{date:o,timeModified:r}},e.prototype.modifyDateSymbolWithValue=function(e,t,n){var o=sf(e);switch(t){case"y":o.setFullYear(n);break;case"M":o=Af(e,n-e.getMonth());break;case"d":case"E":o.setDate(n);break;case"h":case"H":case"a":o.setHours(n);break;case"m":o.setMinutes(n);break;case"s":o.setSeconds(n);break;case"S":o.setMilliseconds(n)}return o},e.prototype.markDatePartsAsExisting=function(){this.modifyExisting(!0)},e.prototype.getPartsForSegment=function(e,t){for(var n=e.partMap[t],o=[],r=t;r<e.partMap.length;r++){var i=e.partMap[r];if(n.type!==i.type||n.pattern!==i.pattern)break;o.push(i)}for(r=t-1;r>=0;r--){i=e.partMap[r];if(n.type!==i.type||n.pattern!==i.pattern)break;o.unshift(i)}return o},e.prototype.isPeekDateOverflowingDatePart=function(e){var t=e.useBasePrefixAndSuffix,n=e.middle,o=e.patternValue,r=e.basePrefix,i=e.baseSuffix,a=e.prefix,s=e.suffix,l=e.symbol,c=e.patternLength,d=e.leadingZero,u=this.peek(n,o),p=t?"".concat(r).concat(u).concat(i):"".concat(a).concat(u).concat(s),h=this.intl.parseDate(p,this.format,this.localeId),f=((this.leadingZero||{})[l]||0)+zf(n).length>=c;return{peekedDate:h,peekedDateString:p,peekedValue:u,parsedPeekedValue:Uf(u),switchToNext:null===h||(d[l]?o.length<=n.length:f)}},e}(),$f=8,em=46,tm=9,nm=13,om=37,rm=38,im=39,am=40,sm=35,lm=36,cm={events:{}},dm=function(){function e(e){this.options=Kf({},cm,e)}return e.prototype.destroy=function(){this.options={}},e.prototype.trigger=function(e,t){void 0===t&&(t={});var n={defaultPrevented:!1,preventDefault:function(){n.defaultPrevented=!0}};return"function"===typeof this.options.events[e]&&(this.options.events[e](Kf(n,t,{sender:this})),n.defaultPrevented)},e}();!function(e){e.None="none",e.Caret="caret",e.Selection="selection"}(If||(If={}));var um="dragStart",pm="drop",hm="touchstart",fm="mousedown",mm="mouseup",gm="click",vm="input",ym="keydown",xm="focus",bm="blur",wm="paste",km="DOMMouseScroll",Cm="mousewheel",Sm="valueChange",Im="inputEnd",Em="blurEnd",_m="focusEnd",jm="change",Am={format:"d",hasPlaceholder:!1,placeholder:null,cycleTime:!0,locale:null,steps:{millisecond:1,second:1,minute:1,hour:1,day:1,month:1,year:1},formatPlaceholder:null,events:(Ef={},Ef[Sm]=null,Ef[vm]=null,Ef[Im]=null,Ef[xm]=null,Ef[_m]=null,Ef[bm]=null,Ef[Em]=null,Ef[ym]=null,Ef[Cm]=null,Ef[jm]=null,Ef),selectNearestSegmentOnFocus:!1,selectPreviousSegmentOnBackspace:!1,enableMouseWheel:!1,allowCaretMode:!1,autoSwitchParts:!0,autoSwitchKeys:[],twoDigitYearMax:Tf,autoCorrectParts:!0,autoFill:!1,toggleDayPeriod:!1},Dm=function(e){function t(t,n){var o=e.call(this,n)||this;return o.dateObject=null,o.currentText="",o.currentFormat="",o.interactionMode=If.None,o.previousElementSelection={start:0,end:0},o.init(t,n),o}return wf(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.dateObject&&this.dateObject.getValue()},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t){var n=Qf(this.options.value)?sf(this.options.value):new Date(t.formattedValue);Qf(n)||(n=null),this.element=e,this.options=Kf({},Am,t,{steps:kf(kf({},Am.steps),t.steps)}),this.intl=this.options.intlService,this.dateObject=this.createDateObject(),this.dateObject.setValue(n),this.setTextAndFormat(),this.bindEvents(),this.resetSegmentValue=!0,this.interactionMode=If.None,this.forceUpdate()},t.prototype.destroy=function(){this.unbindEvents(),this.dateObject=null,e.prototype.destroy.call(this)},t.prototype.bindEvents=function(){this.onElementDragStart=this.onElementDragStart.bind(this),this.element.addEventListener(um,this.onElementDragStart),this.onElementDrop=this.onElementDrop.bind(this),this.element.addEventListener(pm,this.onElementDrop),this.onElementClick=this.onElementClick.bind(this),this.element.addEventListener(gm,this.onElementClick),this.onElementMouseDown=this.onElementMouseDown.bind(this),this.element.addEventListener(fm,this.onElementMouseDown),this.element.addEventListener(hm,this.onElementMouseDown),this.onElementMouseUp=this.onElementMouseUp.bind(this),this.element.addEventListener(mm,this.onElementMouseUp),this.onElementInput=this.onElementInput.bind(this),this.element.addEventListener(vm,this.onElementInput),this.onElementKeyDown=this.onElementKeyDown.bind(this),this.element.addEventListener(ym,this.onElementKeyDown),this.onElementFocus=this.onElementFocus.bind(this),this.element.addEventListener(xm,this.onElementFocus),this.onElementBlur=this.onElementBlur.bind(this),this.element.addEventListener(bm,this.onElementBlur),this.onElementChange=this.onElementChange.bind(this),this.element.addEventListener(jm,this.onElementChange),this.onElementPaste=this.onElementPaste.bind(this),this.element.addEventListener(wm,this.onElementPaste),this.onElementMouseWheel=this.onElementMouseWheel.bind(this),this.element.addEventListener(km,this.onElementMouseWheel),this.element.addEventListener(Cm,this.onElementMouseWheel)},t.prototype.unbindEvents=function(){this.element.removeEventListener(um,this.onElementDragStart),this.element.removeEventListener(pm,this.onElementDrop),this.element.removeEventListener(hm,this.onElementMouseDown),this.element.removeEventListener(fm,this.onElementMouseDown),this.element.removeEventListener(mm,this.onElementMouseUp),this.element.removeEventListener(gm,this.onElementClick),this.element.removeEventListener(vm,this.onElementInput),this.element.removeEventListener(ym,this.onElementKeyDown),this.element.removeEventListener(xm,this.onElementFocus),this.element.removeEventListener(bm,this.onElementBlur),this.element.removeEventListener(jm,this.onElementChange),this.element.removeEventListener(wm,this.onElementPaste),this.element.removeEventListener(km,this.onElementMouseWheel),this.element.removeEventListener(Cm,this.onElementMouseWheel)},t.prototype.setOptions=function(e,t){void 0===t&&(t=!1),this.options=Kf({},this.options,e,{steps:kf(kf({},Am.steps),e.steps)}),this.setDateObjectOptions(),t&&(this.unbindEvents(),this.init(this.element,this.options))},t.prototype.setDateObjectOptions=function(){if(this.dateObject){var e=this.getDateObjectOptions();this.dateObject.setOptions(e)}},t.prototype.resetLocale=function(){this.unbindEvents(),this.init(this.element,this.options)},t.prototype.isInCaretMode=function(){return this.interactionMode===If.Caret},t.prototype.focus=function(){this.element.focus(),this.options.selectNearestSegmentOnFocus&&this.selectNearestSegment(0)},t.prototype.onElementDragStart=function(e){e.preventDefault()},t.prototype.onElementDrop=function(e){e.preventDefault()},t.prototype.onElementMouseDown=function(){this.mouseDownStarted=!0,this.focusedPriorToMouseDown=this.isActive},t.prototype.onElementMouseUp=function(e){this.mouseDownStarted=!1,e.preventDefault()},t.prototype.onElementClick=function(e){this.mouseDownStarted=!1,this.switchedPartOnPreviousKeyAction=!1;var t=this.selection;if(this.isInCaretMode()&&this.forceUpdate(),3===e.detail);else if(this.isActive&&this.options.selectNearestSegmentOnFocus){var n=this.element.selectionStart!==this.element.selectionEnd,o=Vf(this.options.placeholder)&&!this.dateObject.hasValue()&&!this.focusedPriorToMouseDown,r=!n&&o?0:this.caret()[0];this.selectNearestSegment(r)}else this.setSelection(this.selectionByIndex(t.start))},t.prototype.onElementInput=function(e){this.triggerInput({event:e});var t=this.elementValue;if(this.element&&this.dateObject){var n=this.switchedPartOnPreviousKeyAction;if(this.isPasteInProgress)return this.options.allowCaretMode&&(this.resetSegmentValue=!1),this.updateOnPaste(e),void(this.isPasteInProgress=!1);var o=this.keyDownEvent||{},r=o.keyCode===$f||o.key===Rf,i=o.keyCode===em||o.key===Of,a=this.interactionMode;!this.options.allowCaretMode||a===If.Caret||i||r||(this.resetSegmentValue=!0),this.options.allowCaretMode?this.interactionMode=If.Caret:this.interactionMode=If.Selection;var s=this.isInCaretMode();if(s&&this.keyDownEvent.key===Ff)this.restorePreviousInputEventState();else{var l=this.dateObject&&this.dateObject.getValue(),c=this.dateObject?this.dateObject.value:null,d=this.dateObject.getTextAndFormat(),u=d.text,p=d.format;this.currentFormat=p;var h=function(e){var t=e.oldText,n=e.newText,o=e.formatPattern,r=e.selectionStart,i=e.isInCaretMode,a=e.keyEvent,s=r+t.length-n.length,l=t[s],c=t.substring(0,s),d=n.substring(0,r),u=[];if(c===d&&r>0)return u.push([o[r-1],d[r-1]]),u;if(0===c.indexOf(d)&&i&&(a.key===Of||a.key===Rf)||0===c.indexOf(d)&&!i&&(0===d.length||o[d.length-1]!==o[d.length])){var p="";i||1!==d.length||u.push([o[0],d[0]]);for(var h=d.length;h<c.length;h++)o[h]!==p&&o[h]!==Nf&&(p=o[h],u.push([p,""]));return u}if(i&&(0===d.indexOf(c)||o[r-1]===Nf)||!i&&(0===d.indexOf(c)||o[r-1]===Nf)){var f=o[0];for(h=Math.max(0,c.length-1);h<o.length;h++)if(o[h]!==Nf){f=o[h];break}return[[f,d[r-1]]]}return" "===d[d.length-1]||d[d.length-1]===l&&"_"===o[s]?[[o[r-1],Nf]]:[[o[r-1],d[r-1]]]}({oldText:s&&(r||i||a===If.Caret)?this.previousElementValue:u,newText:this.elementValue,formatPattern:this.currentFormat,selectionStart:this.selection.start,isInCaretMode:s,keyEvent:this.keyDownEvent});if(h&&h.length&&h[0]&&h[0][1]!==Nf&&(this.switchedPartOnPreviousKeyAction=!1),!s||h&&0!==h.length){if(s&&1===h.length){if(!h[0]||!h[0][0])return void this.restorePreviousInputEventState();if(s&&h[0]&&(h[0][0]===Nf||h[0][1]===Nf))return void this.restorePreviousInputEventState()}var f=1===h.length&&h[0][1]===Nf,m=[],g=!1,v=null;if(!f)for(var y=0;y<h.length;y++){var x=this.dateObject.parsePart({symbol:h[y][0],currentChar:h[y][1],resetSegmentValue:this.resetSegmentValue,cycleSegmentValue:!this.isInCaretMode(),rawTextValue:this.element.value,isDeleting:r||i,originalFormat:this.currentFormat});m.push(x),x.value||(v={type:"parse"}),g=x.switchToNext}this.options.autoSwitchParts||(g=!1),this.resetSegmentValue=!1;var b,w=this.options.format===this.currentFormat||Vf(this.options.format)&&this.options.format.length>1,k=m[m.length-1],C=k&&!Vf(k.value),S=s&&(r||i)&&C,I=!!k&&k.resetPart,E=this.dateObject.getValue(),_=!pf(l,E),j=this.dateObject.value,A=this.selection;if(s){var D=h&&h.length>0?h[0][0]:null,N=this.dateObject.getLeadingZero()[D];h.length&&h[0][0]!==Nf?g?(this.forceUpdateWithSelection(),this.switchDateSegment(1)):I?(b=this.currentFormat[A.start])?(this.forceUpdate(),this.setSelection(this.selectionBySymbol(b))):this.restorePreviousInputEventState():S?(this.forceUpdate(),h.length&&h[0][0]!==Nf&&this.setSelection(this.selectionBySymbol(h[0][0]))):C?"0"===e.data&&N||(Vf(l)&&!Vf(E)?this.restorePreviousInputEventState():!Vf(l)&&Vf(E)?this.forceUpdateWithSelection():Vf(l)&&Vf(E)?_?this.forceUpdateWithSelection():this.restorePreviousInputEventState():Vf(l)||Vf(E)?c!==j||this.restorePreviousInputEventState():this.forceUpdateWithSelection()):C||w||this.forceUpdateWithSelection():(this.options.autoSwitchParts||h[0][1]!==Nf)&&this.setSelection(this.selectionBySymbol(h[0][0]))}else s||(this.forceUpdate(),h.length&&h[0][0]!==Nf&&this.setSelection(this.selectionBySymbol(h[0][0])),this.options.autoSwitchParts?f?(this.resetSegmentValue=!0,n||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):g&&(this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):k&&k.switchToNext?this.resetSegmentValue=!0:f&&(this.resetSegmentValue=!0,n||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0),r&&this.options.selectPreviousSegmentOnBackspace&&this.switchDateSegment(-1));this.tryTriggerValueChange({oldValue:l,event:e}),this.triggerInputEnd({event:e,error:v,oldElementValue:t,newElementValue:this.elementValue}),s&&this.setTextAndFormat()}else this.restorePreviousInputEventState()}}},t.prototype.onElementFocus=function(e){this.triggerFocus({event:e})||(this.isActive=!0,this.interactionMode=If.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.mouseDownStarted||this.caret(0,this.elementValue.length),this.mouseDownStarted=!1,this.triggerFocusEnd({event:e}))},t.prototype.onElementBlur=function(e){this.resetSegmentValue=!0,this.isActive=!1,this.triggerBlur({event:e})||(this.options.autoFill&&this.autoFill(),this.interactionMode=If.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.triggerBlurEnd({event:e}))},t.prototype.onElementChange=function(e){this.triggerChange({event:e})},t.prototype.onElementKeyDown=function(e){if(!this.triggerKeyDown({event:e})){var t=this.selection,n=t.start,o=t.end,r=e;if(this.keyDownEvent=e,this.previousElementValue=this.element.value,this.previousElementSelection={start:n,end:o},this.keyEventMatchesAutoSwitchKeys(e)){var i=e.keyCode===tm;if(!i)return e.preventDefault(),void this.switchDateSegment(1);var a=this.selection,s=a.start,l=a.end;if(e.shiftKey&&i?this.switchDateSegment(-1):this.switchDateSegment(1),s!==this.selection.start||l!==this.selection.end)return void e.preventDefault()}var c=this.currentFormat[this.selection.start],d=this.getStepFromSymbol(c),u=!1,p=this.elementValue;if(!(e.altKey||e.ctrlKey||e.metaKey||e.keyCode===tm)){switch(e.keyCode){case om:this.switchDateSegment(-1),u=!0,this.switchedPartOnPreviousKeyAction=!1;break;case rm:this.modifyDateSegmentValue(d,c,r),p!==this.elementValue&&this.triggerInputEnd({event:e,error:null,newElementValue:this.elementValue,oldElementValue:p}),u=!0,this.switchedPartOnPreviousKeyAction=!1;break;case im:this.switchDateSegment(1),u=!0,this.switchedPartOnPreviousKeyAction=!1;break;case am:this.modifyDateSegmentValue(-d,c,r),p!==this.elementValue&&this.triggerInputEnd({event:e,error:null,newElementValue:this.elementValue,oldElementValue:p}),u=!0,this.switchedPartOnPreviousKeyAction=!1;break;case nm:break;case lm:this.selectNearestSegment(0),u=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;case sm:this.selectNearestSegment(this.elementValue.length),u=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;default:return}u&&e.preventDefault()}}},t.prototype.onElementPaste=function(){this.isPasteInProgress=!0},t.prototype.onElementMouseWheel=function(e){var t=this.elementValue;if(this.options.enableMouseWheel&&!this.triggerMouseWheel({event:e})&&this.isActive){var n=e;n.shiftKey?this.switchDateSegment((n.wheelDelta||-n.detail)>0?-1:1):this.modifyDateSegmentValue((n.wheelDelta||-n.detail)>0?1:-1),n.returnValue=!1,n.preventDefault&&n.preventDefault(),t!==this.elementValue&&this.triggerInputEnd({event:e,error:null,newElementValue:this.elementValue,oldElementValue:t})}},t.prototype.updateOnPaste=function(e){var t=this.intl.parseDate(this.elementValue,this.inputFormat)||this.value;Vf(t)&&this.dateObject.shouldNormalizeCentury()&&(t=this.dateObject.normalizeCentury(t));var n=this.dateObject&&this.dateObject.getValue();this.writeValue(t),this.tryTriggerValueChange({oldValue:n,event:e})},Object.defineProperty(t.prototype,"elementValue",{get:function(){return(this.element||{}).value||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputFormat",{get:function(){return this.options.format?"string"===typeof this.options.format?this.options.format:this.options.format.inputFormat:Pf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayFormat",{get:function(){return this.options.format?"string"===typeof this.options.format?this.options.format:this.options.format.displayFormat:Pf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){var e={start:0,end:0};return null!==this.element&&void 0!==this.element.selectionStart&&(e={start:this.element.selectionStart,end:this.element.selectionEnd}),e},enumerable:!1,configurable:!0}),t.prototype.setSelection=function(e){this.element&&document.activeElement===this.element&&(this.element.setSelectionRange(e.start,e.end),Hf()&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/Macintosh/i.test(navigator.userAgent))&&this.element.scrollIntoView({block:"nearest",inline:"nearest"}),e.start!==e.end&&(this.interactionMode=If.Selection))},t.prototype.selectionBySymbol=function(e){for(var t=-1,n=0,o=0;o<this.currentFormat.length;o++)this.currentFormat[o]===e&&(n=o+1,-1===t&&(t=o));return t<0&&(t=0),this.options.autoCorrectParts||this.currentFormat.length===this.currentText.length||(this.currentFormat.length<this.currentText.length?n+=this.currentText.length-this.currentFormat.length:n=Math.max(0,n-(this.currentFormat.length-this.currentText.length))),{start:t,end:n}},t.prototype.selectionByIndex=function(e){for(var t={start:e,end:e},n=e,o=e-1;n<this.currentFormat.length||o>=0;n++,o--){if(n<this.currentFormat.length&&this.currentFormat[n]!==Nf){t=this.selectionBySymbol(this.currentFormat[n]);break}if(o>=0&&this.currentFormat[o]!==Nf){t=this.selectionBySymbol(this.currentFormat[o]);break}}return t},t.prototype.switchDateSegment=function(e){var t=this.selection;if(this.isInCaretMode()){var n=t.start,o=this.currentFormat[n-1],r="",i="";if(e<0){for(var a=n+e;a>=0;a--)if((i=this.currentFormat[a])!==Nf&&i!==o){n=a,r=i;break}}else for(a=n+e;a<this.currentFormat.length;a++)if((i=this.currentFormat[a])!==Nf&&i!==o){n=a,r=i;break}if(r)return this.forceUpdate(),this.setSelection(this.selectionBySymbol(r)),void(this.interactionMode=If.Selection)}this.interactionMode=If.None;var s=this.selection,l=s.start,c=s.end;if(l<c&&this.currentFormat[l]!==this.currentFormat[c-1])return this.setSelection(this.selectionByIndex(e>0?l:c-1)),this.resetSegmentValue=!0,void(this.interactionMode=If.None);for(var d=this.currentFormat[l],u=l+e;u>0&&u<this.currentFormat.length&&(this.currentFormat[u]===d||this.currentFormat[u]===Nf);)u+=e;if(this.currentFormat[u]!==Nf){for(var p=u;p>=0&&p<this.currentFormat.length&&this.currentFormat[p]===this.currentFormat[u];)p+=e;u>p&&(p+1!==l||u+1!==c)?(this.setSelection({start:p+1,end:u+1}),this.resetSegmentValue=!0):u<p&&(u!==l||p!==c)&&(this.setSelection({start:u,end:p}),this.resetSegmentValue=!0),this.interactionMode=If.None}},t.prototype.modifyDateSegmentValue=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n={}),this.dateObject&&!this.options.readonly){var o,r=this.value,i=1,a=this.caret();if("S"===(t=t||this.currentFormat[a[0]])&&(!this.options.steps.millisecond||1===this.options.steps.millisecond)){var s=function(e){var t=e&&e.match(/S+(\1)/);return t?t[0].length:0}(this.inputFormat);o=s,i=Math.pow(10,3-o)}this.dateObject.modifyPart(t,i*e),this.tryTriggerValueChange({oldValue:r,event:n}),this.forceUpdate(),this.setSelection(this.selectionBySymbol(t))}},t.prototype.tryTriggerValueChange=function(e){if(void 0===e&&(e={oldValue:null,event:{}}),!pf(this.value,e.oldValue))return this.triggerValueChange(e)},t.prototype.triggerValueChange=function(e){return void 0===e&&(e={oldValue:null,event:{}}),this.trigger(Sm,Kf(e,{value:this.value}))},t.prototype.triggerInput=function(e){return void 0===e&&(e={event:{}}),this.trigger(vm,Kf(e,{value:this.value}))},t.prototype.triggerInputEnd=function(e){return void 0===e&&(e={event:{},error:null,oldElementValue:"",newElementValue:""}),this.trigger(Im,Kf(e,{value:this.value}))},t.prototype.triggerFocus=function(e){return void 0===e&&(e={event:{}}),this.trigger(xm,Kf({},e))},t.prototype.triggerFocusEnd=function(e){return void 0===e&&(e={event:{}}),this.trigger(_m,Kf({},e))},t.prototype.triggerBlur=function(e){return void 0===e&&(e={event:{}}),this.trigger(bm,Kf({},e))},t.prototype.triggerBlurEnd=function(e){return void 0===e&&(e={event:{}}),this.trigger(Em,Kf({},e))},t.prototype.triggerChange=function(e){return void 0===e&&(e={event:{}}),this.trigger(jm,Kf(e,{value:this.value}))},t.prototype.triggerKeyDown=function(e){return void 0===e&&(e={event:{}}),this.trigger(ym,Kf({},e))},t.prototype.triggerMouseWheel=function(e){return void 0===e&&(e={event:{}}),this.trigger(Cm,Kf({},e))},t.prototype.forceUpdate=function(){this.setTextAndFormat(),this.refreshElementValue()},t.prototype.forceUpdateWithSelection=function(){var e=this.selection,t=e.start,n=e.end,o=this.elementValue.length;this.forceUpdate();var r=this.elementValue.length-o;this.setSelection({start:t+r,end:n+r})},t.prototype.setTextAndFormat=function(){var e=this.dateObject.getTextAndFormat(),t=e.text,n=e.format;this.currentFormat=n,this.currentText=t},t.prototype.setElementValue=function(e){this.element.value=e},t.prototype.getStepFromSymbol=function(e){switch(e){case"S":return Number(this.options.steps.millisecond);case"s":return Number(this.options.steps.second);case"m":return Number(this.options.steps.minute);case"h":case"H":return Number(this.options.steps.hour);case"M":return Number(this.options.steps.month);case"d":case"E":return Number(this.options.steps.day);case"y":return Number(this.options.steps.year);default:return 1}},t.prototype.restorePreviousInputEventState=function(){this.restorePreviousElementValue(),this.restorePreviousElementSelection()},t.prototype.restorePreviousElementValue=function(){this.setElementValue(this.previousElementValue||"")},t.prototype.restorePreviousElementSelection=function(){var e=this.previousElementSelection,t=e.start,n=e.end;this.setSelection({start:t||0,end:n||0})},t.prototype.writeValue=function(e){this.verifyValue(e),this.dateObject=this.getDateObject(e),this.refreshElementValue()},t.prototype.verifyValue=function(e){if(e&&!Qf(e))throw new Error("The 'value' should be a valid JavaScript Date instance.")},t.prototype.refreshElementValue=function(){var e=this.element,t=this.isActive?this.inputFormat:this.displayFormat,n=this.dateObject.getTextAndFormat(t),o=n.text,r=n.format;this.currentFormat=r,this.currentText=o;var i=this.options.hasPlaceholder||Vf(this.options.placeholder),a=!this.isActive&&i&&!this.dateObject.hasValue();i&&Vf(this.options.placeholder)&&(e.placeholder=this.options.placeholder);var s=a?"":o;this.previousElementValue=this.elementValue,this.setElementValue(s)},t.prototype.caret=function(e,t){void 0===t&&(t=e);var n=void 0!==e,o=[e,e],r=this.element;if(!n||!this.options.disabled&&!this.options.readonly){try{void 0!==r.selectionStart&&(n&&(Hf()&&document.activeElement!==r&&r.focus(),r.setSelectionRange(e,t)),o=[r.selectionStart,r.selectionEnd])}catch(co){o=[]}return o}},t.prototype.selectNearestSegment=function(e){for(var t=e,n=e-1;t<this.currentFormat.length||n>=0;t++,n--){if(t<this.currentFormat.length&&"_"!==this.currentFormat[t])return void this.selectDateSegment(this.currentFormat[t]);if(n>=0&&"_"!==this.currentFormat[n])return void this.selectDateSegment(this.currentFormat[n])}},t.prototype.selectDateSegment=function(e){for(var t=-1,n=0,o=0;o<this.currentFormat.length;o++)this.currentFormat[o]===e&&(n=o+1,-1===t&&(t=o));t<0&&(t=0),this.caret(0,0),this.caret(t,n)},t.prototype.getDateObject=function(e){var t=(this.dateObject||{}||null).leadingZero;this.options.value=e;var n=this.createDateObject();return n.setLeadingZero(this.isActive?t:null),n},t.prototype.createDateObject=function(){var e=this.getDateObjectOptions();return new Zf(Kf({},e))},t.prototype.getDateObjectOptions=function(){return{intlService:this.options.intlService,formatPlaceholder:this.options.formatPlaceholder?this.options.formatPlaceholder:"formatPattern",format:this.inputFormat,cycleTime:this.options.cycleTime,twoDigitYearMax:this.options.twoDigitYearMax,autoCorrectParts:this.options.autoCorrectParts,value:this.options.value,toggleDayPeriod:this.options.toggleDayPeriod,autoSwitchParts:this.options.autoSwitchParts}},t.prototype.keyEventMatchesAutoSwitchKeys=function(e){var t=(this.options.autoSwitchKeys||[]).map((function(e){return e.toString().toLowerCase().trim()}));return t.indexOf(e.keyCode.toString())>=0||t.indexOf(e.keyCode)>=0||t.indexOf(e.key.toLowerCase().trim())>=0},t.prototype.autoFill=function(){var e,t,n,o,r,i,a=this.dateObject,s=new Date;(a.date||a.month||a.year||a.hours||a.minutes||a.seconds)&&(n=a.year?a.value.getFullYear():s.getFullYear(),t=a.month?a.value.getMonth():s.getMonth(),e=a.date?a.value.getDate():s.getDate(),o=a.hours?a.value.getHours():s.getHours(),r=a.minutes?a.value.getMinutes():s.getMinutes(),i=a.seconds?a.value.getSeconds():s.getSeconds(),a.setValue(new Date(n,t,e,o,r,i)),this.refreshElementValue(),this.triggerValueChange())},t}(dm);const Nm={start:null,end:null};function Tm(e){const t=function(t,n,o){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];return null===n[o]?null:(t?e.isRequired:e)(n,o,...i)},n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}const Pm=(e,t,n)=>void 0===t||void 0===n||t<=e&&e<=n?e:e<t?t:n,Mm=new Date(1980,0,1),Om=new Date(1900,0,1),Rm=new Date(2099,11,31),Fm=new Date(1980,0,1),Lm=new Date(1980,0,1,23,59,59),zm=(e,t)=>{const n=sf(e);return n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n},Bm=()=>df(new Date),Vm=(e,t,n)=>!e||!(t&&t>e||n&&n<e),Hm=(e,t)=>{const{start:n,end:o}=t||Nm;return!(!n||!o)&&(n<e&&e<o)},qm=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const o=[];for(let r=e;r<t;r+=n)o.push(r);return o},Um=(e,t,n)=>t.getTime()<=e.getTime()&&e.getTime()<=n.getTime(),Gm=(e,t,n)=>e&&(t&&e<t?sf(t):n&&e>n?sf(n):e),Wm=e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=document.createElement(e);return r.className=n,Object.keys(o).map((e=>r.style[e]=o[e])),"string"==typeof t?r.innerHTML=t||"":(t||[]).forEach((e=>e&&r.appendChild(e))),r};const Km="multiviewcalendar.prevView",Ym="multiviewcalendar.nextView",Xm="dateinput.increment",Qm="dateinput.decrement",Jm="dateinput.clear",Zm="calendar.today",$m="datepicker.toggleCalendar",eg="daterangepicker.swapStartEnd",tg="daterangepicker.start",ng="daterangepicker.end",og="daterangepicker.separator",rg="datetimepicker.toggleDateTimeSelector",ig="timepicker.now",ag="timepicker.selectNow",sg="timepicker.cancel",lg="timepicker.set",cg="timepicker.toggleTimeSelector",dg="timepicker.toggleClock",ug="datetimepicker.date",pg="datetimepicker.time",hg="datetimepicker.cancel",fg="datetimepicker.set",mg="daterangepicker.cancel",gg="daterangepicker.set",vg={[Zm]:"Today",[ig]:"NOW",[lg]:"Set",[sg]:"Cancel",[ug]:"Date",[pg]:"Time",[hg]:"Cancel",[fg]:"Set",[mg]:"Cancel",[gg]:"Set",[tg]:"Start",[ng]:"End",[og]:" ",[ag]:"Select Now",[cg]:"Toggle TimeSelector",[dg]:"Toggle Clock",[Xm]:"Increase value",[Qm]:"Decrease value",[Jm]:"clear",[$m]:"Toggle calendar",[Km]:"Navigate to previous view",[Ym]:"Navigate to next view",[eg]:"Swap start and end values",[rg]:"Toggle date-time selector"},yg=e=>(t,n)=>{const o=sf(t);return o[e](n),o},xg=[{type:"hour",getter:e=>e.getHours()},{type:"minute",getter:e=>e.getMinutes()},{type:"second",getter:e=>e.getSeconds()},{type:"millisecond",getter:e=>e.getMilliseconds()}],bg=((e=>{})(xg),(e=>{})(xg),yg("setHours"),yg("setMinutes"),yg("setSeconds"),(e,t,n)=>({candidateValue:zm(Mm,e),maxValue:_f(zm(Mm,n),t.getHours()<n.getHours()?0:1),minValue:zm(Mm,t)})),wg=e=>{const t=Fc(),n=uo(),r=n&&n.uDateInput,i=t.toLanguageString(Jm,vg[Jm]);return o.createElement("span",{className:on(yf.clearButton({c:r})),role:"button",onClick:t=>{t.stopPropagation();const{onClick:n}=e;n&&n.call(void 0,t)},tabIndex:e.tabindex||-1,title:i,key:"clearbutton"},o.createElement(vo,{name:"x",icon:dd}))};class kg{constructor(e){this.service=e,this.cldr={},this.locale=e.locale,this.format=e.format,this.toString=e.toString,this.formatDate=e.formatDate,this.parseDate=e.parseDate,this.parseNumber=e.parseNumber,this.formatNumber=e.formatNumber,this.splitDateFormat=e.splitDateFormat,this.numberSymbols=e.numberSymbols,this.firstDay=e.firstDay,this.dateFieldName=e.dateFieldName,this.dateFormatNames=(e,t)=>this.service.dateFormatNames(t),this.weekendRange=e=>{};const t=Xa(this.locale);this.cldr[t.name]=t}}const Cg=o.forwardRef(((e,t)=>{var n;const r=nn(e.id),i=Wc(),a=Fc(),s=uo(),l=Na(Ig,e).unstyled||s,{format:c=Sg.format,size:d=Sg.size,rounded:u=Sg.rounded,fillMode:h=Sg.fillMode,formatPlaceholder:f=Sg.formatPlaceholder,spinners:m=Sg.spinners,disabled:g=Sg.disabled,min:v=Sg.min,max:y=Sg.max,minTime:x=Sg.minTime,maxTime:b=Sg.maxTime,validityStyles:w=Sg.validityStyles,validationMessage:k=Sg.validationMessage,placeholder:C=Sg.placeholder,enableMouseWheel:S=Sg.enableMouseWheel,autoCorrectParts:I=Sg.autoCorrectParts,autoSwitchParts:E=Sg.autoSwitchParts,allowCaretMode:_=Sg.allowCaretMode,twoDigitYearMax:j=Sg.twoDigitYearMax,ariaHasPopup:A=Sg.ariaHasPopup,autoFocus:D=Sg.autoFocus}=Na(Ig,e),N=()=>void 0!==$.current?$.current:Q.current&&Q.current.value,T=()=>{const e=Q.current&&Q.current.currentText||"",t=N();return null==C||ne.focused||t?e:C},P=()=>void 0!==e.required&&e.required,M=()=>{const t=N()||e.value,n=v,o=y,r=((e,t,n)=>null===e||!(t&&t>e||n&&n<e))(t,n,o)&&((e,t,n)=>{if(!e||!t||!n)return!0;const{candidateValue:o,minValue:r,maxValue:i}=bg(e,t,n);return r<=o&&o<=i})(t,x,b),i=void 0!==k,a=(!P()||null!=t)&&r,s=void 0!==e.valid?e.valid:a;return{customError:i,rangeOverflow:t&&o.getTime()<t.getTime()||!1,rangeUnderflow:t&&t.getTime()<n.getTime()||!1,valid:s,valueMissing:null===t}},O=()=>{Y.current&&Y.current.focus()},R=()=>new kg(i),F=()=>{const t=N();return{format:c,steps:e.steps,formatPlaceholder:f,placeholder:C,selectPreviousSegmentOnBackspace:!0,value:e.value||t,intlService:R(),autoFill:void 0!==e.autoFill&&e.autoFill,enableMouseWheel:S,autoCorrectParts:I,autoSwitchParts:E,autoSwitchKeys:e.autoSwitchKeys||[],twoDigitYearMax:j,allowCaretMode:_}},L=e=>{X.current&&X.current.classList.add("k-focus"),oe({focused:!0})},z=e=>{X.current&&X.current.classList.remove("k-focus"),oe({focused:!1})},B=e=>"string"==typeof e?e:{inputFormat:e,displayFormat:e},V=e=>{$.current=N(),re(),ee.current=e,$.current=void 0},H=t=>{e.onChange&&e.onChange(t)},q=e=>{Zc(document)===Y.current&&e.preventDefault()},U=()=>{Y.current&&Y.current.setCustomValidity&&Y.current.setCustomValidity(M().valid?"":k||Sg.validationMessage)},G=e=>{!Y.current||!Q.current||V(e)},W=t=>{const n=N();ee.current&&e.onChange&&!pf(ee.current.oldValue,n)&&e.onChange.call(void 0,{syntheticEvent:t,nativeEvent:ee.current.event,value:ee.current.value,target:K.current}),ee.current=null},K=o.useRef(null),Y=o.useRef(null),X=o.useRef(null);o.useImperativeHandle(K,(()=>({props:e,get options(){return F()},get text(){return T()},get element(){return Y.current},get name(){return e.name},get value(){return N()},get validity(){return M()},focus:O,updateOnPaste:G}))),o.useImperativeHandle(t,(()=>K.current));const Q=o.useRef(null),J=o.useRef(null),Z=o.useRef(!1),$=o.useRef(null),ee=o.useRef(null),te=o.useRef(e),[ne,oe]=o.useState({focused:!1}),[,re]=o.useReducer((e=>e+1),0);o.useLayoutEffect((()=>{Z.current||(Q.current=new Dm(Y.current,p(p({},F()),{},{format:B(F().format),events:{focus:L,blur:z,valueChange:V,click:H}})),J.current=Q.current.dateObject,Z.current=!0)}),[]),o.useEffect((()=>(U(),Z.current||X.current&&X.current.addEventListener("wheel",q,{passive:!1}),()=>{X.current&&X.current.removeEventListener("wheel",q)})),[]),o.useEffect((()=>{U(),Q.current&&((((e,t)=>typeof e!=typeof t||("string"==typeof e&&"string"==typeof t?e!==t:"object"==typeof e&&"object"==typeof t&&JSON.stringify(e)!==JSON.stringify(t)))(te.current.format,c)||te.current.readonly!==e.readonly||JSON.stringify(te.current.steps)!==JSON.stringify(e.steps)||R().locale!==Q.current.options.intlService.locale)&&Q.current.setOptions(F(),!0),te.current.value!==e.value&&(null!==J.current.getValue()||null!==e.value)&&J.current.setValue(e.value),void 0!==e.ariaExpanded&&e.ariaExpanded&&(Q.current.options.placeholder=null),void 0!==e.ariaExpanded&&!e.ariaExpanded&&(Q.current.options.placeholder=C),Q.current.refreshElementValue(),te.current={format:c,readonly:e.readonly,ariaExpanded:e.ariaExpanded,steps:e.steps,value:e.value})}));const ie=e.id||r+"-accessibility-id",ae=l&&l.uDateInput,se=T(),le=!w||M().valid;o.useImperativeHandle(e._ref,(()=>K.current));const ce=o.createElement("span",{ref:e=>{X.current=e},style:e.label?void 0:{width:e.width},dir:e.dir,className:on(yf.wrapper({c:ae,size:d,fillMode:h,rounded:u,disabled:g,required:P(),invalid:!le}),e.className)},o.createElement("input",p({ref:e=>{Y.current=e},role:e.ariaRole||"textbox",readOnly:e.readonly,tabIndex:e.tabIndex||0,disabled:g,title:void 0!==e.title?e.title:se,type:"text",spellCheck:!1,autoComplete:"off",autoCorrect:"off",autoFocus:D,className:on(yf.inputInner({c:ae})),id:ie,value:se,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy,"aria-haspopup":A,"aria-disabled":g,"aria-expanded":e.ariaExpanded,"aria-controls":e.ariaControls,"aria-required":e.required,"aria-invalid":!le,onKeyDown:W,onChange:W,onWheel:W,onInput:W,onClick:W,name:e.name},e.inputAttributes)),e.children,e.clearButton&&e.value&&o.createElement(wg,{onClick:H,key:"clearbutton"}),m&&o.createElement("span",{className:on(yf.inputSpinner({c:ae})),onMouseDown:e=>{e.preventDefault();const t=Zc(document);Y.current&&t!==Y.current&&Y.current.focus({preventScroll:!0})}},o.createElement(xo,{tabIndex:-1,type:"button",rounded:null,className:on(yf.spinnerIncrease({c:ae})),icon:"caret-alt-up",svgIcon:ed,"aria-label":a.toLanguageString(Xm,vg[Xm]),title:a.toLanguageString(Xm,vg[Xm]),onClick:e=>{var t;null==(t=Q.current)||t.modifyDateSegmentValue(1),W(e)}}),o.createElement(xo,{tabIndex:-1,type:"button",rounded:null,className:on(yf.spinnerDecrease({c:ae})),icon:"caret-alt-down",svgIcon:nd,"aria-label":a.toLanguageString(Qm,vg[Qm]),title:a.toLanguageString(Qm,vg[Qm]),onClick:e=>{var t;null==(t=Q.current)||t.modifyDateSegmentValue(-1),W(e)}})));return e.label?o.createElement(Vc,{label:e.label,editorId:ie,editorValue:null==(n=Y.current)?void 0:n.value,editorValid:le,editorDisabled:g,children:ce,style:{width:e.width}}):ce}));Cg.propTypes={value:Et.instanceOf(Date),format:Et.oneOfType([Tm(Et.string),Et.shape({skeleton:Et.string,pattern:Et.string,date:Et.oneOf(["short","medium","long","full"]),time:Et.oneOf(["short","medium","long","full"]),datetime:Et.oneOf(["short","medium","long","full"]),era:Et.oneOf(["narrow","short","long"]),year:Et.oneOf(["numeric","2-digit"]),month:Et.oneOf(["numeric","2-digit","narrow","short","long"]),day:Et.oneOf(["numeric","2-digit"]),weekday:Et.oneOf(["narrow","short","long"]),hour:Et.oneOf(["numeric","2-digit"]),hour12:Et.bool,minute:Et.oneOf(["numeric","2-digit"]),second:Et.oneOf(["numeric","2-digit"]),timeZoneName:Et.oneOf(["short","long"])})]),formatPlaceholder:Et.oneOfType([Tm(Et.oneOf(["wide","narrow","short","formatPattern"])),Et.shape({year:Tm(Et.string),month:Tm(Et.string),day:Tm(Et.string),hour:Tm(Et.string),minute:Tm(Et.string),second:Tm(Et.string)})]),width:Et.oneOfType([Et.string,Et.number]),tabIndex:Et.number,title:Et.string,steps:Et.shape({year:Tm(Et.number),month:Tm(Et.number),day:Tm(Et.number),hour:Tm(Et.number),minute:Tm(Et.number),second:Tm(Et.number)}),min:Et.instanceOf(Date),max:Et.instanceOf(Date),disabled:Et.bool,spinners:Et.bool,name:Et.string,dir:Et.string,label:Et.string,id:Et.string,ariaLabelledBy:Et.string,ariaDescribedBy:Et.string,ariaLabel:Et.string,ariaRole:Et.string,ariaHasPopup:Et.oneOfType([Et.bool,Et.oneOf(["grid","dialog"])]),ariaExpanded:Et.oneOfType([Et.bool]),onChange:Et.func,validationMessage:Et.string,required:Et.bool,valid:Et.bool,size:Et.oneOf([null,"small","medium","large"]),rounded:Et.oneOf([null,"small","medium","large","full"]),fillMode:Et.oneOf([null,"solid","flat","outline"]),autoFocus:Et.bool,inputAttributes:Et.object};const Sg={format:"d",size:"medium",rounded:"medium",fillMode:"solid",formatPlaceholder:"wide",spinners:!1,disabled:!1,max:sf(Rm),min:sf(Om),minTime:sf(Fm),maxTime:sf(Lm),validityStyles:!0,validationMessage:"Please enter a valid value!",placeholder:null,enableMouseWheel:!0,autoCorrectParts:!0,autoSwitchParts:!0,allowCaretMode:!1,twoDigitYearMax:68,ariaHasPopup:"grid",autoFocus:!1},Ig=Ta();Cg.displayName="KendoReactDateInput";class Eg{constructor(){this.scrollbar=0}get scrollbarWidth(){const e="undefined"!=typeof document?document:{};if(!this.scrollbar&&e&&e.createElement){const t=e.createElement("div");t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",e.body.appendChild(t),this.scrollbar=t.offsetWidth-t.scrollWidth,e.body.removeChild(t)}return this.scrollbar}}const _g=e=>{if(!Ro||!document.body)return!1;const t=e||(new Eg).scrollbarWidth;document.body.style.setProperty("--kendo-scrollbar-width","".concat(t,"px"))};var jg=function(e,t){return!e&&!t||e&&t&&pf(df(e),df(t))};const Ag=e=>Math.max(e,0);class Dg{constructor(e){this.offset=e}}class Ng{constructor(e){this.skip=e}}class Tg{constructor(e,t){this.onScrollAction=e,this.onPageAction=t,this.direction="vertical",this.firstLoaded=0,this.lastLoaded=0,this.lastScrollTop=0,this.take=0,this.total=0,this.rowHeightService=null,this.bottomOffset=0,this.topOffset=0}create(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"vertical";this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+n,this.take=n,this.total=o,this.lastScrollTop=0,this.topOffset=r,this.bottomOffset=i,this.direction=a;const s=this.rowsForHeight(r),l=Ag(t-s);this.onScrollAction(new Dg(this.rowOffset(l))),this.onPageAction(new Ng(l))}onScroll(e){let{scrollLeft:t,scrollTop:n,offsetHeight:o,offsetWidth:r}=e;const i="vertical"===this.direction?n:t,a="vertical"===this.direction?o:r;if(this.lastScrollTop===i||!this.rowHeightService)return;const s=this.lastScrollTop>=i;this.lastScrollTop=i;const l=this.rowHeightService.index(Ag(i-this.topOffset)),c=this.rowHeightService.index(Ag(i+a-this.bottomOffset));if(!s&&c>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=l,this.onScrollAction(new Dg(this.rowOffset(l))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),this.onPageAction(new Ng(this.firstLoaded))),s&&l<=this.firstLoaded){const e=Math.floor(.3*this.take);this.firstLoaded=Ag(l-e),this.onScrollAction(new Dg(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),this.onPageAction(new Ng(this.firstLoaded))}}rowOffset(e){return this.rowHeightService?this.rowHeightService.offset(e)+this.topOffset:0}rowsForHeight(e){return this.rowHeightService?Math.ceil(e/this.rowHeightService.height(0)):0}}const Pg={1:e=>t=>t+e,0:e=>t=>t-e},Mg={1:e=>t=>Math.min(t,e),0:e=>t=>Math.max(t,e)},Og={1:e=>t=>t<e,0:e=>t=>t>e},Rg=class e extends o.Component{constructor(t){var n;super(t),n=this,this.rowHeightService=null,this.scrollContainer=null,this.lastDirection=null,this.lastTotal=0,this.lastTake=0,this.animationInProgress=!1,this.restrictScroll=!1,this.scrollTo=e=>{const t="vertical"===this.direction?"scrollTop":"scrollLeft";if(!this.scrollContainer)return;const n=this.scrollContainer[t];this.restrictScroll&&"scrollTop"===t&&(!Number.isInteger(n)||!Number.isInteger(e))&&Math.abs(n-e)<10||(this.scrollContainer[t]=e)},this.scrollToIndex=e=>{this.animationInProgress=!1,this.rowHeightService&&this.scrollTo(this.rowHeightService.offset(e))},this.animateToIndex=e=>{if(!this.rowHeightService||!window)return;window.cancelAnimationFrame(this.cancelAnimation);const t=this.rowHeightService.offset(e),n=this.getContainerScrollDirection(t),{start:o,end:r}=this.scrollRange(t,n);if(o===r)return;const i=this.scrollStep(o,r),a=Pg[n](i),s=Mg[n](r),l=Og[n](a(r)),c=e=>{this.animationInProgress=!0;const t=a(e);this.scrollTo(s(t)),l(t)?this.cancelAnimation=window.requestAnimationFrame((()=>{c(t)})):this.animationInProgress=!1};this.cancelAnimation=window.requestAnimationFrame((()=>{c(o)}))},this.scrollToBottom=()=>{this.rowHeightService&&this.scrollTo(this.rowHeightService.totalHeight()+this.props.bottomOffset)},this.scrollStep=(t,n)=>{const o=this.props.scrollDuration||e.defaultProps.scrollDuration;return Math.abs(n-t)/(o/17)},this.scrollRange=(e,t)=>{const n=this.containerScrollPosition;if(parseInt("".concat(e),10)===parseInt("".concat(n),10))return{start:e,end:e};const o=this.containerMaxScroll(),r=0===t?1:-1,i=((e,t,n)=>Math.min(Math.abs(t-e),n))(n,e,this.props.maxScrollDifference||0),a=Math.min(e,o);return{start:Math.min(Math.max(a+r*i,0),o),end:a}},this.containerMaxScroll=()=>this.containerScrollSize-this.containerOffsetSize,this.getContainerScrollDirection=e=>e<this.containerScrollPosition?0:1,this.initServices=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props;const t="vertical"===n.direction?e.itemHeight:e.itemWidth;void 0!==t&&(n.rowHeightService=new _p(e.total,t,0),n.scrollerService.create(n.rowHeightService,e.skip,e.take,e.total,e.topOffset,n.scrollOffsetSize,n.direction))},this.getContainerProperty=e=>this.scrollContainer?this.scrollContainer[e]:0,this.handleScroll=e=>{if(!this.scrollContainer||!this.rowHeightService)return;const t=e.target;this.scrollerService.onScroll({scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,offsetHeight:t.offsetHeight,offsetWidth:t.offsetWidth});const n=this.rowHeightService.index(this.containerScrollPosition-this.props.topOffset),{onScrollAction:o}=this.props,r={index:n,target:t,scrollAction:this.scrollAction,pageAction:this.pageAction,animationInProgress:this.animationInProgress};this.props.onScroll&&this.props.onScroll.call(void 0,e),o&&o.call(void 0,r),this.scrollAction=void 0,this.pageAction=void 0},this.handleScrollAction=e=>{this.scrollAction=e},this.handlePageAction=e=>{this.pageAction=e},this.scrollerService=new Tg(this.handleScrollAction,this.handlePageAction),this.restrictScroll=Number.parseFloat(o.version)>17}get element(){return this.scrollContainer}get containerOffsetSize(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}get containerScrollSize(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}get containerScrollPosition(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}get direction(){return void 0!==this.props.direction?this.props.direction:e.defaultProps.direction}get scrollOffsetSize(){return void 0!==this.props.scrollOffsetSize?this.props.scrollOffsetSize:e.defaultProps.scrollOffsetSize}activeIndex(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}itemIndex(e){return this.rowHeightService?this.rowHeightService.index(e):0}itemOffset(e){return this.rowHeightService?this.rowHeightService.offset(e):0}isIndexVisible(e){if(!this.rowHeightService)return!1;const t=this.containerScrollPosition,n=t+this.containerOffsetSize,o=this.rowHeightService.offset(e),r=o+this.rowHeightService.height(e);return o>=t&&r<=n}isListScrolled(e){return!!this.rowHeightService&&this.containerScrollPosition!==this.rowHeightService.offset(e)}componentDidMount(){const{onMount:e}=this.props;e&&e.call(void 0,this)}render(){const{total:e,take:t,bottomOffset:n,className:r,tabIndex:i,role:a,children:s,unstyled:l}=this.props,c=l&&l.uCalendar;(this.lastTotal!==e||this.lastDirection!==this.direction||this.lastTake!==t)&&(this.initServices(),this.lastTotal=e,this.lastDirection=this.direction,this.lastTake=t);const d="".concat((this.rowHeightService?this.rowHeightService.totalHeight():0)+n),u="vertical"===this.direction?{height:"".concat(d,"px")}:{width:"".concat(d,"px")},p=on(gf.scrollableSelector({c:c}),gf.scrollable({c:c,horizontal:"horizontal"===this.direction}),r),h=on(gf.scrollablePlaceholder({c:c,horizontal:"horizontal"===this.direction}));return o.createElement("div",{ref:e=>{this.scrollContainer=e},onScroll:this.handleScroll,className:p,tabIndex:i,role:a},s,o.createElement("div",{style:u,className:h}))}};Rg.propTypes={bottomOffset:Et.number.isRequired,className:Et.string,direction:Et.oneOf(["horizontal","vertical"]),forceScroll:Et.bool,itemHeight:Et.number,itemWidth:Et.number,maxScrollDifference:Et.number,onScroll:Et.func,onScrollAction:Et.func,scrollDuration:Et.number,scrollOffsetSize:Et.number,skip:Et.number.isRequired,tabIndex:Et.number,take:Et.number.isRequired,topOffset:Et.number.isRequired,total:Et.number.isRequired,role:Et.string},Rg.defaultProps={direction:"vertical",forceScroll:!1,scrollOffsetSize:0,maxScrollDifference:100,scrollDuration:100};let Fg=Rg;var Lg,zg;!function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(Lg||(Lg={})),function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(zg||(zg={}));var Bg=function(e,t,n){void 0===n&&(n=zg.Forward);var o=sf(e),r=(t-o.getDay()+7*n)%7;return o.setDate(o.getDate()+r),lf(o,e.getHours())},Vg=function(e,t){return t!==Lg.Monday?_f(function(e,t){return Bg(e,t,zg.Backward)}(e,t),4):_f(e,4-(e.getDay()||7))},Hg=function(e,t){var n=cf(e.getFullYear(),0,1,-6),o=Vg(e,t).getTime()-n.getTime(),r=Math.floor(o/864e5);return 1+Math.floor(r/7)};const qg=["value"],Ug=["value"],Gg=["className","formattedValue","isWeekend","isFocused","isInRange","isSelected","isRangeStart","isRangeMid","isRangeEnd","isRangeSplitStart","isRangeSplitEnd","isToday","isDisabled","view","value","isOtherMonth","showOtherMonthDays","allowReverse","unstyled"];class Wg extends o.Component{constructor(){super(...arguments),this.handleClick=e=>{const{onClick:t,value:n}=this.props;t&&t.call(void 0,n,e)},this.handleMouseEnter=()=>{const{onMouseEnter:e,value:t}=this.props;e&&e.call(void 0,t)},this.handleMouseLeave=()=>{const{onMouseLeave:e,value:t}=this.props;e&&e.call(void 0,t)}}shouldComponentUpdate(e){const t=this.props,{value:n}=t,o=s(t,qg),{value:r}=e,i=s(e,Ug);return!((!n||!r||n.getTime()===r.getTime())&&((e,t)=>{const n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);if(n.length!==o.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(e[o]!==t[o])return!1}return!0})(o,i))}render(){const e=this.props,{className:t,formattedValue:n,isWeekend:r,isFocused:i,isInRange:a,isSelected:l,isRangeStart:c,isRangeMid:d,isRangeEnd:u,isRangeSplitStart:h,isRangeSplitEnd:f,isToday:m,isDisabled:g,view:v,value:y,isOtherMonth:x,showOtherMonthDays:b,allowReverse:w,unstyled:k}=e,C=s(e,Gg),S="end"===this.props.activeRangeEnd&&u,I="start"===this.props.activeRangeEnd&&c,E=k&&k.uCalendar,_=on(gf.td({c:E,rangeStart:!x&&!w&&c,rangeEnd:!x&&!w&&u,rangeMid:!x&&d,rangeSplitEnd:!x&&f,rangeSplitStart:!x&&h,active:I||S,focused:i,selected:!x&&(l||c||u),today:!x&&m,weekend:r,disabled:g,isOtherMonth:x,isEmpty:!b&&x}),t);return!b&&x?o.createElement("td",{role:"gridcell",className:_}):o.createElement("td",p(p({},C),{},{className:_,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),o.createElement("span",{className:on(gf.link({c:E}))},this.props.children))}}const Kg=["className","firstDate","weekDays"],Yg=e=>{const{className:t,firstDate:n,weekDays:r}=e,i=s(e,Kg),a=uo(),l=a&&a.uCalendar;return o.createElement("td",p(p({className:on(gf.td({c:l,isWeek:!0}),t)},i),{},{onClick:t=>{const{onClick:o}=e;o&&t&&o.call(void 0,n,r||[],t)}}),e.children)};var Xg=(e=>(e[e.month=0]="month",e[e.year=1]="year",e[e.decade=2]="decade",e[e.century=3]="century",e))(Xg||{});class Qg{constructor(e){this.intl=e}getWeekNames(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;const n=((e,t)=>e.slice(t).concat(e.slice(0,t)))(this.intl.dateFormatNames({nameType:null!=t?t:"short",type:"days"}),this.intl.firstDay());return e?[""].concat(n):n}}const Jg=(e,t)=>{const n=t;return o.createElement("td",{key:e,role:"gridcell",className:on(gf.td({c:n,isEmpty:!0}))},"\xa0")},Zg=class e extends o.Component{constructor(){super(...arguments),this.intl=null,this.weekService=null,this.buildWeekNumber=(e,t)=>{if(!this.firstDate(e))return Jg("week-cell-".concat(t));const n=this.firstDate(e),r=this.getWeekNumber(n),i="kendo-react-calendar-week-cell-".concat(r),a={value:r,firstDate:n,weekDays:e,unstyled:this.props.unstyled,onClick:this.handleWeekCellClick};return this.props.weekCell?o.createElement(this.props.weekCell,p(p({},a),{},{key:i}),r):o.createElement(Yg,p(p({},a),{},{key:i}),r)},this.buildRow=e=>e.map(((e,t)=>{if(!e)return Jg(t);const n={"aria-selected":e.isSelected},r="kendo-react-calendar-cell-".concat(e.value.getTime()),i=p(p(p({},n),e),{},{isDisabled:!e.isInRange,view:this.props.activeView,showOtherMonthDays:this.props.showOtherMonthDays,allowReverse:this.props.allowReverse,unstyled:this.props.unstyled,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave});return this.props.cell?o.createElement(this.props.cell,p(p({},i),{},{key:r}),e.formattedValue):o.createElement(Wg,p(p({},i),{},{key:r}),e.formattedValue)})),this.firstDate=e=>{const t=this.firstWeekDateContext(e);return t?t.value:null},this.firstWeekDateContext=e=>{if(!this.weekNumber)return null;let t=0,n=e[t];for(;!n&&t<e.length;)n=e[++t];return n},this.handleClick=(e,t)=>{const{onChange:n}=this.props;if(n&&t){const o={value:sf(e),target:this,nativeEvent:t&&t.nativeEvent,syntheticEvent:t};n.call(void 0,o)}},this.handleWeekCellClick=(e,t,n)=>{const{onWeekSelect:o}=this.props,r=t.findIndex((t=>t&&t.value===e));o&&n&&o.call(void 0,e,r,n)},this.handleMouseEnter=e=>{const{onCellEnter:t}=this.props;t&&t.call(void 0,sf(e))},this.handleMouseLeave=e=>{const{onCellLeave:t}=this.props;t&&t.call(void 0,sf(e))}}get min(){return this.props.min}get max(){return this.props.max}get isHorizontal(){return"horizontal"===this.props.direction}get isMonthView(){return this.props.activeView===Xg.month}get weekNumber(){return!(!this.props.showWeekNumbers||this.props.activeView!==Xg.month)}get selectedDate(){return void 0!==this.props.selectedDate?this.props.selectedDate:e.defaultProps.selectedDate}render(){const{service:e,weekDaysFormat:t,cellUID:n,focusedDate:r,bus:i,activeView:a,selectionRange:s,unstyled:l}=this.props,c=l&&l.uCalendar;this.intl=Yh(this),this.weekService=new Qg(this.intl);const d=this.weekService.getWeekNames(this.weekNumber,t),u=e.rowLength(this.weekNumber),p=e.title(this.props.viewDate),h=Bm(),f=zm(this.props.viewDate,h),m=e.data({cellUID:n,min:this.min,max:this.max,focusedDate:r,isActiveView:!i.canMoveDown(a),selectedDate:this.selectedDate,selectionRange:s,viewDate:f});return o.createElement(o.Fragment,null,this.isMonthView&&this.isHorizontal&&o.createElement("thead",{role:"rowgroup",className:on(gf.thead({c:c}))},o.createElement("tr",{role:"row",className:on(gf.tr({c:c}))},d.map(((e,t)=>o.createElement("th",{key:t,className:on(gf.th({c:c}))},e))))),o.createElement("tbody",{role:"rowgroup",className:on(gf.tbody({c:c}))},!this.isHorizontal&&o.createElement("tr",{role:"presentation",className:on(gf.tr({c:c}))},o.createElement("th",{scope:"col",colSpan:u,className:on(gf.caption({c:c}))},p)),m.map(((e,t)=>o.createElement("tr",{role:"row",className:on(gf.tr({c:c})),key:t},this.weekNumber&&this.buildWeekNumber(e,t),this.buildRow(e))))))}getWeekNumber(e){return this.weekNumber&&this.intl?function(e,t){void 0===t&&(t=Lg.Monday),e=df(e);var n=_f(e,-7),o=_f(e,7),r=Hg(e,t);return 0===r?Hg(n,t)+1:53===r&&Hg(o,t)>1?1:r}(e,this.intl.firstDay()):null}};Zg.propTypes={activeRangeEnd:Et.oneOf(["start","end",null]),activeView:Et.number.isRequired,cellUID:Et.string.isRequired,direction:Et.oneOf(["horizontal","vertical"]),focusedDate:Et.instanceOf(Date).isRequired,max:Et.instanceOf(Date).isRequired,min:Et.instanceOf(Date).isRequired,onChange:Et.func,selectedDate:Et.oneOfType([Et.instanceOf(Date),Et.arrayOf(Et.instanceOf(Date))]),showWeekNumbers:Et.bool,showOtherMonthDays:Et.bool,viewDate:Et.instanceOf(Date).isRequired},Zg.defaultProps={direction:"vertical",selectedDate:Bm(),showWeekNumbers:!1};let $g=Zg;Qh($g);const ev=["view"],tv=e=>{const{view:t}=e,n=s(e,ev);return o.createElement(xo,p({type:"button",fillMode:"flat",themeColor:"primary"},n),e.children)},nv=class e extends o.Component{constructor(){super(...arguments),this.getTitle=()=>{if(!this.props.currentDate)return"";const e=this.rangeLength-1,t=this.props.service.title(this.props.currentDate),n=this.props.service.addToDate(this.props.currentDate,e);return e<1||!this.props.service.isInRange(n,this.min,this.max)?t:"".concat(t," - ").concat(this.props.service.title(n))},this.handleTitleClick=e=>{this.canMoveUp&&this.props.bus.moveUp(this.props.activeView,e)}}get min(){return void 0!==this.props.min?this.props.min:e.defaultProps.min}get max(){return void 0!==this.props.max?this.props.max:e.defaultProps.max}get rangeLength(){return void 0!==this.props.rangeLength?this.props.rangeLength:e.defaultProps.rangeLength}get canMoveUp(){return this.props.bus.canMoveUp(this.props.activeView)}render(){const{activeView:e,commands:t,unstyled:n}=this.props,r=n&&n.uCalendar,i=this.getTitle(),a={children:i,value:i,view:e,className:on(gf.title({c:r})),onClick:this.handleTitleClick,disabled:!this.canMoveUp},s={headerTitleProps:a,commands:t},l=this.props.headerTitle?o.createElement(this.props.headerTitle,p({},a),i):o.createElement(tv,p({},a),i),c=this.props.header?o.createElement(this.props.header,p({},s)):o.createElement(o.Fragment,null,l,o.createElement("span",{className:on(gf.spacer({c:r}))}),o.createElement("span",{className:on(gf.nav({c:r}))},this.props.commands));return o.createElement("div",{className:on(gf.header({c:r,vertical:this.props.verticalView}))},c)}};nv.propTypes={activeView:Et.number.isRequired,currentDate:Et.instanceOf(Date).isRequired,max:Et.instanceOf(Date).isRequired,min:Et.instanceOf(Date).isRequired,rangeLength:Et.number},nv.defaultProps={rangeLength:1,min:Om,max:Rm};let ov=nv;Jh(ov);const rv=class e extends o.Component{constructor(){super(...arguments),this.localization=null,this.handleClick=e=>{if(this.todayIsInRange&&this.props.onClick){const t={syntheticEvent:e,nativeEvent:e.nativeEvent,value:Gm(Bm(),this.min,this.max),target:this,isTodayClick:!0};this.props.onClick.call(void 0,t)}}}get min(){return void 0!==this.props.min?this.props.min:e.defaultProps.min}get max(){return void 0!==this.props.max?this.props.max:e.defaultProps.max}get todayIsInRange(){return Vm(Bm(),df(this.min),df(this.max))}render(){const{disabled:e,tabIndex:t,unstyled:n}=this.props,r=n&&n.uCalendar;this.localization=Xh(this);const i=this.localization.toLanguageString(Zm,vg[Zm]),a=on(gf.today({c:r,disabled:e}));return o.createElement(xo,{className:a,onClick:this.handleClick,tabIndex:t,fillMode:"flat",themeColor:"base",role:"link"},i)}};rv.propTypes={max:Et.instanceOf(Date).isRequired,min:Et.instanceOf(Date).isRequired,onClick:Et.func,disabled:Et.bool},rv.defaultProps={min:Om,max:Rm};let iv=rv;Jh(iv);const av=class e extends o.Component{constructor(e){var t;super(e),t=this,this.virtualization=null,this.calendarView=null,this.table=null,this.intl=null,this.bottomOffset=0,this.viewOffset=0,this.viewHeight=0,this._element=null,this.isActive=!1,this.animateToIndex=!0,this.shouldScroll=!1,this.weekService=null,this.focusActiveDate=()=>{if(!this._element)return;const e=this._element.querySelector("td.k-focus"),t=this._element.querySelector(".k-state-pending-focus");e&&e[0]&&e[0].classList.remove("k-focus"),t&&t.classList.add("k-focus"),this.isActive=!0},this.blurActiveDate=()=>{if(!this._element)return;const e=this._element.querySelector("td.k-focus");e&&e.classList.remove("k-focus"),this.isActive=!1},this.handleVirtualizationMount=e=>{if(this.virtualization=e,this.virtualization&&this.table){this.table.style.transform="translateY(".concat(this.viewOffset,"px)");const e=Gm(this.props.focusedDate,this.props.min,this.props.max),t=this.props.service.skip(e,this.props.min);this.virtualization.scrollToIndex(t)}},this.buildMonthView=(e,t)=>{const{unstyled:n}=this.props,r=n&&n.uCalendar;return o.createElement("table",{key:"calendar-view-list-weekdays",className:on(gf.table({c:r,weekdays:!0})),role:"grid",tabIndex:this.props.tabIndex},o.createElement("colgroup",null,e.map(((e,t)=>o.createElement("col",{key:t})))),o.createElement("thead",{className:on(gf.thead({c:r}))},o.createElement("tr",{className:on(gf.tr({c:r}))},t.map(((e,t)=>o.createElement("th",{key:t,className:on(gf.th({c:r}))},e))))))},this.buildDates=(e,t)=>{const n=this.props.cellUID,{unstyled:r}=this.props,i=r&&r.uCalendar;return o.createElement("table",{className:on(gf.table({c:i})),ref:e=>{this.table=e},role:"grid",tabIndex:this.props.tabIndex,"aria-activedescendant":n+this.props.focusedDate.getTime()},o.createElement("colgroup",null,e.map(((e,t)=>o.createElement("col",{key:t})))),t.map((e=>o.createElement($g,{ref:e=>{this.calendarView||(this.calendarView=e)},key:e.getTime(),activeView:this.props.activeView,viewDate:e,min:this.props.min,max:this.props.max,cellUID:n,focusedDate:this.props.focusedDate,cell:this.props.cell,selectedDate:this.props.value,showWeekNumbers:this.weekNumber,onChange:this.handleDateChange,bus:this.props.bus,service:this.props.service,weekCell:this.props.weekCell,showOtherMonthDays:this.props.showOtherMonthDays,unstyled:r}))))},this.calculateHeights=()=>{if(!this.props.dom)return;const e=this.props.activeView===Xg.month?this.props.dom.scrollableContentHeight:this.props.dom.scrollableYearContentHeight;this.bottomOffset=e-this.props.dom.viewHeight(this.props.activeView),this.viewOffset=-1*this.props.dom.headerHeight,this.viewHeight=this.props.dom.viewHeight(this.props.activeView)||1},this.getTake=(e,t)=>Math.min(t-e,this.take),this.handleScrollAction=e=>{let{index:t,scrollAction:n,pageAction:o}=e;const r=o?o.skip:this.state.skip;if((this.state.index!==t||this.state.skip!==r)&&this.setState({index:t,skip:r}),this.table&&n){const e="translateY(".concat(n.offset,"px)");this.table.style.transform=e}},this.handleTodayClick=e=>{this.shouldScroll=!0,this.handleDateChange.call(void 0,e,!0)},this.handleDateChange=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{onChange:o}=t.props;if(o){const r={syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,value:sf(e.value),target:t,isTodayClick:n};o.call(void 0,r)}},this.lastView=this.props.activeView,this.lastFocus=this.props.focusedDate,this.state={skip:this.props.service.skip(this.props.focusedDate,this.props.min),index:this.props.service.skip(this.props.focusedDate,this.props.min)}}get element(){return this._element}get weekNames(){return this.intl=Yh(this),this.weekService=new Qg(this.intl),this.weekService.getWeekNames(this.weekNumber,this.props.weekDaysFormat)}get weekNumber(){return!(!this.props.showWeekNumbers||this.props.activeView!==Xg.month)}get take(){return void 0!==this.props.take?this.props.take:e.defaultProps.take}get animate(){return!(!this.props.smoothScroll||!this.animateToIndex)}get todayIsInRange(){return Vm(Bm(),df(this.props.min),df(this.props.max))}componentDidUpdate(e,t){this.shouldScroll=!1,void 0!==this.indexToScroll&&this.virtualization&&this.virtualization[this.animate?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.isActive&&this.focusActiveDate(),this.lastView=this.props.activeView,this.indexToScroll=void 0}render(){const{activeView:e,min:t,max:n,service:r,unstyled:i}=this.props,a=i&&i.uCalendar;this.calculateHeights();const s=this.lastView!==e,l=Gm(this.props.focusedDate,t,n),c=s?r.skip(l,t):this.state.skip,d=r.total(t,n),u=this.getTake(c,d),p=r.addToDate(t,c),h=r.addToDate(t,this.state.index),f=new Array(r.rowLength(this.weekNumber)).fill(""),m=e!==this.lastView;this.animateToIndex=!m,(m||!jg(this.lastFocus,l)||this.shouldScroll||!this.props.shouldScroll||this.props.shouldScroll())&&(this.indexToScroll=this.props.service.skip(l,this.props.min)),this.lastFocus=l;const g=on(gf.view({c:a,month:e===Xg.month,year:e===Xg.year,decade:e===Xg.decade,century:e===Xg.century})),v=this.buildDates(f,r.datesList(p,u)),y=o.createElement(o.Fragment,null,o.createElement(ov,{key:"calendar-view-list-header",currentDate:h,min:this.props.min,max:this.props.max,activeView:this.props.activeView,bus:this.props.bus,service:this.props.service,headerTitle:this.props.headerTitle,header:this.props.header,unstyled:i,commands:o.createElement(iv,{min:this.props.min,max:this.props.max,onClick:this.handleTodayClick,disabled:!this.todayIsInRange,tabIndex:this.props.tabIndex,unstyled:i})}),this.props.activeView===Xg.month&&this.buildMonthView(f,this.weekNames),o.createElement(Fg,{key:"calendar-view-list-content",skip:c,take:this.take,total:d,itemHeight:this.viewHeight,topOffset:this.viewOffset,bottomOffset:this.bottomOffset,scrollOffsetSize:this.viewOffset,maxScrollDifference:this.viewHeight,onScroll:this.props.onScroll,onScrollAction:this.handleScrollAction,onMount:e=>!this.virtualization&&this.handleVirtualizationMount(e),children:v,tabIndex:this.props.tabIndex,unstyled:i}));return o.createElement("div",{ref:e=>{this._element=e},className:g},this.props.dom.didCalculate?y:null)}};av.propTypes={activeView:Et.number.isRequired,bottomOffset:Et.number,cellUID:Et.string.isRequired,focusedDate:Et.instanceOf(Date).isRequired,max:Et.instanceOf(Date).isRequired,min:Et.instanceOf(Date).isRequired,onChange:Et.func,showWeekNumbers:Et.bool,smoothScroll:Et.bool,take:Et.number,value:Et.instanceOf(Date),viewHeight:Et.number,viewOffset:Et.number,weekDaysFormat:Et.oneOf(["short","abbreviated","narrow"]),tabIndex:Et.number},av.defaultProps={take:5,showWeekNumbers:!1,weekDaysFormat:"short",smoothScroll:!0};let sv=av;Qh(sv);const lv=["className","isRangeStart","value","text","view"],cv=e=>{const{className:t,isRangeStart:n,value:r,text:i,view:a}=e,l=s(e,lv),c=uo(),d=c&&c.uCalendar;return o.createElement("li",p(p({},l),{},{onClick:t=>{var n;null==(n=e.onClick)||n.call(e,r,t)},className:on(gf.li({c:d}),t)}),o.createElement("span",{className:on(gf.navigationMarker({c:d,isRangeStart:n}))},e.children))},dv=class e extends o.Component{constructor(e){super(e),this.virtualization=null,this.list=null,this.itemHeight=0,this.topOffset=0,this.maxViewHeight=0,this.bottomOffset=0,this.handleVirtualizationMount=e=>{if(this.virtualization=e,this.virtualization&&this.list){this.list.style.transform="translateY(".concat(this.topOffset,"px)");const e=Gm(this.props.focusedDate,this.props.min,this.props.max),t=this.props.service.skip(e,this.props.min);this.virtualization.scrollToIndex(t)}},this.buildNavigationItem=e=>{const t=this.props.service.navigationTitle(e),n=this.props.service.isRangeStart(e),r="kendo-react-calendar-nav-item-".concat(e.getTime()),i={text:t,value:e,isRangeStart:n,view:this.props.activeView,onClick:this.handleDateChange};return this.props.navigationItem?o.createElement(this.props.navigationItem,p(p({},i),{},{key:r}),t):o.createElement(cv,p(p({},i),{},{key:r}),t)},this.calculateHeights=()=>{const e=this.props.dom.calendarHeight;this.itemHeight=this.props.dom.navigationItemHeight||1,this.maxViewHeight=this.props.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight},this.handleDateChange=(e,t)=>{const{onChange:n}=this.props;if(n&&t){const o={value:sf(e),target:this,nativeEvent:t&&t.nativeEvent,syntheticEvent:t};n.call(void 0,o)}},this.handleScrollAction=e=>{let{scrollAction:t,pageAction:n}=e;const o=n?n.skip:this.state.skip;if(this.state.skip!==o&&this.setState({skip:o}),this.list&&t){const e="translateY(".concat(t.offset,"px)");this.list.style.transform=e}},this.lastView=this.props.activeView,this.lastFocus=this.props.focusedDate;const t=this.props.service.skip(this.props.focusedDate,this.props.min),n=this.props.service.total(this.props.min,this.props.max);this.state={skip:t-this.getTake(t,n)>0?t:0}}get take(){return void 0!==this.props.take?this.props.take:e.defaultProps.take}componentDidUpdate(e,t){void 0!==this.indexToScroll&&this.virtualization&&this.virtualization.scrollToIndex(this.indexToScroll),this.lastView=this.props.activeView,this.lastFocus=this.props.focusedDate,this.indexToScroll=void 0}render(){const{activeView:e,min:t,max:n,service:r,unstyled:i}=this.props;this.calculateHeights();const a=i&&i.uCalendar,s=this.lastView!==e,l=Gm(this.props.focusedDate,t,n),c=s?r.skip(l,t):this.state.skip,d=r.total(t,n),u=this.getTake(c,d),p=r.addToDate(t,c),h=r.datesList(p,u);(e!==this.lastView||!pf(l,this.lastFocus))&&(this.indexToScroll=r.skip(l,t));const f=o.createElement(Fg,{skip:c,take:this.take,total:d,itemHeight:this.itemHeight,topOffset:this.topOffset,bottomOffset:this.bottomOffset,onScroll:this.props.onScroll,maxScrollDifference:this.maxViewHeight,onScrollAction:this.handleScrollAction,onMount:e=>!this.virtualization&&this.handleVirtualizationMount(e),tabIndex:this.props.tabIndex,unstyled:i},o.createElement("ul",{ref:e=>{this.list=e},className:on(gf.ul({c:a}))},h.map((e=>this.buildNavigationItem(e)))));return o.createElement("div",{className:on(gf.navigation({c:a}))},o.createElement("span",{className:on(gf.navigationHighlight({c:a}))}),this.props.dom.didCalculate?f:null)}getTake(e,t){return Math.min(t-e,this.take)}};dv.propTypes={activeView:Et.number.isRequired,focusedDate:Et.instanceOf(Date).isRequired,max:Et.instanceOf(Date).isRequired,min:Et.instanceOf(Date).isRequired,onChange:Et.func,take:Et.number,tabIndex:Et.number},dv.defaultProps={take:30};let uv=dv;var pv=function(e,t){var n=e.getMonth(),o=cf(t,n,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return o.getMonth()===n?o:jf(Af(o,-1))},hv=function(e,t){return lf(pv(e,e.getFullYear()+t),e.getHours())},fv=function(e,t){return hv(e,10*t)},mv=function(e,t){return hv(e,100*t)},gv=function(e,t){return pv(e,t(e.getFullYear()))},vv=function(e){return gv(e,(function(e){return e-e%100}))},yv=function(e){return gv(e,(function(e){return e-e%100+90}))},xv=function(e){return gv(e,(function(e){return e-e%10}))},bv=function(e,t){return(vv(t).getFullYear()-vv(e).getFullYear())/100},wv=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down",e[e.PrevView=4]="PrevView",e[e.NextView=5]="NextView",e[e.FirstInView=6]="FirstInView",e[e.LastInView=7]="LastInView",e[e.LowerView=8]="LowerView",e[e.UpperView=9]="UpperView",e))(wv||{});const kv=[[]],Cv={[wv.Left]:e=>fv(e,-1),[wv.Up]:e=>fv(e,-5),[wv.Right]:e=>fv(e,1),[wv.Down]:e=>fv(e,5),[wv.PrevView]:e=>mv(e,-1),[wv.NextView]:e=>mv(e,1),[wv.FirstInView]:e=>vv(e),[wv.LastInView]:e=>yv(e)};var Sv=function(e){return gv(e,(function(e){return e-e%10+9}))},Iv=function(e,t){return(xv(t).getFullYear()-xv(e).getFullYear())/10};const Ev=[[]],_v={[wv.Left]:e=>hv(e,-1),[wv.Up]:e=>hv(e,-5),[wv.Right]:e=>hv(e,1),[wv.Down]:e=>hv(e,5),[wv.PrevView]:e=>fv(e,-1),[wv.NextView]:e=>fv(e,1),[wv.FirstInView]:e=>xv(e),[wv.LastInView]:e=>Sv(e)};var jv=function(e,t){return _f(e,7*t)},Av=function(e){return cf(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},Dv=function(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())};const Nv=[[]],Tv={[wv.Left]:e=>_f(e,-1),[wv.Up]:e=>jv(e,-1),[wv.Right]:e=>_f(e,1),[wv.Down]:e=>jv(e,1),[wv.PrevView]:e=>Af(e,-1),[wv.NextView]:e=>Af(e,1),[wv.FirstInView]:e=>Av(e),[wv.LastInView]:e=>jf(e)};var Pv=function(e,t){var n=e.getDate(),o=cf(e.getFullYear(),t,n,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return o.getDate()===n?o:jf(Af(o,-1))},Mv=function(e){return Pv(e,0)},Ov=function(e){return Pv(e,11)},Rv=function(e,t){return t.getFullYear()-e.getFullYear()};const Fv=[[]],Lv={[wv.Left]:e=>Af(e,-1),[wv.Up]:e=>Af(e,(e=>e>4?-5:e<2?-2:-7)(e.getMonth())),[wv.Right]:e=>Af(e,1),[wv.Down]:e=>Af(e,(e=>e<7?5:e<10?7:2)(e.getMonth())),[wv.PrevView]:e=>hv(e,-1),[wv.NextView]:e=>hv(e,1),[wv.FirstInView]:e=>Mv(e),[wv.LastInView]:e=>Ov(e)};const zv={[Xg.month]:class{constructor(e){this.intl=e}addToDate(e,t){return Af(e,t)}datesList(e,t){return qm(0,t).map((t=>Af(e,t)))}data(e){const{cellUID:t,focusedDate:n,isActiveView:o,max:r,min:i,selectedDate:a,selectionRange:s=Nm,viewDate:l}=e;if(!l)return Nv;const c=Av(l),d=jf(l),u=Bg(c,this.intl.firstDay(),-1),p=qm(0,7),h=Bm();return qm(0,6).map((e=>{const l=_f(u,7*e);return p.map((e=>{const u=this.normalize(_f(l,e),i,r),p=u<c||u>d,f=this.isEqual(u,s.start),m=this.isEqual(u,s.end),g=!f&&!m&&Hm(u,s),v=o&&(Array.isArray(a)?this.isSelectedFromArray(u,a,i,r):Vm(a,i,r)&&this.isEqual(u,a));return{formattedValue:this.value(u),id:"".concat(t).concat(u.getTime()),isFocused:this.isEqual(u,n),isSelected:v,isInRange:Vm(u,i,r),isWeekend:this.isWeekend(u),isRangeStart:f,isRangeMid:g,isRangeEnd:m,isRangeSplitStart:g&&this.isEqual(u,c),isRangeSplitEnd:g&&this.isEqual(u,d),isToday:this.isEqual(u,h),title:this.cellTitle(u),value:u,isOtherMonth:p}}))}))}isEqual(e,t){return!(!e||!t)&&df(e).getTime()===df(t).getTime()}isSelectedFromArray(e,t,n,o){let r=!1;return t.forEach((t=>{Vm(e,n,o)&&this.isEqual(e,t)&&(r=!0)})),r}isInArray(e,t){return!!t.length&&Av(t[0])<=e&&e<=jf(t[t.length-1])}isInRange(e,t,n){const o=df(e),r=!t||df(t)<=o,i=!n||o<=df(n);return r&&i}isInSameView(e,t){return 0===Dv(e,t)}isRangeStart(e){return!e.getMonth()}move(e,t){const n=Tv[t];return n?n(e):e}cellTitle(e){return this.intl.formatDate(e,"D")}navigationTitle(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}title(e){return"".concat(this.wideMonthNames()[e.getMonth()]," ").concat(e.getFullYear())}rowLength(e){return 7+(e?1:0)}skip(e,t){return Dv(t,e)}total(e,t){return Dv(e,t)+1}value(e){return e?e.getDate().toString():""}viewDate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Dv(e,t)<n?Af(e,-1):e}isWeekend(e){const t=e.getDay();return 6===t||0===t}abbrMonthNames(){return this.intl.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,n){return e<t&&this.isEqual(e,t)?df(t):e>n&&this.isEqual(e,n)?df(n):e}wideMonthNames(){return this.intl.dateFormatNames({nameType:"wide",type:"months",standAlone:!0})}},[Xg.year]:class{constructor(e){this._intl=e}addToDate(e,t){return hv(e,t)}datesList(e,t){return qm(0,t).map((t=>hv(e,t)))}data(e){const{cellUID:t,focusedDate:n,isActiveView:o,max:r,min:i,selectedDate:a,selectionRange:s=Nm,viewDate:l}=e;if(!l)return Fv;const c=this.abbrMonthNames(),d=Mv(l),u=Ov(l),p=d.getFullYear(),h=qm(0,4),f=Bm();return qm(0,3).map((e=>{const l=Af(d,4*e);return h.map((e=>{const h=this.normalize(Af(l,e),i,r);if(p<h.getFullYear())return null;const m=this.isEqual(h,s.start),g=this.isEqual(h,s.end),v=!m&&!g&&Hm(h,s),y=o&&(Array.isArray(a)?this.isSelectedFromArray(h,a,i,r):Vm(a,i,r)&&this.isEqual(h,a));return{formattedValue:c[h.getMonth()],id:"".concat(t).concat(h.getTime()),isFocused:this.isEqual(h,n),isSelected:y,isInRange:Vm(h,i,r),isWeekend:!1,isRangeStart:m,isRangeMid:v,isRangeEnd:g,isRangeSplitEnd:v&&this.isEqual(h,u),isRangeSplitStart:v&&this.isEqual(h,d),isToday:this.isEqual(h,f),title:this.cellTitle(h),value:h}}))}))}isSelectedFromArray(e,t,n,o){let r=!1;return t.forEach((t=>{Vm(e,n,o)&&this.isEqual(e,t)&&(r=!0)})),r}isEqual(e,t){return!(!e||!t)&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth())}isInArray(e,t){if(!t.length)return!1;const n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()}isInRange(e,t,n){const o=cf(e.getFullYear(),e.getMonth(),1),r=!t||cf(t.getFullYear(),t.getMonth(),1)<=o,i=!n||o<=cf(n.getFullYear(),n.getMonth(),1);return r&&i}isInSameView(e,t){return 0===Rv(e,t)}isRangeStart(e){return e.getFullYear()%10===0}move(e,t){const n=Lv[t];return n?n(e):e}cellTitle(e){return"".concat(e.getFullYear()," ").concat(this.value(e))}navigationTitle(e){return this.title(e)}title(e){return e?e.getFullYear().toString():""}rowLength(e){return 4}skip(e,t){return Rv(t,e)}total(e,t){return Rv(e,t)+1}value(e){return e?this.abbrMonthNames()[e.getMonth()]:""}viewDate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Rv(e,t)<n?hv(e,-1):e}abbrMonthNames(){return this._intl.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,n){return e<t&&this.isEqual(e,t)?sf(t):e>n&&this.isEqual(e,n)?sf(n):e}},[Xg.decade]:class{addToDate(e,t){return fv(e,t)}datesList(e,t){return qm(0,t).map((t=>fv(e,t)))}data(e){const{cellUID:t,focusedDate:n,isActiveView:o,max:r,min:i,selectedDate:a,selectionRange:s=Nm,viewDate:l}=e;if(!l)return Ev;const c=qm(0,4),d=xv(l),u=Sv(l),p=Bm();return qm(0,3).map((e=>{const l=hv(d,4*e);return c.map((e=>{const c=this.normalize(hv(l,e),i,r),h=this.isEqual(c,s.start),f=this.isEqual(c,s.end),m=!h&&!f&&Hm(c,s),g=o&&(Array.isArray(a)?this.isSelectedFromArray(c,a,i,r):Vm(a,i,r)&&this.isEqual(c,a));return Um(c,d,u)?{formattedValue:this.value(c),id:"".concat(t).concat(c.getTime()),isFocused:this.isEqual(c,n),isSelected:g,isWeekend:!1,isInRange:Vm(c,i,r),isRangeStart:h,isRangeMid:m,isRangeEnd:f,isRangeSplitEnd:m&&this.isEqual(c,u),isRangeSplitStart:m&&this.isEqual(c,d),isToday:this.isEqual(c,p),title:this.cellTitle(c),value:c}:null}))}))}isSelectedFromArray(e,t,n,o){let r=!1;return t.forEach((t=>{Vm(e,n,o)&&this.isEqual(e,t)&&(r=!0)})),r}isEqual(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()}isInArray(e,t){if(!t.length)return!1;const n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+9}isInRange(e,t,n){const o=e.getFullYear(),r=!t||t.getFullYear()<=o,i=!n||o<=n.getFullYear();return r&&i}isRangeStart(e){return e.getFullYear()%100===0}isInSameView(e,t){return 0===Iv(e,t)}move(e,t){const n=_v[t];return n?n(e):e}cellTitle(e){return e.getFullYear().toString()}navigationTitle(e){return e?xv(e).getFullYear().toString():""}title(e){return e?"".concat(xv(e).getFullYear()," - ").concat(Sv(e).getFullYear()):""}rowLength(e){return 4}skip(e,t){return Iv(t,e)}total(e,t){return Iv(e,t)+1}value(e){return e?e.getFullYear().toString():""}viewDate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Iv(e,t)<n?fv(e,-1):e}normalize(e,t,n){return e<t&&this.isEqual(e,t)?sf(t):e>n&&this.isEqual(e,n)?sf(n):e}},[Xg.century]:class{addToDate(e,t){return mv(e,t)}datesList(e,t){return qm(0,t).map((t=>mv(e,t)))}data(e){const{cellUID:t,focusedDate:n,isActiveView:o,max:r,min:i,selectedDate:a,selectionRange:s=Nm,viewDate:l}=e;if(!l)return kv;const c=qm(0,4),d=vv(l),u=yv(l),p=Bm();return qm(0,3).map((e=>{const l=fv(d,4*e);return c.map((e=>{const c=this.normalize(fv(l,e),i,r),h=this.isEqual(c,s.start),f=this.isEqual(c,s.end),m=!h&&!f&&Hm(c,s),g=o&&(Array.isArray(a)?this.isSelectedFromArray(c,a,i,r):Vm(a,i,r)&&this.isEqual(c,a));return Um(c,d,u)?{formattedValue:this.value(c),id:"".concat(t).concat(c.getTime()),isFocused:this.isEqual(c,n),isSelected:g,isWeekend:!1,isInRange:Vm(c,i,r),isRangeStart:h,isRangeMid:m,isRangeEnd:f,isRangeSplitEnd:m&&this.isEqual(c,u),isRangeSplitStart:m&&this.isEqual(c,d),isToday:this.isEqual(c,p),title:this.cellTitle(c),value:c}:null}))}))}isSelectedFromArray(e,t,n,o){let r=!1;return t.forEach((t=>{Vm(e,n,o)&&this.isEqual(e,t)&&(r=!0)})),r}isEqual(e,t){return!(!e||!t)&&xv(e).getFullYear()===xv(t).getFullYear()}isInArray(e,t){if(!t.length)return!1;const n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+99}isInRange(e,t,n){const o=xv(e).getFullYear(),r=!t||xv(t).getFullYear()<=o,i=!n||o<=xv(n).getFullYear();return r&&i}isInSameView(e,t){return 0===bv(e,t)}isRangeStart(e){return e.getFullYear()%1e3===0}move(e,t){const n=Cv[t];return n?n(e):e}cellTitle(e){return xv(e).getFullYear().toString()}navigationTitle(e){return e?vv(e).getFullYear().toString():""}title(e){return e?"".concat(vv(e).getFullYear()," - ").concat(yv(e).getFullYear()):""}rowLength(e){return 4}skip(e,t){return bv(t,e)}total(e,t){return bv(e,t)+1}value(e){return e?xv(e).getFullYear().toString():""}viewDate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return bv(e,t)<n?mv(e,-1):e}normalize(e,t,n){return e<t&&this.isEqual(e,t)?sf(t):e>n&&this.isEqual(e,n)?sf(n):e}}};class Bv{constructor(e){this.bottom=Xg.month,this.top=Xg.century,this.onViewChanged=e}configure(e,t){this.bottom=e,this.top=t}service(e,t){return new(zv["".concat(e)])(t)}moveDown(e,t){this.move(e,-1,t)}moveUp(e,t){this.move(e,1,t)}moveToBottom(e){e!==this.bottom&&this.onViewChanged({view:this.bottom})}canMoveDown(e){return this.bottom<e}canMoveUp(e){return e<this.top}clamp(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}move(e,t,n){const o=this.clamp(((e,t)=>{const n=Xg[Xg[e+t]];return void 0!==n?n:e})(e,t));o!==e&&this.onViewChanged({view:o},n)}}class Vv{constructor(){this.calendarHeight=0,this.headerHeight=0,this.monthViewHeight=0,this.yearViewHeight=0,this.decadeViewHeight=0,this.centuryViewHeight=0,this.navigationItemHeight=0,this.scrollableContentHeight=0,this.scrollableYearContentHeight=0,this.calendarWidth=0,this.monthViewWidth=0,this.yearViewWidth=0,this.decadeViewWidth=0,this.centuryViewWidth=0,this.scrollableContentWidth=0,this.didCalculate=!1,this.hostContainer=null}ensureHeights(){void 0===this.calendarHeight&&this.calculateHeights()}calculateHeights(e,t){if(!Ro)return;const n=Wm("div"),o=Wm("ul"),r=Wm("li"),i=Wm("td"),a=Wm("th"),s=Wm("tr"),l=Wm("tbody"),c=Wm("thead"),d=Wm("table"),u=t&&t.uCalendar,p=t&&t.uButton,h=rn(Xn({c:p,fillMode:"flat",size:"medium",rounded:"medium",themeColor:"primary"}),gf.title({c:u})),f=()=>n('\n                <span class="'.concat(h,'">\n                    <span class="').concat(rn(Qn({c:p})),'">March 2017</span>\n                </span>\n                <span class="').concat(rn(gf.spacer({c:u})),'"></span>\n                <span class="').concat(rn(gf.nav({c:u})),'"><button class="').concat(rn(gf.today({c:u})),'">TODAY</button></span>\n            '),rn(gf.header({c:u,vertical:!0}))),m=(e,t)=>new Array(e).fill("1").map(t),g=e=>n(e,rn(gf.scrollableSelector({c:u}),gf.scrollable({c:u,horizontal:!0}))),v=(()=>{let e;return()=>Ro?(e||(e=n([g([o([r("<span>FEB</span>")])])],rn(gf.navigation({c:u})),{left:"0px",position:"absolute"})),e):null})(),y=(e,t,o)=>{let r,{cells:p,rows:h}=e;return()=>Ro?(r||(r=((e,t,o)=>n(o?[f(),d([c([s([a("MO",rn(gf.th({c:u})))],rn(gf.tr({c:u})))],rn(gf.thead({c:u})))],rn(gf.table({c:u,weekdays:!0}))),g([e,e])]:[f(),g([e,e])],t,{left:"-10000px",position:"absolute"}))(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return d([l([s([i("1",rn(gf.td({c:u,isWeek:!0})))])].concat(m(e,(()=>s(m(t,(e=>i('<span class="'.concat(rn(gf.link({c:u})),'">').concat(e,"</span>"),rn(gf.td({c:u}))))),rn(gf.tr({c:u})))))),rn(gf.tbody({c:u})))],rn(gf.table({c:u})))}(h,p),t,o)),r):null},x=e=>e.querySelector(".".concat(rn(gf.scrollableSelector({c:u})))),b=e=>{const t=x(e);return t.className="".concat(t.className," scrollable-horizontal"),e},w=y({cells:7,rows:6},rn(gf.view({c:u,month:!0})),!0),k=y({cells:5,rows:3},rn(gf.view({c:u,year:!0})),!1),C=y({cells:5,rows:2},rn(gf.view({c:u,decade:!0})),!1),S=e=>parseFloat(window.getComputedStyle(e).height)||e.offsetHeight,I=e=>{const t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)||e.offsetWidth},E=e=>e.querySelector("tbody");this.didCalculate=!0,e&&(this.hostContainer=e),this.batch(w(),(e=>{const t=E(e);this.calendarHeight=S(e),this.monthViewHeight=S(t),this.headerHeight=S(t.children[0]),this.scrollableContentHeight=S(x(e))})),this.batch(b(w()),(e=>{const t=E(e);this.calendarWidth=I(e),this.monthViewWidth=I(t),this.scrollableContentWidth=I(x(e))})),this.batch(k(),(e=>{this.yearViewHeight=S(E(e)),this.scrollableYearContentHeight=S(x(e))})),this.batch(b(k()),(e=>{this.yearViewWidth=I(E(e))})),this.batch(C(),(e=>{this.decadeViewHeight=S(E(e)),this.centuryViewHeight=this.decadeViewHeight})),this.batch(b(C()),(e=>{this.decadeViewWidth=I(E(e)),this.centuryViewWidth=this.decadeViewWidth})),this.batch(v(),(e=>{this.navigationItemHeight=S(e.querySelector("li"))}))}viewHeight(e){return this.viewDimension(e,"height")}viewWidth(e){return this.viewDimension(e,"width")}viewDimension(e,t){const n="height"===t?"ViewHeight":"ViewWidth";switch(e){case Xg.month:return this["month".concat(n)];case Xg.year:return this["year".concat(n)];case Xg.decade:return this["decade".concat(n)];case Xg.century:return this["century".concat(n)];default:return 1}}batch(e,t){const n=this.hostContainer||document.body,o=n.appendChild(e);t(o),n.removeChild(o)}}const Hv={33:wv.PrevView,34:wv.NextView,35:wv.LastInView,36:wv.FirstInView,37:wv.Left,38:wv.Up,39:wv.Right,40:wv.Down,"meta+38":wv.UpperView,"meta+40":wv.LowerView};class qv{constructor(e){this.bus=e}action(e){const t="".concat(e.ctrlKey||e.metaKey?"meta+":"").concat(e.keyCode);return Hv[t]}move(e,t,n,o,r){return o?t===wv.UpperView&&this.bus.canMoveUp(n)?(this.bus.moveUp(n,r),e):t===wv.LowerView&&this.bus.canMoveDown(n)?(this.bus.moveDown(n,r),e):o.move(e,t):e}}class Uv{constructor(e){this.dom=e,this.divideByMagnitude=null,this.powerByMagnitude=null,this.navigator=null,this.view=null,this.monthScrolled=!1,this.navScrolled=!1}configure(e){const t=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=(e=>t=>Math.floor(t/e))(t),this.powerByMagnitude=(e=>t=>t*e)(t)}sync(e,t,n){if(e&&t){if(this.navigator=e,this.view=t,n.target===this.navigator.element){if(this.monthScrolled)return void(this.monthScrolled=!1);this.navScrolled=!0,this.scrollSiblingOf(this.navigator.element)}if(n.target===this.view.element){if(this.navScrolled)return void(this.navScrolled=!1);this.monthScrolled=!0,this.scrollSiblingOf(this.view.element)}}}scrollSiblingOf(e){const t=this.siblingComponent(e),n=this.calculateScroll(t,e.scrollTop);t.scrollTo(n)}siblingComponent(e){return this.navigator.element===e?this.view:this.navigator}calculateScroll(e,t){const n=e===this.navigator?this.divideByMagnitude:this.powerByMagnitude;return n?n(t):0}}const Gv=e=>e?e.virtualization:null,Wv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yv.defaultProps.min,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yv.defaultProps.max,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return void 0!==o?null!==o&&Vm(df(o),e,t)?o:null:null!==n&&Vm(df(n),e,t)?n:null},Kv=class e extends o.Component{constructor(t){super(t),this.scrollSyncService=null,this.focusedDate=null,this.Navigation=null,this.calendarViewList=null,this._element=null,this.intl=null,this.service=null,this.isActive=!1,this.didNavigationChange=!1,this.focus=()=>{this._element&&this._element.focus()},this.shouldScroll=()=>this.didNavigationChange,this.handleScroll=e=>{this.scrollSyncService&&this.scrollSyncService.sync(Gv(this.Navigation),Gv(this.calendarViewList),e)},this.handleNavigationChange=e=>{if(this.props.disabled)return;this.didNavigationChange=!0;const t=sf(e.value);this.setState({focusedDate:t})},this.handleViewChange=e=>{let{view:t}=e;this.scrollSyncService&&this.scrollSyncService.configure(t),this.setState({activeView:t})},this.handleDateChange=e=>{const t=sf(e.value),n=sf(e.value),o=this.bus.canMoveDown(this.state.activeView);if(this.props.disabled)return;if(o){if(!e.isTodayClick)return this.bus.moveDown(this.state.activeView,e.syntheticEvent),void this.setState({focusedDate:n});this.bus.moveToBottom(this.state.activeView)}this.setState({value:t,focusedDate:n}),this.valueDuringOnChange=t;const{onChange:r}=this.props;if(r){const n={syntheticEvent:e.syntheticEvent,nativeEvent:e.nativeEvent,value:t,target:this};r.call(void 0,n)}this.valueDuringOnChange=void 0},this.handleFocus=e=>{if(this.isActive=!0,!this.calendarViewList)return;this.calendarViewList.focusActiveDate();const{onFocus:t}=this.props;t&&t.call(void 0,e)},this.handleBlur=e=>{if(this.isActive=!1,!this.calendarViewList)return;this.calendarViewList.blurActiveDate();const{onBlur:t}=this.props;t&&t.call(void 0,e)},this.handleKeyDown=e=>{const{keyCode:t,ctrlKey:n,metaKey:o}=e;if(this.focusedDate&&this.service){if(84===t&&this.setState({focusedDate:Bm()}),(n||o)&&(t===Rt||t===Lt)){if(this.props.disabled)return;this.didNavigationChange=!0,31===this.focusedDate.getDate()&&this.focusedDate.setDate(30);const e=t===Rt?this.focusedDate.getMonth()-1:this.focusedDate.getMonth()+1,n=new Date(this.focusedDate.setMonth(e)),o=sf(n);this.setState({focusedDate:o})}if(t===At){if(null!==this.value&&jg(this.focusedDate,this.value)){const e=Gm(this.focusedDate,this.min,this.max);Gv(this.calendarViewList).scrollToIndex(this.service.skip(e,this.min))}const t={syntheticEvent:e,nativeEvent:e.nativeEvent,value:this.focusedDate,target:this};this.handleDateChange(t)}else{const t=Gm(this.navigation.move(this.focusedDate,this.navigation.action(e),this.state.activeView,this.service,e),this.min,this.max);if(jg(this.focusedDate,t))return;this.setState({focusedDate:t})}e.preventDefault()}},this.handleMouseDown=e=>{e.preventDefault()},this.handleClick=e=>{this._element&&this._element.focus({preventScroll:!0})};const n=Wv(this.min,this.max,this.props.defaultValue||e.defaultProps.defaultValue,this.props.value);this.state={value:n,activeView:Pm(Xg[t.defaultActiveView],this.bottomView,this.topView),focusedDate:Gm(t.focusedDate||n||Bm(),this.min,this.max)},this.dom=new Vv,this.bus=new Bv(this.handleViewChange),this.navigation=new qv(this.bus),this.oldValue=n}get cellUID(){return this.props.id+"-cell-uid"}get id(){return this.props.id+"-id"}get element(){return this._element}get value(){return void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value}get min(){return df(void 0!==this.props.min?this.props.min:e.defaultProps.min)}get max(){return df(void 0!==this.props.max?this.props.max:e.defaultProps.max)}get bottomView(){return Xg[void 0!==this.props.bottomView?this.props.bottomView:e.defaultProps.bottomView]}get topView(){return Xg[void 0!==this.props.topView?this.props.topView:e.defaultProps.topView]}componentDidMount(){const{unstyled:e}=this.props;Promise.resolve().then((()=>{_g(),this._element&&(this.dom.calculateHeights(this._element,e),this.scrollSyncService=new Uv(this.dom),this.scrollSyncService.configure(this.state.activeView),this.forceUpdate())}))}componentDidUpdate(e,t){_g(),t.activeView!==this.state.activeView&&this.scrollSyncService&&this.scrollSyncService.configure(this.state.activeView),this.calendarViewList&&(this.isActive?this.calendarViewList.focusActiveDate:this.calendarViewList.blurActiveDate)(),this.didNavigationChange=!1,this.isActive&&(this.oldValue=this.value)}render(){const{_ref:t,unstyled:n,bottomView:r,topView:i,disabled:a,weekNumber:s,mobileMode:l,className:c}=this.props;t&&t(this);const d=n&&n.uCalendar,u=null!==this.value&&null!==this.oldValue?!jg(this.value,this.oldValue):this.value!==this.oldValue,p=Pm(this.state.activeView,Xg[void 0!==r?r:e.defaultProps.bottomView],Xg[void 0!==i?i:e.defaultProps.topView]),h=Wv(this.min,this.max,this.value,this.value),f=h?df(h):null;this.focusedDate=df(Gm(u&&null!==h?h:this.state.focusedDate,this.min,this.max)),this.intl=Yh(this),this.bus.configure(this.bottomView,this.topView),this.service=this.bus.service(p,this.intl);const{smoothScroll:m=Number.parseFloat(o.version)<18}=this.props,g=on(gf.wrapper({c:d,disabled:a,weekNumber:s,mobileMode:l}),c),v=[this.props.navigation&&o.createElement(uv,{key:0,ref:e=>{this.Navigation=e},activeView:this.state.activeView,focusedDate:this.focusedDate,min:this.min,max:this.max,onScroll:this.handleScroll,onChange:this.handleNavigationChange,service:this.service,dom:this.dom,navigationItem:this.props.navigationItem,tabIndex:this.props.tabIndex,unstyled:n}),o.createElement(sv,{key:1,ref:e=>{this.calendarViewList=e},activeView:this.state.activeView,focusedDate:this.focusedDate,min:this.min,max:this.max,bus:this.bus,shouldScroll:this.shouldScroll,onScroll:this.handleScroll,service:this.service,cell:this.props.cell,weekCell:this.props.weekCell,dom:this.dom,smoothScroll:m,showWeekNumbers:this.props.weekNumber,onChange:this.handleDateChange,value:f,cellUID:this.cellUID,headerTitle:this.props.headerTitle,header:this.props.header,tabIndex:this.props.tabIndex,weekDaysFormat:this.props.weekDaysFormat,showOtherMonthDays:this.props.showOtherMonthDays,unstyled:n})];return o.createElement("div",{ref:e=>{this._element=e},className:g,id:this.props.id||this.id,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,"aria-disabled":this.props.disabled,tabIndex:this.props.disabled?void 0:this.props.tabIndex||0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onClick:this.handleClick},v)}};Kv.displayName="Calendar",Kv.propTypes={className:Et.string,defaultActiveView:Et.oneOf(["month","year","decade","century"]),defaultValue:Et.instanceOf(Date),disabled:Et.bool,focusedDate:Et.instanceOf(Date),id:Et.string,ariaLabelledBy:Et.string,ariaDescribedBy:Et.string,weekDaysFormat:Et.oneOf(["short","abbreviated","narrow"]),max:Et.instanceOf(Date),min:Et.instanceOf(Date),navigation:Et.bool,smoothScroll:Et.bool,onBlur:Et.func,onChange:Et.func,onFocus:Et.func,tabIndex:Et.number,value:Et.instanceOf(Date),weekNumber:Et.bool,topView:(e,t,n)=>{const o=e[t],r=e.bottomView;return o&&r&&Xg[o]<Xg[r]?new Error("Invalid prop + ".concat(t," suplied to ").concat(n,".\n                    ").concat(t," can not be smaller than bottomView.\n                    ")):null},bottomView:(e,t,n)=>{const o=e[t],r=e.topView;return o&&r&&Xg[o]>Xg[r]?new Error("Invalid prop + ".concat(t," suplied to ").concat(n,".\n                    ").concat(t," can not be bigger than topView.\n                    ")):null}},Kv.defaultProps={disabled:!1,min:Om,max:Rm,weekDaysFormat:"short",navigation:!0,defaultActiveView:"month",defaultValue:null,topView:"century",bottomView:"month",showOtherMonthDays:!1};let Yv=Kv;const Xv=pa(Pa(Ta(),(e=>o.forwardRef(((t,n)=>{const r=uo();return o.createElement(e,p(p({},t),{},{ref:n,unstyled:r}))})))(Yv)));Xv.displayName="KendoReactCalendar",Qh(Yv);const Qv=xo,Jv=o.forwardRef(((e,t)=>{const{_ref:n}=e,r=o.useRef(null);o.useImperativeHandle(t,(()=>r.current)),o.useImperativeHandle(n,(()=>r.current));const i=o.useMemo((()=>on(e.className,"k-picker-wrap")),[e.className]);return o.createElement("span",{ref:r,id:e.id,style:e.style,className:i,tabIndex:e.tabIndex},e.children)})),Zv=["dateInput"],$v=e=>{const{dateInput:t}=e,n=s(e,Zv),r=(e=>{const[t,n]=o.useState(!1);return o.useEffect((()=>{var t;e.current&&n(!!(null!=(t=e.current.element)&&t.value||e.current.text))})),{editorValue:t}})(t);return o.createElement(Vc,p(p({},n),r))},ey=e=>{const{footer:t,windowWidth:n=0,mobileFilter:r,children:i,navigatable:a,navigatableElements:s,expand:l,animation:c,title:d,subTitle:u,onClose:h}=e,f=qu(),m={navigatable:a||!1,navigatableElements:s||[],expand:l,animation:!1!==c,suffixActions:o.createElement(xo,{tabIndex:0,"aria-label":"Cancel","aria-disabled":"false",type:"button",fillMode:"flat",icon:"x",svgIcon:dd,onClick:h}),filter:r,onClose:h,animationStyles:f&&n<=f.small?{top:0,width:"100%",height:"100%"}:void 0,title:d,subTitle:u,className:"k-adaptive-actionsheet",position:f&&n<=f.small?"fullscreen":void 0};return o.createElement(_h,p({},m),i,t&&o.createElement(Sh,{className:"k-actions k-actions-stretched"},o.createElement(xo,{size:"large",tabIndex:0,"aria-label":t.cancelText,"aria-disabled":"false",type:"button",onClick:t.onCancel},t.cancelText),o.createElement(xo,{tabIndex:0,themeColor:"primary",size:"large","aria-label":t.applyText,"aria-disabled":"false",type:"button",onClick:t.onApply},t.applyText)))},ty=["defaultShow","defaultValue","dateInput","calendar","toggleButton","popup","pickerWrap","disabled","format","max","min","popupSettings","tabIndex","weekNumber","validityStyles","size","rounded","fillMode","autoFocus","show","autoSwitchParts","autoSwitchKeys","twoDigitYearMax","ariaLabel","adaptive","formatPlaceholder","adaptiveTitle","inputAttributes","validationMessage","visited","value","touched","modified","_adaptiveMode","valid","focusedDate","id","ariaLabelledBy"],ny=["popupClass"],oy=o.forwardRef(((e,t)=>{const n=nn(e.id),r=Fc(),i=qu(),a=Na(iy,e),{defaultShow:l=ry.defaultShow,defaultValue:c=ry.defaultValue,dateInput:d=ry.dateInput,calendar:u=ry.calendar,toggleButton:h=ry.toggleButton,popup:f=ry.popup,pickerWrap:m=ry.pickerWrap,disabled:g=ry.disabled,format:v=ry.format,max:y=ry.max,min:x=ry.min,popupSettings:b=ry.popupSettings,tabIndex:w=ry.tabIndex,weekNumber:k=ry.weekNumber,validityStyles:C=ry.validityStyles,size:S=ry.size,rounded:I=ry.rounded,fillMode:E=ry.fillMode,autoFocus:_=ry.autoFocus,show:j,autoSwitchParts:A,autoSwitchKeys:D,twoDigitYearMax:N,ariaLabel:T,adaptive:P,formatPlaceholder:M,adaptiveTitle:O,inputAttributes:R,validationMessage:F,visited:L,value:z,touched:B,modified:V,_adaptiveMode:H=i,valid:q,focusedDate:U,id:G,ariaLabelledBy:W}=a,K=s(a,ty),Y=()=>{if(Ro)return he.current&&he.current.ownerDocument||window.document},X=()=>!!(ke.windowWidth&&i&&ke.windowWidth<=(null==i?void 0:i.medium)&&e.adaptive),Q=()=>{const e=void 0!==ge.current?ge.current:void 0!==z?z:ke.value;return null!==e?sf(e):null},J=()=>void 0!==ve.current?ve.current:void 0!==j?j:ke.show,Z=()=>void 0!==e.required&&e.required,$=()=>{const e=Q()||z||null,t=x,n=y,o=((e,t,n)=>null===e||!(t&&df(t)>df(e)||n&&df(n)<df(e)))(e,t,n),r=void 0!==F,i=(!Z()||null!=e)&&o,a=void 0!==q?q:i;return{customError:r,rangeOverflow:e&&n.getTime()<e.getTime()||!1,rangeUnderflow:e&&e.getTime()<t.getTime()||!1,valid:a,valueMissing:null===e}},ee=()=>{fe.current&&fe.current.focus()},te=e=>{me.current=e},ne=t=>{J()!==t&&(Ie({show:t}),t&&e.onOpen&&e.onOpen.call(void 0,{target:pe.current}),!t&&e.onClose&&e.onClose.call(void 0,{target:pe.current}))},oe=e=>{null!=b&&b.onMouseDownOutside&&b.onMouseDownOutside.call(void 0,e)},re=(t,n)=>{Ie({value:sf(t||void 0)}),ge.current=t,ve.current=!1,X()||(xe.current=!0),e.onChange&&e.onChange.call(void 0,{syntheticEvent:n.syntheticEvent,nativeEvent:n.nativeEvent,value:Q(),show:J(),target:pe.current}),ge.current=void 0,ve.current=void 0,ne(!1)},ie=e=>{const t=(e=>{const t=Q();return t&&e?zm(e,t):e})(e.value);re(t,e)},ae=()=>{const{popupClass:e}=b,t=s(b,ny),n=J(),r=Q(),i=r&&df(r),a=on(e),l=p(p({popupClass:"k-datepicker-popup",show:n,anchor:he.current,className:a,id:Ee,anchorAlign:{horizontal:"left",vertical:"bottom"},popupAlign:{horizontal:"left",vertical:"top"}},t),{},{onMouseDownOutside:oe}),c={disabled:g,value:i,min:x,max:y,weekNumber:k,focusedDate:U,className:X()?"k-calendar-lg":"",navigation:!X(),onChange:ie},d=u||ry.calendar,h=f||ry.popup;return X()?o.createElement(d,p({_ref:te},c)):o.createElement(h,p({},l),o.createElement(d,p({_ref:te},c)))},se=()=>{Ie({focused:!1}),ne(!1)},le=()=>{ne(!J())},ce=()=>{g||(xe.current=!0,ne(!J()))},de=e=>{e.preventDefault()},ue=e=>{const{altKey:t,keyCode:n}=e;if(n===Dt&&J())return xe.current=!0,void ne(!1);t&&(n===Ft||n===zt)&&(e.preventDefault(),e.stopPropagation(),xe.current=n===Ft,ne(n===zt))},pe=o.useRef(null),he=o.useRef(null),fe=o.useRef(null),me=o.useRef(null);o.useImperativeHandle(pe,(()=>({props:e,get element(){return he.current},get calendar(){return me.current},get dateInput(){return fe.current},get name(){return e.name},get show(){return J()},get validity(){return $()},get value(){return Q()},get mobileMode(){return X()},togglePopup:le,focus:ee}))),o.useImperativeHandle(t,(()=>pe.current));const ge=o.useRef(void 0),ve=o.useRef(void 0),ye=o.useRef(null),xe=o.useRef(!1),be=o.useRef(!1),we=o.useRef(null),[ke,Ce]=o.useState({value:c,show:l,focused:!1}),[,Se]=o.useReducer((e=>e),!0),Ie=e=>{Ce((t=>p(p({},t),e)))};o.useEffect((()=>{me.current&&me.current.element&&J()&&!be.current&&me.current.element.focus({preventScroll:!0}),fe.current&&fe.current.element&&!J()&&xe.current&&fe.current.element.focus({preventScroll:!0}),be.current=J(),xe.current=!1})),o.useEffect((()=>{var e;return we.current=Ro&&window.ResizeObserver&&new window.ResizeObserver((e=>(e=>{for(const t of e)Ie({windowWidth:t.target.clientWidth})})(e))),J()&&Se(),null!=(e=Y())&&e.body&&we.current&&we.current.observe(Y().body),()=>{var e;clearTimeout(ye.current),null!=(e=Y())&&e.body&&we.current&&we.current.disconnect()}}),[]);const Ee=n+"-popup-id",_e=ae(),je=d||ry.dateInput,Ae=Q(),De=h||ry.toggleButton,Ne=(()=>{const{windowWidth:e=0}=ke,t={expand:J(),onClose:se,adaptiveTitle:O,windowWidth:e},n=ae();return o.createElement(ey,p({},t),o.createElement(Eh,null,n))})(),Te=!C||$().valid,Pe=r.toLanguageString($m,vg[$m]),Me={disabled:g,format:v,formatPlaceholder:M,id:G,ariaLabelledBy:W,ariaDescribedBy:e.ariaDescribedBy,ariaLabel:T,max:y,min:x,name:e.name,onChange:e=>{re(e.value,e)},required:e.required,_ref:fe,tabIndex:J()?-1:w,title:e.title,valid:$().valid,validationMessage:F,validityStyles:C,value:Ae,label:void 0,placeholder:ke.focused?null:e.placeholder,ariaExpanded:J(),size:null,fillMode:null,rounded:null,autoFill:e.autoFill,twoDigitYearMax:N,enableMouseWheel:e.enableMouseWheel,autoCorrectParts:e.autoCorrectParts,autoSwitchParts:A,autoSwitchKeys:D,allowCaretMode:e.allowCaretMode,inputAttributes:R},Oe=o.createElement(uf,{onFocus:()=>{Ie({focused:!0})},onBlur:X()?void 0:se,onSyncBlur:e.onBlur,onSyncFocus:e.onFocus},(t=>o.createElement(o.Fragment,null,o.createElement("span",p(p({},e.label?{}:K),{},{ref:he,className:on("k-input","k-datepicker",{["k-input-".concat(ko.sizeMap[S]||S)]:S,["k-rounded-".concat(ko.roundedMap[I]||I)]:I,["k-input-".concat(E)]:E,"k-invalid":!Te,"k-required":Z(),"k-disabled":g},e.className),onKeyDown:ue,style:{width:e.width},onFocus:t.onFocus,onBlur:t.onBlur,onClick:X()?ce:void 0}),o.createElement(je,p({_ref:fe,ariaRole:"combobox",ariaExpanded:J(),ariaControls:Ee,autoFocus:_},Me)),o.createElement(De,{type:"button",icon:"calendar",svgIcon:ld,title:Pe,className:"k-input-button",rounded:null,onClick:X()?void 0:ce,"aria-label":Pe,fillMode:E,onMouseDown:de}),!X()&&_e),X()&&Ne)));return e.label?o.createElement($v,p({dateInput:fe,label:e.label,editorId:n,editorValid:Te,editorDisabled:g,children:Oe,style:{width:e.width}},K)):Oe}));oy.propTypes={className:Et.string,defaultShow:Et.bool,defaultValue:Et.instanceOf(Date),disabled:Et.bool,focusedDate:Et.instanceOf(Date),format:Et.oneOfType([Et.string,Et.shape({skeleton:Tm(Et.string),pattern:Tm(Et.string),date:Tm(Et.oneOf(["short","medium","long","full"])),time:Tm(Et.oneOf(["short","medium","long","full"])),datetime:Tm(Et.oneOf(["short","medium","long","full"])),era:Tm(Et.oneOf(["narrow","short","long"])),year:Tm(Et.oneOf(["numeric","2-digit"])),month:Tm(Et.oneOf(["numeric","2-digit","narrow","short","long"])),day:Tm(Et.oneOf(["numeric","2-digit"])),weekday:Tm(Et.oneOf(["narrow","short","long"])),hour:Tm(Et.oneOf(["numeric","2-digit"])),hour12:Tm(Et.bool),minute:Tm(Et.oneOf(["numeric","2-digit"])),second:Tm(Et.oneOf(["numeric","2-digit"])),timeZoneName:Tm(Et.oneOf(["short","long"]))})]),formatPlaceholder:Et.oneOfType([Tm(Et.oneOf(["wide","narrow","short","formatPattern"])),Et.shape({year:Tm(Et.string),month:Tm(Et.string),day:Tm(Et.string),hour:Tm(Et.string),minute:Tm(Et.string),second:Tm(Et.string)})]),id:Et.string,ariaLabelledBy:Et.string,ariaDescribedBy:Et.string,ariaLabel:Et.string,min:Et.instanceOf(Date),max:Et.instanceOf(Date),name:Et.string,popupSettings:Et.shape({animate:Tm(Et.bool),appendTo:Tm(Et.any),popupClass:Tm(Et.string)}),show:Et.bool,tabIndex:Et.number,title:Et.string,value:Et.instanceOf(Date),weekNumber:Et.bool,width:Et.oneOfType([Et.number,Et.string]),validationMessage:Et.string,required:Et.bool,valid:Et.bool,size:Et.oneOf([null,"small","medium","large"]),rounded:Et.oneOf([null,"small","medium","large","full"]),fillMode:Et.oneOf([null,"solid","flat","outline"]),adaptive:Et.bool,adaptiveTitle:Et.string,autoFocus:Et.bool,inputAttributes:Et.object};const ry={defaultShow:!1,defaultValue:null,dateInput:Cg,calendar:Xv,toggleButton:Qv,popup:jr,pickerWrap:Jv,disabled:!1,format:"d",max:Rm,min:Om,popupSettings:{},tabIndex:0,weekNumber:!1,validityStyles:!0,size:"medium",rounded:"medium",fillMode:"solid",autoFocus:!1},iy=Ta();oy.displayName="KendoReactDatePicker";const ay={success:"check-outline",error:"x-outline",info:"info-circle",warning:"exclamation-circle"},sy={success:{name:"check-outline",content:'<path d="M256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m0 416c-106 0-192-86-192-192S150 64 256 64s192 86 192 192-86 192-192 192m-32-154-83-83-45 45 128 128 176-176-45-45z" />',viewBox:"0 0 512 512"},error:{name:"x-outline",content:'<path d="M384 338.7 338.7 384 256 301.3 173.3 384 128 338.7l82.7-82.7-82.7-82.7 45.3-45.3 82.7 82.7 82.7-82.7 45.3 45.3-82.7 82.7zM256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m0 416c-106 0-192-86-192-192S150 64 256 64s192 86 192 192-86 192-192 192" />',viewBox:"0 0 512 512"},info:{name:"info-circle",content:'<path d="M288 352h32v32H192v-32h32v-96h-32v-32h96zm0-224h-64v64h64zm192 128c0 123.7-100.3 224-224 224S32 379.7 32 256 132.3 32 256 32s224 100.3 224 224m-32 0c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192" />',viewBox:"0 0 512 512"},warning:{name:"exclamation-circle",content:'<path d="M224 128h64v160h-64zm0 256h64v-64h-64zm256-128c0 123.7-100.3 224-224 224S32 379.7 32 256 132.3 32 256 32s224 100.3 224 224m-32 0c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192" />',viewBox:"0 0 512 512"}},ly=class e extends o.Component{render(){const{onClose:t,className:n,closable:r=e.defaultProps.closable,type:i=e.defaultProps.type}=this.props;return o.createElement("div",{dir:this.props.dir,className:"k-notification"+(n?" ".concat(n):"")+("none"===i.style?"":" k-notification-".concat(i.style))+(r?" k-notification-closable":""),style:this.props.style},i.icon&&o.createElement(vo,{className:"k-notification-status",name:ay[i.style],icon:sy[i.style]}),o.createElement("div",{className:"k-notification-content"},this.props.children),r&&o.createElement("span",{className:"k-notification-actions"},o.createElement("span",p({className:"k-notification-action k-notification-close-action",title:"Close",onClick:e=>{t&&t.call(void 0,{target:this,syntheticEvent:e,nativeEvent:e.nativeEvent})}},"boolean"!=typeof r?r:{}),o.createElement(vo,{name:"x",icon:dd}))))}};ly.propTypes={className:Et.string,closable:Et.oneOfType([Et.bool,Et.object]),dir:Et.string,style:Et.object,type:Et.shape({style:Et.oneOf(["none","success","error","warning","info"]),icon:Et.bool}),onClose:Et.func},ly.defaultProps={closable:!1,type:{style:"none",icon:!0}};let cy=ly;const dy=["appear","enter","exit","transitionEnterDuration","transitionExitDuration","children"],uy=e=>{const{appear:t=py.appear,enter:n=py.enter,exit:r=py.exit,transitionEnterDuration:i=py.transitionEnterDuration,transitionExitDuration:a=py.transitionExitDuration,children:l}=e,c=s(e,dy);return o.createElement(yh,p(p({},{transitionName:"fade"}),{},{appear:t,enter:n,exit:r,transitionEnterDuration:i,transitionExitDuration:a},c),l)},py={appear:!1,enter:!0,exit:!1,transitionEnterDuration:500,transitionExitDuration:500};uy.propTypes={children:Et.oneOfType([Et.arrayOf(Et.node),Et.node]),childFactory:Et.any,className:Et.string,component:Et.string,id:Et.string,style:Et.any};const hy=e=>{let{isOpen:t,onClose:n,onConfirm:o,title:r="Confirm Action",message:i,confirmText:a="Confirm",cancelText:s="Cancel",type:l="warning",loading:c=!1,icon:d=null}=e;if(!t)return null;return(0,Io.createPortal)((0,pi.jsx)("div",{className:"confirm-dialog-overlay",children:(0,pi.jsxs)("div",{className:"confirm-dialog-container",children:[(0,pi.jsxs)("div",{className:"confirm-dialog-header",children:[(0,pi.jsx)("h3",{className:"confirm-dialog-title",children:r}),(0,pi.jsx)("button",{className:"confirm-dialog-close",onClick:n,disabled:c,children:(0,pi.jsx)(ai,{})})]}),(0,pi.jsxs)("div",{className:"confirm-dialog-content",children:[(0,pi.jsx)("div",{className:"dialog-icon-container",children:(()=>{if(d)return d;switch(l){case"danger":return(0,pi.jsx)(li,{className:"dialog-icon danger"});case"warning":return(0,pi.jsx)(Jr,{className:"dialog-icon warning"});case"success":return(0,pi.jsx)(Ur,{className:"dialog-icon success"});default:return(0,pi.jsx)(Jr,{className:"dialog-icon info"})}})()}),(0,pi.jsx)("div",{className:"dialog-message",children:"string"===typeof i?(0,pi.jsx)("p",{children:i}):i})]}),(0,pi.jsxs)("div",{className:"confirm-dialog-actions",children:[(0,pi.jsxs)(xo,{onClick:n,className:"k-button k-button-secondary",disabled:c,children:[(0,pi.jsx)(ai,{style:{marginRight:"6px"}}),s]}),(0,pi.jsx)(xo,{onClick:o,className:(()=>{switch(l){case"danger":return"k-button k-button-danger";case"warning":return"k-button k-button-warning";case"success":return"k-button k-button-success";default:return"k-button k-button-primary"}})(),disabled:c,children:c?(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("div",{className:"spinner-small",style:{marginRight:"6px"}}),"Processing..."]}):(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)(Ur,{style:{marginRight:"6px"}}),a]})})]})]})}),document.body)},fy=()=>{const[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)(null),i=(0,o.useCallback)((async e=>{try{t(!0),r(null);const n=await fetch(yi("/record-type/by-name/".concat(e)),{method:"GET",headers:vi.headers});if(!n.ok)throw new Error("Failed to fetch record type: ".concat(n.status," ").concat(n.statusText));return await n.json()}catch(n){throw r(n.message),n}finally{t(!1)}}),[]),a=(0,o.useCallback)((async(e,n)=>{try{t(!0),r(null);const n=yi("/standard-field/by-record-type/".concat(e)),o=await fetch(n,{method:"GET",headers:vi.headers});if(!o.ok)throw new Error("Failed to fetch standard fields: ".concat(o.status," ").concat(o.statusText));const i=(await o.json()).sort(((e,t)=>e.displayOrder-t.displayOrder));return i}catch(o){throw r(o.message),o}finally{t(!1)}}),[]),s=(0,o.useCallback)((async e=>{try{t(!0),r(null);const n=await i(e),o=(await a(n.id,e)).sort(((e,t)=>(e.displayOrder||0)-(t.displayOrder||0)));return{recordType:n,recordTypeId:n.id,standardFields:o}}catch(n){throw r(n.message),n}finally{t(!1)}}),[i,a]);return{loading:e,error:n,fetchRecordTypeId:i,fetchStandardFields:a,fetchFormConfiguration:s}},my=e=>{const t={};return Object.keys(e).forEach((n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)})),t},gy=e=>e.errors?Object.entries(e.errors).map((e=>{let[t,n]=e;return"".concat(t,": ").concat(Array.isArray(n)?n.join(", "):n)})).join("\n"):e.message?e.message:"Validation failed",vy={headers:vi.headers},yy=e=>{const t=(e=>{const t=e.toLowerCase(),n=t.replace(/([A-Z])/g,"-$1").toLowerCase(),o={chartofaccount:"chart-of-account","chart-of-account":"chart-of-account",itemfulfillment:"item-fulfilment","item-fulfillment":"item-fulfilment",salesorder:"sales-order","sales-order":"sales-order",inventoryadjustment:"inventory-adjustment","inventory-adjustment":"inventory-adjustment",inventorytransfer:"inventory-transfer","inventory-transfer":"inventory-transfer",purchaseorder:"purchase-order","purchase-order":"purchase-order",itemreceipt:"item-receipt","item-receipt":"item-receipt",vendorbill:"vendor-bill","vendor-bill":"vendor-bill",creditmemo:"credit-memo","credit-memo":"credit-memo",debitmemo:"debit-memo","debit-memo":"debit-memo",vendorcredit:"vendor-credit","vendor-credit":"vendor-credit",customerpayment:"customer-payment","customer-payment":"customer-payment",vendorpayment:"vendor-payment","vendor-payment":"vendor-payment",formsourcetype:"form-source-type","form-source-type":"form-source-type"};return{baseUrl:yi("/".concat(o[t]||o[n]||t)),entityName:t,entityNamePlural:"".concat(t,"s"),entityNamePluralCamelCase:t.split("-").map(((e,t)=>0===t?e:e.charAt(0).toUpperCase()+e.slice(1))).join("")+"s",transformData:e=>{const t=p({},e);return!t.id&&t.code&&(t.id=t.code),!t.id&&t.customerCode&&(t.id=t.customerCode),t}}})(e);if(!t)throw new Error("Unable to generate configuration for entity type: ".concat(e));const[n,r]=(0,o.useState)({results:[],totalItems:0,pageSize:10,currentPage:1}),[i,a]=(0,o.useState)(!1),[s,l]=(0,o.useState)(null),c=(0,o.useCallback)((async()=>{const n=setTimeout((()=>{l("Request timeout: ".concat(t.entityNamePlural," API is taking too long to respond")),a(!1)}),3e4);try{a(!0),l(null),console.log("[".concat(e,"] Fetching from URL:"),t.baseUrl);const o=await fetch(t.baseUrl,p({method:"GET"},vy)).catch((n=>{throw console.error("[".concat(e,"] Network error:"),n),new Error("Network error: ".concat(n.message,". Please check if the API is running at ").concat(t.baseUrl))}));if(console.log("[".concat(e,"] Response status:"),o.status,o.statusText),!o.ok){const e=await o.text().catch((()=>""));throw new Error("HTTP error! status: ".concat(o.status," - ").concat(o.statusText).concat(e?". Body: ".concat(e):""))}const i=await o.json().catch((t=>{throw console.error("[".concat(e,"] JSON parse error:"),t),new Error("Failed to parse response: ".concat(t.message,". Please check the API response format."))}));if(console.log("[".concat(e,"] Raw response data:"),i),!i)throw console.error("[".concat(e,"] No data received")),new Error("No data received from the ".concat(t.entityNamePlural," API"));let s=[],c=0,d=10,u=1;i.results?(s=i.results,c=i.totalItems||s.length,d=i.pageSize||10,u=i.currentPage||1):Array.isArray(i)?(s=i,c=s.length):(s=[i],c=1);const h=s.map(t.transformData);console.log("[".concat(e,"] Final transformed data:"),{results:h,totalItems:c,pageSize:d,currentPage:u}),r({results:h,totalItems:c,pageSize:d,currentPage:u}),clearTimeout(n)}catch(o){clearTimeout(n);const e=o.message||"An unknown error occurred";l(e)}finally{a(!1)}}),[t.baseUrl,t.entityNamePlural]),d=(0,o.useCallback)((async e=>{try{a(!0),l(null);const n=await fetch("".concat(t.baseUrl,"/").concat(e),p({method:"GET"},vy)).catch((e=>{throw new Error("Network error: ".concat(e.message,". Please check if the API is running at ").concat(t.baseUrl))}));if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status," - ").concat(n.statusText));const o=await n.json().catch((e=>{throw new Error("Failed to parse response: ".concat(e.message,". Please check the API response format."))}));if(!o)throw new Error("".concat(t.entityName," with ID ").concat(e," not found"));return t.transformData(o)}catch(n){const e=n.message||"An unknown error occurred";throw l(e),n}finally{a(!1)}}),[t.baseUrl,t.entityName]),u=(0,o.useCallback)((async e=>{try{if(a(!0),l(null),!e||0===Object.keys(e).length)throw new Error("Entity data cannot be empty");const o=await fetch(t.baseUrl,p(p({method:"POST"},vy),{},{body:JSON.stringify(my(e))})).catch((e=>{throw new Error("Network error: ".concat(e.message,". Please check if the API is running at ").concat(t.baseUrl))}));let r;try{r=await o.json()}catch(n){r={}}if(!o.ok){if(400===o.status){const e=gy(r);throw new Error("Validation error: \n".concat(e))}throw new Error(r.message||r.title||"Failed to create ".concat(t.entityName,". Status: ").concat(o.status))}if(!r)throw new Error("Failed to create ".concat(t.entityName," - no data received from API"));return await c(),r}catch(n){const e=n.message||"An unknown error occurred";throw l(e),n}finally{a(!1)}}),[t.baseUrl,t.entityName,c]),h=(0,o.useCallback)((async(e,n)=>{try{if(a(!0),l(null),!n||0===Object.keys(n).length)throw new Error("Entity data cannot be empty");const o=await fetch("".concat(t.baseUrl,"/").concat(e),p(p({method:"PUT"},vy),{},{body:JSON.stringify(p(p({},n),{},{id:String(e)}))})).catch((e=>{throw new Error("Network error: ".concat(e.message,". Please check if the API is running at ").concat(t.baseUrl))}));let r;const i=await o.text();try{r=i?JSON.parse(i):{}}catch(co){r={message:i}}if(!o.ok){if(400===o.status){const e=gy(r);throw new Error("Validation error: \n".concat(e))}throw new Error(r.message||r.title||"Failed to update ".concat(t.entityName,". Status: ").concat(o.status))}return await c(),r}catch(o){const e=o.message||"An unknown error occurred";throw l(e),o}finally{a(!1)}}),[t.baseUrl,t.entityName,c]),f=(0,o.useCallback)((async e=>{try{a(!0),l(null);const n=await fetch("".concat(t.baseUrl,"/").concat(e),p({method:"DELETE"},vy)).catch((e=>{throw new Error("Network error: ".concat(e.message,". Please check if the API is running at ").concat(t.baseUrl))}));if(!n.ok){let e="Failed to delete ".concat(t.entityName,". Status: ").concat(n.status);try{const t=await n.json();e=t.message||t.title||e}catch(co){}throw new Error(e)}await c()}catch(n){const e=n.message||"An unknown error occurred";throw l(e),n}finally{a(!1)}}),[t.baseUrl,t.entityName,c]),m=(0,o.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{a(!0),l(null);const o=yi("/".concat(t.baseUrl.split("/").pop(),"?PageNumber=").concat(e,"&PageSize=").concat(n)),r=await fetch(o,p({method:"GET"},vy)).catch((e=>{throw new Error("Network error: ".concat(e.message,". Please check if the API is running at ").concat(o))}));if(!r.ok){const e=await r.text().catch((()=>""));throw new Error("HTTP error! status: ".concat(r.status," - ").concat(r.statusText).concat(e?". Body: ".concat(e):""))}const i=await r.json().catch((e=>{throw new Error("Failed to parse response: ".concat(e.message,". Please check the API response format."))}));if(!i)throw new Error("No data received from the API");let s=[],c=0;i.results&&Array.isArray(i.results)?(s=i.results,c=i.totalItems||i.totalCount||i.total||s.length):Array.isArray(i)?(s=i,c=s.length):i.data&&Array.isArray(i.data)?(s=i.data,c=i.totalItems||i.totalCount||i.total||s.length):(s=[],c=0);return{results:s.map(t.transformData),totalItems:c,pageSize:n,currentPage:e}}catch(o){const e=o.message||"An unknown error occurred";throw l(e),o}finally{a(!1)}}),[t.baseUrl,t.transformData]);(0,o.useEffect)((()=>{c()}),[c]);const g=t.entityName.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("");return{[t.entityNamePluralCamelCase]:n,creditMemos:"credit-memo"===e?n:void 0,debitMemos:"debit-memo"===e?n:void 0,data:n.results||n,loading:i,error:s,refresh:c,["fetch".concat(g,"ById")]:d,["create".concat(g)]:u,["update".concat(g)]:h,["delete".concat(g)]:f,fetchById:d,create:u,update:h,delete:f,fetchWithPagination:m,totalItems:n.totalItems||0,pageSize:n.pageSize||10,currentPage:n.currentPage||1}},xy=()=>yy("customer"),by=()=>yy("vendor"),wy=()=>yy("chart-of-account"),ky=()=>yy("sales-order"),Cy=()=>yy("item-fulfillment"),Sy=()=>yy("invoice"),Iy=()=>yy("credit-memo"),Ey=()=>yy("debit-memo"),_y=()=>yy("status"),jy=e=>{const t={};return Object.keys(e).forEach((n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)})),t},Ay=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=p({headers:p(p({},{"Content-Type":"application/json",Accept:"application/json"}),t.headers)},t),o=await fetch(yi(e),n);if(!o.ok){const e=await o.text();throw new Error("API Error: ".concat(o.status," - ").concat(e))}const r=o.headers.get("content-type"),i=o.headers.get("content-length");if(204===o.status||"0"===i||null===r||void 0===r||!r.includes("application/json"))return null;const a=await o.text();if(!a||""===a.trim())return null;try{return JSON.parse(a)}catch(s){return console.warn("Failed to parse JSON response:",a),null}},Dy=e=>({jeid:e.jeid,account:e.accountId,debit:e.debit,credit:e.credit,memo:e.memo,inactive:!1,recordID:e.recordID,recordType:e.recordType}),Ny=async e=>await Ay("/journal-entry-line",{method:"POST",body:JSON.stringify(jy(Dy(e)))}),Ty=async e=>{try{var t,n;const o=await Ay("/chart-of-account/".concat(e),{method:"GET"}),r=null!==(t=null!==(n=o.runningBalance)&&void 0!==n?n:o.openingBalance)&&void 0!==t?t:0;return Number(r)}catch(o){return console.error("Error fetching running balance for account ".concat(e,":"),o),0}},Py=async(e,t)=>{try{await Ay("/chart-of-account/".concat(e),{method:"PUT",body:JSON.stringify({runningBalance:t})})}catch(n){console.error("Error updating running balance for account ".concat(e,":"),n)}};async function My(e,t,n,o){console.log("=== Start Processing JV Lines ==="),console.log("changes",e),console.log("type",t),console.log("recordID",n),console.log("recordType",o);const r={},i=[],a=[...new Set(e.map((e=>String(e.accountId))).filter((e=>e&&"undefined"!==e&&"null"!==e)))];console.log("uniqueAccountIds",a),console.log("all accountIds from changes:",e.map((e=>({accountId:e.accountId,stringified:String(e.accountId)}))));for(const l of a)r[l]={running:await Ty(l),netDelta:0};console.log("accounts",r);for(const l of e){const e=String(l.accountId);r[e]||(console.warn("Account ".concat(e," not found in accounts object, initializing...")),r[e]={running:await Ty(e),netDelta:0});const t=(l.oldCredit||0)-(l.oldDebit||0),n=(l.newCredit||0)-(l.newDebit||0)-t;r[e].netDelta+=n}console.log("accounts after netDelta",r);for(const l of e){const e=String(l.accountId),t={jeid:l.jeid||null,id:l.id||null,accountId:e,memo:l.memo,credit:Number(l.newCredit||0),debit:Number(l.newDebit||0)};n&&""!==n&&null!==n&&(t.recordID=n),o&&""!==o&&null!==o&&(t.recordType=o),i.push(t)}if(console.log("lines---------",i),t&&i.length>0){const e=i.map((async e=>{try{switch(t.toLowerCase()){case"new":return await Ny(e);case"edit":return await(async e=>{if(!e.id||""===e.id||null===e.id)return console.log("Creating new journal line (no ID provided)"),await Ny(e);try{return await Ay("/journal-entry-line/".concat(e.id),{method:"PUT",body:JSON.stringify(p({},Dy(e)))})}catch(t){if(t.message.includes("404"))return console.log("Journal line ".concat(e.id," not found, creating new record")),await Ny(e);throw t}})(e);case"delete":return await(async e=>{if(!e.id||""===e.id||null===e.id)throw new Error("Line ID is required for delete operation");return await Ay("/journal-entry-line/".concat(e.id),{method:"DELETE"}),{deleted:!0,id:e.id}})(e);default:return console.warn("Unknown operation type: ".concat(t)),null}}catch(n){throw console.error("Error processing journal line ".concat(e.id||"new",":"),n),n}}));await Promise.all(e)}const s=[];for(const l in r){const e=r[l],t=e.running+e.netDelta;console.log("newRunningBalance",t),s.push(Py(l,t))}await Promise.all(s)}async function Oy(e,t,n,o){console.log("=== Generating JV Lines ==="),console.log("Line Items:",e),console.log("Form ID:",t),console.log("Total Amount:",n);const r=await Ly(t);console.log("Form details fetched:",r);let i=[];if(!r)throw new Error("Form details could not be fetched. Please select a valid form.");const a=r.formType;if("CustomerPayment"===o&&(i.push({accountId:r.accountReceivable,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}),i.push({accountId:r.undepositedFunds,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:""})),"Invoice"===o){let t=0;if(e&&e.length>0)for(const n of e){t+=parseFloat(n.taxAmount||0)}if(a){if(i.push({accountId:r.accountReceivable,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:""}),"3e7a690c-dd04-4254-89f6-58e85139c07d"==a){i.push({accountId:r.accuredAR,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}),i.push({accountId:r.accuredTax,newCredit:0,newDebit:t||0,oldCredit:0,oldDebit:0,memo:""});for(const t of e){var s;const e=(null===(s=t.taxID)||void 0===s?void 0:s.value)||t.taxID;if(e)try{const n=await Ry("/tax/".concat(e),{method:"GET"});n&&n.taxRate>0&&i.push({accountId:n.taxAccount,newCredit:t.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""})}catch(g){console.error("Error fetching tax details for taxId ".concat(e,":"),g)}}}if("9d19694e-dac4-4840-a29b-c1e1be0d82f0"==a||"3ddc355d-d7e9-4ae3-bdb5-386012fd9a6f"==a||"69a5b24f-0bd4-4f80-adf1-a03bfb7531a8"==a)for(const t of e){var l,c;const e=(null===(l=t.itemID)||void 0===l?void 0:l.value)||t.itemID,n=Number(t.quantity||t.quantityDelivered||0)*Number(t.rate||0);if(e)try{const t=await Ry("/product/".concat(e),{method:"GET"});if(i.push({accountId:t.salesAccount,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}),"69a5b24f-0bd4-4f80-adf1-a03bfb7531a8"!==a&&t.standardCost){i.push({accountId:t.cogsAccount,newCredit:0,newDebit:t.standardCost||0,oldCredit:0,oldDebit:0,memo:""});const e="9d19694e-dac4-4840-a29b-c1e1be0d82f0"==a?r.clearing:t.inventoryAccount;i.push({accountId:e,newCredit:t.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""})}}catch(g){console.error("Error fetching item details for itemID ".concat(e,":"),g)}const o=(null===(c=t.taxID)||void 0===c?void 0:c.value)||t.taxID;if(o&&"69a5b24f-0bd4-4f80-adf1-a03bfb7531a8"!==a)try{const e=await Ry("/tax/".concat(o),{method:"GET"});e&&e.taxRate>0&&i.push({accountId:e.taxAccount,newCredit:t.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""})}catch(g){console.error("Error fetching tax details for taxId ".concat(o,":"),g)}}}}if("ItemFulfillment"===o&&a){if("3e7a690c-dd04-4254-89f6-58e85139c07d"==a){i.push({accountId:r.accuredAR,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:""});for(const t of e){var d;t.taxAmount&&i.push({accountId:r.accuredTax,newCredit:t.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""});const e=(null===(d=t.itemID)||void 0===d?void 0:d.value)||t.itemID,n=Number(t.quantity||t.quantityDelivered||0)*Number(t.rate||0);if(e)try{const t=await Ry("/product/".concat(e),{method:"GET"});i.push({accountId:t.salesAccount,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}),t.standardCost&&(i.push({accountId:t.cogsAccount,newCredit:0,newDebit:t.standardCost||0,oldCredit:0,oldDebit:0,memo:""}),i.push({accountId:t.inventoryAccount,newCredit:t.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}))}catch(g){console.error("Error fetching item details for itemID ".concat(e,":"),g)}}}if("9d19694e-dac4-4840-a29b-c1e1be0d82f0"==a)for(const t of e){var u;const e=(null===(u=t.itemID)||void 0===u?void 0:u.value)||t.itemID;if(e)try{const t=await Ry("/product/".concat(e),{method:"GET"});t.standardCost&&(i.push({accountId:t.inventoryAccount,newCredit:t.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}),i.push({accountId:r.clearing,newCredit:0,newDebit:t.standardCost||0,oldCredit:0,oldDebit:0,memo:""}))}catch(g){console.error("Error fetching item details for itemID ".concat(e,":"),g)}}if("69a5b24f-0bd4-4f80-adf1-a03bfb7531a8"==a||"3ddc355d-d7e9-4ae3-bdb5-386012fd9a6f"==a)for(const t of e){var p;const e=(null===(p=t.itemID)||void 0===p?void 0:p.value)||t.itemID;if(e)try{const n=await Ry("/product/".concat(e),{method:"GET"});t.rate&&(i.push({accountId:n.cogsAccount,newCredit:0,newDebit:t.rate||0,oldCredit:0,oldDebit:0,memo:""}),i.push({accountId:n.inventoryAccount,newCredit:t.rate||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""}))}catch(g){console.error("Error fetching item details for itemID ".concat(e,":"),g)}}}if("DebitMemo"===o||"CreditMemo"===o){i.push({accountId:r.accountReceivable,newCredit:"CreditMemo"===o&&n||0,newDebit:"DebitMemo"===o&&n||0,oldCredit:0,oldDebit:0,memo:""});for(const t of e){var h,f;const e=(null===(h=t.itemID)||void 0===h?void 0:h.value)||t.itemID,n=(null===(f=t.taxID)||void 0===f?void 0:f.value)||t.taxID,r=Number(t.quantity||t.quantityDelivered||0)*Number(t.rate||0);if(e)try{const t=await Ry("/product/".concat(e),{method:"GET"});i.push({accountId:t.salesAccount,newCredit:r||0,newDebit:0,oldCredit:0,oldDebit:0,memo:""})}catch(g){console.error("Error fetching item details for itemID ".concat(e,":"),g)}if(n)try{const e=await Ry("/tax/".concat(n),{method:"GET"});e&&e.taxRate>0&&i.push({accountId:e.taxAccount,newCredit:"DebitMemo"===o&&t.taxAmount||0,newDebit:"CreditMemo"===o&&t.taxAmount||0,oldCredit:0,oldDebit:0,memo:""})}catch(g){console.error("Error fetching tax details for taxId ".concat(n,":"),g)}}}console.log("Generated jvLines:",i);const m=i.filter((e=>!e.accountId||""===e.accountId||null===e.accountId||void 0===e.accountId));return m.length>0?(console.error("Missing account configurations found in JV lines:",m),{isValid:!1,jvLines:[],errorMessage:"Cannot create ".concat(o,". Some required accounts are not configured in the selected form. Please configure all required accounts before proceeding.")}):{isValid:!0,jvLines:i,errorMessage:null}}const Ry=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=p({headers:p(p({},{"Content-Type":"application/json",Accept:"application/json"}),t.headers)},t),o=await fetch(yi(e),n);if(!o.ok){const e=await o.text();throw new Error("API Error: ".concat(o.status," - ").concat(e))}const r=o.headers.get("content-type"),i=o.headers.get("content-length");if(204===o.status||"0"===i||null===r||void 0===r||!r.includes("application/json"))return null;const a=await o.text();if(!a||""===a.trim())return null;try{return JSON.parse(a)}catch(s){return console.warn("Failed to parse JSON response:",a),null}};let Fy=null;const Ly=async e=>{try{if(!e)return console.warn("No form ID provided"),null;console.log("Fetching form details for form ID: ".concat(e));const t=await Ry("/form/".concat(e),{method:"GET"});return t?(console.log("Form details fetched successfully:",t),t):(console.warn("No form details returned from API"),null)}catch(t){return console.error("Error fetching form details:",t),null}};async function zy(e,t,n,o,r){console.log("=== Processing JV Lines ==="),console.log("Line Items:",e),console.log("Form ID:",t),console.log("Total Amount:",n),Fy=await Ly(t),console.log("Form details stored globally:",Fy);let i=[];if(Fy){"CustomerPayment"==r&&(i.push({recordId:o,recordType:r,accountId:Fy.accountReceivable,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),i.push({recordId:o,recordType:r,accountId:Fy.undepositedFunds,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:"",id:null}));const t=Fy.formType;if("Invoice"===r){let a=0;if(e&&e.length>0)for(const t of e){a+=parseFloat(t.taxAmount||0)}console.log("Total Tax Amount calculated and stored globally:",a),t&&(i.push({recordId:o,recordType:r,accountId:Fy.accountReceivable,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:"",id:null}),"3e7a690c-dd04-4254-89f6-58e85139c07d"==t&&(i.push({recordId:o,recordType:r,accountId:Fy.accuredAR,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),i.push({recordId:o,recordType:r,accountId:Fy.accuredTax,newCredit:0,newDebit:a||0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.forEach((async(e,t)=>{var n;const a=(null===(n=e.taxID)||void 0===n?void 0:n.value)||e.taxID;if(a)try{const t=await Ry("/tax/".concat(a),{method:"GET"});t&&t.taxAccount&&t.taxRate>0&&i.push({recordId:o,recordType:r,accountId:t.taxAccount,newCredit:e.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(s){console.error("Error fetching tax details for taxId ".concat(a,":"),s)}}))),"9d19694e-dac4-4840-a29b-c1e1be0d82f0"==t&&e.forEach((async(e,t)=>{var n,a;const s=(null===(n=e.taxID)||void 0===n?void 0:n.value)||e.taxID,l=(null===(a=e.itemID)||void 0===a?void 0:a.value)||e.itemID,c=Number(e.quantity||e.quantityDelivered||0)*Number(e.rate||0);if(l)try{const e=await Ry("/product/".concat(l),{method:"GET"});e.salesAccount&&i.push({recordId:o,recordType:r,accountId:e.salesAccount,newCredit:c||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.cogsAccount&&e.standardCost&&(i.push({recordId:o,recordType:r,accountId:e.cogsAccount,newCredit:0,newDebit:e.standardCost||0,oldCredit:0,oldDebit:0,memo:"",id:null}),i.push({recordId:o,recordType:r,accountId:Fy.clearing,newCredit:e.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}))}catch(d){console.error("Error fetching item details for itemID ".concat(l,":"),d)}if(s)try{const t=await Ry("/tax/".concat(s),{method:"GET"});t&&t.taxAccount&&t.taxRate>0&&i.push({recordId:o,recordType:r,accountId:t.taxAccount,newCredit:e.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(d){console.error("Error fetching tax details for taxId ".concat(s,":"),d)}})),"3ddc355d-d7e9-4ae3-bdb5-386012fd9a6f"==t&&e.forEach((async(e,t)=>{var n,a;const s=(null===(n=e.taxID)||void 0===n?void 0:n.value)||e.taxID,l=(null===(a=e.itemID)||void 0===a?void 0:a.value)||e.itemID,c=Number(e.quantity||e.quantityDelivered||0)*Number(e.rate||0);if(l)try{const e=await Ry("/product/".concat(l),{method:"GET"});e.salesAccount&&i.push({recordId:o,recordType:r,accountId:e.salesAccount,newCredit:c||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.cogsAccount&&e.standardCost&&(i.push({recordId:o,recordType:r,accountId:e.cogsAccount,newCredit:0,newDebit:e.standardCost||0,oldCredit:0,oldDebit:0,memo:"",id:null}),i.push({recordId:o,recordType:r,accountId:e.inventoryAccount,newCredit:e.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}))}catch(d){console.error("Error fetching item details for itemID ".concat(l,":"),d)}if(s)try{const t=await Ry("/tax/".concat(s),{method:"GET"});t&&t.taxAccount&&t.taxRate>0&&i.push({recordId:o,recordType:r,accountId:t.taxAccount,newCredit:e.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(d){console.error("Error fetching tax details for taxId ".concat(s,":"),d)}})),"69a5b24f-0bd4-4f80-adf1-a03bfb7531a8"==t&&e.forEach((async(e,t)=>{var n,a;const s=(null===(n=e.taxID)||void 0===n?void 0:n.value)||e.taxID,l=(null===(a=e.itemID)||void 0===a?void 0:a.value)||e.itemID,c=Number(e.quantity||e.quantityDelivered||0)*Number(e.rate||0);if(l)try{const e=await Ry("/product/".concat(l),{method:"GET"});e.salesAccount&&i.push({recordId:o,recordType:r,accountId:e.salesAccount,newCredit:c||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(d){console.error("Error fetching item details for itemID ".concat(l,":"),d)}if(s)try{const t=await Ry("/tax/".concat(s),{method:"GET"});t&&t.taxAccount&&t.taxRate>0&&i.push({recordId:o,recordType:r,accountId:t.taxAccount,newCredit:e.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(d){console.error("Error fetching tax details for taxId ".concat(s,":"),d)}})))}if("ItemFulfillment"===r&&t&&("3e7a690c-dd04-4254-89f6-58e85139c07d"==t&&(i.push({recordId:o,recordType:r,accountId:Fy.accuredAR,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.forEach((async(e,t)=>{var n;const a=(null===(n=e.itemID)||void 0===n?void 0:n.value)||e.itemID,s=Number(e.quantity||e.quantityDelivered||0)*Number(e.rate||0);if(e.taxAmount&&i.push({recordId:o,recordType:r,accountId:Fy.accuredTax,newCredit:e.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),a)try{const e=await Ry("/product/".concat(a),{method:"GET"});e.salesAccount&&i.push({recordId:o,recordType:r,accountId:e.salesAccount,newCredit:s||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.cogsAccount&&e.standardCost&&e.inventoryAccount&&(i.push({recordId:o,recordType:r,accountId:e.cogsAccount,newCredit:0,newDebit:e.standardCost||0,oldCredit:0,oldDebit:0,memo:"",id:null}),i.push({recordId:o,recordType:r,accountId:e.inventoryAccount,newCredit:e.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}))}catch(l){console.error("Error fetching item details for itemID ".concat(a,":"),l)}}))),"9d19694e-dac4-4840-a29b-c1e1be0d82f0"==t&&e.forEach((async(e,t)=>{var n;const a=(null===(n=e.itemID)||void 0===n?void 0:n.value)||e.itemID;if(a)try{const e=await Ry("/product/".concat(a),{method:"GET"});e.inventoryAccount&&e.standardCost&&(i.push({recordId:o,recordType:r,accountId:e.inventoryAccount,newCredit:e.standardCost||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),i.push({recordId:o,recordType:r,accountId:Fy.clearing,newCredit:0,newDebit:e.standardCost||0,oldCredit:0,oldDebit:0,memo:"",id:null}))}catch(s){console.error("Error fetching item details for itemID ".concat(a,":"),s)}})),"69a5b24f-0bd4-4f80-adf1-a03bfb7531a8"==t||"3ddc355d-d7e9-4ae3-bdb5-386012fd9a6f"==t)){console.log("formType",t);for(const t of e){var a;const e=(null===(a=t.itemID)||void 0===a?void 0:a.value)||t.itemID;if(console.log("itemID",e),e)try{const n=await Ry("/product/".concat(e),{method:"GET"});console.log("itemDetails",n),console.log("itemDetails.averageCost",n.averageCost),console.log("itemDetails.cogsAccount",n.cogsAccount),console.log("itemDetails.inventoryAccount",n.inventoryAccount),n.cogsAccount&&t.rate&&n.inventoryAccount&&(i.push({recordId:o,recordType:r,accountId:n.cogsAccount,newCredit:0,newDebit:t.rate||0,oldCredit:0,oldDebit:0,memo:"",id:null}),i.push({recordId:o,recordType:r,accountId:n.inventoryAccount,newCredit:t.rate||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}))}catch(s){console.error("Error fetching item details for itemID ".concat(e,":"),s)}}}"DebitMemo"===r&&(i.push({recordId:o,recordType:r,accountId:Fy.accountReceivable,newCredit:0,newDebit:n||0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.forEach((async(e,t)=>{var n,a;const l=(null===(n=e.taxID)||void 0===n?void 0:n.value)||e.taxID,c=(null===(a=e.itemID)||void 0===a?void 0:a.value)||e.itemID,d=Number(e.quantity||e.quantityDelivered||0)*Number(e.rate||0);if(c)try{const e=await Ry("/product/".concat(c),{method:"GET"});e.salesAccount&&i.push({recordId:o,recordType:r,accountId:e.salesAccount,newCredit:d||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(s){console.error("Error fetching item details for itemID ".concat(c,":"),s)}if(l)try{const t=await Ry("/tax/".concat(l),{method:"GET"});t&&t.taxAccount&&t.taxRate>0&&i.push({recordId:o,recordType:r,accountId:t.taxAccount,newCredit:e.taxAmount||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(s){console.error("Error fetching tax details for taxId ".concat(l,":"),s)}}))),"CreditMemo"===r&&(i.push({recordId:o,recordType:r,accountId:Fy.accountReceivable,newCredit:n||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null}),e.forEach((async(e,t)=>{var n,a;const l=(null===(n=e.taxID)||void 0===n?void 0:n.value)||e.taxID,c=(null===(a=e.itemID)||void 0===a?void 0:a.value)||e.itemID,d=Number(e.quantity||e.quantityDelivered||0)*Number(e.rate||0);if(c)try{const e=await Ry("/product/".concat(c),{method:"GET"});e.salesAccount&&i.push({recordId:o,recordType:r,accountId:e.salesAccount,newCredit:d||0,newDebit:0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(s){console.error("Error fetching item details for itemID ".concat(c,":"),s)}if(l)try{const t=await Ry("/tax/".concat(l),{method:"GET"});t&&t.taxAccount&&t.taxRate>0&&i.push({recordId:o,recordType:r,accountId:t.taxAccount,newCredit:0,newDebit:e.taxAmount||0,oldCredit:0,oldDebit:0,memo:"",id:null})}catch(s){console.error("Error fetching tax details for taxId ".concat(l,":"),s)}})))}console.log("jvLines",i),await My(i,"new",o,r),console.log("=== End Processing JV Lines ===")}const By=e=>{const t={};return Object.keys(e).forEach((n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)})),t},Vy=()=>{const[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)(null),i={headers:vi.headers},a=(0,o.useCallback)((async(e,t)=>{try{const n=yi("/inventory-detail?ItemId=".concat(e,"&LocationId=").concat(t));console.log("Checking inventory detail for item:",e,"and location:",t),console.log("URL:",n);const o=await fetch(n,p({method:"GET"},i));if(!o.ok){if(404===o.status)return null;throw console.error("\u274c API Error:",o.status,"for URL:",n),new Error("Failed to check inventory detail. Status: ".concat(o.status))}const r=await o.json();return console.log("API Response:",r),r.results&&Array.isArray(r.results)?r.results.length>0?r.results[0]:null:Array.isArray(r)?r.length>0?r[0]:null:r&&r.id?r:null}catch(n){throw console.error("\u274c Error checking inventory detail existence:",n),n}}),[]),s=(0,o.useCallback)((async e=>{try{const n=yi("/inventory-detail"),o=await fetch(n,p({method:"POST",body:JSON.stringify(By(e))},i));if(!o.ok){let e="Failed to create inventory detail. Status: ".concat(o.status);try{const t=await o.json();t.errors?e=Object.entries(t.errors).map((e=>{let[t,n]=e;return"".concat(t,": ").concat(Array.isArray(n)?n.join(", "):n)})).join("\n"):t.message&&(e=t.message)}catch(t){}throw new Error(e)}return await o.json()}catch(n){throw console.error("Error creating inventory detail:",n),n}}),[]),l=(0,o.useCallback)((async(e,t)=>{try{const o=yi("/inventory-detail/".concat(e)),r=await fetch(o,p({method:"PUT",body:JSON.stringify(p(p({},t),{},{id:e}))},i));if(!r.ok){let e="Failed to update inventory detail. Status: ".concat(r.status);try{const t=await r.json();t.errors?e=Object.entries(t.errors).map((e=>{let[t,n]=e;return"".concat(t,": ").concat(Array.isArray(n)?n.join(", "):n)})).join("\n"):t.message&&(e=t.message)}catch(n){}throw new Error(e)}return await r.json()}catch(o){throw console.error("Error updating inventory detail:",o),o}}),[]),c=(0,o.useCallback)((async e=>{if(!e)return!1;try{const t=yi("/product/".concat(e));console.log("Checking if product is inventory item:",e);const n=await fetch(t,p({method:"GET"},i));if(!n.ok)return 404===n.status?(console.log("Product not found:",e),!1):(console.error("\u274c API Error fetching product:",n.status,"for URL:",t),!1);const o="ef765a67-402b-48ee-b898-8eaa45affb64"===(await n.json()).itemType;return console.log("\ud83d\udce6 Product ".concat(e," is ").concat(o?"INVENTORY":"SERVICE"," item")),o}catch(t){return console.error("\u274c Failed to check product type:",t.message),!1}}),[]),d=(0,o.useCallback)((async e=>{let{itemId:n,locationId:o,quantity:i,additionalData:d={}}=e;if(!n||!o||void 0===i||null===i)throw new Error("itemId, locationId, and quantity are required parameters");t(!0),r(null);try{if(!await c(n))return console.warn("\u26a0\ufe0f Item ".concat(n," is a service item. Skipping inventory update (only inventory items are tracked).")),t(!1),null;const e=await a(n,o),r=p({itemId:n,locationId:o,quantity:Number(i)},d);let u;if(e){const t=(e.quantityAvailable||e.quantity||0)+Number(i);u=await l(e.id,p(p({},r),{},{quantityAvailable:t}))}else u=await s(p(p({},r),{},{quantityAvailable:Number(i)}));return u}catch(u){const e=u.message||"An unknown error occurred while managing inventory detail";throw r(e),new Error(e)}finally{t(!1)}}),[a,s,l,c]),u=(0,o.useCallback)((async(e,n)=>{if(!e||!n)throw new Error("itemId and locationId are required parameters");t(!0),r(null);try{return await a(e,n)}catch(o){const e=o.message||"An unknown error occurred while fetching inventory detail";throw r(e),new Error(e)}finally{t(!1)}}),[a]),h=(0,o.useCallback)((async(e,t)=>{if(!e||!t)return 0;try{const n=await a(e,t),o=n&&n.quantityAvailable||0;return console.log("\ud83d\udce6 Inventory quantity fetched:",o,"for item:",e),o}catch(n){return console.error("\u274c Failed to fetch quantity available:",n.message),0}}),[a]),f=(0,o.useCallback)((async(e,t)=>{const n=[];if(!t)return{isValid:!1,errors:["Location is required for inventory validation"]};if(!e||0===e.length)return{isValid:!0,errors:[]};for(const a of e)try{var o;const e=(null===(o=a.itemID)||void 0===o?void 0:o.value)||a.itemID,s=Number(a.quantity||0);if(!e||s<=0)continue;if(!await c(e)){console.log("Item ".concat(e," is a service item, skipping inventory check"));continue}const l=await h(e,t);if(console.log("Inventory validation for item ".concat(e,": available=").concat(l,", requested=").concat(s)),l<s)try{const t=yi("/product/".concat(e)),o=await fetch(t,p({method:"GET"},i));let r=e;if(o.ok){const t=await o.json();r=t.itemName||t.itemCode||e}n.push({itemId:e,itemName:r,availableQty:l,requestedQty:s,message:"Insufficient inventory for ".concat(r,". Available: ").concat(l,", Requested: ").concat(s)})}catch(r){n.push({itemId:e,itemName:e,availableQty:l,requestedQty:s,message:"Insufficient inventory. Available: ".concat(l,", Requested: ").concat(s)})}}catch(r){console.error("Error validating inventory for item ".concat(a.itemID,":"),r.message),n.push({itemId:a.itemID,message:"Failed to validate inventory: ".concat(r.message)})}return{isValid:0===n.length,errors:n}}),[c,h]),m=(0,o.useCallback)((async e=>{let{itemId:n,locationId:o,quantity:i,additionalData:d={}}=e;if(!n||!o||void 0===i||null===i)throw new Error("itemId, locationId, and quantity are required parameters");t(!0),r(null);try{if(!await c(n))return console.warn("\u26a0\ufe0f Item ".concat(n," is a service item. Skipping inventory update (only inventory items are tracked).")),t(!1),null;const e=await a(n,o),r=p({itemId:n,locationId:o,quantityAvailable:Number(i)},d);let u;return u=e?await l(e.id,r):await s(r),u}catch(u){const e=u.message||"An unknown error occurred while setting inventory quantity";throw r(e),new Error(e)}finally{t(!1)}}),[a,s,l,c]),g=(0,o.useCallback)((async e=>{if(!e)return 0;try{const t=yi("/product/".concat(e));console.log("Fetching product standard cost for:",e);const n=await fetch(t,p({method:"GET"},i));if(!n.ok){if(404===n.status)return console.log("Product not found:",e),0;throw console.error("\u274c API Error fetching product:",n.status,"for URL:",t),new Error("Failed to fetch product. Status: ".concat(n.status))}const o=(await n.json()).standardCost||0;return console.log("\ud83d\udce6 Product standard cost fetched:",o,"for product:",e),o}catch(t){return console.error("\u274c Failed to fetch product standard cost:",t.message),0}}),[]),v=(0,o.useCallback)((async e=>{if(!e)return"";try{const t=yi("/product/".concat(e));console.log("Fetching product sales price and tax code for:",e);const n=await fetch(t,p({method:"GET"},i));if(!n.ok){if(404===n.status)return console.log("Product not found:",e),0;throw console.error("\u274c API Error fetching product:",n.status,"for URL:",t),new Error("Failed to fetch product. Status: ".concat(n.status))}const o=await n.json(),r=o.salesPrice||0,a=o.taxCode||"";return console.log("\ud83d\udce6 Product sales price fetched:",r,"for product:",e),{salesPrice:r,taxCode:a}}catch(t){return console.error("\u274c Failed to fetch product sales price:",t.message),{salesPrice:0,taxCode:""}}}),[]),y=(0,o.useCallback)((async e=>{if(!e)return"";try{const t=yi("/product/".concat(e));console.log("Fetching product purchase price and tax code for:",e);const n=await fetch(t,p({method:"GET"},i));if(!n.ok){if(404===n.status)return console.log("Product not found:",e),0;throw console.error("\u274c API Error fetching product:",n.status,"for URL:",t),new Error("Failed to fetch product. Status: ".concat(n.status))}const o=await n.json(),r=o.purchasePrice||0,a=o.taxCode||"";return console.log("\ud83d\udce6 Product purchase price fetched:",r,"for product:",e),{purchasePrice:r,taxCode:a}}catch(t){return console.error("\u274c Failed to fetch product purchase price:",t.message),{purchasePrice:0,taxCode:""}}}),[]),x=(0,o.useCallback)(((e,t,n)=>{const o=e*t,r=n*e,i=t-n,a=o-r;let s=0;return i>0&&(s=a/i),console.log("\ud83d\udcb0 Cost Calculation (Fulfillment):",{currentAvgCost:e,availableQty:t,fulfillmentQty:n,currentTotalValue:o,cogs:r,newQuantity:i,newValue:a,newAvgCost:s}),{newAvgCost:s,cogs:r,newQuantity:i,newValue:a}}),[]),b=(0,o.useCallback)(((e,t,n,o)=>{const r=e*t,i=n*o,a=r+i,s=t+n;let l=0;return s>0&&(l=a/s),console.log("\ud83d\udcb0 Cost Calculation (Reverse):",{currentAvgCost:e,currentQuantity:t,fulfilledQuantity:n,originalFulfillmentAvgCost:o,currentTotalValue:r,valueToAddBack:i,newTotalValue:a,newQuantity:s,newAvgCost:l}),{newAvgCost:l,newQuantity:s,newTotalValue:a}}),[]),w=(0,o.useCallback)((async(e,t)=>{if(!e)throw new Error("productId is required");try{const n=yi("/product/".concat(e));console.log("\ud83d\udcdd Updating product average cost:",e,"New cost:",t);const o=await fetch(n,p({method:"PUT",body:JSON.stringify({averageCost:Number(t)})},i));if(!o.ok)throw console.error("\u274c API Error updating product average cost:",o.status),new Error("Failed to update product average cost. Status: ".concat(o.status));const r=await o.json();return console.log("\u2705 Product average cost updated successfully"),r}catch(n){throw console.error("\u274c Failed to update product average cost:",n.message),n}}),[]),k=(0,o.useCallback)((async e=>{let{itemId:t,locationId:n,fulfillmentQty:o,mode:r,originalFulfillmentAvgCost:s}=e;if(!t||!n||void 0===o||null===o)throw new Error("itemId, locationId, and fulfillmentQty are required");if("create"!==r)throw new Error("Only create mode is supported for ItemFulfillment. Edit and delete modes are not supported.");try{console.log("\ud83d\udd04 Processing ItemFulfillment (".concat(r,"):"),{itemId:t,locationId:n,fulfillmentQty:o,originalFulfillmentAvgCost:s});if(!await c(t))return console.warn("\u26a0\ufe0f Item ".concat(t," is a service item. Skipping inventory and cost updates.")),{skipped:!0,reason:"Service item"};const e=yi("/product/".concat(t)),l=await fetch(e,p({method:"GET"},i));if(!l.ok)throw new Error("Failed to fetch product. Status: ".concat(l.status));const d=await l.json(),u=Number(d.averageCost||0),h=await a(t,n);if(!h)throw new Error("Inventory detail not found for item ".concat(t," at location ").concat(n));const f=Number(h.quantityAvailable||0);let g,v=u,y=null;if(f<o)throw new Error("Insufficient inventory. Available: ".concat(f,", Requested: ").concat(o));return y=x(u,f,o),g=y.newQuantity,v=y.newAvgCost,await m({itemId:t,locationId:n,quantity:g}),await w(t,v),console.log("\u2705 ItemFulfillment processing complete:",{mode:r,oldQty:f,newQty:g,oldAvgCost:u,newAvgCost:v}),{success:!0,mode:r,inventory:{oldQuantity:f,newQuantity:g},cost:p({oldAvgCost:u,newAvgCost:v},y)}}catch(l){throw console.error("\u274c Error processing ItemFulfillment:",l.message),l}}),[c,a,x,b,m,w]);return{createOrUpdateInventoryDetail:d,setInventoryQuantity:m,getInventoryDetail:u,getQuantityAvailable:h,validateInventoryAvailability:f,processItemFulfillment:k,getProductStandardCost:g,getProductSalesPriceTaxCode:v,getProductPurchasePriceTaxCode:y,createInventoryDetail:s,updateInventoryDetail:l,checkInventoryDetailExists:a,calculateFulfillmentCost:x,reverseItemFulfillment:b,updateProductAverageCost:w,loading:e,error:n,clearError:(0,o.useCallback)((()=>r(null)),[])}},Hy=["name","component","validator","type","children"],qy=e=>{const{name:t,component:n,validator:r,type:i,children:a}=e,l=s(e,Hy),c=o.useContext(xi),d=c?c.id:"";o.useEffect((()=>c?c.registerField(t,r):void 0),[t,d,r]);const u=o.useCallback((e=>c.onUnshift(t,e)),[t,d]),h=o.useCallback((e=>c.onPush(t,e)),[t,d]),f=o.useCallback((e=>c.onInsert(t,e)),[t,d]),m=o.useCallback((()=>c.onPop(t)),[t,d]),g=o.useCallback((e=>c.onRemove(t,e)),[t,d]),v=o.useCallback((e=>c.onReplace(t,e)),[t,d]),y=o.useCallback((e=>c.onMove(t,e)),[t,d]);if(!c)return null;const x=c.valueGetter(t);return o.createElement(n,p({value:x,validationMessage:c.errors[t],touched:c.touched[t],modified:c.modified[t],visited:c.visited[t],valid:!(c.errors[t]&&c.touched[t]),onUnshift:u,onPush:h,onInsert:f,onPop:m,onRemove:g,onReplace:v,onMove:y,children:a,name:t},l))};qy.displayName="KendoReactFieldArray";const Uy=e=>null;Uy.displayName="KendoReactGridColumn";const Gy={filterable:!0,editable:!0,sortable:!0,resizable:!0,reorderable:!0,groupable:!0};Uy.propTypes={field:Et.string,title:Et.string,editable:Et.bool,sortable:Et.oneOfType([Et.bool,Et.shape({allowUnsort:Et.bool.isRequired})]),cell:Et.any,filterCell:Et.any,filterTitle:Et.string,filterable:Et.bool,filter:Et.oneOf(["text","numeric","boolean","date"]),editor:Et.oneOf(["text","numeric","boolean","date"]),width:Et.oneOfType([Et.string,Et.number]),minResizableWidth:Et.number,headerCell:Et.any,footerCell:Et.any,headerSelectionValue:Et.bool,format:Et.string,headerClassName:Et.string,className:Et.string,reorderable:Et.bool,resizable:Et.bool,orderIndex:Et.number,groupable:Et.bool,columnMenu:Et.any,menuIcon:Et.any,locked:Et.bool,hidden:Et.bool,media:Et.string};var Wy=function(e,t,n){return function(o){return e(o)?t(o):n(o)}},Ky=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduceRight((function(e,t){return t(e)}),t)}},Yy=(function(e){}(""),function(e){return null!==e&&void 0!==e}),Xy=function(e){return null===e||void 0===e},Qy=function(e){return Array.isArray(e)},Jy=function(e){return"function"===typeof e},Zy=function(e){return"string"===typeof e},$y=function(e){return!function(e){return Xy(e)||0===e.trim().length}(e)},ex=function(e){return!isNaN(e-parseFloat(e))},tx=function(e){return e&&e.getTime},nx={},ox=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;nx[void 0]=function(e){return e};var rx,ix,ax=function(e,t){var n=e+t;if(nx[n])return nx[n];var o=[];return e.replace(ox,(function(e,t,n,r){o.push(Yy(t)?t:n||r)})),nx[n]=function(e){for(var n=e,r=0;r<o.length;r++)if(n=n[o[r]],!Yy(n)&&t)return n;return n},nx[n]},sx=function(e){return function(t){return[e,t]}},lx=function(){return null},cx=function(e){return function(t){return Yy(e(t))}},dx=function(e){return function(t){return function(e){return Yy(e)&&Qy(e)&&e.length>0}(e(t))}},ux=function(e,t){return Wy(e,t,lx)},px=function(e,t){return function(n){return e(n).map(t).join("~")}},hx=Ky.apply(void 0,[['"',""],[":","-"]].map((function(e){var t=e[0],n=e[1];return function(e){return e.replace(new RegExp(t,"g"),n)}}))),fx=(rx=".",function(e){return e.slice(0,e.indexOf(rx))}),mx=function(e){var t=e.field,n=e.dir,o=void 0===n?"asc":n;return"".concat(t,"-").concat(o)},gx=ax("take"),vx=ax("aggregates"),yx=ax("skip"),xx=ax("group"),bx=ax("sort",!0),wx=px(bx,mx),kx=px(xx,mx),Cx=px(vx,(function(e){var t=e.field,n=e.aggregate;return"".concat(t,"-").concat(n)})),Sx=Ky((function(e){return"datetime'".concat(e,"'")}),fx,hx,JSON.stringify,(function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))})),Ix=Ky(sx("page"),(function(e){var t=e.skip,n=e.take;return Math.floor((t||0)/n)+1})),Ex=Ky(sx("pageSize"),gx),_x=Ky(sx("group"),kx),jx=Ky(sx("sort"),wx),Ax=Ky(sx("aggregate"),Cx),Dx=(ux(cx(yx),Ix),ux(cx(gx),Ex),ux(dx(xx),_x),ux(cx(vx),Ax),Ky(ux(dx(bx),jx),(function(e){return Object.assign({},e,{sort:(bx(e)||[]).filter((function(e){var t=e.dir;return $y(t)}))})})),function(e){var t=e.field,n=e.operator,o=e.value;return"".concat(t,"~").concat(n,"~").concat(o)}),Nx=(Wy((function(e){return tx(e.value)}),Ky(Dx,(function(e){var t=e.field,n=e.value,o=e.ignoreCase,r=e.operator;return{value:Sx(n),field:t,ignoreCase:o,operator:r}})),Dx),function(e,t,n){return t[e]=n,t}),Tx=function(e){return function(t){var n,o=t[e];return Yy(o)?o:t[(n=e,n.replace(/(^[A-Z])/g,(function(e,t){return t.toLowerCase()})))]}},Px=(Tx("Member"),Tx("AggregateMethodName"),Tx("Value"),function(e){return function(t){return Object.keys(t).reduce(e.bind(null,t),{})}}),Mx=Px((function(e,t,n){return Nx(n.toLowerCase(),t,e[n])})),Ox=Px((function(e,t,n){return Nx(n,t,Mx(e[n]))})),Rx=function(e,t){return Yy(e)?e:t},Fx=Ky((function(e){var t=e.field,n=e.hasSubgroups,o=e.value,r=e.aggregates,i=e.items;return{aggregates:Ox(r),field:t,items:n?i.map(Fx):i,value:o}}),(function(e){return{aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:Rx(e.Key,Rx(e.key,e.value))}})),Lx=function(e,t){return Xy(e)?e===t?0:-1:Xy(t)?1:e.localeCompare?e.localeCompare(t):e>t?1:e<t?-1:0},zx=function(e,t){return Lx(t,e)},Bx=function(e){if("function"===typeof e.compare)return e.compare;var t=ax(e.field,!0);return function(n,o){return("asc"===e.dir?Lx:zx)(t(n),t(o))}},Vx=function(e,t){return 0},Hx=function(e){var t=ax(e,!0),n=0;return function(o,r){o[e]=o[e]||{};var i=t(r),a=function(e){return(e=Yy(e)&&e.getTime?e.getTime():e)+""}(i),s=o[e][a]||{__position:n++,aggregates:{},items:[],value:i};return s.items.push(r),o[e][a]=s,o}},qx=function(e){var t=e.map((function(e){var t=ax(e.field,!0),n=(e.aggregate||"").toLowerCase(),o=ax(n,!0);return function(r,i){var a=r[e.field]||{},s=o(a)||function(e){return{average:function(){var e=0,t=0;return{calc:function(n){ex(n)?(e+=n,t++):e=n},result:function(){return ex(e)?e/t:e}}},count:function(){var e=0;return{calc:function(){return e++},result:function(){return e}}},max:function(){var e=Number.NEGATIVE_INFINITY;return{calc:function(t){(e=ex(e)||tx(e)?e:t)<t&&(ex(t)||tx(t))&&(e=t)},result:function(){return e}}},min:function(){var e=Number.POSITIVE_INFINITY;return{calc:function(t){(e=ex(e)||tx(e)?e:t)>t&&(ex(t)||tx(t))&&(e=t)},result:function(){return e}}},sum:function(){var e=0;return{calc:function(t){t=Yy(t)?t:0,e+=t},result:function(){return e}}}}[e]()}(n);return s.calc(t(i)),a[e.aggregate]=s,r[e.field]=a,r}}));return function(e,n){return t.reduce((function(e,t){return t(e,n)}),e)}},Ux=function(e,t){return e.push(t),e},Gx=function(e){return function(t){return function(n,o,r){return t(n,e(o,r))}}},Wx=function(e){return function(t){return function(n,o){return e(o)?t(n,o):n}}},Kx=function(e){return Yy(e.__value)},Yx=function(e){return Kx(e)?e:{__value:e,reduced:!0}},Xx=function(e,t,n){for(var o=t,r=0,i=n.length;r<i;r++)if(o=e(o,n[r],r),Kx(o)){o=o.__value;break}return o},Qx=Gx((function(e){return e})),Jx=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=Qx);var o={};return t.length?function(e){return void 0===e&&(e={}),Object.keys(e).forEach((function(t){var n=e[t];Object.keys(n).forEach((function(e){n[e]=n[e].result()}))})),e}(Xx(n(qx(t)),o,e)):o},Zx=function(e){return Yy(e.filters)},$x=function(e){e.filters&&(e.filters=e.filters.map((function(e){var t,n=Object.assign({},e);return!Zx(e)&&Zy(e.operator)&&(n.operator={"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[(t=e.operator).toLowerCase()]||t),Zx(e)&&$x(n),n})))},eb=function(e){return Yy(e)&&(e=function(e){return Zx(e)?Object.assign({},e):{filters:Qy(e)?e:[e],logic:"and"}}(e),$x(e)),e},tb={or:{concat:function(e,t){return function(n){return e(n)||t(n)}},identity:function(){return!1}},and:{concat:function(e,t){return function(n){return e(n)&&t(n)}},identity:function(){return!0}}},nb={contains:function(e,t){return(e||"").indexOf(t)>=0},doesnotcontain:function(e,t){return-1===(e||"").indexOf(t)},doesnotendwith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)<0},doesnotstartwith:function(e,t){return-1===(e||"").lastIndexOf(t,0)},endswith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)>=0},eq:function(e,t){return e===t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},isempty:function(e){return""===e},isnotempty:function(e){return""!==e},isnotnull:function(e){return Yy(e)},isnull:function(e){return Xy(e)},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},neq:function(e,t){return e!=t},startswith:function(e,t){return 0===(e||"").lastIndexOf(t,0)}},ob=/^\/Date\((.*?)\)\/$/,rb=function(e){var t=e.field,n=e.ignoreCase,o=e.value,r=e.operator;t=Yy(t)?t:function(e){return e},n=!Yy(n)||n;var i=function(e,t,n){if(!Yy(t))return e;var o=e;if(Zy(t)){var r=ob.exec(t);r?t=new Date(+r[1]):o=function(t){var o=e(t);if(null===o)return o;var r="string"===typeof o?o:o+"";return n?r.toLowerCase():r}}return tx(t)?function(e){var t=o(e);return tx(t)?t.getTime():t}:o}(Jy(t)?t:ax(t,!0),o,n);o=function(e,t){if(null!=e&&Zy(e)){var n=ob.exec(e);if(n)return new Date(+n[1]).getTime();if(t)return e.toLowerCase()}else if(null!=e&&tx(e))return e.getTime();return e}(o,n);var a=Jy(r)?r:nb[r];return function(e){return a(i(e),o,n)}},ib=function(e){var t=tb[e.logic];return e.filters.filter(Yy).map((function(e){return Zx(e)?ib(e):rb(e)})).reduce(t.concat,t.identity)},ab=function(e){return e&&0!==e.filters.length?ib(e):function(){return!0}},sb=function(e){return(e=Qy(e)?e:[e]).map((function(e){return Object.assign({dir:"asc"},e)}))},lb=Gx((function(e){return e})),cb=function(e,t,n,o){if(void 0===t&&(t=[]),void 0===n&&(n=lb),void 0===o&&(o=e),!(t=sb(t)).length)return e;var r=t[0],i=Xx(n(Hx(r.field)),{},e),a=[];return Object.keys(i).forEach((function(e){Object.keys(i[e]).forEach((function(n){var s=i[e][n],l={},c=o;Yy(r.aggregates)&&(c=function(e,t){return!Yy(t)||Zx(t)&&0===t.filters.length?e:e.filter(ab(eb(t)))}(o,{field:r.field,ignoreCase:!1,operator:"eq",value:s.value}),l=Jx(c,r.aggregates)),a[s.__position]={aggregates:l,field:e,items:t.length>1?cb(s.items,t.slice(1),lb,c):s.items,value:s.value}}))})),a},db=function(e,t){if(t.some((function(e){return Yy(e.dir)||Yy(e.compare)}))){e=e.slice(0);var n=function(e){return e.filter((function(e){return Yy(e.dir)||Yy(e.compare)})).map((function(e){return Bx(e)})).reduce((function(e,t){return function(n,o){return e(n,o)||t(n,o)}}),Vx)}(t);e.sort(n)}return e},ub=function(e,t){var n=t.skip,o=t.take,r=t.filter,i=t.sort,a=t.group,s=Cf(Cf([],sb(a||[]),!0),i||[],!0);s.length&&(e=db(e,s));var l,c=Yy(r)&&Wx.length,d=Yy(a)&&a.length;if(!c&&!d)return{data:o?e.slice(n,n+o):e,total:e.length};var u,p=[];if(c?(l=function(e,t){for(var n=0,o=0,r=e.length;o<r;o++)t(e[o])&&n++;return n}(e,u=ab(eb(r))),p.push(Wx(u))):l=e.length,Yy(n)&&Yy(o)&&(p.push(function(e){return function(t){return function(n,o){return e--<=0?t(n,o):n}}}(n)),p.push(function(e){return function(t){return function(n,o){return e-- >0?t(n,o):Yx(n)}}}(o))),p.length){var h=Ky.apply(void 0,p),f=d?cb(e,a,h,function(e,t){return t?e.filter(t):e}(e,u)):Xx(h(Ux),[],e);return{data:f,total:l}}return{data:d?cb(e,a):e,total:l}};!function(e){e.Contains="contains",e.DoesNotContain="doesnotcontain",e.DoesNotEndWith="doesnotendwith",e.DoesNotStartWith="doesnotstartwith",e.EndsWith="endswith",e.EqualTo="eq",e.GreaterThan="gt",e.GreaterThanOrEqual="gte",e.IsEmpty="isempty",e.IsNotEmpty="isnotempty",e.IsNotNull="isnotnull",e.IsNull="isnull",e.LessThan="lt",e.LessThanOrEqual="lte",e.NotEqualTo="neq",e.StartsWith="startswith"}(ix||(ix={}));var pb=(e=>(e.TOGGLE="GROUP-EXPAND_TOGGLE",e.EXPAND="GROUP-EXPAND_EXPAND",e.COLLAPSE="GROUP-EXPAND_COLLAPSE",e.RESET="GROUP-EXPAND_RESET",e))(pb||{});const hb=e=>{var t;return{enabled:"boolean"==typeof e?e:null==(t=null==e?void 0:e.enabled)||t,defaultExpand:"object"!=typeof e||(null==e?void 0:e.defaultExpand)}},fb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];return null==e||e.forEach((e=>{var o;const r={value:e.value,field:e.field,parents:t?[t,...null!=(o=t.parents)?o:[]]:[]};void 0!==e.expanded&&(r.expanded=e.expanded),e.groups&&n.push(...fb(e.groups,r)),n.push(r)})),n},mb=e=>{var t,n,o,r;return"".concat(null!=(t=e.parents)&&t.length?(null==(r=null==(o=null==(n=e.parents)?void 0:n.slice())?void 0:o.reverse())?void 0:r.map((e=>mb({field:e.field,value:e.value}))).join("/"))+"/":"").concat(e.field,":").concat(e.value)},gb=(e,t)=>{const n=fb(e);return yb(n,t)},vb=e=>{var t;const n=new Map;n.set("root",{value:null,field:"",groups:new Set}),(e=>{e.forEach((e=>{var t,o,r,i;const a=mb(e),s=null!=(t=n.get(a))?t:{value:e.value,field:e.field};void 0!==e.expanded&&(s.expanded=e.expanded),n.has(a)||n.set(a,s);let l=s;null!=(o=e.parents)&&o.length?e.parents.forEach(((t,o)=>{var r,i,a,s,c,d,u;const p=mb({value:t.value,field:t.field,parents:null==(i=e.parents)?void 0:i.slice(o+1,null==(r=null==e?void 0:e.parents)?void 0:r.length)}),h=null!=(a=n.get(p))?a:{value:t.value,field:t.field};t.expanded&&(h.expanded=t.expanded),n.has(p)||n.set(p,h),null!=h&&h.groups||(h.groups=new Set),h.groups.add(l),l=h,o===(null!=(c=null==(s=e.parents)?void 0:s.length)?c:-1)-1&&(null==(u=null==(d=n.get("root"))?void 0:d.groups)||u.add(h))})):null==(i=null==(r=n.get("root"))?void 0:r.groups)||i.add(l)}))})(e);const o=e=>{e.groups&&(e.groups=Array.from(e.groups),e.groups.forEach(o))};return o(n.get("root")),(null==(t=n.get("root"))?void 0:t.groups)||[]},yb=(e,t)=>e.find((e=>e.value===t.value&&e.field===t.field&&((e,t)=>{var n;return!(null==(n=t.parents)||!n.every(((t,n)=>{var o;return null==(o=e.parents)?void 0:o.find((e=>t.value===e.value&&t.field===e.field))})))})(e,t))),xb="data-keyboardnavlevel",bb="data-keyboardnavscope",wb="data-keyboardnavheader",kb="data-keyboardnavbody",Cb="data-keyboardnavid",Sb={[bb]:!0},Ib={[wb]:!0},Eb={[kb]:!0},_b=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cell";return"".concat(t,"_").concat(e,"_").concat(n)},jb=e=>{if(!e)return;return e.getAttribute(Cb)||void 0},Ab=e=>!!e&&!!e.getAttribute(Cb),Db=e=>e&&e.parentElement&&e.parentElement.closest("[".concat(xb,"]")),Nb=(e,t)=>e.querySelector("[".concat(Cb,"='").concat(t,"']")),Tb=e=>document.querySelector('[data-keyboardnavid="'.concat(e,'"]'));async function Pb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const o=Date.now();if(t)for(;Date.now()-o<n;){const n=t.querySelector(e);if(n)return n;await new Promise((e=>setTimeout(e,20)))}return!1}const Mb=e=>e.querySelector("[".concat(wb,"]")),Ob=e=>e.querySelector("[".concat(kb,"]")),Rb=(e,t)=>{const{scope:n,navigationStateRef:o,contextStateRef:r}=e;if(!o.current||!n)return;const i=qb(o.current.navigationMatrix),a=Nb(n,i);Fb({elementForFocus:a,contextStateRef:r,event:t})},Fb=e=>{const{elementForFocus:t,event:n,contextStateRef:o,prevElement:r}=e;if(o.current&&t&&t.focus){null==n||n.preventDefault();const e=t.querySelector(".k-checkbox-wrap .k-checkbox");e&&e.focus?e.focus():t.focus(),Ab(t)&&(t.setAttribute("tabIndex","0"),o.current.activeId=jb(t)),r&&Ab(r)&&r.setAttribute("tabIndex","-1")}},Lb=(e,t,n,o,r)=>{if(!n)return[];let i=e+(r?-1:1);for(;i>=0&&i<o.length;){const e=o[i][t];if(e!==n)return[e,[i,t]];i+=r?-1:1}return[]},zb=(e,t,n,o,r)=>{if(!n)return[];let i=t+(r?-1:1);for(;i>=0&&o[e]&&i<o[e].length;){const t=o[e][i];if(t!==n)return[t,[e,i]];i+=r?-1:1}return[]},Bb=(e,t)=>{if(t)for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++)if(e[n][o]===t)return[n,o]},Vb=(e,t,n)=>{let o;do{if(o=t[n-(e+=1)],o&&o.editable)break}while(n-e>=0);return o},Hb=(e,t,n)=>{let o;do{if(o=t[n+(e+=1)],o&&o.editable)break}while(n+e-1<t.length);return o},qb=e=>e.flat().find((e=>e.endsWith("cell"))),Ub=e=>e?"".concat(e).concat("_filter"):"",Gb={generateNavigatableId:_b,getNavigatableId:jb,getNavigatableLevel:e=>{if(e)return parseInt(e.getAttribute(xb)||"",10)},getNavigatableElement:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{level:0};return e.querySelector("[".concat(xb,"='").concat(t.level,"']"))},getClosestNavigatableElement:Db,getActiveNavDataElement:Nb,getClosestScope:e=>e&&e.parentElement&&e.parentElement.closest("[".concat(bb,"]")),getHeaderElement:Mb,getBodyElement:Ob,getFocusableElements:function(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focusable:!1}).focusable?Gt:Wt;return Array.from(e.querySelectorAll(t.join(",")))},getNavigatableElements:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{level:0};if(!e)return[];const n=Gt.map((e=>e+"[".concat(xb,"='").concat(t.level,"']"))).join(",");return Array.from(e.querySelectorAll(n))},filterNavigatableElements:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{level:0};const t=Gt.map((t=>t+"[".concat(xb,"='").concat(e.level,"']"))).join(",");return e=>e.matches(t)},focusElement:Fb,getIdPrefix:e=>e.current?e.current.idPrefix:"",isNavigatable:Ab,findNextIdByRowIndex:Lb,findNextIdByCellIndex:zb,findId:Bb,getNextNavigationIndex:e=>e.current?e.current.navigationMatrix.length:0,getFilterColumnId:Ub,focusFirstDataElement:Rb,getClosestCancelButton:e=>{const t=e&&e.parentElement&&e.parentElement.closest(".k-grid-edit-row");return t&&t.querySelector(".k-grid-cancel-command")},getClosestEditButton:async e=>{const t=e&&e.parentElement&&e.parentElement.closest(".k-grid-edit-row");return await Pb(".k-grid-edit-command",t)},getRowAriaRowIndex:e=>{var t;const n=e&&e.parentElement&&e.parentElement.closest(".k-table-row");let o;return null==(t=null==n?void 0:n.parentElement)||t.childNodes.forEach((e=>{if(n===e){const t=e.previousSibling;o={current:n.getAttribute("aria-rowindex"),prev:t&&t.getAttribute("aria-rowindex")}}})),o},getRemoveButtonByAriaRowIndex:e=>document.querySelector('[aria-rowindex="'.concat(e,'"] .k-grid-remove-command')),getTableCellByKeyboardNavId:Tb,getParentCell:e=>(null==e?void 0:e.closest(".k-table-td"))||null,waitForElementToBeVisible:Pb,getNextEditableCell:(e,t,n,o)=>{var r;let i;if(e){const[r,a]=e;let s,l=0;s=Hb(l,t,a),s?i=zb(r,s.ariaColumnIndex,n,o,!0):(l=-1,s=Hb(l,t,0),i=zb(r+1,s.ariaColumnIndex,n,o,!0))}return{nextCell:i&&i[0]&&Tb(i[0]),elementToFocus:i&&i[0]&&(null==(r=Tb(i[0]))?void 0:r.getAttribute("role"))}},getPrevEditableCell:(e,t,n,o)=>{var r;let i;const[a,s]=e;let l;const c=t.length;return l=Vb(0,t,s),l?i=zb(a,l.ariaColumnIndex,n,o,!0):(l=Vb(0,t,c),i=zb(a-1,l.ariaColumnIndex,n,o,!0)),{prevCell:i&&i[0]&&Tb(i[0]),elementToFocus:i&&i[0]&&(null==(r=Tb(i[0]))?void 0:r.getAttribute("role"))}},getClosestCellNavId:e=>{var t;return(null==(t=Db(e))?void 0:t.getAttribute("data-keyboardnavid"))||e.getAttribute("data-keyboardnavid")}},Wb={filterable:!0,editable:!0,sortable:!0,resizable:!0,reorderable:!0,groupable:!0};function Kb(e,t){const n=e[t].depth;let o=null;for(let r=t+1;r<e.length;r++)if(e[r].depth===n){o=e[r];break}return o}const Yb=e=>{let t=e.width?parseFloat(e.width.toString()):0;return!t&&e.children&&e.children.length&&(t=e.children.reduce(((e,t)=>Yb(t)+e),0)),t};function Xb(e,t,n){const o=new Array(e.length).fill(0);let r=0;t.forEach((e=>{if(e.locked&&(!e.left||n))if(e.left=o[e.depth],r=Yb(e),0===e.children.length)for(let t=e.depth;t<o.length;t++)o[t]+=r;else o[e.depth]+=r}))}function Qb(e,t,n){let o=0;const r=new Array(e.length).fill(0);for(let i=t.length-1;i>=0;i--){const e=t[i];if(e.locked&&(!e.right||n)){if(e.right=r[e.depth],o=Yb(e),0===e.children.length)for(let t=e.depth;t<r.length;t++)r[t]+=o;else r[e.depth]+=o;const n=Kb(t,i);e.rightBorder=!(n&&n.locked)}}}function Jb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=[];if(!e||!e.length)return[];e.forEach((e=>{const r=Jb(e.children||[],t,n+1);o.push(Object.assign({},{depth:n},Wb,e,{id:e.id?e.id:_b("".concat(t.prevId++),t.idPrefix,"column"),declarationIndex:o.length,children:r,rowSpan:0,colSpan:0,isAccessible:!0}))}));if(o.sort(((e,t)=>e.orderIndex===t.orderIndex?e.declarationIndex-t.declarationIndex:(e.orderIndex||0)-(t.orderIndex||0))),0===n){const e=[],t=(n,o)=>n.forEach((n=>{n.parentIndex=o,t(n.children,e.push(n)-1)}));return t(o,-1),e}return o}function Zb(e,t){if(!t||!e||!e.originalEvent)return-1;const n={x:e.clientX,y:e.originalEvent.clientY};let o=t.ownerDocument?t.ownerDocument.elementFromPoint(n.x,n.y):null;for(;o&&o.parentElement!==t;)o=o.parentElement;if(!o&&t.matches("tr")){const e=e=>{const t=e.getBoundingClientRect();return n.x>t.left&&n.x<t.left+t.width&&n.y>t.top&&n.y<t.top+t.height};o=Array.from(t.children).find(e)||null}const r=t.children;for(let i=0;i<r.length;i++)if(r[i]===o)return i;return-1}const $b=()=>o.createElement(o.Fragment,null),ew=$b;var tw=(e=>(e.head="head",e.body="body",e))(tw||{}),nw=(e=>(e.create="create",e.edit="edit",e.delete="delete",e.select="select",e.copySelection="copySelection",e.copySelectionNoHeaders="copySelectionNoHeaders",e.paste="paste",e.reorderRow="reorderRow",e.exportPDF="exportPDF",e.exportExcel="exportExcel",e.separator="separator",e.sortAsc="sortAsc",e.sortDesc="sortDesc",e))(nw||{});const ow=["declarationIndex","parentIndex","depth","headerColSpan","rowSpan","index","kFirst","children"],rw=["filterCell","headerCell","footerCell","cells","cell","rowSpannable"];function iw(e,t){const n=(null!=e?e:"").split(".");let o=t;return n.forEach((e=>{o=o?o[e]:void 0})),o}function aw(e,t,n,o,r,i,a,s,l,c){let d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,u=arguments.length>11?arguments[11]:void 0;var p;let h=d;for(let f=0;f<t.length;f++){let m;if(!r||void 0===t[f].value||void 0===t[f].items){e[e.length]={dataIndex:o.index,dataItem:t[f],rowType:"data",level:d,group:u,expanded:null!=(p=i?iw(i,t[f]):c&&!(null==a||!a[ax(c)(t[f])]))&&p},o.index++;continue}{let e;e=null!=u&&u.parents?[{field:u.field,value:u.value},...u.parents]:u?[u]:[],m={field:t[f].field,value:t[f].value,parents:e}}h=Math.max(h,d+1);let g=!1;if(i)g=!1!==iw(i,t[f]);else{const e=gb(s||[],m);g=e?!1!==e.expanded:!1!==l}e[e.length]={dataIndex:-1,dataItem:t[f],level:d,group:m,rowType:"groupHeader",expanded:g},g&&(m.expanded=g,h=Math.max(aw(e,t[f].items,n,o,r,i,a,s,l,c,d+1,m),h)),("always"===n||g&&"visible"===n)&&(e[e.length]={dataIndex:-1,dataItem:t[f],rowType:"groupFooter",level:d,expanded:g})}return h}function sw(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=[];if(!e)return[];e&&void 0===e.length&&(e=[e]),e.forEach(((e,a)=>{const s=(e=e.props?e.props:e).id?e.id:Gb.generateNavigatableId("".concat(n.prevId++),n.idPrefix,"column"),l=!!(Ro&&e.media&&window.matchMedia)&&!window.matchMedia(e.media).matches,c=r||l||e.hidden,d=null==t?void 0:t.find((e=>e.id===s)),u=sw(e.children,(null==d?void 0:d.children)||[],n,o+1,c);i.push(Object.assign({depth:o},Gy,u.length?{cell:()=>null,filterCell:()=>null}:{},e,{id:s,declarationIndex:i.length,children:u,headerColSpan:0,rowSpan:0,columnType:e.columnType||"data",colSpan:e.colSpan||1,isAccessible:!0,hidden:c,left:null,right:null,rowSpannable:e.rowSpannable},d?{width:d.width,orderIndex:d.orderIndex}:{}))}));if(i.sort(((e,t)=>e.orderIndex===t.orderIndex?e.declarationIndex-t.declarationIndex:(e.orderIndex||0)-(t.orderIndex||0))),0===o){const e=[],t=(n,o)=>n.forEach((n=>{n.parentIndex=o,t(n.children,e.push(n)-1)}));return t(i,-1),e}return i}const lw=e=>Array.isArray(e)?e:e?e.data:[];const cw=e=>void 0!==e.width?Math.floor(parseFloat(e.width.toString()))+"px":void 0,dw=(e,t)=>t&&t.filter((t=>t.field===e)).length>0,uw=e=>(e.sort(((e,t)=>e.declarationIndex-t.declarationIndex)),e.map((e=>{const{declarationIndex:t,parentIndex:n,depth:o,headerColSpan:r,rowSpan:i,index:a,kFirst:l,children:c}=e,d=s(e,ow);return c.length?p({children:uw(c)},d):d}))),pw=e=>{const{filterCell:t,headerCell:n,footerCell:o,cells:r,cell:i,rowSpannable:a}=e,l=s(e,rw);return e.children.length?p(p({},l),{},{children:e.children.map(pw)}):l},hw=e=>({id:e.id,field:e.field,title:e.title,width:e.width,hidden:!1,children:e.children?fw(e.children):null}),fw=e=>e.map(hw),mw=e=>{const t=[],n=e=>null==e?void 0:e.forEach((e=>{t.push(e),n(e.children)}));return n(e),t},gw="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent),vw=17895697,yw=(e,t)=>{if(e||t)return t?e?p(p(p({},e),t),{},{select:p(p({},e.select||{}),t.select||{}),hierarchy:p(p({},e.hierarchy||{}),t.hierarchy||{}),group:p(p({},e.group||{}),t.group||{}),edit:p(p({},e.edit||{}),t.edit||{})}):t:e},xw=e=>{var t;return"object"==typeof e?null==(t=e.enabled)||t:null!=e&&e},bw=e=>!(!e||e.$$typeof!==Symbol.for("react.client.reference")),ww=e=>({id:e.id,ariaColumnIndex:e.ariaColumnIndex,isSelected:e.isSelected,isInEdit:e.isInEdit,isSorted:e.isSorted,isAlt:e.isAlt,expanded:e.expanded,className:e.className,style:e.style,field:e.field,dataItem:e.dataItem,format:e.format,colSpan:e.colSpan,dataIndex:e.dataIndex,columnIndex:e.columnIndex,columnsCount:e.columnsCount,rowType:e.rowType,level:e.level,editor:e.editor,render:e.render,locked:e.locked,isRtl:e.isRtl,rowDataIndex:e.rowDataIndex,columnPosition:e.columnPosition,group:e.group}),kw=e=>{var t,n;const o="object"==typeof e?null==(t=e.enabled)||t:null!=e&&e,r="object"==typeof e&&null!=(n=e.valueGetter)?n:(e,t)=>ax(t)(e);return{enabled:o,valueGetter:r}},Cw=(e,t)=>{const n=(e=>{var t;return o.isValidElement(e)?e:null==(t=o.Children.toArray(e))?void 0:t[0]})(e);return n?o.cloneElement(n,t):null},Sw=o.createContext([{},()=>{},{}]),Iw=e=>{var t,n,r,i,a,s,l,c,d,u,h,f,m,g,v,y,x,b,w,k,C,S;const{children:I,onEditChange:E,onFilterChange:_,onSortChange:j,onSearchChange:A,onPageChange:D,onGroupChange:N,onDataStateChange:T,onSelectionChange:P,onDetailExpandChange:M,onGroupExpandChange:O,onHeaderSelectionChange:R,onColumnsStateChange:F}=e,[L,z]=o.useState({edit:null!=(t=e.defaultEdit)?t:e.edit,filter:null!=(n=e.defaultFilter)?n:e.filter,select:null!=(r=e.defaultSelect)?r:e.select,search:null!=(i=e.defaultSearch)?i:e.search,sort:null!=(a=e.defaultSort)?a:e.sort,take:null!=(s=e.defaultTake)?s:e.take,skip:null!=(l=e.defaultSkip)?l:e.skip,group:null!=(c=e.defaultGroup)?c:e.group,detailExpand:null!=(d=e.defaultDetailExpand)?d:e.detailExpand,groupExpand:null!=(u=e.defaultGroupExpand)?u:e.groupExpand,columnsState:null!=(h=e.defaultColumnsState)?h:e.columnsState}),B={edit:null!=(f=e.edit)?f:L.edit,filter:null!=(m=e.filter)?m:L.filter,search:null!=(g=e.search)?g:L.search,sort:null!=(v=e.sort)?v:L.sort,take:null!=(y=e.take)?y:L.take,skip:null!=(x=e.skip)?x:L.skip,group:null!=(b=e.group)?b:L.group,select:null!=(w=e.select)?w:L.select,detailExpand:null!=(k=e.detailExpand)?k:L.detailExpand,groupExpand:null!=(C=e.groupExpand)?C:L.groupExpand,columnsState:null!=(S=e.columnsState)?S:L.columnsState};return o.createElement(Sw.Provider,{value:[B,e=>{},{onEditChange:e=>{z((t=>p(p({},t),{},{edit:e.edit}))),null==E||E(e)},onFilterChange:_&&(e=>{z((t=>p(p({},t),{},{filter:e.filter}))),null==_||_(e)}),onSearchChange:e=>{z((t=>p(p({},t),{},{search:e.search}))),null==A||A(e)},onSortChange:j&&(e=>{z((t=>p(p({},t),{},{sort:e.sort}))),null==j||j(e)}),onPageChange:D&&(e=>{z((t=>p(p({},t),e.page))),null==D||D(e)}),onGroupChange:N&&(e=>{z((t=>p(p({},t),{},{group:e.group}))),null==N||N(e)}),onDataStateChange:e=>{z((t=>p(p({},t),e.dataState))),null==T||T(e)},onSelectionChange:e=>{z((t=>p(p({},t),{},{select:e.select}))),null==P||P(e)},onHeaderSelectionChange:e=>{z((t=>p(p({},t),{},{select:e.select}))),null==R||R(e)},onDetailExpandChange:e=>{z((t=>p(p({},t),{},{detailExpand:e.detailExpand}))),null==M||M(e)},onGroupExpandChange:e=>{z((t=>p(p({},t),{},{groupExpand:e.groupExpand}))),null==O||O(e)},onColumnsStateChange:e=>{z((t=>p(p({},t),{},{columnsState:e.columnsState}))),null==F||F(e)}}]},I)},Ew=e=>{const t=nn(),n=e.id||t,r=uo(),i=Fc(),a=Wc(),[,s]=o.useReducer((e=>!e),!0),l=o.useRef(0),c=o.useRef(0),[d,,u]=o.useContext(Sw);return Cw(e.children,p(p(p({},d),u),{},{id:n,unstyled:r,localization:i,intl:a,scrollLeftRef:l,widthRef:c,forceUpdate:s,isClient:!0}))},_w={wrapper:{main:Kn,size:{small:"".concat(Kn,"-").concat(fn.small),medium:"".concat(Kn,"-").concat(fn.medium)},virtual:"".concat(Kn,"-").concat(un.virtual)},ariaRoot:"".concat(Kn,"-").concat(Pn.ariaRoot),container:"".concat(Kn,"-").concat(kn.container),content:{main:"".concat(Kn,"-").concat(kn.content),virtual:"".concat(un.prefix,"-").concat(un.virtual,"-").concat(kn.content)},tableWrap:"".concat(Kn,"-").concat(Pn.tableWrap),table:{main:"".concat(un.prefix,"-").concat(Cn.table),gridTable:"".concat(Kn,"-").concat(Cn.table),size:{small:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(fn.small),medium:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(fn.medium)}},tbody:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(Cn.tbody),thead:{main:"".concat(Kn,"-").concat(Cn.table,"-").concat(Cn.thead),draggable:"".concat(Kn,"-").concat(In.draggable,"-").concat(Cn.header)},header:{main:"".concat(Kn,"-").concat(Cn.header),draggable:"".concat(Kn,"-").concat(In.draggable,"-").concat(Cn.header)},headerWrap:"".concat(Kn,"-").concat(Cn.header,"-").concat(kn.wrap),headerTable:{main:"".concat(un.prefix,"-").concat(Cn.table),header:"".concat(Kn,"-").concat(Cn.header,"-").concat(Cn.table),size:{small:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(fn.small),medium:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(fn.medium)}},headerTh:{main:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(Cn.th),header:"".concat(un.prefix,"-").concat(Cn.header),first:"".concat(un.prefix,"-").concat(In.first),filterable:"".concat(un.prefix,"-").concat(In.filterable),locked:"".concat(Kn,"-").concat(Cn.header,"-").concat(In.sticky),sorted:"".concat(un.prefix,"-").concat(In.sorted)},tableThead:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(Cn.thead),heightContainer:"".concat(un.prefix,"-").concat(xn.height,"-").concat(kn.container),sortIcon:"".concat(un.prefix,"-").concat(In.sort,"-").concat(Cn.icon),sortOrder:"".concat(un.prefix,"-").concat(In.sort,"-").concat(In.order),tr:{main:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(Pn.row),header:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(Pn.group,"-").concat(Pn.row),grouping:"".concat(un.prefix,"-").concat(In.grouping,"-").concat(Pn.row),footer:"".concat(un.prefix,"-").concat(Pn.group,"-").concat(Cn.footer),master:"".concat(un.prefix,"-").concat(Pn.master,"-").concat(Pn.row),rowAlt:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(In.alt,"-").concat(Pn.row),alt:"".concat(un.prefix,"-").concat(In.alt),selected:"".concat(un.prefix,"-").concat(In.selected),isInEdit:"".concat(Kn,"-").concat(In.edit,"-").concat(Pn.row)},detailTr:{main:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(Pn.row),row:"".concat(un.prefix,"-").concat(Pn.detail,"-").concat(Pn.row),rowAlt:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(In.alt,"-").concat(Pn.row),alt:"".concat(un.prefix,"-").concat(In.alt)},simpleTr:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(Pn.row),headerCellInner:"".concat(un.prefix,"-").concat(Pn.cellInner),columnTitle:"".concat(un.prefix,"-").concat(Pn.column,"-").concat(Cn.title),headerCellLink:{main:"".concat(un.prefix,"-").concat(Cn.link),notSortable:"".concat(un.important).concat(un.prefix,"-").concat(bn.default)},noRecords:"".concat(Kn,"-").concat(Pn.noRecords),noRecordsTemplate:"".concat(Kn,"-").concat(Pn.noRecords,"-").concat(In.template),pager:"".concat(Kn,"-").concat(Pn.pager),sorted:"".concat(un.prefix,"-").concat(In.sorted),contentSticky:"".concat(Kn,"-").concat(kn.content,"-").concat(In.sticky),hierarchyCell:{main:"".concat(un.prefix,"-").concat(Pn.hierarchy,"-").concat(Pn.cell),header:"".concat(un.prefix,"-").concat(Cn.header)},rowReorder:{dropIndicator:{main:"".concat(un.prefix,"-").concat(Mn,"-").concat(Rn),direction:"".concat(un.prefix,"-").concat(Mn,"-").concat(Rn,"-").concat(Fn)},dragClue:{main:"".concat(un.prefix,"-").concat(On,"-").concat(Ln),operation:"".concat(un.prefix,"-").concat(zn,"-").concat(Ln)}},td:{main:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(Cn.td),selected:"".concat(un.prefix,"-").concat(In.selected)},detailTd:{main:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(Cn.td),cell:"".concat(un.prefix,"-").concat(Pn.detail,"-").concat(Pn.cell)},editTd:{main:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(Cn.td),cell:"".concat(Kn,"-").concat(In.edit,"-").concat(Pn.cell),selected:"".concat(un.prefix,"-").concat(In.selected)},hierarchyTd:{main:"".concat(un.prefix,"-").concat(Cn.table,"-").concat(Cn.td),cell:"".concat(un.prefix,"-").concat(Pn.hierarchy,"-").concat(Pn.cell)}},jw={wrapper:e=>{const{size:t,virtual:n,c:o=_w.wrapper}=e;return{[o.main]:!0,[o.size[t]]:o.size[t],["".concat(Kn,"-").concat(t)]:t&&!o.size[t],[o.virtual]:n}},ariaRoot:e=>{const{c:t=_w}=e;return t.ariaRoot},container:e=>{const{c:t=_w}=e;return t.container},content:e=>{const{c:t=_w.content}=e;return{[t.main]:!0,[t.virtual]:!0}},tableWrap:e=>{const{c:t=_w}=e;return t.tableWrap},table:e=>{const{size:t,c:n=_w.table}=e;return{[n.main]:!0,[n.gridTable]:!0,[n.size[t]]:n.size[t],["".concat(un.prefix,"-").concat(Cn,"-").concat(t)]:!n.size[t]}},tbody:e=>{const{c:t=_w}=e;return t.tbody},thead:e=>{const{draggable:t,c:n=_w.thead}=e;return{[n.main]:!0,[n.draggable]:t}},header:e=>{const{draggable:t,c:n=_w.header}=e;return{[n.main]:!0,[n.draggable]:t}},headerWrap:e=>{const{c:t=_w}=e;return t.headerWrap},headerTable:e=>{const{size:t,c:n=_w.headerTable}=e;return{[n.main]:!0,[n.header]:!0,[n.size[t]]:n.size[t],["".concat(un.prefix,"-").concat(Cn.table,"-").concat(t)]:!n.size[t]}},headerTh:e=>{const{first:t,filterable:n,locked:o,sorted:r,c:i=_w.headerTh}=e;return{[i.main]:!0,[i.header]:!0,[i.first]:t,[i.filterable]:n,[i.locked]:o,[i.sorted]:r}},tableThead:e=>{const{c:t=_w}=e;return t.tableThead},heightContainer:e=>{const{c:t=_w}=e;return t.heightContainer},sortIcon:e=>{const{c:t=_w}=e;return t.sortIcon},sortOrder:e=>{const{c:t=_w}=e;return t.sortOrder},tr:e=>{const{isHeader:t,isFooter:n,isMaster:o,isAltRow:r,selected:i,isInEdit:a,c:s=_w.tr}=e;return{[s.main]:!0,[s.header]:t,[s.grouping]:t,[s.footer]:n,[s.master]:o,[s.rowAlt]:o&&r,[s.alt]:o&&r,[s.selected]:i,[s.isInEdit]:a}},detailTr:e=>{const{isAlt:t,c:n=_w.detailTr}=e;return{[n.main]:!0,[n.row]:!0,[n.rowAlt]:t,[n.alt]:t}},simpleTr:e=>{const{c:t=_w}=e;return t.simpleTr},rowReorder:e=>{const{dropIndicatorMain:t,dropIndicatorDirection:n,dragClueMain:o,dragClueOperation:r,c:i=_w.rowReorder}=e;return{[i.dropIndicator.main]:t,[i.dropIndicator.direction]:n,[i.dragClue.main]:o,[i.dragClue.operation]:r}},headerCellInner:e=>{const{c:t=_w}=e;return t.headerCellInner},columnTitle:e=>{const{c:t=_w}=e;return t.columnTitle},headerCellLink:e=>{const{sortable:t,c:n=_w.headerCellLink}=e;return{[n.main]:!0,[n.notSortable]:!t}},noRecords:e=>{const{c:t=_w}=e;return t.noRecords},noRecordsTemplate:e=>{const{c:t=_w}=e;return t.noRecordsTemplate},pager:e=>{const{c:t=_w}=e;return t.pager},sorted:e=>{const{c:t=_w}=e;return t.sorted},contentSticky:e=>{const{locked:t,c:n=_w}=e;return{[n.contentSticky]:t}},hierarchyCell:e=>{const{c:t=_w.hierarchyCell}=e;return{[t.main]:!0,[t.header]:!0}},td:e=>{const{selected:t,c:n=_w.td}=e;return{[n.main]:!0,[n.selected]:t}},detailTd:e=>{const{c:t=_w.detailTd}=e;return{[t.main]:!0,[t.cell]:!0}},editTd:e=>{const{selected:t,c:n=_w.editTd}=e;return{[n.main]:!0,[n.cell]:!0,[n.selected]:t}},hierarchyTd:e=>{const{c:t=_w.hierarchyTd}=e;return{[t.main]:!0,[t.cell]:!0}}};const Aw=(e,t)=>t&&!e?t:e&&!t?e:e&&t?{logic:"and",filters:[e,t]}:void 0,Dw=e=>{var t;return{enabled:"boolean"==typeof e?e:null==(t=null==e?void 0:e.enabled)||t,column:"boolean"==typeof e||null==e?void 0:e.column}},Nw="data-grid-row-index",Tw="data-grid-col-index",Pw="data-prevent-selection",Mw={},Ow=(e,t)=>{let n=e;for(;n;){if(n.tagName===t)return n;if("TABLE"===n.tagName)return null;n=n.parentElement}return null},Rw=e=>{if(!e)return;const t=e.getAttribute(Nw);return t?parseInt(t,10):void 0},Fw=e=>{if(!e)return;const t=e.getAttribute(Tw);return t?parseInt(t,10):void 0},Lw=e=>{const{event:t,dataItemKey:n,selectedState:o}=e,{dataItems:r,startRowIndex:i,endRowIndex:a,startColIndex:s,endColIndex:l,cell:c,isDrag:d,ctrlKey:u,shiftKey:h,metaKey:f,componentId:m,mode:g,dataItem:v}=t,y=ji(n);let x={};const b=null!==v;if("single"===g){const e=r.slice(i,i+1)[0],t=y(e);Mw[m]={rowIndex:i,colIndex:s},void 0!==t&&(x[t]=!c||[s])}else if(!d&&(h||u||f||b)){if(u||f||b){Mw[m]={rowIndex:i,colIndex:s};const e=r.slice(i,a+1)[0],t=y(e);void 0!==t&&(x=p({},o),x[t]=c&&!b?((e,t)=>!e||Array.isArray(e)&&0===e.length?[t]:e.findIndex((e=>e===t))>-1?e.filter((e=>e!==t)):[...e,t])(x[t],s):!x[t])}else if(h){const e=Mw[m]&&Mw[m].rowIndex||0,t=Mw[m]&&Mw[m].colIndex||0,n=Math.min(e,i,a),o=Math.max(e,i,a),d=Math.min(t,s,l),u=Math.max(t,s,l),p=[];for(let r=d;r<=u;r++)p.push(r);r.slice(n,o+1).forEach((e=>{const t=y(e);void 0!==t&&(x[t]=!c||[...p])}))}}else{d||(Mw[m]={rowIndex:i,colIndex:s});const e=[];for(let t=s;t<=l;t++)e.push(t);r.slice(i,a+1).forEach((t=>{const n=y(t);void 0!==n&&(x[n]=!c||[...e])}))}return x},zw=(e=>{if(!Ro)return!1;const t=e?e.ownerDocument:document;if(!t||!t.body)return!1;const n=t.createElement("div");n.style.transform="matrix(10, 0, 0, 10, 0, 0)";const o=t.createElement("div");o.appendChild(t.createTextNode("child")),o.style.position="fixed",o.style.top="10px",n.appendChild(o),t.body.appendChild(n);const r=10!==o.getBoundingClientRect().top;return t.body.removeChild(n),r})(),Bw=e=>{var t,n,o,r;return{enabled:"object"==typeof e?null==(t=e.enabled)||t:null!=e&&e,drag:"object"==typeof e&&null!=(n=e.drag)&&n,mode:"object"==typeof e&&null!=(o=e.mode)?o:"multiple",cell:"object"==typeof e&&null!=(r=e.cell)&&r}},Vw="pager.info",Hw="pager.firstPage",qw="pager.previousPage",Uw="pager.nextPage",Gw="pager.lastPage",Ww="pager.itemsPerPage",Kw="pager.pageSelection",Yw="pager.page",Xw="pager.of",Qw="pager.totalPages",Jw="pager.pageNumberLabel",Zw="pager.pageLabel",$w="pager.ariaKeyshortcuts",ek="pager.ariaLabel",tk="pager.pageSizeAriaLabel",nk="pager.mobileSelect",ok="pager.moreButtonLabel",rk="filter.eqOperator",ik="filter.notEqOperator",ak="filter.isNullOperator",sk="filter.isNotNullOperator",lk="filter.isEmptyOperator",ck="filter.isNotEmptyOperator",dk="filter.startsWithOperator",uk="filter.containsOperator",pk="filter.notContainsOperator",hk="filter.endsWithOperator",fk="filter.gteOperator",mk="filter.gtOperator",gk="filter.lteOperator",vk="filter.ltOperator",yk="filter.isTrue",xk="filter.isFalse",bk="filter.afterOrEqualOperator",wk="filter.afterOperator",kk="filter.beforeOperator",Ck="filter.beforeOrEqualOperator",Sk="filter.andLogic",Ik="filter.orLogic",Ek="filter.addExpression",_k="filter.addGroup",jk="filter.close",Ak="filter.groupAriaLabel",Dk="filter.expressionAriaLabel",Nk="filter.expressionDropdownAriaLabel",Tk="filter.expressionOperatorDropdownAriaLabel",Pk="filter.enumFilterDropdownAriaLabel",Mk="filter.numericFilterAriaLabel",Ok="filter.textFilterAriaLabel",Rk="columnMenu.filterClearButton",Fk="columnMenu.filterSubmitButton",Lk="columnMenu.filterTitle",zk="columnMenu.sortAscending",Bk="columnMenu.sortDescending",Vk="columnMenu.filterEqOperator",Hk="columnMenu.filterNotEqOperator",qk="columnMenu.filterIsNullOperator",Uk="columnMenu.filterIsNotNullOperator",Gk="columnMenu.filterIsEmptyOperator",Wk="columnMenu.filterIsNotEmptyOperator",Kk="columnMenu.filterStartsWithOperator",Yk="columnMenu.filterContainsOperator",Xk="columnMenu.filterNotContainsOperator",Qk="columnMenu.filterEndsWithOperator",Jk="columnMenu.filterGteOperator",Zk="columnMenu.filterGtOperator",$k="columnMenu.filterLteOperator",eC="columnMenu.filterLtOperator",tC="columnMenu.filterIsTrue",nC="columnMenu.filterAfterOrEqualOperator",oC="columnMenu.filterAfterOperator",rC="columnMenu.filterBeforeOperator",iC="columnMenu.filterBeforeOrEqualOperator",aC="columnMenu.filterAndLogic",sC="columnMenu.filterOrLogic",lC="sort.ariaLabel",cC="filter.ariaLabel",dC={[Ww]:"items per page",[Kw]:"Select page",[Vw]:"{0} - {1} of {2} items",[Hw]:"Go to the first page",[qw]:"Go to the previous page",[Uw]:"Go to the next page",[Gw]:"Go to the last page",[Yw]:"Page",[Xw]:"of",[Qw]:"{0}",[Zw]:"Page",[$w]:"Enter ArrowRight ArrowLeft",[ek]:"Pager",[tk]:"Page size",[nk]:"Select",[ok]:"More pages",[Jw]:"Type a page number",[lC]:"Sortable",[cC]:"Filter",[rk]:"Is equal to",[ik]:"Is not equal to",[ak]:"Is null",[sk]:"Is not null",[lk]:"Is empty",[ck]:"Is not empty",[dk]:"Starts with",[uk]:"Contains",[pk]:"Does not contain",[hk]:"Ends with",[fk]:"Is greater than or equal to",[mk]:"Is greater than",[gk]:"Is less than or equal to",[vk]:"Is less than",[yk]:"Is true",[xk]:"Is false",[bk]:"Is after or equal to",[wk]:"Is after",[kk]:"Is before",[Ck]:"Is before or equal to",[Sk]:"And",[Ik]:"Or",[Ek]:"Add Expression",[_k]:"Add Group",[jk]:"Remove",[Ak]:"Filter toolbar",[Dk]:"Filter expression row",[Nk]:"Filter dropdown",[Tk]:"Filter operator dropdown",[Pk]:"Select True/False",[Mk]:"Enter number",[Ok]:"Enter text",[Rk]:"Clear",[Fk]:"Filter",[Lk]:"Filter",[zk]:"Sort Ascending",[Bk]:"Sort Descending",[Vk]:"Is equal to",[Hk]:"Is not equal to",[qk]:"Is null",[Uk]:"Is not null",[Gk]:"Is empty",[Wk]:"Is not empty",[Kk]:"Starts with",[Yk]:"Contains",[Xk]:"Does not contain",[Qk]:"Ends with",[Jk]:"Is greater than or equal to",[Zk]:"Is greater than",[$k]:"Is less than or equal to",[eC]:"Is less than",[tC]:"Is true",[nC]:"Is after or equal to",[oC]:"Is after",[rC]:"Is before",[iC]:"Is before or equal to",[aC]:"And",[sC]:"Or"},uC=(e,t)=>t?t(e):{messageKey:e,defaultMessage:dC[e]},pC=(e,t)=>e.toLanguageString(t.messageKey,t.defaultMessage),hC=e=>{const t=Fc(),{messagesMap:n,size:r,totalPages:i,type:a,navigatable:s}=e,l=uC(nk,n),c=uC(Yw,n),d=uC(ok,n),u=pC(t,d),p=(t,n)=>{t.preventDefault(),e.pageChange(n,t)},h=(e,t)=>o.createElement(xo,{fillMode:"flat",themeColor:"primary",size:r,rounded:null,role:"button","aria-label":t,onClick:t=>p(t,e),tabIndex:s?-1:void 0},"..."),f=e=>o.createElement("option",{value:e},"...");let m=1;const g=e.currentPage,v=e.buttonCount;if(g>v){const e=g%v;m=0===e?g-v+1:g-e+1}const y=Math.min(m+e.buttonCount-1,e.totalPages),x=m>1&&h(m-1,u),b=y<i&&h(y+1,u),w=m>1&&f(m-1),k=y<i&&f(y+1),C=[];for(let o=m;o<=y;o++)C.push(o);const S=C.map((e=>o.createElement(xo,{className:on({"k-selected":g===e}),key:e,fillMode:"flat",themeColor:"primary",size:r,rounded:null,role:"button","aria-label":pC(t,c)+" "+e,"aria-current":g===e||void 0,onClick:t=>p(t,e),tabIndex:s?-1:void 0},e))),I=C.map((e=>o.createElement("option",{key:e},e)));return o.createElement(o.Fragment,null,o.createElement("select",{style:{width:"5em",margin:"0px 1em",display:"inline-flex"},className:on("k-picker k-dropdown-list k-dropdown k-rounded-md k-picker-solid",{["k-picker-".concat(ko.sizeMap[r]||r)]:r,"k-hidden":"dropdown"!==a}),"aria-label":pC(t,l),value:g,onChange:t=>(t=>{t.preventDefault(),e.pageChange(t.target.value,t)})(t)},w,I,k),o.createElement("div",{className:"k-pager-numbers",style:{display:"numbers"===a?"":"none"}},x,S,b))},fC=e=>{const[t,n]=o.useState(e.currentPage),r=Wc(),i=Fc(),a=uC(Yw,e.messagesMap),s=uC(Xw,e.messagesMap),l=uC(Qw,e.messagesMap),c=uC(Jw,e.messagesMap);return o.createElement("span",{className:"k-pager-input"},o.createElement("span",null,pC(i,a)),o.createElement(Su,{value:void 0!==e.currentPage?e.currentPage:t,onChange:t=>{n(t.target.value),t.target.value&&e.pageChange(t.target.value,t)},min:1,spinners:!1,ariaLabel:pC(i,c),tabIndex:e.navigatable?-1:void 0}),o.createElement("span",null,"".concat(pC(i,s)," ").concat(r.format(pC(i,l),[e.totalPages]))))},mC=e=>{const{value:t,pageSizes:n,pageSize:r,messagesMap:i,size:a,navigatable:s}=e,l=n.slice(),c=Fc();void 0===t&&0===l.filter((e=>e===r)).length&&l.unshift(r);const d=uC(Ww,i),u=uC(tk,i);return o.createElement("span",{className:"k-pager-sizes"},o.createElement(Ah,{value:void 0!==t?t:r,data:l,onChange:t=>{e.pageChange&&e.pageChange({skip:0,take:parseInt(t.target.value,10)},t)},ariaLabel:pC(c,u),size:a,tabIndex:s?-1:void 0}),o.createElement("span",null,pC(c,d)))},gC=o.forwardRef(((e,t)=>{const{buttonCount:n=vC.buttonCount,info:r=vC.info,type:i=vC.type,size:a=vC.size,disabled:s=vC.disabled,total:l,skip:c,take:d,className:u,style:h,pageSizes:f,pageSizeValue:m,previousNext:g,responsive:v,messagesMap:y,dir:x,navigatable:b}=e,w=Fc(),k=Wc(),C=o.useRef({element:null,props:e}),S=o.useRef(null);o.useImperativeHandle(C,(()=>({get element(){return I()},props:e}))),o.useImperativeHandle(t,(()=>C.current));const I=()=>S.current,[E,_]=o.useState(!0),[j,A]=o.useState(!0);o.useEffect((()=>(window.addEventListener("resize",M),M(),()=>{window.removeEventListener("resize",M)})),[]);const D="rtl"===x,N=Math.floor(c/d)+1,T=Math.ceil((l||0)/d),P=(t,n)=>{e.onPageChange&&t>0&&t<=T&&e.onPageChange({target:C.current,skip:(t-1)*e.take,take:e.take,syntheticEvent:n,nativeEvent:n.nativeEvent,targetEvent:n})},M=()=>{const e=S.current;if(!e||!v)return;const t=e.offsetWidth;t<600?_(!1):t>=600&&t<768?(A(!1),_(!0)):(A(!0),_(!0))},O=uC(Hw,y),R=uC(qw,y),F=uC(Uw,y),L=uC(Gw,y),z=uC(Vw,y),B=uC($w,y),V=uC(Yw,y),H=uC(Xw,y),q=uC(Qw,y),U="".concat(w.toLanguageString(V.messageKey,V.defaultMessage)," ").concat(k.format(w.toLanguageString(q.messageKey,q.defaultMessage),[N])," ").concat(w.toLanguageString(H.messageKey,H.defaultMessage)," ").concat(k.format(w.toLanguageString(q.messageKey,q.defaultMessage),[T])),G=(e,t,n,r,i,s)=>o.createElement(xo,{fillMode:"flat",themeColor:"base",size:a,rounded:null,className:t,icon:r,svgIcon:i,title:n,role:"button","aria-disabled":s,tabIndex:b?-1:void 0,onClick:t=>{t.preventDefault(),P(e,t)}}),W=f&&o.createElement(mC,{pageChange:(t,n)=>{const o=p({target:null==C?void 0:C.current,syntheticEvent:n.syntheticEvent,nativeEvent:n.nativeEvent,targetEvent:n},t);e.onPageChange&&e.onPageChange(o)},pageSize:d,pageSizes:f,value:m,messagesMap:y,size:a,navigatable:b}),K=r&&o.createElement("span",{className:"k-pager-info"},k.format(w.toLanguageString(z.messageKey,z.defaultMessage),[Math.min(c+1,l),Math.min(c+d,l),l])),Y="numeric"===i?o.createElement(hC,{type:v&&!E?"dropdown":"numbers",buttonCount:n||0,totalPages:T,currentPage:N,pageChange:P,messagesMap:y,size:a,navigatable:b}):o.createElement(fC,{buttonCount:n||0,totalPages:T,currentPage:N,pageChange:P,messagesMap:y,size:a,navigatable:b});let X,Q,J,Z;if(g){const e=pC(w,O),{rtlClass:t,rtlIcon:n,isDisabledClass:o,isDisabled:r}=((e,t,n)=>({rtlClass:e?"caret-alt-to-right":"caret-alt-to-left",rtlIcon:e?rd:id,isDisabledClass:"k-pager-nav k-pager-first"+(1!==t||n?"":" k-disabled"),isDisabled:1===t||void 0}))(D,N,s);X=G(1,o,e,t,n,r);const i=pC(w,R),{rtlClass:a,rtlIcon:l,isDisabledClass:c,isDisabled:d}=((e,t,n)=>({rtlClass:e?"caret-alt-right":"caret-alt-left",rtlIcon:e?td:od,isDisabledClass:"k-pager-nav"+(1!==t||n?"":" k-disabled"),isDisabled:1===t||void 0}))(D,N,s);Q=G(N-1,c,i,a,l,d);const u=pC(w,F),{rtlClass:p,rtlIcon:h,isDisabledClass:f,isDisabled:m}=((e,t,n,o)=>({rtlClass:e?"caret-alt-left":"caret-alt-right",rtlIcon:e?od:td,isDisabledClass:"k-pager-nav"+(t>=n&&!o?" k-disabled":""),isDisabled:t>=n||void 0}))(D,N,T,s);J=G(N+1,f,u,p,h,m);const g=pC(w,L),{rtlClass:v,rtlIcon:y,isDisabledClass:x,isDisabled:b}=((e,t,n,o)=>({rtlClass:e?"caret-alt-to-left":"caret-alt-to-right",rtlIcon:e?id:rd,isDisabledClass:"k-pager-nav k-pager-last"+(t>=n&&!o?" k-disabled":""),isDisabled:t>=n||void 0}))(D,N,T,s);Z=G(T,x,g,v,y,b)}return o.createElement("div",{ref:S,className:on("k-pager",{["k-pager-".concat(ko.sizeMap[a]||a)]:a,"k-disabled":s},u),style:h,role:"application","aria-roledescription":"pager",dir:x,"aria-keyshortcuts":w.toLanguageString(B.messageKey,B.defaultMessage),"aria-label":U,tabIndex:b?0:void 0,onKeyDown:e=>{const t=S.current,n=e.keyCode;!t||!b||((n===Ot||e.metaKey&&n===Rt)&&P(1,e),(n===Mt||e.metaKey&&n===Lt)&&P(T,e),document.activeElement===t?(n===At&&(Qt(t),Zt(t)),(n===Rt||n===Ft)&&P(N-1,e),(n===Lt||n===zt)&&P(N+1,e)):(n===Dt&&(t.focus(),$t(t)),Jt(e,t,Wt)))}},o.createElement("div",{className:on("k-pager-numbers-wrap")},X,Q,Y,J,Z),v?E&&W:W,v?j&&K:K)})),vC={buttonCount:10,info:!0,type:"numeric",size:"medium",disabled:!1};function yC(e,t){const n=(e||"").split(".");let o=t;return n.forEach((e=>{o=o?o[e]:void 0})),o}gC.displayName="Pager",gC.propTypes={className:Et.string,style:Et.object,total:Et.number.isRequired,skip:Et.number.isRequired,take:Et.number.isRequired,buttonCount:Et.number,info:Et.bool,type:Et.oneOf(["numeric","input"]),pageSizes:Et.oneOfType([Et.arrayOf(Et.number.isRequired),Et.arrayOf(Et.oneOfType([Et.number.isRequired,Et.string.isRequired]).isRequired)]),previousNext:Et.bool,onPageChange:Et.func,messagesMap:Et.func,size:Et.oneOf([null,"small","medium","large"]),dir:Et.string,disabled:Et.bool};var xC=(e=>(e.copy="copy",e.cut="cut",e.paste="paste",e))(xC||{});const bC=(e,t)=>{var n,o,r;const{event:i}=e,a=i.dataItem,s=null!=(o=null!=(n=e.dataItemKey)?n:i.dataItemKey)?o:"",l=ji(s),c=a&&!a.selected&&i.field?[{dataItem:i.dataItem,fields:[i.field]}]:wC(e),d=c.length?c[0].fields[0]:null!=(r=i.columns[0].field)?r:"",u=i.columns.map((e=>{var t;return null!=(t=e.field)?t:""})),p=u.indexOf(d),h=((e,t)=>{var n;return"paste"===(null==(n=e.event.nativeEvent)?void 0:n.type)?((e,t)=>{var n,o;const{event:r}=e,i=t.includes("\n")?"\n":null,a=null!=(n=r.cellDelimiter)?n:"\t",s=null!=(o=r.newLineDelimiter)?o:"\r\n",l=t.includes(s)?s:i;return(l?t.split(l):[t]).map((e=>e.includes(a)?e.split(a):[e]))})(e,t):(e=>(null==e?void 0:e.map((e=>e.fields.map((t=>e.dataItem[t].toString())))))||[])(e.previousCopiedItems)})(e,t),f=((e,t,n,o)=>{const r=ji(o),i=e.data.findIndex((e=>r(e)===r(t[0].dataItem)))||0,a=t.length<2?n:t.length;return e.data.filter(((e,t)=>t>=i&&t<i+a))||[]})(e,c,h.length,s);return h.slice(0,f.length).map(((e,t)=>{const n=p+e.length,o=u.slice(p,n),r={[s]:l(f[t])};return o.forEach(((t,n)=>r[t]=e[n])),{dataItem:r,fields:o}}))},wC=e=>{var t,n;const{event:o,selectedState:r,data:i}=e,a=ji(null!=(n=null!=(t=e.dataItemKey)?t:o.dataItemKey)?n:""),s={},l=[];return Object.entries(r).forEach((e=>{let[t,n]=e;s[t]=function(e){return void 0!==e.length}(n)?n.map((e=>o.columns[e])).filter((e=>!e.declarationIndex||e.declarationIndex>=0)):o.columns.filter((e=>!e.declarationIndex||e.declarationIndex>=0))})),null==i||i.map((e=>{const t=a(e)||"";return s[t]&&l.push({dataItem:e,fields:s[t].map((e=>{var t;return null!=(t=e.field)?t:""}))}),e})),l},kC=(e,t)=>{let n="";if("paste"===e.type){const t=e.nativeEvent?e.nativeEvent.clipboardData:"";n=t?t.getData("text").trim():""}else n=((e,t)=>{var n,o;const r=null!=(n=t.newLineDelimiter)?n:"\r\n",i=e.map(((e,n)=>{var o;let r=null!=(o=((e,t)=>{if(!t.length)return null;let n="";return t.forEach(((t,o,r)=>n+="".concat(e[t]).concat(o<r.length-1?"\t":""))),n})(e.dataItem,e.fields))?o:"";return t.copyHeaders&&0===n&&(r=((e,t,n)=>{var o,r;const i=null!=(o=n.cellDelimiter)?o:"\t",a=null!=(r=n.newLineDelimiter)?r:"\r\n";return"".concat(t.join(i)).concat(a).concat(e)})(r,e.fields,t)),r?[r]:[]})).join(r);return null==(o=navigator.clipboard)||o.writeText(i),i})(t,e);return n};var CC=(e=>(e.incell="incell",e.inline="inline",e))(CC||{});const SC=e=>{const{navigatable:t,contextStateRef:n,navigationStateRef:o,idPrefix:r}=e;t&&(n.current={activeId:"",level:0},o.current={activeElementIsFocused:!1,prevNavigationIndexes:void 0,idPrefix:r||en(),navigationMatrix:[],lastHeaderIndex:-1})},IC=e=>{const{scope:t,contextStateRef:n,navigationStateRef:o}=e;if(n.current&&o.current&&t){EC(e);const r=qb(o.current.navigationMatrix);if(r){const e=Gb.getActiveNavDataElement(t,r);e&&(n.current.activeId=r,e.setAttribute("tabIndex","0"))}}},EC=e=>{const{navigationStateRef:t,scope:n}=e;if(!t.current||!n)return;const o=[],r=Mb(n),i=Ob(n),a=(e=>e.querySelector(".k-grid-norecords"))(n)||{children:[]};if(!r||!i)return;const s=Array.from(r.children),l=Array.from(i.children);[...s,...l,a].forEach(((e,t)=>{Array.from(e.children).forEach((e=>{const n=jb(e);if(!n)return;const r=e.rowSpan||1,i=e.colSpan||1;let a;for(let s=t,l=t+r;s<l;s++){if(o[s]||(o[s]=[]),void 0===a){const e=o[s].findIndex((e=>!e));a=e>-1?e:o[s].length}o[s][a]=n||""}for(let s=a+1,l=a+i;s<l;s++)o[t][s]=n||""}))})),t.current.navigationMatrix=o.filter((e=>!!e)),t.current.lastHeaderIndex=s.length-1},_C=SC,jC=IC,AC=e=>{const{contextStateRef:t,navigationStateRef:n,document:o}=e;if(t.current&&n.current&&o){const e=Zc(o),r=Gb.getNavigatableId(e);r&&r===t.current.activeId&&(n.current.activeElementIsFocused=!0)}},DC=e=>{const{scope:t,contextStateRef:n,navigationStateRef:o,focusFirst:r,newEditableRow:i,singleEditRow:a,lastActiveElement:s,navigatable:l}=e;if(r&&(SC(e),IC(e),Rb(e)),(!l||l&&l.mode===CC.inline)&&(i&&!a||i&&a&&!s)?(e=>{const t=e.querySelector(".k-grid-edit-cell"),n=t&&t.querySelector("input");n?n.focus():t&&t.firstChild.focus()})(i):l&&l.mode===CC.inline&&i&&a&&s&&s.focus(),EC(e),n.current&&o.current&&t){if(!Gb.getActiveNavDataElement(t,n.current.activeId)){const e=-1===t.className.indexOf("k-treelist")?qb(o.current.navigationMatrix):o.current.navigationMatrix[0][0],r=Gb.getActiveNavDataElement(t,e);e&&r&&(n.current.activeId=e,r.setAttribute("tabIndex","0"),o.current.activeElementIsFocused&&r.focus())}o.current.activeElementIsFocused=!1}},NC=(e,t)=>{const{contextStateRef:n}=t;if(e.isDefaultPrevented()||!n.current)return;const o=e.target,r=Gb.getNavigatableId(o);if(r&&r!==n.current.activeId){const t=Gb.getClosestScope(o);if(!t)return;const i=Gb.getActiveNavDataElement(t,n.current.activeId);i&&!e.target.classList.contains("k-table-td")&&!e.target.classList.contains("k-detail-cell")&&i.setAttribute("tabIndex","-1"),o.setAttribute("tabIndex","0"),n.current.activeId=r}else if(o.closest(".k-filtercell")&&t.navigatable){const e=o.closest(".k-table-td");Zt(e)}},TC=async(e,t)=>{var n,o,r,i;const{contextStateRef:a,navigationStateRef:s,onNavigationAction:l,columns:c}=t;if(e.isDefaultPrevented()||!a.current||!s.current)return;let d;if(e.keyCode===Dt&&!t.navigatable.mode)return d=Gb.getClosestNavigatableElement(e.target),Gb.focusElement({elementForFocus:d,event:e,contextStateRef:a}),void(e.target.closest(".k-filtercell")&&d&&t.navigatable&&$t(d));const u=e.target,p=-1===u.className.indexOf("k-checkbox")?u:Gb.getClosestNavigatableElement(u),h=Gb.getNavigatableId(p)||(null==(n=Gb.getParentCell(p))?void 0:n.getAttribute("data-keyboardnavid")),f=null==h?void 0:h.endsWith("column"),m=null==h?void 0:h.endsWith("column_filter"),g=Gb.getNavigatableLevel(p),v=Gb.getClosestScope(p),y=s.current.navigationMatrix,x=e.metaKey||e.ctrlKey,b=((e,t,n)=>{let o;if(e.current&&e.current.prevNavigationIndexes){const[r,i]=e.current.prevNavigationIndexes,a=t[r];o=a&&a[i]===n?e.current.prevNavigationIndexes:Bb(t,n)}else o=Bb(t,n);return o})(s,y,h),w=p.closest(".k-table-td"),k=null==(o=p.closest(".k-table-td"))?void 0:o.classList.contains("k-grid-edit-cell");if(t.navigatable&&t.navigatable.mode===CC.inline){if(e.keyCode===At){const e=p.classList.contains("k-grid-remove-command"),t=p.classList.contains("k-grid-cancel-command"),n=Gb.getRowAriaRowIndex(p);if(e)return void setTimeout((()=>{const e=Gb.getRemoveButtonByAriaRowIndex(n.current)||Gb.getRemoveButtonByAriaRowIndex(n.prev);e&&e.focus()}));if(t&&p.parentElement){const e=null==(r=Gb.getClosestNavigatableElement(p))?void 0:r.getAttribute("data-keyboardnavid");return void setTimeout((()=>{e&&Gb.getTableCellByKeyboardNavId(e).focus()}))}}if(e.keyCode===Dt){const e=Gb.getClosestCancelButton(p);e&&e.click();const t=await Gb.getClosestEditButton(p);return void(t&&t.focus())}}else if(t.navigatable&&t.navigatable.mode===CC.incell)if(e.keyCode===Dt){p.focus(),p.blur();const e=u&&u.parentElement&&u.parentElement.closest(".k-grid-edit-row"),t=Gb.getClosestCellNavId(p),n=await Gb.waitForElementToBeVisible("[data-keyboardnavid='".concat(t,"']:not(.k-grid-edit-cell)"),e);n&&n.focus()}else if(e.keyCode===At){let e;if(b){const[t,n]=b;e=Lb(t,n,h,y,!1)}if(k){if(k&&e){const t=e&&e[0]&&Gb.getTableCellByKeyboardNavId(e[0]);t&&t.click()}}else null==(i=Gb.getParentCell(p))||i.click()}else if(e.keyCode===Rt){if(k)return}else if(e.keyCode===Lt){if(k)return}else if(e.keyCode===Ft){if(k)return}else if(e.keyCode===zt){if(k)return}else if(e.keyCode===jt&&k){if(e.shiftKey){const t=b&&c&&Gb.getPrevEditableCell(b,c,h,y);if(t&&t.prevCell&&t.prevCell.click(),t&&"gridcell"!==t.elementToFocus){p.blur();const e=Gb.getClosestCellNavId(p);setTimeout((()=>{e&&Gb.getTableCellByKeyboardNavId(e).focus()}))}e.preventDefault()}else{const t=b&&c&&Gb.getNextEditableCell(b,c,h,y);if(t&&t.nextCell&&"gridcell"===t.elementToFocus&&t.nextCell.click(),t&&"gridcell"!==t.elementToFocus){p.blur();const e=Gb.getClosestCellNavId(p);return void(e&&Gb.getTableCellByKeyboardNavId(e).focus())}e.preventDefault()}e.preventDefault()}if(p.closest(".k-filtercell")&&w&&t.navigatable)Jt(e,w,Wt);else if(void 0!==g&&v){if(e.keyCode===At){const n=Gb.getNavigatableElement(p,{level:g+1});if(n)return void Gb.focusElement({elementForFocus:n,event:e,contextStateRef:a,prevElement:p});p.querySelector(".k-filtercell")&&t.navigatable&&Zt(p),d=Gb.getFocusableElements(p)[0],Gb.focusElement({elementForFocus:d,event:e,contextStateRef:a,prevElement:p})}if(e.keyCode===Ot&&b)if(x)Rb({scope:v,navigationStateRef:s,contextStateRef:a},e);else{const t=((e,t)=>e[t][0])(s.current.navigationMatrix,b[0]);d=Gb.getActiveNavDataElement(v,t),Gb.focusElement({elementForFocus:d,event:e,contextStateRef:a})}if(e.keyCode===Mt&&b)if(x){const t=(e=>e.flat().reverse().find((e=>e.endsWith("cell"))))(s.current.navigationMatrix);d=Gb.getActiveNavDataElement(v,t),Gb.focusElement({elementForFocus:d,event:e,contextStateRef:a})}else{const t=((e,t)=>Array.from(e[t]).reverse()[0])(s.current.navigationMatrix,b[0]);d=Gb.getActiveNavDataElement(v,t),Gb.focusElement({elementForFocus:d,event:e,contextStateRef:a})}if(e.keyCode===Ft||e.keyCode===zt||e.keyCode===Rt||e.keyCode===Lt){const t=e.keyCode===Ft||e.keyCode===Rt,n=e.keyCode===Ft||e.keyCode===zt;if(b){const[o,r]=b,[i,l]=n?Lb(o,r,h,y,t):zb(o,r,h,y,t);i&&(d=Gb.getActiveNavDataElement(v,i),Gb.focusElement({elementForFocus:d,event:e,contextStateRef:a,prevElement:p}),s.current.prevNavigationIndexes=l)}}if(x&&e.keyCode===Rt&&f)return l&&l({focusElement:p,event:e,action:"reorderToLeft"}),void e.preventDefault();if(x&&e.keyCode===Lt&&f)return l&&l({focusElement:p,event:e,action:"reorderToRight"}),void e.preventDefault();if(e.keyCode===Tt)return l&&l({focusElement:d,event:e,action:"moveToNextPage"}),void e.preventDefault();if(e.keyCode===Pt)return l&&l({focusElement:d,event:e,action:"moveToPrevPage"}),void e.preventDefault();if(!f&&!m&&!k&&(e.keyCode===Nt||e.keyCode===At||e.shiftKey&&(e.keyCode===Ft||e.keyCode===zt||e.keyCode===Rt||e.keyCode===Lt)))return void(l&&l({focusElement:d,event:e,action:"select"}));l&&l({focusElement:d,event:e})}};var PC=(e=>(e.ENTER_EDIT="EDITING_ENTER_EDIT",e.ENTER_FIELD_EDIT="EDITING_ENTER_FIELD_EDIT",e.ADD_EDIT="EDITING_ADD_EDIT",e.ADD_FIELD_EDIT="EDITING_ADD_FIELD_EDIT",e.EXIT_EDIT="EDITING_EXIT_EDIT",e.EXIT_FIELD_EDIT="EDITING_EXIT_FIELD_EDIT",e.TOGGLE_EDIT="EDITING_TOGGLE_EDIT",e.TOGGLE_FIELD_EDIT="EDITING_TOGGLE_FIELD_EDIT",e))(PC||{});const MC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITING_ENTER_EDIT":return{[t.payload.id]:!0};case"EDITING_ENTER_FIELD_EDIT":return{[t.payload.id]:[t.payload.field]};case"EDITING_ADD_EDIT":return p(p({},e),{},{[t.payload.id]:!0});case"EDITING_ADD_FIELD_EDIT":return p(p({},e),{},{[t.payload.id]:Array.isArray(e[t.payload.id])?[...e[t.payload.id],t.payload.field]:[t.payload.field]});case"EDITING_EXIT_EDIT":{const n=ki(e);return delete n[t.payload.id],n}case"EDITING_EXIT_FIELD_EDIT":return p(p({},e),{},{[t.payload.id]:Array.isArray(e[t.payload.id])?e[t.payload.id].filter((e=>e!==t.payload.field)):[]});case"EDITING_TOGGLE_EDIT":return Object.keys(e).includes(t.payload.id)&&e[t.payload.id]?MC(e,{type:"EDITING_EXIT_EDIT",payload:t.payload}):MC(e,{type:"EDITING_ENTER_EDIT",payload:t.payload});case"EDITING_TOGGLE_FIELD_EDIT":return Object.keys(e).includes(t.payload.id)&&Array.isArray(e[t.payload.id])?MC(e,{type:"EDITING_EXIT_FIELD_EDIT",payload:t.payload}):MC(e,{type:"EDITING_ENTER_FIELD_EDIT",payload:t.payload});default:return e}};var OC=(e=>(e.DETAIL_EXPAND="DETAIL_EXPAND_DETAIL_EXPAND",e.COLLAPSE="DETAIL_EXPAND_COLLAPSE",e.TOGGLE="DETAIL_EXPAND_TOGGLE",e.SET="DETAIL_EXPAND_SET",e))(OC||{});const RC=(e,t)=>{switch(t.type){case"DETAIL_EXPAND_DETAIL_EXPAND":return p(p({},e),{},{[t.id]:!0});case"DETAIL_EXPAND_COLLAPSE":return p(p({},e),{},{[t.id]:!1});case"DETAIL_EXPAND_SET":return p(p({},e),{},{[t.id]:t.payload});case"DETAIL_EXPAND_TOGGLE":return p(p({},e),{},{[t.id]:!e[t.id]});default:return e}},FC=e=>{var t,n;return{enabled:"boolean"==typeof e?e:null==(t=null==e?void 0:e.enabled)||t,mode:"boolean"==typeof e?"incell":null!=(n=null==e?void 0:e.mode)?n:"incell"}};class LC{constructor(e){this.copyHandler=e=>{this.clipboardEvent(xC.copy,e)},this.cutHandler=e=>{this.clipboardEvent(xC.cut,e)},this.pasteHandler=e=>{this.clipboardEvent(xC.paste,e)},this.addEventListeners=e=>{e&&(e.addEventListener(xC.copy,this.copyHandler),e.addEventListener(xC.cut,this.cutHandler),e.addEventListener(xC.paste,this.pasteHandler))},this.removeEventListeners=e=>{e&&(e.removeEventListener(xC.copy,this.copyHandler),e.removeEventListener(xC.cut,this.cutHandler),e.removeEventListener(xC.paste,this.pasteHandler))},this.clipboardEvent=e}}const zC=o.createContext(void 0);zC.displayName="KendoReactTableKeyboardNavigationContext";class BC{constructor(e){this.columns=[],this.columnsState=[],this.resizable=!1,this.isRtl=!1,this.setIsRtl=e=>{this.isRtl=e},this.initWidths=()=>{var e;const t=(null==(e=this.colGroupMain)?void 0:e.children)||[],n=mw(this.columnsState),o=this.columns.filter((e=>{var t;return!(null!=(t=e.children)&&t.length)}));for(let r=0;r<t.length;r++){const e=t[r];let i="";const a=n.find((e=>e.id===o[r].id));a&&(i=a.width||""),e.width=i,this.colGroupHeader&&(this.colGroupHeader.children[r].width=i),this.colGroupFooter&&(this.colGroupFooter.children[r].width=i)}},this.dragHandler=(e,t,n,o)=>{const r=e.originalEvent;o||(r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation());const i=n.closest("th");if(!i||!i)return;const a=i.clientWidth;let s=a;if(this.isRtl?s+=n.getBoundingClientRect().right-n.offsetWidth/2-e.clientX:s+=e.clientX-n.getBoundingClientRect().left-n.offsetWidth/2,!o&&Math.abs(s-a)<1)return;this.fixateInitialWidths(i.parentElement.clientWidth),this.setWidths(t,Math.floor(s)/a);const l=this.columns.filter((e=>!e.children.length)).findIndex((e=>e.id===t.id));this.onResize(l,a,s,r,o,this.columnsState,t.id)},this.dblClickHandler=(e,t)=>{const n=this.columns.filter((e=>t.indexOf(e.id)>-1)),o=mw(this.columnsState);if(!this.colGroupMain||!n.length)return;const r={},i=n;for(;i.length>0;){const e=i.pop();if(!e)break;e.children.length?i.push(...e.children):r[e.id]=e}const a=this.columns.filter((e=>!e.children.length)),s=[];a.forEach(((e,t)=>{r[e.id]&&s.push(t)}));const l=[this.colGroupMain.parentElement],c=[this.colGroupMain];this.colGroupHeader&&(l.push(this.colGroupHeader.parentElement),c.push(this.colGroupHeader)),this.colGroupFooter&&(l.push(this.colGroupFooter.parentElement),c.push(this.colGroupFooter)),l.forEach((e=>e.classList.add("k-autofitting")));const d=[];c.forEach((e=>{s.forEach((t=>{e.children[t]&&(e.children[t].width="",d[t]=Math.max(d[t]||0,e.children[t].offsetWidth+1))}))})),c.forEach((e=>{s.forEach((t=>{if(e.children[t]){e.children[t].width=d[t]+"px";const n=o.find((e=>e.id===a[t].id));n&&(n.width=d[t])}}))})),l.forEach((e=>e.classList.remove("k-autofitting"))),this.onResize(s[0],0,0,e,!0,this.columnsState,t[0])},this.updateColElements=e=>{const t=this.columns.filter((e=>!e.hidden&&!e.children.length));let n=1e-10;for(let o=0;o<e.length;o++){const r=e[o],i=t.findIndex((e=>e.id===r.id)),a=parseFloat((r.width||0).toString()),s=Math.floor(a);n+=a-s;const l=s+Math.floor(n);n-=Math.floor(n);const c=t.find((e=>e.id===r.id));if(!c)return;if(this.colGroupMain&&this.colGroupMain.children[i]){const e=parseInt(this.colGroupMain.children[i].width,10);this.colGroupMain.children[i].width=l+"px",this.updateNextLockedCol(this.colGroupMain.parentElement,c,e-l)}if(this.colGroupHeader&&this.colGroupHeader.children[i]){const e=parseInt(this.colGroupHeader.children[i].width,10);this.colGroupHeader.children[i].width=l+"px",this.updateNextLockedCol(this.colGroupHeader.parentElement,c,e-l)}if(this.colGroupFooter&&this.colGroupFooter.children[i]){const e=parseInt(this.colGroupFooter.children[i].width,10);this.colGroupFooter.children[i].width=l+"px",this.updateNextLockedCol(this.colGroupFooter.parentElement,c,e-l)}}},this.onResize=e}fixateInitialWidths(e){var t;let n=0;const o=(null==(t=this.colGroupMain)?void 0:t.children)||[];for(let s=0;s<o.length;s++)o[s].width?e-=parseFloat(o[s].width):n++;if(0===n)return;const r=Math.floor(e/n),i=mw(this.columnsState),a=this.columns.filter((e=>!e.children.length));for(let s=0;s<o.length;s++){const e=o[s];if(!e.width){e.width=r;const t=i.find((e=>e.id===a[s].id));t&&(t.width=r.toString()),this.colGroupHeader&&(this.colGroupHeader.children[s].width=r),this.colGroupFooter&&(this.colGroupFooter.children[s].width=r)}}}setWidths(e,t){const n=mw(this.columnsState),o=this.columns.findIndex((t=>t.id===e.id)),r=[];let i=e.children.filter((e=>!e.hidden)).length;for(let s=o+1;s<this.columns.length&&!(i<=0);s++){const e=this.columns[s];e.children.length?i+=e.children.filter((e=>!e.hidden)).length:r.push(e),i--}0===r.length&&r.push(e);const a=[];r.forEach((e=>{const o=n.find((t=>t.id===e.id));if(o){let n=o.width?parseFloat(o.width.toString())*t:0;const r=void 0===e.minResizableWidth?10:e.minResizableWidth;n<r&&(n=r),o.width=n,a.push(o)}})),this.updateColElements(a)}updateNextLockedCol(e,t,n){const o=t.index,r=this.colGroupMain.parentElement.closest(".k-grid"),i=null==r?void 0:r.clientWidth,a=this.columns.filter((e=>e.locked)).map((e=>parseInt(e.width+"",10))).reduce(((e,t)=>e+t),0);!t.locked||i<=a+20||this.columns.forEach((t=>{if(null!=t&&t.locked&&n){const r=null==e?void 0:e.querySelectorAll('[aria-colindex="'+t.ariaColumnIndex+'"]');null==r||r.forEach((e=>{const r=e.style;this.isRtl?(t.index>o&&r&&r.right&&(r.right=parseInt(r.right,10)-n+"px"),t.index<o&&r&&r.left&&(r.left=parseInt(r.left,10)-n+"px")):(t.index>o&&r&&r.left&&(r.left=parseInt(r.left,10)-n+"px"),t.index<o&&r&&r.right&&(r.right=parseInt(r.right,10)-n+"px"))}))}}))}}class VC{constructor(e,t,n){this.refDragElementClue=o.createRef(),this.refDropElementClue=o.createRef(),this.columns=[],this.reorderable=!1,this.groupable=!1,this.startColumn=-1,this.startGroup=-1,this.currentColumn=-1,this.currentGroup=-1,this.groupPanelDivElement=null,this.refGroupPanelDiv=e=>{this.groupPanelDivElement=e&&e.children?e.children[0]:e},this.pressHandler=(e,t)=>{const n=this.getColumnIndex(e,t);if(this.startGroup=this.getGroupIndex(e),n>=0){const e=this.columns[n];(e.reorderable&&this.reorderable||e.groupable&&this.groupable)&&(this.startColumn=n)}},this.dragHandler=(e,t)=>{if(e.isTouch||e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),-1===this.startColumn&&-1===this.startGroup)return;this.currentColumn=this.getColumnIndex(e,t),this.currentGroup=this.isTargetGroupingContainer(e)?this.getCurrentGroupsLength:this.getGroupIndex(e);const n=!this.isValid();n&&(this.currentColumn=-1,this.currentGroup=-1);const o=this.currentColumn>=0?t.children[this.columns[this.currentColumn].index]:this.isTargetGroupingContainer(e)?e.originalEvent.target:this.groupPanelDivElement&&this.groupPanelDivElement.children[this.currentGroup];this.updateDragElementClue(e,t,o,n),this.updateDropElementClue(e,t,o,n)},this.releaseHandler=e=>{const t=this.startColumn,n=this.currentColumn,o=this.startGroup,r=this.currentGroup;e.originalEvent.preventDefault(),this.dropElementClue&&this.dropElementClue.setState({visible:!1}),this.dragElementClue&&this.dragElementClue.setState({visible:!1});const i=this.isValid();this.startColumn=this.startGroup=this.currentColumn=this.currentGroup=-1,i&&(t>=0&&n>=0?this.columnReorder(t,n,e.originalEvent):o>=0&&r>=0?this.groupReorder(o,r,e.originalEvent):t>=0&&r>=0&&this.columnToGroup(t,r,e.originalEvent))},this.columnReorder=e,this.groupReorder=t,this.columnToGroup=n}get dragClueRef(){return this.refDragElementClue}get dropClueRef(){return this.refDropElementClue}get getCurrentGroupsLength(){const e=this.groupPanelDivElement&&this.groupPanelDivElement.children;return e&&e.length||0}get dragElementClue(){return this.refDragElementClue.current}get dropElementClue(){return this.refDropElementClue.current}getColumnIndex(e,t){if(!t||t.parentElement===this.groupPanelDivElement)return-1;const n=Zb(e,t);if(-1===n)return-1;for(let o=0;o<t.parentNode.children.length;o++)if(t.parentNode.children[o]===t)return this.columns.findIndex((e=>e.index===n&&e.depth===o));return-1}isTargetGroupingContainer(e){const t=e.originalEvent.target;return!!t.className.indexOf&&-1!==t.className.indexOf("k-grouping-drop-container")}getGroupIndex(e){return Zb(e,this.groupPanelDivElement)}isValid(){return this.startGroup>=0?this.currentGroup>=0&&this.currentGroup!==this.startGroup:-1!==this.startColumn&&(this.currentGroup>=0?!0===this.columns[this.startColumn].groupable&&!0===this.groupable:!0===this.reorderable&&this.currentColumn>=0&&this.currentColumn!==this.startColumn&&!0===this.columns[this.startColumn].reorderable&&this.columns[this.currentColumn].parentIndex===this.columns[this.startColumn].parentIndex)}updateDragElementClue(e,t,n,o){if(!this.dragElementClue)return;const r=this.startColumn>=0?t.children[this.columns[this.startColumn].index].innerText:t.innerText;this.dragElementClue.setState({visible:!0,top:e.pageY+10,left:e.pageX,innerText:r,status:o||!n?"k-i-cancel":"k-i-plus"})}updateDropElementClue(e,t,n,o){if(!this.dropElementClue)return;if(o||!n)return void this.dropElementClue.setState({visible:!1});const r=n.getBoundingClientRect(),i=(n.closest(".k-grouping-header")||n).getBoundingClientRect();let a=r.left+e.pageX-e.clientX-6;!this.isTargetGroupingContainer(e)&&(this.currentColumn>this.startColumn||this.currentGroup>this.startGroup&&-1!==this.startGroup)&&"rtl"!==this.dir&&(a+=r.width);const s=i.top+e.pageY-e.clientY;this.dropElementClue.setState({visible:!0,top:s,left:a,height:this.currentColumn>=0?t.clientHeight:i.height})}}const HC=Nw,qC=Tw,UC=/^(?!.*\bChrome).*\bSafari/i;class GC{constructor(e){this.table=null,this.containerHeight=0,this.topCacheCount=0,this.attendedSkip=0,this.propsSkip=0,this.total=0,this.scrollableVirtual=!1,this.realSkip=0,this.pageSize=0,this.PageChange=null,this.tableBodyRef=null,this.fixedScroll=!1,this.askedSkip=void 0,this.containerRef=null,this.tableTransform="",this.scrollSyncing=!1,this.lastLoaded=0,this.firstLoaded=0,this.lastScrollTop=0,this.reactVersion=Number.parseFloat(o.version),this.firstLoaded=this.pageSize,this.lastLoaded=this.realSkip+this.pageSize,this.scrollHandler=this.scrollHandler.bind(this)}get container(){var e;return(null==(e=this.containerRef)?void 0:e.current)||void 0}translate(e,t){this.scrollableVirtual&&this.table&&(gw||this.reactVersion<=17||t?this.table.style.transform="translateY("+e+"px)":this.tableTransform="translateY("+e+"px)")}changePage(e,t){this.PageChange&&this.PageChange({skip:Math.max(0,e),take:this.pageSize},t)}reset(){this.scrollSyncing=!0,!this.fixedScroll&&(this.container&&(this.container.scrollTop=0),this.translate(0,!0))}scrollHandler(e){var t;if(!this.scrollableVirtual||!this.container||!this.table||!this.rowHeightService||null==(t=this.containerRef)||!t.current)return;if(this.scrollSyncing)return void(this.scrollSyncing=!1);const n=this.container.scrollTop,o=this.lastScrollTop>=n,r=!o;this.lastScrollTop=n;let i=this.rowHeightService.index(n),a=this.rowHeightService.offset(i);const{offsetHeight:s}=this.containerRef.current,l=this.rowHeightService.index(n+s);if(r&&l>=this.lastLoaded&&this.lastLoaded<this.total){const t=i+this.pageSize-this.total;t>0&&(i-=t,a=this.rowHeightService.offset(i)),this.firstLoaded=i,this.translate(a);const n=this.firstLoaded+this.pageSize;this.lastLoaded=Math.min(n,this.total),this.changePage(this.firstLoaded,e)}else if(o&&i<this.firstLoaded){const t=Math.floor(.3*this.pageSize);this.firstLoaded=Math.max(i-t,0),this.translate(this.rowHeightService.offset(this.firstLoaded)),this.lastLoaded=Math.min(this.firstLoaded+this.pageSize,this.total),this.changePage(this.firstLoaded,e)}}}class WC{constructor(e){this.table=null,this.containerHeight=0,this.topCacheCount=0,this.attendedSkip=0,this.propsSkip=0,this.total=0,this.scrollableVirtual=!1,this.realSkip=0,this.pageSize=0,this.PageChange=null,this.tableBodyRef=null,this.fixedScroll=!1,this.askedSkip=void 0,this.containerRef=null,this.tableTransform="",this.prevScrollPos=0,this.tableTranslate=0,this.scrollSyncing=!1,this.reactVersion=Number.parseFloat(o.version),this.topItems=(e,t)=>{if(!this.container||t)return{topItemsCount:0,topItemsHeight:0};const n=this.container.clientHeight,o=Math.ceil(n/e[0].line),r=Math.ceil((e.length-o)/2);let i=0;for(let a=0;a<r;a++)i+=e[a].line+e[a].acc;return{topItemsCount:r,topItemsHeight:i,itemsNeededOnScreen:o+o/2}},this.horizontalScrollbarHeight=()=>this.container?this.container.offsetHeight-this.container.clientHeight:0,e&&(this.topCacheCount=4,this.attendedSkip=-this.topCacheCount),this.scrollHandler=this.scrollHandler.bind(this)}get container(){var e;return null==(e=this.containerRef)?void 0:e.current}get rowHeights(){var e,t;const n=[],o=(null==(e=this.tableBodyRef)?void 0:e.current)&&(null==(t=this.tableBodyRef)?void 0:t.current.children)||[];let r=0;for(let i=0;i<o.length;i++)o[i].className.indexOf("k-grouping-row")>-1?r+=o[i].scrollHeight:o[i].className.indexOf("k-detail-row")>-1?n[n.length-1].line+=o[i].scrollHeight:(n.push({line:o[i].scrollHeight,acc:r}),r=0);return n}changePage(e,t){this.attendedSkip=e-this.topCacheCount,this.PageChange&&this.PageChange({skip:Math.max(0,e-this.topCacheCount),take:this.pageSize},t)}translate(e,t){this.tableTranslate=e,this.scrollableVirtual&&this.table&&(this.reactVersion<=17||t?this.table.style.transform="translateY("+e+"px)":this.tableTransform="translateY("+e+"px)")}reset(){this.scrollSyncing=!0,!this.fixedScroll&&(this.container&&(this.container.scrollTop=0),this.translate(0,!0))}localScrollUp(e){if(!this.container)return;const t=this.rowHeights,n=this.container.scrollTop;let o=this.tableTranslate,r=0;const{topItemsCount:i,topItemsHeight:a,itemsNeededOnScreen:s}=this.topItems(t,!!this.topCacheCount),l=n-o;if(!(l>a||t.length<=s)){for(;r<this.topCacheCount+this.attendedSkip-this.realSkip+i&&this.propsSkip-r>0&&!(o+(t[t.length-1-r].line+t[t.length-1-r].acc)+l<=n);)o-=t[t.length-1-r].line+t[t.length-1-r].acc,r++;if(0===r&&0===this.topCacheCount&&this.attendedSkip>0&&(o=Math.max(o-t[0].line,0),r=1),this.propsSkip-r<=0&&o>n)return this.translate(0),this.changePage(0,e),void(this.container.scrollTop=0);if(o>n&&(o=n),o!==this.tableTranslate){this.translate(Math.max(0,o-a));const t=Math.max(0,this.propsSkip-r-i);this.changePage(t,e)}}}localScrollDown(e){if(!this.container)return;const t=this.rowHeights,n=this.container.scrollTop;let o=this.tableTranslate,r=0;const{topItemsCount:i,topItemsHeight:a,itemsNeededOnScreen:s}=this.topItems(t,!!this.topCacheCount);for(;r<t.length-this.topCacheCount&&!(o+t[r].line+t[r].acc>n);)o+=t[r].line+t[r].acc,r++;i>this.propsSkip+r||t.length<=s||(r>=t.length-this.topCacheCount&&this.propsSkip+r>=this.total?(this.translate(o-a),this.changePage(this.total-1-i,e)):o!==this.tableTranslate&&this.propsSkip+r-i!==this.propsSkip&&(this.translate(o-a),this.changePage(this.propsSkip+r-i,e)))}scrollNonStrict(e){const t=this.total*this.prevScrollPos/this.containerHeight;let n=Math.floor(t);n>=this.total&&(n=this.total-1);const o=Math.min(t-n,1);let r=0;const i=n-this.propsSkip,a=this.rowHeights;i>=0&&i<=1?r=-(a[0].line+a[0].acc)*o:-1===i&&(r=-(a[a.length-1].line+a[a.length-1].acc)*o);const{topItemsCount:s,topItemsHeight:l}=this.topItems(a,!!this.topCacheCount);this.translate(Math.max(0,r-l-this.horizontalScrollbarHeight()+this.containerHeight*t/this.total)),this.changePage(n-s,e)}scrollHandler(e){if(!this.scrollableVirtual)return;if(this.scrollSyncing||!this.container||!this.table)return void(this.scrollSyncing=!1);const t=this.container.scrollTop,n=this.prevScrollPos;if(this.prevScrollPos=t,void 0!==this.askedSkip)return this.translate(this.containerHeight*this.askedSkip/this.total),this.changePage(this.askedSkip,e),this.prevScrollPos=t,void(this.askedSkip=void 0);t-n<0&&t>this.tableTranslate-this.table.scrollHeight/10?this.localScrollUp(e):t-n>0&&t<this.tableTranslate+2*this.table.scrollHeight/3?this.localScrollDown(e):this.scrollNonStrict(e),this.prevScrollPos=t}}const KC="",YC="0",XC="_";function QC(e,t){if(nS(e))return t[Number(e)];const n=t[Number(JC(e))];return n.items?QC(function(e){if(tS(e))return e;const t=e.indexOf(XC);return e.substring(t+1)}(e),n.items):void 0}function JC(e){return tS(e)?e:e.split(XC)[0]}function ZC(e){return $C("0",e)}function $C(e,t){return t?t+XC+e:e}function eS(e){const t=e.lastIndexOf(XC);return t<0?KC:e.substring(0,t)}function tS(e){return e===KC||e.indexOf(XC)<0}function nS(e){return e!==KC&&e.indexOf(XC)<0}function oS(e){return 1===function(e){return e.split(XC).length-1}(e)}function rS(e){return iS(e)===YC}function iS(e){const t=e.lastIndexOf(XC);return t<0?e:e.substring(t+1)}function aS(e,t,n){return nS(t)?e?Number(t)<n-1?(Number(t)+1).toString():"0":Number(t)>0?(Number(t)-1).toString():(n-1).toString():t}const sS=class extends o.Component{render(){return null}};sS.propTypes={text:Et.string,url:Et.string,icon:Et.string,disabled:Et.bool,cssClass:Et.string,cssStyle:Et.object,render:Et.any,linkRender:Et.any,contentRender:Et.any,data:Et.any,separator:Et.bool};let lS=sS;function cS(e,t){if(e&&e.length>0)return{items:hS(e),inputItems:e};if(uS(t).length>0){const e=pS(uS(t));return{items:hS(e),inputItems:e}}return{items:[],inputItems:[]}}function dS(e,t){const n={},{text:o,url:r,icon:i,svgIcon:a,disabled:s,cssClass:l,cssStyle:c,render:d,linkRender:u,contentRender:p,data:h,separator:f}=e||t.props;return void 0!==o&&(n.text=o),void 0!==r&&(n.url=r),void 0!==i&&(n.icon=i),void 0!==a&&(n.svgIcon=a),void 0!==s&&(n.disabled=s),void 0!==l&&(n.cssClass=l),void 0!==c&&(n.cssStyle=c),void 0!==d&&(n.render=d),void 0!==u&&(n.linkRender=u),void 0!==p&&(n.contentRender=p),void 0!==h&&(n.data=h),void 0!==f&&(n.separator=f),n}function uS(e){return o.Children.toArray(e).filter((e=>e&&e.type===lS))}function pS(e){const t=[];for(let n=0;n<e.length;n++){const o=e[n],r=dS(void 0,o),i=pS(uS(o.props.children));i.length>0&&(r.items=i),t.push(r)}return t}function hS(e,t){const n=[];for(let o=0;o<e.length;o++){const r=e[o],i=dS(r);i.id=$C(o.toString(),t),i.isLastFromSiblings=o===e.length-1,i.separator=!0===r.separator,i.items=fS(r,i),n.push(i)}return n}function fS(e,t){return e.contentRender?[{contentParentItemId:t.id,id:$C(YC,t.id),isLastFromSiblings:!0,separator:!1,contentRender:e.contentRender,items:[]}]:e.items?hS(e.items,t.id):[]}const mS=/\S/;function gS(e,t,n,o,r,i){const a=h();switch(n){case Rt:return r?i?d():l():i?c():s();case Lt:return r?i?l():d():i?s():c();case Ft:return r?m():nS(t)?p():m();case zt:return r?g():nS(t)?u():g();case At:case Nt:return a.disabled?t:f()?ZC(t):JC(t);case Ot:return v()[0].id;case Mt:return function(){const e=v();return e[e.length-1].id}();case Dt:return nS(t)?t:eS(t);default:return 1===o.length&&mS.test(o)?function(){const e=o.toLowerCase(),n=v(),r=Number(iS(t)),i=n.slice(r+1).concat(n.slice(0,r+1)).find((t=>(t.text||"").toLowerCase().startsWith(e)));return i?i.id:t}():t}function s(){return nS(t)?m():oS(t)?u(m(JC(t))):eS(t)}function l(){return nS(t)?p():eS(t)}function c(){return nS(t)?g():u(f()?t:g(JC(t)))}function d(){return u(nS(t)||f()?t:g(JC(t)))}function u(e){return y(!0,e)}function p(e){return y(!1,e)}function h(n,o){return void 0===n&&(n=t),void 0===o&&(o=e),QC(n,o)}function f(e){return h(e).items.length>0}function m(e){return x(!1,e)}function g(e){return x(!0,e)}function v(){return nS(t)?e:h(eS(t),e).items}function y(e,n){void 0===n&&(n=t);const o=h(n);return f(n)&&!o.disabled?e?ZC(n):function(e){const t=h(e).items;return t[t.length-1].id}(n):n}function x(n,o){if(void 0===o&&(o=t),nS(o))return aS(n,o,e.length);const r=eS(o);return $C(aS(n,iS(o),h(r).items.length),r)}}const vS={vertical:"flip",horizontal:"fit"},yS={vertical:"fit",horizontal:"flip"},xS={downward:{anchorAlign:{vertical:"bottom",horizontal:"right"},popupAlign:{vertical:"top",horizontal:"right"},collision:vS,animationDirection:"down"},leftward:{anchorAlign:{vertical:"top",horizontal:"left"},popupAlign:{vertical:"top",horizontal:"right"},collision:yS,animationDirection:"left"}},bS={downward:{anchorAlign:{vertical:"bottom",horizontal:"left"},popupAlign:{vertical:"top",horizontal:"left"},collision:vS,animationDirection:"down"},rightward:{anchorAlign:{vertical:"top",horizontal:"right"},popupAlign:{vertical:"top",horizontal:"left"},collision:yS,animationDirection:"right"}};function wS(e,t,n){return nS(e)?t?n?"leftward":"rightward":"downward":n?"leftward":"rightward"}function kS(e){return e?"rtl":"ltr"}function CS(e,t){return"".concat(e,"_").concat(t)}const SS=class extends o.Component{render(){return this.props.url?o.createElement("a",{className:this.getMenuItemClassName(),role:"presentation",href:this.props.url,tabIndex:-1},this.props.children):o.createElement("span",{id:this.props.id,className:on(this.getMenuItemClassName(),this.props.className),style:this.props.style,role:"presentation"},this.props.children)}getMenuItemClassName(){return on("k-link","k-menu-link",{"k-active":this.props.opened})}};SS.propTypes={opened:Et.bool,url:Et.string};let IS=SS;const ES=class extends o.Component{render(){return o.createElement(vo,p({"aria-hidden":!0},this.getIcon()))}getIcon(){switch(wS(this.props.itemId,!0===this.props.verticalMenu,"rtl"===this.props.dir)){case"downward":return{name:"caret-alt-down",icon:nd};case"rightward":return{name:"caret-alt-right",icon:td};case"leftward":return{name:"caret-alt-left",icon:od};default:return{}}}};ES.propTypes={itemId:Et.string,dir:Et.string,verticalMenu:Et.bool};let _S=ES;class jS extends o.Component{constructor(){super(...arguments),this.onMouseOver=e=>{this.props.onMouseOver(this.props.parentItemId),e.stopPropagation()},this.onMouseLeave=e=>{this.props.onMouseLeave(this.props.parentItemId),e.stopPropagation()}}render(){const e=this.props.parentItemId;return o.createElement("ul",{className:this.props.className,role:this.props.role?this.props.role:void 0!==e?"menu":"menubar",id:void 0!==e?CS(this.props.menuGuid,e):void 0,onMouseOver:void 0!==e?this.onMouseOver:void 0,onMouseLeave:void 0!==e?this.onMouseLeave:void 0,"aria-orientation":this.props["aria-orientation"]},this.renderChildItems())}renderChildItems(){return this.props.items.length>0?this.props.items.map(((e,t)=>o.createElement(AS,{item:e,animate:this.props.animate,isMenuVertical:this.props.isMenuVertical,isDirectionRightToLeft:this.props.isDirectionRightToLeft,focusedItemId:this.props.focusedItemId,lastItemIdToBeOpened:this.props.lastItemIdToBeOpened,tabbableItemId:this.props.tabbableItemId,itemRender:this.props.itemRender,linkRender:this.props.linkRender,menuGuid:this.props.menuGuid,onMouseOver:this.props.onMouseOver,onMouseLeave:this.props.onMouseLeave,onMouseDown:this.props.onMouseDown,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onClick:this.props.onClick,onOriginalItemNeeded:this.props.onOriginalItemNeeded,key:t}))):null}}class AS extends o.Component{constructor(e){super(e),this.isFirstRender=!0,this.onMouseOver=e=>{this.props.onMouseOver(this.props.item.id),e.stopPropagation()},this.onMouseLeave=e=>{this.props.onMouseLeave(this.props.item.id),e.stopPropagation()},this.state={opened:!1}}componentDidMount(){const e=this.props.focusedItemId,t=this.props.item.id;e&&e===t&&this.itemElement.focus({preventScroll:!0}),this.isFirstRender=!1}componentDidUpdate(e){const t=this.props.focusedItemId,n=this.props.item.id;if(t){const o=Zc(document);e.focusedItemId!==t&&t===n&&!this.itemElement.contains(o)&&this.itemElement.focus({preventScroll:!0})}}render(){const e=this.props.item,t=e.id,n=CS(this.props.menuGuid,t),r=e.separator;return o.createElement(o.Fragment,null,r?o.createElement("li",{className:"k-separator k-item","aria-hidden":!0,key:n,id:n,ref:e=>{this.itemElement=e}}):o.createElement("li",{id:n,className:this.getMenuItemClassName(e),style:e.cssStyle,tabIndex:t===this.props.tabbableItemId?0:-1,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onMouseDown:e=>this.props.onMouseDown(e),onBlur:e=>this.props.onBlur(t,e),onFocus:()=>this.props.onFocus(t),onClick:e=>this.props.onClick(e,t),role:"menuitem","aria-disabled":!!e.disabled||void 0,"aria-haspopup":e.items.length>0||void 0,"aria-expanded":e.items.length>0?this.Opened:void 0,"aria-label":e.text,"aria-owns":this.Opened?n:void 0,ref:e=>{this.itemElement=e},key:n},this.contentRender?this.renderContent():this.renderMenuItemLink()),this.renderPopupIfOpened())}renderContent(){const e=this.props.item.contentParentItemId;return o.createElement("div",{className:"k-content",role:"presentation"},o.createElement(this.contentRender,{item:this.props.onOriginalItemNeeded(e),itemId:e}))}renderMenuItemLink(){const e=this.props.item;if(this.linkRender)return o.createElement(this.linkRender,{item:this.props.onOriginalItemNeeded(e.id),itemId:e.id,opened:this.Opened,dir:kS(this.props.isDirectionRightToLeft)});const t=this.itemRender?o.createElement(this.itemRender,{item:this.props.onOriginalItemNeeded(e.id),itemId:e.id,key:"1"}):o.createElement("span",{className:"k-menu-link-text"},e.text);return o.createElement(IS,{url:e.url,opened:this.Opened},this.renderMenuIconIfApplicable(),t,this.renderArrowIfApplicable())}renderPopupIfOpened(){const e=this.props.item.id,t=this.props.animate,{anchorAlign:n,popupAlign:r,collision:i,animationDirection:a}=function(e,t,n){const o=wS(e,t,n);return n?"downward"===o?xS.downward:xS.leftward:"downward"===o?bS.downward:bS.rightward}(e,this.props.isMenuVertical,this.props.isDirectionRightToLeft),s=!0===t?{openDuration:300,closeDuration:300,direction:a}:!1!==t&&{openDuration:(null==t?void 0:t.openDuration)||300,closeDuration:(null==t?void 0:t.closeDuration)||300,direction:(null==t?void 0:t.direction)||a};return o.createElement(jr,{anchor:this.itemElement,show:this.Opened,popupClass:this.getPopupClassName(),anchorAlign:n,popupAlign:r,collision:i,animate:s,key:"1"},o.createElement(jS,{parentItemId:e,animate:this.props.animate,items:this.props.item.items,menuGuid:this.props.menuGuid,focusedItemId:this.props.focusedItemId,lastItemIdToBeOpened:this.props.lastItemIdToBeOpened,tabbableItemId:this.props.tabbableItemId,itemRender:this.props.itemRender,linkRender:this.props.linkRender,isMenuVertical:this.props.isMenuVertical,isDirectionRightToLeft:this.props.isDirectionRightToLeft,className:"k-group k-menu-group k-reset k-menu-group-md",onMouseOver:this.props.onMouseOver,onMouseLeave:this.props.onMouseLeave,onMouseDown:this.props.onMouseDown,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onClick:this.props.onClick,onOriginalItemNeeded:this.props.onOriginalItemNeeded}))}renderMenuIconIfApplicable(){const{icon:e,svgIcon:t}=this.props.item;return e||t?o.createElement(vo,{name:e,icon:t,key:"0"}):null}renderArrowIfApplicable(){return this.props.item.items.length>0?o.createElement("span",{className:"k-menu-expand-arrow","aria-hidden":!0},o.createElement(_S,{itemId:this.props.item.id,verticalMenu:this.props.isMenuVertical,dir:kS(this.props.isDirectionRightToLeft),key:"2"})):null}get itemRender(){return this.props.item.render||this.props.itemRender}get linkRender(){return this.props.item.linkRender||this.props.linkRender}get contentRender(){return this.props.item.contentParentItemId?this.props.item.contentRender:null}get Opened(){const e=this.props;return e.item.items.length>0&&function(e,t){return 0===t.indexOf(e)&&(t.length===e.length||t.charAt(e.length)===XC)}(e.item.id,e.lastItemIdToBeOpened)&&!this.isFirstRender}getPopupClassName(){return on("k-menu-popup",{"k-rtl":this.props.isDirectionRightToLeft})}getMenuItemClassName(e){return on("k-item","k-menu-item",{"k-first":rS(e.id),"k-last":e.isLastFromSiblings,"k-disabled":e.disabled},e.cssClass)}}class DS{constructor(){this.phase="Initialized"}getIsDirectionRightToLeft(){return this.isDirectionRightToLeft}setIsDirectionRightToLeft(e){this.phase="NotInitialized"===this.phase?"Initialized":"NewValueReceived",this.previousIsDirectionRightToLeft=this.isDirectionRightToLeft,this.isDirectionRightToLeft=e}hasDirectionChanged(){return"NewValueReceived"===this.phase&&this.previousIsDirectionRightToLeft!==this.isDirectionRightToLeft}}class NS{constructor(e,t,n){this.openOnClick=e,this.resetMenu=t,this.openItem=n,this.mouseDown=!1,this.openOnClick=e,this.isMouseOverEnabled=!e}set OpenOnClick(e){!!e!=!!this.openOnClick&&(this.mouseDown=!1,this.isMouseOverEnabled=!e),this.openOnClick=e}handleItemSelectedViaKeyboard(){this.openOnClick&&(this.isMouseOverEnabled=!1,this.resetMenu())}get IsMouseOverEnabled(){return this.isMouseOverEnabled}handleItemMouseDown(){this.mouseDown=!0}handleItemFocus(){this.openOnClick&&!this.mouseDown&&(this.isMouseOverEnabled=!0),this.mouseDown=!1}handleItemClick(e,t){this.openOnClick&&(this.isMouseOverEnabled?t&&(this.isMouseOverEnabled=!1,this.resetMenu()):(this.isMouseOverEnabled=!0,this.openItem(e)))}}const TS={focusedItemId:KC,hoveredItemId:KC,tabbableItemId:YC},PS=class e extends o.Component{constructor(e){super(e),this.menuWrapperEl=null,this.directionHolder=new DS,this.inputItems=[],this.items=[],this.reset=()=>{this.clearItemHoverAndLeaveRequestsIfApplicable(),this.setState(TS)},this.onKeyDown=e=>{if(this.state.focusedItemId!==KC){const t=QC(this.state.focusedItemId,this.items);let n=gS(this.items,t.id,e.keyCode,e.key,this.props.vertical,this.directionHolder.getIsDirectionRightToLeft());const o=QC(n,this.items);o&&o.separator&&(n=gS(this.items,n,e.keyCode,e.key,this.props.vertical,this.directionHolder.getIsDirectionRightToLeft())),t.id!==n&&(e.preventDefault(),this.setFocusedItemId(n)),(e.keyCode===At||e.keyCode===Nt)&&!t.disabled&&(this.mouseOverHandler.handleItemSelectedViaKeyboard(),this.dispatchSelectEventIfWired(e,t.id),!e.isDefaultPrevented()&&0===t.items.length&&t.url&&window.location.assign(t.url))}e.keyCode===Dt&&this.props.onClose&&this.props.onClose.call(void 0,e)},this.onItemMouseOver=e=>{this.mouseOverHandler.IsMouseOverEnabled&&(this.clearItemHoverAndLeaveRequestsIfApplicable(),this.itemHoverRequest=window.setTimeout((()=>{this.setHoveredItemId(e),this.itemHoverRequest=null}),function(e){return void 0!==e.hoverOpenDelay?e.hoverOpenDelay:e.openOnClick?0:100}(this.props)))},this.onItemMouseLeave=e=>{this.mouseOverHandler.IsMouseOverEnabled&&this.isItemWithDefaultClose(e)&&(this.clearItemHoverAndLeaveRequestsIfApplicable(),this.itemLeaveRequest=window.setTimeout((()=>{this.setHoveredItemId(KC),this.itemLeaveRequest=null}),function(e){return void 0!==e.hoverCloseDelay?e.hoverCloseDelay:100}(this.props)))},this.onItemMouseDown=()=>{this.mouseOverHandler.handleItemMouseDown()},this.onItemFocus=e=>{this.setFocusedItemId(e),this.mouseOverHandler.handleItemFocus()},this.onItemClick=(e,t)=>{const n=QC(t,this.items);n.disabled||(this.setFocusedItemId(t),this.mouseOverHandler.handleItemClick(t,this.isItemWithDefaultClose(t)),this.dispatchSelectEventIfWired(e,t),!e.isDefaultPrevented()&&n.url&&window.location.assign(n.url))},this.onItemBlur=(e,t)=>{if(this.isItemWithDefaultClose(e)&&this.setFocusedItemId(KC),t.relatedTarget&&"LI"===t.relatedTarget.nodeName){const e=t.relatedTarget.getAttribute("id");if(e&&e.includes(this.menuItemId))return}this.props.onClose&&this.props.onClose.call(void 0,t)},this.getInputItem=e=>QC(e,this.inputItems),this.mouseOverHandler=new NS(this.props.openOnClick,this.reset,this.onItemMouseOver),this.state=Object.assign({},TS,{isFirstRender:!0})}get menuItemId(){return this.props.id}get element(){return this.menuWrapperEl}get animate(){return void 0!==this.props.animate?this.props.animate:e.defaultProps.animate}render(){this.prepareItems(),this.state.isFirstRender||this.directionHolder.setIsDirectionRightToLeft(this.checkIsDirectionRightToLeft());const e=this.state.hoveredItemId?this.state.hoveredItemId:this.state.focusedItemId?eS(this.state.focusedItemId):KC;return o.createElement("div",{id:this.props.id,onKeyDown:this.onKeyDown,style:this.props.style,className:this.directionHolder.getIsDirectionRightToLeft()?"k-rtl":void 0,ref:e=>{this.menuWrapperEl=e}},o.createElement(jS,{className:this.getMenuClassName(),"aria-orientation":this.props.vertical?"vertical":void 0,items:this.items,animate:this.animate,isMenuVertical:this.props.vertical,isDirectionRightToLeft:this.directionHolder.getIsDirectionRightToLeft(),focusedItemId:this.state.focusedItemId,lastItemIdToBeOpened:e,tabbableItemId:this.state.tabbableItemId,itemRender:this.props.itemRender,linkRender:this.props.linkRender,menuGuid:this.menuItemId,onMouseLeave:this.onItemMouseLeave,onMouseOver:this.onItemMouseOver,onMouseDown:this.onItemMouseDown,onFocus:this.onItemFocus,onClick:this.onItemClick,onBlur:this.onItemBlur,onOriginalItemNeeded:this.getInputItem,role:this.props.role}))}componentDidMount(){this.setState({isFirstRender:!1})}componentDidUpdate(e){(!!e.vertical!=!!this.props.vertical||this.directionHolder.hasDirectionChanged())&&this.reset(),this.mouseOverHandler.OpenOnClick=this.props.openOnClick}componentWillUnmount(){this.clearItemHoverAndLeaveRequestsIfApplicable()}setFocusedItemId(e){this.setState((t=>{const n=e===KC?t.tabbableItemId:JC(e);return{hoveredItemId:e===KC||tS(t.hoveredItemId)&&tS(e)?t.hoveredItemId:KC,focusedItemId:e,tabbableItemId:n}}))}setHoveredItemId(e){this.setState((t=>tS(e)&&tS(t.focusedItemId)?{hoveredItemId:e,focusedItemId:t.focusedItemId,tabbableItemId:t.tabbableItemId}:{hoveredItemId:e,focusedItemId:KC,tabbableItemId:YC}))}getMenuClassName(){return on("k-reset","k-header","k-menu",{"k-menu-horizontal":!this.props.vertical},{"k-menu-vertical":this.props.vertical},this.props.className)}clearItemHoverAndLeaveRequestsIfApplicable(){this.itemHoverRequest&&(clearTimeout(this.itemHoverRequest),this.itemHoverRequest=null),this.itemLeaveRequest&&(clearTimeout(this.itemLeaveRequest),this.itemLeaveRequest=null)}isItemWithDefaultClose(e){return!this.props.customCloseItemIds||-1===this.props.customCloseItemIds.indexOf(e)}checkIsDirectionRightToLeft(){return!!(void 0!==this.props.dir?"rtl"===this.props.dir:this.menuWrapperEl&&"rtl"===getComputedStyle(this.menuWrapperEl).direction)}prepareItems(){const{items:e,inputItems:t}=cS(this.props.items,this.props.children);this.items=e,this.inputItems=t}dispatchSelectEventIfWired(e,t){Qc(this.props.onSelect,e,this,{item:this.getInputItem(t),itemId:t})}};PS.propTypes={vertical:Et.bool,items:Et.arrayOf(Et.object),style:Et.object,animate:Et.oneOfType([Et.bool,Et.shape({openDuration:Et.number,closeDuration:Et.number})]),dir:Et.string,hoverOpenDelay:Et.number,hoverCloseDelay:Et.number,openOnClick:Et.bool,itemRender:Et.any,linkRender:Et.any,customCloseItemIds:Et.arrayOf(Et.string),onSelect:Et.func,role:Et.string},PS.defaultProps={vertical:!1,animate:!0};let MS=PS;const OS=e=>{const t=o.useRef(null),[n,r]=o.useState(e.show),i=nn(e.id),{animate:a=RS.animate}=e;return o.useEffect((()=>{r(e.show),e.show&&setTimeout((()=>{const e=t.current&&t.current.element,n=e&&e.querySelector(".k-menu-item"),o=Zc(null==e?void 0:e.ownerDocument);n&&n!==o&&n.focus()}))}),[e.show]),o.createElement(jr,{show:n,offset:e.offset,popupClass:"k-menu-popup k-overflow-visible",animate:a},o.createElement(MS,p(p({id:i,vertical:!0},e),{},{ref:t,className:on("k-context-menu",e.className),onClose:e.onClose,role:"menu"}),e.children))},RS={animate:{openDuration:300,closeDuration:300}};OS.displayName="KendoReactContextMenu";const FS={[nw.create]:{name:"create",text:"Add",icon:"plus",svgIcon:pd,data:{action:"AddCommand"}},[nw.edit]:{name:"edit",text:"Edit",icon:"pencil",svgIcon:{name:"pencil",content:'<path d="m334.9 86.6 45.3-45.3c12.4-12.4 32.8-12.4 45.3 0l45.3 45.3c12.4 12.4 12.4 32.8 0 45.3l-45.3 45.3zm-22.6 22.6L32 389.5V480h90.5l280.3-280.3zM99.9 412.1l-22.6-22.6 235-235 22.6 22.6z" />',viewBox:"0 0 512 512"},data:{action:"EditCommand"}},[nw.delete]:{name:"delete",text:"Delete",icon:"trash",svgIcon:{name:"trash",content:'<path d="M416 96h-96V64c0-17.6-14.4-32-32-32h-96c-17.6 0-32 14.4-32 32v32H64v64h32v288c0 17.6 14.4 32 32 32h224c17.6 0 32-14.4 32-32V160h32zM192 64h95.9l.1.1V96h-96c.1-.1.1-32.1 0-32m160 384H128.1l-.1-.1V160h32v256h32V160h32v256h32V160h32v256h32V160h32z" />',viewBox:"0 0 512 512"},data:{action:"DeleteCommand"}},[nw.select]:{name:"select",text:"Select",icon:"table-body",svgIcon:{name:"table-body",content:'<path d="M32 32v416h416V32zm256 32v96h-96V64zm128 256v64L224 192h64zM64 64h96v96H64zm0 128h96v96H64zm0 224v-96h96v96zm128 0v-64l64 64zm128 0L192 288v-64l192 192zm96-160-64-64h64zm0-96h-96V64h96z" />',viewBox:"0 0 512 512"},items:[{name:"selectRow",text:"Row",icon:"table-row-groups",svgIcon:{name:"table-row-groups",content:'<path d="M32 32v416h416V32zm256 32v96h-96V64zm-64 128h64l96 96h-64zm32 96h-64l-96-96h64zM64 64h96v96H64zm0 160 64 64H64zm0 192v-96h96v96zm128 0v-96h96v96zm224 0h-96v-96h96zm0-160-64-64h64zm0-96h-96V64h96z" />',viewBox:"0 0 512 512"},data:{action:"SelectRowCommand"}},{name:"selectAllRows",text:"All rows",icon:"grid",svgIcon:{name:"grid",content:'<path d="M32 32h128v128H32zm160 448h128V352H192zm-160 0h128V352H32zm0-160h128V192H32zm160 0h128V192H192zM352 32v128h128V32zm0 288h128V192H352zM192 160h128V32H192zm160 320h128V352H352z" />',viewBox:"0 0 512 512"},data:{action:"SelectAllRowsCommand"}},{name:"clearSelection",text:"Clear selection",icon:"table-unmerge",svgIcon:{name:"table-unmerge",content:'<path d="M32 32v416h416V32zm160 32h96v96h-96zm96 128v96h-96v-96zM64 64h96v96H64zm0 128h96v96H64zm96 224H64v-96h96zm128 0h-96v-96h96zm128 0h-96v-96h96zm0-128h-96v-96h96zm0-128h-96V64h96z" />',viewBox:"0 0 512 512"},data:{action:"ClearSelectionCommand"}}]},[nw.copySelection]:{name:"copySelection",text:"Copy selection",icon:"page-header-section",svgIcon:{name:"page-header-section",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zm-32-160H128v-96h256zm0 96H128v32h256zm0-64H128v32h256z" />',viewBox:"0 0 512 512"},data:{action:"CopySelectionCommand"},options:"withHeaders"},[nw.copySelectionNoHeaders]:{name:"copySelectionNoHeaders",text:"Copy selection (No Headers)",icon:"file-txt",svgIcon:{name:"file-txt",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zm-32-96v32H128v-32zM256 160v32H128v-32m256 64v32H128v-32zm-256 96v-32h224v32z" />',viewBox:"0 0 512 512"},data:{action:"CopySelectionCommand"}},[nw.paste]:{name:"paste",text:"Paste (use CTRL/\u2318 + V)",icon:"clipboard",svgIcon:{name:"clipboard",content:'<path d="M416 32H311.4C300.3 12.9 279.7 0 256 0s-44.3 12.9-55.4 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32m-160 0c17.7 0 32 14.3 32 32h-64c0-17.7 14.3-32 32-32m160 416H96V64h64v64h192V64h64z" />',viewBox:"0 0 512 512"},data:{action:"PasteCommand"}},[nw.reorderRow]:{name:"reorderRow",text:"Reorder row",icon:"caret-alt-expand",svgIcon:{name:"caret-alt-expand",content:'<path d="M128 288h256L256 480zM256 32 128 224h256.001z" />',viewBox:"0 0 512 512"},items:[{name:"reorderRowUp",text:"Up",icon:"caret-alt-up",svgIcon:ed,data:{action:"ReorderRowCommand"}},{name:"reorderRowDown",text:"Down",icon:"caret-alt-down",svgIcon:nd,data:{action:"ReorderRowCommand"}},{name:"reorderRowTop",text:"Top",icon:"caret-alt-to-top",svgIcon:{name:"caret-alt-to-top",content:'<path d="m128 352 128-192 128 192zm256-224H128v32h256z" />',viewBox:"0 0 512 512"},data:{action:"ReorderRowCommand"}},{name:"reorderRowBottom",text:"Bottom",icon:"caret-alt-to-bottom",svgIcon:{name:"caret-alt-to-bottom",content:'<path d="M384 128 256 320 128 128zM128 352h256v-32H128z" />',viewBox:"0 0 512 512"},data:{action:"ReorderRowCommand"}}]},[nw.exportPDF]:{name:"exportPDF",text:"Export to PDF",icon:"file-pdf",svgIcon:{name:"file-pdf",content:'<path d="M240.9 160c-7.6 0-13.8 4-15.4 9.9-4.9 18.6.2 46.3 9.4 82.3l-2.4 5.9c-6.6 16.4-14.8 33-22.1 47.6l-1 1.9c-7.7 15.3-14.6 28.4-21 39.4l-6.5 3.5c-.5.3-11.6 6.3-14.3 7.9-22.2 13.6-36.9 28.9-39.4 41.2-.8 3.9-.2 8.9 3.7 11.2l6.3 3.2c2.7 1.4 5.6 2.1 8.6 2.1 15.8 0 34.2-20.2 59.5-65.3 29.2-9.7 62.5-17.8 91.6-22.3 22.2 12.8 49.5 21.7 66.8 21.7q4.65 0 7.8-.9c3.3-.9 6.1-2.8 7.8-5.4 3.4-5.2 4-12.2 3.1-19.5-.3-2.1-2-4.8-3.8-6.6-5.1-5.2-16.5-7.9-33.7-8.1-11.7-.1-25.8.9-40.6 3-6.6-3.9-13.5-8.2-18.8-13.3-14.4-13.8-26.5-32.9-34-53.9.5-2 .9-3.7 1.3-5.4 0 0 8.1-47.1 6-63.1-.3-2.2-.5-2.8-1.1-4.5l-.7-1.9c-2.2-5.2-6.5-10.7-13.3-10.4zm2.7 8.4c5.1 0 8 13.1 8.2 25.4.3 12.3-2.6 20.9-6 27.3-2.9-9.4-4.3-24.3-4.3-34-.1-.1-.3-18.7 2.1-18.7m.4 104.1c8.6 16 19.3 29.5 31.9 40.4 1.6 1.3 3.2 2.7 5 4.1-25.6 5.2-47.7 11.5-67.1 19.1 3.6-6.5 7.2-13.3 11-20.6 9.1-17.7 14.9-31.6 19.2-43m102.2 51.6c9.3 0 12 0 21.1 2.3 9.1 2.4 9.2 7.2 7.6 8.2s-6 1.6-8.9 1.6c-9.2 0-20.7-4.3-36.8-11.4 6.3-.4 11.9-.7 17-.7m-165.4 35.8c-17.7 28.8-29.5 40.3-37.3 43.8 2.9-8.1 14.3-24 31.2-38.1 1.1-.9 3.7-3.4 6.1-5.7M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},data:{action:"ExportPDFCommand"}},[nw.exportExcel]:{name:"exportExcel",text:"Export to Excel",icon:"file-excel",svgIcon:{name:"file-excel",content:'<path d="m288 304 64 112h-48l-48-84.5-31.5 52.5H256v32h-96l64-112-64-112h48l48 84 48-84h48zm64-272H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},items:[{name:"exportToExcelAll",text:"All",data:{action:"ExportExcelCommand"}},{name:"exportToExcelSelection",text:"Selection",data:{action:"ExportExcelCommand"},options:"selection,withHeaders"},{name:"exportToExcelSelectionNoHeaders",text:"Selection (No Headers)",data:{action:"ExportExcelCommand"},options:"selection"}]},[nw.separator]:{name:"separator",separator:!0},[nw.sortAsc]:{name:"sortAsc",text:"Sort Ascending",icon:"sort-asc-small",svgIcon:fd,data:{action:"SortCommand"}},[nw.sortDesc]:{name:"sortDesc",text:"Sort Descending",icon:"sort-desc-small",svgIcon:md,data:{action:"SortCommand"}}},LS=e=>{const{show:t,offset:n,dataItem:r,field:i,items:a,onClose:s,onSelect:l}=e,c=Fc(),d=o.useCallback((e=>{l.call(void 0,{event:e,dataItem:r,field:i})}),[l,r,i]),u=o.useCallback((e=>{const t=e;return t.text&&t.name&&(t.text=c.toLanguageString("contextMenu.".concat(t.name),t.text||"")),t.items&&Array.isArray(t.items)&&(t.items=t.items.map((e=>u(e)))),t}),[c]),p=o.useMemo((()=>a&&a.map((e=>u("string"==typeof e?FS[e]:e)))),[a,u]);return o.createElement(OS,{show:t,offset:n,items:p,onClose:s,onSelect:d})},zS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign({allowUnsort:!0,mode:"single"},...t)},BS={true:{asc:"desc",desc:"","":"asc"},false:{asc:"desc",desc:"asc","":"asc"}},VS=o.createContext(void 0),HS=e=>{var t,n;const r=e.gridProps.isClient,[i,a]=o.useState({}),s=()=>{a({})},l=o.useMemo((()=>e.columnsRef.find((e=>e.field===i.field))),[e.columnsRef,i]),c=o.useMemo((()=>(e=>{let t=[];return e.sortable&&(t=t.concat([nw.sortAsc,nw.sortDesc])),t})({sortable:!!(e.gridProps.sortable&&(null==l?void 0:l.sortable)),selectable:Bw(e.gridProps.selectable).enabled,clipboard:!!e.gridProps.clipboard})),[l,e.gridProps.sortable,e.gridProps.selectable,e.gridProps.clipboard]),d=o.useMemo((()=>(e=>{let t=[];return e.clipboard&&(t=t.concat([nw.copySelection,nw.copySelectionNoHeaders,nw.paste])),e.editable&&(t.length&&(t=t.concat([nw.separator])),t=t.concat([nw.create,nw.edit,nw.delete])),e.selectable&&(t.length&&(t=t.concat([nw.separator])),t=t.concat([nw.select])),e.rowReorderable&&(t.length&&(t=t.concat([nw.separator])),t=t.concat([nw.reorderRow])),t})({sortable:!!(e.gridProps.sortable&&(null==l?void 0:l.sortable)),selectable:Bw(e.gridProps.selectable).enabled,clipboard:!!e.gridProps.clipboard,rowReorderable:xw(e.gridProps.rowReorderable)})),[l,e.gridProps.sortable,e.gridProps.selectable,e.gridProps.clipboard]),u=o.useMemo((()=>{const t=(null==l?void 0:l.contextMenu)||e.gridProps.contextMenu,n="function"==typeof t?t(i):t;if(n&&i.offset){const e=n[i.dataItem?tw.body:tw.head],t=i.dataItem?d:c;return!1===e?void 0:!0===e||void 0===e?t:e}}),[e.gridProps.contextMenu,i,d,c,l]),h=()=>{const t=e.columnsRef.filter((e=>e.declarationIndex>=0&&-1===e.parentIndex));return uw(t)},f=t=>{if("moveToNextPage"===t.action&&C(t.event),"moveToPrevPage"===t.action&&S(t.event),t.focusElement&&"reorderToRight"===t.action){const n=parseInt(t.focusElement.ariaColIndex,10)-1;n<e.columnsRef.length-1&&j(n,n+1,t.event)}if(t.focusElement&&"reorderToLeft"===t.action){const e=parseInt(t.focusElement.ariaColIndex,10)-1;e>0&&j(e,e-1,t.event)}if("select"===t.action&&g(t.event),e.gridProps.onNavigationAction&&r){const n=p({focusElement:t.focusElement},L(t.event));z(e.gridProps.onNavigationAction,n)}},m=(t,n,o)=>{const{allowUnsort:r,mode:i}=zS(e.gridProps.sortable||!1,n.sortable||!1),a=(e.gridProps.sort||[]).filter((e=>e.field===n.field))[0],s=o||BS[r][a&&a.dir||""],l="single"===i?[]:(e.gridProps.sort||[]).filter((e=>e.field!==n.field));""!==s&&n.field&&l.push({field:n.field,dir:s}),I(l,t)},g=t=>{var n,o;if(e.gridProps.selectedField||!je.enabled||!e.gridProps.dataItemKey)return;const r=p({dataItems:B(),mode:je.mode,cell:je.cell,componentId:e.id,selectedField:e.gridProps.selectedField},L(t)),i=(e=>{const{event:t,dataItemKey:n,selectedState:o}=e,{syntheticEvent:r,nativeEvent:i,dataItems:a,componentId:s,mode:l,cell:c,selectedField:d}=t,{target:u,ctrlKey:p,metaKey:h,altKey:f,shiftKey:m}=i;if(r.isDefaultPrevented()&&!m||i.keyCode!==Nt&&i.keyCode!==At&&i.keyCode!==Lt&&i.keyCode!==Rt&&i.keyCode!==Ft&&i.keyCode!==zt)return o;r.preventDefault();const g=Ow(u,"TD"),v=Ow(u,"TR");let y=Fw(g),x=Rw(v),b={};return g&&v&&void 0!==x&&void 0!==y&&(i.keyCode===Lt&&y++,i.keyCode===Rt&&y--,i.keyCode===zt&&x++,i.keyCode===Ft&&x--,b=Lw({selectedState:o,dataItemKey:n,event:{ctrlKey:p,metaKey:h,altKey:f,shiftKey:m,dataItems:a,cell:c,mode:l,selectedField:d,componentId:s,startColIndex:y,endColIndex:y,startRowIndex:x,endRowIndex:x,isDrag:!1,syntheticEvent:r,nativeEvent:i,target:t.target,dataItem:null}})),b})({event:r,selectedState:null!=(n=e.gridProps.select)?n:{},dataItemKey:e.gridProps.dataItemKey});if(i===e.gridProps.select)return;const a=t.target,s=Ow(a,"TD"),l=Ow(a,"TR"),c=Fw(s),d=Rw(l);if(void 0!==c&&void 0!==d){const n=null==(o=lw(e.gridProps.data))?void 0:o[d];e.gridProps.onSelectionChange&&z(e.gridProps.onSelectionChange,p(p({},r),{},{select:i,dataItem:n,startRowIndex:d,startColIndex:c,startDataItem:n,endDataItem:n,endRowIndex:d,endColIndex:c,ctrlKey:t.ctrlKey,altKey:t.altKey,metaKey:t.metaKey,shiftKey:t.shiftKey,isDrag:!1}))}},v=(t,n)=>{e.gridProps.onSelectionChange&&je.enabled&&z(e.gridProps.onSelectionChange,p(p({},t),{},{select:n}))},y=t=>{if(e.gridProps.onSelectionChange&&je.enabled){const n=t.dataItems[0],o=t.dataItems[t.dataItems.length-1],r={},i=p(p({},t),{},{startDataItem:n,endDataItem:o,startRowIndex:0,endRowIndex:t.dataItems.length-1,startColIndex:0,endColIndex:e.columnsRef.length-1});t.dataItems.forEach((n=>{const o=ji(e.gridProps.dataItemKey)(n);r[o]=!t.cell||[...Array(e.columnsRef.length).keys()]})),v(i,r)}},x=t=>{if(e.gridProps.onSelectionChange&&je.enabled){const n=ji(e.gridProps.dataItemKey)(t.dataItem),o=0,r=e.columnsRef.length-1,i=t.dataItems.findIndex((n=>n[e.gridProps.dataItemKey]===t.dataItem[e.gridProps.dataItemKey])),a=p(p({},t),{},{startDataItem:i,endDataItem:i,startRowIndex:i,endRowIndex:i,startColIndex:o,endColIndex:r}),s="multiple"===t.mode&&e.gridProps.select||{};!0===s[n]||Array.isArray(s[n])&&s[n].length===e.columnsRef.length?delete s[n]:s[n]=!t.cell||[...Array(e.columnsRef.length).keys()],v(a,s)}},b=t=>{e.gridProps.onSelectionChange&&je.enabled&&v(t,{})},w=(t,n,o,r,i)=>{const a=e.gridProps.onDataStateChange;if(t){const e=p(p(p({},L(r)),n),{},{targetEvent:i});z(t,e)}else a&&z(a,p(p({},L(r)),{},{targetEvent:i||{},dataState:p(p({},F()),o)}))},k=(t,n,o)=>{w(e.gridProps.onPageChange,{page:t},{skip:t.skip,take:t.take},n,o)},C=t=>{var n,o;const r=null!=(o=null!=(n=e.gridProps.take)?n:e.gridProps.pageSize)?o:0,i=(e.gridProps.skip||0)+r,a=(()=>{let t=e.gridProps.total||0;return Array.isArray(e.gridProps.data)?t=t||e.gridProps.data.length:e.gridProps.data&&(t=t||e.gridProps.data.total),t})();i<a&&k({skip:i,take:r},t)},S=t=>{var n,o;const r=null!=(o=null!=(n=e.gridProps.take)?n:e.gridProps.pageSize)?o:0,i=(e.gridProps.skip||0)-r;i>=0&&k({skip:i,take:r},t)},I=(t,n)=>{w(e.gridProps.onSortChange,{sort:t},p({sort:t},"virtual"===e.gridProps.scrollable?{skip:0}:{}),n)},E=(t,n)=>{const o=n.nativeEvent?n:{nativeEvent:n.nativeEvent||n.originalEvent};0===t.length&&e.gridProps.navigatable&&(pe.current=!0),w(e.gridProps.onGroupChange,{group:t},{group:t,skip:0},o)},_=t=>{if(e.gridProps.onColumnsStateChange){const n={target:X.current,columnsState:t};z(e.gridProps.onColumnsStateChange,n)}},j=(t,n,o)=>{const{columnsRef:r,columnsState:i}=e,a=r[t],s=mw(i),l=a.depth,c=e=>{do{e++}while(e<r.length&&r[e].depth>l);return e},d=r.splice(t,c(t)-t);r.splice(t<n?c(n-d.length):n,0,...d),r.filter((e=>e.declarationIndex>=0)).forEach(((e,t)=>{e.orderIndex=t;const n=s.find((t=>t.id===e.id));n&&(n.orderIndex=t)}));const u=r[t].locked&&r[n].locked;Xb(e.columnsMapRef,r,u||ge.current),Qb(e.columnsMapRef,r,u||ge.current),ue.current&&(ge.current=!1,ue.current=!1);const p=h();if(Y(),e.gridProps.onColumnReorder){const t={target:X.current,columns:p,columnId:a.id,nativeEvent:o};z(e.gridProps.onColumnReorder,t)}_(i)},A=(t,n,o)=>{const r="object"==typeof e.gridProps.rowReorderable?e.gridProps.rowReorderable.enabled:e.gridProps.rowReorderable;if("forbidden"===o||!r||!ke.current)return;const{slicedData:i,dataRef:a}=e,s=(i||a)[n];e.gridProps.onRowReorder&&z(e.gridProps.onRowReorder,{draggedDataItems:[ke.current],droppedDataItem:null==s?void 0:s.dataItem,dropPosition:o,nativeEvent:t.originalEvent,dragEvent:t,target:X.current}),ke.current=null},D=(t,n,o)=>{if(void 0===e.gridProps.group)return;const r=e.gridProps.group.slice();r.splice(n,0,...r.splice(t,1)),E(r,o)},N=(t,n,o)=>{const r=e.columnsRef[t].field;if(!r)return;const i=(e.gridProps.group||[]).slice();i.splice(n,0,{field:r}),E(i,o)},T=()=>{let e=0;if(!J.current.colGroupMain)return;const t=J.current.colGroupMain.children;for(let n=0;n<t.length;n++){const o=t[n].width;if(!o){e=0;break}e+=parseFloat(o.toString())}e=Math.round(e),de.current&&de.current.setWidth(e),ce.current&&ce.current.setWidth(e),ae.current&&(ae.current.style.width=e?e+"px":"")},P=()=>{var t;e.gridProps.widthRef&&(e.gridProps.widthRef.current=(null==(t=le.current)?void 0:t.offsetWidth)||0)},M=o.useCallback(((t,n,o,i,a)=>{var s;if(!O()&&!o||!t)return;const l=p(p({type:t,nativeEvent:n,columns:e.columnsRef,dataItemKey:e.gridProps.dataItemKey||"",dataItem:i,field:a},"boolean"!=typeof e.gridProps.clipboard?e.gridProps.clipboard:{}),o),c=(e=>{const{event:t}=e,n=wC(e)||[],o=kC(t,n)||"";return{copiedItems:n,pastedItems:"paste"===t.type&&bC(e,o)||[],clipboardData:o}})({event:l,data:V(),selectedState:null!=(s=e.gridProps.select)?s:{},previousCopiedItems:we.current});t!==xC.paste&&(we.current=c.copiedItems),e.gridProps.onClipboard&&r&&z(e.gridProps.onClipboard,p(p({},l),c))}),[e.gridProps.select,e.gridProps.dataItemKey,e.gridProps.data,e.gridProps.clipboard,e.gridProps.onClipboard]),O=()=>{var e,t,n;if(!Ro)return!1;const o=Zc(H()),r=o?o.matches(".k-table-td")?o:null==(e=H())?void 0:e.body:null==(t=H())?void 0:t.body,i=r.closest(".k-grid-container"),a=r&&(null==(n=le.current)?void 0:n.contains(r));return!!(r&&a&&i)},R=(t,n,o,i,a,s,l)=>{T(),ge.current=!0,ue.current=!0,e.gridProps.onColumnResize&&r&&z(e.gridProps.onColumnResize,{columns:h(),nativeEvent:i,targetColumnId:l,index:t,newWidth:n,oldWidth:o,end:a,target:X.current}),a&&_(s)},F=()=>{var t;return{filter:e.gridProps.filter,sort:e.gridProps.sort,skip:e.gridProps.skip,take:null!=(t=e.gridProps.take)?t:e.gridProps.pageSize,group:e.gridProps.group}},L=e=>({nativeEvent:e&&e.nativeEvent,syntheticEvent:e,target:X.current}),z=(t,n)=>{e.gridProps.isClient?t(n):t((e=>p(p({},e),{},{nativeEvent:void 0,syntheticEvent:void 0,target:void 0,targetEvent:void 0,focusElement:void 0}))(n))},B=()=>e.dataRef.filter((e=>"data"===e.rowType)).map((e=>e.dataItem)),V=()=>(e.slicedData||e.dataRef).filter((e=>"data"===e.rowType)).map((e=>e.dataItem)),H=()=>{var e;if(Ro)return(null==(e=q())?void 0:e.ownerDocument)||document},q=()=>le.current,U=o.useCallback((t=>{var n;if(!Q.current||null==(n=Q.current)||!n.container||"none"===e.gridProps.scrollable)return;ne.current&&ne.current.disconnect();const{rowIndex:o}=t,r=q();if("virtual"===e.gridProps.scrollable)Q.current.askedSkip=o,Q.current.container.scroll(0,Math.round(Q.current.askedSkip/Q.current.total*Q.current.container.scrollHeight));else if(r){const e=o<1?r.querySelector("tbody > tr:nth-child(1)"):r.querySelector("tbody > tr:nth-child(".concat(o+1,")"));e&&ie.current&&(ie.current.scrollTop=e.offsetTop)}}),[e.gridProps.scrollable]),G=e=>JSON.stringify(e.map((e=>({id:e.id,field:e.field,title:e.title,children:e.children})))),W=()=>{G(Ee)===G(e.columnsRef)||Y()},K=o.useCallback((e=>{const t={rowIndex:xe.current};e.forEach((e=>{e.isIntersecting||U(t)}))}),[U]),Y=()=>{e.gridProps.forceUpdate&&e.gridProps.forceUpdate()},X=o.useRef(null),Q=o.useRef(void 0),J=o.useRef(void 0),Z=o.useRef(void 0),$=o.useRef(void 0),ee=o.useRef(void 0),te=o.useRef(void 0),ne=o.useRef(null),oe=o.useRef(null),re=o.useRef(null),ie=o.useRef(null),ae=o.useRef(null),se=o.useRef(null),le=o.useRef(null),ce=o.useRef(null),de=o.useRef(null),ue=o.useRef(!1),pe=o.useRef(!1),he=o.useRef(void 0),fe=o.useRef(void 0),me=o.useRef(!1),ge=o.useRef(!0),ve=o.useRef(0),ye=o.useRef(void 0),xe=o.useRef(void 0),be=o.useRef([]),we=o.useRef([]),ke=o.useRef(null),Ce=o.useRef(null),Se=o.useRef(null),Ie=wo(le),Ee=o.useMemo((()=>o.Children.toArray(e.gridProps.children)),[e.gridProps.children]),_e=!0===e.gridProps.groupable||"object"==typeof e.gridProps.groupable&&!1!==e.gridProps.groupable.enabled,je=Bw(null!=(t=e.gridProps.selectable)?t:!!e.gridProps.selectedField),Ae=FC(null!=(n=e.gridProps.editable)?n:!!e.gridProps.editField);return o.useMemo((()=>{_C({navigatable:!!e.gridProps.navigatable,contextStateRef:$,navigationStateRef:ee,idPrefix:e.id})}),[]),o.useMemo((()=>{var t;null==(t=Q.current)||t.reset();const n=e.isFixedVirtualScroll?GC:WC;Q.current=new n(_e||void 0===e.gridProps.rowHeight||0===e.gridProps.rowHeight)}),[e.gridProps.scrollable,e.gridProps.total,e.gridProps.filter,e.gridProps.group,_e,e.gridProps.sort,e.gridProps.rowHeight]),o.useEffect((()=>(e.gridProps.clipboard&&(te.current=new LC(M),te.current.addEventListeners(H())),()=>{te.current&&te.current.removeEventListeners(H())})),[e.gridProps.onClipboard,e.gridProps.clipboard,M,H]),o.useEffect((()=>(e.gridProps.columnVirtualization&&!window.navigator.userAgent.match(UC)&&(se.current&&(se.current.style.display="block"),ae.current&&(ae.current.style.display="block")),P(),T(),_g(),jC({scope:le.current||void 0,contextStateRef:$,navigationStateRef:ee}),()=>{clearTimeout(ye.current)})),[]),o.useEffect((()=>{var t;P(),T(),_g(),null!=(t=Q.current)&&t.tableTransform&&Q.current.table&&(Q.current.table.style.transform=Q.current.tableTransform,Q.current.tableTransform=""),(()=>{var e,t,n;if(oe.current&&(null==(e=oe.current)?void 0:e.getElementsByClassName("k-grid-edit-row").length)>0){me.current=!1,null!=(t=document.activeElement)&&t.closest(".k-grid-edit-row")?fe.current=document.activeElement:fe.current=void 0;const e=Array.from(null==(n=oe.current)?void 0:n.getElementsByClassName("k-grid-edit-row"));e.length>be.current.length?he.current=e.filter((e=>!be.current.includes(e)))[0]:1===e.length&&(he.current=e[0],me.current=!0),be.current=e}})(),DC({scope:le.current||void 0,contextStateRef:$,navigationStateRef:ee,focusFirst:pe.current,newEditableRow:he.current,singleEditRow:me.current,lastActiveElement:fe.current,navigatable:e.gridProps.navigatable}),pe.current=!1,he.current=void 0})),o.useEffect((()=>{if(Ro){const e={rootMargin:"0px",threshold:.9};ne.current=window.IntersectionObserver&&new window.IntersectionObserver(K,e)||null}}),[K]),o.useEffect((()=>{var e;let t;return Ro&&window.ResizeObserver&&(t=new window.ResizeObserver(W),t.observe(null==(e=H())?void 0:e.body)),()=>{null==t||t.disconnect()}}),[]),o.useImperativeHandle(X,(()=>({get element(){return q()},props:e.gridProps,get columns(){return h()},scrollIntoView:t=>{var n;if(null==(n=Q.current)||!n.container||"none"===e.gridProps.scrollable)return;const{rowIndex:o}=t;xe.current=o;const r=q();if(ne.current&&r){ne.current.disconnect();const e=r.querySelector('[absolute-row-index="'.concat(xe.current,'"]'));e?ne.current.observe(e):U(t)}},fitColumns:e=>{J.current.dblClickHandler(null,e)}}))),o.useImperativeHandle(e.gridRef,(()=>X.current)),o.useMemo((()=>{J.current=new BC(R)}),[e.gridProps.onColumnResize,e.columnsRef]),o.useMemo((()=>{Z.current=new VC(j,D,N)}),[e.gridProps.onColumnReorder,e.gridProps.onGroupChange,e.gridProps.group,e.columnsRef,e.gridProps.groupable]),J.current.resizable=e.gridProps.resizable||!1,J.current.columns=e.columnsRef,J.current.columnsState=Ii(e.columnsState),Z.current.reorderable=e.gridProps.reorderable||!1,Z.current.groupable=_e,Z.current.columns=e.columnsRef,Z.current.dir=Ie,(t=>{var n,o;if(Q.current){if(Q.current.fixedScroll=e.gridProps.fixedScroll||!1,Q.current.PageChange=k,Q.current.realSkip=e.gridProps.skip||0,Q.current.pageSize=null!=(o=null!=(n=e.gridProps.take)?n:e.gridProps.pageSize)?o:0,Q.current.scrollableVirtual="virtual"===e.gridProps.scrollable,Q.current.total=t,Q.current.propsSkip=(e.gridProps.skip||0)+("virtual"===e.gridProps.scrollable?Q.current.topCacheCount+(Q.current.attendedSkip-(e.gridProps.skip||0)):0),void 0!==e.gridProps.rowHeight&&e.gridProps.rowHeight>0&&!_e){const n=e.gridProps.rowHeight*t;Q.current.containerHeight=gw?Math.min(vw,n):n}else Q.current.containerHeight=1533915;if(Q.current.containerRef=ie,Q.current.tableBodyRef=oe,Q.current.table=ae.current,Q.current instanceof GC){const{rowHeight:n=0,detail:o,expandField:r}=e.gridProps;let{detailRowHeight:i=0}=e.gridProps;i=o&&r?i:n,e.isAllData?(Q.current.total=e.dataRef.length,Q.current.rowHeightService=new _p(e.dataRef.length,n,i,e.dataRef)):Q.current.rowHeightService=new _p(t,n,i);const a=Q.current.rowHeightService.totalHeight();Q.current.containerHeight=gw?Math.min(vw,a):a}}})(e.total),o.createElement(VS.Provider,{value:{isClient:r,rowReorder:A,activeDragRowDataItemRef:ke,reorderRowDragTargetRef:Ce,reorderRowDropTargetRef:Se,dir:Ie,getCellPositionStyle:e=>void 0!==e.left?"rtl"!==Ie?{left:e.left,right:e.right}:{left:e.right,right:e.left}:{},dataItemKey:e.gridProps.dataItemKey,columnsState:e.columnsState,onColumnsStateChange:_,groupChange:E,selectionRelease:t=>{var n;if(e.gridProps.onSelectionChange&&je.enabled){const o=V()[t.startRowIndex],r=V()[t.endRowIndex],i=p({syntheticEvent:void 0,target:X.current,selectedField:e.gridProps.selectedField||"",componentId:e.id,dataItems:B(),dataItem:null,startDataItem:o,endDataItem:r},t),a=Lw({event:i,selectedState:null!=(n=e.gridProps.select)?n:{},dataItemKey:e.gridProps.dataItemKey});v(i,a)}},pagerPageChange:e=>{k({skip:e.skip,take:e.take},e.syntheticEvent,e.targetEvent)},onContextMenu:(t,n,o)=>{if(e.gridProps.onContextMenu&&r){const r={target:X.current,syntheticEvent:t,nativeEvent:t.nativeEvent,dataItem:n,field:o};z(e.gridProps.onContextMenu,r)}e.gridProps.contextMenu&&(e=>{e.event.preventDefault(),a(p(p({},i),{},{show:!0,offset:{left:e.event.pageX,top:e.event.pageY},dataItem:e.dataItem,field:e.field}))})({event:t,dataItem:n,field:o})},rowClick:(t,n)=>{e.gridProps.onRowClick&&"TD"===t.target.nodeName&&z(e.gridProps.onRowClick,p({dataItem:n},L(t)))},rowDblClick:(t,n)=>{e.gridProps.onRowDoubleClick&&"TD"===t.target.nodeName&&z(e.gridProps.onRowDoubleClick,p({dataItem:n},L(t)))},cellClick:(t,n,o)=>{if(Ae.enabled&&"incell"===Ae.mode&&e.gridProps.dataItemKey){const r=MC(e.gridProps.edit,{type:PC.ENTER_FIELD_EDIT,payload:{id:n[e.gridProps.dataItemKey],field:o}});e.gridProps.onEditChange&&z(e.gridProps.onEditChange,p({edit:r},L(t)))}},headerCellClick:m,itemChange:t=>{var n;if(t.field===e.gridProps.expandField||t._expand||e.gridProps.group&&void 0===t.field){if(e.gridProps.onExpandChange){const o=e.gridProps.dataItemKey?RC(null!=(n=e.gridProps.detailExpand)?n:{},{type:OC.SET,id:t.dataItem[e.gridProps.dataItemKey],payload:t.value}):e.gridProps.detailExpand;z(e.gridProps.onExpandChange,p(p({},L(t.syntheticEvent)),{},{expand:o,dataItem:t.dataItem,dataIndex:t.dataIndex,value:t.value}))}}else e.gridProps.onItemChange&&z(e.gridProps.onItemChange,p(p({},L(t.syntheticEvent)),{},{dataItem:t.dataItem,dataIndex:t.dataIndex,field:t.field,value:t.value}))},sortChange:I,filterChange:(t,n)=>{w(e.gridProps.onFilterChange,{filter:t},{filter:t||void 0,skip:0},n)},searchChange:t=>{const n=e.gridProps.searchFields||e.columnsRef.map((e=>e.field))||[],o=t.nativeEvent.target.value,r={logic:"or",filters:n.filter((e=>void 0!==e)).map((e=>{var t;return"string"==typeof e?{field:e,value:o,operator:"contains"}:{value:o,operator:null!=(t=e.operator)?t:"contains",field:e.field,ignoreCase:e.ignoreCase}}))};w(e.gridProps.onSearchChange,{search:r},{},t.syntheticEvent)},onHeaderSelectionChange:t=>{var n;if(e.gridProps.onHeaderSelectionChange&&je.enabled){const o=B();z(e.gridProps.onHeaderSelectionChange,{select:t.syntheticEvent.target.checked?o.reduce(((t,n)=>(e.gridProps.dataItemKey&&void 0!==ji(e.gridProps.dataItemKey)(n)&&(t[ji(e.gridProps.dataItemKey)(n)]=!0),t)),{}):{},field:t.field,nativeEvent:t.syntheticEvent&&t.syntheticEvent.nativeEvent,syntheticEvent:t.syntheticEvent,target:X.current,dataItems:o,selectedField:null!=(n=e.gridProps.selectedField)?n:""})}},columnGroupChange:(e,t)=>{const n=Z.current.getCurrentGroupsLength;N(e,n,t)},onKeyDown:t=>{TC(t,{navigatable:e.gridProps.navigatable||!1,contextStateRef:$,navigationStateRef:ee,onNavigationAction:f,columns:h()}),AC({document:H(),contextStateRef:$,navigationStateRef:ee});const n=p({dataItems:B(),mode:je.mode,cell:je.cell,componentId:e.id,selectedField:e.gridProps.selectedField},L(t));e.gridProps.onKeyDown&&r&&z(e.gridProps.onKeyDown,n)},onFocus:t=>{NC(t,{navigatable:!!e.gridProps.navigatable,contextStateRef:$})},scrollHandler:t=>{if(t.target!==t.currentTarget)return;clearTimeout(ye.current),Q.current&&(Q.current.table=ae.current);const n=t.currentTarget.scrollLeft,o=t.currentTarget.scrollTop,i="virtual"===e.gridProps.scrollable;e.gridProps.columnVirtualization&&(!i||o===ve.current)&&(ye.current=window.setTimeout((()=>{Y()}),0)),e.gridProps.scrollLeftRef&&(e.gridProps.scrollLeftRef.current=n),de.current&&de.current.setScrollLeft(n),ce.current&&ce.current.setScrollLeft(n),Q.current&&o!==ve.current&&Q.current.scrollHandler(t),e.gridProps.onScroll&&r&&z(e.gridProps.onScroll,p({},L(t))),ve.current=o},selectionChange:t=>{var n;if(e.gridProps.onSelectionChange&&je.enabled){const{event:o,dataItem:r,dataIndex:i,columnIndex:a}=t,s=p(p({},L(o.syntheticEvent)),{},{dataItem:r,startColIndex:a,endColIndex:a,startRowIndex:i,endRowIndex:i,dataItems:B(),altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,mode:je.mode,cell:je.cell,isDrag:!1,componentId:e.id,selectedField:e.gridProps.selectedField||""});z(e.gridProps.onSelectionChange,p(p({},s),{},{select:e.gridProps.dataItemKey?Lw({event:s,selectedState:null!=(n=e.gridProps.select)?n:{},dataItemKey:e.gridProps.dataItemKey}):{}}))}},dispatchDetailExpand:(t,n)=>{var o;if(Dw(e.detailExpandable).enabled){const r=RC(null!=(o=e.gridProps.detailExpand)?o:{},t);e.gridProps.onDetailExpandChange&&z(e.gridProps.onDetailExpandChange,p(p({},L(n)),{},{detailExpand:r}))}},dispatchGroupExpand:(t,n)=>{var o;const r=hb("object"==typeof e.gridProps.groupable?!1!==e.gridProps.groupable.expandable:e.gridProps.groupable);if(r.enabled){const i=((e,t,n)=>{var o,r,i;const a=fb(null!=e?e:[]),s=yb(a,t.group);switch(t.type){case"GROUP-EXPAND_TOGGLE":return vb(s?null==a?void 0:a.map((e=>{var t,o;return e===s?p(p({},e),{},{expanded:!(null==(o=null!=(t=e.expanded)?t:null==n?void 0:n.defaultExpand)||o)}):e})):[...a,p(p({},t.group),{},{expanded:!(null==(o=null==n?void 0:n.defaultExpand)||o)})]);case"GROUP-EXPAND_EXPAND":{let e;return e=s?null==a?void 0:a.map((e=>e===s?p(p({},e),{},{expanded:!0}):e)):null==(r=null==n?void 0:n.defaultExpand)||r?a:[...a,p(p({},t.group),{},{expanded:!0})],vb(e)}case"GROUP-EXPAND_COLLAPSE":{let e;return e=s?null==a?void 0:a.map((e=>e===s?p(p({},e),{},{expanded:!1}):e)):null==(i=null==n?void 0:n.defaultExpand)||i?[...a,p(p({},t.group),{},{expanded:!1})]:a,vb(e)}default:return e}})(null!=(o=e.gridProps.groupExpand)?o:[],t,r);e.gridProps.onGroupExpandChange&&z(e.gridProps.onGroupExpandChange,p(p({},L(n)),{},{groupExpand:i}))}},columnResizeRef:J,dragLogicRef:Z,navigationStateRef:ee,tableElementRef:ae,tableBodyElementRef:oe,headerElementRef:re,containerElementRef:ie,headTableElementRef:se,elementRef:le,footerRef:ce,headerRef:de,vsRef:Q}},o.createElement(zC.Provider,{value:$.current},e.children),o.createElement(LS,{show:i.show&&(null==u?void 0:u.length),dataItem:i.dataItem,field:i.field,items:u,offset:i.offset,onClose:s,onSelect:t=>{var n,o,r,i,a,c,d,u,h;const f=t.event.item,g=p({target:X.current,syntheticEvent:t.event.syntheticEvent,nativeEvent:t.event.nativeEvent,menuItem:f},t);e.gridProps.onContextMenuItemClick&&z(e.gridProps.onContextMenuItemClick,g);const v=V(),w=p(p({selectedField:e.gridProps.selectedField||"",componentId:e.id,dataItems:v,dataItem:t.dataItem,startRowIndex:-1,endRowIndex:-1,startColIndex:-1,endColIndex:-1,ctrlKey:!1,altKey:!1,metaKey:!1,shiftKey:!1,isDrag:!1},Bw(e.gridProps.selectable)),g),k=v.findIndex((e=>e===t.dataItem));switch(null==(n=f.data)?void 0:n.action){case"SortCommand":if(l){const e=null==(o=f.name)?void 0:o.toLowerCase().includes("asc"),n=(null==(r=f.name)?void 0:r.toLowerCase().includes("desc"))?"desc":void 0,i=e?"asc":n,a=f.name?i:void 0;m(t.event.syntheticEvent,l,a)}break;case"SelectRowCommand":x(w);break;case"SelectAllRowsCommand":y(w);break;case"ClearSelectionCommand":b(w);break;case"ReorderRowCommand":ke.current=t.dataItem,null!=(i=f.name)&&i.toLowerCase().includes("rowup")&&k>0&&A(t.event.syntheticEvent,k-1,"before"),null!=(a=f.name)&&a.toLowerCase().includes("rowdown")&&k<v.length-1&&A(t.event.syntheticEvent,k+1,"after"),null!=(c=f.name)&&c.toLowerCase().includes("rowtop")&&A(t.event.syntheticEvent,0,"before"),null!=(d=f.name)&&d.toLowerCase().includes("rowbottom")&&A(t.event.syntheticEvent,v.length-1,"after");break;case"CopySelectionCommand":M(xC.copy,t.event.nativeEvent,{copyHeaders:!(null!=(u=f.name)&&u.toLowerCase().includes("noheaders"))},t.dataItem,t.field);break;case"PasteCommand":M(xC.paste,t.event.nativeEvent,{copyHeaders:!(null!=(h=f.name)&&h.toLowerCase().includes("noheaders"))},t.dataItem,t.field)}s()}}))},qS="grid.noRecords",US="grid.pagerInfo",GS="grid.pagerFirstPage",WS="grid.pagerPreviousPage",KS="grid.pagerNextPage",YS="grid.pagerLastPage",XS="grid.pagerItemsPerPage",QS="grid.pagerPage",JS="grid.pagerPageSizeAriaLabel",ZS="grid.pagerOf",$S="grid.pagerTotalPages",eI="grid.groupPanelEmpty",tI="grid.groupColumn",nI="grid.ungroupColumn",oI="grid.columnMenu",rI="grid.filterApplyButton",iI="grid.filterClearButton",aI="grid.filterResetButton",sI="grid.filterSubmitButton",lI="grid.filterTitle",cI="grid.sortAscending",dI="grid.sortDescending",uI="grid.searchPlaceholder",pI="grid.searchboxPlaceholder",hI="grid.filterCheckAll",fI="grid.filterChooseOperator",mI="grid.filterSelectAll",gI="grid.filterSelectedItems",vI="grid.sortAriaLabel",yI="grid.filterAriaLabel",xI="grid.groupPanelAriaLabel",bI="grid.groupExpand",wI="grid.groupCollapse",kI="grid.detailExpand",CI="grid.detailCollapse",SI="grid.selectRow",II="grid.gridAriaLabel",EI="grid.gridRowReorderAriaLabel",_I={[kI]:"Expand detail row",[CI]:"Collapse detail row",[bI]:"Expand group",[wI]:"Collapse Group",[qS]:"No records available",[eI]:"Drag a column header and drop it here to group by that column",[rI]:"Apply",[iI]:"Clear",[aI]:"Reset",[sI]:"Filter",[lI]:"Filter",[cI]:"Sort Ascending",[dI]:"Sort Descending",[vI]:"Sortable",[tI]:"Group Column",[nI]:"Ungroup Column",[oI]:"Column menu",[XS]:"items per page",[US]:"{0} - {1} of {2} items",[GS]:"Go to the first page",[WS]:"Go to the previous page",[KS]:"Go to the next page",[YS]:"Go to the last page",[QS]:"Page",[JS]:"Page size",[ZS]:"of",[$S]:"{0}",[uI]:"Search",[pI]:"Search...",[hI]:"Check All",[fI]:"Choose Operator",[gI]:"selected items",[mI]:"Select All",[yI]:"Filter",[xI]:"Group panel",[II]:"Table",[EI]:"Drag row",[SI]:"Select Row","grid.filterEqOperator":"Is equal to","grid.filterNotEqOperator":"Is not equal to","grid.filterIsNullOperator":"Is null","grid.filterIsNotNullOperator":"Is not null","grid.filterIsEmptyOperator":"Is empty","grid.filterIsNotEmptyOperator":"Is not empty","grid.filterStartsWithOperator":"Starts with","grid.filterContainsOperator":"Contains","grid.filterNotContainsOperator":"Does not contain","grid.filterEndsWithOperator":"Ends with","grid.filterGteOperator":"Is greater than or equal to","grid.filterGtOperator":"Is greater than","grid.filterLteOperator":"Is less than or equal to","grid.filterLtOperator":"Is less than","grid.filterIsTrue":"Is true","grid.filterIsFalse":"Is false","grid.filterBooleanAll":"(All)","grid.filterAfterOrEqualOperator":"Is after or equal to","grid.filterAfterOperator":"Is after","grid.filterBeforeOperator":"Is before","grid.filterBeforeOrEqualOperator":"Is before or equal to","grid.filterAndLogic":"And","grid.filterOrLogic":"Or"},jI=e=>{var t;const n=o.useContext(VS),r=nn(),i=Fc(),a=null!=(t=e.isSelected)?t:yC(e.field,e.dataItem),s="boolean"==typeof a&&a,l=o.useCallback((t=>{null==n||n.selectionChange({event:t,dataItem:e.dataItem,dataIndex:e.rowDataIndex,columnIndex:e.columnIndex})}),[n,e.columnIndex,e.rowDataIndex,e.dataItem]);return o.createElement("span",{className:"k-checkbox-wrap"},o.createElement("input",{id:r,tabIndex:-1,type:"checkbox",className:"k-checkbox k-checkbox-md k-rounded-md","aria-label":i.toLanguageString(SI,_I[SI]),"aria-checked":s,checked:s,onChange:l}))},AI=(e,t)=>{const n=o.useContext(zC);return n&&e&&!1!==t?{tabIndex:n&&n.activeId&&n.activeId===e?0:-1,[xb]:n.level,[Cb]:e}:{}},DI=e=>{var t;const{cellProps:n}=e,r=o.useContext(VS),i=AI(n.id),a={onContextMenu:o.useCallback((e=>{null!=r&&r.onContextMenu&&r.onContextMenu.call(void 0,e,n.dataItem,n.field)}),[r,n.dataItem,n.field])},s=r.getCellPositionStyle(n.columnPosition),l={style:p(p({},null==(t=e.tdProps)?void 0:t.style),s)},c=p(p(p({},i),a),l),d={onContextMenu:r.onContextMenu,onChange:r.itemChange,selectionChange:e=>{r.selectionChange({event:e,dataItem:n.dataItem,dataIndex:n.rowDataIndex,columnIndex:n.columnIndex})}};if(e.isCustom)return r.isClient||e.isClient?Cw(e.children,p({tdProps:p(p({},e.tdProps),c)},d)):Cw(e.children,p({},c));if(n.render){const t="groupHeader"!==n.rowType?o.createElement("td",p(p({},e.tdProps),c),e.content):null;return n.render.call(void 0,t,p(p({},n),d))}return e.children&&Cw(e.children,p({},c))},NI=e=>{const{className:t,colSpan:n,style:r,ariaColumnIndex:i,rowType:a,cells:s}=e,l={colSpan:n,style:r,className:on("k-table-td",t),"aria-colindex":i,role:"gridcell"},c=o.createElement(jI,p({key:1},e)),d=ww(e),u=a||"data",h=s;if(h&&h.select&&h.select[u]){const e=h.select[u],t=bw(e);return o.createElement(DI,{cellProps:d,tdProps:l,isCustom:!0,isClient:t},o.createElement(e,p(p({},d),{},{tdProps:l}),c))}const f="groupHeader"!==a?o.createElement("td",p({},l),c):null;return o.createElement(DI,{cellProps:d,content:c,tdProps:l},f)},TI=e=>{const{cellProps:t}=e,n=o.useContext(VS),r=AI(t.id),i=e.expanded,a=o.useCallback((e=>{e.isDefaultPrevented()||e.keyCode===At&&null!=n&&n.itemChange&&(e.preventDefault(),n.itemChange({dataItem:t.dataItem,dataIndex:t.dataIndex,syntheticEvent:e,field:t.field,value:!i}))}),[t.dataItem,t.dataIndex,t.field,n,i]),s="groupHeader"!==t.rowType&&"groupFooter"!==t.rowType?{onKeyDown:a}:{},l=p(p({},r),s),c={onContextMenu:n.onContextMenu,onChange:n.itemChange,selectionChange:e=>{n.selectionChange({event:e,dataItem:t.dataItem,dataIndex:t.rowDataIndex,columnIndex:t.columnIndex})}};if(e.isCustom)return n.isClient||e.isClient?Cw(e.children,p({tdProps:p(p({},e.tdProps),l)},c)):Cw(e.children,p({},l));if(t.render){const n="groupHeader"!==t.rowType?o.createElement("td",p(p({},e.tdProps),l),e.content):null;return t.render.call(void 0,n,p(p({},t),c))}return e.children&&Cw(e.children,p({},l))},PI=e=>{const t=o.useContext(VS),n=Fc(),r=e.expanded,i=r?CI:kI,a=n.toLanguageString(i,_I[i]);return o.createElement("a",{onClick:n=>{n.preventDefault(),null!=t&&t.itemChange&&t.itemChange({dataItem:e.dataItem,dataIndex:e.dataIndex,syntheticEvent:n,field:e.field,value:!r,_expand:!0}),void 0!==e.dataItem[t.dataItemKey]&&(null==t||t.dispatchDetailExpand({type:OC.TOGGLE,id:e.dataItem[t.dataItemKey]}))},"aria-label":a,href:"#",tabIndex:-1},o.createElement(vo,{name:r?"minus":"plus",icon:r?hd:pd}))},MI=e=>{let t=null,n=null,r=null;const i=ww(e),a=e.expanded;"groupFooter"===e.rowType?n={className:"k-table-td k-hierarchy-cell",role:"gridcell"}:"groupHeader"!==e.rowType&&(n={className:"k-table-td k-hierarchy-cell",role:"gridcell","aria-expanded":!!a,"aria-colindex":e.ariaColumnIndex},r=o.createElement(PI,p({},i)));const s=e.rowType||"data",l=e.cells;if(l&&l.hierarchy&&l.hierarchy[s]){const e=l.hierarchy[s],t=bw(e);return o.createElement(TI,{cellProps:i,tdProps:n,isCustom:!0,isClient:t},o.createElement(e,p(p({},i),{},{tdProps:n}),r))}return"groupHeader"!==e.rowType&&(t=o.createElement("td",p({},n),r)),o.createElement(TI,{cellProps:i,content:r,tdProps:n},t)},OI=e=>{const{cellProps:t}=e,n=o.useContext(VS),r=nn(),i=yC(t.field,t.dataItem);let a=null;const s=o.useCallback((e=>{null!=n&&n.itemChange&&n.itemChange({dataItem:t.dataItem,dataIndex:t.dataIndex,field:t.field,syntheticEvent:e.syntheticEvent,value:e.value})}),[n,t.dataItem,t.dataIndex,t.field]);switch(t.editor){case"numeric":a=o.createElement(Su,{className:e.className,value:void 0===i?null:i,onChange:s,[Pw]:!0});break;case"date":a=o.createElement(oy,{className:e.className,value:i,onChange:s,[Pw]:!0});break;case"boolean":a=o.createElement(Tu,{className:e.className,checked:i||!1,id:r,onChange:s,[Pw]:!0});break;default:a=o.createElement(Ju,{className:e.className,value:i||"",onChange:s,[Pw]:!0})}return a},RI=e=>{var t;const{cellProps:n}=e,r=o.useContext(VS),i=AI(n.id),a={onContextMenu:o.useCallback((e=>{null!=r&&r.onContextMenu&&r.onContextMenu.call(void 0,e,n.dataItem,n.field)}),[r,n.dataItem,n.field])},s=r.getCellPositionStyle(n.columnPosition),l={style:p(p({},null==(t=e.tdProps)?void 0:t.style),s)},c=p(p(p({},i),a),l),d={onContextMenu:r.onContextMenu,onChange:r.itemChange,selectionChange:e=>{r.selectionChange({event:e,dataItem:n.dataItem,dataIndex:n.rowDataIndex,columnIndex:n.columnIndex})}};if(e.isCustom)return r.isClient||e.isClient?Cw(e.children,p({tdProps:p(p({},e.tdProps),c)},d)):Cw(e.children,p({},c));if(n.render){const t=o.createElement("td",p(p({},e.tdProps),c),e.content);return n.render.call(void 0,t,p(p({},n),d))}return e.children&&Cw(e.children,p({},c))},FI=e=>{const t=e.unstyled,n=t&&t.uGrid?t.uGrid:jw,r=on(n.editTd({selected:e.isSelected}),e.className),i={colSpan:e.colSpan,style:e.style,className:r,"aria-colindex":e.ariaColumnIndex,"aria-selected":e.isSelected,[qC]:e.columnIndex,role:"gridcell"},a=ww(e),s=o.createElement(OI,{cellProps:a}),l=e.editor||"text",c=e.cells;if(c){let e;if(c.edit&&c.edit[l]?e=c.edit[l]:c.data&&(e=c.data),e){const t=bw(e);return o.createElement(RI,{cellProps:a,tdProps:i,isCustom:!0,isClient:t},o.createElement(e,p(p({},a),{},{tdProps:i}),s))}}return o.createElement(RI,{cellProps:a,content:s,tdProps:i},o.createElement("td",p({},i),s))};const LI=e=>{const t=o.useRef(null),n=o.useRef(null),r=o.useRef(!1),i=o.useContext(VS),a=function(e,t,n){const[r,i]=o.useState(t);return o.useEffect((()=>{if(!r&&window&&e.current){const t=window.getComputedStyle(e.current).direction;t&&i(t)}}),n),r}(i.headerElementRef);i.columnResizeRef.current&&i.columnResizeRef.current.setIsRtl("rtl"===a),o.useImperativeHandle(i.headerRef,(()=>({setScrollLeft:e=>{t.current&&t.current.scrollLeft!==e&&(r.current=!0,t.current.scrollLeft=e)},setWidth:e=>{n.current&&(n.current.style.width=e?e+"px":"")},table:()=>n.current})));const s=uo(),l=s&&s.uGrid?s.uGrid:jw,{size:c="md"}=e;return e.staticHeaders?o.createElement("div",{ref:i.headerElementRef,className:on(l.header({draggable:e.draggable}),e.className),role:"presentation"},o.createElement("div",{ref:t,className:on(l.headerWrap({})),onScroll:e=>{var n;if(r.current)return void(r.current=!1);if(!t.current)return;const o=t.current.scrollLeft,a=(null==(n=i.vsRef.current)?void 0:n.container)||null;a&&a.scrollLeft!==o&&(a.scrollLeft=o)},role:"presentation"},o.createElement("table",{ref:n,className:on(l.headerTable({size:c}),e.className),role:"presentation"},o.createElement("colgroup",{ref:e=>{i.columnResizeRef.current&&(i.columnResizeRef.current.colGroupHeader=e)}},e.cols),o.createElement("thead",p({className:on(l.tableThead({})),role:"rowgroup"},Ib),e.headerRow,e.filterRow)))):o.createElement("thead",p({role:"presentation",className:on(l.thead({draggable:e.draggable}),e.className)},Ib),e.headerRow,e.filterRow)};LI.displayName="KendoReactHeader";const zI=["columnMenu"],BI=[[".k-tabstrip-items"],[".k-columnmenu-item"],...[".k-columnmenu-item-content",".k-filter-menu-container"].map((e=>Wt.map((t=>"".concat(e," ").concat(t)))))],VI=e=>{const[t,n]=o.useState(!1),r=o.useRef(null),i=o.useRef(null),a=o.useRef(null),l=o.useRef(0),{columnMenu:c}=e,d=s(e,zI),{column:u,columnMenuIcon:h,navigatable:f}=e,m=Fc(),g=u.title||u.field,v=g?"".concat(g," "):"",y=()=>{e.onCloseMenu&&e.onCloseMenu(),n(!1),!e.navigatable&&r.current&&r.current.focus()},x=o.useMemo((()=>void 0!==e.show?e.show:t),[e.show,t]),b=(e,t,n)=>{n.preventDefault(),n.shiftKey?t.focusPrevious(e):t.focusNext(e)},w=(e,t,n)=>{e&&e.click()},k=(e,t,n)=>{n.preventDefault(),y()},C=(e,t,n)=>{t.focusElement(e)};return o.useEffect((()=>(x&&i.current&&(a.current=new xh({tabIndex:0,root:i,selectors:BI,keyboardEvents:{keydown:{Tab:b,Enter:w,Escape:k}},mouseEvents:{mousedown:C}}),a.current.focusElement(a.current.first,null)),()=>{a.current&&(a.current=null)})),[x]),o.createElement(o.Fragment,null,o.createElement("a",{className:"k-grid-header-menu k-grid-column-menu",ref:r,onClick:o=>{o.preventDefault(),t&&e.onCloseMenu&&e.onCloseMenu(),n(!t)},onKeyDown:e=>{var t;if(e.keyCode===jt){const n=e.target,o=n&&(null==(t=n.closest(".k-grid"))?void 0:t.getElementsByClassName("k-grid-content")[0]);o&&o.scrollWidth>o.clientWidth&&n.scrollIntoView({inline:"center"})}},href:"#",tabIndex:f?-1:void 0,"aria-label":"".concat(f?"":v).concat(m.toLanguageString(oI,_I[oI]))},h?o.createElement(vo,{name:h.name,icon:h}):o.createElement(vo,{name:"more-vertical",icon:sd})),o.createElement(jr,{anchor:r.current,show:x,popupClass:"k-column-menu k-column-menu-popup k-grid-columnmenu-popup",onMouseDownOutside:e=>{!e.isAnchorClicked&&n(!1)}},o.createElement("div",{ref:i,onBlur:e=>{const t=Zc(document);clearTimeout(l.current),l.current=window.setTimeout((()=>{t&&e.relatedTarget!==r.current&&i.current&&!i.current.contains(t)&&y()}))},onFocus:()=>{clearTimeout(l.current)},onMouseDown:e=>{var t;null==(t=a.current)||t.triggerMouseEvent(e)},onKeyDown:e=>{var t;null==(t=a.current)||t.triggerKeyboardEvent(e)},style:{outline:"none"}},c&&o.createElement(c,p(p({},d),{},{onCloseMenu:y})))))},HI=e=>{const t=uo(),n=t&&t.uGrid?t.uGrid:jw,r=e.onClick?{onClick:e.onClick}:{},i=o.createElement("span",{className:on(n.headerCellInner({}))},o.createElement("span",p({className:on(n.headerCellLink({sortable:e.columnMenuWrapperProps.sortable}))},r),o.createElement("span",{className:on(n.columnTitle({}))},e.title||e.field||"\xa0"),e.children),e.columnMenuWrapperProps.columnMenu&&o.createElement(VI,p({},e.columnMenuWrapperProps)));return e.render?e.render.call(void 0,i,e):i},qI=["ariaSort","colSpan","rowSpan","columnId","navigatable","ariaColumnIndex","ariaLabel","ariaSelected","ariaDescription"],UI=e=>{const{ariaSort:t,colSpan:n,rowSpan:r,columnId:i,navigatable:a,ariaColumnIndex:l,ariaLabel:c,ariaSelected:d,ariaDescription:u}=e,h=s(e,qI),f=AI(i,a),m=o.useRef(null);return o.useEffect((()=>{m.current&&a&&$t(m.current)}),[a]),o.createElement("th",p(p({ref:m,"aria-sort":t,"aria-label":c,"aria-colindex":l,"aria-selected":d,colSpan:n,rowSpan:r},f),h),e.children)};UI.displayName="KendoReactHeaderThElement";const GI=o.createContext(void 0),WI=e=>{const t=o.useContext(VS),n=o.useRef(null),[r,i]=o.useState(),a=(n,o)=>{e.sortable&&o.sortable&&(n.preventDefault(),t.sortChange&&t.headerCellClick(n,o))};return o.createElement(GI.Provider,{value:{cellClick:a,cellKeyDown:(o,r)=>{if(o.isDefaultPrevented())return;const{keyCode:s,metaKey:l,ctrlKey:c,altKey:d}=o,u=e.sortable&&r.sortable,p=o.target;if(u&&o.keyCode===At&&-1!==p.className.indexOf("k-table-th")&&a(o,r),e.navigatable){if(e.groupable&&(l&&s===At||c&&s===Nt)){o.preventDefault();const n=e.columns.findIndex((e=>e.field===r.field));t.columnGroupChange&&t.columnGroupChange(n,o)}d&&s===zt&&(o.preventDefault(),i(r.field),n.current=p)}},handleCloseMenu:()=>{i(void 0),n.current&&"-1"!==n.current.getAttribute("tabindex")&&n.current.focus()},showColumnMenuField:r}},e.children)},KI=e=>{const t=o.useContext(VS),n=o.useContext(GI),r=t.isClient||e.isClient,i={style:p({},t.getCellPositionStyle(e.column))},a={onKeyDown:t=>{n.cellKeyDown(t,e.column)},onContextMenu:n=>{t.onContextMenu(n,void 0,e.column.field)}};let s={onClick:t=>{n.cellClick(t,e.column)}};return r&&(s=p(p({},s),{},{render:e.render,selectionChange:t.onHeaderSelectionChange,columnMenuWrapperProps:p(p({},e.columnMenuWrapperProps),{},{onSortChange:t.sortChange,onFilterChange:t.filterChange,onGroupChange:t.groupChange,onColumnsStateChange:t.onColumnsStateChange,show:n.showColumnMenuField===e.column.field||void 0,onCloseMenu:n.handleCloseMenu,columnsState:t.columnsState})})),e.isCustom&&(s=r?p(p({},s),{},{thProps:p(p(p({},e.thProps),a),i)}):p(p(p({},s),a),i)),Cw(e.children,p({},s))};var YI,XI=function(e,t){var n=0,o=null;return t.forEach((function(t){if(t&&e){var r=function(e,t){var n=e.getBoundingClientRect(),o=t.getBoundingClientRect(),r=Math.max(o.top,n.top),i=Math.max(o.left,n.left),a=Math.min(o.left+o.width,n.left+n.width),s=Math.min(o.top+o.height,n.top+n.height),l=a-i,c=s-r;if(i<a&&r<s){var d=o.width*o.height,u=n.width*n.height,p=l*c;return Number((p/(d+u-p)).toFixed(4))}return 0}(e,t);r>n&&(n=r,o=t)}})),o},QI=function(){var e=window&&window.navigator.userAgent;if(!e)return!1;var t=!1,n=[],o={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in o)if(o.hasOwnProperty(r)&&(n=e.match(o[r]))){(t={})[r]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.DOCUMENT_NODE||n[2],10);break}return t},JI=function(e){return e&&e.ownerDocument||window.document},ZI=function(e){var t=QI(),n=JI(e);return t.edge||t.safari?n.body:n.documentElement},$I=function(e){if(e&&e.className&&"string"===typeof e.className&&e.className.indexOf("k-auto-scrollable")>-1)return!0;var t=window.getComputedStyle(e,"overflow").overflow;return t.indexOf("auto")>-1||t.indexOf("scroll")>-1},eE=function(e){var t=ZI(e);if(!e||e===document.body||e===document.documentElement)return t;for(var n=e;n&&n!==document.body&&n.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&n.nodeType!==Node.DOCUMENT_NODE&&!$I(n);)n=n.parentNode;return!n||n!==document.body&&n.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?n:t};!function(e){e.POINTER_DOWN="pointerdown",e.POINTER_MOVE="pointermove",e.POINTER_UP="pointerup",e.POINTER_CANCEL="pointercancel",e.MOUSE_DOWN="mousedown",e.MOUSE_MOVE="mousemove",e.MOUSE_UP="mouseup",e.CONTEXT_MENU="contextmenu",e.TOUCH_START="touchstart",e.TOUCH_MOVE="touchmove",e.TOUCH_END="touchend",e.TOUCH_CANCEL="touchcancel",e.SCROLL="scroll",e.START="KENDO_DRAG_AND_DROP_START",e.MOVE="KENDO_DRAG_AND_DROP_MOVE",e.END="KENDO_DRAG_AND_DROP_END",e.CANCEL="KENDO_DRAG_AND_DROP_CANCEL"}(YI||(YI={}));var tE=function(){},nE=function(e,t,n){void 0===n&&(n={});var o=n.onIsPressedChange,r=void 0===o?tE:o,i=n.onIsScrollingChange,a=void 0===i?tE:i,s=n.onVelocityChange,l=void 0===s?tE:s,c=n.onOffsetChange,d=void 0===c?tE:c,u=n.onPageOffsetChange,p=void 0===u?tE:u,h=n.onClientOffsetChange,f=void 0===h?tE:h,m=n.onScrollOffsetChange,g=void 0===m?tE:m,v=n.onInitialScrollOffsetChange,y=void 0===v?tE:v,x=t.payload,b=x.element,w=x.hint,k=e.autoScrollDirection,C=e.scrollableParent,S=function(e,t){return function(e){return/^touch/.test(e.type)}(e)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,scrollX:t.scrollOffset.x,scrollY:t.scrollOffset.y,offsetX:t.offset.x,offsetY:t.offset.y,type:e.type,originalEvent:e,isTouch:!0,altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1}:function(e){return/^(scroll)/.test(e.type)}(e)?{pageX:t.pageOffset.x,pageY:t.pageOffset.y,clientX:t.clientOffset.x,clientY:t.clientOffset.y,scrollX:t.scrollOffset.x,scrollY:t.scrollOffset.y,offsetX:t.offset.x,offsetY:t.offset.y,type:e.type,originalEvent:e,altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,scrollX:t.scrollOffset.x,scrollY:t.scrollOffset.y,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,originalEvent:e}}(t.event,e);switch(S.type){case YI.POINTER_DOWN:if(S.type===YI.POINTER_DOWN&&(!S.originalEvent.isPrimary||0!==S.originalEvent.button))break;case YI.MOUSE_DOWN:if(S.type===YI.MOUSE_DOWN&&S.originalEvent.which&&S.originalEvent.which>1||e.ignoreMouse)break;case YI.TOUCH_START:if(S.type===YI.TOUCH_START&&1!==S.originalEvent.touches.length)break;case YI.START:var I=C||eE(t.payload.element);y(I instanceof Window?{x:I.scrollX,y:I.scrollY}:{x:I.scrollLeft,y:I.scrollTop}),f({x:S.clientX,y:S.clientY}),p({x:S.pageX,y:S.pageY}),d({x:S.offsetX,y:S.offsetY}),r(!0),x.onPress&&x.onPress(S);break;case YI.SCROLL:if(S.type===YI.SCROLL&&!e.pressed)break;var E=C||eE(b),_=E instanceof Window?{x:E.scrollX,y:E.scrollY}:{x:E.scrollLeft,y:E.scrollTop};S.scrollX=_.x-e.initialScrollOffset.x,S.scrollY=_.y-e.initialScrollOffset.y,g({x:S.scrollX,y:S.scrollY});case YI.POINTER_MOVE:if(S.type===YI.POINTER_MOVE&&!S.originalEvent.isPrimary)break;case YI.MOUSE_MOVE:case YI.TOUCH_MOVE:if(S.type===YI.TOUCH_MOVE&&1!==S.originalEvent.touches.length)break;case YI.MOVE:if(e.pressed){if(e.autoScroll&&"scroll"!==S.originalEvent.type&&b){var j=JI(b),A=C||eE(j.elementFromPoint(S.clientX,S.clientY)),D=function(e,t,n){var o={x:0,y:0},r=50;return e-n.left<r?o.x=-(r-(e-n.left)):n.right-e<r&&(o.x=r-(n.right-e)),t-n.top<r?o.y=-(r-(t-n.top)):n.bottom-t<r&&(o.y=r-(n.bottom-t)),o}(S.clientX,S.clientY,function(e,t){var n=ZI(e);if(e===n)return{top:n.scrollTop,left:n.scrollLeft,bottom:n.scrollTop+t.innerHeight,right:n.scrollLeft+t.innerWidth};var o=e.getBoundingClientRect();return{bottom:o.top+o.height,right:o.left+o.width,left:o.left,top:o.top}}(A,function(e){var t=JI(e);return t&&t.defaultView||window}(b)));l({x:k&&!1===k.horizontal?0:D.x,y:k&&!1===k.vertical?0:D.y}),a(0!==D.y||0!==D.x)}!e.drag&&x.onDragStart&&x.onDragStart(S),x.onDrag&&x.onDrag(S);var N=XI(w||b,e.drops.map((function(e){return e&&e.element})).filter((function(e){return e!==(w||b)}))),T=e.drops.find((function(e){return e.element===N}));T&&N&&function(e,t,n){var o=n.getBoundingClientRect();return o.top<=t&&o.left<=e&&t<=o.bottom&&e<=o.right}(S.clientX,S.clientY,C||eE(N))&&N!==b?(e.drop&&e.drop.element)!==N?(e.drop&&e.drop.onDragLeave&&e.drop.onDragLeave(S),T.onDragEnter&&T.onDragEnter(S)):T.onDragOver&&T.onDragOver(S):e.drop&&e.drop.onDragLeave&&e.drop.onDragLeave(S)}f({x:S.clientX,y:S.clientY}),p({x:S.pageX,y:S.pageY});break;case YI.POINTER_UP:if(S.type===YI.POINTER_UP&&!S.originalEvent.isPrimary)break;case YI.MOUSE_UP:case YI.TOUCH_END:if(S.type===YI.TOUCH_END&&1!==S.originalEvent.touches.length)break;case YI.END:r(!1),a(!1),g({x:0,y:0}),x.onRelease&&x.onRelease(S),e.drop&&e.drop.onDrop&&e.drop.onDrop(S),e.drag&&x.onDragEnd&&x.onDragEnd(S);break;case YI.POINTER_CANCEL:case YI.CONTEXT_MENU:case YI.TOUCH_CANCEL:case YI.CANCEL:r(!1),a(!1),g({x:0,y:0}),x.onDragEnd&&x.onDragEnd(S),e.drop&&e.drop.onDragLeave&&e.drop.onDragLeave(S)}};const oE=(e,t)=>{const[n,r]=e,[i,a]=o.useState(t);return[void 0!==n?n:i,function(){void 0!==n?r(...arguments):a(arguments.length<=0?void 0:arguments[0])}]},rE=o.createContext({drag:void 0,setDrag:qp,drop:void 0,setDrop:qp,drags:[],registerDrag:qp,deregisterDrag:qp,drops:[],registerDrop:qp,deregisterDrop:qp});function iE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{onPress:r=qp,onRelease:i=qp,onDragStart:a=qp,onDrag:s=qp,onDragEnd:l=qp}=t,{hint:c=null,mouseOnly:d=!1,autoScroll:u=!0,scrollContainer:p=null,context:h=rE}=n,[f,m]=o.useState(!1),[g,v]=o.useState(!1),{drop:y,setDrop:x,drag:b,setDrag:w,drops:k,drags:C,registerDrag:S,deregisterDrag:I}=o.useContext(h),[E]=oE([y,x]),[_,j]=oE([b,w]),A=o.useRef({x:0,y:0}),D=o.useRef(void 0),N=o.useRef(!1),T=o.useRef(void 0),P=o.useRef(null),M=o.useRef(!1),O=o.useRef({x:0,y:0}),R=o.useRef({x:0,y:0}),F=o.useRef({x:0,y:0}),L=o.useRef({x:0,y:0}),z=o.useRef({x:0,y:0}),B=o.useRef({x:0,y:0}),V=!("undefined"==typeof window||!window.PointerEvent),H=!d&&V,q=o.useCallback((()=>e.current&&e.current.element?e.current.element:e.current),[e]),U=o.useCallback((()=>c&&c.current&&c.current.element?c.current.element:c?c.current:null),[c]),G=o.useCallback((()=>p&&p.current&&p.current.element?p.current.element:p?p.current:null),[p]),W=o.useCallback((()=>"object"==typeof u&&u.boundaryElementRef&&u.boundaryElementRef.current&&u.boundaryElementRef.current.element?u.boundaryElementRef.current.element:"object"==typeof u&&u.boundaryElementRef&&u.boundaryElementRef.current?u.boundaryElementRef.current:null),[u]),K=o.useRef(null);o.useImperativeHandle(K,(()=>({get element(){return q()},get hint(){return U()},onPress:ae,onDragStart:le,onDrag:ce,onDragEnd:de,onRelease:se,data:e.current})));const Y=o.useCallback((()=>{const e=q();return e&&e.ownerDocument||document}),[q]),X=o.useCallback((()=>{const e=Y();return e&&e.defaultView||window}),[Y]),Q=o.useCallback((()=>({get drag(){return _?_.current:null},get drop(){return E?E.current:null},get drags(){return(null!=C?C:[]).map((e=>e.current))},get drops(){return(null!=k?k:[]).map((e=>e.current))},pressed:!!f,ignoreMouse:N.current,scrollOffset:z.current,offset:O.current,pageOffset:R.current,initialScrollOffset:B.current,clientOffset:F.current,initialClientOffset:L.current,velocity:A.current,autoScroll:!!("object"==typeof u?!1!==u.enabled:u),scrollableParent:W(),autoScrollDirection:"object"==typeof u?u.direction:{horizontal:!0,vertical:!0},isScrolling:g})),[_,E,C,k,f,N,z,O,R,B,F,L,A,u,g,W]),J=o.useCallback((e=>{m(e)}),[]),Z=o.useCallback((e=>{v(e)}),[]),$=o.useCallback((e=>{A.current=e}),[]),ee=o.useCallback((e=>{O.current=e}),[]),te=o.useCallback((e=>{F.current=e}),[]),ne=o.useCallback((e=>{R.current=e}),[]),oe=o.useCallback((e=>{L.current=e}),[]),re=o.useCallback((e=>{z.current=e}),[]),ie=o.useCallback((e=>{B.current=e}),[]),ae=o.useCallback((e=>{r(e)}),[r]),se=o.useCallback((e=>{i(e)}),[i]),le=o.useCallback((t=>{j(K,{target:e.current,event:t}),a(t)}),[j,e,a]),ce=o.useCallback((e=>{s(e)}),[s]),de=o.useCallback((t=>{M.current||(j(null,{target:e.current,event:t}),l(t))}),[l,j,e]),ue=o.useCallback((e=>{nE(Q(),{event:e,payload:K.current},{onVelocityChange:$,onOffsetChange:ee,onClientOffsetChange:te,onPageOffsetChange:ne,onInitialClientOffsetChange:oe,onScrollOffsetChange:re,onInitialScrollOffsetChange:ie,onIsPressedChange:J,onIsScrollingChange:Z})}),[Q,$,ee,ne,te,oe,ie,J,re,Z]),pe=o.useCallback((e=>{ue(e)}),[ue]),he=o.useCallback((e=>{ue(e)}),[ue]),fe=o.useCallback((e=>{ue(e)}),[ue]),me=o.useCallback((e=>{ue(e)}),[ue]),ge=o.useCallback((e=>{ue(e)}),[ue]),ve=o.useCallback((e=>{ue(e)}),[ue]),ye=o.useCallback((e=>{ue(e)}),[ue]),xe=o.useCallback((e=>{e.preventDefault(),ue(e)}),[ue]),be=o.useCallback((e=>{e.preventDefault(),ue(e)}),[ue]),we=o.useCallback((e=>{e.preventDefault(),ue(e)}),[ue]),ke=o.useCallback((e=>{if(0===e.touches.length&&1===e.changedTouches.length){const e=X();N.current=!0,T.current=e.setTimeout((()=>{N.current=!1}),2e3)}ue(e)}),[ue,X]),Ce=o.useCallback((e=>{ue(e)}),[ue]),Se=o.useCallback((()=>{const e=q();if(e){const t=e.style.touchAction;return e.style.touchAction="none",()=>{e.style.touchAction=t}}}),[q]),Ie=o.useCallback((()=>(null==S||S(K),()=>{null==I||I(K)})),[I,S]);o.useEffect((()=>{const e=X();if(g){const t=G()||eE(document.elementFromPoint(F.current.x,F.current.y));e.clearInterval(D.current),D.current=e.setInterval((()=>{!function(e,t){if(e){var n,o;e===ZI(e)?(n=document.body.scrollHeight>window.innerHeight,o=document.body.scrollWidth>window.innerWidth):(n=e.offsetHeight<=e.scrollHeight,o=e.offsetWidth<=e.scrollWidth);var r=e.scrollTop+t.y,i=n&&r>0&&r<e.scrollHeight,a=e.scrollLeft+t.x,s=o&&a>0&&a<e.scrollWidth;i?e.scrollTop+=t.y:n&&r<0&&(e.scrollTop=0),s?e.scrollLeft+=t.x:o&&a<0&&(e.scrollLeft=0)}}(t,{x:A.current.x,y:A.current.y})}),50)}return()=>{e.clearInterval(D.current)}}),[q,G,X,g]),o.useEffect(Se,[Se]),o.useEffect((()=>{const e=X(),t=q(),n=Y();return H?(t&&(P.current=eE(t),P.current&&P.current.addEventListener("scroll",Ce,{passive:!0}),t.addEventListener("pointerdown",pe,{passive:!0})),f&&(n.addEventListener("pointermove",he),n.addEventListener("pointerup",me,!0),n.addEventListener("contextmenu",xe),n.addEventListener("pointercancel",fe,{passive:!0}))):(e.addEventListener("touchmove",qp,{capture:!1,passive:!1}),t&&(t.addEventListener("mousedown",ge,{passive:!0}),d||(t.addEventListener("touchstart",be,{passive:!0}),f&&(t.addEventListener("touchmove",we,{passive:!0}),t.addEventListener("touchend",ke,{passive:!0})))),f&&(n.addEventListener("mousemove",ve,{passive:!0}),n.addEventListener("mouseup",ye,{passive:!0}))),()=>{P.current&&P.current.removeEventListener("scroll",Ce),t&&(t.removeEventListener("pointerdown",pe),t.removeEventListener("mousedown",ge),t.removeEventListener("touchstart",be),t.removeEventListener("touchmove",we),t.removeEventListener("touchend",ke)),n.removeEventListener("pointermove",he),n.removeEventListener("pointerup",me,!0),n.removeEventListener("contextmenu",xe),n.removeEventListener("pointercancel",fe),n.removeEventListener("mousemove",ve),n.removeEventListener("mouseup",ye),e.removeEventListener("touchmove",qp),e.clearTimeout(T.current)}}),[f,X,q,Y,d,H,xe,ge,ve,ye,fe,pe,he,me,ke,we,be,Ce]),o.useEffect((()=>(M.current=!1,()=>{M.current=!0})),[]),tn(Ie,[Ie])}const aE=o.forwardRef(((e,t)=>{const n=o.useRef(null),r=o.useRef(null),i=o.useCallback((()=>n.current&&n.current.element?n.current.element:n.current),[n]);o.useImperativeHandle(r,(()=>({element:i()||null}))),o.useImperativeHandle(t,(()=>r.current)),o.useImperativeHandle(e.childRef,(()=>n.current));const a=o.useCallback((t=>{e.onPress&&e.onPress({element:i(),target:r.current,event:t})}),[i,e.onPress]),s=o.useCallback((t=>{e.onRelease&&e.onRelease({element:i(),target:r.current,event:t})}),[i,e.onRelease]),l=o.useCallback((t=>{e.onDragStart&&e.onDragStart({element:i(),target:r.current,event:t})}),[e,i]),c=o.useCallback((t=>{e.onDrag&&e.onDrag({element:i(),target:r.current,event:t})}),[i,e.onDrag]),d=o.useCallback((t=>{e.onDragEnd&&e.onDragEnd({element:i(),target:r.current,event:t})}),[i,e.onDragEnd]);return iE(n,{onPress:a,onRelease:s,onDragStart:l,onDrag:c,onDragEnd:d},{mouseOnly:e.mouseOnly,autoScroll:e.autoScroll,hint:e.hint,scrollContainer:e.scrollContainer,context:e.context}),e.children?o.cloneElement(o.Children.only(e.children),{ref:n}):null}));aE.displayName="KendoReactDraggable";const sE=e=>{const t=o.useRef(null),n=uo(),r=n&&n.uGrid?n.uGrid:jw;return o.createElement(aE,{onPress:n=>{const o=t.current&&t.current.element;o&&e.pressHandler&&e.pressHandler(n.event,o)},onDrag:n=>{const o=t.current&&t.current.element;o&&e.dragHandler&&e.dragHandler(n.event,o)},onRelease:n=>{t.current&&t.current.element&&e.releaseHandler&&e.releaseHandler(n.event)},hint:e.dragClue,autoScroll:{boundaryElementRef:e.headerRef,direction:{horizontal:!0,vertical:!1}},scrollContainer:e.containerRef||void 0,ref:t},o.createElement("tr",{className:on(r.simpleTr({})),style:{touchAction:"none"},role:"row","aria-rowindex":e.ariaRowIndex},e.children))},lE=e=>{const t=o.useContext(VS);return t.dragLogicRef.current.pressHandler&&o.createElement(sE,{ariaRowIndex:e.ariaRowIndex,pressHandler:t.dragLogicRef.current.pressHandler,dragHandler:t.dragLogicRef.current.dragHandler,releaseHandler:t.dragLogicRef.current.releaseHandler,dragClue:t.dragLogicRef.current.dragClue,headerRef:t.headerElementRef,containerRef:t.containerElementRef},e.children)||o.createElement("tr",{className:e.className,role:"row","aria-rowindex":e.ariaRowIndex},e.children)},cE=e=>{const t=o.useContext(VS),n=o.useContext(GI),r={style:p({},t.getCellPositionStyle(e.column))};return Cw(e.children,p({onKeyDown:t=>{n.cellKeyDown(t,e.column)},onContextMenu:n=>{t.onContextMenu(n,void 0,e.column.field)}},r))};class dE extends o.Component{constructor(){super(...arguments),this.draggable=null,this.isDragged=!1,this.onDrag=e=>{this.isDragged=!0;const t=this.draggable&&this.draggable.element;t&&this.props.resize(e.event,t,!1)},this.onRelease=e=>{if(!this.isDragged)return;const t=this.draggable&&this.draggable.element;t&&this.props.resize(e.event,t,!0),this.isDragged=!1},this.onDoubleClick=e=>{if(this.isDragged)return;const t=this.draggable&&this.draggable.element;t&&this.props.autofit&&this.props.autofit(e,t)}}render(){return o.createElement(aE,{onPress:e=>{e.event.originalEvent.stopPropagation()},onDrag:this.onDrag,onRelease:this.onRelease,autoScroll:{direction:{vertical:!1,horizontal:!0}},ref:e=>{this.draggable=e}},o.createElement("span",{className:"k-column-resizer",style:{touchAction:"none"},draggable:!1,onDoubleClick:this.onDoubleClick}))}}const uE=e=>{const{column:t}=e,n=o.useContext(VS);return n.columnResizeRef.current&&n.columnResizeRef.current.resizable&&t.resizable&&o.createElement(dE,{key:2,resize:(e,o,r)=>n.columnResizeRef.current&&n.columnResizeRef.current.dragHandler(e,t,o,r),autofit:e=>n.columnResizeRef.current&&n.columnResizeRef.current.dblClickHandler(e,[t.id])})||o.createElement(o.Fragment,null)},pE={none:"none",asc:"ascending",desc:"descending"},hE=e=>{const t=e.unstyled,n=t&&t.uGrid?t.uGrid:jw;let r=0,i=-1;const a=t=>{if(!e.sort)return null;const r=on(n.sortIcon({}));return t>=0&&[o.createElement("span",{key:1,className:r},o.createElement(vo,{name:"sort-"+e.sort[t].dir+"-small",icon:"asc"===e.sort[t].dir?fd:md})),e.sort.length>1&&o.createElement("span",{key:2,className:r},o.createElement("span",{className:on(n.sortOrder({}))},t+1))]},s=e.columns.map(pw);return o.createElement(WI,{sortable:e.sortable,sort:e.sort,navigatable:e.navigatable,groupable:e.groupable,columns:s},e.columnsMap.map(((t,s)=>o.createElement(lE,{key:s,className:on(n.simpleTr({})),ariaRowIndex:s+1},(t=>t.map((t=>{var s;const l=e.columns[t],c=e.sortable&&l.sortable,d=e.sort?e.sort.findIndex((e=>e.field===l.field)):-1,u=d>=0&&e.sort[d].dir||"none",h=null===l.columnMenu?null:l.columnMenu||e.columnMenu,f=l.menuIcon||e.columnMenuIcon,m=on(on(n.headerTh({first:l.kFirst,filterable:!!h,locked:l.locked,sorted:e.sort&&e.sort.some((e=>e.field===l.field))})),l.headerClassName);!1===l.locked&&(l.left=0);const g=e.localization.toLanguageString(vI,_I[vI]),v=l.isAccessible?{ariaSort:pE[u],role:"columnheader",ariaColumnIndex:l.ariaColumnIndex,ariaSelected:!1,ariaDescription:c?g:""}:{role:"presentation"},y=l.declarationIndex>=0?++i:--r,x={field:l.field,title:l.title,selectionValue:null!=(s=l.headerSelectionValue)?s:e.headerSelectionValue,children:a(d),selectionChange:null,columnMenuWrapperProps:{column:{field:l.field,title:l.title,locked:l.locked,filter:l.filter,id:l.id},sortable:c&&e.sortable,sort:e.sort,filter:e.filter,filterable:e.filterable&&l.filterable,filterOperators:e.filterOperators,navigatable:e.navigatable,group:e.group,groupable:e.groupable,columnMenu:h,columnMenuIcon:f}},b=p(p({},v),{},{colSpan:l.headerColSpan,rowSpan:l.rowSpan,className:m,columnId:l.id,navigatable:l.navigatable,role:"columnheader"}),w=pw(l),k={column:w,render:e.cellRender,sortable:e.sortable,sort:e.sort,columnMenuWrapperProps:x.columnMenuWrapperProps},C=l.headerCell?l.headerCell:HI,S=[o.createElement(KI,p(p({key:1},k),{},{isClient:bw(C)}),o.createElement(C,p({},x))),o.createElement(uE,{key:2,column:w})],I=yw(e.cells,l.cells);if(I&&I.headerCell){const e=I.headerCell,n=bw(e);return o.createElement(KI,p(p({key:y},k),{},{thProps:b,isCustom:!0,isClient:n}),o.createElement(e,p(p({},x),{},{thProps:b,index:t}),S))}return o.createElement(cE,{key:y,column:w},o.createElement(UI,p({},b),S))})))(t)))))},fE={text:[{text:"grid.filterContainsOperator",operator:"contains"},{text:"grid.filterNotContainsOperator",operator:"doesnotcontain"},{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterStartsWithOperator",operator:"startswith"},{text:"grid.filterEndsWithOperator",operator:"endswith"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"},{text:"grid.filterIsEmptyOperator",operator:"isempty"},{text:"grid.filterIsNotEmptyOperator",operator:"isnotempty"}],numeric:[{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterGteOperator",operator:"gte"},{text:"grid.filterGtOperator",operator:"gt"},{text:"grid.filterLteOperator",operator:"lte"},{text:"grid.filterLtOperator",operator:"lt"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"}],date:[{text:"grid.filterEqOperator",operator:"eq"},{text:"grid.filterNotEqOperator",operator:"neq"},{text:"grid.filterAfterOrEqualOperator",operator:"gte"},{text:"grid.filterAfterOperator",operator:"gt"},{text:"grid.filterBeforeOperator",operator:"lt"},{text:"grid.filterBeforeOrEqualOperator",operator:"lte"},{text:"grid.filterIsNullOperator",operator:"isnull"},{text:"grid.filterIsNotNullOperator",operator:"isnotnull"}],boolean:[{text:"grid.filterEqOperator",operator:"eq"}]},mE=e=>"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e,gE=(e,t)=>e.map((e=>({text:t.toLanguageString(e.text,_I[e.text]),operator:e.operator}))),vE=[{text:"grid.filterBooleanAll",operator:""},{text:"grid.filterIsTrue",operator:!0},{text:"grid.filterIsFalse",operator:!1}],yE=(e,t)=>t?e[t][0].operator:e[0].operator,xE=e=>{const t=o.useRef(null),n=Fc(),r=(t,n)=>{((e,t,n)=>{const o=yE(n.operators);let r=n.operator;switch(n.filterType){case"numeric":case"date":(!r||mE(r))&&(r=o),null===e&&r===o&&(r="");break;case"text":(!r||mE(r))&&(r=o),!e&&r===o&&(r="");break;default:return}n.onChange({value:e,operator:r,syntheticEvent:t})})(t,n,e)},i=t=>{((e,t,n)=>{let o=t;const r=e.target.value;e.target.state.opened&&(mE(r.operator)&&(o=null),null===t&&!mE(r.operator)&&(o=void 0),n({value:o,operator:r.operator,syntheticEvent:e.syntheticEvent}))})(t,e.value,e.onChange)},a=t=>{((e,t)=>{const n=e.target.value;t({value:n.operator,operator:""===n.operator?"":"eq",syntheticEvent:e.syntheticEvent})})(t,e.onChange)},s=o.createElement("div",{className:"k-filtercell"},o.createElement("div",{className:"k-filtercell-wrapper"},((n,i,s)=>{switch(n){case"numeric":return o.createElement(Su,{ref:t,size:e.size,value:i,onChange:e=>{r(e.value,e.syntheticEvent)},title:e.title,ariaLabel:e.ariaLabel});case"date":return o.createElement(oy,{ref:t,size:e.size,value:i,onChange:e=>{r(e.value,e.syntheticEvent)},title:e.title,ariaLabel:e.ariaLabel,popupSettings:{onMouseDownOutside:e=>{!e.isAnchorClicked&&e.state&&e.state.props.show&&t&&t.current.togglePopup()}}});case"boolean":{const n=e=>null==e;return o.createElement(Ah,{ref:t,size:e.size,onChange:a,value:s.find((e=>e.operator===(n(i)?"":i))),data:s,textField:"text",title:e.title,ariaLabel:e.ariaLabel,popupSettings:{onMouseDownOutside:e=>{!e.isAnchorClicked&&e.state&&e.state.props.show&&t&&t.current.togglePopup()}}})}default:return o.createElement(Ju,{ref:t,size:e.size,value:i||"",onChange:e=>{r(e.target.value,e.syntheticEvent)},title:e.title,"aria-label":e.ariaLabel})}})(e.filterType,e.value,e.booleanValues),o.createElement("div",{className:"k-filtercell-operator"},(()=>{if("boolean"===e.filterType)return;let t;const r=e.operators.find((t=>t.operator===e.operator))||null;return o.createElement(Ah,{ref:e=>{t=e},size:e.size,value:r,onChange:i,className:"k-dropdown-operator",svgIcon:gd,data:e.operators,textField:"text",title:n.toLanguageString(fI,_I[fI]),popupSettings:{width:"",onMouseDownOutside:function(e){!e.isAnchorClicked&&e.state&&e.state.props.show&&t&&t.togglePopup()}}})})(),"\xa0",o.createElement(xo,{size:e.size,svgIcon:vd,className:on({"k-clear-button-visible":!!(null!==e.value&&""!==e.value||e.operator)}),title:n.toLanguageString(iI,_I[iI]),type:"button",onClick:n=>{n.preventDefault(),e.onChange({value:"",operator:"",syntheticEvent:n}),t.current&&(t.current.element.value="",setTimeout((()=>{t.current.element.focus()}),0))},disabled:!(null!==e.value&&""!==e.value||e.operator)}))));return e.render?e.render.call(void 0,s,e):s},bE=["ariaSort","colSpan","rowSpan","columnId","navigatable","ariaColumnIndex","ariaLabel","ariaSelected","ariaDescription"],wE=e=>{const{ariaSort:t,colSpan:n,rowSpan:r,columnId:i,navigatable:a,ariaColumnIndex:l,ariaLabel:c,ariaSelected:d,ariaDescription:u}=e,h=s(e,bE),f=AI(i,a),m=o.useRef(null);return o.useEffect((()=>{m.current&&a&&$t(m.current)}),[a]),o.createElement("td",p(p({ref:m,"aria-sort":t,"aria-label":c,"aria-colindex":l,"aria-selected":d,colSpan:n,rowSpan:r},f),h),e.children)};wE.displayName="KendoReactHeaderTdElement";const kE=e=>{const t=o.useContext(VS),n=t.getCellPositionStyle(e.column),r=e.isCustom?{style:p({},n)}:{};return t.isClient||e.isClient?Cw(e.children,{render:e.render,onChange:n=>{((n,o,r,i)=>{if(!t.filterChange)return;const a=[];(""!==n&&null!==n||""!==o)&&a.push({field:r,operator:o,value:n}),e.filter&&e.filter.filters&&(e.filter.filters||[]).forEach((e=>{e&&e.field!==r&&a.push(e)}));const s=e.filter&&e.filter.logic?e.filter.logic:"and";t.filterChange(a.length>0?{logic:s,filters:a}:null,i)})(n.value,n.operator,e.field,n.syntheticEvent)},tdProps:p(p({},e.tdProps),r),thProps:p(p({},e.tdProps),r)}):Cw(e.children,{})},CE=e=>{const t={style:p({},o.useContext(VS).getCellPositionStyle(e.column))};return Cw(e.children,p({},t))},SE=e=>{const t=(t,n)=>{let o="".concat(n?"k-grid-header-sticky":"");return e.sort&&e.sort.filter((e=>e.field===t)).length>0&&(o+=" k-sorted"),o},n=e.filter&&e.filter.filters||[];let r=0,i=-1;const a=e.columns.filter((e=>0===e.children.length)).map((a=>{const s=(e=>e||"text")(a.filter),l=(e=>{if(void 0===e)return;const t=n.filter((t=>t.field===e));return t.length?t[0]:void 0})(a.field),c="".concat(a.field," ").concat(e.localization.toLanguageString(yI,_I[yI]));let d=l&&l.value;void 0===d&&(d="text"===s?"":null);const u=a.filterable&&{field:a.field,title:a.filterTitle,value:d,operator:l&&l.operator,operators:gE(e.filterOperators[s]||[],e.localization),booleanValues:gE(vE,e.localization),filterType:s,ariaLabel:"reorder"===a.columnType?"":c,size:e.size},h=a.declarationIndex>=0?++i:--r,f={columnId:Gb.getFilterColumnId(a.id),navigatable:a.navigatable||e.navigatable,className:on("k-table-td",t(a.field,a.locked)||void 0),role:"gridcell",ariaLabel:"reorder"===a.columnType?void 0:c,ariaColumnIndex:a.ariaColumnIndex},m=pw(a),g={column:m,filter:e.filter,field:a.field,tdProps:f,thProps:f,render:e.cellRender};let v=null;if(u&&"reorder"!==a.columnType){const e=a.filterCell?a.filterCell:xE;v=o.createElement(kE,p(p({},g),{},{isClient:bw(e)}),o.createElement(e,p({},u)))}const y=yw(e.cells,a.cells);if(y&&y.filterCell){const e=y.filterCell,t=bw(e);return o.createElement(kE,p(p({key:h},g),{},{isClient:t,isCustom:!0}),o.createElement(e,p(p({key:h},u),{},{tdProps:f,thProps:f,index:i}),v))}return o.createElement(CE,{key:h,column:m},o.createElement(wE,p({},f),v))}));return o.createElement("tr",{className:"k-table-row k-filter-row","aria-rowindex":e.ariaRowIndex,role:"row"},a)},IE=e=>{const t=o.useRef(null),{dir:n,title:r}=e;return o.createElement(aE,{onPress:n=>{const o=t.current&&t.current.element;o&&e.onPress&&e.onPress(n.event,o)},onDrag:n=>{const o=t.current&&t.current.element;o&&e.onDrag&&e.onDrag(n.event,o)},onRelease:n=>{t.current&&t.current.element&&e.onRelease&&e.onRelease(n.event)},ref:t},o.createElement("div",{className:"k-chip k-chip-md k-chip-solid k-chip-solid-base k-rounded-md",onClick:t=>{if(t.preventDefault(),e.onSortChange){const n="asc"===e.dir?"desc":"asc";e.onSortChange(t,n)}},onContextMenu:t=>{const n={title:e.title,dir:e.dir,index:e.index};e.onContextMenu&&e.onContextMenu.call(void 0,t,{dataItem:p({},n)})},onKeyDown:t=>{(t.keyCode===Bt||t.keyCode===_t)&&(t.preventDefault(),t.stopPropagation(),e.onRemove&&e.onRemove(t))},tabIndex:0,role:"button",style:{touchAction:"none"}},o.createElement("span",null,o.createElement(vo,{name:"sort-"+n+"-small",icon:"asc"===n?fd:md,size:"small"})),o.createElement("span",{className:"k-chip-content"},o.createElement("span",{className:"k-chip-label"},r)),o.createElement("span",{className:"k-chip-actions"},o.createElement("span",{className:"k-chip-action k-chip-remove-action",onClick:t=>{t.preventDefault(),t.stopPropagation(),e.onRemove&&e.onRemove(t)}},o.createElement(vo,{name:"x-circle",icon:ud,size:"small"})))))},EE=e=>{const t=o.useContext(VS),n=Fc(),r=e.group||[],i=t=>{const n=e.columns.find((e=>e.field===t)),o=n&&(n.title||n.field);return void 0===o?t:o},a=r.map(((n,r)=>o.createElement(IE,{key:r,index:r,dir:n.dir||"asc",title:i(n.field),onRemove:n=>{((n,o)=>{const r=e.group.slice();r.splice(o,1),t.groupChange(r,n)})(n,r)},onSortChange:(o,i)=>{((n,o,r,i)=>{const a=Object.assign({},r,{dir:i}),s=e.group.slice();s.splice(o,1,a),t.groupChange(s,n)})(o,r,n,i)},onPress:t.dragLogicRef.current.pressHandler,onDrag:t.dragLogicRef.current.dragHandler,onRelease:t.dragLogicRef.current.releaseHandler,onContextMenu:t.onContextMenu})));return o.createElement("div",{ref:t.dragLogicRef.current.refGroupPanelDiv,className:"k-grouping-header",role:"toolbar","aria-label":n.toLanguageString(xI,_I[xI]),"aria-controls":e.ariaControls||""},o.createElement("div",{className:"k-chip-list k-chip-list-md",role:"none"},a),o.createElement("div",{className:"k-grouping-drop-container"},!a.length&&n.toLanguageString(eI,_I[eI]),"\xa0"))},_E=e=>{const t=o.useRef(null),n=o.useRef(null),r=o.useContext(VS);return o.useImperativeHandle(r.footerRef,(()=>({setScrollLeft:e=>{t.current&&(t.current.scrollLeft=e)},setWidth:e=>{n.current&&(n.current.style.width=e?e+"px":"")}}))),e.staticHeaders?o.createElement("div",{className:"k-grid-footer",role:"presentation"},o.createElement("div",{ref:t,className:"k-grid-footer-wrap",role:"presentation"},o.createElement("table",{ref:n,className:on("k-table k-grid-footer-table",{"k-table-md":!e.size,["k-table-".concat(ko.sizeMap[e.size]||e.size)]:e.size},e.className),role:"presentation"},o.createElement("colgroup",{ref:e=>{r.columnResizeRef.current.colGroupFooter=e},role:"presentation"},e.cols),o.createElement("tfoot",{className:"k-table-tfoot",role:"presentation"},e.row)))):o.createElement("tfoot",{className:"k-table-tfoot"},e.row)};_E.displayName="KendoReactFooter";const jE=e=>{var t;const{cellProps:n}=e,r=o.useContext(VS),i=AI(n.id),a=o.useCallback((e=>{var t;null==(t=null==r?void 0:r.cellClick)||t.call(r,e,n.dataItem,n.field)}),[r,n.dataItem,n.field]),s=o.useCallback((e=>{var t;null==(t=null==r?void 0:r.onContextMenu)||t.call(void 0,e,n.dataItem,n.field)}),[r,n.dataItem,n.field]),l="groupFooter"===n.rowType||"groupHeader"!==n.rowType?{onContextMenu:s}:{},c=r.getCellPositionStyle(n.columnPosition),d="groupFooter"!==n.rowType&&"groupHeader"!==n.rowType?{style:p(p({},null==(t=e.tdProps)?void 0:t.style),c)}:{},u=p(p(p(p({},i),l),d),{},{onClick:a}),h={onContextMenu:r.onContextMenu,onChange:r.itemChange,selectionChange:e=>{r.selectionChange({event:e,dataItem:n.dataItem,dataIndex:n.rowDataIndex,columnIndex:n.columnIndex})}};if(e.isCustom)return r.isClient||e.isClient?Cw(e.children,p({tdProps:p(p({},e.tdProps),u)},h)):Cw(e.children,p({},u));if(n.render){const t="groupHeader"!==n.rowType?o.createElement("td",p(p({},e.tdProps),u),e.content):null;return n.render.call(void 0,t,p(p({},n),h))}return e.children&&Cw(e.children,p({},u))},AE=e=>{var t,n,r;let i=null,a=null,s=null;const l=e.unstyled,c=l&&l.uGrid?l.uGrid:jw;if(null===(null==(t=e._rowSpan)?void 0:t.count))return null;if("groupFooter"===e.rowType)a={className:e.className},i=o.createElement("td",p({},a),s);else if("groupHeader"!==e.rowType){if(void 0!==e.field){const t=iw(e.field,e.dataItem);null!=t&&(s=e.intl&&e.format?e.intl.format(e.format,t):t.toString())}const t=on(c.td({selected:e.isSelected,sorted:e.isSorted,alt:e.isAlt}),e.className);a={rowSpan:null!=(r=null==(n=e._rowSpan)?void 0:n.count)?r:void 0,colSpan:e.colSpan,style:e.style,className:t,role:"gridcell","aria-colindex":e.ariaColumnIndex,"aria-selected":e.isSelected,[qC]:e.columnIndex},i=o.createElement("td",p({},a),s)}const d=ww(e),u=e.rowType||"data",h=e.cells;if(h&&h[u]){const e=h[u],t=bw(e);return o.createElement(jE,{cellProps:d,tdProps:a,isCustom:!0,isClient:t},o.createElement(e,p(p({},d),{},{tdProps:a}),s))}return o.createElement(jE,{cellProps:d,content:s,tdProps:a},i)},DE=e=>{const t=o.useContext(VS),n=Fc(),r=e.expanded?wI:bI,i=n.toLanguageString(r,_I[r]),a="rtl"===t.dir;return o.createElement("a",{onClick:n=>{var o;n.preventDefault(),null!=t&&t.itemChange&&t.itemChange({dataItem:e.dataItem,dataIndex:e.dataIndex,syntheticEvent:n,field:void 0,value:!e.expanded}),null==(o=null==t?void 0:t.dispatchGroupExpand)||o.call(t,{type:pb.TOGGLE,group:e.group})},href:"#",tabIndex:-1,"aria-label":i},o.createElement(vo,{name:e.expanded?"caret-alt-down":a?"caret-alt-left":"caret-alt-right",icon:e.expanded?nd:a?od:td}))},NE=e=>{var t;const{cellProps:n}=e,r=o.useContext(VS),i=AI(n.id),a=o.useCallback((e=>{e.isDefaultPrevented()||e.keyCode===At&&null!=r&&r.itemChange&&(e.preventDefault(),r.itemChange({dataItem:n.dataItem,dataIndex:n.dataIndex,syntheticEvent:e,field:void 0,value:!n.expanded}),null==r||r.dispatchGroupExpand({type:pb.TOGGLE,group:n.group},e))}),[r,n.dataItem,n.dataIndex,n.expanded,n.group]),s=e.addKeyDownHandler?{onKeyDown:a}:{},l=o.useCallback((e=>{null!=r&&r.onContextMenu&&r.onContextMenu.call(void 0,e,n.dataItem,n.field)}),[r,n.dataItem,n.field]),c=r.getCellPositionStyle(n.columnPosition),d={style:p(p({},null==(t=e.tdProps)?void 0:t.style),c)},u=p(p(p({},i),s),{},{onContextMenu:l},d),h={onContextMenu:r.onContextMenu,onChange:r.itemChange,selectionChange:e=>{r.selectionChange({event:e,dataItem:n.dataItem,dataIndex:n.rowDataIndex,columnIndex:n.columnIndex})}};if(e.isCustom)return r.isClient||e.isClient?Cw(e.children,p({tdProps:e.tdProps?p(p({},e.tdProps),u):null,td2Props:e.td2Props?p(p({},e.td2Props),{},{onContextMenu:l}):null},h)):Cw(e.children,p({},u));const f=e.renderSecondCell?o.createElement("td",p(p({},e.td2Props),{},{onContextMenu:l})):null;if(n.render){let t=null;return e.renderFirstCell&&(t=e.renderSecondCell?o.createElement(o.Fragment,null,o.createElement("td",p(p({},e.tdProps),u),e.content),e.renderSecondCell&&f):o.createElement("td",p(p({},e.tdProps),u),e.content)),n.render.call(void 0,t,p(p({},n),h))}return o.createElement(o.Fragment,null,e.children&&Cw(e.children,p({},u)),f)},TE=e=>{const{columnIndex:t,level:n,columnsCount:r,rowType:i,dataItem:a,field:s,expanded:l,render:c,ariaColumnIndex:d}=e,u=s||"";let h=null,f=null,m=null,g=!1,v=!1,y=!1;const x=ww(e);void 0===t||void 0===n||t<n||void 0===r||"groupHeader"!==i||void 0===a[u]?(v=!0,h={style:e.style,key:"g"+t,className:on("k-table-td","k-group-cell",{"k-grid-content-sticky":e.locked}),role:"gridcell"}):t===n&&(v=!0,h={className:"k-table-td",style:e.style,colSpan:r-t,key:"g-colspan",role:"gridcell","aria-selected":!1,"aria-expanded":l,"aria-colindex":d},m=o.createElement("p",{className:"k-reset"},o.createElement(DE,p({},x)),a[u]instanceof Date&&a[u].toString?a[u].toString():a[u]),g=!0,e.locked&&(y=!0,h=p(p({},h),{},{colSpan:0,style:p(p({},e.style),{},{position:"sticky",zIndex:2})}),f={className:"k-table-td",role:"gridcell",colSpan:r-t,style:{borderLeftWidth:0,borderRightWidth:0}}));const b=e.rowType||"data",w=e.cells;if(w&&w.group&&w.group[b]){const e=w.group[b],t=bw(e);return o.createElement(NE,{cellProps:x,tdProps:h,td2Props:f,isCustom:!0,isClient:t,addKeyDownHandler:!0},o.createElement(e,p(p({},x),{},{tdProps:h,td2Props:f}),m))}const k=v?o.createElement("td",p(p({},h),{},{key:null==h?void 0:h.key}),m):null;return o.createElement(NE,{cellProps:x,addKeyDownHandler:g,tdProps:h,td2Props:f,renderFirstCell:v,renderSecondCell:y,content:m},k)};const PE=e=>{var t;const n=o.useContext(VS),{reorderRowDropTargetRef:r,reorderRowDragTargetRef:i,activeDragRowDataItemRef:a}=n,{rowType:s,isAltRow:l,isInEdit:c,isSelected:d}=e,u=uo(),h=u&&u.uGrid?u.uGrid:jw,f=on(h.tr({selected:d,isHeader:"groupHeader"===s,isFooter:"groupFooter"===s,isMaster:"groupHeader"!==s&&"groupFooter"!==s,isAltRow:l,isInEdit:c})),m=o.useRef(null);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{onDragEnter:qp,onDragOver:qp,onDragLeave:qp,onDrop:qp},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{onDragEnter:r=qp,onDragOver:i=qp,onDragLeave:a=qp,onDrop:s=qp}=t,{context:l=rE}=n,{setDrop:c,registerDrop:d,deregisterDrop:u}=o.useContext(l),[,p]=oE([null,c]),h=o.useCallback((()=>e.current&&e.current.element?e.current.element:e.current),[e]),f=o.useRef(null);o.useImperativeHandle(f,(()=>({element:h(),onDragEnter:m,onDragOver:g,onDragLeave:v,onDrop:y,data:e.current})));const m=o.useCallback((t=>{p(f,{target:e.current,event:t}),r(t)}),[p,e,r]),g=o.useCallback((e=>{i(e)}),[i]),v=o.useCallback((t=>{p(null,{target:e.current,event:t}),a(t)}),[p,e,a]),y=o.useCallback((t=>{p(null,{target:e.current,event:t}),s(t)}),[p,e,s]),x=o.useCallback((()=>(null==d||d(f),()=>{null==u||u(f)})),[u,d]);tn(x,[x])}(m,{onDragOver:t=>{if(e.isRowReorderable&&a.current){const e=t.originalEvent.target;r.current=e.closest(".k-table-row")}},onDrop:()=>{i.current&&e.isRowReorderable&&(i.current.style.userSelect="")}});const g={onClick:t=>n.rowClick(t,e.dataItem),onDoubleClick:t=>n.rowDblClick(t,e.dataItem)},v=p(p({ref:m,id:e.id},g),{},{className:f,style:{height:e.rowHeight?e.rowHeight+"px":"",visibility:e.isHidden?"hidden":"",userSelect:null==(t=null==i?void 0:i.current)?void 0:t.style.userSelect},role:"row","aria-rowindex":e.ariaRowIndex,"absolute-row-index":e.absoluteRowIndex,[HC]:"data"===e.rowType?e.dataIndex:void 0}),y=e.rowType||"data",x=e.rows;if(x&&x[y]){const t=x[y];return o.createElement(t,p(p({key:e.absoluteRowIndex},e),{},{trProps:v}),e.children)}const b=o.createElement("tr",p({key:e.absoluteRowIndex},v),e.children);return e.render?e.render.call(void 0,b,p(p({},e),g)):b},ME=e=>{const t=o.useContext(VS),n=nn(),r=Fc(),i=e.id||n,a=[o.createElement("span",{key:0,className:"k-checkbox-wrap"},o.createElement("input",{id:i,type:"checkbox",tabIndex:-1,className:"k-checkbox k-checkbox-md k-rounded-md","aria-label":r.toLanguageString(SI,_I[SI]),"aria-checked":e.selectionValue,checked:e.selectionValue,onChange:n=>t.onHeaderSelectionChange({field:e.field,syntheticEvent:n})})),e.columnMenuWrapperProps.columnMenu&&o.createElement(VI,p({},e.columnMenuWrapperProps))];return e.render?e.render.call(void 0,a,e):a},OE=e=>{const t=Fc();return o.createElement(o.Fragment,null,e.children||t.toLanguageString(qS,_I[qS]))};OE.displayName="KendoReactGridNoRecords";const RE=e=>{const t=o.useContext(VS),n=AI(e.id),r=t.getCellPositionStyle(e.column),i=p(p({},n),{},{style:p({},r)});return e.isCustom&&(t.isClient||e.isClient)?Cw(e.children,p({tdProps:p(p({},e.tdProps),i)},n)):Cw(e.children,p({},i))},FE=e=>{const{column:t,index:n,cells:r}=e,i={colSpan:1!==t.colSpan?t.colSpan:void 0,className:on("k-table-td",t.locked&&void 0!==t.left?"k-grid-footer-sticky":""),role:"gridcell","aria-colindex":t.ariaColumnIndex},a=p({field:t.field,ariaColumnIndex:t.ariaColumnIndex},i),s=pw(t),l=yw(r,t.cells);if(l&&l.footerCell){const t=l.footerCell,r=bw(t);return o.createElement(RE,{key:n,id:e.id,tdProps:i,isCustom:!0,isClient:r,column:s},o.createElement(t,p(p({},a),{},{tdProps:i,index:n})))}return o.createElement(RE,{key:n,id:e.id,column:s},t.footerCell&&o.createElement(t.footerCell,p({},a))||o.createElement("td",p({},i)))},LE=e=>o.createElement("tr",{className:"k-table-row",role:"row","aria-rowindex":e.ariaRowIndex},(e=>e.filter((t=>!((e,t)=>{let n=e[t.parentIndex];for(;n;){if(n.footerCell)return!0;n=e[n.parentIndex]}return!1})(e,t)&&(!!t.footerCell||!(t.children&&t.children.length>0)))))(e.columns).map(((t,n)=>{const r=Gb.generateNavigatableId("".concat(n,"-footercell"),e.idPrefix,"nodata");return o.createElement(FE,{key:r,column:t,id:r,index:n,cells:e.cells})}))),zE=e=>(e=>{let{buttonCount:t=10,info:n=!0,type:o="numeric",pageSizes:r,previousNext:i=!0,responsive:a,navigatable:s,pageSizeValue:l}=e;return{buttonCount:t,info:n,pageSizes:!0===r?[5,10,20]:r||void 0,previousNext:i,responsive:!1!==a,navigatable:!1!==s,type:o,pageSizeValue:l}})(!0===e?{}:e),BE={name:"@progress/kendo-react-grid",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:1745410806,version:"10.2.0",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"},VE=e=>{const t=o.useContext(VS),n=AI(e.id),r=o.useCallback((n=>{null!=t&&t.onContextMenu&&t.onContextMenu.call(void 0,n,e.dataItem)}),[t,e.dataItem]);return Cw(e.children,p({onContextMenu:r},n))},HE=e=>{const{colSpan:t,ariaColIndex:n,dataItem:r,dataIndex:i,id:a}=e,s=e.unstyled,l=s&&s.uGrid?s.uGrid:jw;return o.createElement(VE,{id:a,dataItem:r},o.createElement("td",{className:on(l.detailTd({})),colSpan:t,"aria-colindex":n,role:"gridcell"},o.createElement(e.detail,{dataItem:r,dataIndex:i})))},qE=e=>{const t=e.unstyled,n=t&&t.uGrid?t.uGrid:jw;return o.createElement("td",{className:on(n.hierarchyTd({})),role:"gridcell"})},UE=e=>{const t=o.useContext(VS),n=t.headerRef.current,r=n&&n.table()&&n.table().clientWidth,i=jw;return o.createElement("div",{key:"no-records",className:on(i.noRecords({})),style:{width:r}},o.createElement("div",{className:on(i.noRecordsTemplate({})),[Cb]:Gb.generateNavigatableId("no-records",Gb.getIdPrefix(t.navigationStateRef))},e.children))};UE.displayName="KendoReactGridNoRecordsContainer";const GE=e=>{const t=o.useContext(VS);return o.createElement("colgroup",{ref:e=>{t.columnResizeRef.current.colGroupMain=e,t.columnResizeRef.current.initWidths()}},e.children)},WE=e=>{var t;const{onRelease:n,childRef:r}=e,{enabled:i,drag:a,mode:s,cell:l}=Bw(e.selectable),c=o.useRef(null),d=o.useRef(null),u=o.useRef({clientX:0,clientY:0,scrollX:0,scrollY:0,pressedElement:null}),[h,f]=o.useState(null),m=o.useRef(void 0),g=o.useRef(!1),v=o.useRef(!1),y=o.useCallback((e=>{const{event:t}=e;if(v.current=(e=>{let t=e;for(;t;){if(t.hasAttribute(Pw))return!0;t=t.parentElement}return!1})(t.originalEvent.target),v.current||!c.current)return;m.current=(e=>{if(!e||!zw)return null;let t=e.parentElement;for(;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}})(c.current.element);const n=c.current.element&&c.current.element.ownerDocument;if(!n)return;t.originalEvent.stopImmediatePropagation();const o=n.elementFromPoint(t.clientX,t.clientY);u.current={clientY:t.clientY,clientX:t.clientX,scrollX:t.scrollX,scrollY:t.scrollY,pressedElement:o}}),[]),x=o.useCallback((e=>{const{event:t}=e,{clientX:n,clientY:o}=u.current;if(!v.current&&a&&"single"!==s&&((Math.abs(o-t.clientY)>5||Math.abs(n-t.clientX)>5)&&(g.current=!0),t.originalEvent.stopImmediatePropagation(),g.current)){const e=(e=>{if(e&&e.ownerDocument&&e!==e.ownerDocument.body){const t=e.getBoundingClientRect();return{left:t.left-e.scrollLeft,top:t.top-e.scrollTop}}return{left:0,top:0}})(m.current);f({top:Math.min(o,t.clientY)-e.top,left:Math.min(n,t.clientX)-e.left,width:Math.abs(t.clientX-n),height:Math.abs(t.clientY-o)})}}),[f,a,s]),b=o.useCallback((e=>{const{event:t}=e,{clientX:o,clientY:r,scrollX:i,scrollY:a,pressedElement:p}=u.current;if(v.current||!c.current)return;const h=c.current.element&&c.current.element.ownerDocument;if(h){if(t.originalEvent.stopImmediatePropagation(),g.current){const e=t.scrollY-a,c=t.scrollX-i,u=Math.min(r,t.clientY),f=Math.min(o,t.clientX),m=Math.max(r,t.clientY),g=Math.max(o,t.clientX),v=d.current;if(!v)return;v.style.visibility="hidden";const y=h.elementFromPoint(f,u),x=e>0||c>0?p:y,b=h.elementFromPoint(g,m);if(v.style.visibility="",!x||!b)return;const w=Ow(x,"TD"),k=Ow(w,"TR"),C=Ow(b,"TD"),S=Ow(C,"TR"),I=Fw(w),E=Rw(k),_=Fw(C),j=Rw(S);void 0!==I&&void 0!==E&&void 0!==_&&void 0!==j&&n({nativeEvent:t.originalEvent,startRowIndex:E,startColIndex:I,endRowIndex:j,endColIndex:_,altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,mode:s,cell:l,isDrag:!0})}else{const e=h.elementFromPoint(o,r);if(!e)return;const i=Ow(e,"TD"),a=Ow(e,"TR"),c=Fw(i),d=Rw(a);i&&a&&void 0!==d&&void 0!==c&&n({nativeEvent:t.originalEvent,startRowIndex:d,startColIndex:c,endRowIndex:d,endColIndex:c,altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,mode:s,cell:l,isDrag:!1})}f(null),g.current=!1,u.current={clientX:0,clientY:0,scrollX:0,scrollY:0,pressedElement:null}}}),[f,s,l,n]),w=(e=>{const t=o.useCallback((()=>e.current&&e.current.element?e.current.element:e.current),[e]);return o.useCallback((()=>{const e=t();return e&&e.ownerDocument||document}),[t])})(d);return i?o.createElement(o.Fragment,null,o.createElement(aE,{onPress:y,onDrag:x,onRelease:b,ref:c,childRef:r},e.children),h&&Io.createPortal(o.createElement("div",{ref:d,style:p(p({},h),{},{position:"fixed"}),className:"k-marquee k-marquee-color"}),null==(t=w())?void 0:t.body)):o.cloneElement(o.Children.only(e.children),{ref:r})},KE=e=>{const t=o.useContext(VS);return o.createElement(WE,{selectable:e.selectable,onRelease:t.selectionRelease,childRef:e=>{t.tableElementRef.current=e,t.headTableElementRef.current=e}},o.createElement("table",{ref:t.headTableElementRef,className:e.tableClassName},e.children))};class YE extends o.PureComponent{constructor(e){super(e),this.state={height:0,visible:!1,left:0,top:0},this.hiddenElementRef=o.createRef()}render(){const e=this.hiddenElementRef.current,t=this.state.visible&&Ro&&(0,Io.createPortal)(o.createElement("div",{className:"k-grouping-dropclue",style:{zIndex:1e4,display:"block",top:this.state.top+"px",left:this.state.left+"px",height:this.state.height+"px"}}),e&&e.ownerDocument?e.ownerDocument.body:document.body);return o.createElement(o.Fragment,null,t,o.createElement("div",{ref:this.hiddenElementRef,style:{display:"none"}}))}}const XE=e=>{const t=o.useContext(VS);return o.createElement(YE,{ref:t.dragLogicRef.current.refDropElementClue})};class QE extends o.PureComponent{constructor(e){super(e),this.elementRef=o.createRef(),this.state={visible:!1,top:0,left:0,innerText:"",status:"k-i-cancel"},this.hiddenElementRef=o.createRef()}get element(){return this.elementRef.current||this.hiddenElementRef.current}render(){const e=this.hiddenElementRef.current,{status:t}=this.state,n=this.state.visible&&Ro&&(0,Io.createPortal)(o.createElement("div",{ref:this.elementRef,className:"k-header k-drag-clue",style:{display:"block",position:"absolute",zIndex:2e4,padding:"8px 12px",top:this.state.top+"px",left:this.state.left+"px"}},o.createElement(vo,{className:"k-drag-status",name:t,icon:"k-i-cancel"===t?cd:pd}),this.state.innerText),e&&e.ownerDocument?e.ownerDocument.body:document.body);return o.createElement(o.Fragment,null,n,o.createElement("div",{ref:this.hiddenElementRef,style:{display:"none"}}))}}const JE=e=>{const t=o.useContext(VS);return o.createElement(QE,{ref:t.dragLogicRef.current.refDragElementClue})},ZE=(e,t,n)=>{const[r,i]=o.useState(e),a=o.useCallback(((e,t)=>{i(e)}),[n,i]);return[r,a]};var $E=(e=>(e[e.add=0]="add",e[e.remove=1]="remove",e))($E||{});const e_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=o.useRef(e),n=o.useCallback((e=>{switch(e.type){case 0:t.current.push(e.item);break;case 1:{const n=t.current.indexOf(e.item);t.current.splice(n,1);break}}}),[]);return[t.current,n]},t_=e=>{const{context:t=rE}=e,[n,r]=ZE(null),[i,a]=ZE(null),[s,l]=e_([]),[c,d]=e_([]);return o.createElement(t.Provider,{value:{drag:n,setDrag:r,drop:i,setDrop:a,drags:s,registerDrag:e=>{l({type:$E.add,item:e})},deregisterDrag:e=>{l({type:$E.remove,item:e})},drops:c,registerDrop:e=>{d({type:$E.add,item:e})},deregisterDrop:e=>{d({type:$E.remove,item:e})}}},e.children)};t_.displayName="KendoReactDragAndDrop";const n_=e=>{const t=o.useContext(VS);return o.createElement(o.Fragment,null,e.rowReorderable?o.createElement(t_,null,e.children):Cw(e.children,{ref:t.tableBodyElementRef}))};function o_(e){const t=e.replace(/^pager\.([a-z])/,((e,t)=>"grid.pager"+t.toUpperCase()));return{messageKey:t,defaultMessage:_I[t]}}const r_=e=>{const t=o.useContext(VS);return Cw(e.children,{onPageChange:t.pagerPageChange,messagesMap:o_,dir:t.dir})},i_=e=>{const t=o.useContext(VS);return o.createElement(WE,{selectable:e.selectable,onRelease:t.selectionRelease,childRef:e=>{t.tableElementRef.current=e}},o.createElement("table",{className:e.tableClassName,role:"presentation",style:e.tableStyle,ref:t.tableElementRef},e.children))},a_=e=>{const t=o.useContext(VS);return Cw(e.children,{ref:t.elementRef,onKeyDown:t.onKeyDown,onFocus:t.onFocus})},s_=e=>{const t=o.useContext(VS);return Cw(e.children,{ref:t.containerElementRef,onScroll:t.scrollHandler})},l_=e=>{const t=o.useContext(VS);return o.createElement("div",{style:e.isVirtualScroll?{height:t.vsRef.current.containerHeight+"px"}:{}})},c_=e=>{const t=o.useContext(VS);if(t.isClient||e.isClient){const n=t.getCellPositionStyle(e.columnPosition);return e.children&&Cw(e.children,{style:p(p({},e.style),n),onContextMenu:t.onContextMenu,onChange:t.itemChange,selectionChange:n=>{t.selectionChange({event:n,dataItem:e.dataItem,dataIndex:e.rowDataIndex,columnIndex:e.columnIndex})}})}return e.children},d_="before",u_="after",p_="forbidden";const h_=e=>null==e?void 0:e.ownerDocument.documentElement,f_=e=>null==e?void 0:e.ownerDocument.defaultView,m_={zIndex:"19000",position:"absolute",display:"none",visibility:"hidden"},g_={zIndex:"20000",display:"flex",position:"fixed",visibility:"hidden",pointerEvents:"none"},v_=e=>{const{rowReorderSettings:t,columns:n,unstyled:r}=e,{rowReorder:i,reorderRowDragTargetRef:a,reorderRowDropTargetRef:s,activeDragRowDataItemRef:l,tableBodyElementRef:c}=o.useContext(VS),[d,u]=o.useState(!1),[p,h]=o.useState(cd),f=o.useRef(null),m=o.useRef(null),g=o.useRef(null),v=o.useRef(null),y=o.useRef(!1),x=o.useRef(null),b="object"==typeof t?t.enabled:t;o.useEffect((()=>{c.current=f.current}),[]),iE(f,{onPress:e=>{const t=e.originalEvent.target;t.closest(".k-drag-cell")&&(v.current=e.offsetY,y.current=!0,a.current=t.closest(".k-table-row"))},onDragStart:e=>{!y.current||!b||!l.current||(a.current&&(a.current.style.userSelect="none"),u(!0))},onDrag:e=>{if(!y.current&&!m.current)return;const{clientX:t,clientY:n}=e,o={x:t,y:n-v.current};m.current&&(m.current.style.left="".concat(o.x,"px"),m.current.style.top="".concat(o.y,"px"),m.current.style.visibility="visible"),w(e)},onDragEnd:e=>{var t;if(!b||!l.current)return;u(!1);const n=Number(null==(t=s.current)?void 0:t.getAttribute("absolute-row-index"));i(e,n,x.current),y.current=!1}});const w=e=>{x.current=I(e),k()},k=()=>{var e;if(x.current===p_||!s.current)return void C();S();const t=function(e){const{clientTop:t,clientLeft:n}=h_(e),{pageYOffset:o,pageXOffset:r}=f_(e),{top:i,left:a}=e.getBoundingClientRect();return{top:i+o-t,left:a+r-n}}(s.current);let n=t.top;const o=t.left+((null==(e=g.current)?void 0:e.offsetWidth)||0)/2;x.current===u_&&(n+=s.current.offsetHeight),g.current&&(g.current.style.top="".concat(n,"px"),g.current.style.left="".concat(o,"px"),g.current.style.visibility="visible")},C=()=>{g.current&&(g.current.style.display="none")},S=()=>{g.current&&(g.current.style.display="")},I=e=>{if(s.current===a.current||!s.current)return p_;if(((e,t)=>(null==e?void 0:e.parentElement)!==(null==t?void 0:t.parentElement))(s.current,a.current))return p_;const t=s.current.getBoundingClientRect(),n=t.height/2,o=e.clientY,r=t.top;let i=null;o<r+n?i=d_:o>=r+t.height-n&&(i=u_),(i===d_&&s.current===a.current.nextElementSibling||i===u_&&s.current===a.current.previousElementSibling)&&(i=p_);return h(i===p_?cd:xd),i},E=o.useMemo((()=>{if(l.current){if(t.dragClue)return"string"==typeof t.dragClue?t.dragClue:t.dragClue(l.current);{const e=n.find((e=>!e.hidden&&"data"===e.columnType));return l.current[e.field]}}}),[l.current]);return o.createElement(o.Fragment,null,d&&Io.createPortal(o.createElement(o.Fragment,null,o.createElement("div",{ref:g,style:m_,className:on(r.rowReorder({dropIndicatorMain:!0,dropIndicatorDirection:!0}))},o.createElement("div",{className:"k-drop-hint-start"}),o.createElement("div",{className:"k-drop-hint-line"})),o.createElement("div",{ref:m,style:g_,className:on(r.rowReorder({dragClueMain:!0,dragClueOperation:!0}))},o.createElement(ho,{className:"k-drag-status",icon:p}),E)),document.body),Cw(e.children,{ref:f}))};const y_=()=>o.createElement(ho,{icon:ad}),x_=e=>{const{cellProps:t,rowReorderable:n}=e,{id:r,dataItem:i}=t,a=Fc(),s=o.useContext(VS),l=AI(r),c=n,d=a.toLanguageString(EI,_I[EI]),u=o.useCallback((e=>{null!=s&&s.onContextMenu&&s.onContextMenu.call(void 0,e,t.dataItem,t.field)}),[s,t.dataItem,t.field]);return e.children&&Cw(e.children,p(p({"aria-label":d},l),{},{onMouseDown:()=>c?s.activeDragRowDataItemRef.current=i:null,onContextMenu:u}))},b_=e=>{const t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),n=e.unstyled,r=n&&n.uGrid?n.uGrid:jw,i=on(r.td({selected:e.isSelected,sorted:e.isSorted,alt:e.isAlt}),e.className),a={colSpan:e.colSpan,style:e.style,className:i,role:"gridcell","aria-colindex":e.ariaColumnIndex,"aria-selected":e.isSelected,[qC]:e.columnIndex},s=on(null==a?void 0:a.className,["k-drag-cell","".concat(e.rowReorderable?"":"k-disabled")]);return o.createElement(x_,{rowReorderable:e.rowReorderable,cellProps:t},o.createElement("td",p(p({},a),{},{style:{touchAction:"none"},"aria-disabled":!e.rowReorderable,className:s}),o.createElement(y_,null)))},w_=e=>o.createElement(HI,p({},e)),k_={pulsing:2,"infinite-spinner":3,"converging-spinner":4},C_={pulsing:"k-loader-pulsing-2","infinite-spinner":"k-loader-spinner-3","converging-spinner":"k-loader-spinner-4"},S_=o.forwardRef(((e,t)=>{const{className:n,style:r}=e,i=o.useRef(null),a=o.useCallback((()=>{i.current&&i.current.focus()}),[]);o.useImperativeHandle(t,(()=>({element:i.current,focus:a})));const s=o.useMemo((()=>e.size||I_.size),[e.size]),l=o.useMemo((()=>e.themeColor||I_.themeColor),[e.themeColor]),c=o.useMemo((()=>e.type||I_.type),[e.type]),d=o.useMemo((()=>on("k-loader",{"k-loader-sm":"small"===s,"k-loader-md":"medium"===s,"k-loader-lg":"large"===s,"k-loader-primary":"primary"===l,"k-loader-secondary":"secondary"===l,"k-loader-tertiary":"tertiary"===l,"k-loader-info":"info"===l,"k-loader-success":"success"===l,"k-loader-warning":"warning"===l,"k-loader-error":"error"===l,"k-loader-dark":"dark"===l,"k-loader-light":"light"===l,"k-loader-inverse":"inverse"===l},n,C_[c])),[s,l,n,c]),u=new Array(k_[c]);return u.fill(0,0,k_[c]),o.createElement("div",{className:d,style:r},o.createElement("div",{className:"k-loader-canvas"},u.map(((e,t)=>o.createElement("span",{key:t,className:"k-loader-segment"})))))}));S_.propTypes={className:Et.string,style:Et.object,type:Et.oneOf(["pulsing","infinite-spinner","converging-spinner"]),size:Et.oneOf(["small","medium","large"]),themeColor:Et.oneOf(["primary","secondary","tertiary","info","success","warning","error","dark","light","inverse"])};const I_={size:"medium",themeColor:"primary",type:"pulsing"};S_.displayName="KendoLoader";const E_={height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},__=e=>{var t;return o.createElement(o.Fragment,null,e.showLoader?null!=(t=e.loader)?t:o.createElement("div",{className:"k-loading-mask"},o.createElement("div",{className:"k-loading-color"}),o.createElement("div",{style:E_},o.createElement(S_,{size:"large",type:"converging-spinner"}))):null)},j_=e=>o.Children.toArray(e.children).some((e=>!(!e||!e.type||"KendoReactGridColumn"!==e.type.displayName)&&e.props.hidden)),A_=(e,t)=>{const n=p(p({},(e=>{const t=Bw(e.selectable),n=FC(e.editable),o=e.sortable&&zS(e.sortable),r=e.pageable&&zE(e.pageable);return{cells:!!e.cells,detail:!!e.detail,cellRender:!!e.cellRender,rows:!!e.rows,rowRender:!!e.rowRender,filterCellRender:!!e.filterCellRender,headerCellRender:!!e.headerCellRender,editableInline:"inline"===n.mode,selectionMultiple:t.enabled&&"multiple"===t.mode,selectionDrag:t.enabled&&t.drag,columnMenu:!!e.columnMenu,filterOperators:!!e.filterOperators,groupable:!!e.groupable,group:!!e.group,groupExpand:!!e.groupExpand,customPager:!!e.pager,clipboard:!!e.clipboard,contextMenu:!!e.contextMenu,serverGrid:!e.isClient,scrollableVirtual:"virtual"===e.scrollable,pageableInput:!(!e.pageable||"input"!==r.type),sortableMultiple:!(!e.sortable||"multiple"!==o.mode),hiddenColumns:j_(e)}})(e)),(e=>p(p(p(p({},(e=>({lockedColumn:e.some((e=>e.locked))}))(e)),(e=>({multiColumn:e.some((e=>e.children&&e.children.length>0))}))(e)),(e=>({columnCellTemplate:e.some((e=>"data"===e.columnType&&(e.cells||e.cell||e.headerCell||e.footerCell||e.filterCell)))}))(e)),(e=>({columnMenu:e.some((e=>e.columnMenu))}))(e)))(t));return Object.keys(n).filter((e=>!0===n[e]))};const D_=["detail","cells","rows"],N_=o.forwardRef(((e,t)=>{var n,r,i,a,l,c,d,u;const h=e.id+"-role-element-id",f=e.navigatable?h:"";let m=e.columnsState||[];const g=e=>{const t=e.filter((e=>e&&e.type&&"KendoReactGridColumn"===e.type.displayName));return sw(t,m,{prevId:0,idPrefix:f})},v=e=>{const t=(()=>{const e=[],t=(n,o)=>null==n?void 0:n.forEach((n=>{const r=n.hidden||o;e.push(p(p({},n),{},{hidden:r})),t(n.children,r)}));return t(m,!1),e})();return e.filter((e=>{var n;return!e.hidden&&!(null!=(n=t.find((t=>t.id===e.id)))&&n.hidden)}))},y=(t,n)=>{var o;t.filter((t=>e.selectedField&&t.field===e.selectedField||"checkbox"===t.columnType)).forEach((e=>{e.width=e.width||"50px",e.cell=e.cell||NI,e._type="edit",e.headerCell=e.headerCell||ME})),void 0!==P&&t.filter((e=>"reorder"===e.columnType)).forEach((e=>{e.width=e.width||"50px",e.cell=e.cell||b_,e.headerCell=e.headerCell||w_,e.sortable=!1,e.filterable=!1,e.editable=!1}));const r=mw(m);((e,t)=>{const n=e=>{var o;const r=t.find((t=>t.id===e.id));return r?(r.children=null==(o=e.children)?void 0:o.map(n),r):hw(e)};m=e.filter((e=>-1===e.parentIndex)).map(n)})(t,r);const i={id:"",resizable:!0,width:"32px",title:" ",declarationIndex:-1,orderIndex:-1,children:[],parentIndex:-1,depth:0,colSpan:0,headerColSpan:0,rowSpan:0,left:0,right:0,index:0,rightBorder:!1,ariaColumnIndex:0,isAccessible:!0};let a=0;if((e.expandField||V.enabled)&&e.detail){const n=p(p({},i),{},{_type:"expand",id:Gb.generateNavigatableId("".concat(a++),"expand","column"),cell:MI,field:null!=(o=V.column)?o:e.expandField,headerClassName:on(T.hierarchyCell({}))});t.unshift(n),m.unshift(r.find((e=>e.id===n.id))||hw(n))}for(let s=0;s<n;s++){const n=p(p({},i),{},{isAccessible:!1,cell:TE,id:Gb.generateNavigatableId("".concat(a++),"group","column"),field:"value",locked:e.lockGroups});t.unshift(n),m.unshift(r.find((e=>e.id===n.id))||hw(n))}t.slice(a).forEach((e=>{e.parentIndex>=0&&(e.parentIndex+=a),e.rowSpannable=void 0!==e.rowSpannable?kw(e.rowSpannable):K}))},x=()=>{var t;return Array.isArray(e.data)?O.length===e.total:!!O&&e.total===(null==(t=e.data)?void 0:t.total)},b=()=>e.isClient?S:I,w=t=>{const n=[];let o=null,r=0;if(te.forEach(((e,i)=>{const a=parseFloat((e.width||"").toString())||10;if(r)return r--,void(o&&(o.width+=a));const s=Math.min(((e,t)=>"function"==typeof e.colSpan?e.colSpan({dataItem:t,column:e}):e.colSpan||1)(e,t),te.length-i);r=s-1,o={width:a,colSpan:s,columnIndex:i},n.push(o)})),e.columnVirtualization){const t=_.current||0,o=j.current||parseFloat(((e.style||{}).width||"").toString());return function(e){const{cellModels:t,columns:n=[],tableViewPortWidth:o,scrollLeft:r}=e;let i=0,a=t.length-1,s=0,l=0;for(let u=0;u<t.length;u++)if(!n[t[u].columnIndex].locked&&(s=l,l+=t[u].width||10,l>=r)){i=u;break}for(let u=i;u<t.length;u++)if(!n[t[u].columnIndex].locked){if(!(s<o+r))break;s+=t[u].width||10,a=u}i>0&&i--,a<t.length-1&&a++;let c=0,d=0;for(let u=0;u<i;u++)n[t[u].columnIndex].locked||(c+=t[u].colSpan);for(let u=a+1;u<t.length;u++)n[t[u].columnIndex].locked||(d+=t[u].colSpan);return t[i].colSpan+=c,t[a].colSpan+=d,t.slice(i,a+1)}({cellModels:n,columns:te,tableViewPortWidth:o,scrollLeft:t})}return n};let k,C=[],S=[],I=[],E=[[]];const _=e.scrollLeftRef||{current:0},j=e.widthRef||{current:0},A=e.localization||new Oc(e.language),D=e.intl||new Pc(null!=(n=e.locale)?n:"en"),N=e.unstyled,T=N&&N.uGrid?N.uGrid:jw,P=xw(e.rowReorderable),M=!0===e.autoProcessData?{group:!0,sort:!0,filter:!0,search:!0,page:!0}:e.autoProcessData;let O,R;if(Array.isArray(e.data)?(O=e.data,R=null!=(r=e.total)?r:O.length):(O=(null==(i=e.data)?void 0:i.data)||[],R=null!=(c=null!=(l=e.total)?l:null==(a=e.data)?void 0:a.total)?c:O.length),M){const{data:t,total:n}=ub(O,p({group:M.group?e.group:void 0,sort:M.sort?e.sort:void 0,filter:Aw(M.filter?e.filter:void 0,M.search?e.search:void 0)},M.page?{take:e.take,skip:e.skip}:{}));O=t,R=null!=(d=e.total)?d:n}const{size:F="medium"}=e,L="object"==typeof e.groupable&&e.groupable.footer||"none",z="virtual"===e.scrollable,B=!0===e.groupable||"object"==typeof e.groupable&&!1!==e.groupable.enabled,V=Dw(!!e.detail),H=hb("object"==typeof e.groupable&&!1!==e.groupable.enabled?e.groupable.expandable:e.groupable),{resolvedGroupsCount:q,flattedData:U}=((e,t,n,o,r,i,a)=>{const s=[];return{flattedData:s,resolvedGroupsCount:aw(s,O,e,{index:t},void 0!==n,o,r,i,H.defaultExpand,a)}})(L,e.skip||0,e.group,e.expandField,e.detailExpand,e.groupExpand,e.dataItemKey);C=U;const G=(()=>{const{rowHeight:t,detailRowHeight:n,detail:o,expandField:r}=e,i=x();return!(void 0!==t&&t>0)||B&&!i||o&&r&&(!(void 0!==n&&n>0)||!i)?WC:GC})();G===GC&&x()&&(k=C.slice(e.skip||0,(e.skip||0)+((void 0!==e.take?e.take:e.pageSize)||0)));const W=Bw(e.selectable||!!e.selectedField),K=kw(e.rowSpannable),Y=W&&W.drag?"none":void 0,X=o.useMemo((()=>o.Children.toArray(e.children)),[e.children]);((t,n)=>{var o;S=g(t),0===S.filter((e=>!e.hidden)).length&&(S=function(e,t,n,o){const r=lw(e),i=[];if(r.length>0){let e=r[0];if(t)for(let n=0;n<t.length;n++)e=e.items&&e.items[0];Object.getOwnPropertyNames(e).forEach((e=>{e!==n.column&&i.push(Object.assign({id:Gb.generateNavigatableId("".concat(o.prevId++),o.idPrefix,"column"),declarationIndex:-1,parentIndex:-1,depth:0,colSpan:0,headerColSpan:0,rowSpan:0,index:0,columnType:"data",left:0,right:0,rightBorder:!1,children:[],ariaColumnIndex:0,isAccessible:!0},Gy,{field:e}))}))}return i}(O,e.group,{column:null!=(o=V.column)?o:e.expandField},{prevId:0,idPrefix:f})),y(S,n),S=v(S),E=function(e,t){const n=[[]];let o=0;for(let a=e.length-1;a>=0;a--)o=Math.max(o,e[a].depth),e[a].headerColSpan=e[a].headerColSpan||1,e[a].children.length>0&&(e[a].headerColSpan=e[a].children.reduce(((e,t)=>t.hidden?e:e+t.headerColSpan),0));const r=[];let i=1;return e.forEach(((e,t)=>{n[e.depth]=n[e.depth]||[];let a=!1;0===n[e.depth].length&&(i<=1?i=1+(e.children.length>0?0:o-e.depth):(i--,a=!0)),e.rowSpan=1+(e.children.length>0?0:o-e.depth),e.kFirst=a,e.index=n[e.depth].length,n[e.depth].push(t),e.ariaColumnIndex=r[e.depth]?r[e.depth]+1:1;for(let n=e.depth;n<e.depth+e.rowSpan;n++)r[n]=(r[n]||0)+e.headerColSpan})),Xb(n,e,t),Qb(n,e,t),n}(S,!0),I=S.map(pw)})(X,q);const Q=o.useMemo((()=>{const t=A_(e,S);return{premium:t.length>0,features:t}}),[e,S]),J=o.useMemo((()=>!!Q.premium&&!sa(BE,{component:"Grid",features:Q.features})),[Q.premium]),Z=X.map((e=>e&&e.type&&"KendoReactGridToolbar"===e.type.displayName?o.cloneElement(e,p(p({},e.props),{},{ariaControls:h})):null)),$=X.filter((e=>e&&e.type&&"KendoReactGridNoRecords"===e.type.displayName)),ee=X.filter((e=>e&&e.type&&"KendoReactGridStatusBar"===e.type.displayName)),te=S.filter((e=>0===e.children.length)),ne=B&&o.createElement(EE,{columns:b(),group:e.group||[],ariaControls:h}),oe=o.createElement(LI,{size:F,staticHeaders:"none"!==e.scrollable,draggable:e.reorderable||B,headerRow:o.createElement(hE,{cells:e.cells,sort:e.sort,sortable:e.sortable,group:e.group||[],groupable:B,filter:e.filter,filterable:e.filterable,filterOperators:e.filterOperators||fE,columnMenu:e.columnMenu,columnMenuIcon:e.columnMenuIcon,columns:S,columnsMap:E,cellRender:e.headerCellRender,navigatable:!!e.navigatable,localization:A,unstyled:N,headerSelectionValue:!(!e.select||!C.filter((e=>"data"===e.rowType)).every((t=>e.select&&e.dataItemKey&&void 0!==ji(e.dataItemKey)(t.dataItem)?e.select[ji(e.dataItemKey)(t.dataItem)]:void 0)))}),filterRow:e.filterable&&o.createElement(SE,{cells:e.cells,size:F,columns:S,filter:e.filter,filterOperators:e.filterOperators||fE,sort:e.sort,cellRender:e.filterCellRender,navigatable:!!e.navigatable,ariaRowIndex:E.length+1,localization:A})||void 0,cols:te.map(((e,t)=>o.createElement("col",{key:t.toString(),width:cw(e)})))}),re=te.findIndex((e=>"function"==typeof e.colSpan))>-1;let ie;re||(ie=w(null));let ae=0;const se=e=>e>=C.length-ae;let le=e.skip||0;const ce=[],de=!C.length,ue=E.length+(e.filterable?1:0)+1;let pe=0;if(C.length){let t=-1,n=0;const r=K.enabled?{}:void 0;(k||C).forEach(((i,a)=>{"data"===i.rowType&&(le++,t++);const s=le%2===0,l=e.dataItemKey&&ji(e.dataItemKey)(i.dataItem),c=a+(e.skip||0),d=l||"ai"+c,u=d+"_1",h=((t,n,r,i,a)=>{let s=!1;const l=e.selectedField?iw(e.selectedField,t.dataItem):e.select&&e.dataItemKey&&void 0!==ji(e.dataItemKey)(t.dataItem)?e.select[ji(e.dataItemKey)(t.dataItem)]:void 0;return re&&(ie=w(t.dataItem)),{row:ie.map((c=>{let{columnIndex:d,colSpan:u}=c;var h,m,g,v;const y=te[d];let x;if(null!=(h=y.rowSpannable)&&h.enabled&&"data"===t.rowType&&y.field&&a){const e=y.field?null==(g=(m=y.rowSpannable).valueGetter)?void 0:g.call(m,t.dataItem,y.field):null;x={value:e,count:1},a[y.field]&&(null==(v=a[y.field])?void 0:v.value)===e&&null!==a[y.field]?(a[y.field].count++,x.count=null):a[y.field]=x}const b=y.id?y.id:d,w=on(T.contentSticky({locked:y.locked}),y.className),k=void 0!==y.left?{left:y.left,right:y.right}:{};let C=!1;if(y.editable&&(e.editable||e.editField)){const n=e.editField?iw(e.editField,t.dataItem):e.edit&&e.dataItemKey?e.edit[ji(e.dataItemKey)(t.dataItem)]:void 0,o="boolean"==typeof n?n:Array.isArray(n)?n.indexOf(y.field)>-1:void 0!==y.field&&n===y.field;o&&"data"===y.columnType&&(!0===o||o===y.field)&&(s=!0,C=!0)}const S=y.cell||C&&FI||AE,I=e.expandField&&e.detail&&y.field===e.expandField||"expand"===y._type,E={locked:e.lockGroups,id:Gb.generateNavigatableId("".concat(n,"-").concat(String(d)),f,I||"groupHeader"===t.rowType||"groupFooter"===t.rowType||"value"===y.field?"nodata":"cell"),colSpan:u,dataItem:t.dataItem,field:y.field,editor:y.editor,format:y.format,columnType:y.columnType,rowReorderable:P,className:w,render:e.cellRender,cells:yw(e.cells,y.cells),columnIndex:d,columnsCount:te.length,rowType:t.rowType,level:t.level,expanded:t.expanded,dataIndex:t.dataIndex,rowDataIndex:r,columnPosition:k,style:{},ariaColumnIndex:y.ariaColumnIndex,isSelected:"edit"===(null==y?void 0:y._type)?l:Array.isArray(l)&&l.indexOf(d)>-1,isSorted:!!dw(y.field,e.sort),isInEdit:C,isAlt:i,unstyled:N,group:t.group,localization:A,intl:D,_rowSpan:x};return y.cell?o.createElement(c_,{key:b,isClient:bw(S),dataItem:E.dataItem,rowDataIndex:E.rowDataIndex,columnIndex:E.columnIndex,columnPosition:E.columnPosition},o.createElement(S,p({},E))):o.createElement(S,p({key:b},E))})),isInEdit:s,isSelected:"boolean"==typeof l&&l}})(i,d,t,s,r);if(pe=c+ue+n,ce.push(o.createElement(PE,{key:d,dataItem:i.dataItem,isAltRow:s,isInEdit:h.isInEdit,rowType:i.rowType,isRowReorderable:P,isHidden:se(a),onClick:null,onDoubleClick:null,selectedField:e.selectedField,rowHeight:e.rowHeight,render:e.rowRender,ariaRowIndex:pe,absoluteRowIndex:c,dataIndex:z&&!e.groupable?c:t,isSelected:h.isSelected,rows:e.rows},h.row)),e.detail&&"data"===i.rowType&&i.expanded){const t=te.length-(e.expandField||V.enabled?1:0)-(e.group?e.group.length:0)||1;n++,pe=c+ue+n,ce.push(o.createElement("tr",{key:u,className:on(T.detailTr({isAlt:s})),style:{visibility:se(a)?"hidden":"",height:e.detailRowHeight},role:"row","aria-rowindex":pe},e.group&&e.group.map(((t,n)=>{var r;const a=null==(r=null==h?void 0:h.row[n])?void 0:r.props.style,s=a?{left:a.left,right:a.right}:{};return o.createElement(TE,{id:"",dataIndex:i.dataIndex,field:t.field,dataItem:i.dataItem,key:n,columnPosition:s,style:{},ariaColumnIndex:1+n,isSelected:!1,locked:e.lockGroups,cells:e.cells,group:i.group})})),(e.expandField||V.enabled)&&o.createElement(qE,{unstyled:N,id:Gb.generateNavigatableId("".concat(u,"-dhcell"),f)}),o.createElement(HE,{dataItem:i.dataItem,dataIndex:i.dataIndex,colSpan:t,ariaColIndex:2+(e.group?e.group.length:0),detail:e.detail,id:Gb.generateNavigatableId("".concat(u,"-dcell"),f)})))}}))}const he=p({size:F,total:R,skip:e.skip||0,take:(void 0!==e.take?e.take:e.pageSize)||10},zE(e.pageable||{})),fe=o.createElement(r_,null,e.pager?o.createElement(e.pager,p({},he)):o.createElement(gC,p({className:on(T.pager({}))},he))),me=null!=(u=e.cells)&&u.footerCell||S.some((e=>{var t;return!!(e.footerCell||null!=(t=e.cells)&&t.footerCell)}))?o.createElement(_E,{size:F,staticHeaders:"none"!==e.scrollable,row:o.createElement(LE,{cells:e.cells,idPrefix:f,columns:S,ariaRowIndex:pe+1}),cols:te.map(((e,t)=>o.createElement("col",{key:t.toString(),width:cw(e)})))}):null,ge=o.createElement(GE,null,te.map(((t,n)=>o.createElement("col",{key:n.toString(),className:dw(t.field,e.sort)?on(T.sorted({})):void 0,width:cw(t)})))),ve=e.reorderable||B,{detail:ye,cells:xe,rows:be}=e,we=s(e,D_),ke=o.createElement("tbody",p({role:"rowgroup",className:on(T.tbody({}))},Eb),ce);let Ce=ke;if(P&&(Ce=o.createElement(v_,{unstyled:T,columns:S,rowReorderSettings:e.rowReorderable},ke)),"none"===e.scrollable)return o.createElement(HS,{gridRef:t,gridProps:we,columnsRef:b(),columnsMapRef:E,columnsState:m,dataRef:C,slicedData:k,isFixedVirtualScroll:G===GC,id:h,total:R,isAllData:x(),detailExpandable:!!e.detail},o.createElement(a_,null,o.createElement("div",p({id:e.id,style:e.style,className:on(T.wrapper({size:F}),e.className),"aria-label":e.ariaLabel},Sb),Z,ne,o.createElement(KE,{selectable:e.selectable,className:on(T.table({size:F}))},ge,oe,o.createElement(n_,{rowReorderable:P},Ce),me),de&&o.createElement(UE,null,$.length?$:o.createElement(OE,null)),ve&&o.createElement(o.Fragment,null,o.createElement(XE,null),o.createElement(JE,null)))),ee,e.pageable&&fe,o.createElement(__,{loader:e.loader,showLoader:e.showLoader}),J&&o.createElement(ca,null));let Se=e.style||{};return z&&(Se.height||(Se=Object.assign({},Se,{height:"450px"}))),o.createElement(HS,{gridRef:t,gridProps:we,columnsRef:b(),columnsMapRef:E,columnsState:m,dataRef:C,slicedData:k,isFixedVirtualScroll:G===GC,id:h,total:R,isAllData:x(),detailExpandable:!!e.detail},o.createElement(a_,null,o.createElement("div",p({id:e.id,style:Se,className:on(T.wrapper({size:F,virtual:z}),e.className),"aria-label":e.ariaLabel},Sb),Z,ne,o.createElement("div",{className:on(T.ariaRoot({})),role:"grid","aria-colcount":te.length,"aria-rowcount":R,id:h,"aria-label":A.toLanguageString(II,_I[II])},oe,o.createElement("div",{className:on(T.container({})),role:"presentation"},o.createElement(s_,null,o.createElement("div",{className:on(T.content({})),role:"presentation"},o.createElement("div",{className:on(T.tableWrap({})),role:"presentation"},o.createElement(i_,{selectable:e.selectable,tableClassName:on(T.table({size:F})),tableStyle:{userSelect:Y}},ge,o.createElement(n_,{rowReorderable:P},Ce)),de&&o.createElement(UE,null,$.length?$:o.createElement(OE,null))),z&&o.createElement("div",{className:on(T.heightContainer({})),role:"presentation"},o.createElement(l_,{isVirtualScroll:z}))))),me,ve&&o.createElement(o.Fragment,null,o.createElement(XE,null),o.createElement(JE,null)),J&&o.createElement(ca,null)),ee,e.pageable&&fe,o.createElement(__,{loader:e.loader,showLoader:e.showLoader}))))}));N_.displayName="KendoReactGridComponent";const T_=class extends o.Component{getIntlService(){return new Pc(this.props.locale)}render(){return o.createElement(Rc.Consumer,null,(e=>o.createElement(Rc.Provider,{value:p(p({},e),{},{intl:this.getIntlService()})},this.props.children)))}};T_.propTypes={locale:Et.string};let P_=T_;const M_={},O_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>{const t=Object.keys(e)[0];if(["main","supplemental"].includes(t)){const n=Object.keys(e[t])[0];n in M_?M_[n].includes(e)||(M_[n]=[...M_[n],e]):M_[n]=[e]}})),function(){for(var e=arguments,t=arguments.length,n=0;n<t;n++){var o=e[n];if(o.main){var r=Object.keys(o.main)[0],i=o.main[r],a=Ka[r]=Ka[r]||{};i.units?js(a,i.units):(a.name=a.name||r,a.identity=a.identity||i.identity,Ss(a),As(r,i))}else if(o.supplemental)if(o.supplemental.weekData)Ka.supplemental.weekData={firstDay:o.supplemental.weekData.firstDay,weekendStart:o.supplemental.weekData.weekendStart,weekendEnd:o.supplemental.weekData.weekendEnd};else if(o.supplemental.likelySubtags)Ka.supplemental.likelySubtags=Object.assign(Ka.supplemental.likelySubtags,o.supplemental.likelySubtags);else if(o.supplemental.currencyData){var s=Ka.supplemental.currencyData;s.region=Object.assign(s.region||{},o.supplemental.currencyData.region),s.fractions=Object.assign(s.fractions||{},o.supplemental.currencyData.fractions)}}}(...t)},R_=e=>{const{locale:t,data:n,children:o}=e;return t&&O_(n),o},F_=class extends o.Component{getLocalizationService(){return new Oc(this.props.language)}render(){return o.createElement(Rc.Consumer,null,(e=>o.createElement(Rc.Provider,{value:p(p({},e),{},{localization:this.getLocalizationService()})},this.props.children)))}};F_.propTypes={language:Et.string};let L_=F_;const z_=Object.create({}),B_=(e,t,n)=>{for(const o in e)if(e.hasOwnProperty(o)){const r=[...n];if(r.push(o),"string"!=typeof e[o])B_(e[o],t,r);else{const n=e[o];Object.defineProperty(t,r.join("."),{value:n,enumerable:!0})}}};const V_=e=>{const{data:t,language:n,children:o}=e;return n&&function(e,t){const n=Mc[t]=Mc[t]||{};z_.lang=t,B_(e,n,[])}(t,n),o},H_=e=>{var t,n,r;const{language:i="",locale:a="en",children:s}=e,l=Xa(a),c=null!=(t=Mc[i])?t:[],d=(null!=(n=M_.version)?n:[]).concat(null!=(r=M_[l.name])?r:[]),[u]=Xc(a?P_:o.Fragment),[p]=Xc(i?L_:o.Fragment);return o.createElement(V_,{data:c,language:i},o.createElement(R_,{data:d,locale:a},o.createElement(p,{language:i},o.createElement(u,{locale:a},s))))},q_=o.forwardRef(((e,t)=>{const{isPaid:n}={isPaid:!0},[r]=Xc(n?Iw:o.Fragment);return $b===ew?o.createElement(r,p({},e),o.createElement(Ew,{id:e.id},o.createElement(N_,p({ref:t},e)))):o.createElement(H_,{locale:e.locale,language:e.language},o.createElement(N_,p({ref:t},e)))})),U_={data:Et.oneOfType([Et.array,Et.shape({data:Et.array,total:Et.number})]),sortable:Et.oneOfType([Et.bool,Et.shape({mode:Et.oneOf(["single","multiple"]),allowUnsort:Et.bool})]),onSortChange:Et.func,sort:Et.array,filterable:Et.bool,filter:Et.any,onFilterChange:Et.func,pageable:Et.oneOfType([Et.bool,Et.shape({buttonCount:Et.number,responsive:Et.bool,info:Et.bool,type:Et.oneOf(["numeric","input"]),pageSizes:Et.oneOfType([Et.bool,Et.arrayOf(Et.oneOfType([Et.string,Et.number]))]),previousNext:Et.bool})]),pageSize:Et.number,onPageChange:Et.func,total:Et.number,skip:Et.number,take:Et.number,fixedScroll:Et.bool,onExpandChange:Et.func,expandField:Et.string,selectedField:Et.string,onSelectionChange:Et.func,onHeaderSelectionChange:Et.func,resizable:Et.bool,reorderable:Et.bool,group:Et.any,groupable:Et.oneOfType([Et.bool,Et.shape({enabled:Et.bool,footer:Et.oneOf(["always","visible","none"])})]),onGroupChange:Et.func,onRowClick:Et.func,onRowDoubleClick:Et.func,onItemChange:Et.func,editField:Et.string,scrollable:Et.oneOf(["none","scrollable","virtual"]),rowHeight:Et.number,detailRowHeight:Et.number,detail:Et.any,style:Et.object,onDataStateChange:Et.func,onColumnResize:Et.func,onColumnReorder:Et.func,dataItemKey:Et.string,navigatable:Et.oneOfType([Et.bool,Et.shape({mode:Et.oneOf(["incell","inline","popup"])})]),size:Et.oneOf(["small","medium"])};q_.displayName="KendoReactGrid",q_.propTypes=U_;const G_=["validationMessage","visited","label"],W_=e=>{const t={};return Object.keys(e).forEach((n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)})),t},K_=o.createContext({}),Y_="itemDataIndex",X_="id",Q_=o.memo((e=>{let{recordType:t,mode:n="new",embedded:r=!1,onTotalAmountChange:i,headerDiscount:a=0,selectedLocation:l,soid:c=null,dnid:d=null,onUnfulfilledLinesLoaded:u=null,customerId:h=null,onCreditApplicationChange:f=null}=e;const m=ge(),{id:g}=ve(),{fetchFormConfiguration:v}=fy(),{getProductSalesPriceTaxCode:y}=Vy(),[x,b]=(0,o.useState)({show:!1,message:"",type:"success"}),[w,k]=(0,o.useState)(!1),[C,S]=(0,o.useState)(null),[I,E]=(0,o.useState)(null),[_,j]=(0,o.useState)({}),[A,D]=(0,o.useState)({}),[N,T]=(0,o.useState)(!1),[P,M]=(0,o.useState)([]),[O,R]=(0,o.useState)(!1),[F,L]=(0,o.useState)([]),[z,B]=(0,o.useState)(!1),[V,H]=(0,o.useState)("items");(0,o.useEffect)((()=>{const e=()=>{H("items")};return window.addEventListener("resetSalesItemsTab",e),()=>{window.removeEventListener("resetSalesItemsTab",e)}}),[]),(0,o.useEffect)((()=>{if("CreditMemo"===t){const e=setInterval((()=>{document.querySelectorAll("table").forEach((e=>{const t=e.querySelectorAll("th"),n=Array.from(t).map((e=>{var t;return null===(t=e.textContent)||void 0===t?void 0:t.trim().toLowerCase()}));if(n.includes("account name")&&n.includes("debit")&&n.includes("credit")&&n.includes("memo")){if(e.closest(".apply-invoice-tab-container"))return;"apply"===V?(e.style.display="none",e.parentElement&&e.parentElement.classList.contains("transactions-section")&&(e.parentElement.style.display="none")):(e.style.display="",e.parentElement&&e.parentElement.classList.contains("transactions-section")&&(e.parentElement.style.display=""))}}))}),100);return()=>clearInterval(e)}}),[V,t]);const[q,U]=(0,o.useState)(""),[G,W]=(0,o.useState)([]),[K,Y]=(0,o.useState)(0),[X,Q]=(0,o.useState)(0),[J,Z]=(0,o.useState)(!1),$=(0,o.useRef)(1),ee=(0,o.useRef)(new Map),te=(0,o.useRef)(!0),ne=(0,o.useRef)(null),oe={SalesOrder:"/sales-order",ItemFulfillment:"/item-fulfillment",Invoice:"/invoice"},re=(0,o.useCallback)((e=>{switch(e){case"SalesOrder":return{title:"Items",fields:["itemID","quantity","fulFillQty","rate","taxID","taxPercent","taxAmount","totalAmount"]};case"ItemFulfillment":return{title:"Items",fields:["itemID","quantity","remQty","invoicedQty","rate","taxID","taxPercent","taxAmount","totalAmount"]};case"Invoice":return{title:"Items",fields:["itemID","quantityDelivered","rate","taxID","taxPercent","taxRate","totalAmount"]};default:return{title:"Items",fields:["itemID","quantity","rate","taxID","taxPercent","taxAmount","totalAmount"]}}}),[]),ie=(0,o.useCallback)((async(e,t)=>{try{const n=await fetch(yi(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}}),[]),ae=(0,o.useCallback)((function(e){b({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{b({show:!1,message:"",type:"success"})}),4e3)}),[]),se=e=>{const t=parseFloat(String(null!==e&&void 0!==e?e:"").replace(/,/g,""));return Number.isFinite(t)?t:0},le=(e,t,n)=>Math.max(t,Math.min(n,e)),ce=(0,o.useCallback)((async e=>{if(!e)return[];try{const t=yi(vi.endpoints.invoiceByCustomer(e)),n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}}),[]),de=(0,o.useCallback)((async e=>{if(!e)return[];try{const t=yi(vi.endpoints.debitMemoByCustomer(e)),n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}}),[]),ue=((0,o.useCallback)((()=>{const e=(_.items||[]).reduce(((e,t)=>e+(t.totalAmount||0)),0);return e}),[_.items]),(0,o.useCallback)((e=>{if("CreditMemo"===t){const t=e.toString();q!==t&&(U(t),G&&G.length>0&&fe({creditAmountStr:t}))}i&&i(e)}),[t,i,q,G]));(0,o.useEffect)((()=>{if(f&&"CreditMemo"===t){const e={creditAmount:q,invoices:G,appliedTo:K,unapplied:X,originalData:ne.current};f(e)}}),[q,G,K,X,f,t]);const pe=(0,o.useCallback)((async e=>{try{const t=await fetch("".concat(vi.baseURL,"/credit-memo-payment-line/by-credit-memo/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=await t.json();return Array.isArray(e)?e:e.lines||e.results||[]}return[]}catch(C){return console.error("Error fetching credit memo payment lines:",C),[]}}),[]),he=(0,o.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=new Map;o.forEach((e=>r.set(e.recordID,e)));let i=[...e.map((e=>{const t=new Date(e.invoiceDate),o="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()),i=r.get(e.id);return{id:e.id,date:o,dateKey:t.getTime(),type:"Invoice",refNo:e.sequenceNumber,dueAmount:se(e.amountDue),originalAmount:se(e.totalAmount),displayAmount:i?i.paymentAmount:0,originalDisplayAmount:i?i.paymentAmount:0,checked:!!i&&i.isApplied,userTyped:!!i,lockedSeq:null,disabled:"view"===n}})),...t.map((e=>{const t=new Date(e.tranDate),o="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()),i=r.get(e.id);return{id:e.id,date:o,dateKey:t.getTime(),type:"Debit Memo",refNo:e.sequenceNumber,dueAmount:se(e.amountDue||e.totalAmount),originalAmount:se(e.totalAmount),displayAmount:i?i.paymentAmount:0,originalDisplayAmount:i?i.paymentAmount:0,checked:!!i&&i.isApplied,userTyped:!!i,lockedSeq:null,disabled:"view"===n}}))].sort(((e,t)=>e.dateKey-t.dateKey));return"view"===n&&(i=i.filter((e=>e.checked&&e.displayAmount>0))),i}),[n]);(0,o.useEffect)((()=>{(async()=>{if("CreditMemo"===t&&h){Z(!0);try{const[e,t]=await Promise.all([ce(h),de(h)]);let o;if("edit"!==n&&"view"!==n||!g)o=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[...(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{const t=new Date(e.invoiceDate),n="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear());return{id:e.id,date:n,dateKey:t.getTime(),type:"Invoice",refNo:e.sequenceNumber,dueAmount:se(e.amountDue),originalAmount:se(e.totalAmount),displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null,disabled:!1}})),...e.map((e=>{const t=new Date(e.tranDate),n="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear());return{id:e.id,date:n,dateKey:t.getTime(),type:"Debit Memo",refNo:e.sequenceNumber,dueAmount:se(e.amountDue||e.totalAmount),originalAmount:se(e.totalAmount),displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null,disabled:!1}}))].sort(((e,t)=>e.dateKey-t.dateKey))}(e,t);else{const r=await pe(g);"edit"===n&&(ne.current={lines:r},console.log("Stored original payment lines for edit mode:",ne.current)),o=he(e,t,r)}te.current=!0,W(o)}catch(e){console.error("\u274c Error fetching credit data:",e),W([])}finally{Z(!1)}}else W([])})()}),[h,t,n,g,ce,de,pe,he]);const fe=e=>{var t,o;const r=se(null!==(t=null===e||void 0===e?void 0:e.creditAmountStr)&&void 0!==t?t:q);let i=r;const a=null!==(o=null===e||void 0===e?void 0:e.invoices)&&void 0!==o?o:G;if(!a||0===a.length)return;const s=a.map((e=>{var t;const o=e.userTyped&&null!==(t=e.lockedSeq)&&void 0!==t?t:1/0,r=e.displayAmount,i=e.originalDisplayAmount||0,a="edit"===n&&g?e.dueAmount+i:e.dueAmount,s=e.userTyped?le(r,0,a):0,l=!e.userTyped&&r>0?le(r,0,a):0;return{id:e.id,dateKey:e.dateKey,dueAmount:e.dueAmount,originalDisplayAmount:i,lineCap:a,checked:e.checked,userTyped:e.userTyped,typedOrder:o,typedRequested:s,stickyRequested:l,appliedCash:0}})),l=s.filter((e=>e.typedRequested>0)).sort(((e,t)=>e.typedOrder-t.typedOrder||e.dateKey-t.dateKey));for(const n of l){let e=n.typedRequested;const t=Math.min(e,i);n.appliedCash+=t,i-=t}const c=s.filter((e=>0===e.typedRequested&&e.stickyRequested>0)).sort(((e,t)=>e.dateKey-t.dateKey));console.log("Sticky allocation phase:",{stickyListLength:c.length,stickyItems:c.map((e=>({id:e.id,stickyRequested:e.stickyRequested,checked:e.checked})))});for(const n of c){const e=n.appliedCash;let t=Math.max(n.stickyRequested-e,0);if(t<=0)continue;const o=Math.min(t,i);n.appliedCash+=o,i-=o,console.log("Sticky applied:",{cashUsed:o,remainingCashAvail:i})}const d=s.filter((e=>0===e.typedRequested&&0===e.stickyRequested&&!0===e.checked)).sort(((e,t)=>e.dateKey-t.dateKey));console.log("Auto allocation phase:",{autoListLength:d.length,autoItems:d.map((e=>({id:e.id,checked:e.checked,typedRequested:e.typedRequested,stickyRequested:e.stickyRequested,dueAmount:e.dueAmount,originalDisplayAmount:e.originalDisplayAmount}))),cashAvailForAuto:i});for(const n of d){const e=n.appliedCash,t=Math.max(n.dueAmount-e,0);if(t<=0)continue;let o=t;const r=Math.min(o,i);n.appliedCash+=r,i-=r,console.log("Applied cash:",{cashUsed:r,remainingCashAvail:i})}let u=0;const h=a.map((e=>{const t=s.find((t=>t.id===e.id)),n=t.appliedCash;return u+=n,p(p({},e),{},{displayAmount:n,checked:n>0,appliedCash:t.appliedCash})})),f=Math.max(r-u,0),m=((e,t)=>{const n=t;return e.map((e=>{const t=0===e.displayAmount&&n<=0;return p(p({},e),{},{disabled:t})}))})(h,f);W(m),Y(u),Q(f)},me=(0,o.useCallback)((async(e,t)=>{if(!e||!t||0===t.length)return;const n=t.filter((e=>e.checked&&e.displayAmount>0)).map((async t=>{const n={paymentAmount:t.displayAmount,recordID:t.id,isApplied:!0,refNo:t.refNo,recordType:t.type,cmid:e,creditMemoSeqNum:null,mainRecordAmount:t.originalAmount};try{const e=await fetch(yi("/credit-memo-payment-line"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(W_(n))});if(!e.ok){const t=await e.text();throw new Error("Failed to create credit memo payment line: ".concat(e.status," - ").concat(t))}return await e.json()}catch(C){throw console.error("Error creating credit memo payment line:",C),C}}));try{await Promise.all(n),ae("Credit applications saved successfully","success")}catch(C){throw ae("Error saving credit applications: ".concat(C.message),"error"),C}}),[ae]),ye=((0,o.useCallback)((async()=>{if("CreditMemo"===t&&g)try{Z(!0),await me(g,G)}catch(C){console.error("Error saving credit applications:",C)}finally{Z(!1)}}),[t,g,G,me]),(0,o.useCallback)((async e=>{if(!e||"Invoice"!==t)return[];try{B(!0);const t=yi("/item-fulfilment-line/by-item-fulfilment/".concat(e));console.log("[SalesItems] Fetching uninvoiced lines from:",t);const n=await fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("Failed to fetch uninvoiced item fulfillment lines: ".concat(n.status));const o=(await n.json()).lines||[];return console.log("[SalesItems] Fetched uninvoiced lines:",o),L(o),o}catch(n){return console.error("Error fetching uninvoiced item fulfillment lines:",n),ae("Error fetching uninvoiced lines: ".concat(n.message),"error"),L([]),[]}finally{B(!1)}}),[t,ae])),xe=(0,o.useCallback)((async e=>{if(!e||"ItemFulfillment"!==t)return[];try{R(!0);const t=yi("/salesorderline/by-salesorder/".concat(e));console.log("[SalesItems] Fetching unfulfilled lines from:",t);const n=await fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("Failed to fetch unfulfilled sales order lines: ".concat(n.status));const o=(await n.json()).lines||[];return console.log("[SalesItems] Fetched unfulfilled lines:",o),M(o),o}catch(n){return console.error("Error fetching unfulfilled sales order lines:",n),ae("Error fetching unfulfilled lines: ".concat(n.message),"error"),M([]),[]}finally{R(!1)}}),[t,ae]);(0,o.useEffect)((()=>{"ItemFulfillment"!==t||!c||"new"!==n&&"edit"!==n||(console.log("[SalesItems] SOID changed, fetching unfulfilled items:",c),xe(c))}),[c,t,n,xe]),(0,o.useEffect)((()=>{"Invoice"!==t||!d||"new"!==n&&"edit"!==n||(console.log("[SalesItems] DNID changed, fetching uninvoiced items:",d),ye(d))}),[d,t,n,ye]);(0,o.useEffect)((()=>{let e=!0;return(async()=>{if(e)try{k(!0),S(null),T(!1);const n=re(t);E(n);const o=[ie("/product").then((e=>({name:"itemID",data:e}))),ie("/tax").then((e=>({name:"taxID",data:e})))],r=await Promise.all(o);if(!e)return;const i=r.reduce(((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e}),{});D(i);if(!e)return;j({transactionId:g||null,items:[]}),T(!0)}catch(n){if(!e)return;S(n.message),ae(n.message,"error")}finally{if(!e)return;k(!1)}})(),()=>{e=!1}}),[n,g,t,re,ie]);(0,o.useCallback)((function(e,t){const n=(e||0)*(t||0)-(a||0);return n+n*((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)||0)/100}),[a]);const be=(0,o.useCallback)((e=>(A[e]||[]).map((t=>{if("string"===typeof t)return{text:t,value:t};if(!t.id)return{text:String(t),value:t};return{text:(t=>{if("itemID"===e&&t.itemName&&t.itemCode)return"".concat(t.itemCode," - ").concat(t.itemName);if("taxID"===e&&t.taxName)return t.taxName;const n=["name","itemName","productName","description","title","taxName"];for(const e of n)if(t[e])return t[e];return String(t.id)})(t),value:t.id,item:t}}))),[A]),we=((0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,visited:r,label:i}=e,a=s(e,G_),l=r&&o,c=p(p({},a),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||a.disabled}),d={text:{component:qc,props:c},number:{component:Su,props:p(p({},c),{},{min:0,step:0})},textarea:{component:ju,props:p(p({},c),{},{rows:2})},date:{component:oy,props:c},dropdown:{component:Ah,props:p(p({},c),be(e))}},u=d[t]||d.text;return(0,pi.jsxs)("div",{children:[(0,pi.jsx)(u.component,p({},u.props)),l&&(0,pi.jsx)("div",{className:"k-form-error",children:o})]})}}),[n,be]),e=>{const{parentField:r,editIndex:i,validatedItems:a,onUpdateField:s,soid:l,selectedLocation:c,unfulfilledItems:d,unfulfilledLoading:u,dnid:h,uninvoicedItems:f,uninvoicedLoading:m}=o.useContext(K_),g=e.dataItem[Y_]===i;a.includes(e.dataItem[Y_]);if(g){let o;if("ItemFulfillment"===t&&("new"===n||"edit"===n)&&l&&d&&d.length>0){const e=be("itemID");o=d.map((t=>{const n=e.find((e=>e.value===t.itemID));return{text:n?n.text:"Item ".concat(t.itemID),value:t.itemID,unfulfilledItem:t}}))}else if("ItemFulfillment"===t&&"new"===n&&l&&u)o=[{text:"Loading unfulfilled items...",value:null}];else if("Invoice"===t&&("new"===n||"edit"===n)&&h&&f&&f.length>0){const e=be("itemID");o=f.map((t=>{const n=e.find((e=>e.value===t.itemID));return{text:n?n.text:"Item ".concat(t.itemID),value:t.itemID,uninvoicedItem:t}}))}else o="Invoice"===t&&"new"===n&&h&&m?[{text:"Loading uninvoiced items...",value:null}]:be("itemID");return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(Ah,{data:o,textField:"text",dataItemKey:"value",valueField:"value",value:o.find((t=>t.value===e.dataItem[e.field]))||null,onChange:async t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;await s(e.dataItem[Y_],e.field,o)},style:{width:"100%"}})}))}const v=e.dataItem[e.field],y=be("itemID").find((e=>e.value===v)),x=(null===y||void 0===y?void 0:y.text)||"";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:x})}))}),ke=e=>{const{parentField:r,editIndex:i,validatedItems:a,onUpdateField:s,soid:l,selectedLocation:c,unfulfilledItems:d,unfulfilledLoading:u,dnid:h,uninvoicedItems:f,uninvoicedLoading:m}=o.useContext(K_),g=e.dataItem[Y_]===i,v=o.useRef(null);var y;return o.useEffect((()=>{g&&null===v.current?v.current=e.dataItem[e.field]||0:g||(v.current=null)}),[g,e.dataItem,e.field]),g?(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(qc,{type:"number",min:"0",step:"1",value:null!==(y=e.dataItem[e.field])&&void 0!==y?y:"",onChange:async o=>{v.current;const r=o.target.value;let i=""===r?"":parseInt(r)||"";if("ItemFulfillment"===t&&("edit"===n||"new"===n)&&""!==i&&e.dataItem.itemID&&l)try{const t=d.find((t=>t.itemID===e.dataItem.itemID));if(t){const e=parseInt(i)||0,n=t.quantity||0,o=n-(t.fulFillQty||0);e>o&&(alert("Quantity ".concat(e," exceeds remaining quantity ").concat(o," from sales order.")),i=Math.max(0,o))}}catch(C){console.error("Error validating quantity in edit mode:",C)}if("Invoice"===t&&("edit"===n||"new"===n)&&""!==i&&e.dataItem.itemID&&h)try{const t=f.find((t=>t.itemID===e.dataItem.itemID));if(t){const e=parseInt(i)||0,n=t.quantity||0,o=n-(t.invoicedQty||0);e>o&&(alert("Quantity ".concat(e," exceeds remaining quantity ").concat(o," from item fulfillment.")),i=Math.max(0,o))}}catch(C){console.error("Error validating quantity in edit mode:",C)}s(e.dataItem[Y_],e.field,i)},onKeyDown:e=>{"."!==e.key&&","!==e.key||e.preventDefault()},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})})):(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:e.dataItem[e.field]||""})}))},Ce=e=>{const{parentField:t,editIndex:n,onUpdateField:r}=o.useContext(K_);var i;if(e.dataItem[Y_]===n)return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(qc,{type:"number",min:"0",step:"0.01",value:null!==(i=e.dataItem[e.field])&&void 0!==i?i:"",onChange:t=>{const n=t.target.value,o=""===n?"":parseFloat(n)||"";r(e.dataItem[Y_],e.field,o)},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})}));const a=e.dataItem[e.field],s=null!==a&&void 0!==a&&"number"===typeof a?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a):0===a?"0.00":"";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:s})}))},Se=e=>{const{parentField:t,editIndex:n,validatedItems:r,onUpdateField:i}=o.useContext(K_);if(e.dataItem[Y_]===n){const t=be("taxID");return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(Ah,{data:t,textField:"text",dataItemKey:"value",valueField:"value",value:t.find((t=>t.value===e.dataItem.taxID))||null,onChange:t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;i(e.dataItem[Y_],"taxID",o)},style:{width:"100%"}})}))}const a=e.dataItem.taxID,s=be("taxID");let l;l="object"===typeof a&&null!==a&&void 0!==a&&a.value?a.value:a;const c=s.find((e=>e.value===l)),d=(null===c||void 0===c?void 0:c.text)||"";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:d})}))},Ie=e=>{const t=e.dataItem.taxPercent||0;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsxs)("span",{style:{padding:"8px",display:"block"},children:[t.toFixed(1),"%"]})}))},Ee=e=>{const n="Invoice"===t?"taxRate":"taxAmount",o=e.dataItem[n]||0;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:o.toFixed(2)})}))},_e=e=>{const t=e.dataItem.totalAmount||0;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block",fontWeight:"bold"},children:t.toFixed(2)})}))},je=e=>{const t=e.dataItem.fulFillQty||0;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block",color:"#666",fontStyle:"italic"},children:t})}))},Ae=e=>{const t=e.dataItem.invoicedQty||0;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block",color:"#666",fontStyle:"italic"},children:t})}))},De=e=>{const{unfulfilledItems:n,uninvoicedItems:r}=o.useContext(K_);let i=0;if("ItemFulfillment"===t&&e.dataItem.itemID&&n&&n.length>0){const t=n.find((t=>t.itemID===e.dataItem.itemID));t&&(i=(t.quantity||0)-(t.fulFillQty||0))}if("Invoice"===t&&e.dataItem.itemID&&r&&r.length>0){const t=r.find((t=>t.itemID===e.dataItem.itemID));t&&(i=(t.quantity||0)-(t.invoicedQty||0))}return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block",color:"#666",fontStyle:"italic"},children:i})}))},Ne=e=>{const{onRemove:t,onEdit:r,onSave:i,onCancel:a,editIndex:s,validateItem:l}=o.useContext(K_),c=e.dataItem[Y_]===s,d=!e.dataItem[X_]||!e.dataItem.itemID,u=(0,o.useCallback)((n=>{n.preventDefault(),t(e.dataItem)}),[e.dataItem,t]),h=(0,o.useCallback)((t=>{t.preventDefault(),r(e.dataItem,d)}),[e.dataItem,r,d]),f=(0,o.useCallback)((t=>{t.preventDefault(),i(e.dataItem)}),[i,e.dataItem]),m=(0,o.useCallback)((n=>{n.preventDefault(),t(e.dataItem)}),[e.dataItem,a]);return c?(0,pi.jsxs)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:[(0,pi.jsx)(xo,{type:"button",onClick:f,className:"k-grid-save-command",size:"small",style:{marginRight:"4px",backgroundColor:"#4CAF50",color:"white",fontSize:"12px",padding:"4px 8px"},title:d?"Add this item when complete":"Save changes to this item",disabled:"view"===n,children:d?"Add":"Save"}),(0,pi.jsx)(xo,{type:"button",onClick:d?u:m,className:"k-grid-cancel-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},title:d?"Remove this item":"Cancel editing",disabled:"view"===n,children:d?"Discard":"Cancel"})]})):(0,pi.jsx)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:"view"!==n&&(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)(xo,{type:"button",themeColor:"primary",onClick:h,className:"k-grid-edit-command",size:"small",style:{marginRight:"4px",fontSize:"12px",padding:"4px 8px"},children:"Edit"}),(0,pi.jsx)(xo,{type:"button",onClick:u,className:"k-grid-remove-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},children:"Remove"})]})}))},Te=e=>{const{validationMessage:r,visited:i,name:s,dataItemKey:u,onTotalAmountChange:h}=e,[f,m]=(0,o.useState)(void 0),g=o.useRef(void 0),[v,x]=(0,o.useState)([]),b=(0,o.useCallback)((t=>{if(void 0!==t&&e.value[t]){x((e=>e.includes(t)?e:[...e,t]));const n=e.value[t];return n.itemID&&null!==n.itemID}return!1}),[e.value]),w=(0,o.useCallback)((async(o,r,i)=>{if(!e.value||!e.value[o])return;const a=p(p({},e.value[o]),{},{[r]:i});if("itemID"===r&&i)try{if(!l)return alert("Please select a location first"),a.itemID="",void e.onReplace({index:o,value:a});const r=e.value||[];if(-1!==r.findIndex(((e,t)=>t!==o&&e.itemID===i)))return alert("This item has already been added to the list. Please select a different item."),a.itemID="",void e.onReplace({index:o,value:a});if("ItemFulfillment"===t&&("new"===n||"edit"===n)&&c&&P&&P.length>0)try{const e=P.find((e=>e.itemID===i));console.log("[SalesItems] Looking for item",i,"in session items. Found:",!!e),e?(a.rate=e.rate||0,a.taxID=e.taxID||"",a.taxPercent=e.taxPercent||0,a.taxAmount=e.taxAmount||0,a.quantity=(e.quantity||0)-(e.fulFillQty||0),console.log("[SalesItems] Using session item data:",e)):console.log("[SalesItems] Item not found in unfulfilled items")}catch(C){console.error("[SalesItems] Error processing unfulfilled item data:",C)}if("Invoice"===t&&("new"===n||"edit"===n)&&d&&F&&F.length>0)try{const e=F.find((e=>e.itemID===i));console.log("[SalesItems] Looking for item",i,"in uninvoiced items. Found:",!!e),e&&(a.rate=e.rate||0,a.taxID=e.taxID||"",a.taxPercent=e.taxPercent||0,a.taxAmount=e.taxAmount||0,a.quantityDelivered=(e.quantity||0)-(e.invoicedQty||0),console.log("[SalesItems] Using uninvoiced item data:",e))}catch(C){console.error("Error parsing sessionStorageItems for item selection:",C);const{salesPrice:t,taxCode:n}=await y(i);a.rate=t||0,a.taxID=n||""}else{const{salesPrice:e,taxCode:t}=await y(i);a.rate=e||0,a.taxID=t||""}}catch(C){}e.onReplace({index:o,value:a})}),[e,t,ae,l,y]),k=e=>{if(!e||!Array.isArray(e))return{totalAmount:0,totalQuantity:0};const n=e.reduce(((e,t)=>e+(t.totalAmount||0)),0),o="Invoice"===t?"quantityDelivered":"quantity",r=e.reduce(((e,t)=>e+(t[o]||0)),0);return{totalAmount:n,totalQuantity:r}},[S,I]=(0,o.useState)((()=>k(e.value)));(0,o.useEffect)((()=>{h&&h(S.totalAmount)}),[S.totalAmount]);const E=(0,o.useCallback)((()=>{const t=e.value||[],n=k(t);I(n),h&&h(n.totalAmount)}),[e.value,t,h]),_=(0,o.useCallback)((o=>{if("view"===n)return;o.preventDefault();const r=Array.isArray(e.value)?e.value:[],i=r.findIndex((e=>!e.itemID));if(-1!==i)return void m(i);const a={id:r.length>0?Math.max(...r.map((e=>parseInt(e.id)||0)))+1:1,itemID:"",rate:0,taxID:"",taxPercent:0,totalAmount:0};"Invoice"===t?(a.quantityDelivered=1,a.taxRate=0):(a.quantity=1,a.taxAmount=0),console.log("[DEBUG] Adding new item:",a),e.onUnshift({value:a}),m(0),setTimeout((()=>E()),0)}),[e,y,l,t,ae]),j=(0,o.useCallback)((async n=>{const o=n[Y_];if("ItemFulfillment"===t&&n.itemID&&c)try{const e=await fetch(yi("/salesorderline/by-salesorder/".concat(c)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json(),o=(t.lines||[]).find((e=>e.itemID===n.itemID));if(o){const e=n.quantity||0,t=o.fulFillQty||0,r=Math.max(0,t-e);(await fetch(yi("/salesorderline/".concat(o.id)),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p(p({},o),{},{fulFillQty:r}))})).ok}}}catch(C){}e.onRemove({index:o}),m(void 0),g.current=void 0;const r=(e.value||[]).filter(((e,t)=>t!==o)),i=k(r);I(i),h&&h(i.totalAmount)}),[e,t,c,k,h]),A=(0,o.useCallback)((e=>{g.current=ki(e),m(e[Y_])}),[]),D=(0,o.useCallback)((()=>{g.current&&e.onReplace({index:g.current[Y_],value:g.current}),g.current=void 0,m(void 0),setTimeout((()=>E()),0)}),[e,E]),N=(0,o.useCallback)((n=>{const o=n[Y_];if(!e.value||!Array.isArray(e.value)||!e.value[o])return void console.error("Invalid array access in onSave:",{value:e.value,index:o});const r=e.value[o];if(!r.itemID)return void alert("Product is required");const i="Invoice"===t?"quantityDelivered":"quantity";if(!r[i]||r[i]<=0)return void alert("Quantity must be greater than 0");const s=""===r[i]?0:parseFloat(r[i])||0,l=""===r.rate?0:parseFloat(r.rate)||0,c=r.taxID||"";let d=0;if(c){const e=be("taxID"),t=Array.isArray(e)?e.find((e=>e.value===c)):null;if(t&&t.item){if(t.item.taxName&&"string"===typeof t.item.taxName){const e=t.item.taxName.match(/-(\d+(?:\.\d+)?)/);e&&(d=parseFloat(e[1]))}0===d&&t.item.taxRate&&(d=parseFloat(t.item.taxRate))}}const u=s*l-(a||0),h="Invoice"===t?"taxRate":"taxAmount",f=Math.round(u*d/100*100)/100,v=Math.round(100*(u+f))/100;e.onReplace({index:o,value:p(p({},r),{},{taxPercent:d,[h]:f,totalAmount:v})}),m(void 0),g.current=void 0,setTimeout((()=>E()),0)}),[e,t,be,E]);o.useEffect((()=>{if(void 0!==f&&e.value&&e.value[f]){const n=e.value[f],o="Invoice"===t?"quantityDelivered":"quantity",r=(""===n[o]?0:parseFloat(n[o])||0)*(""===n.rate?0:parseFloat(n.rate)||0)-(a||0),i=r*(parseFloat(n.taxPercent)||0)/100,s=r+i,l=Math.round(100*i)/100,c=Math.round(100*s)/100,d="Invoice"===t?"taxRate":"taxAmount",u=Math.round(100*(parseFloat(n[d])||0))/100;if(c===Math.round(100*(parseFloat(n.totalAmount)||0))/100&&l===u||e.onReplace({index:f,value:p(p({},n),{},{[d]:l,totalAmount:c})}),n.taxID){const t=be("taxID").find((e=>e.value===n.taxID));if(t&&t.item){let o=0;if(t.item.taxName&&"string"===typeof t.item.taxName){const e=t.item.taxName.match(/-(\d+(?:\.\d+)?)/);e&&(o=parseFloat(e[1]))}0===o&&t.item.taxRate&&(o=parseFloat(t.item.taxRate)),o!==parseFloat(n.taxPercent||0)&&e.onReplace({index:f,value:p(p({},n),{},{taxPercent:o})})}}else n.taxPercent>0&&e.onReplace({index:f,value:p(p({},n),{},{taxPercent:0})})}}),[f,e.value,t,be,a]);const T=(0,o.useMemo)((()=>(e.value||[]).map(((e,t)=>p(p({},e),{},{[Y_]:t})))),[e.value]);return(0,pi.jsxs)(K_.Provider,{value:{onCancel:D,onEdit:A,onRemove:j,onSave:N,onUpdateField:w,editIndex:f,parentField:s,validatedItems:v,validateItem:b,soid:c,selectedLocation:l,unfulfilledItems:P,unfulfilledLoading:O,dnid:d,uninvoicedItems:F,uninvoicedLoading:z},children:[i&&r&&(0,pi.jsx)("div",{className:"k-form-error",style:{color:"#e53e3e",fontSize:"12px",marginTop:"4px"},children:r}),"view"!==n&&(0,pi.jsxs)("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:"8px",paddingRight:"8px"},children:[(0,pi.jsxs)(xo,{onClick:_,themeColor:"success",fillMode:"solid",size:"medium",className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-success",children:[(0,pi.jsx)(ti,{style:{marginRight:"6px"}})," Add Item"]}),(0,pi.jsxs)("div",{style:{fontWeight:"700",fontSize:"1.2rem",color:"#2d3748"},children:["Total Amount: ",S.totalAmount.toFixed(2)]})]}),(0,pi.jsx)("div",{className:"transaction-items-grid-container",style:{overflowX:"auto",overflowY:"visible",width:"100%",maxWidth:"100%"},children:(0,pi.jsxs)(q_,{className:"transaction-items-grid",data:T,dataItemKey:u,rowRender:e=>{const t=p(p({},e.props),{},{style:p(p({},e.props.style),{},{borderBottom:"1px solid #e0e0e0"})});return o.cloneElement(e,p({},t),e.props.children)},style:{height:"400px"},children:[(0,pi.jsx)(Uy,{field:"itemID",title:"Item",cells:{data:we}}),(0,pi.jsx)(Uy,{field:"Invoice"===t?"quantityDelivered":"quantity",title:"Qty",width:"70px",cells:{data:ke}}),"SalesOrder"===t&&("edit"===n||"view"===n)&&(0,pi.jsx)(Uy,{field:"fulFillQty",title:"FulFill Qty",width:"90px",cells:{data:je},media:"(min-width: 768px)"}),("ItemFulfillment"===t||"Invoice"===t)&&("edit"===n||"new"===n)&&(0,pi.jsx)(Uy,{field:"remQty",title:"REM Qty",width:"90px",cells:{data:De},media:"(min-width: 768px)"}),"ItemFulfillment"===t&&("edit"===n||"view"===n)&&(0,pi.jsx)(Uy,{field:"invoicedQty",title:"Inv Qty",width:"90px",cells:{data:Ae},media:"(min-width: 992px)"}),(0,pi.jsx)(Uy,{field:"rate",title:"Rate",width:"90px",cells:{data:Ce}}),(0,pi.jsx)(Uy,{field:"taxID",title:"Tax",width:"120px",cells:{data:Se},media:"(min-width: 768px)"}),(0,pi.jsx)(Uy,{field:"taxPercent",title:"Tax %",width:"80px",cells:{data:Ie},media:"(min-width: 992px)"}),"Invoice"===t?(0,pi.jsx)(Uy,{field:"taxRate",title:"Tax Amt",width:"90px",cells:{data:Ee}}):(0,pi.jsx)(Uy,{field:"taxAmount",title:"Tax Amt",width:"90px",cells:{data:Ee},media:"(min-width: 992px)"}),(0,pi.jsx)(Uy,{field:"totalAmount",title:"Amount",width:"100px",cells:{data:_e}}),"view"!==n&&(0,pi.jsx)(Uy,{field:"command",title:"Actions",width:"120px",cells:{data:Ne}})]})})]})};(0,o.useCallback)((e=>{const n={};if(e.items&&0!==e.items.length){e.items.map(((e,n)=>{const o={};e.itemID||(o.itemID="Product is required");const r="Invoice"===t?"quantityDelivered":"quantity";return(!e[r]||e[r]<=0)&&(o[r]="Quantity must be greater than 0"),Object.keys(o).length>0?o:null})).filter(Boolean).length>0&&(n.items="Please fix item validation errors")}else n.items="At least one item is required";return n}),[]);if(w||!I||!N)return(0,pi.jsx)("div",{className:"form-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsxs)("div",{children:["Loading ",t.toLowerCase()," items..."]})]})});if(C)return(0,pi.jsx)("div",{className:"form-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("h3",{children:["Error Loading ",t," Items"]}),(0,pi.jsx)("p",{children:C}),(0,pi.jsxs)(xo,{onClick:()=>m(oe[t]||"/"),children:["Back to ",t," List"]})]})});const Pe=()=>{if("CreditMemo"!==t)return null;const e=G.length>0&&G.every((e=>e.checked));return(0,pi.jsxs)("div",{className:"payment-container apply-invoice-tab-container",children:[(0,pi.jsx)("style",{children:'\n          body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #f0f2f5; color: #333; padding: 20px; }\n          .payment-container { max-width: 1200px; margin: 0 auto; background-color: #fff; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }\n          .header-bar { background-color: #f7f9fa; padding: 15px 20px; border-bottom: 1px solid #ddd; display: flex; align-items: center; gap: 20px; }\n          .header-bar label { font-weight: 600; margin-right: 5px; font-size: 14px; }\n          .header-bar .k-numerictextbox { width: 140px; }\n          .header-bar .k-numerictextbox .k-input { font-size: 14px; }\n          .main-controls-area { padding: 20px 20px 0 20px; }\n          .controls-top-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n          .k-button { margin-right: 5px; }\n          .subtab-nav { border-bottom: 2px solid #dee2e6; display: flex; }\n          .subtab-link { background: none; border: none; padding: 10px 15px; cursor: pointer; font-size: 14px; font-weight: 600; color: #007bff; margin-bottom: -2px; }\n          .subtab-link.active { border-bottom: 2px solid #007bff; }\n          .subtab-header { background-color: #f7f9fa; padding: 10px 20px; border-bottom: 1px solid #ddd; display: flex; gap: 30px; font-size: 14px; font-weight: bold; }\n          .subtab-header strong { color: #000; }\n          .subtab-content { display: block; padding: 20px; }\n          table { width: 100%; border-collapse: collapse; font-size: 13px; }\n          th, td { padding: 10px 8px; text-align: left; border-bottom: 1px solid #e0e0e0; }\n          thead { background-color: #f7f9fa; }\n          th { font-weight: 600; color: #555; }\n          tr:hover { background-color: #f5f5f5; }\n          .text-right { text-align: right; }\n          .k-checkbox { width: 16px; height: 16px; cursor: pointer; }\n          .k-checkbox-wrapper .k-checkbox {\n            border: 3px solid #000 !important;\n            background-color: #fff !important;\n            box-shadow: 0 0 0 1px #000 !important;\n          }\n          .k-checkbox-wrapper .k-checkbox:checked {\n            background-color: #000 !important;\n            border-color: #000 !important;\n            box-shadow: 0 0 0 1px #000 !important;\n          }\n          .k-checkbox-wrapper .k-checkbox:checked::after {\n            color: #fff !important;\n            font-weight: bold !important;\n            font-size: 12px !important;\n          }\n          .k-checkbox-wrapper .k-checkbox:hover {\n            border-color: #000 !important;\n            box-shadow: 0 0 0 2px rgba(0,0,0,0.3) !important;\n          }\n          .payment-input .k-numerictextbox { width: 90%; }\n          .payment-input .k-numerictextbox .k-input { text-align: right; }\n        '}),(0,pi.jsx)("div",{className:"header-bar",children:(0,pi.jsxs)("div",{children:[(0,pi.jsx)("label",{htmlFor:"creditAmountLimit",children:"CREDIT AMOUNT *"}),(0,pi.jsx)(Su,{id:"creditAmountLimit",placeholder:"0.00",min:0,step:0,format:"n2",decimals:2,spinners:!1,value:se(q),disabled:!0})]})}),(0,pi.jsxs)("div",{className:"main-controls-area",children:[(0,pi.jsx)("div",{className:"controls-top-row",children:(0,pi.jsx)("div",{children:(0,pi.jsx)(xo,{type:"button",disabled:"view"===n,onClick:e=>{e.preventDefault(),e.stopPropagation(),(()=>{const e=G.map((e=>p(p({},e),{},{displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null})));W(e),Y(0),Q(se(q))})()},children:"Clear All"})})}),(0,pi.jsx)("div",{className:"subtab-nav",children:(0,pi.jsx)(xo,{type:"button",className:"subtab-link active",hidden:"view"==n,children:"Invoices/Debitmemos"})})]}),(0,pi.jsxs)("div",{className:"subtab-header",children:[(0,pi.jsxs)("span",{children:["Applied : ",(0,pi.jsx)("strong",{id:"appliedToTotalDisplay",children:K.toFixed(2)})]}),(0,pi.jsx)("span",{children:"\u2022"}),(0,pi.jsxs)("span",{children:["Unapplied Amount : ",(0,pi.jsx)("strong",{id:"unappliedAmountDisplay",children:X.toFixed(2)})]})]}),(0,pi.jsx)("div",{className:"subtab-content",children:J?(0,pi.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,pi.jsx)("p",{children:"Loading invoices and debit memos..."})}):0===G.length?(0,pi.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,pi.jsx)("p",{children:"No invoices or debit memos found for this customer."})}):(0,pi.jsxs)("table",{children:[(0,pi.jsx)("thead",{children:(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("th",{children:(0,pi.jsx)(Tu,{className:"header-checkbox",checked:e,disabled:"view"===n,onChange:e=>{(()=>{const e=G.length>0&&G.every((e=>e.checked)),t=G.map((t=>p(p({},t),{},{checked:!e,userTyped:!1})));fe({invoices:t})})()}})}),(0,pi.jsx)("th",{children:"DATE"}),(0,pi.jsx)("th",{children:"TYPE"}),(0,pi.jsx)("th",{children:"REF NO."}),(0,pi.jsx)("th",{className:"text-right",children:"ORG AMT"}),(0,pi.jsx)("th",{className:"text-right",children:"AMT. DUE"}),(0,pi.jsx)("th",{className:"k-text-center",children:"CREDIT"})]})}),(0,pi.jsx)("tbody",{id:"invoiceTableBody",children:G.map((e=>(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("td",{children:(0,pi.jsx)(Tu,{className:"invoice-checkbox",checked:e.checked,disabled:"view"===n||e.disabled,onChange:t=>{const n=void 0!==t.value?t.value:!!t.target&&t.target.checked;((e,t)=>{const n=G.map((n=>n.id!==e?n:p(p({},n),{},t?{checked:!0,displayAmount:0,userTyped:!1}:{checked:!1,displayAmount:0,userTyped:!1})));te.current=!0,fe({invoices:n})})(e.id,n)}})}),(0,pi.jsx)("td",{children:e.date}),(0,pi.jsx)("td",{children:e.type}),(0,pi.jsx)("td",{children:e.refNo}),(0,pi.jsx)("td",{className:"text-right",children:(e.originalAmount||0).toFixed(2)}),(0,pi.jsx)("td",{className:"text-right",children:e.dueAmount.toFixed(2)}),(0,pi.jsx)("td",{className:"text-right",children:(0,pi.jsx)("div",{className:"payment-input",children:(0,pi.jsx)(Su,{className:"invoice-payment-input",style:{textAlign:"right !important"},min:0,step:0,format:"n2",decimals:2,spinners:!1,value:e.displayAmount>0?parseFloat(e.displayAmount):null,onFocus:()=>"view"===!n&&(e=>{const t=G.find((t=>t.id===e));t&&ee.current.set(e,{startCents:t.displayAmount,unappliedAtFocusCents:X})})(e.id),onBlur:()=>"view"===!n&&(e=>{ee.current.delete(e)})(e.id),onChange:t=>{var o;return"view"===!n&&((e,t)=>{const n=G.map((n=>{if(n.id===e){const e=se(t),o=""!==t&&e>=0;return p(p({},n),{},{displayAmount:e,userTyped:o,lockedSeq:o?$.current++:null})}return n}));te.current=!0,fe({invoices:n})})(e.id,(null===(o=t.value)||void 0===o?void 0:o.toString())||"0")},disabled:"view"===n})})})]},e.id)))})]})})]})};return r?(0,pi.jsxs)("div",{style:{width:"100%"},children:[(0,pi.jsx)(uy,{children:x.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:x.type,icon:!0},closable:!0,onClose:()=>b({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:x.message})})})}),"CreditMemo"===t&&(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("style",{children:"\n              .credit-memo-tabs {\n                display: flex;\n                gap: 8px;\n                border-bottom: 2px solid #e8eaed;\n                margin-bottom: 0;\n                background: transparent;\n                padding: 0;\n                margin-top: 20px;\n              }\n              .credit-memo-tab {\n                padding: 8px 16px;\n                background: #f8f9fa;\n                border: 1px solid #e8eaed;\n                border-bottom: none;\n                cursor: pointer;\n                font-size: 13px;\n                font-weight: 600;\n                color: #5f6368;\n                transition: all 0.2s ease;\n                display: inline-flex;\n                align-items: center;\n                gap: 6px;\n                position: relative;\n                border-radius: 6px 6px 0 0;\n                white-space: nowrap;\n              }\n              .credit-memo-tab:hover {\n                background: #e8f0fe;\n                color: #1a73e8;\n              }\n              .credit-memo-tab.active {\n                background: white;\n                color: #1a73e8;\n                border-bottom: 2px solid white;\n                margin-bottom: -2px;\n                font-weight: 700;\n              }\n              .credit-memo-tab-content {\n                background: white;\n                border: 1px solid #e8eaed;\n                border-top: none;\n                padding: 0;\n                min-height: 300px;\n              }\n            "}),(0,pi.jsxs)("div",{className:"credit-memo-tabs",children:[(0,pi.jsx)("button",{type:"button",className:"credit-memo-tab ".concat("items"===V?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),H("items")},children:"\ud83d\udccb Add Items"}),(0,pi.jsx)("button",{type:"button",className:"credit-memo-tab ".concat("apply"===V?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),H("apply")},children:"\ud83d\udcb3 Apply Invoice/DebitMemo"})]})]}),"items"===V||"CreditMemo"!==t?(0,pi.jsx)(qy,{name:"items",component:Te,dataItemKey:X_,validator:e=>e&&e.length?"":"Please add at least one item",onTotalAmountChange:ue,headerDiscount:a,selectedLocation:l,soid:c,dnid:d,onUnfulfilledLinesLoaded:u}):Pe()]}):(0,pi.jsxs)("div",{className:"form-container",children:[(0,pi.jsx)(uy,{children:x.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:x.type,icon:!0},closable:!0,onClose:()=>b({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:x.message})})})}),(0,pi.jsx)("div",{className:"form-header",children:(0,pi.jsx)("h2",{children:"new"===n?"Add ".concat(I.title):"edit"===n?"Edit ".concat(I.title):"View ".concat(I.title)})}),"CreditMemo"===t&&(0,pi.jsx)("div",{className:"tab-navigation",children:(0,pi.jsxs)("div",{className:"tab-buttons",children:[(0,pi.jsx)("button",{type:"button",className:"tab-button ".concat("items"===V?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),H("items")},children:"Items"}),(0,pi.jsx)("button",{type:"button",className:"tab-button ".concat("apply"===V?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),H("apply")},children:"Apply"})]})}),(0,pi.jsx)(ha,{onSubmit:async e=>{try{if(k(!0),S(null),r)return void ae("Line items updated. Save the main form to create the transaction.","info");const n=g;if(!n)throw new Error("Transaction ID is required to save line items");const o=e.items||[];if(0===o.length)return void ae("No items to save","warning");const i={SalesOrder:{endpoint:yi(vi.endpoints.salesOrderLine),idField:"soid",quantityField:"quantity"},ItemFulfillment:{endpoint:yi(vi.endpoints.itemFulfillmentLine),idField:"dnid",quantityField:"quantity"},Invoice:{endpoint:yi(vi.endpoints.invoiceLine),idField:"invoiceId",quantityField:"quantityDelivered"}}[t];if(!i)throw new Error("Unsupported record type: ".concat(t));const s=o.map((async(e,t)=>{var o,r;const s=Number(e.quantity||e.quantityDelivered||0),l=Number(e.rate||0),c=Number(e.taxPercent||0),d=s*l-(a||0),u=d*c/100,p=d+u,h={[i.idField]:n,itemID:(null===(o=e.itemID)||void 0===o?void 0:o.value)||e.itemID,[i.quantityField]:s,rate:l,taxID:(null===(r=e.taxID)||void 0===r?void 0:r.value)||e.taxID,taxPercent:c,taxAmount:u,totalAmount:p},f=await fetch(i.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(W_(h))});if(!f.ok){const e=await f.text();throw new Error("Failed to create line ".concat(t+1,": ").concat(f.status," - ").concat(e))}return await f.json()}));await Promise.all(s),ae("".concat(t," items saved successfully (").concat(o.length," items)"),"success"),r||m(oe[t]||"/")}catch(n){S(n.message),ae(n.message,"error")}finally{k(!1)}},initialValues:_,render:e=>(0,pi.jsxs)(xa,{style:{width:"100%"},children:[(0,pi.jsx)("div",{className:"form-grid",children:(0,pi.jsx)("div",{className:"order-items-field",children:"items"===V||"CreditMemo"!==t?(0,pi.jsx)(qy,{name:"items",component:Te,dataItemKey:X_,validator:e=>e&&e.length?"":"Please add at least one item",onTotalAmountChange:ue,headerDiscount:a,selectedLocation:l,soid:c,dnid:d,onUnfulfilledLinesLoaded:u}):Pe()})}),(0,pi.jsxs)("div",{className:"form-actions",children:[(0,pi.jsxs)(xo,{type:"button",onClick:()=>m(oe[t]||"/"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",children:[(0,pi.jsx)(ai,{})," ","view"===n?"Close":"Cancel"]}),"view"!==n&&(0,pi.jsxs)(xo,{type:"submit",disabled:w||!e.allowSubmit,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ni,{})," ",w?"Saving...":"Save Items"]})]})]})}),(0,pi.jsx)("style",{children:'\n        .form-container {\n          background: white;\n          border-radius: 4px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          padding: 16px;\n          margin: 16px;\n        }\n\n        /* Tab Navigation Styles */\n        .tab-navigation {\n          display: flex;\n          gap: 8px;\n          border-bottom: 2px solid #e8eaed;\n          margin-bottom: 0;\n          background: transparent;\n          padding: 0;\n          margin-top: 20px;\n        }\n\n        .tab-buttons {\n          display: flex;\n          gap: 8px;\n          border-bottom: 2px solid #e8eaed;\n          margin-bottom: 0;\n          background: transparent;\n          padding: 0;\n        }\n\n        .tab-button {\n          padding: 8px 16px;\n          background: #f8f9fa;\n          border: 1px solid #e8eaed;\n          border-bottom: none;\n          cursor: pointer;\n          font-size: 13px;\n          font-weight: 600;\n          color: #5f6368;\n          transition: all 0.2s ease;\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          position: relative;\n          border-radius: 6px 6px 0 0;\n          white-space: nowrap;\n        }\n\n        .tab-button:hover {\n          background: #e8f0fe;\n          color: #1a73e8;\n        }\n\n        .tab-button.active {\n          background: white;\n          color: #1a73e8;\n          border-bottom: 2px solid white;\n          margin-bottom: -2px;\n          font-weight: 700;\n        }\n\n        /* Credit Apply Styles */\n        .credit-apply-container {\n          padding: 0;\n          background: transparent;\n          margin-bottom: 20px;\n        }\n\n        .credit-header {\n          margin-bottom: 24px;\n          padding: 20px;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n          border-radius: 8px;\n        }\n\n        .credit-header h3 {\n          margin: 0 0 8px 0;\n          font-size: 20px;\n          font-weight: 600;\n        }\n\n        .credit-description {\n          margin: 0;\n          opacity: 0.9;\n          font-size: 14px;\n          line-height: 1.4;\n        }\n\n        .credit-summary-card {\n          background: white;\n          border-radius: 12px;\n          box-shadow: 0 4px 20px rgba(0,0,0,0.08);\n          margin-bottom: 24px;\n          overflow: hidden;\n          border: 1px solid #e8e8e8;\n        }\n\n        .summary-row {\n          display: flex;\n          align-items: center;\n          padding: 24px;\n          background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);\n        }\n\n        .summary-item {\n          flex: 1;\n          text-align: center;\n          padding: 0 16px;\n        }\n\n        .summary-label {\n          display: block;\n          font-size: 11px;\n          font-weight: 600;\n          color: #64748b;\n          margin-bottom: 8px;\n          text-transform: uppercase;\n          letter-spacing: 0.8px;\n        }\n\n        .summary-value {\n          font-size: 28px;\n          font-weight: 700;\n          margin: 0;\n          font-family: \'Segoe UI\', system-ui, sans-serif;\n        }\n\n        .credit-amount {\n          color: #3b82f6;\n          text-shadow: 0 1px 2px rgba(59, 130, 246, 0.1);\n        }\n\n        .applied-amount {\n          color: #10b981;\n          text-shadow: 0 1px 2px rgba(16, 185, 129, 0.1);\n        }\n\n        .remaining-amount {\n          color: #f59e0b;\n          text-shadow: 0 1px 2px rgba(245, 158, 11, 0.1);\n        }\n\n        .summary-divider {\n          width: 1px;\n          height: 50px;\n          background: linear-gradient(to bottom, transparent, #cbd5e1, transparent);\n          margin: 0 20px;\n        }\n\n        .credit-actions {\n          margin-bottom: 24px;\n          text-align: right;\n        }\n        \n        .credit-actions .k-button {\n          background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);\n          border: none;\n          color: white;\n          font-weight: 500;\n          padding: 12px 24px;\n          border-radius: 8px;\n          transition: all 0.2s ease;\n          box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);\n        }\n        \n        .credit-actions .k-button:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 16px rgba(99, 102, 241, 0.4);\n        }  justify-content: flex-end;\n        }\n\n        .credit-application-table {\n          background: white;\n          border-radius: 12px;\n          box-shadow: 0 4px 20px rgba(0,0,0,0.08);\n          overflow: hidden;\n          border: 1px solid #e8e8e8;\n        }\n\n        .table-header {\n          display: flex;\n          justify-content: space-between;\n{{ ... }}\n\n        .modern-table {\n          width: 100%;\n          border-collapse: collapse;\n          font-size: 14px;\n          font-family: \'Segoe UI\', system-ui, sans-serif;\n        }\n\n        .modern-table th {\n          background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);\n          padding: 18px 16px;\n          text-align: left;\n          font-weight: 600;\n          color: #334155;\n          border-bottom: 2px solid #cbd5e1;\n          font-size: 12px;\n          text-transform: uppercase;\n          letter-spacing: 0.8px;\n        }\n\n        .modern-table td {\n          padding: 16px;\n          border-bottom: 1px solid #f1f5f9;\n          vertical-align: middle;\n          transition: background-color 0.15s ease;\n        }\n\n        .modern-table tr:hover {\n          background-color: #f8fafc;\n        }\n\n        .modern-table tr.selected {\n          background-color: #eff6ff;\n          border-left: 4px solid #3b82f6;\n        }\n\n        .modern-table tbody tr.selected-row {\n          background: #e3f2fd;\n        }\n{{ ... }}\n        .credit-input {\n          text-align: right;\n        }\n\n        .type-badge {\n          display: inline-block;\n          padding: 6px 14px;\n          border-radius: 24px;\n          font-size: 11px;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.6px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n\n        .type-badge.invoice {\n          background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n          color: white;\n          border: 1px solid rgba(16, 185, 129, 0.3);\n        }\n\n        .type-badge.debit-memo {\n          background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);\n          color: white;\n          border: 1px solid rgba(245, 158, 11, 0.3);\n        }\n\n        .no-data-message {\n          text-align: center;\n          padding: 40px;\n{{ ... }}\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .error-message, .no-data-message {\n          text-align: center;\n          padding: 48px 40px;\n          color: #64748b;\n          background: linear-gradient(135deg, #fef2f2 0%, #fdf2f8 100%);\n          border-radius: 12px;\n          margin: 20px 0;\n          border: 1px solid #fecaca;\n        }\n        \n        .no-data-message {\n          background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n          border: 1px solid #bae6fd;\n        }#ffcdd2;\n        }\n\n        .form-header {\n          margin-bottom: 16px;\n          display: flex;\n{{ ... }}\n\n        .loading-indicator {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          .loading-indicator {\n          text-align: center;\n          padding: 60px 40px;\n          color: #64748b;\n          background: #f8fafc;\n          border-radius: 12px;\n          margin: 20px 0;\n        }\n\n        .spinner {\n          border: 3px solid #e2e8f0;\n          border-top: 3px solid #3b82f6;\n          border-radius: 50%;\n          width: 36px;\n          height: 36px;\n          animation: spin 1s linear infinite;\n          margin: 0 auto 20px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n{{ ... }}\n        }\n\n        .k-form-error {\n          color: #e53e3e;\n          font-size: 12px;\n          margin-top: 4px;\n        }\n\n        /* Grid specific styles for consistent field sizing */\n        .k-grid td {\n          padding: 0 !important;\n        }\n\n        .k-grid .k-textbox,\n        .k-grid .k-dropdownlist,\n        .k-grid input[type="number"] {\n          height: 32px !important;\n          font-size: 13px !important;\n          padding: 4px 8px !important;\n          border: 1px solid #e2e8f0 !important;\n          border-radius: 3px !important;\n          width: 100% !important;\n          box-sizing: border-box !important;\n        }\n\n        .k-grid .k-dropdownlist .k-input {\n          height: 30px !important;\n          padding: 4px 8px !important;\n          font-size: 13px !important;\n          line-height: 1.4 !important;\n        }\n\n        /* Hide number input spinners */\n        .k-grid input[type="number"]::-webkit-outer-spin-button,\n        .k-grid input[type="number"]::-webkit-inner-spin-button {\n          -webkit-appearance: none !important;\n          margin: 0 !important;\n        }\n\n        .k-grid input[type="number"] {\n          -moz-appearance: textfield !important;\n        }\n\n        /* Transaction Items Grid Styles - Based on FormCreator.js */\n        .transaction-items-grid-container {\n          background: white;\n          border-radius: 8px;\n          border: 1px solid #e2e8f0;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          overflow-x: auto !important;\n          overflow-y: visible !important;\n          margin-bottom: 16px;\n          width: 100% !important;\n          max-width: 100% !important;\n          -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */\n          display: block !important;\n        }\n\n        .transaction-items-grid {\n          border: none !important;\n          border-radius: 0 !important;\n          margin-bottom: 0 !important;\n          min-width: 900px !important;\n          width: auto !important;\n        }\n\n        /* Remove fixed width constraints for responsive design */\n        .transaction-items-grid {\n          width: 100% !important;\n          min-width: unset !important;\n        }\n\n        .transaction-items-grid .k-grid-header {\n          background: #f8fafc !important;\n          border-bottom: 2px solid #e2e8f0 !important;\n        }\n\n        .transaction-items-grid .k-grid-header th {\n          font-weight: 600 !important;\n          color: #4a5568 !important;\n          text-transform: uppercase !important;\n          font-size: 11px !important;\n          letter-spacing: 0.5px !important;\n          padding: 12px 8px !important;\n          text-align: left !important;\n        }\n\n        .transaction-items-grid .k-grid-header th:last-child {\n          text-align: center !important;\n        }\n\n        .transaction-items-grid td {\n          padding: 8px !important;\n          border-bottom: 1px solid #f0f0f0 !important;\n          vertical-align: middle !important;\n        }\n\n        .transaction-items-grid td:last-child {\n          text-align: center !important;\n        }\n\n        .transaction-items-grid .k-grid-content tr:hover {\n          background-color: #f7fafc !important;\n        }\n\n        /* Responsive Grid Layout */\n        .transaction-items-grid .k-grid-table {\n          width: 100% !important;\n        }\n\n        /* Responsive Grid Layout */\n        .transaction-items-grid .k-grid-table {\n          width: 100% !important;\n        }\n\n        /* Responsive container behavior */\n        .transaction-items-grid-container {\n          overflow-x: auto !important;\n          overflow-y: visible !important;\n        }\n\n        /* Always show horizontal scroll on mobile */\n        @media (max-width: 768px) {\n          .transaction-items-grid-container {\n            overflow-x: scroll !important;\n            overflow-y: visible !important;\n            -webkit-overflow-scrolling: touch !important;\n            scrollbar-width: auto !important;\n          }\n          \n          .transaction-items-grid {\n            min-width: 1200px !important;\n            width: 1200px !important;\n          }\n          \n          .transaction-items-grid .k-grid-table {\n            min-width: 1200px !important;\n            width: 1200px !important;\n            table-layout: fixed !important;\n          }\n          \n          /* Set specific column widths to ensure overflow */\n          .transaction-items-grid .k-grid-header th:nth-child(1),\n          .transaction-items-grid td:nth-child(1) {\n            width: 200px !important;\n            min-width: 200px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(2),\n          .transaction-items-grid td:nth-child(2) {\n            width: 100px !important;\n            min-width: 100px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(3),\n          .transaction-items-grid td:nth-child(3) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(4),\n          .transaction-items-grid td:nth-child(4) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(5),\n          .transaction-items-grid td:nth-child(5) {\n            width: 150px !important;\n            min-width: 150px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(6),\n          .transaction-items-grid td:nth-child(6) {\n            width: 100px !important;\n            min-width: 100px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(7),\n          .transaction-items-grid td:nth-child(7) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(8),\n          .transaction-items-grid td:nth-child(8) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(9),\n          .transaction-items-grid td:nth-child(9) {\n            width: 150px !important;\n            min-width: 150px !important;\n          }\n        }\n\n        /* Horizontal scroll indicator for mobile */\n        .transaction-items-grid-container::after {\n          content: \'\';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 20px;\n          height: 100%;\n          background: linear-gradient(to left, rgba(255,255,255,0.8), transparent);\n          pointer-events: none;\n          opacity: 0;\n          transition: opacity 0.3s ease;\n        }\n\n        /* Form container responsive fixes */\n        body, html {\n          overflow-x: hidden;\n        }\n\n        .form-container, .master-form-container {\n          max-width: 100vw;\n          overflow-x: hidden;  \n          box-sizing: border-box;\n        }\n\n        .master-form-content {\n          max-width: 100%;\n          overflow-x: hidden;\n        }\n\n        @media (max-width: 768px) {\n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .order-items-field {\n            grid-column: span 1;\n          }\n\n          .form-container {\n            margin: 12px;\n            padding: 12px;\n          }\n\n          .transaction-items-grid-container {\n            margin: 0 -16px;\n            border-radius: 0;\n            border-left: none;\n            border-right: none;\n            position: relative;\n            /* Enhanced horizontal scrolling */\n            overflow-x: auto;\n            overflow-y: visible;\n            -webkit-overflow-scrolling: touch;\n            scrollbar-width: thin;\n            scrollbar-color: #cbd5e0 #f7fafc;\n          }\n\n          /* Custom scrollbar for webkit browsers */\n          .transaction-items-grid-container::-webkit-scrollbar {\n            height: 6px;\n          }\n\n          .transaction-items-grid-container::-webkit-scrollbar-track {\n            background: #f7fafc;\n            border-radius: 3px;\n          }\n\n          .transaction-items-grid-container::-webkit-scrollbar-thumb {\n            background: #cbd5e0;\n            border-radius: 3px;\n          }\n\n          .transaction-items-grid-container::-webkit-scrollbar-thumb:hover {\n            background: #a0aec0;\n          }\n\n          /* Show scroll indicator when content overflows */\n          .transaction-items-grid-container::after {\n            opacity: 1;\n          }\n\n          .transaction-items-grid .k-grid-table {\n            min-width: 800px; /* Ensure all columns are visible with horizontal scroll */\n          }\n\n          /* Add padding to prevent content cutoff */\n          .transaction-items-grid .k-grid-header th:first-child,\n          .transaction-items-grid td:first-child {\n            padding-left: 12px !important;\n          }\n\n          .transaction-items-grid .k-grid-header th:last-child,\n          .transaction-items-grid td:last-child {\n            padding-right: 12px !important;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .transaction-items-grid-container {\n            margin: 0 -12px;\n          }\n\n          .transaction-items-grid .k-grid-table {\n            min-width: 700px; /* Slightly smaller for very small screens */\n          }\n\n          /* Compress column widths for mobile */\n          .transaction-items-grid .k-grid-header th,\n          .transaction-items-grid td {\n            padding: 6px 4px !important;\n            font-size: 12px !important;\n          }\n\n          .transaction-items-grid .k-textbox,\n          .transaction-items-grid .k-dropdownlist,\n          .transaction-items-grid input[type="number"] {\n            height: 28px !important;\n            font-size: 12px !important;\n            padding: 2px 6px !important;\n          }\n        }\n      '})]})})),J_=Q_,Z_=["validationMessage","touched","label"];if("undefined"!==typeof document&&!document.getElementById("sales-form-tab-styles")){const e=document.createElement("style");e.id="sales-form-tab-styles",e.textContent="\n  .sales-tabs {\n    display: flex;\n    gap: 8px;\n    border-bottom: 2px solid #e8eaed;\n    margin-bottom: 0;\n    background: transparent;\n    padding: 0;\n  }\n\n  .sales-tab {\n    padding: 8px 16px;\n    background: #f8f9fa;\n    border: 1px solid #e8eaed;\n    border-bottom: none;\n    cursor: pointer;\n    font-size: 13px;\n    font-weight: 600;\n    color: #5f6368;\n    transition: all 0.2s ease;\n    display: inline-flex;\n    align-items: center;\n    gap: 6px;\n    position: relative;\n    border-radius: 6px 6px 0 0;\n    white-space: nowrap;\n  }\n\n  .sales-tab:hover {\n    background: #e8f0fe;\n    color: #1a73e8;\n  }\n\n  .sales-tab.active {\n    background: white;\n    color: #1a73e8;\n    border-bottom: 2px solid white;\n    margin-bottom: -2px;\n    font-weight: 700;\n  }\n\n  .sales-tab svg {\n    font-size: 14px;\n  }\n\n  .sales-tab:nth-child(1) svg {\n    color: #4285f4;\n  }\n\n  .sales-tab:nth-child(1).active svg {\n    color: #4285f4;\n  }\n\n  .sales-tab:nth-child(2) svg {\n    color: #ea4335;\n  }\n\n  .sales-tab:nth-child(2).active svg {\n    color: #ea4335;\n  }\n\n  .sales-tab:nth-child(3) svg {\n    color: #34a853;\n  }\n\n  .sales-tab:nth-child(3).active svg {\n    color: #34a853;\n  }\n\n  .sales-tab-content {\n    background: white;\n    border: 1px solid #e8eaed;\n    border-top: none;\n    padding: 0;\n    min-height: 300px;\n  }\n  \n  .transactions-section {\n    padding: 24px;\n    background: linear-gradient(135deg, #fafbfc 0%, #ffffff 100%);\n    border-radius: 0;\n    margin: 0;\n    min-height: 300px;\n  }\n\n  .transactions-header {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    margin-bottom: 16px;\n    padding-bottom: 12px;\n    border-bottom: 2px solid #f1f3f4;\n  }\n\n  .transactions-header h3 {\n    margin: 0;\n    color: #202124;\n    font-size: 16px;\n    font-weight: 600;\n  }\n\n  .transactions-icon {\n    color: #1a73e8;\n    font-size: 16px;\n  }\n\n  .transactions-table {\n    width: 100%;\n    border-collapse: separate;\n    border-spacing: 0;\n    margin-top: 0;\n    border-radius: 8px;\n    overflow: hidden;\n    box-shadow: 0 1px 8px rgba(0,0,0,0.06);\n    border: 1px solid #e8eaed;\n    background: white;\n  }\n\n  .transactions-table th {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e8eaed 100%);\n    color: #5f6368;\n    padding: 10px 16px;\n    text-align: left;\n    font-weight: 600;\n    font-size: 12px;\n    text-transform: uppercase;\n    letter-spacing: 0.3px;\n    position: relative;\n    border: none;\n    border-bottom: 2px solid #e8eaed;\n  }\n\n  .transactions-table th:first-child {\n    border-radius: 8px 0 0 0;\n  }\n\n  .transactions-table th:last-child {\n    border-radius: 0 8px 0 0;\n  }\n\n  .transactions-table td {\n    padding: 12px 16px;\n    border-bottom: 1px solid #f1f3f4;\n    font-size: 13px;\n    color: #202124;\n    font-weight: 400;\n    position: relative;\n    vertical-align: middle;\n  }\n  \n  .transactions-table tbody tr {\n    transition: all 0.3s ease;\n    background: white;\n  }\n  \n  .transactions-table tbody tr:nth-child(even) {\n    background: #fafbfc;\n  }\n  \n  .transactions-table tbody tr:hover {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e8f0fe 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 8px rgba(26,115,232,0.12);\n  }\n  \n  .transactions-table tbody tr:hover td {\n    color: #1a73e8;\n  }\n  \n  .transactions-table tbody tr:last-child td {\n    border-bottom: none;\n  }\n  \n  .transactions-table tbody tr:last-child td:first-child {\n    border-radius: 0 0 0 8px;\n  }\n\n  .transactions-table tbody tr:last-child td:last-child {\n    border-radius: 0 0 8px 0;\n  }\n  \n  .view-link {\n    display: inline-flex;\n    align-items: center;\n    gap: 8px;\n    padding: 10px 16px;\n    background: linear-gradient(135deg, #1a73e8 0%, #4285f4 100%);\n    color: white;\n    text-decoration: none;\n    border-radius: 8px;\n    font-weight: 500;\n    font-size: 13px;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    box-shadow: 0 2px 4px rgba(26,115,232,0.2);\n    border: none;\n  }\n  \n  .view-link:hover {\n    background: linear-gradient(135deg, #1557b0 0%, #1a73e8 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px rgba(26,115,232,0.3);\n    color: white;\n    text-decoration: none;\n  }\n  \n  .payment-amount {\n    font-weight: 600;\n    color: #137333;\n    font-size: 13px;\n    display: flex;\n    align-items: center;\n    gap: 4px;\n  }\n\n  .payment-amount::before {\n    font-size: 12px;\n    color: #5f6368;\n  }\n  \n  .payment-id {\n    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;\n    background: #f8f9fa;\n    padding: 6px 10px;\n    border-radius: 6px;\n    font-size: 12px;\n    color: #5f6368;\n    border: 1px solid #e8eaed;\n    font-weight: 500;\n  }\n  \n  .empty-state {\n    text-align: center;\n    padding: 40px 20px;\n    color: #5f6368;\n  }\n\n  .empty-state-icon {\n    font-size: 36px;\n    color: #dadce0;\n    margin-bottom: 12px;\n  }\n\n  .empty-state-text {\n    font-size: 14px;\n    font-weight: 400;\n    margin: 0;\n  }\n",document.head.appendChild(e)}const $_=e=>{const t={};return Object.keys(e).forEach((n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)})),t},ej=o.memo((e=>{var t,n,r;let{recordType:i,mode:a="new"}=e;const l=ge(),{id:c}=ve(),{loading:d,error:u,fetchFormConfiguration:h}=fy(),f=ky(),m=Cy(),g=Sy(),v=Iy(),y=Ey(),x=_y(),{createOrUpdateInventoryDetail:b,validateInventoryAvailability:w,processItemFulfillment:k,checkInventoryDetailExists:C,setInventoryQuantity:S}=Vy(),I="SalesOrder"===i?f:"ItemFulfillment"===i?m:"Invoice"===i?g:"CreditMemo"===i?v:"DebitMemo"===i?y:null,[E,_]=(0,o.useState)({show:!1,message:"",type:"success"}),[j,A]=(0,o.useState)(!1),[D,N]=(0,o.useState)(!1),[T,P]=(0,o.useState)(null),[M,O]=(0,o.useState)(null),[R,F]=(0,o.useState)({}),[L,z]=(0,o.useState)({}),[B,V]=(0,o.useState)([]),[H,q]=(0,o.useState)({}),[U,G]=(0,o.useState)({}),[W,K]=(0,o.useState)({}),[Y,X]=(0,o.useState)(null),[Q,J]=(0,o.useState)([]),[Z,$]=(0,o.useState)(null),[ee,te]=(0,o.useState)(!1),[ne,oe]=(0,o.useState)(0),[re,ie]=(0,o.useState)({creditAmount:"",invoices:[],appliedTo:0,unapplied:0}),[ae,se]=(0,o.useState)("items"),[le,ce]=(0,o.useState)([]),[de,ue]=(0,o.useState)(!1),[pe,he]=(0,o.useState)([]),[fe,me]=(0,o.useState)(!1),ye=o.useRef(null),xe="b2dae51c-12b6-4a90-adfd-4e2345026b70",be="5e3f19d1-f615-4954-88cb-30975d52b8cd",we={SalesOrder:"/sales-order",ItemFulfillment:"/item-fulfillment",Invoice:"/invoice",CreditMemo:"/credit-memo",DebitMemo:"/debit-memo"},ke=(0,o.useCallback)((async(e,t)=>{try{const n=await fetch("".concat(vi.baseURL).concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}}),[]),Ce=(0,o.useCallback)((async e=>{try{const t=await fetch("".concat(vi.baseURL,"/record-type"),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e});if(!t.ok)throw new Error("Failed to fetch record types: ".concat(t.status));return await t.json()||[]}catch(t){return t.name,[]}}),[]),Se=(0,o.useCallback)((async e=>{if(!e||!["Invoice","DebitMemo"].includes(i))return[];try{ue(!0);const[t,n]=await Promise.all([fetch("".concat(vi.baseURL,"/customer-payment-line/by-record-id/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(vi.baseURL,"/credit-memo-payment-line/by-record-id/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let o=[];if(t.ok){const e=await t.json();o=Array.isArray(e)?e.map((e=>p(p({},e),{},{transactionType:"Customer Payment"}))):[]}else 404!==t.status&&console.warn("Failed to fetch customer payment lines: ".concat(t.status));let r=[];if(n.ok){const e=await n.json();r=Array.isArray(e)?e.map((e=>p(p({},e),{},{transactionType:"Credit Memo"}))):[]}else 404!==n.status&&console.warn("Failed to fetch credit memo payment lines: ".concat(n.status));const i=[...o,...r];return i.sort(((e,t)=>e.createdAt&&t.createdAt?new Date(t.createdAt)-new Date(e.createdAt):(t.id||"").localeCompare(e.id||""))),i}catch(t){return console.error("Error fetching transactions:",t),[]}finally{ue(!1)}}),[i]),Ie=(0,o.useCallback)((async e=>{if(!e||"SalesOrder"===i)return[];try{me(!0);const t=await fetch("".concat(vi.baseURL,"/journal-entry-line/by-record-id/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=await t.json();return Array.isArray(e)?e:[]}return 404!==t.status&&console.warn("Failed to fetch GL Impact data: ".concat(t.status)),[]}catch(t){return console.error("Error fetching GL Impact data:",t),[]}finally{me(!1)}}),[i]),Ee=async e=>{try{const t=await fetch("".concat(vi.baseURL,"/custom-form-field/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch custom form fields: ".concat(t.status));const n=await t.json(),o=(Array.isArray(n)?n:[]).sort(((e,t)=>(e.displayOrder||0)-(t.displayOrder||0))),r={},i=o.filter((e=>["DropDownList","MultiSelect"].includes(e.fieldTypeName)&&e.fieldSource));for(const e of i){const t=await ke(e.fieldSource);r["custom_".concat(e.fieldName)]=t}return Object.keys(r).length>0&&z((e=>p(p({},e),r))),o}catch(t){return De("Failed to load custom form fields: ".concat(t.message),"error"),[]}},_e=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{if(!t)return{};const o=await fetch("".concat(vi.baseURL,"/custom-field-value/by-type-and-record?typeOfRecord=").concat(t,"&recordId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return{};const r=await o.json(),i={},a={},s={};return n.forEach((e=>{s[e.fieldName]=e.fieldTypeName})),Array.isArray(r)&&r.forEach((e=>{if(e.customFieldName&&void 0!==e.valueText&&null!==e.valueText){const n=s[e.customFieldName];let o=e.valueText;switch(n){case"DatePicker":case"Date":if("string"===typeof o&&""!==o.trim()){const e=new Date(o);o=isNaN(e.getTime())?null:e}break;case"NumericTextBox":case"Number":if("string"===typeof o&&""!==o.trim()){const e=parseFloat(o);o=isNaN(e)?0:e}break;case"Checkbox":case"Switch":"string"===typeof o&&(o="true"===o.toLowerCase()||"1"===o);break;case"MultiSelect":if("string"===typeof o&&""!==o.trim())try{const e=JSON.parse(o);o=Array.isArray(e)?e:[o]}catch(t){o=[o]}}i[e.customFieldName]=o,a[e.customFieldName]=e.id}})),{customData:i,customFieldIds:a}}catch(o){return{customData:{},customFieldIds:{}}}},je=e=>{const t={};return e.forEach((e=>{switch(e.fieldTypeName){case"Checkbox":case"Switch":t[e.name]=!1;break;case"Number":case"NumericTextBox":t[e.name]=0;break;case"Date":case"DropDownList":t[e.name]=null;break;default:t[e.name]=""}})),t};(0,o.useEffect)((()=>{let e=!0;return(async()=>{if(e)try{N(!0),P(null),te(!1),V([]),q({}),G({}),K({}),X(null);const l=await Ce();if(!e)return;J(l);const d=await h(i);if(!e)return;O(d);const u=d.standardFields.filter((e=>"DropDownList"===e.fieldTypeName&&e.source)),f=Te(d,l,i),m=u.map((async e=>{let t;if("form"===e.name&&f)try{const e=await fetch("".concat(vi.baseURL,"/form/by-type-of-record/").concat(f),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch forms for record type: ".concat(e.status));t=await e.json(),t=Array.isArray(t)?t:t.results||t.data||[]}catch(n){t=[]}else t=await ke(e.source);return{name:e.name,data:t}})),g=await Promise.all(m);if(!e)return;const v=g.reduce(((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e}),{});x.data&&x.data.length>0&&(v.status=x.data),z(v);const y=je(d.standardFields);if("new"===a){if(d.standardFields.forEach((e=>{("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date")||"soDate"===e.name||"invoiceDate"===e.name||"deliveryDate"===e.name)&&(y[e.name]=new Date)})),"ItemFulfillment"===i){console.log("[SalesForm] Checking for salesOrderDataForFulfillment in sessionStorage...");const e=sessionStorage.getItem("salesOrderDataForFulfillment");if(console.log("[SalesForm] SessionStorage data found:",!!e),e)try{var t;const n=JSON.parse(e);if(console.log("[SalesForm] Parsed salesOrderData:",n),n.form){y.form=n.form;try{const[e,t]=await Promise.all([fetch("".concat(vi.baseURL,"/form/").concat(n.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(vi.baseURL,"/form-sequence/by-form/").concat(n.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);if(e.ok&&t.ok){const[n,o]=await Promise.all([e.text().then((e=>e.trim()?JSON.parse(e):{})),t.text().then((e=>e.trim()?JSON.parse(e):[]))]),r=Array.isArray(o)&&o.length>0?o[0]:{formSequenceNumber:0},i=n.prefix||"",a=(r.formSequenceNumber||0)+1,s="".concat(i).concat(String(a).padStart(4,"0"));y.sequenceNumber=s}}catch(T){console.error("Error generating sequence number for fulfill:",T)}Ve(n.form)}n.soid&&(y.soid=n.soid),n.customerID&&(y.customerID=n.customerID),n.locationID&&(y.locationID=n.locationID,$(n.locationID)),n.deliveryDate&&(y.deliveryDate=new Date(n.deliveryDate)),n.discount&&(y.discount=n.discount),n.totalAmount&&(y.totalAmount=n.totalAmount);const o=(null===(t=n.items)||void 0===t?void 0:t.results)||n.items||[];o&&o.length>0&&(console.log("[SalesForm] Setting items from sessionStorage:",o),y.items=o.map((e=>p(p({},e),{},{quantityDelivered:e.quantity||0,quantity:e.quantity||0}))),console.log("[SalesForm] Mapped items for ItemFulfillment:",y.items))}catch(T){console.error("Error parsing SalesOrder data for fulfillment:",T),sessionStorage.removeItem("salesOrderDataForFulfillment")}}if("Invoice"===i){console.log("[SalesForm] Checking for itemFulfillmentDataForBilling in sessionStorage...");const e=sessionStorage.getItem("itemFulfillmentDataForBilling");if(console.log("[SalesForm] SessionStorage data found:",!!e),e)try{var n;const t=JSON.parse(e);if(console.log("[SalesForm] Parsed itemFulfillmentData:",t),t.form){y.form=t.form;try{const[e,n]=await Promise.all([fetch("".concat(vi.baseURL,"/form/").concat(t.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(vi.baseURL,"/form-sequence/by-form/").concat(t.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);if(e.ok&&n.ok){const[t,o]=await Promise.all([e.text().then((e=>e.trim()?JSON.parse(e):{})),n.text().then((e=>e.trim()?JSON.parse(e):[]))]),r=Array.isArray(o)&&o.length>0?o[0]:{formSequenceNumber:0},i=t.prefix||"",a=(r.formSequenceNumber||0)+1,s="".concat(i).concat(String(a).padStart(4,"0"));y.sequenceNumber=s}}catch(T){console.error("Error generating sequence number for bill:",T)}Ve(t.form)}t.dnid&&(y.dnid=t.dnid),t.customerID&&(y.customerID=t.customerID),t.locationID&&(y.locationID=t.locationID,$(t.locationID)),t.deliveryDate&&(y.invoiceDate=new Date(t.deliveryDate)),t.discount&&(y.discount=t.discount),t.totalAmount&&(y.totalAmount=t.totalAmount);const o=(null===(n=t.items)||void 0===n?void 0:n.results)||t.items||[];o&&o.length>0&&(console.log("[SalesForm] Setting items from sessionStorage for Invoice:",o),y.items=o.map((e=>p(p({},e),{},{quantityInvoiced:e.quantity||0,quantityDelivered:e.quantity||0}))),console.log("[SalesForm] Mapped items for Invoice:",y.items))}catch(T){console.error("Error parsing ItemFulfillment data for billing:",T),sessionStorage.removeItem("itemFulfillmentDataForBilling")}}}if("new"!==a&&c)try{var o;let t;switch(i){case"SalesOrder":null!==I&&void 0!==I&&I.fetchSalesOrderById&&(t=await I.fetchSalesOrderById(c));break;case"ItemFulfillment":null!==I&&void 0!==I&&I.fetchItemFulfillmentById&&(t=await I.fetchItemFulfillmentById(c));break;case"Invoice":null!==I&&void 0!==I&&I.fetchInvoiceById&&(t=await I.fetchInvoiceById(c));break;case"CreditMemo":null!==I&&void 0!==I&&I.fetchCreditMemoById&&(t=await I.fetchCreditMemoById(c));break;case"DebitMemo":null!==I&&void 0!==I&&I.fetchDebitMemoById&&(t=await I.fetchDebitMemoById(c));break;default:console.warn("No fetch method available for record type: ".concat(i)),t={}}if(!e)return;const n=(null===(o=t)||void 0===o?void 0:o.data)||t||{};if(n&&Object.keys(n).length>0){const t=p({},y);d.standardFields.forEach((e=>{if(void 0!==n[e.name]){let o=n[e.name];if(("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date"))&&o&&"string"===typeof o){const e=new Date(o);o=isNaN(e.getTime())?null:e}t[e.name]=o}}));const o=d.standardFields.map((e=>e.name));Object.keys(n).forEach((e=>{void 0===n[e]||o.includes(e)||(t[e]=n[e])})),F(t),t.locationID&&$(t.locationID);try{let e=[],n="",o="";switch(i){case"SalesOrder":n="".concat(vi.baseURL,"/salesorderline/by-salesorder/").concat(c),o="soid";break;case"ItemFulfillment":n="".concat(vi.baseURL,"/item-fulfilment-line/by-item-fulfilment/").concat(c),o="dnid";break;case"Invoice":n="".concat(vi.baseURL,"/invoice-line/by-invoice/").concat(c),o="inid";break;case"CreditMemo":n="".concat(vi.baseURL,"/credit-memo-line/by-credit-memo/").concat(c),o="cmid";break;case"DebitMemo":n="".concat(vi.baseURL,"/debit-memo-line/by-debit-memo/").concat(c),o="debitMemoId"}if(n){const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(o.ok){const n=await o.json();if(Array.isArray(n))e=n;else if(n.results&&Array.isArray(n.results))e=n.results;else if(n.data&&Array.isArray(n.data))e=n.data;else if(n.salesOrderLines&&Array.isArray(n.salesOrderLines))e=n.salesOrderLines;else if(n.lines&&Array.isArray(n.lines))e=n.lines;else{const t=Object.values(n).filter((e=>Array.isArray(e)));t.length>0&&(e=t[0])}if(e.length>0){let n=[];try{const e=await fetch("".concat(vi.baseURL,"/tax"),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json();n=t.results||t.data||t||[],n.length}}catch(r){console.warn("Failed to load tax data for calculations:",r)}const o=e.map((e=>{const t=parseFloat(e.quantity||e.quantityDelivered||0),o=parseFloat(e.rate||0),r=parseFloat(e.discountAmount||e.discount||0);let a=parseFloat(e.taxPercent||0);if(0===a&&e.taxID&&n.length>0){const t=n.find((t=>t.id===e.taxID));t&&(a=parseFloat(t.taxPercent||t.percentage||t.rate||0))}const s=t*o-r,l=s*a/100,c=s+l;return p(p({},e),{},{quantity:"Invoice"===i?e.quantityDelivered:t,quantityDelivered:"Invoice"===i?t:e.quantityDelivered,rate:o,discountAmount:r,taxPercent:a,taxAmount:"Invoice"===i?l:e.taxAmount||l,taxRate:"Invoice"===i?e.taxRate||l:e.taxRate,totalAmount:c,amount:c})}));t.items=o,F(p({},t))}}}}catch(s){}if(n.form)try{const t=await Ee(n.form);if(!e)return;if(V(t),X(n.form),t.length>0){const n=je(t.map((e=>p(p({},e),{},{name:e.fieldName})))),o=Te(d,l,i),{customData:r,customFieldIds:a}=await _e(c,o,t);if(!e)return;G(a);const s=p(p({},n),r);q(s),K(s)}}catch(r){}if("view"===a&&["Invoice","DebitMemo"].includes(i))try{const t=await Se(c);if(!e)return;ce(t)}catch(r){console.error("Error loading transactions:",r),ce([])}if(("edit"===a||"view"===a)&&("ItemFulfillment"===i||"Invoice"===i||"DebitMemo"===i)||"view"===a&&"CreditMemo"===i)try{const t=await Ie(c);if(!e)return;he(t)}catch(r){console.error("Error loading GL Impact data:",r),he([])}else he([])}else console.warn("No data found for ".concat(i," with ID: ").concat(c)),F(y)}catch(T){console.error("Error fetching ".concat(i,":"),T),F(y)}else{if(!e)return;F(y)}if(!e)return;te(!0)}catch(r){if(!e)return;P(r.message),De(r.message,"error")}finally{if(!e)return;N(!1)}})(),()=>{e=!1}}),[a,c,i,x.data]),(0,o.useEffect)((()=>()=>{ye.current&&(clearTimeout(ye.current),ye.current=null),V([]),q({}),G({}),K({}),X(null),F({}),te(!1),_({show:!1,message:"",type:"success"});const e=window.location.pathname;e.includes("/item-fulfillment/new")||e.includes("/invoice/new")||(sessionStorage.removeItem("salesOrderDataForFulfillment"),sessionStorage.removeItem("itemFulfillmentDataForBilling"))}),[]),(0,o.useEffect)((()=>{const e=()=>{sessionStorage.removeItem("salesOrderDataForFulfillment"),sessionStorage.removeItem("itemFulfillmentDataForBilling")},t=()=>{document.hidden&&setTimeout((()=>{const e=window.location.pathname;e.includes("/item-fulfillment/new")||e.includes("/invoice/new")||(sessionStorage.removeItem("salesOrderDataForFulfillment"),sessionStorage.removeItem("itemFulfillmentDataForBilling"))}),100)};return window.addEventListener("beforeunload",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("beforeunload",e),document.removeEventListener("visibilitychange",t)}}),[]);const Ae=(0,o.useMemo)((()=>{if(!ee)return{};if(0===Object.keys(H).length)return R;const e={};return Object.keys(H).forEach((t=>{e["custom_".concat(t)]=H[t]})),p(p({},R),e)}),[R,H,ee]),De=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";ye.current&&clearTimeout(ye.current),_({show:!0,message:e,type:t}),ye.current=setTimeout((()=>{_({show:!1,message:"",type:"success"}),ye.current=null}),4e3)}),[]),Ne=(0,o.useCallback)((e=>{const t={};if("CreditMemo"===i)return t;if("ItemFulfillment"===i&&"new"===a){if(sessionStorage.getItem("salesOrderDataForFulfillment"))return t}if("Invoice"===i&&"new"===a){if(sessionStorage.getItem("itemFulfillmentDataForBilling"))return t}return null!==M&&void 0!==M&&M.standardFields?(M.standardFields.forEach((n=>{const o=e[n.name];!n.isMandatory||o&&""!==o||(t[n.name]="".concat(n.name.charAt(0).toUpperCase()+n.name.slice(1)," is required")),"email"===n.name&&o&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(t[n.name]="Please enter a valid email address"),"phone"===n.name&&o&&!/^\d{10}$/.test(o.replace(/\D/g,""))&&(t[n.name]="Phone number must be 10 digits")})),t):t}),[M,i]),Te=(e,t,n)=>{if(null!==e&&void 0!==e&&e.recordTypeId)return e.recordTypeId;let o=t.find((e=>e.name===n));if(o)return o.id;if(o=t.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()})),o)return o.id;const r={Customer:["customer","customers"],Vendor:["vendor","vendors"],Product:["product","products"],ChartOfAccount:["chart-of-account","account","accounts"],Location:["location","locations"],Tax:["tax","taxes"]}[n]||[];for(const i of r)if(o=t.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===i.toLowerCase()})),o)return o.id;return null},Pe=()=>{if(null!==M&&void 0!==M&&M.recordTypeId)return M.recordTypeId;let e=Q.find((e=>e.name===i));if(e)return e.id;if(e=Q.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===i.toLowerCase()})),e)return e.id;const t={Customer:["customer","customers"],Vendor:["vendor","vendors"],Product:["product","products"],ChartOfAccount:["chart-of-account","account","accounts"],Location:["location","locations"],Tax:["tax","taxes"]}[i]||[];for(const n of t)if(e=Q.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()})),e)return e.id;return null},Me=async(e,t)=>{try{if("ItemFulfillment"===e){const e=t.soid||t.salesOrderId;if(e){const t=await fetch("".concat(vi.baseURL,"/salesorderline/unfulfilled?SOID=").concat(e),{method:"GET",headers:vi.headers});if(console.log("[Status Update] Setting SalesOrder ".concat(e," status to Closed")),console.log("response",t),t.ok){var n;const o=await t.json();if(0===((null===(n=o.results)||void 0===n?void 0:n.length)||0)){const t=await fetch("".concat(vi.baseURL,"/sales-order/").concat(e),{method:"PUT",headers:vi.headers,body:JSON.stringify({status:xe})});t.ok?console.log("\u2705 SalesOrder ".concat(e," status updated to Closed")):console.warn("Failed to update SalesOrder ".concat(e," status:"),t.status)}}}}else if("Invoice"===e){const e=t.dnid||t.itemFulfillmentId;if(e){console.log("[Status Update] Checking if ItemFulfillment ".concat(e," is fully invoiced..."));const t=await fetch("".concat(vi.baseURL,"/item-fulfilment-line/unfulfilled?DNID=").concat(e),{method:"GET",headers:vi.headers});if(t.ok){var o;const n=await t.json();if(0===((null===(o=n.results)||void 0===o?void 0:o.length)||0)){const t=await fetch("".concat(vi.baseURL,"/item-fulfilment/").concat(e),{method:"PUT",headers:vi.headers,body:JSON.stringify({status:xe})});t.ok?console.log("\u2705 ItemFulfillment ".concat(e," status updated to Closed")):console.warn("Failed to update ItemFulfillment ".concat(e," status:"),t.status)}}}}}catch(T){console.error("[Status Update] Error updating parent record status:",T)}},Oe=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("ItemFulfillment"!==i)return;let o=R.soid||R.salesOrderId;if(!o&&e.length>0){const t=e[0];t&&(t.soid||t.salesOrderId)&&(o=t.soid||t.salesOrderId)}if(!o)try{const e=sessionStorage.getItem("salesOrderDataForFulfillment");if(e){const t=JSON.parse(e);t.soid&&(o=t.soid)}}catch(T){}if(!o){var r;const t=(null===(r=e[0])||void 0===r?void 0:r.fulfillmentId)||c;if(t)try{const e=await fetch("".concat(vi.baseURL,"/item-fulfilment/").concat(t),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json();o=t.soid||t.salesOrderId}}catch(T){}}if(o)try{const r=await fetch("".concat(vi.baseURL,"/salesorderline/by-salesorder/").concat(o),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!r.ok)throw new Error("Failed to fetch sales order lines");const i=await r.json(),a=Array.isArray(i)?i:i.results||Object.values(i).find((e=>Array.isArray(e)))||[],s=new Map,l=new Map;e.forEach((e=>{const t=e.itemID||e.itemId,n=parseFloat(e.quantity||e.quantityDelivered||0);t&&n>0&&s.set(t,(s.get(t)||0)+n)})),t&&n.length>0&&n.forEach((e=>{const t=e.itemID||e.itemId,n=parseFloat(e.quantity||e.quantityDelivered||0);t&&n>0&&l.set(t,(l.get(t)||0)+n)}));const c=a.map((async e=>{const n=e.itemID;if(!n)return;let r=e.fulFillQty||e.quantityFulfilled||0;if(t&&l.has(n)){r-=l.get(n)}if(s.has(n)){r+=s.get(n)}const i=e.quantity||0;r=Math.min(Math.max(0,r),i);const a={soid:o,itemID:e.itemID,quantity:e.quantity,rate:e.rate,discount:e.discount||0,taxID:e.taxID,taxPercent:e.taxPercent||0,taxAmount:e.taxAmount||0,taxRate:e.taxRate||0,amount:e.amount,fulFillQty:r};return fetch("".concat(vi.baseURL,"/salesorderline/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify($_(a))})}));if(o&&t)try{console.log("[Status Update] Setting SalesOrder ".concat(o," status to Open"));const e=await fetch("".concat(vi.baseURL,"/sales-order/").concat(o),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:be})});e.ok?console.log("\u2705 SalesOrder ".concat(o," status updated to Open")):console.warn("Failed to update SalesOrder ".concat(o," status:"),e.status)}catch(T){console.error("Error updating SalesOrder ".concat(o," status:"),T)}const d=await Promise.all(c.filter((e=>e)));d.filter((e=>!e.ok)).length}catch(T){}},Re=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("Invoice"!==i)return;let o=R.dnid||R.itemFulfillmentId;if(!o&&e.length>0){const t=e[0];t&&(t.dnid||t.itemFulfillmentId)&&(o=t.dnid||t.itemFulfillmentId)}if(!o)try{const e=sessionStorage.getItem("itemFulfillmentDataForBilling");if(e){const t=JSON.parse(e);t.dnid&&(o=t.dnid)}}catch(T){console.error("Error parsing ItemFulfillment data from session storage:",T)}if(o)try{const r=await fetch("".concat(vi.baseURL,"/item-fulfilment-line/by-item-fulfilment/").concat(o),{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("Failed to fetch ItemFulfillmentLine records: ".concat(r.status));const i=(await r.json()).lines||[];if(0===i.length)return void console.warn("No ItemFulfillmentLine records found");const a=new Map;t&&n&&n.length>0&&n.forEach((e=>{if(e.itemID){const t=a.get(e.itemID)||0,n=e.quantityInvoiced||e.quantityDelivered||e.quantity||0;a.set(e.itemID,t-n)}})),e.forEach((e=>{if(e.itemID){const t=a.get(e.itemID)||0,n=e.quantityInvoiced||e.quantityDelivered||e.quantity||0;a.set(e.itemID,t+n)}}));const s=i.map((e=>{const t=a.get(e.itemID)||0;if(0===t)return null;const n=e.invoicedQty||0,r=Math.max(0,n+t),i=e.quantity||0,s=Math.min(r,i),l={dnid:o,itemID:e.itemID,quantity:e.quantity,rate:e.rate,taxID:e.taxID,taxPercent:e.taxPercent||0,taxAmount:e.taxAmount||0,totalAmount:e.totalAmount,invoicedQty:s};return fetch("".concat(vi.baseURL,"/item-fulfilment-line/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify($_(l))})}));if(o&&t)try{console.log("[Status Update] Setting ItemFulfillment ".concat(o," status to Open"));const e=await fetch("".concat(vi.baseURL,"/item-fulfilment/").concat(o),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:be})});e.ok?console.log("\u2705 ItemFulfillment ".concat(o," status updated to Open")):console.warn("Failed to update ItemFulfillment ".concat(o," status:"),e.status)}catch(T){console.error("Error updating ItemFulfillment ".concat(o," status:"),T)}const l=await Promise.all(s.filter((e=>e))),c=l.filter((e=>!e.ok));c.length>0&&console.warn("Failed to update ".concat(c.length," ItemFulfillmentLine records"))}catch(T){console.error("Error updating ItemFulfillmentLine quantities:",T)}else console.warn("No ItemFulfillment ID found for updating quantities")},Fe=async(e,t)=>{const n={SalesOrder:{endpoint:"".concat(vi.baseURL,"/salesorderline"),idField:"soid",quantityField:"quantity"},ItemFulfillment:{endpoint:"".concat(vi.baseURL,"/item-fulfilment-line"),idField:"dnid",quantityField:"quantity"},Invoice:{endpoint:"".concat(vi.baseURL,"/invoice-line"),idField:"inid",quantityField:"quantityDelivered"},CreditMemo:{endpoint:"".concat(vi.baseURL,"/credit-memo-line"),idField:"cmid",quantityField:"quantity"},DebitMemo:{endpoint:"".concat(vi.baseURL,"/debit-memo-line"),idField:"debitMemoId",quantityField:"quantity"}}[i];if(!n)throw new Error("Unsupported record type: ".concat(i));const o=t.map((async(t,o)=>{var r,i;let a=t;const s=Number(a.quantity||a.quantityDelivered||0),l=Number(a.rate||0),c=Number(a.discountAmount||0),d=Number(a.taxPercent||0),u=s*l-c,p=u*d/100,h=u+p,f={[n.idField]:e,itemID:(null===(r=a.itemID)||void 0===r?void 0:r.value)||a.itemID,[n.quantityField]:s,rate:l,discountAmount:c,taxID:(null===(i=a.taxID)||void 0===i?void 0:i.value)||a.taxID,taxPercent:d,taxAmount:p,totalAmount:h},m=await fetch(n.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify($_(f))});if(!m.ok){const e=await m.text();throw new Error("Failed to create line ".concat(o+1,": ").concat(m.status," - ").concat(e))}return await m.json()}));if(await Promise.all(o),"ItemFulfillment"===i){const n=t.map((t=>p(p({},t),{},{fulfillmentId:e})));if(await Oe(n,!1,[]),Z){const e=(null===Z||void 0===Z?void 0:Z.value)||Z;for(const n of t)try{var r;const t=(null===(r=n.itemID)||void 0===r?void 0:r.value)||n.itemID,o=Number(n.quantity||0);t&&e&&0!==o&&(console.log("Processing ItemFulfillment for item ".concat(t," at location ").concat(e,": quantity ").concat(o)),await k({itemId:t,locationId:e,fulfillmentQty:o,mode:"create"}),console.log("\u2705 Inventory updated successfully for item ".concat(t)))}catch(a){console.error("\u274c Failed to update inventory for item ".concat(n.itemID,":"),a.message)}}}if("Invoice"===i){const n=t.map((t=>p(p({},t),{},{invoiceId:e})));await Re(n,!1,[])}},Le=async(e,t,n)=>{if(!I)throw new Error("No hook available for record type: ".concat(i));let o=p(p({},e),{},{id:c,totalAmount:ne});try{switch(i){case"SalesOrder":if(!I.updateSalesOrder)throw new Error("updateSalesOrder method not available");await I.updateSalesOrder(c,o);break;case"ItemFulfillment":if(!I.updateItemFulfillment)throw new Error("updateItemFulfillment method not available");await I.updateItemFulfillment(c,o);break;case"Invoice":if(!I.updateInvoice)throw new Error("updateInvoice method not available");await I.updateInvoice(c,o);break;case"CreditMemo":if(!I.updateCreditMemo)throw new Error("updateCreditMemo method not available");await I.updateCreditMemo(c,o);break;case"DebitMemo":if(!I.updateDebitMemo)throw new Error("updateDebitMemo method not available");await I.updateDebitMemo(c,o);break;default:throw new Error("Unsupported record type: ".concat(i))}}catch(T){throw console.error("Error updating ".concat(i,":"),T),T}let r=0;if(Object.keys(t).length>0&&n){const e={};Object.entries(t).forEach((t=>{let[n,o]=t;W[n]!==o&&(e[n]=o)})),r=Object.keys(e).length,r>0&&await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o={};if(Object.entries(e).forEach((e=>{let[t,n]=e;W[t]!==n&&(o[t]=n)})),0===Object.keys(o).length)return;const r=Object.entries(o).map((async e=>{let[o,r]=e;const i=B.find((e=>e.fieldName===o)),a=null===i||void 0===i?void 0:i.id,s=U[o],l={request:"update",typeOfRecord:n,valueText:String(r),customFieldID:a,recordID:t};let c;if(c=s?await fetch("".concat(vi.baseURL,"/custom-field-value/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify($_(l))}):await fetch("".concat(vi.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify($_(l))}),!c.ok)throw new Error("Failed to ".concat(s?"update":"create",' custom field "').concat(o,'": ').concat(c.status));return await c.json()}));await Promise.all(r)})(t,c,n)}return r},ze=async e=>{if(console.log("handleSubmit called for:",i,"mode:",a,"formValues:",e),!e)return console.error("formValues is undefined, cannot proceed with submission"),void P("Form data is not available. Please refresh and try again.");try{N(!0),P(null);const{standardData:o,customData:r}=(e=>{const t={},n={};return Object.keys(e).forEach((o=>{const r=e[o],i=""===r?null:r;if(o.startsWith("custom_")){const e=o.replace("custom_","");n[e]=i}else t[o]=i})),{standardData:t,customData:n}})(e),s=Pe();if(console.log("Separated data:",{standardData:o,customData:r,typeOfRecordId:s}),"ItemFulfillment"===i&&e.items&&e.items.length>0){console.log("\ud83d\udd0d Validating inventory availability for ItemFulfillment...");const t=await w(e.items,Z);if(!t.isValid){const e=t.errors.map((e=>e.message)).join("\n");return console.error("\u274c Inventory validation failed:",t.errors),alert("Inventory validation failed:\n\n".concat(e)),void N(!1)}console.log("\u2705 Inventory validation passed")}if("new"===a){var t;const n=await(async(e,t)=>{if(!I)throw new Error("No hook available for record type: ".concat(i));let n=p(p({},e),{},{totalAmount:ne});"CreditMemo"===i&&0==parseInt(e.unApplied)?n.status=xe:n.status=be;try{var o,r,a,s;let l,c=null;if("SalesOrder"!==i){const n=t.items||[];console.log("=== Validating JV Lines before record creation ===");const o=await Oy(n,e.form,ne,i);if(!o.isValid)return void alert(o.errorMessage);c=o.jvLines,console.log("\u2713 JV Lines validated successfully. All accounts are configured.")}switch(i){case"SalesOrder":if(!I.createSalesOrder)throw new Error("createSalesOrder method not available");l=await I.createSalesOrder(n);break;case"ItemFulfillment":if(!I.createItemFulfillment)throw new Error("createItemFulfillment method not available");l=await I.createItemFulfillment(n);break;case"Invoice":if(!I.createInvoice)throw new Error("createInvoice method not available");n.amountDue=ne,l=await I.createInvoice(n);break;case"CreditMemo":if(!I.createCreditMemo)throw new Error("createCreditMemo method not available");l=await I.createCreditMemo(n);break;case"DebitMemo":if(!I.createDebitMemo)throw new Error("createDebitMemo method not available");n.amountDue=ne,l=await I.createDebitMemo(n);break;default:throw new Error("Unsupported record type: ".concat(i))}let d=null;if(null!==(o=l)&&void 0!==o&&o.id)d=l.id;else if(null!==(r=l)&&void 0!==r&&null!==(a=r.data)&&void 0!==a&&a.id)d=l.data.id;else if("string"===typeof l)d=l;else{const e=Object.keys(l||{}).filter((e=>e.toLowerCase().includes("id")));e.length>0&&(d=l[e[0]])}if(!d)throw new Error("".concat(i," header created but no ID returned. Response: ").concat(JSON.stringify(l)));const u=t.items||[];if(u.length>0&&await Fe(d,u),"CreditMemo"===i&&re&&(null===(s=re.invoices)||void 0===s?void 0:s.length)>0){const t=re.invoices.filter((e=>e.checked))||[];t.length>0&&(await Ge(d,e.sequenceNumber,t),await We(re,"new"))}if("SalesOrder"!==i&&c){const e=c.map((e=>p(p({},e),{},{recordId:d,recordType:i,id:null})));console.log("Processing validated JV lines with recordId:",d),await My(e,"new",d,i)}else"SalesOrder"===i&&console.log("Skipping JV line processing for SalesOrder");return await Me(i,e),d}catch(T){throw console.error("Error creating ".concat(i,":"),T),T}})(o,e);(null===M||void 0===M||null===(t=M.standardFields)||void 0===t?void 0:t.some((e=>"form"===e.name)))&&Y&&await(async e=>{if(e)try{const t=await fetch("".concat(vi.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)return;const n=await t.text();if(!n.trim())return;const o=JSON.parse(n);if(!Array.isArray(o)||0===o.length)return;const r=o[0],i=(r.formSequenceNumber||0)+1;await fetch("".concat(vi.baseURL,"/form-sequence/").concat(r.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({formId:e,formSequenceNumber:i})})}catch(t){}})(Y),await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o=Object.entries(e).map((async e=>{let[o,r]=e;const i=B.find((e=>e.fieldName===o)),a=null===i||void 0===i?void 0:i.id,s={request:"create",typeOfRecord:n,valueText:String(r),customFieldID:a,recordID:t},l=await fetch("".concat(vi.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify($_(s))});if(!l.ok)throw new Error('Failed to create custom field "'.concat(o,'": ').concat(l.status));return await l.json()}));await Promise.all(o)})(r,n,s),De("".concat(i," created successfully with ").concat(Object.keys(r).length," custom fields"),"success"),"ItemFulfillment"===i&&sessionStorage.removeItem("salesOrderDataForFulfillment"),"Invoice"===i&&sessionStorage.removeItem("itemFulfillmentDataForBilling")}else{var n;const t=await Le(o,r,s);if(e.items&&e.items.length>0&&await(async e=>{const t={SalesOrder:{endpoint:"".concat(vi.baseURL,"/salesorderline"),getEndpoint:"".concat(vi.baseURL,"/salesorderline/by-salesorder/").concat(c),idField:"soid",quantityField:"quantity"},ItemFulfillment:{endpoint:"".concat(vi.baseURL,"/item-fulfilment-line"),getEndpoint:"".concat(vi.baseURL,"/item-fulfilment-line/by-item-fulfilment/").concat(c),idField:"dnid",quantityField:"quantity"},Invoice:{endpoint:"".concat(vi.baseURL,"/invoice-line"),getEndpoint:"".concat(vi.baseURL,"/invoice-line/by-invoice/").concat(c),idField:"inid",quantityField:"quantityDelivered"},CreditMemo:{endpoint:"".concat(vi.baseURL,"/credit-memo-line"),getEndpoint:"".concat(vi.baseURL,"/credit-memo-line/by-credit-memo/").concat(c),idField:"cmid",quantityField:"quantity"},DebitMemo:{endpoint:"".concat(vi.baseURL,"/debit-memo-line"),getEndpoint:"".concat(vi.baseURL,"/debit-memo-line/by-debit-memo/").concat(c),idField:"debitMemoId",quantityField:"quantity"}}[i];if(t)try{const o=await fetch(t.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let r=[];if(o.ok){const e=await o.json();if(Array.isArray(e))r=e;else if(e.results&&Array.isArray(e.results))r=e.results;else{const t=Object.values(e).filter((e=>Array.isArray(e)));t.length>0&&(r=t[0])}}const s=new Map;r.forEach((e=>{e.id&&s.set(e.id,e)}));const l=new Map;e.forEach((e=>{e.id&&l.set(e.id,e)}));const d=[],u=[],h=[];e.forEach(((e,t)=>{if(e.id&&s.has(e.id))d.push(e);else if(e.id){const t=p({},e);delete t.id,u.push(t)}else u.push(e)})),r.forEach((e=>{e.id&&!l.has(e.id)&&h.push(e)}));const f=d.map((e=>{const n={[t.idField]:c,itemID:e.itemID||e.itemId,[t.quantityField]:parseFloat(e.quantity||e.quantityDelivered||0),rate:parseFloat(e.rate||0),discount:parseFloat(e.discount||0),taxID:e.taxID||e.taxId,taxPercent:parseFloat(e.taxPercent||0),taxAmount:"Invoice"===i?parseFloat(e.taxRate||0):parseFloat(e.taxAmount||0),taxRate:"Invoice"===i?parseFloat(e.taxRate||0):parseFloat(e.taxAmount||0),amount:parseFloat(e.amount||e.totalAmount||0)};return fetch("".concat(t.endpoint,"/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify($_(n))})})),m=u.map((e=>{const n={[t.idField]:c,itemID:e.itemID||e.itemId,[t.quantityField]:parseFloat(e.quantity||e.quantityDelivered||0),rate:parseFloat(e.rate||0),discount:parseFloat(e.discount||0),taxID:e.taxID||e.taxId,taxPercent:parseFloat(e.taxPercent||0),taxAmount:"Invoice"===i?parseFloat(e.taxRate||0):parseFloat(e.taxAmount||0),taxRate:"Invoice"===i?parseFloat(e.taxRate||0):parseFloat(e.taxAmount||0),amount:parseFloat(e.amount||e.totalAmount||0)};return fetch(t.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($_(n))})})),g=h.map((e=>fetch("".concat(t.endpoint,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}))),v=[...f,...m,...g],y=(await Promise.all(v)).filter((e=>!e.ok));if(y.length>0)throw new Error("Failed to update ".concat(y.length," line items"));if("ItemFulfillment"===i){let t=[];if("edit"===a&&r.length>0&&(t=r),await Oe(e,"edit"===a,t),"edit"===a&&Z){const e=(null===Z||void 0===Z?void 0:Z.value)||Z;for(const t of h)try{const n=t.itemID||t.itemId,o=parseFloat(t.quantity||0);if(n&&e&&0!==o){console.log("Reversing inventory for deleted item ".concat(n,": +").concat(o));const t=await C(n,e);if(t){const r=Number(t.quantityAvailable||0),i=r+o;await S({itemId:n,locationId:e,quantity:i}),console.log("\u2705 Inventory reversed for deleted item ".concat(n,": ").concat(r," \u2192 ").concat(i))}}}catch(n){console.error("\u274c Failed to reverse inventory for deleted item ".concat(t.itemID,":"),n.message)}for(const t of d)try{const n=t.itemID||t.itemId,o=parseFloat(t.quantity||0),i=r.find((e=>e.id===t.id)),a=parseFloat((null===i||void 0===i?void 0:i.quantity)||0),s=o-a;if(console.log("DEBUG: Inventory calculation for item ".concat(n,":")),console.log("DEBUG: - originalQuantity: ".concat(a)),console.log("DEBUG: - newQuantity: ".concat(o)),console.log("DEBUG: - quantityDifference: ".concat(s)),n&&e&&0!==s){if(console.log("Updating inventory for item ".concat(n,": original ").concat(a,", new ").concat(o,", difference ").concat(s)),a>0){const t=await C(n,e);if(t){const o=Number(t.quantityAvailable||0),r=o+a;await S({itemId:n,locationId:e,quantity:r}),console.log("\u2705 Inventory reversed for item ".concat(n,": ").concat(o," \u2192 ").concat(r))}}o>0&&await k({itemId:n,locationId:e,fulfillmentQty:o,mode:"create"}),console.log("\u2705 Inventory updated for item ".concat(n))}}catch(n){console.error("\u274c Failed to update inventory for item ".concat(t.itemID,":"),n.message)}for(const t of u)try{const n=t.itemID||t.itemId,o=parseFloat(t.quantity||0);n&&e&&0!==o&&(console.log("Processing new fulfillment line for item ".concat(n,": ").concat(o)),await k({itemId:n,locationId:e,fulfillmentQty:o,mode:"create"}),console.log("\u2705 Inventory updated for new item ".concat(n)))}catch(n){console.error("\u274c Failed to update inventory for new item ".concat(t.itemID,":"),n.message)}}}if("Invoice"===i){let t=[];"edit"===a&&(t=r),await Re(e,"edit"===a,t)}}catch(T){throw T}else console.warn("No line items configuration for record type: ".concat(i))})(e.items),"CreditMemo"===i&&re&&(null===(n=re.invoices)||void 0===n?void 0:n.length)>0){const e=[...re.invoices.filter((e=>e.checked))||[]];if(e.length>0){await Ye(e);const t=re.originalData||{};await Xe(re,t)}}try{const e=await fetch("".concat(vi.baseURL,"/journal-entry-line/by-record-id/").concat(c),{method:"GET",headers:{"Content-Type":"application/json"}});let t=[];if(e.ok){const n=await e.json();if(Array.isArray(n))t=n;else if(n.results&&Array.isArray(n.results))t=n.results;else if(n.lines&&Array.isArray(n.lines))t=n.lines;else{const e=Object.values(n).filter((e=>Array.isArray(e)));e.length>0&&(t=e[0])}}if(t.length>0){const e=t.map((e=>({jeid:c,id:e.id,accountId:e.account,memo:e.memo,newCredit:0,newDebit:0,oldCredit:Number(e.credit||0),oldDebit:Number(e.debit||0)})));console.log("\ud83d\udd04 Calling processJournal for delete operation with changes:",e),await My(e,"delete")}}catch(T){console.error("Error deleting journal entry lines:",T)}e.items&&e.items.length>0&&await zy(e.items,o.form,ne,c,i),await Me(i,o),De("".concat(i," updated successfully with ").concat(t," custom fields"),"success")}"ItemFulfillment"===i&&"new"===a&&sessionStorage.removeItem("salesOrderDataForFulfillment"),"Invoice"===i&&"new"===a&&sessionStorage.removeItem("itemFulfillmentDataForBilling"),l(we[i]||"/customer")}catch(o){P(o.message),De(o.message,"error")}finally{N(!1)}},Be=async e=>{try{let t=Q;t&&0!==t.length||(t=await Ce());const n=t.find((t=>{var n;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===e.toLowerCase()}));if(console.log("recordType",n),!n)return console.warn("Record type not found: ".concat(e)),null;const o=await fetch("".concat(vi.baseURL,"/form/default-form-id/").concat(n.id),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(o.ok){const e=await o.text();console.log("defaultFormId",e);return(null===e||void 0===e?void 0:e.replace(/^["']|["']$/g,"").trim())||null}return 404===o.status?(console.warn("No default form found for record type: ".concat(e)),null):(console.error("Failed to get default form for ".concat(e,": ").concat(o.status)),null)}catch(T){return console.error("Error getting default form for ".concat(e,":"),T),null}},Ve=(0,o.useCallback)((async e=>{if(!e)return V([]),q({}),G({}),K({}),X(null),void F((e=>p(p({},e),{},{sequenceNumber:null})));try{var t,n;N(!0);const r=await Ee(e);V(r),X(e);const i=je(r.map((e=>p(p({},e),{},{name:e.fieldName}))));if("new"!==a&&c){const e=Pe(),{customData:t,customFieldIds:n}=await _e(c,e,r);G(n);const o=p(p({},i),t);q(o),K(o)}else q(i),K(i);const[s,l]=await Promise.all([fetch("".concat(vi.baseURL,"/form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(vi.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let d="";if(s.ok&&l.ok){var o;const[e,t]=await Promise.all([s.text().then((e=>e.trim()?JSON.parse(e):{})),l.text().then((e=>e.trim()?JSON.parse(e):[]))]),n=Array.isArray(t)&&t.length>0?t[0]:{formSequenceNumber:0},r=e.prefix||"",i=(n.formSequenceNumber||0)+1;d="".concat(r).concat(String(i).padStart(4,"0")),console.log("DEBUG: Form config standard fields:",null===M||void 0===M||null===(o=M.standardFields)||void 0===o?void 0:o.map((e=>e.name)))}const u=null===M||void 0===M||null===(t=M.standardFields)||void 0===t?void 0:t.some((e=>"form"===e.name)),h=null===M||void 0===M||null===(n=M.standardFields)||void 0===n?void 0:n.some((e=>"sequenceNumber"===e.name)),f={};u&&(f.form=e),h&&d&&(f.sequenceNumber=d,console.log("DEBUG: Setting sequence number in form data: ".concat(d))),F((e=>p(p({},e),f)))}catch(i){var r;(null===M||void 0===M||null===(r=M.standardFields)||void 0===r?void 0:r.some((e=>"form"===e.name)))&&F((t=>p(p({},t),{},{form:e})))}finally{N(!1)}}),[M,Ee,a,c,Pe,_e,je]),He=(0,o.useCallback)(((e,t)=>{const n=Object.keys(e);if("parent"===t&&e.name)return e.name;if("dnid"===t&&e.sequenceNumber)return e.sequenceNumber;if("form"===t&&e.formName)return e.formName;if("status"===t&&e.statusName)return e.statusName;if(("salesorder"===t||"soid"===t||"soId"===t||"salesOrderId"===t||t.toLowerCase().includes("salesorder")||t.toLowerCase().includes("sales_order")||t.toLowerCase().includes("so"))&&e.sequenceNumber)return e.sequenceNumber;const o=n.filter((e=>e.toLowerCase().endsWith("name")));if(o.length>0){if("form"===t&&e.formName)return e.formName;const n=o.filter((e=>"name"!==e.toLowerCase()&&("form"===t||"formname"!==e.toLowerCase())));if(n.length>0){const t=n.find((t=>e[t]));if(t)return e[t]}if(e.name)return e.name}const r=["title","description","label","displayName"];for(const s of r)if(e[s])return e[s];if(e.accountName&&e.accountNumber)return"".concat(e.accountNumber," - ").concat(e.accountName);if(e.itemName&&e.itemCode)return"".concat(e.itemCode," - ").concat(e.itemName);const i=n.filter((t=>t.toLowerCase().includes("name")&&e[t]));if(i.length>0){if("form"===t&&e.formName)return e.formName;const n="form"===t?i:i.filter((e=>"formname"!==e.toLowerCase()));if(n.length>0)return e[n[0]]}if(e.formName)return e.formName;const a=n.find((t=>"id"!==t&&"string"===typeof e[t]&&e[t].trim().length>0));return a?e[a]:String(e.id)}),[]),qe=(0,o.useRef)({}),Ue=((0,o.useRef)({}),(0,o.useRef)(null),(0,o.useCallback)((e=>{oe(e)}),[]),(0,o.useCallback)((e=>{console.log("\ud83d\udccb Credit application data received in SalesForm:",e),ie(e)}),[])),Ge=(0,o.useCallback)((async(e,t,n)=>{try{console.log("\ud83d\udd04 Creating Credit Memo Payment Lines for:",{creditMemoId:e,creditMemoSeqNum:t,appliedInvoices:n});const o=n.map((async n=>{const o={id:null,paymentAmount:n.displayAmount||0,recordID:n.id,isApplied:!0,refNo:n.refNo,recordType:n.type,cmid:e,creditMemoSeqNum:t,mainRecordAmount:n.dueAmount||0},r=await fetch("".concat(vi.baseURL,"/credit-memo-payment-line"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify($_(o))});if(!r.ok){const e=await r.text();throw new Error("Failed to create Credit Memo Payment Line: ".concat(r.status," - ").concat(e))}return await r.json()})),r=await Promise.all(o);return console.log("\u2705 Credit Memo Payment Lines created successfully:",r),r}catch(T){throw console.error("\u274c Error creating Credit Memo Payment Lines:",T),T}}),[]),We=(0,o.useCallback)((async(e,t)=>{try{const n=e.invoices.filter((e=>e.checked)).map((async e=>{let n,o,r=0;if("Invoice"===e.type){n=yi("/invoice/".concat(e.id));try{const e=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){r=(await e.json()).amountDue||0}}catch(T){console.warn("Failed to fetch current amountDue for Invoice ".concat(e.id,":"),T),r=e.dueAmount||0}}else if("DebitMemo"===e.type){n=yi("/debit-memo/".concat(e.id));try{const e=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){r=(await e.json()).amountDue||0}}catch(T){console.warn("Failed to fetch current amountDue for DebitMemo ".concat(e.id,":"),T),r=e.dueAmount||0}}const i=r-e.displayAmount;let a;if("delete"===t?a=be:"new"===t&&(a=0===i?xe:be),o={amountDue:Math.max(0,i),status:a},n){const t=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify($_(o))});t.ok||console.warn("Failed to update ".concat(e.type," ").concat(e.id,":"),t.status)}}));await Promise.all(n),console.log("\u2705 Applied record amounts updated successfully")}catch(T){console.error("\u274c Error updating applied record amounts:",T)}}),[]),Ke=(0,o.useCallback)((async e=>{try{console.log("\ud83d\uddd1\ufe0f Deleting existing Credit Memo Payment Lines for:",e);const t=await fetch("".concat(vi.baseURL,"/credit-memo-payment-line/by-credit-memo/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=await t.json(),n=Array.isArray(e)?e:e.lines||e.results||[];if(n.length>0){console.log("\ud83d\uddd1\ufe0f Found ".concat(n.length," Credit Memo Payment Lines to delete"));const e=n.map((async e=>{const t=await fetch("".concat(vi.baseURL,"/credit-memo-payment-line/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok){const n=await t.text();throw new Error("Failed to delete Credit Memo Payment Line ".concat(e.id,": ").concat(t.status," - ").concat(n))}return console.log("\u2705 Deleted Credit Memo Payment Line: ".concat(e.id)),t}));await Promise.all(e),console.log("\u2705 All Credit Memo Payment Lines deleted successfully")}else console.log("\u2139\ufe0f No Credit Memo Payment Lines found to delete")}else console.log("\u2139\ufe0f No existing Credit Memo Payment Lines found or endpoint not accessible")}catch(T){throw console.error("\u274c Error deleting Credit Memo Payment Lines:",T),T}}),[]),Ye=(0,o.useCallback)((async e=>{try{console.log("\ud83d\udd04 Updating Credit Memo Payment Lines for edit mode:",e),await Ke(c);const t=R.sequenceNumber||"";await Ge(c,t,e),console.log("\u2705 Credit Memo Payment Lines updated successfully")}catch(T){throw console.error("\u274c Error updating Credit Memo Payment Lines:",T),T}}),[c,R.sequenceNumber,Ke,Ge]),Xe=(0,o.useCallback)((async(e,t)=>{try{var n;console.log("\ud83d\udd04 Updating Credit Memo record amounts in edit mode:",{paymentData:e,originalPaymentData:t});const r=[],i=(null===(n=e.invoices)||void 0===n?void 0:n.filter((e=>e.checked)))||[];for(const e of i){var o;const n=["Invoice","DebitMemo"],i=null===t||void 0===t||null===(o=t.lines)||void 0===o?void 0:o.find((t=>t.recordID===e.id&&n.includes(t.recordType))),a=parseFloat((null===i||void 0===i?void 0:i.paymentAmount)||0),s=parseFloat(e.displayAmount||0),l=s-a;let c,d=0;if("Invoice"===e.type?c=yi("/invoice/".concat(e.id)):"DebitMemo"===e.type&&(c=yi("/debit-memo/".concat(e.id))),c)try{const e=await fetch(c,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json();d=parseFloat(t.amountDue||0)}}catch(T){console.warn("Failed to fetch current amountDue for ".concat(e.type," ").concat(e.id,":"),T),d=parseFloat(e.dueAmount||0)}const u=d-l;let p,h;p=0===u?xe:be,console.log("Edit Mode - ".concat(e.type," ").concat(e.refNo,": Original Payment: ").concat(a,", New Payment: ").concat(s,", Payment Difference: ").concat(l,", Fetched Current Amount Due: ").concat(d,", New Amount Due: ").concat(u)),("Invoice"===e.type||"DebitMemo"===e.type)&&(h={amountDue:u,status:p}),h&&c&&0!==l&&r.push(fetch(c,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify($_(h))}))}if(r.length>0){const e=(await Promise.all(r)).filter((e=>!e.ok));if(e.length>0)throw new Error("Failed to update ".concat(e.length," record amounts"));console.log("\u2705 Credit Memo record amounts updated successfully in edit mode")}}catch(T){throw console.error("\u274c Error updating Credit Memo record amounts in edit mode:",T),T}}),[]),Qe=(0,o.useCallback)((async e=>{try{console.log("\ud83d\udcd6 Loading existing Credit Memo Payment Lines for:",e);const t=await fetch(yi("/credit-memo-payment-line/by-credit-memo/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=await t.json(),n=Array.isArray(e)?e:e.lines||e.results||[];return console.log("\ud83d\udccb Loaded Credit Memo Payment Lines:",n),n}return[]}catch(T){return console.error("\u274c Error loading Credit Memo Payment Lines:",T),[]}}),[]),Je=(0,o.useCallback)((e=>{var t;const{name:n,onChange:o,value:r}=e,i=L[n]||[],a="".concat(n,"_").concat(i.length,"_").concat((null===(t=i[0])||void 0===t?void 0:t.id)||i[0]||"");let s;qe.current[a]?s=qe.current[a]:(s=i.map((e=>{if("string"===typeof e)return{text:e,value:e};if(!e.id)return{text:String(e),value:e};return{text:He(e,n),value:e.id}})),qe.current[a]=s);const l=[{text:"-- Select --",value:null},...s],c=null!==r&&void 0!==r&&""!==r?l.find((e=>e.value===r)):l[0];return{data:l,textField:"text",valueField:"value",value:c,virtual:!1,popupSettings:{appendTo:document.body,animate:!1},onChange:async e=>{var t;const r=(null===(t=e.target.value)||void 0===t?void 0:t.value)||e.target.value,i=""===r||void 0===r?null:r;o&&o({target:{value:i}}),"form"===n&&await Ve(i),"locationID"===n&&(console.log("\ud83d\udccd ".concat(n," selected:"),i),$(i))}}}),[L,Ve,$]),Ze=(0,o.useCallback)((e=>{const{name:t}=e,n=(L[t]||[]).map((e=>{if("string"===typeof e)return{text:e,value:e};if(e.name&&e.id)return{text:e.name,value:e.id};if(e.text&&e.value)return e;const t=Object.keys(e);return{text:e[t[0]],value:e[t[0]]}}));return{data:n,textField:"text",valueField:"value"}}),[L]),$e=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:n,touched:o,label:r}=e,i=s(e,Z_),l=o&&n,c=p(p({},i),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===a||i.disabled}),d={text:{component:qc,props:c},number:{component:Su,props:p(p({},c),{},{min:0,step:0,spinners:!1})},textarea:{component:ju,props:p(p({},c),{},{rows:4})},checkbox:{component:Tu,props:p(p({},c),{},{label:r,checked:i.value||!1,style:{display:"flex",alignItems:"center"}})},date:{component:oy,props:c},dropdown:{component:Ah,props:p(p({},c),Je(e))},multiselect:{component:af,props:p(p({},c),Ze(e))}},u=d[t]||d.text;return(0,pi.jsxs)("div",{children:[(0,pi.jsx)(u.component,p({},u.props)),l&&(0,pi.jsx)("div",{className:"k-form-error",children:n})]})}}),[a,Je,Ze]),et=(0,o.useMemo)((()=>({Input:$e(qc,"text"),TextArea:$e(ju,"textarea"),Checkbox:$e(Tu,"checkbox"),NumericTextBox:$e(qc,"number"),Number:$e(qc,"number"),DropDownList:$e(Ah,"dropdown"),DatePicker:$e(oy,"date"),MultiSelect:$e(af,"multiselect")})),[$e]),tt=e=>et[e.fieldTypeName]||et.Input,nt=function(e){const t=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);return e.isMandatory?"".concat(t," *"):t},ot=(0,o.useCallback)((function(e){if(e.isMandatory)return t=>t&&""!==t?"email"===e.name&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"Please enter a valid email address":"phone"===e.name&&t&&!/^\d{10}$/.test(t.replace(/\D/g,""))?"Phone number must be 10 digits":"":"".concat(e.displayName||e.name," is required")}),[]),rt=e=>{if(e.isRequired)return t=>t&&""!==t?"":"".concat(e.fieldLabel||e.fieldName," is required")},it=(0,o.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const i=t?"custom_".concat(e.fieldName||e.name):e.name,s=t&&e.fieldName||e.name,l=o||"".concat(t?"custom":"standard","-field-").concat(e.id||s),c=t?"".concat(e.fieldLabel||e.fieldName).concat(e.isRequired?" *":""):nt(e,r),d=tt(e),u=t?rt(e):ot(e,r),p="Checkbox"===e.fieldTypeName||"Switch"===e.fieldTypeName,h="view"===a||e.isDisabled;return(0,pi.jsxs)("div",{className:"master-field-group ".concat(n?"master-field-full":""," ").concat(p?"checkbox-wrapper":""),children:[!p&&(0,pi.jsx)("label",{className:"k-label",children:c}),(0,pi.jsx)("div",{className:"field-wrapper",children:(0,pi.jsx)(wi,{id:i,name:i,component:d,validator:u,disabled:h,label:p?c:void 0})})]},l)}),[a,i,tt,nt,ot,rt]),at=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=[];let i=[];return e.forEach((e=>{["TextArea","Checkbox","MultiSelect"].includes(e.fieldTypeName)?(i.length>0&&(r.push({type:"row",fields:[...i]}),i=[]),r.push({type:"fullWidth",field:e})):(i.push(e),3===i.length&&(r.push({type:"row",fields:[...i]}),i=[]))})),i.length>0&&r.push({type:"row",fields:[...i]}),r.map(((e,r)=>{const i=t?"custom":"standard";return"row"===e.type?(0,pi.jsx)(o.Fragment,{children:e.fields.map((e=>it(e,t,!1,null,n)))},"".concat(i,"-row-").concat(r)):it(e.field,t,!0,"".concat(i,"-full-").concat(r),n)}))}),[it]);return D||d||!M||!ee?(0,pi.jsx)("div",{className:"master-form-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsxs)("div",{children:["Loading ",i.toLowerCase()," form..."]})]})}):T||u?(0,pi.jsx)("div",{className:"master-form-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("h3",{children:["Error Loading ",i]}),(0,pi.jsx)("p",{children:T||u}),(0,pi.jsx)(xo,{onClick:()=>l("/"),children:"Back to Dashboard"})]})}):(0,pi.jsxs)("div",{className:"master-form-container","data-theme":i.toLowerCase(),children:[(0,pi.jsx)(uy,{children:E.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:E.type,icon:!0},closable:!0,onClose:()=>_({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:E.message})})})}),(0,pi.jsxs)("div",{className:"master-form-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,pi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,pi.jsx)("h2",{children:"new"===a?"Create New ".concat(i):"edit"===a?"Edit ".concat(i):"View ".concat(i)}),("edit"===a||"view"===a)&&R.status&&(()=>{const e=(L.status||[]).find((e=>e.id===R.status)),t=(null===e||void 0===e?void 0:e.name)||"",n=(e=>{switch(e.toLowerCase()){case"open":return{bg:"#FEF3C7",text:"#92400E",border:"#F59E0B"};case"closed":return{bg:"#F3F4F6",text:"#374151",border:"#6B7280"};default:return{bg:"#F3F4F6",text:"#374151",border:"#9CA3AF"}}})(t);return(0,pi.jsx)("span",{style:{display:"inline-flex",alignItems:"center",padding:"6px 12px",borderRadius:"16px",fontSize:"12px",fontWeight:"600",backgroundColor:n.bg,color:n.text,border:"1px solid ".concat(n.border),textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:t})})()]}),(0,pi.jsxs)("div",{style:{display:"flex",gap:"8px",marginRight:"16px"},children:[(0,pi.jsxs)(xo,{type:"button",onClick:()=>l(we[i]||"/sales-order"),className:"k-button k-button-secondary",children:[(0,pi.jsx)(ai,{})," ","view"===a?"Close":"Cancel"]}),"SalesOrder"===i&&"view"===a&&"5e3f19d1-f615-4954-88cb-30975d52b8cd"===R.status&&(0,pi.jsxs)(xo,{type:"button",onClick:async()=>{console.log("\ud83d\udd35 handleFulfill started"),console.log("\ud83d\udd35 Current ID:",c),console.log("\ud83d\udd35 Current formData:",R),console.log("\ud83d\udd35 Record types state:",Q);try{console.log('\ud83d\udfe1 Calling getDefaultFormForRecordType with "ItemFulfillment"');const e=await Be("ItemFulfillment");console.log("\ud83d\udfe2 Default form ID received:",e);const t="".concat(vi.baseURL,"/salesorderline/unfulfilled?SOID=").concat(c);console.log("\ud83d\udfe1 Making API call to:",t),console.log("\ud83d\udfe1 API headers:",vi.headers);const n=await fetch(t,{method:"GET",headers:vi.headers});if(console.log("\ud83d\udfe1 API response status:",n.status),console.log("\ud83d\udfe1 API response ok:",n.ok),!n.ok)throw new Error("Failed to fetch unfulfilled items");const o=await n.json();console.log("\ud83d\udfe2 Unfulfilled items received:",o);const r={soid:c,customerID:R.customerID,locationID:R.locationID,soDate:R.soDate,deliveryDate:R.deliveryDate,discount:R.discount,totalAmount:R.totalAmount,items:o||[],form:e};console.log("\ud83d\udfe2 Sales order data prepared:",r),console.log("[handleFulfill] Storing salesOrderData in sessionStorage:",r),sessionStorage.setItem("salesOrderDataForFulfillment",JSON.stringify(r)),console.log("[handleFulfill] SessionStorage set, navigating to ItemFulfillment form"),console.log("\ud83d\udfe2 Data stored in sessionStorage"),console.log("\ud83d\udfe2 Navigating to /item-fulfillment/new"),l("/item-fulfillment/new")}catch(T){console.error("\ud83d\udd34 Error in handleFulfill:",T),console.log("\ud83d\udfe1 Falling back to existing formData.items"),console.log("\ud83d\udfe1 Getting default form ID for fallback");const t=await Be("ItemFulfillment");console.log("\ud83d\udfe2 Fallback default form ID:",t);const n={soid:c,customerID:R.customerID,locationID:R.locationID,soDate:R.soDate,deliveryDate:R.deliveryDate,discount:R.discount,totalAmount:R.totalAmount,items:R.items||[],form:t};console.log("\ud83d\udfe2 Fallback sales order data prepared:",n),sessionStorage.setItem("salesOrderDataForFulfillment",JSON.stringify(n)),console.log("\ud83d\udfe2 Fallback data stored in sessionStorage"),console.log("\ud83d\udfe2 Navigating to /item-fulfillment/new (fallback)"),l("/item-fulfillment/new")}},className:"k-button k-button-success",children:[(0,pi.jsx)(ci,{})," Fulfill"]}),"ItemFulfillment"===i&&"view"===a&&"5e3f19d1-f615-4954-88cb-30975d52b8cd"===R.status&&(0,pi.jsxs)(xo,{type:"button",onClick:async()=>{try{const e=await Be("Invoice"),t=await fetch("".concat(vi.baseURL,"/item-fulfilment-line/unfulfilled?DNID=").concat(c),{method:"GET",headers:vi.headers});if(!t.ok)throw new Error("Failed to fetch uninvoiced items");const n=await t.json(),o={dnid:c,customerID:R.customerID,locationID:R.locationID,deliveryDate:R.deliveryDate,discount:R.discount,totalAmount:R.totalAmount,items:n||[],form:e};sessionStorage.setItem("itemFulfillmentDataForBilling",JSON.stringify(o)),l("/invoice/new")}catch(T){console.error("Error fetching uninvoiced items:",T);const t=await Be("Invoice"),n={dnid:c,customerID:R.customerID,locationID:R.locationID,deliveryDate:R.deliveryDate,discount:R.discount,totalAmount:R.totalAmount,items:R.items||[],form:t};sessionStorage.setItem("itemFulfillmentDataForBilling",JSON.stringify(n)),l("/invoice/new")}},className:"k-button k-button-success",children:[(0,pi.jsx)(Wr,{})," Bill"]})]})]}),("Invoice"===i||"DebitMemo"===i||"CreditMemo"===i)&&(0,pi.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px",marginTop:"10px"},children:(0,pi.jsxs)("div",{style:{display:"flex",backgroundColor:"#ffffff",border:"2px solid #e8f4fd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",minWidth:"280px"},children:[(0,pi.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#f8fbff",borderRight:"1px solid #e8f4fd",flex:1},children:[(0,pi.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"Total"}),(0,pi.jsx)("div",{style:{fontSize:"18px",color:"#2c3e50",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:"CreditMemo"===i?(null===R||void 0===R||null===(t=R.totalAmount)||void 0===t?void 0:t.toFixed(2))||"0.00":(null===ne||void 0===ne?void 0:ne.toFixed(2))||"0.00"})]}),(0,pi.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#ffffff",flex:1},children:[(0,pi.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"CreditMemo"===i?"UnApplied":"Amount Due"}),(0,pi.jsx)("div",{style:{fontSize:"18px",color:"CreditMemo"===i?"#27ae60":"#e74c3c",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:"CreditMemo"===i?(null===R||void 0===R||null===(n=R.unApplied)||void 0===n?void 0:n.toFixed(2))||"0.00":(null===R||void 0===R||null===(r=R.amountDue)||void 0===r?void 0:r.toFixed(2))||(null===ne||void 0===ne?void 0:ne.toFixed(2))||"0.00"})]})]})}),(0,pi.jsx)("div",{className:"master-form-element",children:(0,pi.jsx)(ha,{initialValues:Ae,validator:Ne,onSubmit:ze,render:e=>(0,pi.jsxs)(xa,{children:[(0,pi.jsxs)("div",{className:"master-form-content",children:[(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:at(M.standardFields,!1,e)})]}),B.length>0&&(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:at(B,!0,e)})]}),(0,pi.jsx)("div",{className:"form-section",children:"view"!==a||"SalesOrder"!==i&&"Invoice"!==i&&"ItemFulfillment"!==i&&"CreditMemo"!==i&&"DebitMemo"!==i?(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Items"})}),(0,pi.jsx)("div",{style:{padding:"0",width:"100%",maxWidth:"100%",overflow:"hidden"},children:(0,pi.jsx)(J_,{recordType:i,mode:a,embedded:!0,onTotalAmountChange:oe,headerDiscount:e.valueGetter("discount")||0,selectedLocation:Z,soid:"ItemFulfillment"===i?"new"===a?e.valueGetter("salesOrderId")||e.valueGetter("soid")||e.valueGetter("salesOrder"):R.soid||R.salesOrderId:"new"===a?c:null,dnid:"Invoice"===i?"new"===a?e.valueGetter("itemFulfillmentId")||e.valueGetter("dnid")||e.valueGetter("itemFulfillment"):R.dnid||R.itemFulfillmentId:null,customerId:"CreditMemo"===i?e.valueGetter("customerID")||e.valueGetter("customer")||R.customerID:null,creditMemoTotalAmount:"CreditMemo"===i&&(ne||e.valueGetter("totalAmount"))||0,onCreditApplicationChange:"CreditMemo"===i?Ue:null})})]}):(0,pi.jsxs)("div",{className:"payment-container",style:{border:"none",boxShadow:"none",background:"transparent",padding:"0"},children:[(0,pi.jsx)("style",{children:'\n                        .payment-container { \n                          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; \n                          background-color: #fff; \n                          color: #333; \n                        }\n                      '}),(0,pi.jsxs)("div",{className:"sales-tabs",children:[(0,pi.jsxs)("button",{type:"button",className:"sales-tab ".concat("items"===ae?"active":""),onClick:()=>{se("items"),window.dispatchEvent(new CustomEvent("resetSalesItemsTab"))},children:[(0,pi.jsx)(Hr,{})," Items"]}),("Invoice"===i||"DebitMemo"===i)&&(0,pi.jsxs)("button",{type:"button",className:"sales-tab ".concat("transactions"===ae?"active":""),onClick:()=>{se("transactions"),window.dispatchEvent(new CustomEvent("resetSalesItemsTab"))},children:[(0,pi.jsx)(Yr,{})," Payments"]}),("Invoice"===i||"DebitMemo"===i||"CreditMemo"===i||"ItemFulfillment"===i)&&("edit"===a||"view"===a)&&(0,pi.jsxs)("button",{type:"button",className:"sales-tab ".concat("glimpact"===ae?"active":""),onClick:()=>{se("glimpact"),window.dispatchEvent(new CustomEvent("resetSalesItemsTab"))},children:[(0,pi.jsx)(qr,{})," GL Impact"]})]}),(0,pi.jsxs)("div",{className:"sales-tab-content",children:["items"===ae&&(0,pi.jsx)(J_,{recordType:i,mode:a,embedded:!0,onTotalAmountChange:oe,headerDiscount:e.valueGetter("discount")||0,selectedLocation:Z,soid:"ItemFulfillment"===i?"new"===a?e.valueGetter("salesOrderId")||e.valueGetter("soid")||e.valueGetter("salesOrder"):R.soid||R.salesOrderId:"new"===a?c:null,dnid:"Invoice"===i?"new"===a?e.valueGetter("itemFulfillmentId")||e.valueGetter("dnid")||e.valueGetter("itemFulfillment"):R.dnid||R.itemFulfillmentId:null,customerId:"CreditMemo"===i?e.valueGetter("customerID")||e.valueGetter("customer")||R.customerID:null,creditMemoTotalAmount:"CreditMemo"===i&&(ne||e.valueGetter("totalAmount"))||0,onCreditApplicationChange:"CreditMemo"===i?Ue:null}),"transactions"===ae&&("Invoice"===i||"DebitMemo"===i)&&(de?(0,pi.jsx)("div",{className:"transactions-section",children:(0,pi.jsxs)("div",{className:"empty-state",children:[(0,pi.jsx)("div",{className:"empty-state-icon",children:"\u23f3"}),(0,pi.jsx)("p",{className:"empty-state-text",children:"Loading transactions..."})]})}):le&&0!==le.length?(0,pi.jsx)("div",{className:"transactions-section",children:(0,pi.jsxs)("table",{className:"transactions-table",children:[(0,pi.jsx)("thead",{children:(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("th",{children:"Action"}),(0,pi.jsx)("th",{children:"Type"}),(0,pi.jsx)("th",{children:"Payment ID"}),(0,pi.jsx)("th",{children:"Amount"})]})}),(0,pi.jsx)("tbody",{children:le.map(((e,t)=>(0,pi.jsxs)("tr",{children:[(0,pi.jsxs)("td",{children:["Customer Payment"===e.transactionType&&(0,pi.jsxs)("a",{href:"/customer-payment/view/".concat(e.paymentId),className:"view-link",onClick:t=>{t.preventDefault(),l("/customer-payment/view/".concat(e.paymentId))},children:[(0,pi.jsx)(Zr,{})," View"]}),"Credit Memo"===e.transactionType&&(0,pi.jsxs)("a",{href:"/credit-memo/view/".concat(e.paymentId||e.cmid),className:"view-link",onClick:t=>{t.preventDefault(),l("/credit-memo/view/".concat(e.paymentId||e.cmid))},children:[(0,pi.jsx)(Zr,{})," View"]})]}),(0,pi.jsx)("td",{children:(0,pi.jsx)("span",{className:"payment-id",children:e.transactionType})}),(0,pi.jsx)("td",{children:(0,pi.jsx)("span",{className:"payment-id",children:e.paymentSeqNum||e.creditMemoSeqNum||"N/A"})}),(0,pi.jsx)("td",{children:(0,pi.jsx)("span",{className:"payment-amount",children:(e.paymentAmount||0).toFixed(2)})})]},e.id||t)))})]})}):(0,pi.jsx)("div",{className:"transactions-section",children:(0,pi.jsxs)("div",{className:"empty-state",children:[(0,pi.jsx)("div",{className:"empty-state-icon",children:"\ud83d\udcc4"}),(0,pi.jsxs)("p",{className:"empty-state-text",children:["No payment transactions found for this ",i.toLowerCase(),"."]})]})})),"glimpact"===ae&&("Invoice"===i||"DebitMemo"===i||"CreditMemo"===i||"ItemFulfillment"===i)&&("edit"===a||"view"===a)&&(fe?(0,pi.jsx)("div",{className:"transactions-section",children:(0,pi.jsxs)("div",{className:"empty-state",children:[(0,pi.jsx)("div",{className:"empty-state-icon",children:"\u23f3"}),(0,pi.jsx)("p",{className:"empty-state-text",children:"Loading GL Impact data..."})]})}):pe&&0!==pe.length?(0,pi.jsx)("div",{className:"transactions-section",children:(0,pi.jsxs)("table",{className:"transactions-table",children:[(0,pi.jsx)("thead",{children:(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("th",{children:"Account Name"}),(0,pi.jsx)("th",{children:"Debit"}),(0,pi.jsx)("th",{children:"Credit"}),(0,pi.jsx)("th",{children:"Memo"})]})}),(0,pi.jsx)("tbody",{children:pe.map(((e,t)=>(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("td",{children:e.accountName||""}),(0,pi.jsx)("td",{children:(0,pi.jsx)("span",{className:"payment-amount",children:e.debit?e.debit.toFixed(2):"0.00"})}),(0,pi.jsx)("td",{children:(0,pi.jsx)("span",{className:"payment-amount",children:e.credit?e.credit.toFixed(2):"0.00"})}),(0,pi.jsx)("td",{children:e.memo||""})]},e.id||t)))})]})}):(0,pi.jsx)("div",{className:"transactions-section",children:(0,pi.jsxs)("div",{className:"empty-state",children:[(0,pi.jsx)("div",{className:"empty-state-icon",children:"\ud83d\udcca"}),(0,pi.jsxs)("p",{className:"empty-state-text",children:["No GL Impact data found for this ",i.toLowerCase(),"."]})]})}))]})]})})]}),(0,pi.jsxs)("div",{className:"master-form-actions",children:[(0,pi.jsxs)(xo,{type:"button",onClick:()=>l(we[i]||"/sales-order"),className:"k-button k-button-secondary",children:[(0,pi.jsx)(ai,{})," ","view"===a?"Close":"Cancel"]}),"new"!==a&&(0,pi.jsxs)(xo,{type:"button",onClick:()=>A(!0),className:"k-button k-button-danger",children:[(0,pi.jsx)(li,{})," Delete"]}),"view"!==a&&(0,pi.jsxs)(xo,{type:"submit",disabled:D||(()=>{if("CreditMemo"===i)return!1;if("ItemFulfillment"===i&&"new"===a){if(sessionStorage.getItem("salesOrderDataForFulfillment"))return!1}if("Invoice"===i&&"new"===a){if(sessionStorage.getItem("itemFulfillmentDataForBilling"))return!1}return!e.allowSubmit})(),className:"k-button k-button-primary",onClick:t=>{if((()=>{if("CreditMemo"===i)return!0;if("ItemFulfillment"===i&&"new"===a){return sessionStorage.getItem("salesOrderDataForFulfillment")}if("Invoice"===i&&"new"===a){return sessionStorage.getItem("itemFulfillmentDataForBilling")}return!1})()&&!e.allowSubmit){t.preventDefault();const n=e.value||Ae;ze(n)}},children:[(0,pi.jsx)(ni,{})," ",D?"Saving...":"Save"]})]})]})},"".concat(i.toLowerCase(),"-form-").concat(a,"-").concat(c||"new","-").concat(Y||"no-form"))}),(0,pi.jsx)(hy,{isOpen:j,onClose:()=>A(!1),onConfirm:async()=>{if(I)try{N(!0),P(null);const t={SalesOrder:{endpoint:"".concat(vi.baseURL,"/salesorderline"),getEndpoint:"".concat(vi.baseURL,"/salesorderline/by-salesorder/").concat(c),idField:"soid",quantityField:"quantity"},ItemFulfillment:{endpoint:"".concat(vi.baseURL,"/item-fulfilment-line"),getEndpoint:"".concat(vi.baseURL,"/item-fulfilment-line/by-item-fulfilment/").concat(c),idField:"dnid",quantityField:"quantity"},Invoice:{endpoint:"".concat(vi.baseURL,"/invoice-line"),getEndpoint:"".concat(vi.baseURL,"/invoice-line/by-invoice/").concat(c),idField:"inid",quantityField:"quantityDelivered"},CreditMemo:{endpoint:"".concat(vi.baseURL,"/credit-memo-line"),getEndpoint:"".concat(vi.baseURL,"/credit-memo-line/by-credit-memo/").concat(c),idField:"cmid",quantityField:"quantity"},DebitMemo:{endpoint:"".concat(vi.baseURL,"/debit-memo-line"),getEndpoint:"".concat(vi.baseURL,"/debit-memo-line/by-debit-memo/").concat(c),idField:"debitMemoId",quantityField:"quantity"}}[i];if("CreditMemo"===i){try{const e=await Qe(c);if(console.log("Existing payment lines:",e),e.length>0){const t={invoices:e.map((e=>({id:e.recordID,type:e.recordType,displayAmount:-e.paymentAmount,checked:!0,dueAmount:e.mainRecordAmount})))};await We(t,"delete")}}catch(T){console.error("\u274c Error reversing applied record amounts:",T)}await Ke(c)}if(t&&t.getEndpoint){const n=await fetch(t.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let o=[];if(n.ok){const e=await n.json();if(Array.isArray(e))o=e;else if(e.results&&Array.isArray(e.results))o=e.results;else{const t=Object.values(e).filter((e=>Array.isArray(e)));t.length>0&&(o=t[0])}}if("ItemFulfillment"===i&&o.length>0&&(await Oe([],!0,o),Z)){const t=(null===Z||void 0===Z?void 0:Z.value)||Z;for(const n of o)try{const e=n.itemID||n.itemId,o=parseFloat(n.quantity||0);if(e&&t&&0!==o){console.log("Reversing inventory for deleted fulfillment item ".concat(e,": +").concat(o));const n=await C(e,t);if(n){const r=Number(n.quantityAvailable||0),i=r+o;await S({itemId:e,locationId:t,quantity:i}),console.log("\u2705 Inventory reversed for deleted fulfillment item ".concat(e,": ").concat(r," \u2192 ").concat(i))}}}catch(e){console.error("\u274c Failed to reverse inventory for deleted fulfillment item ".concat(n.itemID,":"),e.message)}}if("Invoice"===i&&o.length>0&&await Re([],!0,o),o.length>0){const e=o.map((e=>fetch("".concat(t.endpoint,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}))),n=(await Promise.all(e)).filter((e=>!e.ok));if(n.length>0)throw new Error("Failed to delete ".concat(n.length," line items"))}}let n;switch(i){case"SalesOrder":n=I.deleteSalesOrder;break;case"ItemFulfillment":n=I.deleteItemFulfillment;break;case"Invoice":n=I.deleteInvoice;break;case"CreditMemo":n=I.deleteCreditMemo;break;case"DebitMemo":n=I.deleteDebitMemo;break;default:throw new Error("Unsupported record type: ".concat(i))}if(!n)throw new Error("Delete method not available for ".concat(i));await n(c);try{console.log("existingResponse delete 11111111111111 ---- id",c);const e=await fetch("".concat(vi.baseURL,"/journal-entry-line/by-record-id/").concat(c),{method:"GET",headers:{"Content-Type":"application/json"}});console.log("existingResponse delete 11111111111111",e);let t=[];if(e.ok){const n=await e.json();Array.isArray(n)&&(t=n)}if(console.log("existingItems 22222222",t),t.length>0){const e=t.map((e=>({jeid:c,id:e.id,accountId:e.account,memo:e.memo,newCredit:0,newDebit:0,oldCredit:Number(e.credit||0),oldDebit:Number(e.debit||0)})));await My(e,"delete")}}catch(T){console.error("Error deleting journal entry lines:",T)}try{const e=Te(M,Q,i);await(async(e,t)=>{if(e&&t)try{const n=await fetch("".concat(vi.baseURL,"/custom-field-value/by-type-and-record?typeOfRecord=").concat(t,"&recordId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(n.ok){const t=await n.json();if(Array.isArray(t)&&t.length>0){const n=t.map((async e=>{const t=await fetch("".concat(vi.baseURL,"/custom-field-value/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});t.ok||console.warn("Failed to delete custom field value ".concat(e.id,": ").concat(t.status))}));await Promise.all(n),console.log("\u2705 Deleted ".concat(t.length," custom field values for ").concat(i," ").concat(e))}}else 404!==n.status&&console.warn("Failed to fetch custom field values for deletion: ".concat(n.status))}catch(T){console.error("Error deleting custom field values:",T)}})(c,e)}catch(T){console.error("Error deleting custom field values:",T)}De("".concat(i," deleted successfully!"),"success"),A(!1);l(we[i]||"/")}catch(T){De("Failed to delete ".concat(i,": ").concat(T.message),"error")}finally{N(!1)}else De("No hook available for ".concat(i),"error")},title:"Confirm Delete",message:(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsxs)("p",{children:["Are you sure you want to delete this ",i.toLowerCase(),"?"]}),(0,pi.jsx)("p",{children:(0,pi.jsx)("strong",{children:"This action cannot be undone."})})]}),confirmText:"Delete",cancelText:"Cancel",type:"danger",loading:D})]})})),tj=e=>(0,pi.jsx)(ej,p(p({},e),{},{recordType:"SalesOrder"})),nj=e=>(0,pi.jsx)(ej,p(p({},e),{},{recordType:"ItemFulfillment"})),oj=e=>(0,pi.jsx)(ej,p(p({},e),{},{recordType:"Invoice"})),rj=ej,ij=()=>{const e=ge(),{salesOrders:t,loading:n,error:r,refresh:i}=ky(),{customers:a}=xy(),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[f,m]=(0,o.useState)({skip:0,take:10,sort:[{field:"soDate",dir:"desc"}]}),g=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find((t=>t.id===e));return n?n.name:"Unknown Customer"},v=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),y=(0,o.useCallback)((()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];s&&(e=e.filter((e=>{const t=g(e.customerID);return"".concat(e.salesOrderNumber||""," ").concat(t," ").concat(e.status," ").concat(v(e.totalAmount)).toLowerCase().includes(s.toLowerCase())}))),"All"!==c&&(e=e.filter((e=>e.status===c)));return{data:ub(e,f).data,total:e.length}}),[t,s,c,a,f]);return n?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"sales-order-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading sales orders..."})]})})}):r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"sales-order-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading sales orders: ",r]}),(0,pi.jsxs)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"sales-order-list-container",children:[(0,pi.jsx)(uy,{children:u.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:u.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Sales Order Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/sales-order/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Sales Order"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search sales orders...",value:s,onChange:e=>l(e.target.value)})]}),(0,pi.jsxs)("div",{className:"filter-bar",children:[(0,pi.jsx)($r,{className:"filter-icon"}),(0,pi.jsx)(Ah,{data:["All","Draft","Fulfilled","Cancelled"],value:c,onChange:e=>d(e.target.value),style:{width:"100%"}})]}),(0,pi.jsx)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===y().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No sales orders match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},f),{},{onDataStateChange:e=>{m(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(f.skip||0);return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,pi.jsx)(Uy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,pi.jsx)(Uy,{field:"customerID",title:"Customer",width:"200px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:g(e.dataItem.customerID)}))}),(0,pi.jsx)(Uy,{field:"status",title:"Status",width:"150px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,pi.jsx)("span",{className:"status-badge ".concat("status-open"),children:"Open"})}))}),(0,pi.jsx)(Uy,{field:"totalAmount",title:"Total Amount",width:"140px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:v(e.dataItem[e.field])}))}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/sales-order/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/sales-order/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid order data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No sales orders found. Click the "Add New Sales Order" button above to create your first sales order.'})}),(0,pi.jsx)("style",{children:'\n          .sales-order-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n            max-width: none;\n            white-space: nowrap;\n            text-overflow: clip;\n            overflow: visible;\n            width: auto;\n          }\n\n          .status-draft {\n            background-color: #FEF3C7;\n            color: #92400E;\n          }\n\n          .status-fulfilled {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-cancelled {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .sales-order-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n\n          .k-grid .k-table-td .status-badge {\n            max-width: none !important;\n            overflow: visible !important;\n        }\n      '})]})})},aj=()=>{const e=ge(),{itemFulfillments:t,loading:n,error:r,refresh:i}=Cy(),{customers:a}=xy(),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)({show:!1,message:"",type:"success"}),[u,h]=(0,o.useState)({skip:0,take:10,sort:[{field:"deliveryDate",dir:"desc"}]}),f=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find((t=>t.id===e));return n?n.name:"Unknown Customer"},m=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},g=(0,o.useCallback)((()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];s&&(e=e.filter((e=>{const t=f(e.customerID);return"".concat(t," ").concat(e.soNumber||"").toLowerCase().includes(s.toLowerCase())})));return{data:ub(e,u).data,total:e.length}}),[t,s,a,u]);return n?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"sales-order-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading item fulfillments..."})]})})}):r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"sales-order-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading item fulfillments: ",r]}),(0,pi.jsxs)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"sales-order-list-container",children:[(0,pi.jsx)(uy,{children:c.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:c.type,icon:!0},closable:!0,onClose:()=>d({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:c.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Item Fulfillment Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/item-fulfillment/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Item Fulfillment"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search item fulfillments...",value:s,onChange:e=>l(e.target.value)})]}),(0,pi.jsx)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===g().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No item fulfillments match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:g().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},u),{},{onDataStateChange:e=>{h(e.dataState)},total:g().total,style:{height:"calc(100vh - 250px)",minHeight:"400px",width:"100%"},children:[(0,pi.jsx)(Uy,{title:"No",width:"80px",cell:e=>{const t=e.dataIndex+1+(u.skip||0);return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,pi.jsx)(Uy,{field:"sequenceNumber",title:"Reference Number",width:"180px"}),(0,pi.jsx)(Uy,{field:"deliveryDate",title:"Delivery Date",width:"160px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:m(e.dataItem[e.field])}))}),(0,pi.jsx)(Uy,{field:"customerID",title:"Customer",width:"220px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:f(e.dataItem.customerID)}))}),(0,pi.jsx)(Uy,{title:"Actions",width:"140px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/item-fulfillment/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/item-fulfillment/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid fulfillment data"}))}})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No item fulfillments found. Click the "Add New Item Fulfillment" button above to create your first item fulfillment.'})}),(0,pi.jsx)("style",{children:'\n          .sales-order-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n            padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n            border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n          }\n\n          @media (max-width: 768px) {\n            .sales-order-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n          }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n          }\n\n          @media (max-width: 768px) {\n            .page-container {\n              padding: 12px;\n            }\n\n            .item-fulfillment-list-container {\n              padding: 12px;\n            }\n\n            .list-header {\n              flex-direction: column;\n              gap: 12px;\n              align-items: stretch;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: 100%;\n            }\n\n            .k-grid {\n              font-size: 13px;\n            }\n\n            .action-buttons {\n              flex-direction: column;\n              gap: 4px;\n            }\n\n            .action-buttons .k-button {\n              min-width: 50px;\n              font-size: 11px;\n            }\n          }\n        '})]})})},sj=()=>{const e=ge(),{invoices:t,loading:n,error:r,refresh:i}=Sy(),{customers:a}=xy(),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[f,m]=(0,o.useState)({skip:0,take:10,sort:[{field:"invoiceDate",dir:"desc"}]}),g=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find((t=>t.id===e));return n?n.name:"Unknown Customer"},v=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),y=(0,o.useCallback)((()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];s&&(e=e.filter((e=>{const t=g(e.customerID);return"".concat(e.invoiceNumber||""," ").concat(t," ").concat(e.status," ").concat(v(e.totalAmount)).toLowerCase().includes(s.toLowerCase())}))),"All"!==c&&(e=e.filter((e=>e.status===c)));return{data:ub(e,f).data,total:e.length}}),[t,s,c,a,f]);return n?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"sales-order-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading invoices..."})]})})}):r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"sales-order-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading invoices: ",r]}),(0,pi.jsxs)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"sales-order-list-container",children:[(0,pi.jsx)(uy,{children:u.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:u.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Invoice Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/invoice/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Invoice"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search invoices...",value:s,onChange:e=>l(e.target.value)})]}),(0,pi.jsxs)("div",{className:"filter-bar",children:[(0,pi.jsx)($r,{className:"filter-icon"}),(0,pi.jsx)(Ah,{data:["All","Draft","Paid","Cancelled"],value:c,onChange:e=>d(e.target.value),style:{width:"100%"}})]}),(0,pi.jsx)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===y().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No invoices match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},f),{},{onDataStateChange:e=>{m(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(f.skip||0);return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,pi.jsx)(Uy,{field:"sequenceNumber",title:"Document Number",width:"180px"}),(0,pi.jsx)(Uy,{field:"customerID",title:"Customer",width:"200px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:g(e.dataItem.customerID)}))}),(0,pi.jsx)(Uy,{field:"status",title:"Status",width:"150px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,pi.jsx)("span",{className:"status-badge ".concat("status-open"),children:"Open"})}))}),(0,pi.jsx)(Uy,{field:"totalAmount",title:"Total Amount",width:"140px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:v(e.dataItem[e.field])}))}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/invoice/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/invoice/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid invoice data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No invoices found. Click the "Add New Invoice" button above to create your first invoice.'})}),(0,pi.jsx)("style",{children:'\n          .sales-order-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n            max-width: none;\n            white-space: nowrap;\n            text-overflow: clip;\n            overflow: visible;\n            width: auto;\n          }\n\n          .status-draft {\n            background-color: #FEF3C7;\n            color: #92400E;\n          }\n\n          .status-paid {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-cancelled {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .sales-order-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n\n          .k-grid .k-table-td .status-badge {\n            max-width: none !important;\n            overflow: visible !important;\n        }\n      '})]})})},lj=()=>{console.log("CreditMemoList component mounted");const e=ge(),{creditMemos:t,loading:n,error:r,refresh:i}=Iy(),{customers:a}=xy();console.log("Hook results:",{creditMemos:t,loading:n,error:r});const[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[f,m]=(0,o.useState)({skip:0,take:10,sort:[{field:"tranDate",dir:"desc"}]});(0,o.useEffect)((()=>{console.log("CreditMemoList useEffect - creditMemos changed:",t),console.log("Loading:",n,"Error:",r)}),[t,n,r]);const g=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find((t=>t.id===e));return n?n.name:"Unknown Customer"},v=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),y=(0,o.useCallback)((()=>{if(console.log("CreditMemos data:",t),(null===t||void 0===t||!t.results)&&!Array.isArray(t))return{data:[],total:0};let e=[...Array.isArray(t)?t:(null===t||void 0===t?void 0:t.results)||[]];s&&(e=e.filter((e=>{const t=e.customerName||g(e.customerID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(v(e.totalAmount)).toLowerCase().includes(s.toLowerCase())})));return{data:ub(e,f).data,total:e.length}}),[t,s,c,a,f]);return r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"sales-order-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading credit memos: ",r]}),(0,pi.jsxs)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"sales-order-list-container",children:[(0,pi.jsx)(uy,{children:u.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:u.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Credit Memo Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/credit-memo/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Credit Memo"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search credit memos...",value:s,onChange:e=>l(e.target.value)})]}),(0,pi.jsx)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===y().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No credit memos match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},f),{},{onDataStateChange:e=>{m(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(f.skip||0);return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,pi.jsx)(Uy,{field:"sequenceNumber",title:"Document Number",width:"220px"}),(0,pi.jsx)(Uy,{field:"customerID",title:"Customer",width:"260px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.customerName||g(e.dataItem.customerID)}))}),(0,pi.jsx)(Uy,{field:"totalAmount",title:"Amount",width:"160px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:v(e.dataItem[e.field])}))}),(0,pi.jsx)(Uy,{field:"",title:"Actions",width:"160px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/credit-memo/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/credit-memo/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid credit memo data"}))}})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No credit memos found. Click the "Add New Credit Memo" button above to create your first credit memo.'})}),(0,pi.jsx)("style",{children:'\n          .sales-order-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .sales-order-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n      '})]})})},cj=()=>{const e=ge(),{debitMemos:t,loading:n,error:r,refresh:i}=Ey(),{customers:a}=xy(),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[f,m]=(0,o.useState)({skip:0,take:10,sort:[{field:"tranDate",dir:"desc"}]}),g=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find((t=>t.id===e));return n?n.name:"Unknown Customer"},v=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),y=(0,o.useCallback)((()=>{if(console.log("DebitMemos data:",t),(null===t||void 0===t||!t.results)&&!Array.isArray(t))return{data:[],total:0};let e=[...Array.isArray(t)?t:(null===t||void 0===t?void 0:t.results)||[]];s&&(e=e.filter((e=>{const t=e.customerName||g(e.customerID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(v(e.totalAmount)).toLowerCase().includes(s.toLowerCase())})));return{data:ub(e,f).data,total:e.length}}),[t,s,c,a,f]);return n?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"sales-order-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading debit memos..."})]})})}):r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"sales-order-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading debit memos: ",r]}),(0,pi.jsxs)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"sales-order-list-container",children:[(0,pi.jsx)(uy,{children:u.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:u.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Debit Memo Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/debit-memo/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Debit Memo"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search debit memos...",value:s,onChange:e=>l(e.target.value)})]}),(0,pi.jsx)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===y().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No debit memos match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},f),{},{onDataStateChange:e=>{m(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(f.skip||0);return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,pi.jsx)(Uy,{field:"sequenceNumber",title:"Document Number",width:"220px"}),(0,pi.jsx)(Uy,{field:"customerID",title:"Customer",width:"260px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.customerName||g(e.dataItem.customerID)}))}),(0,pi.jsx)(Uy,{field:"totalAmount",title:"Amount",width:"160px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:v(e.dataItem[e.field])}))}),(0,pi.jsx)(Uy,{field:"",title:"Actions",width:"160px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/debit-memo/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/debit-memo/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid debit memo data"}))}})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No debit memos found. Click the "Add New Debit Memo" button above to create your first debit memo.'})}),(0,pi.jsx)("style",{children:'\n          .sales-order-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .sales-order-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n      '})]})})},dj=["validationMessage","visited","label"],uj=e=>{const t={};return Object.keys(e).forEach((n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)})),t},pj=o.createContext({}),hj="itemDataIndex",fj="id",mj=o.memo((e=>{let{recordType:t,mode:n="new",embedded:r=!1,onTotalAmountChange:i,headerDiscount:a=0,selectedLocation:l,poid:c=null,irid:d=null,onUnreceivedLinesLoaded:u=null,vendorId:h=null,onCreditApplicationChange:f=null}=e;const m=ge(),{id:g}=ve(),{loading:v,error:y,fetchFormConfiguration:x}=fy(),{getProductPurchasePriceTaxCode:b}=Vy(),[w,k]=(0,o.useState)({show:!1,message:"",type:"success"}),[C,S]=(0,o.useState)(!1),[I,E]=(0,o.useState)(!1),[_,j]=(0,o.useState)(null),[A,D]=(0,o.useState)(null),[N,T]=(0,o.useState)({}),[P,M]=(0,o.useState)({}),[O,R]=(0,o.useState)(!1),[F,L]=(0,o.useState)("items"),[z,B]=(0,o.useState)(""),[V,H]=(0,o.useState)([]),[q,U]=(0,o.useState)(0),[G,W]=(0,o.useState)(0),[K,Y]=(0,o.useState)(!1),X=(0,o.useRef)(1),Q=(0,o.useRef)(new Map),J=(0,o.useRef)(!0),Z=(0,o.useRef)(null),[$,ee]=(0,o.useState)([]),[te,ne]=(0,o.useState)(!1),[oe,re]=(0,o.useState)([]),[ie,ae]=(0,o.useState)(!1),se={PurchaseOrder:"/purchase-order",ItemReceipt:"/item-receipt",VendorBill:"/vendor-bill",VendorCredit:"/vendor-credit"},le=(0,o.useCallback)((e=>{switch(e){case"PurchaseOrder":return{title:"Items",fields:["itemID","quantity","receivedQty","rate","taxID","taxPercent","taxAmount","totalAmount"]};case"ItemReceipt":return{title:"Items",fields:["itemID","quantityReceived","remQty","rate","taxID","taxPercent","taxAmount","totalAmount"]};default:return{title:"Items",fields:["itemID","quantity","rate","taxID","taxPercent","taxAmount","totalAmount"]}}}),[]),ce=(0,o.useCallback)((function(e){k({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{k({show:!1,message:"",type:"success"})}),4e3)}),[]),de=e=>{const t=parseFloat(String(null!==e&&void 0!==e?e:"").replace(/,/g,""));return Number.isFinite(t)?t:0},ue=(e,t,n)=>Math.max(t,Math.min(n,e)),pe=(0,o.useCallback)((async e=>{if(!e)return[];try{const t=yi("/vendor-bill/by-vendor/".concat(e)),n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}}),[]),he=((0,o.useCallback)((()=>{const e=(N.items||[]).reduce(((e,t)=>e+(t.totalAmount||0)),0);return e}),[N.items]),(0,o.useCallback)((e=>{if("VendorCredit"===t){const t=e.toString();z!==t&&(B(t),V&&V.length>0&&ye({creditAmountStr:t}))}i&&i(e)}),[t,i,z,V]));(0,o.useEffect)((()=>{if(f&&"VendorCredit"===t){const e={creditAmount:z,vendorBills:V,appliedTo:q,unapplied:G,originalData:Z.current};f(e)}}),[z,V,q,G,t]);const fe=(0,o.useCallback)((async e=>{try{const t=await fetch("".concat(vi.baseURL,"/vendor-credit-payment-line/by-vendor-credit/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=await t.json();return Array.isArray(e)?e:e.lines||e.results||[]}return[]}catch(_){return console.error("Error fetching vendor credit payment lines:",_),[]}}),[]),me=(0,o.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const o=new Map;t.forEach((e=>o.set(e.recordID,e)));let r=e.map((e=>{let t="N/A",r=0;if(e.invoiceDate){const n=new Date(e.invoiceDate);isNaN(n.getTime())||(t="".concat(n.getDate().toString().padStart(2,"0"),"/").concat((n.getMonth()+1).toString().padStart(2,"0"),"/").concat(n.getFullYear()),r=n.getTime())}const i=o.get(e.id);return{id:e.id,date:t,dateKey:r,type:"Vendor Bill",refNo:e.sequenceNumber,dueAmount:de(e.amountDue||e.totalAmount),originalAmount:de(e.totalAmount),displayAmount:i?i.paymentAmount:0,originalDisplayAmount:i?i.paymentAmount:0,checked:!!i&&i.isApplied,userTyped:!!i,lockedSeq:null,disabled:"view"===n}})).sort(((e,t)=>e.dateKey-t.dateKey));return"view"===n&&(r=r.filter((e=>e.checked&&e.displayAmount>0))),r}),[n]);(0,o.useEffect)((()=>{(async()=>{if("VendorCredit"===t&&h){Y(!0);try{const e=await pe(h);let t;if("edit"!==n&&"view"!==n||!g)t=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{let t="N/A",n=0;if(e.invoiceDate){const o=new Date(e.invoiceDate);isNaN(o.getTime())||(t="".concat(o.getDate().toString().padStart(2,"0"),"/").concat((o.getMonth()+1).toString().padStart(2,"0"),"/").concat(o.getFullYear()),n=o.getTime())}return{id:e.id,date:t,dateKey:n,type:"Vendor Bill",refNo:e.sequenceNumber,dueAmount:de(e.amountDue||e.totalAmount),originalAmount:de(e.totalAmount),displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null,disabled:!1}})).sort(((e,t)=>e.dateKey-t.dateKey))}(e);else{const o=await fe(g);"edit"===n&&(Z.current={lines:o},console.log("Stored original payment lines for edit mode:",Z.current)),t=me(e,o)}J.current=!0,H(t)}catch(e){console.error("\u274c Error fetching vendor credit data:",e),H([])}finally{Y(!1)}}else H([])})()}),[h,t,n,g,pe,fe,me]);const ye=e=>{var t,o;const r=de(null!==(t=null===e||void 0===e?void 0:e.creditAmountStr)&&void 0!==t?t:z);let i=r;const a=null!==(o=null===e||void 0===e?void 0:e.vendorBills)&&void 0!==o?o:V;if(!a||0===a.length)return;const s=a.map((e=>{var t;const o=e.userTyped&&null!==(t=e.lockedSeq)&&void 0!==t?t:1/0,r=e.displayAmount,i=e.originalDisplayAmount||0,a="edit"===n&&g?e.dueAmount+i:e.dueAmount,s=e.userTyped?ue(r,0,a):0,l=!e.userTyped&&r>0?ue(r,0,a):0;return{id:e.id,dateKey:e.dateKey,dueAmount:e.dueAmount,originalDisplayAmount:i,lineCap:a,checked:e.checked,userTyped:e.userTyped,typedOrder:o,typedRequested:s,stickyRequested:l,appliedCash:0}})),l=s.filter((e=>e.typedRequested>0)).sort(((e,t)=>e.typedOrder-t.typedOrder||e.dateKey-t.dateKey));for(const n of l){let e=n.typedRequested;const t=Math.min(e,i);n.appliedCash+=t,i-=t}const c=s.filter((e=>0===e.typedRequested&&e.stickyRequested>0)).sort(((e,t)=>e.dateKey-t.dateKey));for(const n of c){const e=n.appliedCash;let t=Math.max(n.stickyRequested-e,0);if(t<=0)continue;const o=Math.min(t,i);n.appliedCash+=o,i-=o}const d=s.filter((e=>0===e.typedRequested&&0===e.stickyRequested&&!0===e.checked)).sort(((e,t)=>e.dateKey-t.dateKey));for(const n of d){const e=n.appliedCash,t=Math.max(n.dueAmount-e,0);if(t<=0)continue;let o=t;const r=Math.min(o,i);n.appliedCash+=r,i-=r}let u=0;const h=a.map((e=>{const t=s.find((t=>t.id===e.id)),n=t.appliedCash;return u+=n,p(p({},e),{},{displayAmount:n,checked:n>0,appliedCash:t.appliedCash})})),f=Math.max(r-u,0),m=((e,t)=>{const n=t;return e.map((e=>{const t=0===e.displayAmount&&n<=0;return p(p({},e),{},{disabled:t})}))})(h,f);H(m),U(u),W(f)},xe=(0,o.useCallback)((async(e,t)=>{if(!e||!t||0===t.length)return;const n=t.filter((e=>e.checked&&e.displayAmount>0)).map((async t=>{const n={id:null,paymentAmount:t.displayAmount,recordID:t.id,isApplied:!0,refNo:t.refNo,recordType:t.type,vcid:e,paymentSeqNum:null,mainRecordAmount:t.originalAmount};try{const e=await fetch(yi("/vendor-credit-payment-line"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(uj(n))});if(!e.ok){const t=await e.text();throw new Error("Failed to create vendor credit payment line: ".concat(e.status," - ").concat(t))}return await e.json()}catch(_){throw console.error("Error creating vendor credit payment line:",_),_}}));try{await Promise.all(n),ce("Credit applications saved successfully","success")}catch(_){throw ce("Error saving credit applications: ".concat(_.message),"error"),_}}),[ce]),be=((0,o.useCallback)((async()=>{if("VendorCredit"===t&&g)try{Y(!0),await xe(g,V)}catch(_){console.error("Error saving credit applications:",_)}finally{Y(!1)}}),[t,g,V,xe]),(0,o.useCallback)((async e=>{if(!e)return ee([]),void ne(!1);try{const t="".concat(vi.baseURL,"/purchase-order-line/unreceived/?POID=").concat(e),n=await fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok){if(404===n.status)return ee([]),void ne(!1);throw new Error("Failed to fetch unreceived items: ".concat(n.status))}const o=(await n.json()).results||[];ee(o),ne(o.length>0)}catch(_){ee([]),ne(!1),ce("Failed to load unreceived items: ".concat(_.message),"error")}}),[ce])),we=(0,o.useCallback)((async e=>{if(!e||"VendorBill"!==t)return[];try{ae(!0);const t=yi("/item-receipt-line/uninvoiced?IRID=".concat(e));console.log("[PurchaseItems] Fetching unbilled lines from:",t);const n=await fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("Failed to fetch unbilled item receipt lines: ".concat(n.status));const o=await n.json(),r=o.lines||o.results||o||[];return console.log("[PurchaseItems] Fetched unbilled lines:",r),re(r),r}catch(n){return console.error("Error fetching unbilled item receipt lines:",n),ce("Error fetching unbilled lines: ".concat(n.message),"error"),re([]),[]}finally{ae(!1)}}),[t,ce]),ke=(0,o.useCallback)((async(e,t)=>{try{const n=await fetch("".concat(vi.baseURL).concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}}),[]),Ce=(0,o.useCallback)((async e=>{const n={PurchaseOrder:{endpoint:"".concat(vi.baseURL,"/purchase-order-line/by-purchase-order/").concat(e),idField:"poid"},ItemReceipt:{endpoint:"".concat(vi.baseURL,"/item-receipt-line/by-item-receipt/").concat(e),idField:"irid"},VendorBill:{endpoint:"".concat(vi.baseURL,"/vendor-bill-line/by-vendor-bill/").concat(e),idField:"vbid"},VendorCredit:{endpoint:"".concat(vi.baseURL,"/vendor-credit-line/by-vendor-credit/").concat(e),idField:"vcid"}}[t];if(!n)throw new Error("Unsupported record type: ".concat(t));try{const e=await fetch(n.endpoint,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){if(404===e.status)return[];throw new Error("Failed to load transaction items: ".concat(e.status))}const t=await e.json();return(t.results||t||[]).map(((e,t)=>({itemID:e.itemID||"",quantity:e.quantity,receivedQty:e.receivedQty||0,rate:e.rate||0,taxID:e.taxID||"",taxPercent:e.taxPercent||0,taxAmount:e.taxAmount||0,totalAmount:e.totalAmount||0})))}catch(o){throw o}}),[t]);(0,o.useEffect)((()=>{let e=!0;return(async()=>{if(e)try{E(!0),j(null),R(!1);const r=le(t);D(r);const i=[ke("/product").then((e=>({name:"itemID",data:e}))),ke("/tax").then((e=>({name:"taxID",data:e})))],a=await Promise.all(i);if(!e)return;const s=a.reduce(((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e}),{});M(s);const l={transactionId:g||null,items:[]};if("new"!==n&&g)try{const e=await Ce(g);e&&e.length>0&&(l.items=e)}catch(o){}if(!e)return;T(l),R(!0)}catch(o){if(!e)return;j(o.message),ce(o.message,"error")}finally{if(!e)return;E(!1)}})(),()=>{e=!1}}),[n,g,t,le,ke,Ce]),(0,o.useEffect)((()=>{"ItemReceipt"!==t||!c||"new"!==n&&"edit"!==n||be(c)}),[c,t,n,be]),(0,o.useEffect)((()=>{"VendorBill"!==t||!d||"new"!==n&&"edit"!==n||(console.log("[PurchaseItems] IRID changed, fetching unbilled items:",d),we(d))}),[d,t,n,we]);(0,o.useCallback)((function(e,t){const n=(e||0)*(t||0)-(a||0);return n+n*((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)||0)/100}),[a]);const Se=(0,o.useCallback)((e=>(P[e]||[]).map((t=>{if("string"===typeof t)return{text:t,value:t};if(!t.id)return{text:String(t),value:t};return{text:(t=>{if("itemID"===e&&t.itemName&&t.itemCode)return"".concat(t.itemCode," - ").concat(t.itemName);if("taxID"===e&&t.taxName)return t.taxName;const n=["name","itemName","productName","description","title","taxName"];for(const e of n)if(t[e])return t[e];return String(t.id)})(t),value:t.id,item:t}}))),[P]),Ie=((0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,visited:r,label:i}=e,a=s(e,dj),l=r&&o,c=p(p({},a),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||a.disabled}),d={text:{component:qc,props:c},number:{component:Su,props:p(p({},c),{},{min:0,step:0})},textarea:{component:ju,props:p(p({},c),{},{rows:2})},date:{component:oy,props:c},dropdown:{component:Ah,props:p(p({},c),Se(e))}},u=d[t]||d.text;return(0,pi.jsxs)("div",{children:[(0,pi.jsx)(u.component,p({},u.props)),l&&(0,pi.jsx)("div",{className:"k-form-error",children:o})]})}}),[n,Se]),e=>{const{parentField:r,editIndex:i,validatedItems:a,onUpdateField:s,poid:l,selectedLocation:c,unreceivedLines:d,isRestrictedToUnreceived:u,irid:h,unbilledItems:f,unbilledLoading:m}=o.useContext(pj),g=e.dataItem[hj]===i;a.includes(e.dataItem[hj]);if(g){let o;if("ItemReceipt"===t&&l&&d&&d.length>0){const e=d.map((e=>{const t=Se("itemID").find((t=>t.value===e.itemID));return{text:(null===t||void 0===t?void 0:t.text)||"Item ".concat(e.itemID),value:e.itemID,item:p(p({},null===t||void 0===t?void 0:t.item),{},{unreceivedLine:e})}}));o=e}else if("VendorBill"===t&&h&&f&&f.length>0){const e=f.map((e=>{const t=Se("itemID").find((t=>t.value===e.itemID));return{text:(null===t||void 0===t?void 0:t.text)||"Item ".concat(e.itemID),value:e.itemID,item:p(p({},null===t||void 0===t?void 0:t.item),{},{unbilledLine:e})}}));o=e}else o="VendorBill"===t&&"new"===n&&h&&m?[{text:"Loading unbilled items...",value:"",disabled:!0}]:Se("itemID");return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(Ah,{data:o,textField:"text",dataItemKey:"value",valueField:"value",value:o.find((t=>t.value===e.dataItem[e.field]))||null,onChange:async t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;await s(e.dataItem[hj],e.field,o)},style:{width:"100%"}})}))}const v=e.dataItem[e.field],y=Se("itemID").find((e=>e.value===v)),x=(null===y||void 0===y?void 0:y.text)||"";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:x})}))}),Ee=e=>{const{parentField:n,editIndex:r,onUpdateField:i,poid:a,selectedLocation:s,unreceivedLines:l,isRestrictedToUnreceived:c,irid:d,unbilledItems:u,unbilledLoading:h}=o.useContext(pj);if(e.dataItem[hj]===r){var f;let n=null,o=null;if("ItemReceipt"===t&&a&&l&&l.length>0){const t=l.find((t=>t.itemID===e.dataItem.itemID));if(t){o=(t.quantity||0)-(t.receivedQty||0),n=o}}if("VendorBill"===t&&d&&u&&u.length>0){const t=u.find((t=>t.itemID===e.dataItem.itemID));if(t){o=(t.quantity||0)-(t.billedQty||0),n=o}}return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(qc,{type:"number",min:"0",max:n||void 0,step:"1",value:null!==(f=e.dataItem[e.field])&&void 0!==f?f:"",onChange:o=>{const r=o.target.value;let a=""===r?"":parseInt(r)||"";if(null!==n&&a>n){alert("Cannot ".concat("VendorBill"===t?"bill":"receive"," more than remaining quantity: ").concat(n)),a=n}i(e.dataItem[hj],e.field,a)},onKeyDown:e=>{"."!==e.key&&","!==e.key||e.preventDefault()},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"},title:null!==o?"Remaining to ".concat("VendorBill"===t?"bill":"receive",": ").concat(o):void 0})}))}return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:e.dataItem[e.field]||""})}))},_e=e=>{const{parentField:t,editIndex:n,onUpdateField:r}=o.useContext(pj);var i;if(e.dataItem[hj]===n)return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(qc,{type:"number",min:"0",step:"0.01",value:null!==(i=e.dataItem[e.field])&&void 0!==i?i:"",onChange:t=>{const n=t.target.value,o=""===n?"":parseFloat(n)||"";r(e.dataItem[hj],e.field,o)},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})}));const a=e.dataItem[e.field],s=null!==a&&void 0!==a&&"number"===typeof a?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a):0===a?"0.00":"";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:s})}))},je=e=>{const{parentField:t,editIndex:n,validatedItems:r,onUpdateField:i}=o.useContext(pj);if(e.dataItem[hj]===n){const t=Se("taxID");return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(Ah,{data:t,textField:"text",dataItemKey:"value",valueField:"value",value:t.find((t=>t.value===e.dataItem.taxID))||null,onChange:t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;i(e.dataItem[hj],"taxID",o)},style:{width:"100%"}})}))}const a=e.dataItem.taxID,s=Se("taxID");let l;l="object"===typeof a&&null!==a&&void 0!==a&&a.value?a.value:a;const c=s.find((e=>e.value===l)),d=(null===c||void 0===c?void 0:c.text)||"";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:d})}))},Ae=e=>{const t=e.dataItem.taxPercent||0;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsxs)("span",{style:{padding:"8px",display:"block"},children:[t.toFixed(1),"%"]})}))},De=e=>{const t=e.dataItem.taxAmount||0;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:t.toFixed(2)})}))},Ne=e=>{const t=e.dataItem.totalAmount||0;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block",fontWeight:"bold"},children:t.toFixed(2)})}))},Te=e=>{const t=e.dataItem.receivedQty||0;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:t})}))},Pe=e=>{const t=e.dataItem.invoicedQty||0;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block",color:"#666",fontStyle:"italic"},children:t})}))},Me=e=>{const{unreceivedLines:n,unbilledItems:r}=o.useContext(pj);let i=0;if("ItemReceipt"===t&&e.dataItem.itemID&&n&&n.length>0){const t=n.find((t=>t.itemID===e.dataItem.itemID));t&&(i=(t.quantity||0)-(t.receivedQty||0))}if("VendorBill"===t&&e.dataItem.itemID&&r&&r.length>0){const t=r.find((t=>t.itemID===e.dataItem.itemID));t&&(i=(t.quantity||0)-(t.billedQty||0))}return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block",color:"#666",fontStyle:"italic"},children:i})}))},Oe=e=>{const{onRemove:t,onEdit:r,onSave:i,onCancel:a,editIndex:s,validateItem:l}=o.useContext(pj),c=e.dataItem[hj]===s,d=!e.dataItem[fj]||!e.dataItem.itemID,u=(0,o.useCallback)((n=>{n.preventDefault(),t(e.dataItem)}),[e.dataItem,t]),h=(0,o.useCallback)((t=>{t.preventDefault(),r(e.dataItem,d)}),[e.dataItem,r,d]),f=(0,o.useCallback)((t=>{t.preventDefault(),i(e.dataItem)}),[i,e.dataItem]),m=(0,o.useCallback)((n=>{n.preventDefault(),t(e.dataItem)}),[e.dataItem,a]);return c?(0,pi.jsxs)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:[(0,pi.jsx)(xo,{type:"button",onClick:f,className:"k-grid-save-command",size:"small",style:{marginRight:"4px",backgroundColor:"#4CAF50",color:"white",fontSize:"12px",padding:"4px 8px"},title:d?"Add this item when complete":"Save changes to this item",disabled:"view"===n,children:d?"Add":"Save"}),(0,pi.jsx)(xo,{type:"button",onClick:d?u:m,className:"k-grid-cancel-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},title:d?"Remove this item":"Cancel editing",disabled:"view"===n,children:d?"Discard":"Cancel"})]})):(0,pi.jsx)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:"view"!==n&&(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)(xo,{type:"button",themeColor:"primary",onClick:h,className:"k-grid-edit-command",size:"small",style:{marginRight:"4px",fontSize:"12px",padding:"4px 8px"},children:"Edit"}),(0,pi.jsx)(xo,{type:"button",onClick:u,className:"k-grid-remove-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},children:"Remove"})]})}))},Re=e=>{const{validationMessage:r,visited:i,name:s,dataItemKey:u,onTotalAmountChange:h}=e,[f,m]=(0,o.useState)(void 0),g=o.useRef(void 0),[v,y]=(0,o.useState)([]),x=(0,o.useCallback)((t=>{if(void 0!==t&&e.value[t]){y((e=>e.includes(t)?e:[...e,t]));const n=e.value[t];return n.itemID&&null!==n.itemID}return!1}),[e.value]),w=(0,o.useCallback)((async(n,o,r)=>{const i=p(p({},e.value[n]),{},{[o]:r});if("itemID"===o&&r)try{if(!l)return alert("Please select a location first"),i.itemID="",void e.onReplace({index:n,value:i});const o=e.value||[];if(-1!==o.findIndex(((e,t)=>t!==n&&e.itemID===r)))return alert("This item has already been added to the list. Please select a different item."),i.itemID="",void e.onReplace({index:n,value:i});if("ItemReceipt"===t&&c&&$&&$.length>0){const e=$.find((e=>e.itemID===r));if(e){i.rate=e.rate||0,i.taxID=e.taxID||"",i.taxPercent=e.taxPercent||0;const n=e.quantity||0,o=n-(e.receivedQty||0);i["ItemReceipt"===t?"quantityReceived":"quantity"]=o>0?o:1}}else if("VendorBill"===t&&d&&oe&&oe.length>0){const e=oe.find((e=>e.itemID===r));if(e){i.rate=e.rate||0,i.taxID=e.taxID||"",i.taxPercent=e.taxPercent||0;const t=e.quantity||0,n=t-(e.billedQty||0);i.quantity=n>0?n:1}}else{const{purchasePrice:e,taxCode:t}=await b(r);i.rate=e||0,i.taxID=t||""}}catch(_){}e.onReplace({index:n,value:i})}),[e,t,l,b]),k=e=>{if(!e||0===e.length)return{totalAmount:0,totalQuantity:0};const t=e.reduce(((e,t)=>e+(t.totalAmount||0)),0),n=e.reduce(((e,t)=>e+(t.quantity||0)),0);return{totalAmount:t,totalQuantity:n}},[C,S]=(0,o.useState)((()=>k(e.value)));(0,o.useEffect)((()=>{h&&h(C.totalAmount)}),[h,C.totalAmount]);const I=(0,o.useCallback)((()=>{const t=k(e.value);S(t),h&&h(t.totalAmount)}),[e.value,t,h]),E=(0,o.useCallback)((o=>{if(!l)return void alert("Please select a location first! and Mandatory fields are required");if(o.preventDefault(),void 0!==f||"view"===n)return;const r=e.value||[],i=r.findIndex((e=>!e.itemID));if(-1!==i)return void m(i);const a={id:r.length>0?Math.max(...r.map((e=>parseInt(e.id)||0)))+1:1,itemID:"",rate:0,taxID:"",taxPercent:0,totalAmount:0};"ItemReceipt"===t?a.quantityReceived=1:"Invoice"===t?a.quantityDelivered=1:a.quantity=1,e.onUnshift({value:a}),m(0),setTimeout((()=>I()),0)}),[e,f,t,n,I]),j=(0,o.useCallback)((t=>{e.onRemove({index:t[hj]}),m(void 0),g.current=void 0,setTimeout((()=>I()),0)}),[e,I]),A=(0,o.useCallback)((e=>{g.current=ki(e),m(e[hj])}),[]),D=(0,o.useCallback)((()=>{g.current&&e.onReplace({index:g.current[hj],value:g.current}),g.current=void 0,m(void 0),setTimeout((()=>I()),0)}),[e,I]),N=(0,o.useCallback)((n=>{const o=n[hj],r=e.value[o];if(!r.itemID)return void alert("Product is required");const i="ItemReceipt"===t?"quantityReceived":"Invoice"===t?"quantityDelivered":"quantity";if(!r[i]||r[i]<=0)return void alert("Quantity must be greater than 0");const s=""===r[i]?0:parseFloat(r[i])||0,l=""===r.rate?0:parseFloat(r.rate)||0,c=r.taxID||"";let d=0;if(c){const e=Se("taxID").find((e=>e.value===c));if(e&&e.item){let t=0;if(e.item.taxName&&"string"===typeof e.item.taxName){const n=e.item.taxName.match(/-(\d+(?:\.\d+)?)/);n&&(t=parseFloat(n[1]))}0===t&&e.item.taxRate&&(t=parseFloat(e.item.taxRate)),d=t}}const u=s*l-(a||0),h="Invoice"===t?"taxRate":"taxAmount",f=Math.round(u*d/100*100)/100,v=Math.round(100*(u+f))/100;e.onReplace({index:o,value:p(p({},r),{},{taxPercent:d,[h]:f,totalAmount:v})}),m(void 0),g.current=void 0,setTimeout((()=>I()),0)}),[e,t,Se,I]);o.useEffect((()=>{if(void 0!==f&&e.value[f]){const n=e.value[f],o="ItemReceipt"===t?"quantityReceived":"Invoice"===t?"quantityDelivered":"quantity",r=(""===n[o]?0:parseFloat(n[o])||0)*(""===n.rate?0:parseFloat(n.rate)||0)-(a||0),i=r*(parseFloat(n.taxPercent)||0)/100,s=r+i,l=Math.round(100*i)/100,c=Math.round(100*s)/100,d="Invoice"===t?"taxRate":"taxAmount",u=Math.round(100*(parseFloat(n[d])||0))/100;if(c===Math.round(100*(parseFloat(n.totalAmount)||0))/100&&l===u||e.onReplace({index:f,value:p(p({},n),{},{[d]:l,totalAmount:c})}),n.taxID){const t=Se("taxID").find((e=>e.value===n.taxID));if(t&&t.item){let o=0;if(t.item.taxName&&"string"===typeof t.item.taxName){const e=t.item.taxName.match(/-(\d+(?:\.\d+)?)/);e&&(o=parseFloat(e[1]))}0===o&&t.item.taxRate&&(o=parseFloat(t.item.taxRate)),o!==parseFloat(n.taxPercent||0)&&e.onReplace({index:f,value:p(p({},n),{},{taxPercent:o})})}}else n.taxPercent>0&&e.onReplace({index:f,value:p(p({},n),{},{taxPercent:0})})}}),[f,e.value,t,Se,a]);const T=(e.value||[]).map(((e,t)=>p(p({},e),{},{[hj]:t})));return(0,pi.jsxs)(pj.Provider,{value:{onCancel:D,onEdit:A,onRemove:j,onSave:N,onUpdateField:w,editIndex:f,parentField:s,validatedItems:v,validateItem:x,poid:c,selectedLocation:l,unreceivedLines:$,isRestrictedToUnreceived:te,irid:d,unbilledItems:oe,unbilledLoading:ie},children:[i&&r&&(0,pi.jsx)("div",{className:"k-form-error",style:{color:"#e53e3e",fontSize:"12px",marginTop:"4px"},children:r}),"view"!==n&&(0,pi.jsxs)("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:"8px",paddingRight:"8px"},children:[(0,pi.jsxs)(xo,{onClick:E,themeColor:"success",fillMode:"solid",size:"medium",className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-success",children:[(0,pi.jsx)(ti,{style:{marginRight:"6px"}})," Add Item"]}),(0,pi.jsxs)("div",{style:{fontWeight:"700",fontSize:"1.2rem",color:"#2d3748"},children:["Total Amount: ",C.totalAmount.toFixed(2)]})]}),(0,pi.jsx)("div",{className:"transaction-items-grid-container",style:{overflowX:"auto",overflowY:"visible",width:"100%",maxWidth:"100%"},children:(0,pi.jsxs)(q_,{className:"transaction-items-grid",data:T,dataItemKey:u,rowRender:e=>{const t=p(p({},e.props),{},{style:p(p({},e.props.style),{},{borderBottom:"1px solid #e0e0e0"})});return o.cloneElement(e,p({},t),e.props.children)},style:{minWidth:"900px"},children:[(0,pi.jsx)(Uy,{field:"itemID",title:"Item",cells:{data:Ie}}),(0,pi.jsx)(Uy,{field:"ItemReceipt"===t?"quantityReceived":"Invoice"===t?"quantityDelivered":"quantity",title:"ItemReceipt"===t?"Qty Received":"Qty",width:"90px",cells:{data:Ee}}),"PurchaseOrder"===t&&("edit"===n||"view"===n)&&(0,pi.jsx)(Uy,{field:"receivedQty",title:"Rec Qty",width:"90px",cells:{data:Te}}),"ItemReceipt"===t&&("edit"===n||"view"===n)&&(0,pi.jsx)(Uy,{field:"invoicedQty",title:"Inv Qty",width:"90px",cells:{data:Pe},media:"(min-width: 992px)"}),("ItemReceipt"===t||"VendorBill"===t)&&("edit"===n||"new"===n)&&(0,pi.jsx)(Uy,{field:"remQty",title:"REM Qty",width:"90px",cells:{data:Me},media:"(min-width: 768px)"}),(0,pi.jsx)(Uy,{field:"rate",title:"Rate",width:"90px",cells:{data:_e}}),(0,pi.jsx)(Uy,{field:"taxID",title:"Tax",width:"100px",cells:{data:je}}),(0,pi.jsx)(Uy,{field:"taxPercent",title:"Tax %",width:"70px",cells:{data:Ae}}),"Invoice"===t?(0,pi.jsx)(Uy,{field:"taxRate",title:"Tax Amt",width:"90px",cells:{data:De}}):(0,pi.jsx)(Uy,{field:"taxAmount",title:"Tax Amt",width:"90px",cells:{data:De}}),(0,pi.jsx)(Uy,{field:"totalAmount",title:"Amount",width:"90px",cells:{data:Ne}}),"view"!==n&&(0,pi.jsx)(Uy,{width:"160px",cells:{data:Oe}})]})})]})};(0,o.useCallback)((e=>{const n={};if(e.items&&0!==e.items.length){e.items.map(((e,n)=>{const o={};e.itemID||(o.itemID="Product is required");const r="ItemReceipt"===t?"quantityReceived":"Invoice"===t?"quantityDelivered":"quantity";return(!e[r]||e[r]<=0)&&(o[r]="Quantity must be greater than 0"),Object.keys(o).length>0?o:null})).filter(Boolean).length>0&&(n.items="Please fix item validation errors")}else n.items="At least one item is required";return n}),[]);if(I||v||!A||!O)return(0,pi.jsx)("div",{className:"form-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsxs)("div",{children:["Loading ",t.toLowerCase()," items..."]})]})});if(_||y)return(0,pi.jsx)("div",{className:"form-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("h3",{children:["Error Loading ",t," Items"]}),(0,pi.jsx)("p",{children:_||y}),(0,pi.jsxs)(xo,{onClick:()=>m(se[t]||"/"),children:["Back to ",t," List"]})]})});const Fe=()=>{if("VendorCredit"!==t)return null;const e=V.length>0&&V.every((e=>e.checked));return(0,pi.jsxs)("div",{className:"payment-container",children:[(0,pi.jsx)("style",{children:'\n          body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #f0f2f5; color: #333; padding: 20px; }\n          .payment-container { max-width: 1200px; margin: 0 auto; background-color: #fff; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }\n          .header-bar { background-color: #f7f9fa; padding: 15px 20px; border-bottom: 1px solid #ddd; display: flex; align-items: center; gap: 20px; }\n          .header-bar label { font-weight: 600; margin-right: 5px; font-size: 14px; }\n          .header-bar .k-numerictextbox { width: 140px; }\n          .header-bar .k-numerictextbox .k-input { font-size: 14px; }\n          .main-controls-area { padding: 20px 20px 0 20px; }\n          .controls-top-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n          .k-button { margin-right: 5px; }\n          .subtab-nav { border-bottom: 2px solid #dee2e6; display: flex; }\n          .subtab-link { background: none; border: none; padding: 10px 15px; cursor: pointer; font-size: 14px; font-weight: 600; color: #007bff; margin-bottom: -2px; }\n          .subtab-link.active { border-bottom: 2px solid #007bff; }\n          .subtab-header { background-color: #f7f9fa; padding: 10px 20px; border-bottom: 1px solid #ddd; display: flex; gap: 30px; font-size: 14px; font-weight: bold; }\n          .subtab-header strong { color: #000; }\n          .subtab-content { display: block; padding: 20px; }\n          table { width: 100%; border-collapse: collapse; font-size: 13px; }\n          th, td { padding: 10px 8px; text-align: left; border-bottom: 1px solid #e0e0e0; }\n          thead { background-color: #f7f9fa; }\n          th { font-weight: 600; color: #555; }\n          tr:hover { background-color: #f5f5f5; }\n          .text-right { text-align: right; }\n          .k-checkbox { width: 16px; height: 16px; cursor: pointer; }\n          .payment-input .k-numerictextbox { width: 90%; }\n          .payment-input .k-numerictextbox .k-input { text-align: right; }\n        '}),(0,pi.jsx)("div",{className:"header-bar",children:(0,pi.jsxs)("div",{children:[(0,pi.jsx)("label",{htmlFor:"creditAmountLimit",children:"CREDIT AMOUNT *"}),(0,pi.jsx)(Su,{id:"creditAmountLimit",placeholder:"0.00",min:0,step:0,format:"n2",decimals:2,spinners:!1,value:de(z),disabled:!0})]})}),(0,pi.jsxs)("div",{className:"main-controls-area",children:[(0,pi.jsx)("div",{className:"controls-top-row",children:(0,pi.jsx)("div",{children:(0,pi.jsx)(xo,{type:"button",disabled:"view"===n,onClick:e=>{e.preventDefault(),e.stopPropagation(),(()=>{const e=V.map((e=>p(p({},e),{},{displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null})));H(e),U(0),W(de(z))})()},children:"Clear All"})})}),(0,pi.jsx)("div",{className:"subtab-nav",children:(0,pi.jsx)("button",{type:"button",className:"subtab-link active",children:"Vendor Bills"})})]}),(0,pi.jsxs)("div",{className:"subtab-header",children:[(0,pi.jsxs)("span",{children:["Applied : ",(0,pi.jsxs)("strong",{children:["$",q.toFixed(2)]})]}),(0,pi.jsx)("span",{children:"\u2022"}),(0,pi.jsxs)("span",{children:["Unapplied Amount : ",(0,pi.jsxs)("strong",{children:["$",G.toFixed(2)]})]})]}),(0,pi.jsx)("div",{className:"subtab-content",children:K?(0,pi.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,pi.jsx)("p",{children:"Loading vendor bills..."})}):0===V.length?(0,pi.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,pi.jsx)("p",{children:"No vendor bills found for this vendor."})}):(0,pi.jsxs)("table",{children:[(0,pi.jsx)("thead",{children:(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("th",{children:(0,pi.jsx)(Tu,{checked:e,disabled:"view"===n,onChange:e=>{(()=>{const e=V.length>0&&V.every((e=>e.checked)),t=V.map((t=>p(p({},t),{},{checked:!e,userTyped:!1})));ye({vendorBills:t})})()}})}),(0,pi.jsx)("th",{children:"DATE"}),(0,pi.jsx)("th",{children:"TYPE"}),(0,pi.jsx)("th",{children:"REF NO."}),(0,pi.jsx)("th",{className:"text-right",children:"AMT. DUE"}),(0,pi.jsx)("th",{className:"text-right",children:"CREDIT"})]})}),(0,pi.jsx)("tbody",{children:V.map((e=>{const t=0===e.displayAmount?"":e.displayAmount.toFixed(2);return(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("td",{children:(0,pi.jsx)(Tu,{checked:e.checked,disabled:"view"===n||e.disabled,onChange:t=>{const n=void 0!==t.value?t.value:!!t.target&&t.target.checked;((e,t)=>{const n=V.map((n=>n.id!==e?n:p(p({},n),{},t?{checked:!0,displayAmount:0,userTyped:!1}:{checked:!1,displayAmount:0,userTyped:!1})));J.current=!0,ye({vendorBills:n})})(e.id,n)}})}),(0,pi.jsx)("td",{children:e.date}),(0,pi.jsx)("td",{children:e.type}),(0,pi.jsx)("td",{children:e.refNo}),(0,pi.jsxs)("td",{className:"text-right",children:["$",e.dueAmount.toFixed(2)]}),(0,pi.jsx)("td",{className:"text-right payment-input",children:(0,pi.jsx)(Su,{value:t,disabled:"view"===n,onChange:t=>{((e,t)=>{const n=V.map((n=>{if(n.id===e){const e=de(t),o=""!==t&&e>=0;return p(p({},n),{},{displayAmount:e,userTyped:o,lockedSeq:o?X.current++:null})}return n}));J.current=!0,ye({vendorBills:n})})(e.id,t.target.value)},onFocus:()=>(e=>{const t=V.find((t=>t.id===e));t&&Q.current.set(e,{startCents:t.displayAmount,unappliedAtFocusCents:G})})(e.id),onBlur:()=>(e=>{Q.current.delete(e)})(e.id),format:"n2",step:0,spinners:!1})})]},e.id)}))})]})})]})};return r?(0,pi.jsxs)("div",{style:{width:"100%"},children:[(0,pi.jsx)(uy,{children:w.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:w.type,icon:!0},closable:!0,onClose:()=>k({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:w.message})})})}),"VendorCredit"===t&&(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("style",{children:"\n              .modern-tab-navigation {\n                margin: 20px 0;\n                border-bottom: 2px solid #e8eaed;\n              }\n              .modern-tab-buttons {\n                display: flex;\n                gap: 0;\n                background: #f8f9fa;\n                border-radius: 8px 8px 0 0;\n                padding: 4px;\n                box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n              }\n              .modern-tab-button {\n                background: transparent;\n                border: none;\n                padding: 12px 24px;\n                font-size: 14px;\n                font-weight: 500;\n                color: #5f6368;\n                cursor: pointer;\n                border-radius: 6px;\n                transition: all 0.2s ease;\n                position: relative;\n                min-width: 100px;\n              }\n              .modern-tab-button:hover {\n                background: #e8f0fe;\n                color: #1a73e8;\n              }\n              .modern-tab-button.active {\n                background: #1a73e8;\n                color: white;\n                box-shadow: 0 2px 8px rgba(26, 115, 232, 0.3);\n              }\n              .modern-tab-button:focus {\n                outline: 2px solid #1a73e8;\n                outline-offset: 2px;\n              }\n            "}),(0,pi.jsx)("div",{className:"modern-tab-navigation",children:(0,pi.jsxs)("div",{className:"modern-tab-buttons",children:[(0,pi.jsx)("button",{type:"button",className:"modern-tab-button ".concat("items"===F?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),L("items")},children:"\ud83d\udccb Items"}),(0,pi.jsx)("button",{type:"button",className:"modern-tab-button ".concat("apply"===F?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),L("apply")},children:"\ud83d\udcb3 Apply"})]})})]}),"items"===F||"VendorCredit"!==t?(0,pi.jsx)(qy,{name:"items",component:Re,dataItemKey:fj,validator:e=>e&&e.length?"":"Please add at least one item",onTotalAmountChange:he,headerDiscount:a,selectedLocation:l,poid:c,irid:d,onUnreceivedLinesLoaded:u}):Fe()]}):(0,pi.jsxs)("div",{className:"form-container",children:[(0,pi.jsx)(uy,{children:w.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:w.type,icon:!0},closable:!0,onClose:()=>k({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:w.message})})})}),(0,pi.jsx)("div",{className:"form-header",children:(0,pi.jsx)("h2",{children:"new"===n?"Add ".concat(A.title):"edit"===n?"Edit ".concat(A.title):"View ".concat(A.title)})}),"VendorCredit"===t&&(0,pi.jsx)("div",{className:"tab-navigation",children:(0,pi.jsxs)("div",{className:"tab-buttons",children:[(0,pi.jsx)("button",{type:"button",className:"tab-button ".concat("items"===F?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),L("items")},children:"Items"}),(0,pi.jsx)("button",{type:"button",className:"tab-button ".concat("apply"===F?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),L("apply")},children:"Apply"})]})}),(0,pi.jsx)(ha,{onSubmit:async e=>{try{if(E(!0),j(null),r)return void ce("Line items updated. Save the main form to create the transaction.","info");const n=g;if(!n)throw new Error("Transaction ID is required to save line items");const o=e.items||[];if(0===o.length)return void ce("No items to save","warning");const i={PurchaseOrder:{endpoint:"".concat(vi.baseURL,"/purchase-order-line"),idField:"poid",quantityField:"quantity"},ItemReceipt:{endpoint:"".concat(vi.baseURL,"/item-receipt-line"),idField:"irid",quantityField:"quantity"},VendorBill:{endpoint:"".concat(vi.baseURL,"/vendor-bill-line"),idField:"vbid",quantityField:"quantity"}}[t];if(!i)throw new Error("Unsupported record type: ".concat(t));const s=o.map((async(e,o)=>{var r,s;const l=Number(e.quantity||0),c=Number(e.rate||0),d=Number(e.taxPercent||0),u=l*c-(a||0),p=u*d/100,h=u+p,f={[i.idField]:n,itemID:(null===(r=e.itemID)||void 0===r?void 0:r.value)||e.itemID,quantity:l,rate:c,taxID:(null===(s=e.taxID)||void 0===s?void 0:s.value)||e.taxID,taxPercent:d,taxAmount:p,totalAmount:h};"PurchaseOrder"===t?f.poSequenceNumber="PO-".concat(String(o+1).padStart(3,"0")):"ItemReceipt"===t?f.irSequenceNumber="IR-".concat(String(o+1).padStart(3,"0")):"VendorBill"===t&&(f.vbSequenceNumber="VB-".concat(String(o+1).padStart(3,"0")));const m=await fetch(i.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(uj(f))});if(!m.ok){const e=await m.text();throw new Error("Failed to create line ".concat(o+1,": ").concat(m.status," - ").concat(e))}return await m.json()}));await Promise.all(s),ce("".concat(t," items saved successfully (").concat(o.length," items)"),"success"),r||m(se[t]||"/")}catch(n){j(n.message),ce(n.message,"error")}finally{E(!1)}},initialValues:N,render:e=>(0,pi.jsxs)(xa,{style:{width:"100%"},children:[(0,pi.jsx)("div",{className:"form-grid",children:(0,pi.jsx)("div",{className:"order-items-field",children:"items"===F||"VendorCredit"!==t?(0,pi.jsx)(qy,{name:"items",component:Re,dataItemKey:fj,validator:e=>e&&e.length?"":"Please add at least one item",onTotalAmountChange:he,headerDiscount:a,selectedLocation:l,poid:c,irid:d,onUnreceivedLinesLoaded:u}):Fe()})}),(0,pi.jsxs)("div",{className:"form-actions",children:[(0,pi.jsxs)(xo,{type:"button",onClick:()=>m(se[t]||"/"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",children:[(0,pi.jsx)(ai,{})," ","view"===n?"Close":"Cancel"]}),"view"!==n&&(0,pi.jsxs)(xo,{type:"submit",disabled:I||!e.allowSubmit,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ni,{})," ",I?"Saving...":"Save Items"]})]})]})}),(0,pi.jsx)("style",{children:'\n        .form-container {\n          background: white;\n          border-radius: 4px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          padding: 16px;\n          margin: 16px;\n        }\n\n        /* Tab Navigation Styles */\n        .tab-navigation {\n          margin-bottom: 20px;\n          border-bottom: 1px solid #ddd;\n        }\n\n        .tab-buttons {\n          display: flex;\n          gap: 0;\n        }\n\n        .tab-button {\n          padding: 12px 24px;\n          border: none;\n          background: #f5f5f5;\n          cursor: pointer;\n          border-top-left-radius: 4px;\n          border-top-right-radius: 4px;\n          margin-right: 2px;\n          font-weight: 500;\n          color: #666;\n          transition: all 0.2s ease;\n        }\n\n        .tab-button:hover {\n          background: #e9e9e9;\n          color: #333;\n        }\n\n        .tab-button.active {\n          background: white;\n          color: #333;\n          border-bottom: 2px solid #007acc;\n          font-weight: 600;\n        }\n\n        .form-header {\n          margin-bottom: 16px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .form-header h2 {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.25rem;\n          font-weight: 600;\n        }\n\n        .form-grid {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n\n        .k-form-field {\n          margin-bottom: 16px;\n        }\n\n        .k-form-field > .k-label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 500;\n          color: #4a5568;\n          font-size: 14px;\n        }\n\n        .k-textbox,\n        .k-textarea,\n        .k-datepicker,\n        .k-dropdownlist {\n          width: 100%;\n          font-size: 14px;\n        }\n\n        .k-input, \n        .k-textarea {\n          font-size: 14px;\n          padding: 8px 12px;\n        }\n\n        .k-input:disabled,\n        .k-textbox:disabled {\n          background-color: #f5f5f5 !important;\n          color: #666 !important;\n          cursor: not-allowed !important;\n          opacity: 0.7;\n        }\n\n        .order-items-field {\n          grid-column: span 3;\n          margin-top: 16px;\n        }\n\n        .form-actions {\n          display: flex;\n          justify-content: flex-end;\n          gap: 8px;\n          padding-top: 16px;\n          margin-top: 8px;\n          border-top: 1px solid #e2e8f0;\n        }\n\n        .k-button {\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 12px;\n          font-size: 13px;\n          font-weight: 500;\n        }\n\n        .k-button svg {\n          font-size: 13px;\n        }\n\n        .notification-container {\n          position: fixed;\n          right: 12px;\n          top: 12px;\n          z-index: 9999;\n          min-width: 280px;\n        }\n\n        .loading-indicator {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 150px;\n          gap: 12px;\n          font-size: 14px;\n        }\n\n        .spinner {\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid #3498db;\n          border-radius: 50%;\n          width: 32px;\n          height: 32px;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .k-form-error {\n          color: #e53e3e;\n          font-size: 12px;\n          margin-top: 4px;\n        }\n\n        /* Grid specific styles for consistent field sizing */\n        .k-grid td {\n          padding: 0 !important;\n        }\n\n        .k-grid .k-textbox,\n        .k-grid .k-dropdownlist,\n        .k-grid input[type="number"] {\n          height: 32px !important;\n          font-size: 13px !important;\n          padding: 4px 8px !important;\n          border: 1px solid #e2e8f0 !important;\n          border-radius: 3px !important;\n          width: 100% !important;\n          box-sizing: border-box !important;\n        }\n\n        .k-grid .k-dropdownlist .k-input {\n          height: 30px !important;\n          padding: 4px 8px !important;\n          font-size: 13px !important;\n          line-height: 1.4 !important;\n        }\n\n        /* Hide number input spinners */\n        .k-grid input[type="number"]::-webkit-outer-spin-button,\n        .k-grid input[type="number"]::-webkit-inner-spin-button {\n          -webkit-appearance: none !important;\n          margin: 0 !important;\n        }\n\n        .k-grid input[type="number"] {\n          -moz-appearance: textfield !important;\n        }\n\n        /* Transaction Items Grid Styles - Based on FormCreator.js */\n        .transaction-items-grid-container {\n          background: white;\n          border-radius: 8px;\n          border: 1px solid #e2e8f0;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          overflow-x: auto !important;\n          overflow-y: visible !important;\n          margin-bottom: 16px;\n          width: 100% !important;\n          max-width: 100% !important;\n          -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */\n          display: block !important;\n        }\n\n        .transaction-items-grid {\n          border: none !important;\n          border-radius: 0 !important;\n          margin-bottom: 0 !important;\n          min-width: 900px !important;\n          width: auto !important;\n        }\n\n        .transaction-items-grid .k-grid-header {\n          background: #f8fafc !important;\n          border-bottom: 2px solid #e2e8f0 !important;\n        }\n\n        .transaction-items-grid .k-grid-header th {\n          font-weight: 600 !important;\n          color: #4a5568 !important;\n          text-transform: uppercase !important;\n          font-size: 11px !important;\n          letter-spacing: 0.5px !important;\n          padding: 12px 8px !important;\n          text-align: left !important;\n        }\n\n        .transaction-items-grid .k-grid-header th:last-child {\n          text-align: center !important;\n        }\n\n        .transaction-items-grid td {\n          padding: 8px !important;\n          border-bottom: 1px solid #f0f0f0 !important;\n          vertical-align: middle !important;\n        }\n\n        .transaction-items-grid td:last-child {\n          text-align: center !important;\n        }\n\n        .transaction-items-grid .k-grid-content tr:hover {\n          background-color: #f7fafc !important;\n        }\n\n        /* Responsive Grid Layout */\n        .transaction-items-grid .k-grid-table {\n          min-width: 900px !important; /* Minimum width for all columns to be readable */\n          width: auto !important;\n        }\n\n        /* Force horizontal scroll on smaller screens */\n        @media (max-width: 1200px) {\n          .transaction-items-grid-container {\n            overflow-x: scroll !important;\n            overflow-y: visible !important;\n          }\n          \n          .transaction-items-grid,\n          .transaction-items-grid .k-grid-table {\n            min-width: 1000px !important;\n          }\n        }\n\n        /* Always show horizontal scroll on mobile */\n        @media (max-width: 768px) {\n          .transaction-items-grid-container {\n            overflow-x: scroll !important;\n            overflow-y: visible !important;\n            -webkit-overflow-scrolling: touch !important;\n            scrollbar-width: auto !important;\n          }\n          \n          .transaction-items-grid {\n            min-width: 1200px !important;\n            width: 1200px !important;\n          }\n          \n          .transaction-items-grid .k-grid-table {\n            min-width: 1200px !important;\n            width: 1200px !important;\n            table-layout: fixed !important;\n          }\n          \n          /* Set specific column widths to ensure overflow */\n          .transaction-items-grid .k-grid-header th:nth-child(1),\n          .transaction-items-grid td:nth-child(1) {\n            width: 200px !important;\n            min-width: 200px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(2),\n          .transaction-items-grid td:nth-child(2) {\n            width: 100px !important;\n            min-width: 100px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(3),\n          .transaction-items-grid td:nth-child(3) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(4),\n          .transaction-items-grid td:nth-child(4) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(5),\n          .transaction-items-grid td:nth-child(5) {\n            width: 150px !important;\n            min-width: 150px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(6),\n          .transaction-items-grid td:nth-child(6) {\n            width: 100px !important;\n            min-width: 100px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(7),\n          .transaction-items-grid td:nth-child(7) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(8),\n          .transaction-items-grid td:nth-child(8) {\n            width: 120px !important;\n            min-width: 120px !important;\n          }\n          \n          .transaction-items-grid .k-grid-header th:nth-child(9),\n          .transaction-items-grid td:nth-child(9) {\n            width: 150px !important;\n            min-width: 150px !important;\n          }\n        }\n\n        /* Horizontal scroll indicator for mobile */\n        .transaction-items-grid-container::after {\n          content: \'\';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 20px;\n          height: 100%;\n          background: linear-gradient(to left, rgba(255,255,255,0.8), transparent);\n          pointer-events: none;\n          opacity: 0;\n          transition: opacity 0.3s ease;\n        }\n\n        /* Form container responsive fixes */\n        body, html {\n          overflow-x: hidden;\n        }\n\n        .form-container, .master-form-container {\n          max-width: 100vw;\n          overflow-x: hidden;  \n          box-sizing: border-box;\n        }\n\n        .master-form-content {\n          max-width: 100%;\n          overflow-x: hidden;\n        }\n\n        @media (max-width: 768px) {\n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .order-items-field {\n            grid-column: span 1;\n          }\n\n          .form-container {\n            margin: 12px;\n            padding: 12px;\n          }\n\n          .transaction-items-grid-container {\n            margin: 0 -16px;\n            border-radius: 0;\n            border-left: none;\n            border-right: none;\n            position: relative;\n            /* Enhanced horizontal scrolling */\n            overflow-x: auto;\n            overflow-y: visible;\n            -webkit-overflow-scrolling: touch;\n            scrollbar-width: thin;\n            scrollbar-color: #cbd5e0 #f7fafc;\n          }\n\n          /* Custom scrollbar for webkit browsers */\n          .transaction-items-grid-container::-webkit-scrollbar {\n            height: 6px;\n          }\n\n          .transaction-items-grid-container::-webkit-scrollbar-track {\n            background: #f7fafc;\n            border-radius: 3px;\n          }\n\n          .transaction-items-grid-container::-webkit-scrollbar-thumb {\n            background: #cbd5e0;\n            border-radius: 3px;\n          }\n\n          .transaction-items-grid-container::-webkit-scrollbar-thumb:hover {\n            background: #a0aec0;\n          }\n\n          /* Show scroll indicator when content overflows */\n          .transaction-items-grid-container::after {\n            opacity: 1;\n          }\n\n          .transaction-items-grid .k-grid-table {\n            min-width: 800px; /* Ensure all columns are visible with horizontal scroll */\n          }\n\n          /* Add padding to prevent content cutoff */\n          .transaction-items-grid .k-grid-header th:first-child,\n          .transaction-items-grid td:first-child {\n            padding-left: 12px !important;\n          }\n\n          .transaction-items-grid .k-grid-header th:last-child,\n          .transaction-items-grid td:last-child {\n            padding-right: 12px !important;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .transaction-items-grid-container {\n            margin: 0 -12px;\n          }\n\n          .transaction-items-grid .k-grid-table {\n            min-width: 700px; /* Slightly smaller for very small screens */\n          }\n\n          /* Compress column widths for mobile */\n          .transaction-items-grid .k-grid-header th,\n          .transaction-items-grid td {\n            padding: 6px 4px !important;\n            font-size: 12px !important;\n          }\n\n          .transaction-items-grid .k-textbox,\n          .transaction-items-grid .k-dropdownlist,\n          .transaction-items-grid input[type="number"] {\n            height: 28px !important;\n            font-size: 12px !important;\n            padding: 2px 6px !important;\n          }\n        }\n      '})]})})),gj=mj,vj=["items"],yj=["validationMessage","touched","label"];if("undefined"!==typeof document&&!document.getElementById("purchase-tab-styles")){const e=document.createElement("style");e.id="purchase-tab-styles",e.textContent="\n  .sales-form-tabs {\n    display: flex;\n    margin-bottom: 20px;\n    border-bottom: 2px solid #e0e0e0;\n    background: white;\n    border-radius: 8px 8px 0 0;\n    overflow: hidden;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n  }\n\n  .sales-form-tab {\n    flex: 1;\n    padding: 16px 24px;\n    background: #f5f5f5;\n    border: none;\n    cursor: pointer;\n    font-size: 16px;\n    font-weight: 500;\n    color: #666;\n    transition: all 0.3s ease;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n    border-right: 1px solid #e0e0e0;\n    position: relative;\n  }\n\n  .sales-form-tab:last-child {\n    border-right: none;\n  }\n\n  .sales-form-tab:hover {\n    background: #e8f4fd;\n    color: #1976d2;\n  }\n\n  .sales-form-tab.active {\n    background: #1976d2;\n    color: white;\n  }\n\n  .sales-form-tab.active::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: #1565c0;\n  }\n\n  .sales-form-tab-content {\n    background: white;\n    border-radius: 0 0 8px 8px;\n    padding: 20px;\n    min-height: 400px;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n  }\n\n  .sales-form-tab-content.active {\n    display: block;\n  }\n\n  .sales-form-tab-content:not(.active) {\n    display: none;\n  }\n  \n  .transactions-section {\n    padding: 24px;\n    background: white;\n    border-radius: 0 0 12px 12px;\n  }\n  \n  .transactions-section h4 {\n    margin: 0 0 20px 0;\n    color: #1a73e8;\n    font-size: 18px;\n    font-weight: 600;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n  \n  .transactions-section .fa-exchange-alt {\n    color: #34a853;\n    font-size: 20px;\n  }\n  \n  .transactions-table {\n    width: 100%;\n    border-collapse: separate;\n    border-spacing: 0;\n    border-radius: 12px;\n    overflow: hidden;\n    box-shadow: 0 2px 12px rgba(0,0,0,0.08);\n    border: 1px solid #e8eaed;\n    background: white;\n  }\n  \n  .transactions-table th {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e8eaed 100%);\n    color: #5f6368;\n    padding: 16px 24px;\n    text-align: left;\n    font-weight: 600;\n    font-size: 13px;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n    border-bottom: 2px solid #e8eaed;\n  }\n  \n  .transactions-table th:first-child {\n    border-radius: 12px 0 0 0;\n  }\n  \n  .transactions-table th:last-child {\n    border-radius: 0 12px 0 0;\n  }\n  \n  .transactions-table td {\n    padding: 18px 24px;\n    border-bottom: 1px solid #f1f3f4;\n    font-size: 14px;\n    color: #3c4043;\n    font-weight: 400;\n    line-height: 1.5;\n    vertical-align: middle;\n  }\n  \n  .transactions-table tbody tr {\n    transition: all 0.3s ease;\n    background: white;\n  }\n  \n  .transactions-table tbody tr:nth-child(even) {\n    background: #fafbfc;\n  }\n  \n  .transactions-table tbody tr:hover {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e8f0fe 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 8px rgba(26,115,232,0.12);\n  }\n  \n  .transactions-table tbody tr:hover td {\n    color: #1a73e8;\n  }\n  \n  .transactions-table tbody tr:last-child td {\n    border-bottom: none;\n  }\n  \n  .transactions-table tbody tr:last-child td:first-child {\n    border-radius: 0 0 0 12px;\n  }\n  \n  .transactions-table tbody tr:last-child td:last-child {\n    border-radius: 0 0 12px 0;\n  }\n  \n  .view-button {\n    background: linear-gradient(135deg, #1a73e8 0%, #4285f4 100%);\n    color: white;\n    border: none;\n    padding: 8px 16px;\n    border-radius: 20px;\n    font-size: 12px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    box-shadow: 0 2px 8px rgba(26,115,232,0.3);\n  }\n  \n  .view-button:hover {\n    background: linear-gradient(135deg, #1557b0 0%, #3367d6 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(26,115,232,0.4);\n  }\n  \n  .no-transactions {\n    text-align: center;\n    padding: 60px 20px;\n    color: #9aa0a6;\n    font-style: italic;\n    background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);\n    border-radius: 12px;\n    border: 2px dashed #dadce0;\n    margin: 20px 0;\n  }\n  \n  .no-transactions .fa-exchange-alt {\n    font-size: 48px;\n    color: #dadce0;\n    margin-bottom: 16px;\n    display: block;\n  }\n  \n  .loading-transactions {\n    text-align: center;\n    padding: 40px 20px;\n    color: #5f6368;\n    font-style: italic;\n  }\n  \n  .loading-transactions .spinner {\n    width: 32px;\n    height: 32px;\n    border: 3px solid #f3f3f3;\n    border-top: 3px solid #1a73e8;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n    margin: 0 auto 16px;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n",document.head.appendChild(e)}const xj=e=>{const t={};return Object.keys(e).forEach((n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)})),t},bj=o.memo((e=>{var t,n,r;let{recordType:i,mode:a="new"}=e;const l=ge(),{id:c}=ve(),{loading:d,error:u,fetchFormConfiguration:h}=fy(),f=yy("purchase-order"),m=yy("item-receipt"),g=yy("vendor-bill"),v=yy("vendor-credit"),y=_y(),{createOrUpdateInventoryDetail:x,validateInventoryAvailability:b,processItemReceipt:w,checkInventoryDetailExists:k,setInventoryQuantity:C}=Vy(),S="PurchaseOrder"===i?f:"ItemReceipt"===i?m:"VendorBill"===i?g:"VendorCredit"===i?v:null,[I,E]=(0,o.useState)({show:!1,message:"",type:"success"}),[_,j]=(0,o.useState)(!1),[A,D]=(0,o.useState)(!1),[N,T]=(0,o.useState)(null),[P,M]=(0,o.useState)(null),[O,R]=(0,o.useState)({}),[F,L]=(0,o.useState)({}),[z,B]=(0,o.useState)([]),[V,H]=(0,o.useState)({}),[q,U]=(0,o.useState)({}),[G,W]=(0,o.useState)({}),[K,Y]=(0,o.useState)(null),[X,Q]=(0,o.useState)([]),[J,Z]=(0,o.useState)(0),[$,ee]=(0,o.useState)(null),[te,ne]=(0,o.useState)("items"),[oe,re]=(0,o.useState)([]),[ie,ae]=(0,o.useState)(!1),[se,le]=(0,o.useState)({creditAmount:"",vendorBills:[],appliedTo:0,unapplied:0,originalData:null}),[ce,de]=(0,o.useState)(!1),[ue,pe]=(0,o.useState)(null),[he,fe]=(0,o.useState)(0),me=o.useRef(null),ye=o.useRef(null),xe={PurchaseOrder:"/purchase-order",ItemReceipt:"/item-receipt",VendorBill:"/vendor-bill",VendorCredit:"/vendor-credit"},be="b2dae51c-12b6-4a90-adfd-4e2345026b70",we="5e3f19d1-f615-4954-88cb-30975d52b8cd",ke=(0,o.useCallback)((async(e,t)=>{try{const n=await fetch("".concat(vi.baseURL).concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}}),[]),Ce=(0,o.useCallback)((async e=>{try{const t=await fetch("".concat(vi.baseURL,"/record-type"),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e});if(!t.ok)throw new Error("Failed to fetch record types: ".concat(t.status));return(await t.json()).results||[]}catch(t){return t.name,[]}}),[]),Se=(0,o.useCallback)((async e=>{if(!e||"VendorBill"!==i)return[];ae(!0);try{const[t,n]=await Promise.all([fetch("".concat(vi.baseURL,"/vendor-payment-line/by-record-id/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(vi.baseURL,"/vendor-credit-payment-line/by-record-id/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let o=[];if(t.ok){const e=await t.json();o=Array.isArray(e)?e.map((e=>p(p({},e),{},{transactionType:"Vendor Payment"}))):[]}else 404!==t.status&&console.warn("Failed to fetch vendor payment lines: ".concat(t.status));let r=[];if(n.ok){const e=await n.json();r=Array.isArray(e)?e.map((e=>p(p({},e),{},{transactionType:"Vendor Credit"}))):[]}else 404!==n.status&&console.warn("Failed to fetch vendor credit payment lines: ".concat(n.status));const i=[...o,...r];return i.sort(((e,t)=>e.createdAt&&t.createdAt?new Date(t.createdAt)-new Date(e.createdAt):(t.id||0)-(e.id||0))),i}catch(t){return console.error("Error fetching transactions data:",t),[]}finally{ae(!1)}}),[i]),Ie=async e=>{try{const t=await fetch("".concat(vi.baseURL,"/custom-form-field/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch custom form fields: ".concat(t.status));const n=await t.json(),o=(Array.isArray(n)?n:[]).sort(((e,t)=>(e.displayOrder||0)-(t.displayOrder||0))),r={},i=o.filter((e=>["DropDownList","MultiSelect"].includes(e.fieldTypeName)&&e.fieldSource));for(const e of i){const t=await ke(e.fieldSource);r["custom_".concat(e.fieldName)]=t}return Object.keys(r).length>0&&L((e=>p(p({},e),r))),o}catch(t){return Ae("Failed to load custom form fields: ".concat(t.message),"error"),[]}},Ee=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{if(!t)return{};const o=await fetch("".concat(vi.baseURL,"/custom-field-value/by-type-and-record?typeOfRecord=").concat(t,"&recordId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return{};const r=await o.json(),i={},a={},s={};return n.forEach((e=>{s[e.fieldName]=e.fieldTypeName})),Array.isArray(r)&&r.forEach((e=>{if(e.customFieldName&&void 0!==e.valueText&&null!==e.valueText){const n=s[e.customFieldName];let o=e.valueText;switch(n){case"DatePicker":case"Date":if("string"===typeof o&&""!==o.trim()){const e=new Date(o);o=isNaN(e.getTime())?null:e}break;case"NumericTextBox":case"Number":if("string"===typeof o&&""!==o.trim()){const e=parseFloat(o);o=isNaN(e)?0:e}break;case"Checkbox":case"Switch":"string"===typeof o&&(o="true"===o.toLowerCase()||"1"===o);break;case"MultiSelect":if("string"===typeof o&&""!==o.trim())try{const e=JSON.parse(o);o=Array.isArray(e)?e:[o]}catch(t){o=[o]}}i[e.customFieldName]=o,a[e.customFieldName]=e.id}})),{customData:i,customFieldIds:a}}catch(o){return{customData:{},customFieldIds:{}}}},_e=e=>{const t={};return e.forEach((e=>{switch(e.fieldTypeName){case"Checkbox":case"Switch":t[e.name]=!1;break;case"Number":case"NumericTextBox":t[e.name]=0;break;case"Date":case"DropDownList":t[e.name]=null;break;default:t[e.name]=""}})),t};(0,o.useEffect)((()=>{let e=!0;return(async()=>{if(e)try{D(!0),T(null),de(!1),B([]),H({}),U({}),W({}),Y(null);const d=await Ce();if(!e)return;Q(d);const u=await h(i);if(!e)return;M(u);const f=u.standardFields.filter((e=>"DropDownList"===e.fieldTypeName&&e.source)),m=Be(u,d,i),g=f.map((async e=>{let t;if("form"===e.name&&m)try{const e=await fetch("".concat(vi.baseURL,"/form/by-type-of-record/").concat(m),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch forms for record type: ".concat(e.status));t=await e.json(),t=Array.isArray(t)?t:t.results||t.data||[]}catch(n){t=[]}else t=await ke(e.source);return{name:e.name,data:t}})),v=await Promise.all(g);if(!e)return;const x=v.reduce(((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e}),{});y.data&&y.data.length>0&&(x.status=y.data),L(x);const b=_e(u.standardFields);if("new"===a){if(u.standardFields.forEach((e=>{("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date")||"soDate"===e.name||"invoiceDate"===e.name||"deliveryDate"===e.name)&&(b[e.name]=new Date)})),"ItemReceipt"===i){const e=sessionStorage.getItem("purchaseOrderDataForReceiving");if(e)try{var t;const n=JSON.parse(e);if(n.form){b.form=n.form;try{const[e,t]=await Promise.all([fetch("".concat(vi.baseURL,"/form/").concat(n.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(vi.baseURL,"/form-sequence/by-form/").concat(n.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);if(e.ok&&t.ok){const[n,o]=await Promise.all([e.text().then((e=>e.trim()?JSON.parse(e):{})),t.text().then((e=>e.trim()?JSON.parse(e):[]))]),r=Array.isArray(o)&&o.length>0?o[0]:{formSequenceNumber:0},i=n.prefix||"",a=(r.formSequenceNumber||0)+1,s="".concat(i).concat(String(a).padStart(4,"0"));b.sequenceNumber=s}}catch(N){}Ye(n.form)}n.poid&&(b.poid=n.poid),n.vendorID&&(b.vendorID=n.vendorID),n.locationID&&(b.locationID=n.locationID,ee(n.locationID)),n.deliveryDate&&(b.deliveryDate=new Date(n.deliveryDate)),n.discount&&(b.discount=n.discount),n.totalAmount&&(b.totalAmount=n.totalAmount);const o=(null===(t=n.items)||void 0===t?void 0:t.results)||n.items||[];o&&o.length>0&&(b.items=o.map((e=>{const t=e.quantity-(e.receivedQty||0),n=t*(e.rate||0),o=n*((e.taxPercent||0)/100),r=n+o;return p(p({},e),{},{quantityReceived:t,quantity:e.quantity||0,taxAmount:o,totalAmount:r})})))}catch(N){sessionStorage.removeItem("purchaseOrderDataForReceiving")}}if("VendorBill"===i){const e=sessionStorage.getItem("itemReceiptDataForBilling");if(e)try{var n;const t=JSON.parse(e);if(t.form){b.form=t.form;try{const[e,n]=await Promise.all([fetch("".concat(vi.baseURL,"/form/").concat(t.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(vi.baseURL,"/form-sequence/by-form/").concat(t.form),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);if(e.ok&&n.ok){const[t,o]=await Promise.all([e.text().then((e=>e.trim()?JSON.parse(e):{})),n.text().then((e=>e.trim()?JSON.parse(e):[]))]),r=Array.isArray(o)&&o.length>0?o[0]:{formSequenceNumber:0},i=t.prefix||"",a=(r.formSequenceNumber||0)+1,s="".concat(i).concat(String(a).padStart(4,"0"));b.sequenceNumber=s}}catch(N){console.error("Error generating sequence number for bill:",N)}Ye(t.form)}t.irid&&(b.irid=t.irid),t.vendorID&&(b.vendorID=t.vendorID),t.locationID&&(b.locationID=t.locationID,ee(t.locationID)),t.deliveryDate&&(b.invoiceDate=new Date(t.deliveryDate)),t.discount&&(b.discount=t.discount),t.totalAmount&&(b.totalAmount=t.totalAmount);const o=(null===(n=t.items)||void 0===n?void 0:n.results)||t.items||[];o&&o.length>0&&(console.log("[PurchaseForm] Setting items from sessionStorage for VendorBill:",o),b.items=o.map((e=>p(p({},e),{},{quantity:e.quantity||e.quantitydelivered||0}))))}catch(N){console.error("Error parsing ItemReceipt data for billing:",N),sessionStorage.removeItem("itemReceiptDataForBilling")}}}if("new"!==a&&c)try{var o;let t;switch(i){case"PurchaseOrder":null!==S&&void 0!==S&&S.fetchPurchaseOrderById&&(t=await S.fetchPurchaseOrderById(c));break;case"ItemReceipt":null!==S&&void 0!==S&&S.fetchItemReceiptById&&(t=await S.fetchItemReceiptById(c));break;case"VendorBill":null!==S&&void 0!==S&&S.fetchVendorBillById&&(t=await S.fetchVendorBillById(c));break;case"VendorCredit":null!==S&&void 0!==S&&S.fetchVendorCreditById&&(t=await S.fetchVendorCreditById(c));break;default:t={}}if(!e)return;const n=(null===(o=t)||void 0===o?void 0:o.data)||t||{};if(n&&Object.keys(n).length>0){const t=p({},b);u.standardFields.forEach((e=>{if(void 0!==n[e.name]){let o=n[e.name];if(("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date"))&&o&&"string"===typeof o){const e=new Date(o);o=isNaN(e.getTime())?null:e}t[e.name]=o}}));const o=u.standardFields.map((e=>e.name));Object.keys(n).forEach((e=>{void 0===n[e]||o.includes(e)||(t[e]=n[e])})),R(t),t.locationID&&ee(t.locationID);try{let e=[],n="",o="";switch(i){case"PurchaseOrder":n="".concat(vi.baseURL,"/purchase-order-line/by-purchase-order/").concat(c),o="poid";break;case"ItemReceipt":n="".concat(vi.baseURL,"/item-receipt-line/by-item-receipt/").concat(c),o="irid";break;case"VendorBill":n="".concat(vi.baseURL,"/vendor-bill-line/by-vendor-bill/").concat(c),o="vbid";break;case"VendorCredit":n="".concat(vi.baseURL,"/vendor-credit-line/by-vendor-credit/").concat(c),o="vcid"}if(n){const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(o.ok){const n=await o.json();if(Array.isArray(n))e=n;else if(n.results&&Array.isArray(n.results))e=n.results;else if(n.data&&Array.isArray(n.data))e=n.data;else if(n.purchaseOrderLines&&Array.isArray(n.purchaseOrderLines))e=n.purchaseOrderLines;else if(n.lines&&Array.isArray(n.lines))e=n.lines;else{const t=Object.values(n).filter((e=>Array.isArray(e)));t.length>0&&(e=t[0])}if(e.length>0){let n=[];try{const e=await fetch("".concat(vi.baseURL,"/tax"),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json();n=t.results||t.data||t||[],n.length}}catch(r){}const o=e.map((e=>{const t=parseFloat(e.quantity||0),o=parseFloat(e.rate||0),r=parseFloat(e.discountAmount||e.discount||0);let a=parseFloat(e.taxPercent||0);if(0===a&&e.taxID&&n.length>0){const t=n.find((t=>t.id===e.taxID));t&&(a=parseFloat(t.taxPercent||t.percentage||t.rate||0))}const s=t*o-r,l=s*a/100,c=s+l,d=p(p({},e),{},{quantity:t,rate:o,discountAmount:r,taxPercent:a,taxAmount:"VendorBill"===i?l:e.taxAmount||l,taxRate:"VendorBill"===i?e.taxRate||l:e.taxRate,totalAmount:c,amount:c});return"ItemReceipt"===i&&(d.quantityReceived=e.quantityReceived||e.quantity||0,e.poid?d.remQty=(e.quantity||0)-(d.quantityReceived||0):d.remQty=e.remQty||(e.quantity||0)-(d.quantityReceived||0)),d}));t.items=o,R(p({},t)),ye.current=p({},t)}}}}catch(s){}if("view"===a&&["VendorBill","VendorCredit"].includes(i))try{const t=await Se(c);if(!e)return;re(t)}catch(l){}if(n.form)try{const t=await Ie(n.form);if(!e)return;if(B(t),Y(n.form),t.length>0){const n=_e(t.map((e=>p(p({},e),{},{name:e.fieldName})))),o=Be(u,d,i),{customData:r,customFieldIds:a}=await Ee(c,o,t);if(!e)return;U(a);const s=p(p({},n),r);H(s),W(s)}}catch(r){}}else R(b)}catch(N){R(b)}else{if(!e)return;R(b)}if(!e)return;de(!0)}catch(r){if(!e)return;T(r.message),Ae(r.message,"error")}finally{if(!e)return;D(!1)}})(),()=>{e=!1}}),[a,c,i,y.data]),(0,o.useEffect)((()=>()=>{me.current&&(clearTimeout(me.current),me.current=null),B([]),H({}),U({}),W({}),Y(null),R({}),de(!1),E({show:!1,message:"",type:"success"});const e=window.location.pathname;e.includes("/item-receipt/new")||e.includes("/vendor-bill/new")||(sessionStorage.removeItem("purchaseOrderDataForReceiving"),sessionStorage.removeItem("itemReceiptDataForBilling"))}),[]),(0,o.useEffect)((()=>{const e=()=>{sessionStorage.removeItem("purchaseOrderDataForReceiving"),sessionStorage.removeItem("itemReceiptDataForBilling")},t=()=>{document.hidden&&setTimeout((()=>{const e=window.location.pathname;e.includes("/item-receipt/new")||e.includes("/vendor-bill/new")||(sessionStorage.removeItem("purchaseOrderDataForReceiving"),sessionStorage.removeItem("itemReceiptDataForBilling"))}),100)};return window.addEventListener("beforeunload",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("beforeunload",e),document.removeEventListener("visibilitychange",t)}}),[]);const je=(0,o.useMemo)((()=>{if(!ce)return{};if(0===Object.keys(V).length)return O;const e={};return Object.keys(V).forEach((t=>{e["custom_".concat(t)]=V[t]})),p(p({},O),e)}),[O,V,ce]),Ae=(0,o.useCallback)((function(e){E({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{E({show:!1,message:"",type:"success"})}),4e3)}),[]),De=async e=>{try{let t=X;t&&0!==t.length||(t=await Ce());const n=t.find((t=>{var n;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===e.toLowerCase()}));if(!n)return console.warn("Record type not found: ".concat(e)),null;const o=await fetch("".concat(vi.baseURL,"/form/default-form-id/").concat(n.id),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(o.ok){const e=await o.text();return(null===e||void 0===e?void 0:e.replace(/^["']|["']$/g,"").trim())||null}return 404===o.status?(console.warn("No default form found for record type: ".concat(e)),null):(console.error("Failed to get default form for ".concat(e,": ").concat(o.status)),null)}catch(N){return console.error("Error getting default form for ".concat(e,":"),N),null}},Ne=(0,o.useCallback)((e=>{le(e)}),[]),Te=(0,o.useCallback)((async(e,t,n)=>{try{console.log("\ud83d\udd04 Creating Vendor Credit Payment Lines for:",{vendorCreditId:e,vendorCreditSeqNum:t,appliedVendorBills:n});const o=n.map((async n=>{const o={paymentAmount:n.displayAmount||0,recordID:n.id,isApplied:!0,refNo:n.refNo,recordType:"VendorBill",vcid:e,vendorCreditSeqNum:t,mainRecordAmount:n.dueAmount||0};console.log("paymentLineData",o);const r=await fetch("".concat(vi.baseURL,"/vendor-credit-payment-line"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(xj(o))});if(!r.ok){const e=await r.text();throw new Error("Failed to create Vendor Credit Payment Line: ".concat(r.status," - ").concat(e))}return await r.json()})),r=await Promise.all(o);return console.log("\u2705 Vendor Credit Payment Lines created successfully:",r),r}catch(N){throw console.error("\u274c Error creating Vendor Credit Payment Lines:",N),N}}),[]),Pe=(0,o.useCallback)((async(e,t)=>{try{console.log("\ud83d\udd04 Updating applied vendor bill amounts.7897889778",e,t);const n=e.vendorBills.filter((e=>e.checked||e.isApplied)).map((async e=>{let n,o,r,i=0;r=e.isApplied?e.recordID:e.id,console.log("\ud83d\udd04 Updating applied vendor bill amounts.",e),n="".concat(vi.baseURL,"/vendor-bill/").concat(r);const a=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log("\ud83d\udd04 Get response:",a),a.ok){const e=await a.json();console.log("\ud83d\udd04 Current record:",e),i=e.amountDue||0}let s,l;if("new"===t)s=Math.max(0,i-(e.displayAmount||0));else if("edit"===t){const t=e.originalAmount||0,n=(e.displayAmount||0)-t;s=Math.max(0,i-n)}else"delete"===t&&(s=i+(e.displayAmount||e.paymentAmount||0));if("delete"===t?l=we:"new"!==t&&"edit"!==t||(l=0===s?be:we),o={amountDue:s,status:l},n&&o){const t=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(xj(o))});t.ok?console.log("\u2705 Updated ".concat(e.type," ").concat(e.id," amountDue: ").concat(i," \u2192 ").concat(o.amountDue)):console.error("Failed to update ".concat(e.type," ").concat(e.id,": ").concat(t.status))}}));await Promise.all(n)}catch(N){throw console.error("\u274c Error updating applied vendor bill amounts:",N),N}}),[]),Me=(0,o.useCallback)((async e=>{try{console.log("\ud83d\uddd1\ufe0f Deleting existing Vendor Credit Payment Lines for:",e);const t=await fetch("".concat(vi.baseURL,"/vendor-credit-payment-line/by-vendor-credit/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=(await t.json()).lines||[];if(e.length>0){const t=e.map((async e=>{const t=await fetch("".concat(vi.baseURL,"/vendor-credit-payment-line/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});t.ok||console.error("Failed to delete payment line ".concat(e.id,": ").concat(t.status))}));await Promise.all(t),console.log("\u2705 All existing Vendor Credit Payment Lines deleted")}}else 404!==t.status&&console.warn("Failed to fetch existing payment lines: ".concat(t.status))}catch(N){throw console.error("\u274c Error deleting Vendor Credit Payment Lines:",N),N}}),[]),Oe=(0,o.useCallback)((async e=>{try{console.log("\ud83d\udd04 Updating Vendor Credit transaction line items"),await Me(c);const t=O.sequenceNumber||"";await Te(c,t,e),console.log("\u2705 Vendor Credit transaction line items updated successfully")}catch(N){throw console.error("\u274c Error updating Vendor Credit transaction line items:",N),N}}),[c,O.sequenceNumber,Me,Te]),Re=(0,o.useCallback)((async(e,t)=>{try{if(console.log("\ud83d\udd04 Updating Vendor Credit record amounts in edit mode"),console.log("\ud83d\udd04 Payment data:",e),console.log("\ud83d\udd04 Original payment data:",t),t&&t.lines){const e={vendorBills:t.lines};await Pe(e,"delete")}await Pe(e,"new"),console.log("\u2705 Vendor Credit record amounts updated successfully in edit mode")}catch(N){throw console.error("\u274c Error updating Vendor Credit record amounts in edit mode:",N),N}}),[Pe]),Fe=(0,o.useCallback)((async e=>{try{console.log("\ud83d\udcd6 Loading existing Vendor Credit Payment Lines for:",e);const t=await fetch("".concat(vi.baseURL,"/vendor-credit-payment-line/by-vendor-credit/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=(await t.json()).lines||[];return console.log("\ud83d\udcd6 Loaded Vendor Credit Payment Lines:",e),e}return 404===t.status?(console.log("\ud83d\udcd6 No existing Vendor Credit Payment Lines found"),[]):(console.warn("Failed to load Vendor Credit Payment Lines: ".concat(t.status)),[])}catch(N){return console.error("\u274c Error loading Vendor Credit Payment Lines:",N),[]}}),[]),Le=(0,o.useCallback)((e=>{const t={};if("ItemReceipt"===i&&"new"===a){if(sessionStorage.getItem("purchaseOrderDataForReceiving"))return t}if("VendorBill"===i&&"new"===a){if(sessionStorage.getItem("itemReceiptDataForBilling"))return t}return null!==P&&void 0!==P&&P.standardFields?(P.standardFields.forEach((n=>{const o=e[n.name];!n.isMandatory||o&&""!==o||(t[n.name]="".concat(n.name.charAt(0).toUpperCase()+n.name.slice(1)," is required")),"email"===n.name&&o&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(t[n.name]="Please enter a valid email address"),"phone"===n.name&&o&&!/^\d{10}$/.test(o.replace(/\D/g,""))&&(t[n.name]="Phone number must be 10 digits")})),t):t}),[P,i,a]),ze=e=>{const t=((e,t)=>{const n=p({},e);switch(t){case"PurchaseOrder":n.date&&!n.poDate&&(n.poDate=n.date,delete n.date);break;case"ItemReceipt":n.date&&!n.receiptDate&&(n.receiptDate=n.date,delete n.date);break;case"VendorBill":n.date&&!n.invoiceDate&&(n.invoiceDate=n.date,delete n.date);break;case"VendorCredit":n.date&&!n.tranDate&&(n.tranDate=n.date,delete n.date)}return n})(e,i),n={},o={};return Object.keys(t).forEach((e=>{const r=t[e],i=""===r?null:r;if(e.startsWith("custom_")){const t=e.replace("custom_","");o[t]=i}else n[e]=i})),{standardData:n,customData:o}},Be=(e,t,n)=>{if(null!==e&&void 0!==e&&e.recordTypeId)return e.recordTypeId;let o=t.find((e=>e.name===n));if(o)return o.id;if(o=t.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()})),o)return o.id;const r={Customer:["customer","customers"],Vendor:["vendor","vendors"],Product:["product","products"],ChartOfAccount:["chart-of-account","account","accounts"],Location:["location","locations"],Tax:["tax","taxes"]}[n]||[];for(const i of r)if(o=t.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===i.toLowerCase()})),o)return o.id;return null},Ve=()=>{if(null!==P&&void 0!==P&&P.recordTypeId)return P.recordTypeId;let e=X.find((e=>e.name===i));if(e)return e.id;if(e=X.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===i.toLowerCase()})),e)return e.id;const t={Customer:["customer","customers"],Vendor:["vendor","vendors"],Product:["product","products"],ChartOfAccount:["chart-of-account","account","accounts"],Location:["location","locations"],Tax:["tax","taxes"]}[i]||[];for(const n of t)if(e=X.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()})),e)return e.id;return null},He=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("ItemReceipt"!==i)return;let o=O.poid||O.purchaseOrderId;if(!o&&e.length>0){const t=e[0];t&&(t.poid||t.purchaseOrderId)&&(o=t.poid||t.purchaseOrderId)}if(!o)try{const e=sessionStorage.getItem("purchaseOrderDataForReceiving");if(e){const t=JSON.parse(e);t.poid&&(o=t.poid)}}catch(N){}if(!o){var r;const t=(null===(r=e[0])||void 0===r?void 0:r.receiptId)||c;if(t)try{const e=await fetch("".concat(vi.baseURL,"/item-receipt/").concat(t),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json();o=t.poid||t.purchaseOrderId}}catch(N){}}if(o)try{const r=await fetch("".concat(vi.baseURL,"/purchase-order-line/by-purchase-order/").concat(o),{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer YOUR_API_KEY"}});if(!r.ok)throw new Error("Failed to fetch purchase order lines");const i=await r.json(),a=Array.isArray(i)?i:i.results||Object.values(i).find((e=>Array.isArray(e)))||[],s=new Map,l=new Map;e.forEach((e=>{const t=e.itemID||e.itemId,n=parseFloat(e.quantity||e.quantityReceived||0);t&&n>0&&s.set(t,(s.get(t)||0)+n)})),t&&n.length>0&&n.forEach((e=>{const t=e.itemID||e.itemId,n=parseFloat(e.quantityReceived||e.quantity||0);t&&n>0&&l.set(t,(l.get(t)||0)+n)}));const c=a.map((async e=>{const n=e.itemID;if(!n)return;let r=e.receivedQty||0;if(t&&l.has(n)){r-=l.get(n)}if(s.has(n)){r+=s.get(n)}const i=e.quantity||0;r=Math.min(Math.max(0,r),i);const a={poid:o,itemID:e.itemID,quantity:e.quantity,rate:e.rate,taxID:e.taxID,taxPercent:e.taxPercent||0,taxAmount:e.taxAmount||0,totalAmount:e.totalAmount,receivedQty:r};return fetch("".concat(vi.baseURL,"/purchase-order-line/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(xj(a))})})),d=await Promise.all(c.filter((e=>e)));d.filter((e=>!e.ok)).length}catch(N){}},qe=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("VendorBill"!==i)return;let o=O.irid||O.itemReceiptId;if(!o&&e.length>0){const t=e[0];t&&(t.irid||t.itemReceiptId)&&(o=t.irid||t.itemReceiptId)}if(!o)try{const e=sessionStorage.getItem("itemReceiptDataForBilling");if(e){const t=JSON.parse(e);t.irid&&(o=t.irid)}}catch(N){console.error("Error parsing ItemReceipt data from session storage:",N)}if(o)try{const r=await fetch("".concat(vi.baseURL,"/item-receipt-line/by-item-receipt/").concat(o),{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("Failed to fetch ItemReceiptLine records: ".concat(r.status));const i=(await r.json()).lines||[];if(0===i.length)return void console.warn("No ItemReceiptLine records found");const a=new Map;t&&n&&n.length>0&&n.forEach((e=>{if(e.itemID){const t=a.get(e.itemID)||0,n=e.quantityInvoiced||e.quantityReceived||e.quantity||0;a.set(e.itemID,t-n)}})),e.forEach((e=>{if(e.itemID){const t=a.get(e.itemID)||0,n=e.quantityInvoiced||e.quantityReceived||e.quantity||0;a.set(e.itemID,t+n)}}));const s=i.map((e=>{const t=a.get(e.itemID)||0;if(0===t)return null;const n=e.invoicedQty||0,r=Math.max(0,n+t),i=e.quantity||0,s=Math.min(r,i),l={irid:o,itemID:e.itemID,quantity:e.quantity,rate:e.rate,taxID:e.taxID,taxPercent:e.taxPercent||0,taxAmount:e.taxAmount||0,totalAmount:e.totalAmount,invoicedQty:s};return fetch("".concat(vi.baseURL,"/item-receipt-line/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(xj(l))})}));if(o&&t)try{console.log("[Status Update] Setting ItemReceipt ".concat(o," status to Open"));const e=await fetch("".concat(vi.baseURL,"/item-receipt/").concat(o),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:we})});e.ok?console.log("\u2705 ItemReceipt ".concat(o," status updated to Open")):console.warn("Failed to update ItemReceipt ".concat(o," status:"),e.status)}catch(N){console.error("Error updating ItemReceipt ".concat(o," status:"),N)}const l=await Promise.all(s.filter((e=>e))),c=l.filter((e=>!e.ok));c.length>0&&console.warn("Failed to update ".concat(c.length," ItemReceiptLine records"))}catch(N){}else console.warn("No ItemReceipt ID found for updating quantities")},Ue=async(e,t)=>{try{if("ItemReceipt"===e){const e=t.poid||t.purchaseOrderId;if(e){const t=await fetch("".concat(vi.baseURL,"/purchase-order-line/unreceived?POID=").concat(e),{method:"GET",headers:vi.headers});if(t.ok){var n;const o=await t.json();console.log("[Status Update] Unreceived API response for PO ".concat(e,":"),o);const r=(null===(n=o.results)||void 0===n?void 0:n.length)||0;if(console.log("[Status Update] Unreceived count for PO ".concat(e,": ").concat(r)),0===r){console.log("[Status Update] Setting PurchaseOrder ".concat(e," status to Closed"));const t=await fetch("".concat(vi.baseURL,"/purchase-order/").concat(e),{method:"PUT",headers:vi.headers,body:JSON.stringify({status:be})});t.ok?console.log("\u2705 PurchaseOrder ".concat(e," status updated to Closed")):console.warn("Failed to update PurchaseOrder ".concat(e," status:"),t.status)}else console.log("[Status Update] PO ".concat(e," still has ").concat(r," unreceived items, keeping status Open"))}else console.error("[Status Update] Failed to fetch unreceived items for PO ".concat(e,":"),t.status)}}else if("VendorBill"===e){const e=t.irid||t.itemReceiptId;if(e){console.log("[Status Update] Checking if ItemReceipt ".concat(e," is fully invoiced..."));const t=await fetch("".concat(vi.baseURL,"/item-receipt-line/uninvoiced?IRID=").concat(e),{method:"GET",headers:vi.headers});if(t.ok){var o;const n=await t.json();if(0===((null===(o=n.results)||void 0===o?void 0:o.length)||0)){const t=await fetch("".concat(vi.baseURL,"/item-receipt/").concat(e),{method:"PUT",headers:vi.headers,body:JSON.stringify({status:be})});t.ok?console.log("\u2705 ItemReceipt ".concat(e," status updated to Closed")):console.warn("Failed to update ItemReceipt ".concat(e," status:"),t.status)}}}}}catch(N){console.error("[Status Update] Error updating parent record status:",N)}},Ge=async(e,t)=>{const n=(()=>{switch(i){case"PurchaseOrder":return{endpoint:"".concat(vi.baseURL,"/purchase-order-line"),idField:"poid"};case"ItemReceipt":return{endpoint:"".concat(vi.baseURL,"/item-receipt-line"),idField:"irid"};case"VendorBill":return{endpoint:"".concat(vi.baseURL,"/vendor-bill-line"),idField:"vbid"};case"VendorCredit":return{endpoint:"".concat(vi.baseURL,"/vendor-credit-line"),idField:"vcid"};default:throw new Error("Unknown transaction type: ".concat(i))}})();if(!n)throw new Error("Unsupported record type: ".concat(i));const o=t.map((async(t,o)=>{var r,i;const a=Number(t.quantity||Number(t.quantityReceived)||Number(t.quantityDelivered)||0),s=Number(t.rate||0),l=Number(t.discountAmount||0),c=Number(t.taxPercent||0),d=a*s-l,u=d*c/100,p=d+u,h={[n.idField]:e,itemID:(null===(r=t.itemID)||void 0===r?void 0:r.value)||t.itemID,quantity:a,rate:s,discountAmount:l,taxID:(null===(i=t.taxID)||void 0===i?void 0:i.value)||t.taxID,taxPercent:c,taxAmount:u,totalAmount:p},f=await fetch(n.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(xj(h))});if(!f.ok){const e=await f.text();throw new Error("Failed to create line ".concat(o+1,": ").concat(f.status," - ").concat(e))}return await f.json()}));if(await Promise.all(o),"ItemReceipt"===i&&$){const e=(null===$||void 0===$?void 0:$.value)||$;for(const n of t)try{var r;const t=(null===(r=n.itemID)||void 0===r?void 0:r.value)||n.itemID,o=Number(n.quantity||0);t&&e&&0!==o&&(console.log("Processing ItemReceipt for item ".concat(t," at location ").concat(e,": quantity ").concat(o)),await w({itemId:t,locationId:e,receiptQty:o,receiptCost:Number(n.rate||0),mode:"create"}),console.log("\u2705 Inventory updated successfully for item ".concat(t)))}catch(a){console.error("\u274c Failed to update inventory for item ".concat(n.itemID,":"),a.message)}}},We=async(e,t,n)=>{if(!S)throw new Error("No hook available for record type: ".concat(i));let o=p(p({},e),{},{id:c,totalAmount:J});try{switch(i){case"PurchaseOrder":if(!S.updatePurchaseOrder)throw new Error("updatePurchaseOrder method not available");await S.updatePurchaseOrder(c,o);break;case"ItemReceipt":if(!S.updateItemReceipt)throw new Error("updateItemReceipt method not available");await S.updateItemReceipt(c,o);break;case"VendorBill":if(!S.updateVendorBill)throw new Error("updateVendorBill method not available");await S.updateVendorBill(c,o);break;case"VendorCredit":if(!S.updateVendorCredit)throw new Error("updateVendorCredit method not available");o.amountDue=J,await S.updateVendorCredit(c,o);break;default:throw new Error("Unsupported record type: ".concat(i))}}catch(N){throw console.error("Error updating ".concat(i,":"),N),N}let r=0;if(Object.keys(t).length>0&&n){const e={};Object.entries(t).forEach((t=>{let[n,o]=t;G[n]!==o&&(e[n]=o)})),r=Object.keys(e).length,r>0&&await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o={};if(Object.entries(e).forEach((e=>{let[t,n]=e;G[t]!==n&&(o[t]=n)})),0===Object.keys(o).length)return;const r=Object.entries(o).map((async e=>{let[o,r]=e;const i=z.find((e=>e.fieldName===o)),a=null===i||void 0===i?void 0:i.id,s=q[o],l={request:"update",typeOfRecord:n,valueText:String(r),customFieldID:a,recordID:t};let c;if(c=s?await fetch("".concat(vi.baseURL,"/custom-field-value/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(xj(l))}):await fetch("".concat(vi.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(xj(l))}),!c.ok)throw new Error("Failed to ".concat(s?"update":"create",' custom field "').concat(o,'": ').concat(c.status));return await c.json()}));await Promise.all(r)})(t,c,n)}return r},Ke=async e=>{try{D(!0),T(null);const{standardData:r,customData:d}=ze(e),u=Ve();if("new"===a){var t;const n=await(async(e,t)=>{if(!S)throw new Error("No hook available for record type: ".concat(i));const{items:n}=e,o=p({},s(e,vj));o.poDate&&o.poDate instanceof Date&&(o.poDate=o.poDate.toISOString());const r=p(p({},o),{},{totalAmount:J,inactive:void 0!==o.inactive&&o.inactive});"VendorCredit"===i&&0==parseInt(r.unApplied)?r.status=be:r.status=we;try{var a,l,c;let n;switch(i){case"PurchaseOrder":if(!S.createPurchaseOrder)throw new Error("createPurchaseOrder method not available");n=await S.createPurchaseOrder(r);break;case"ItemReceipt":if(!S.createItemReceipt)throw new Error("createItemReceipt method not available");n=await S.createItemReceipt(r);break;case"VendorBill":if(!S.createVendorBill)throw new Error("createVendorBill method not available");r.amountDue=J,n=await S.createVendorBill(r);break;case"VendorCredit":if(!S.createVendorCredit)throw new Error("createVendorCredit method not available");n=await S.createVendorCredit(r);break;default:throw new Error("Unsupported record type: ".concat(i))}let o=null;if(null!==(a=n)&&void 0!==a&&a.id)o=n.id;else if(null!==(l=n)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&c.id)o=n.data.id;else if("string"===typeof n)o=n;else{const e=Object.keys(n||{}).filter((e=>e.toLowerCase().includes("id")));e.length>0&&(o=n[e[0]])}if(!o)throw new Error("".concat(i," header created but no ID returned. Response: ").concat(JSON.stringify(n)));const s=t.items||[];if(s.length>0){if(await Ge(o,s),"ItemReceipt"===i){const e=s.map((e=>p(p({},e),{},{receiptId:o})));await He(e,!1,[])}if("VendorBill"===i){const e=s.map((e=>p(p({},e),{},{vendorBillId:o})));await qe(e,!1,[])}}var d;if("VendorCredit"===i)if(console.log("\ud83d\udd0d VendorCredit creation - vendorCreditPaymentLineData:",se),se&&(null===(d=se.vendorBills)||void 0===d?void 0:d.length)>0){const e=se.vendorBills.filter((e=>e.checked))||[];if(console.log("\ud83d\udd0d Checked vendor bills:",e),e.length>0){const t=(null===r||void 0===r?void 0:r.sequenceNumber)||"";await Te(o,t,e),await Pe(se,"new")}}else console.log("\u274c No vendor bills to apply credit to");return await Ue(i,e),o}catch(N){throw N}})(r,e);(null===P||void 0===P||null===(t=P.standardFields)||void 0===t?void 0:t.some((e=>"form"===e.name)))&&K&&await(async e=>{if(e)try{const t=await fetch("".concat(vi.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)return;const n=await t.text();if(!n.trim())return;const o=JSON.parse(n);if(!Array.isArray(o)||0===o.length)return;const r=o[0],i=(r.formSequenceNumber||0)+1;await fetch("".concat(vi.baseURL,"/form-sequence/").concat(r.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({formId:e,formSequenceNumber:i})})}catch(t){}})(K),await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o=Object.entries(e).map((async e=>{let[o,r]=e;const i=z.find((e=>e.fieldName===o)),a=null===i||void 0===i?void 0:i.id,s={request:"create",typeOfRecord:n,valueText:String(r),customFieldID:a,recordID:t},l=await fetch("".concat(vi.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(xj(s))});if(!l.ok)throw new Error('Failed to create custom field "'.concat(o,'": ').concat(l.status));return await l.json()}));await Promise.all(o)})(d,n,u),Ae("".concat(i," created successfully with ").concat(Object.keys(d).length," custom fields"),"success"),"ItemReceipt"===i&&sessionStorage.removeItem("purchaseOrderDataForReceiving"),"VendorBill"===i&&sessionStorage.removeItem("itemReceiptDataForBilling")}else{var n;const t=await We(r,d,u);if(e.items&&e.items.length>0){var o;const t=(null===(o=ye.current)||void 0===o?void 0:o.items)||[];await(async e=>{const t={PurchaseOrder:{endpoint:"".concat(vi.baseURL,"/purchase-order-line"),getEndpoint:"".concat(vi.baseURL,"/purchase-order-line/by-purchase-order/").concat(c),idField:"poid",quantityField:"quantity"},ItemReceipt:{endpoint:"".concat(vi.baseURL,"/item-receipt-line"),getEndpoint:"".concat(vi.baseURL,"/item-receipt-line/by-item-receipt/").concat(c),idField:"irid",quantityField:"quantity"},VendorBill:{endpoint:"".concat(vi.baseURL,"/vendor-bill-line"),getEndpoint:"".concat(vi.baseURL,"/vendor-bill-line/by-vendor-bill/").concat(c),idField:"vbid",quantityField:"quantityDelivered"}}[i];if(t)try{const o=await fetch(t.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let r=[];if(o.ok){const e=await o.json();if(Array.isArray(e))r=e;else if(e.results&&Array.isArray(e.results))r=e.results;else{const t=Object.values(e).filter((e=>Array.isArray(e)));t.length>0&&(r=t[0])}}const a=new Map;r.forEach((e=>{e.id&&a.set(e.id,e)}));const s=new Map;e.forEach((e=>{e.id&&s.set(e.id,e)}));const l=[],d=[],u=[];e.forEach((e=>{e.id&&a.has(e.id)?l.push(e):d.push(e)})),r.forEach((e=>{e.id&&!s.has(e.id)&&u.push(e)}));const p=l.map((e=>{const n={[t.idField]:c,itemID:e.itemID||e.itemId,[t.quantityField]:parseFloat(e.quantity||e.quantityDelivered||0),rate:parseFloat(e.rate||0),discount:parseFloat(e.discount||0),taxID:e.taxID||e.taxId,taxPercent:parseFloat(e.taxPercent||0),taxAmount:parseFloat(e.taxAmount||0),taxRate:parseFloat(e.taxRate||0),amount:parseFloat(e.amount||e.totalAmount||0)};return fetch("".concat(t.endpoint,"/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(xj(n))})})),h=d.map((e=>{const n={[t.idField]:c,itemID:e.itemID||e.itemId,[t.quantityField]:parseFloat(e.quantity||e.quantityDelivered||0),rate:parseFloat(e.rate||0),discount:parseFloat(e.discount||0),taxID:e.taxID||e.taxId,taxPercent:parseFloat(e.taxPercent||0),taxAmount:parseFloat(e.taxAmount||0),taxRate:parseFloat(e.taxRate||0),amount:parseFloat(e.amount||e.totalAmount||0)};return fetch(t.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(xj(n))})})),f=u.map((e=>fetch("".concat(t.endpoint,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}))),m=[...p,...h,...f],g=(await Promise.all(m)).filter((e=>!e.ok));if(g.length>0)throw new Error("Failed to update ".concat(g.length," line items"));if("ItemReceipt"===i&&$){const e=(null===$||void 0===$?void 0:$.value)||$;for(const t of u)try{const n=t.itemID||t.itemId,o=parseFloat(t.quantity||0);if(n&&e&&0!==o){console.log("Reversing inventory for deleted item ".concat(n,": -").concat(o));const t=await k(n,e);if(t){const r=Number(t.quantityAvailable||0),i=r-o;await C({itemId:n,locationId:e,quantity:i}),console.log("\u2705 Inventory reversed for deleted item ".concat(n,": ").concat(r," \u2192 ").concat(i))}}}catch(n){console.error("\u274c Failed to reverse inventory for deleted item ".concat(t.itemID,":"),n.message)}for(const t of l)try{const n=t.itemID||t.itemId,o=parseFloat(t.quantity||0),i=r.find((e=>e.id===t.id)),a=parseFloat((null===i||void 0===i?void 0:i.quantity)||0),s=o-a;if(console.log("DEBUG: Inventory calculation for item ".concat(n,":")),console.log("DEBUG: - originalQuantity: ".concat(a)),console.log("DEBUG: - newQuantity: ".concat(o)),console.log("DEBUG: - quantityDifference: ".concat(s)),n&&e&&0!==s){if(console.log("Updating inventory for item ".concat(n,": original ").concat(a,", new ").concat(o,", difference ").concat(s)),a>0){const t=await k(n,e);if(t){const o=Number(t.quantityAvailable||0),r=o-a;await C({itemId:n,locationId:e,quantity:r}),console.log("\u2705 Inventory reversed for item ".concat(n,": ").concat(o," \u2192 ").concat(r))}}o>0&&await w({itemId:n,locationId:e,receiptQty:o,receiptCost:parseFloat(t.rate||0),mode:"create"}),console.log("\u2705 Inventory updated for item ".concat(n))}}catch(n){console.error("\u274c Failed to update inventory for item ".concat(t.itemID,":"),n.message)}for(const t of d)try{const n=t.itemID||t.itemId,o=parseFloat(t.quantity||0);n&&e&&0!==o&&(console.log("Processing new receipt line for item ".concat(n,": ").concat(o)),await w({itemId:n,locationId:e,receiptQty:o,receiptCost:parseFloat(t.rate||0),mode:"create"}),console.log("\u2705 Inventory updated for new item ".concat(n)))}catch(n){console.error("\u274c Failed to update inventory for new item ".concat(t.itemID,":"),n.message)}}}catch(N){throw N}})(e.items),"ItemReceipt"===i&&await He(e.items,!0,t),"VendorBill"===i&&await qe(e.items,!0,t)}if("VendorCredit"===i&&se&&(null===(n=se.vendorBills)||void 0===n?void 0:n.length)>0){const e=se.vendorBills.filter((e=>e.checked))||[];if(e.length>0){const t=e;await Oe(t);const n=se.originalData||{};await Re(se,n)}}await Ue(i,r),Ae("".concat(i," updated successfully with ").concat(t," custom fields"),"success")}"ItemReceipt"===i&&"new"===a&&sessionStorage.removeItem("purchaseOrderDataForReceiving"),"VendorBill"===i&&"new"===a&&sessionStorage.removeItem("itemReceiptDataForBilling"),l(xe[i]||"/customer")}catch(r){T(r.message),Ae(r.message,"error")}finally{D(!1)}},Ye=(0,o.useCallback)((async e=>{if(e)try{var t,n;D(!0);const o=await Ie(e);B(o),Y(e);const r=_e(o.map((e=>p(p({},e),{},{name:e.fieldName}))));if("new"!==a&&c){const e=Ve(),{customData:t,customFieldIds:n}=await Ee(c,e,o);U(n);const i=p(p({},r),t);H(i),W(i)}else H(r),W(r);const[i,s]=await Promise.all([fetch("".concat(vi.baseURL,"/form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(vi.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let l="";if(i.ok&&s.ok){const[e,t]=await Promise.all([i.text().then((e=>e.trim()?JSON.parse(e):{})),s.text().then((e=>e.trim()?JSON.parse(e):[]))]),n=Array.isArray(t)&&t.length>0?t[0]:{formSequenceNumber:0},o=e.prefix||"",r=(n.formSequenceNumber||0)+1;l="".concat(o).concat(String(r).padStart(4,"0"))}const d=null===P||void 0===P||null===(t=P.standardFields)||void 0===t?void 0:t.some((e=>"form"===e.name)),u=null===P||void 0===P||null===(n=P.standardFields)||void 0===n?void 0:n.some((e=>"sequenceNumber"===e.name)),h={};d&&(h.form=e),u&&(h.sequenceNumber=l),R((e=>p(p({},e),h)))}catch(i){var o;(null===P||void 0===P||null===(o=P.standardFields)||void 0===o?void 0:o.some((e=>"form"===e.name)))&&R((t=>p(p({},t),{},{form:e})))}finally{D(!1)}else{var r;B([]),H({}),U({}),W({}),Y(null);(null===P||void 0===P||null===(r=P.standardFields)||void 0===r?void 0:r.some((e=>"sequenceNumber"===e.name)))&&R((e=>p(p({},e),{},{sequenceNumber:null})))}}),[P,Ie,a,c,Ve,Ee,_e]),Xe=(0,o.useMemo)((()=>{const e={};return Object.keys(F).forEach((t=>{const n=F[t]||[];e[t]=n.map((e=>{if("string"===typeof e)return{text:e,value:e};if(e.text&&e.value)return e;let n="";if(e&&"object"===typeof e)if("form"===t&&e.formName)n=e.formName;else if(e.name)n=e.name;else if(e.sequenceNumber)n=e.sequenceNumber;else if(e.poNumber)n=e.poNumber;else if(e.title)n=e.title;else if(e.description)n=e.description;else{const t=Object.keys(e).find((t=>"id"!==t&&"string"===typeof e[t]&&e[t].trim().length>0));n=t?e[t]:String(e.id||"")}else n=String(e||"");return{text:n,value:e.id||e}}))})),e}),[F]),Qe=(0,o.useCallback)((e=>{const{name:t,onChange:n,value:o}=e,r=[{text:"-- Select --",value:null},...Xe[t]||[]],s=null!==o&&void 0!==o&&""!==o?r.find((e=>e.value===o)):r[0];return{data:r,textField:"text",valueField:"value",value:s,virtual:!1,popupSettings:{appendTo:document.body,animate:!1},onChange:async e=>{var o;const r=(null===(o=e.target.value)||void 0===o?void 0:o.value)||e.target.value,s=""===r||void 0===r?null:r;n&&n({target:{value:s}}),"form"===t&&await Ye(s),"poid"===t&&"ItemReceipt"===i&&"new"===a&&s!==ue&&(pe(s),fe((e=>e+1))),"locationID"===t&&ee(s)}}}),[Xe,Ye,ee,ue]),Je=(0,o.useCallback)((e=>{const{name:t}=e,n=(F[t]||[]).map((e=>{if("string"===typeof e)return{text:e,value:e};if(e.name&&e.id)return{text:e.name,value:e.id};if(e.text&&e.value)return e;const t=Object.keys(e);return{text:e[t[0]],value:e[t[0]]}}));return{data:n,textField:"text",valueField:"value"}}),[F]),Ze=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:n,touched:o,label:r}=e,i=s(e,yj),l=o&&n,c=p(p({},i),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===a||i.disabled}),d={text:{component:qc,props:c},number:{component:Su,props:p(p({},c),{},{min:0,step:0,spinners:!1})},textarea:{component:ju,props:p(p({},c),{},{rows:4})},checkbox:{component:Tu,props:p(p({},c),{},{label:r,checked:i.value||!1,style:{display:"flex",alignItems:"center"}})},date:{component:oy,props:c},dropdown:{component:Ah,props:p(p({},c),Qe(e))},multiselect:{component:af,props:p(p({},c),Je(e))}},u=d[t]||d.text;return(0,pi.jsxs)("div",{children:[(0,pi.jsx)(u.component,p({},u.props)),l&&(0,pi.jsx)("div",{className:"k-form-error",children:n})]})}}),[a,Qe,Je]),$e=(0,o.useMemo)((()=>({Input:Ze(qc,"text"),TextArea:Ze(ju,"textarea"),Checkbox:Ze(Tu,"checkbox"),NumericTextBox:Ze(qc,"number"),Number:Ze(qc,"number"),DropDownList:Ze(Ah,"dropdown"),DatePicker:Ze(oy,"date"),MultiSelect:Ze(af,"multiselect")})),[Ze]),et=e=>$e[e.fieldTypeName]||$e.Input,tt=function(e){const t=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);return e.isMandatory?"".concat(t," *"):t},nt=(0,o.useCallback)((function(e){if(e.isMandatory)return t=>t&&""!==t?"email"===e.name&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"Please enter a valid email address":"phone"===e.name&&t&&!/^\d{10}$/.test(t.replace(/\D/g,""))?"Phone number must be 10 digits":"":"".concat(e.displayName||e.name," is required")}),[]),ot=e=>{if(e.isRequired)return t=>t&&""!==t?"":"".concat(e.fieldLabel||e.fieldName," is required")},rt=(0,o.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const i=t?"custom_".concat(e.fieldName||e.name):e.name,s=t&&e.fieldName||e.name,l=o||"".concat(t?"custom":"standard","-field-").concat(e.id||s),c=t?"".concat(e.fieldLabel||e.fieldName).concat(e.isRequired?" *":""):tt(e,r),d=et(e),u=t?ot(e):nt(e,r),p="Checkbox"===e.fieldTypeName||"Switch"===e.fieldTypeName,h="view"===a||e.isDisabled;return(0,pi.jsxs)("div",{className:"master-field-group ".concat(n?"master-field-full":""," ").concat(p?"checkbox-wrapper":""),children:[!p&&(0,pi.jsx)("label",{className:"k-label",children:c}),(0,pi.jsx)("div",{className:"field-wrapper",children:(0,pi.jsx)(wi,{id:i,name:i,component:d,validator:u,disabled:h,label:p?c:void 0})})]},l)}),[a,i,et,tt,nt,ot]),it=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=[];let i=[];return e.forEach((e=>{["TextArea","Checkbox","MultiSelect"].includes(e.fieldTypeName)?(i.length>0&&(r.push({type:"row",fields:[...i]}),i=[]),r.push({type:"fullWidth",field:e})):(i.push(e),3===i.length&&(r.push({type:"row",fields:[...i]}),i=[]))})),i.length>0&&r.push({type:"row",fields:[...i]}),r.map(((e,r)=>{const i=t?"custom":"standard";return"row"===e.type?(0,pi.jsx)(o.Fragment,{children:e.fields.map((e=>rt(e,t,!1,null,n)))},"".concat(i,"-row-").concat(r)):rt(e.field,t,!0,"".concat(i,"-full-").concat(r),n)}))}),[rt]);return A||d||!P||!ce?(0,pi.jsx)("div",{className:"master-form-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsxs)("div",{children:["Loading ",i.toLowerCase()," form..."]})]})}):N||u?(0,pi.jsx)("div",{className:"master-form-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("h3",{children:["Error Loading ",i]}),(0,pi.jsx)("p",{children:N||u}),(0,pi.jsx)(xo,{onClick:()=>l("/"),children:"Back to Dashboard"})]})}):(0,pi.jsxs)("div",{className:"master-form-container","data-theme":i.toLowerCase(),children:[(0,pi.jsx)(uy,{children:I.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:I.type,icon:!0},closable:!0,onClose:()=>E({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:I.message})})})}),(0,pi.jsxs)("div",{className:"master-form-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,pi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,pi.jsx)("h2",{children:"new"===a?"Create New ".concat(i):"edit"===a?"Edit ".concat(i):"View ".concat(i)}),("edit"===a||"view"===a)&&O.status&&(()=>{const e=(F.status||[]).find((e=>e.id===O.status)),t=(null===e||void 0===e?void 0:e.name)||"Unknown",n=(e=>{switch(e.toLowerCase()){case"open":return{bg:"#FEF3C7",text:"#92400E",border:"#F59E0B"};case"closed":return{bg:"#D1FAE5",text:"#065F46",border:"#10B981"};default:return{bg:"#F3F4F6",text:"#374151",border:"#9CA3AF"}}})(t);return(0,pi.jsx)("span",{style:{display:"inline-block",padding:"4px 12px",fontSize:"12px",fontWeight:"600",borderRadius:"12px",backgroundColor:n.bg,color:n.text,border:"1px solid ".concat(n.border),textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:t})})()]}),(0,pi.jsxs)("div",{style:{display:"flex",gap:"8px",marginRight:"16px"},children:[(0,pi.jsxs)(xo,{type:"button",onClick:()=>l(xe[i]||"/purchase-order"),className:"k-button k-button-secondary",children:[(0,pi.jsx)(ai,{})," ","view"===a?"Close":"Cancel"]}),"PurchaseOrder"===i&&"view"===a&&"5e3f19d1-f615-4954-88cb-30975d52b8cd"===O.status&&(0,pi.jsxs)(xo,{type:"button",onClick:async()=>{try{const e=await De("ItemReceipt"),t=await fetch("".concat(vi.baseURL,"/purchase-order-line/unreceived?POID=").concat(c),{method:"GET",headers:vi.headers});if(!t.ok)throw new Error("Failed to fetch unreceived items");const n=await t.json(),o={poid:c,vendorID:O.vendorID,locationID:O.locationID,poDate:O.poDate,deliveryDate:O.deliveryDate,discount:O.discount,totalAmount:O.totalAmount,items:n||[],form:e};sessionStorage.setItem("purchaseOrderDataForReceiving",JSON.stringify(o)),l("/item-receipt/new")}catch(N){const t=await De("ItemReceipt"),n={poid:c,vendorID:O.vendorID,locationID:O.locationID,poDate:O.poDate,deliveryDate:O.deliveryDate,discount:O.discount,totalAmount:O.totalAmount,items:O.items||[],form:t};sessionStorage.setItem("purchaseOrderDataForReceiving",JSON.stringify(n)),l("/item-receipt/new")}},className:"k-button k-button-success",children:[(0,pi.jsx)(ci,{})," Receive"]}),"ItemReceipt"===i&&"view"===a&&"5e3f19d1-f615-4954-88cb-30975d52b8cd"===O.status&&(0,pi.jsxs)(xo,{type:"button",onClick:async()=>{try{var e;const t=await De("VendorBill"),n=await fetch("".concat(vi.baseURL,"/item-receipt-line/uninvoiced?IRID=").concat(c),{method:"GET",headers:vi.headers});if(!n.ok)throw new Error("Failed to fetch unbilled items");const o=await n.json();console.log("Unbilled API response:",o);let r=[];if(Array.isArray(o))r=o;else if(o.results&&Array.isArray(o.results))r=o.results;else if(o.data&&Array.isArray(o.data))r=o.data;else{const e=Object.values(o).filter((e=>Array.isArray(e)));e.length>0&&(r=e[0])}console.log("Processed unbilled items array:",r);const i={irid:c,vendorID:O.vendorID,locationID:O.locationID,deliveryDate:O.deliveryDate,discount:O.discount,totalAmount:O.totalAmount,items:(null===(e=r)||void 0===e?void 0:e.map((e=>{const t=e.quantity||0,n=e.invoicedQty||0,o=Math.max(0,t-n);return console.log("Item ".concat(e.itemID,": received=").concat(t,", invoiced=").concat(n,", remaining=").concat(o)),p(p({},e),{},{quantity:o,originalQuantity:t,invoicedQty:n})})).filter((e=>e.quantity>0)))||[],form:t};sessionStorage.setItem("itemReceiptDataForBilling",JSON.stringify(i)),l("/vendor-bill/new")}catch(N){var t;console.error("Error fetching unbilled items:",N);const n=await De("VendorBill"),o={irid:c,vendorID:O.vendorID,locationID:O.locationID,deliveryDate:O.deliveryDate,discount:O.discount,totalAmount:O.totalAmount,items:(null===(t=O.items)||void 0===t?void 0:t.map((e=>p(p({},e),{},{quantity:e.quantitydelivered||e.quantity||0}))))||[],form:n};sessionStorage.setItem("itemReceiptDataForBilling",JSON.stringify(o)),l("/vendor-bill/new")}},className:"k-button k-button-success",children:[(0,pi.jsx)(Wr,{})," Bill"]})]})]}),("VendorBill"===i||"VendorCredit"===i)&&(0,pi.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px",marginTop:"10px"},children:(0,pi.jsxs)("div",{style:{display:"flex",backgroundColor:"#ffffff",border:"2px solid #e8f4fd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",minWidth:"280px"},children:[(0,pi.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#f8fbff",borderRight:"1px solid #e8f4fd",flex:1},children:[(0,pi.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"Total"}),(0,pi.jsx)("div",{style:{fontSize:"18px",color:"#2c3e50",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:"VendorCredit"===i?(null===O||void 0===O||null===(t=O.totalAmount)||void 0===t?void 0:t.toFixed(2))||"0.00":(null===J||void 0===J?void 0:J.toFixed(2))||"0.00"})]}),(0,pi.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#ffffff",flex:1},children:[(0,pi.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"VendorCredit"===i?"UnApplied":"Amount Due"}),(0,pi.jsx)("div",{style:{fontSize:"18px",color:"VendorCredit"===i?"#27ae60":"#e74c3c",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:"VendorCredit"===i?(null===O||void 0===O||null===(n=O.unApplied)||void 0===n?void 0:n.toFixed(2))||"0.00":(null===O||void 0===O||null===(r=O.amountDue)||void 0===r?void 0:r.toFixed(2))||(null===J||void 0===J?void 0:J.toFixed(2))||"0.00"})]})]})}),(0,pi.jsx)("div",{className:"master-form-element",children:(0,pi.jsx)(ha,{initialValues:je,validator:Le,onSubmit:Ke,render:e=>(0,pi.jsxs)(xa,{children:[(0,pi.jsxs)("div",{className:"master-form-content",children:[(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:it(P.standardFields,!1,e)})]}),z.length>0&&(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:it(z,!0,e)})]}),(0,pi.jsx)("div",{className:"form-section",children:"view"===a&&"VendorBill"===i?(0,pi.jsxs)("div",{className:"payment-container",style:{border:"none",boxShadow:"none",background:"transparent",padding:"0"},children:[(0,pi.jsx)("style",{children:'\n                        .payment-container { \n                          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; \n                          background-color: #fff; \n                          color: #333; \n                        }\n                        .subtab-nav { \n                          border-bottom: 1px solid #dee2e6; \n                          display: flex; \n                          background: #f1f3f4;\n                          border-radius: 10px 10px 0 0;\n                          padding: 6px;\n                          margin-bottom: 0;\n                        }\n                        .subtab-link { \n                          background: #e8eaed; \n                          border: none; \n                          padding: 12px 24px; \n                          cursor: pointer; \n                          font-size: 14px; \n                          font-weight: 500; \n                          color: #5f6368; \n                          margin-bottom: 0;\n                          border-radius: 8px;\n                          transition: all 0.2s ease;\n                          margin-right: 6px;\n                          min-width: 80px;\n                          text-align: center;\n                        }\n                        .subtab-link:hover {\n                          background: #d2e3fc;\n                          color: #1a73e8;\n                          transform: translateY(-1px);\n                        }\n                        .subtab-link.active { \n                          background: #1a73e8;\n                          color: #fff;\n                          box-shadow: 0 2px 8px rgba(26, 115, 232, 0.3);\n                          font-weight: 600;\n                        }\n                        .subtab-content { \n                          display: none; \n                          padding: 20px 0; \n                          background: #fff;\n                          border-radius: 0 0 10px 10px;\n                          border: 1px solid #dee2e6;\n                          border-top: none;\n                        }\n                        .subtab-content.active { \n                          display: block; \n                        }\n                      '}),(0,pi.jsxs)("div",{className:"subtab-nav",children:[(0,pi.jsx)("button",{className:"subtab-link ".concat("items"===te?"active":""),onClick:()=>ne("items"),children:"Items"}),(0,pi.jsx)("button",{className:"subtab-link ".concat("transactions"===te?"active":""),onClick:()=>ne("transactions"),children:"Payments"})]}),(0,pi.jsx)("div",{className:"subtab-content ".concat("items"===te?"active":""),children:(0,pi.jsx)(gj,{recordType:i,mode:a,embedded:!0,onTotalAmountChange:Z,headerDiscount:e.valueGetter("discount")||0,selectedLocation:$,poid:"ItemReceipt"===i?"new"===a?e.valueGetter("purchaseOrderId")||e.valueGetter("poid")||e.valueGetter("purchaseOrder"):O.poid||O.purchaseOrderId:"new"===a?c:null,irid:"VendorBill"===i?"new"===a?e.valueGetter("itemReceiptId")||e.valueGetter("irid")||e.valueGetter("itemReceipt"):O.irid||O.itemReceiptId:"new"===a?c:null,vendorId:"VendorCredit"===i?e.valueGetter("vendorID")||e.valueGetter("vendorId")||e.valueGetter("vendor")||O.vendorID||O.vendorId:null,vendorCreditTotalAmount:"VendorCredit"===i&&(J||e.valueGetter("totalAmount"))||0,onCreditApplicationChange:"VendorCredit"===i?Ne:null,poidChangeCounter:he})}),(0,pi.jsx)("div",{className:"subtab-content ".concat("transactions"===te?"active":""),children:ie?(0,pi.jsx)("div",{className:"transactions-section",children:(0,pi.jsxs)("div",{className:"loading-transactions",children:[(0,pi.jsx)("div",{className:"spinner"}),"Loading payment transactions..."]})}):oe&&0!==oe.length?(0,pi.jsx)("div",{className:"transactions-section",children:(0,pi.jsxs)("table",{className:"transactions-table",children:[(0,pi.jsx)("thead",{children:(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("th",{children:"Action"}),(0,pi.jsx)("th",{children:"Type"}),(0,pi.jsx)("th",{children:"Reference"}),(0,pi.jsx)("th",{children:"Amount"})]})}),(0,pi.jsx)("tbody",{children:oe.map(((e,t)=>(0,pi.jsxs)("tr",{children:[(0,pi.jsxs)("td",{children:["Vendor Payment"===e.transactionType&&(0,pi.jsxs)("button",{className:"view-button",onClick:()=>l("/vendor-payment/view/".concat(e.paymentId)),children:[(0,pi.jsx)(Zr,{})," View"]}),"Vendor Credit"===e.transactionType&&(0,pi.jsxs)("button",{className:"view-button",onClick:()=>l("/vendor-credit/view/".concat(e.paymentId||e.vcid)),children:[(0,pi.jsx)(Zr,{})," View"]})]}),(0,pi.jsx)("td",{children:e.transactionType||"Unknown"}),(0,pi.jsx)("td",{children:e.paymentSeqNum||e.vendorCreditSeqNum||"N/A"}),(0,pi.jsx)("td",{children:(e.paymentAmount||0).toFixed(2)})]},e.id||t)))})]})}):(0,pi.jsx)("div",{className:"transactions-section",children:(0,pi.jsxs)("div",{className:"no-transactions",children:[(0,pi.jsx)(Qr,{}),"No payment transactions found for this ",i.toLowerCase(),"."]})})})]}):(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Items"})}),(0,pi.jsx)("div",{style:{padding:"0",width:"100%",maxWidth:"100%",overflow:"hidden"},children:(0,pi.jsx)(gj,{recordType:i,mode:a,embedded:!0,onTotalAmountChange:Z,headerDiscount:e.valueGetter("discount")||0,selectedLocation:$,poid:"ItemReceipt"===i?"new"===a?e.valueGetter("purchaseOrderId")||e.valueGetter("poid")||e.valueGetter("purchaseOrder"):O.poid||O.purchaseOrderId:"new"===a?c:null,irid:"VendorBill"===i?"new"===a?e.valueGetter("itemReceiptId")||e.valueGetter("irid")||e.valueGetter("itemReceipt"):O.irid||O.itemReceiptId:"new"===a?c:null,vendorId:"VendorCredit"===i?e.valueGetter("vendorID")||e.valueGetter("vendorId")||e.valueGetter("vendor")||O.vendorID||O.vendorId:null,vendorCreditTotalAmount:"VendorCredit"===i&&(J||e.valueGetter("totalAmount"))||0,onCreditApplicationChange:"VendorCredit"===i?Ne:null,poidChangeCounter:he})})]})})]}),(0,pi.jsxs)("div",{className:"master-form-actions",children:[(0,pi.jsxs)(xo,{type:"button",onClick:()=>l(xe[i]||"/purchase-order"),className:"k-button k-button-secondary",children:[(0,pi.jsx)(ai,{})," ","view"===a?"Close":"Cancel"]}),"new"!==a&&(0,pi.jsxs)(xo,{type:"button",onClick:()=>j(!0),className:"k-button k-button-danger",children:[(0,pi.jsx)(li,{})," Delete"]}),"view"!==a&&(0,pi.jsxs)(xo,{type:"submit",disabled:A||(()=>{if("VendorCredit"===i)return!1;if("ItemReceipt"===i&&"new"===a){if(sessionStorage.getItem("purchaseOrderDataForReceiving"))return!1}if("VendorBill"===i&&"new"===a){if(sessionStorage.getItem("itemReceiptDataForBilling"))return!1}return!e.allowSubmit})(),className:"k-button k-button-primary",onClick:t=>{if((()=>{if("ItemReceipt"===i&&"new"===a){return sessionStorage.getItem("purchaseOrderDataForReceiving")}if("VendorBill"===i&&"new"===a){return sessionStorage.getItem("itemReceiptDataForBilling")}return!1})()&&!e.allowSubmit){t.preventDefault();const n=e.value||je;Ke(n)}},children:[(0,pi.jsx)(ni,{})," ",A?"Saving...":"Save"]})]})]})},"".concat(i.toLowerCase(),"-form-").concat(a,"-").concat(c||"new","-").concat(K||"no-form"))}),(0,pi.jsx)(hy,{isOpen:_,onClose:()=>j(!1),onConfirm:async()=>{if(S)try{D(!0),T(null);const t={PurchaseOrder:{endpoint:"".concat(vi.baseURL,"/purchase-order-line"),getEndpoint:"".concat(vi.baseURL,"/purchase-order-line/by-purchase-order/").concat(c),idField:"poid",quantityField:"quantity"},ItemReceipt:{endpoint:"".concat(vi.baseURL,"/item-receipt-line"),getEndpoint:"".concat(vi.baseURL,"/item-receipt-line/by-item-receipt/").concat(c),idField:"irid",quantityField:"quantity"},VendorBill:{endpoint:"".concat(vi.baseURL,"/vendor-bill-line"),getEndpoint:"".concat(vi.baseURL,"/vendor-bill-line/by-vendor-bill/").concat(c),idField:"vbid",quantityField:"quantity"},VendorCredit:{endpoint:"".concat(vi.baseURL,"/vendor-credit-line"),getEndpoint:"".concat(vi.baseURL,"/vendor-credit-line/by-vendor-credit/").concat(c),idField:"vcid",quantityField:"quantity"}};if("VendorCredit"===i)try{const e=await Fe(c);if(console.log("\ud83d\udd04 Existing payment lines:111111111111111",e),e.length>0){const t={vendorBills:e.map((e=>({id:e.recordID,type:e.recordType||"VendorBill",displayAmount:e.paymentAmount||0,checked:!0})))};await Pe(t,"delete")}await Me(c)}catch(N){console.error("Error handling VendorCredit payment lines during deletion:",N)}const n=t[i];if(n&&n.getEndpoint){const t=await fetch(n.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let o=[];if(t.ok){const e=await t.json();if(Array.isArray(e))o=e;else if(e.results&&Array.isArray(e.results))o=e.results;else{const t=Object.values(e).filter((e=>Array.isArray(e)));t.length>0&&(o=t[0])}}if(o.length>0){if("ItemReceipt"===i&&(await He([],!0,o),$)){const t=(null===$||void 0===$?void 0:$.value)||$;for(const n of o)try{const e=n.itemID||n.itemId,o=parseFloat(n.quantity||0);if(e&&t&&0!==o){console.log("Reversing inventory for deleted receipt item ".concat(e,": -").concat(o));const n=await k(e,t);if(n){const r=Number(n.quantityAvailable||0),i=r-o;await C({itemId:e,locationId:t,quantity:i}),console.log("\u2705 Inventory reversed for deleted receipt item ".concat(e,": ").concat(r," \u2192 ").concat(i))}}}catch(e){console.error("\u274c Failed to reverse inventory for deleted receipt item ".concat(n.itemID,":"),e.message)}}if("VendorBill"===i&&await qe([],!0,o),"ItemReceipt"===i){const e=O.poid||O.purchaseOrderId;if(e)try{console.log("[Status Update] Setting PurchaseOrder ".concat(e," status to Open"));const t=await fetch("".concat(vi.baseURL,"/purchase-order/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:we})});t.ok?console.log("\u2705 PurchaseOrder ".concat(e," status updated to Open")):console.warn("Failed to update PurchaseOrder ".concat(e," status:"),t.status)}catch(N){console.error("Error updating PurchaseOrder ".concat(e," status:"),N)}}else if("VendorBill"===i){const e=O.irid||O.itemReceiptId;if(e)try{console.log("[Status Update] Setting ItemReceipt ".concat(e," status to Open"));const t=await fetch("".concat(vi.baseURL,"/item-receipt/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:we})});t.ok?console.log("\u2705 ItemReceipt ".concat(e," status updated to Open")):console.warn("Failed to update ItemReceipt ".concat(e," status:"),t.status)}catch(N){console.error("Error updating ItemReceipt ".concat(e," status:"),N)}}const t=o.map((e=>fetch("".concat(n.endpoint,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}))),r=(await Promise.all(t)).filter((e=>!e.ok));if(r.length>0)throw new Error("Failed to delete ".concat(r.length," line items"))}}let o;switch(i){case"PurchaseOrder":o=S.deletePurchaseOrder;break;case"ItemReceipt":o=S.deleteItemReceipt;break;case"VendorBill":o=S.deleteVendorBill;break;case"VendorCredit":o=S.deleteVendorCredit;break;default:throw new Error("Unsupported record type: ".concat(i))}if(!o)throw new Error("Delete method not available for ".concat(i));await o(c);const r=Ve();await(async(e,t)=>{if(e&&t)try{const n=await fetch("".concat(vi.baseURL,"/custom-field-value/by-type-and-record?typeOfRecord=").concat(t,"&recordId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(n.ok){const t=await n.json();if(Array.isArray(t)&&t.length>0){const n=t.map((async e=>{const t=await fetch("".concat(vi.baseURL,"/custom-field-value/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});t.ok||console.warn("Failed to delete custom field value ".concat(e.id,": ").concat(t.status))}));await Promise.all(n),console.log("\u2705 Deleted ".concat(t.length," custom field values for ").concat(i," ").concat(e))}}else 404!==n.status&&console.warn("Failed to fetch custom field values for deletion: ".concat(n.status))}catch(N){console.error("Error deleting custom field values:",N)}})(c,r),Ae("".concat(i," deleted successfully!"),"success"),j(!1);l(xe[i]||"/")}catch(N){Ae("Failed to delete ".concat(i,": ").concat(N.message),"error")}finally{D(!1)}else Ae("No hook available for ".concat(i),"error")},title:"Confirm Delete",message:(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsxs)("p",{children:["Are you sure you want to delete this ",i.toLowerCase(),"?"]}),(0,pi.jsx)("p",{children:(0,pi.jsx)("strong",{children:"This action cannot be undone."})})]}),confirmText:"Delete",cancelText:"Cancel",type:"danger",loading:A})]})})),wj=e=>(0,pi.jsx)(bj,p(p({},e),{},{recordType:"PurchaseOrder"})),kj=e=>(0,pi.jsx)(bj,p(p({},e),{},{recordType:"ItemReceipt"})),Cj=e=>(0,pi.jsx)(bj,p(p({},e),{},{recordType:"VendorBill"})),Sj=bj,Ij=()=>{const e=ge(),t=yy("purchase-order"),{loading:n,error:r,refresh:i}=t,a=t.purchaseOrders,{vendors:s}=yy("vendor"),[l,c]=(0,o.useState)(""),[d,u]=(0,o.useState)("All"),[h,f]=(0,o.useState)({show:!1,message:"",type:"success"}),[m,g]=(0,o.useState)({skip:0,take:10,sort:[{field:"poDate",dir:"desc"}]}),v=e=>{var t;const n=null===s||void 0===s||null===(t=s.results)||void 0===t?void 0:t.find((t=>t.id===e));return n?n.name:"Unknown Vendor"},y=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),x=(0,o.useCallback)((()=>{if(null===a||void 0===a||!a.results)return{data:[],total:0};let e=[...a.results];l&&(e=e.filter((e=>{const t=e.vendorName||v(e.vendorID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(e.status," ").concat(y(e.totalAmount)).toLowerCase().includes(l.toLowerCase())}))),"All"!==d&&(e=e.filter((e=>e.status===d)));return{data:ub(e,m).data,total:e.length}}),[a,l,d,s,m]);return n?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"purchase-order-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading purchase orders..."})]})})}):r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"purchase-order-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading purchase orders: ",r]}),(0,pi.jsxs)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"purchase-order-list-container",children:[(0,pi.jsx)(uy,{children:h.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:h.type,icon:!0},closable:!0,onClose:()=>f({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:h.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Purchase Order Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/purchase-order/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Purchase Order"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search purchase orders...",value:l,onChange:e=>c(e.target.value)})]}),(0,pi.jsxs)("div",{className:"filter-bar",children:[(0,pi.jsx)($r,{className:"filter-icon"}),(0,pi.jsx)(Ah,{data:["All","Draft","Fulfilled","Cancelled"],value:d,onChange:e=>u(e.target.value),style:{width:"100%"}})]}),(0,pi.jsx)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==a&&void 0!==a&&a.results&&0!==a.results.length?0===x().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No purchase orders match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:x().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},m),{},{onDataStateChange:e=>{g(e.dataState)},total:x().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(m.skip||0);return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,pi.jsx)(Uy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,pi.jsx)(Uy,{field:"vendorID",title:"Vendor",width:"200px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.vendorName||v(e.dataItem.vendorID)}))}),(0,pi.jsx)(Uy,{field:"status",title:"Status",width:"150px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,pi.jsx)("span",{className:"status-badge ".concat("status-open"),children:"Open"})}))}),(0,pi.jsx)(Uy,{field:"totalAmount",title:"Total Amount",width:"140px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:y(e.dataItem[e.field])}))}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/purchase-order/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/purchase-order/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid order data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No purchase orders found. Click the "Add New Purchase Order" button above to create your first purchase order.'})}),(0,pi.jsx)("style",{children:'\n          .purchase-order-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n            max-width: none;\n            white-space: nowrap;\n            text-overflow: clip;\n            overflow: visible;\n            width: auto;\n          }\n\n          .status-draft {\n            background-color: #FEF3C7;\n            color: #92400E;\n          }\n\n          .status-fulfilled {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-cancelled {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .purchase-order-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n\n          .k-grid .k-table-td .status-badge {\n            max-width: none !important;\n            overflow: visible !important;\n        }\n      '})]})})},Ej=()=>{const e=ge(),{itemReceipts:t,loading:n,error:r,refresh:i}=yy("item-receipt"),{vendors:a}=yy("vendor"),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)({show:!1,message:"",type:"success"}),[u,h]=(0,o.useState)({skip:0,take:10,sort:[{field:"deliveryDate",dir:"desc"}]}),f=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find((t=>t.id===e));return n?n.name:"Unknown Vendor"},m=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},g=(0,o.useCallback)((()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];s&&(e=e.filter((e=>{const t=f(e.vendorID);return"".concat(t," ").concat(e.poNumber||"").toLowerCase().includes(s.toLowerCase())})));return{data:ub(e,u).data,total:e.length}}),[t,s,a,u]);return n?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"item-receipt-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading item receipts..."})]})})}):r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"item-receipt-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading item receipts: ",r]}),(0,pi.jsxs)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"item-receipt-list-container",children:[(0,pi.jsx)(uy,{children:c.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:c.type,icon:!0},closable:!0,onClose:()=>d({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:c.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Item Receipt Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/item-receipt/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Item Receipt"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search item receipts...",value:s,onChange:e=>l(e.target.value)})]}),(0,pi.jsx)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===g().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No item receipts match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:g().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},u),{},{onDataStateChange:e=>{h(e.dataState)},total:g().total,style:{height:"calc(100vh - 250px)",minHeight:"400px",width:"100%"},children:[(0,pi.jsx)(Uy,{title:"No",width:"80px",cell:e=>{const t=e.dataIndex+1+(u.skip||0);return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,pi.jsx)(Uy,{field:"soNumber",title:"SO Number",width:"180px"}),(0,pi.jsx)(Uy,{field:"deliveryDate",title:"Delivery Date",width:"160px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:m(e.dataItem[e.field])}))}),(0,pi.jsx)(Uy,{field:"vendorID",title:"Vendor",width:"220px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:f(e.dataItem.vendorID)}))}),(0,pi.jsx)(Uy,{title:"Actions",width:"140px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/item-receipt/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/item-receipt/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid item receipt data"}))}})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No item receipts found. Click the "Add New Item Receipt" button above to create your first item receipt.'})}),(0,pi.jsx)("style",{children:'\n          .item-receipt-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n            padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n            border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n          }\n\n          @media (max-width: 768px) {\n            .item-receipt-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n          }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n          }\n\n          @media (max-width: 768px) {\n            .page-container {\n              padding: 12px;\n            }\n\n            .item-receipt-list-container {\n              padding: 12px;\n            }\n\n            .list-header {\n              flex-direction: column;\n              gap: 12px;\n              align-items: stretch;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: 100%;\n            }\n\n            .k-grid {\n              font-size: 13px;\n            }\n\n            .action-buttons {\n              flex-direction: column;\n              gap: 4px;\n            }\n\n            .action-buttons .k-button {\n              min-width: 50px;\n              font-size: 11px;\n            }\n          }\n        '})]})})},_j=()=>{const e=ge(),{vendorBills:t,loading:n,error:r,refresh:i}=yy("vendor-bill"),{vendors:a}=yy("vendor"),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[f,m]=(0,o.useState)({skip:0,take:10,sort:[{field:"invoiceDate",dir:"desc"}]}),g=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),v=(0,o.useCallback)((()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];s&&(e=e.filter((e=>{const t=e.vendorName||(e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find((t=>t.id===e));return n?n.name:"Unknown Vendor"})(e.vendorID),n=e.locationName||(e.locationID,"Location");return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(e.status," ").concat(n," ").concat(g(e.totalAmount)).toLowerCase().includes(s.toLowerCase())}))),"All"!==c&&(e=e.filter((e=>e.status===c)));return{data:ub(e,f).data,total:e.length}}),[t,s,c,a,f]);return n?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"vendor-bill-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading vendor bills..."})]})})}):r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"vendor-bill-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading vendor bills: ",r]}),(0,pi.jsxs)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"vendor-bill-list-container",children:[(0,pi.jsx)(uy,{children:u.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:u.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Vendor Bill Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/vendor-bill/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Vendor Bill"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search vendor bills...",value:s,onChange:e=>l(e.target.value)})]}),(0,pi.jsxs)("div",{className:"filter-bar",children:[(0,pi.jsx)($r,{className:"filter-icon"}),(0,pi.jsx)(Ah,{data:["All","Draft","Paid","Cancelled"],value:c,onChange:e=>d(e.target.value),style:{width:"100%"}})]}),(0,pi.jsx)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===v().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No vendor bills match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:v().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},f),{},{onDataStateChange:e=>{m(e.dataState)},total:v().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(f.skip||0);return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,pi.jsx)(Uy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,pi.jsx)(Uy,{field:"vendorName",title:"Vendor Name",width:"200px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.vendorName||"Unknown Vendor"}))}),(0,pi.jsx)(Uy,{field:"locationName",title:"Location Name",width:"180px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.locationName||"Unknown Location"}))}),(0,pi.jsx)(Uy,{field:"totalAmount",title:"Total Amount",width:"140px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:g(e.dataItem[e.field])}))}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/vendor-bill/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/vendor-bill/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid vendor bill data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No vendor bills found. Click the "Add New Vendor Bill" button above to create your first vendor bill.'})}),(0,pi.jsx)("style",{children:'\n          .vendor-bill-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n            max-width: none;\n            white-space: nowrap;\n            text-overflow: clip;\n            overflow: visible;\n            width: auto;\n          }\n\n          .status-draft {\n            background-color: #FEF3C7;\n            color: #92400E;\n          }\n\n          .status-paid {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-cancelled {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .vendor-bill-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n\n          .k-grid .k-table-td .status-badge {\n            max-width: none !important;\n            overflow: visible !important;\n        }\n      '})]})})},jj=()=>{const e=ge(),{vendorCredits:t,loading:n,error:r,refresh:i}=yy("vendor-credit"),{vendors:a}=yy("vendor"),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[f,m]=(0,o.useState)({skip:0,take:10,sort:[{field:"tranDate",dir:"desc"}]}),g=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),v=(0,o.useCallback)((()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];s&&(e=e.filter((e=>{const t=e.vendorName||(e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find((t=>t.id===e));return n?n.name:"Unknown Vendor"})(e.vendorID),n=e.locationName||(e.locationID,"Location");return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(n," ").concat(g(e.totalAmount)).toLowerCase().includes(s.toLowerCase())})));return{data:ub(e,f).data,total:e.length}}),[t,s,a,f]);return n?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"vendor-credit-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading vendor credits..."})]})})}):r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"vendor-credit-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading vendor credits: ",r]}),(0,pi.jsxs)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"vendor-credit-list-container",children:[(0,pi.jsx)(uy,{children:u.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:u.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Vendor Credit Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/vendor-credit/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Vendor Credit"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search vendor credits...",value:s,onChange:e=>l(e.target.value)})]}),(0,pi.jsx)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===v().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No vendor credits match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:v().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},f),{},{onDataStateChange:e=>{m(e.dataState)},total:v().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(f.skip||0);return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,pi.jsx)(Uy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,pi.jsx)(Uy,{field:"vendorName",title:"Vendor Name",width:"200px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.vendorName||"Unknown Vendor"}))}),(0,pi.jsx)(Uy,{field:"locationName",title:"Location Name",width:"180px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.locationName||"Unknown Location"}))}),(0,pi.jsx)(Uy,{field:"totalAmount",title:"Total Amount",width:"140px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:g(e.dataItem[e.field])}))}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/vendor-credit/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/vendor-credit/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid vendor credit data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No vendor credits found. Click the "Add New Vendor Credit" button above to create your first vendor credit.'})}),(0,pi.jsx)("style",{children:'\n          .vendor-credit-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .vendor-credit-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n      '})]})})},Aj=()=>{const e=ge(),[t,n]=(0,o.useState)({results:[]}),[r,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(1),[h,f]=(0,o.useState)(""),[m,g]=(0,o.useState)("All"),[v,y]=(0,o.useState)({show:!1,message:"",type:"success"}),[x,b]=(0,o.useState)({skip:0,take:10,sort:[{field:"name",dir:"asc"}]}),w=(0,o.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{i(!0),s(null);const o=yi("/customer?PageNumber=".concat(e,"&PageSize=").concat(t)),r=await fetch(o);if(!r.ok)throw new Error("Failed to fetch customers: ".concat(r.status));const a=await r.json();Array.isArray(a)?(n({results:a}),c(a.length)):a.results&&Array.isArray(a.results)?(n(a),c(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),c(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),c(0)),u(e)}catch(o){s(o.message),n({results:[]}),c(0)}finally{i(!1)}}),[]);(0,o.useEffect)((()=>{w()}),[w]);const k=(0,o.useCallback)((()=>null!==t&&void 0!==t&&t.results?t.results:[]),[t]),C=(0,o.useCallback)((()=>{if(null===t||void 0===t||!t.results)return[];let e=[...t.results];return h&&(e=e.filter((e=>Object.values(e).join(" ").toLowerCase().includes(h.toLowerCase())))),"All"!==m&&(e=e.filter((e=>"Active"===m?!e.inactive:e.inactive))),e}),[t,h,m]),S=()=>{const e=Math.floor(x.skip/x.take)+1,t=x.take;w(e,t),function(e){y({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{y({show:!1,message:"",type:"success"})}),3e3)}("Customers refreshed successfully","success")};return r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"customer-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading customers..."})]})})}):a?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"customer-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading customers: ",a]}),(0,pi.jsxs)(xo,{onClick:S,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{children:(0,pi.jsxs)("div",{className:"customer-list-container",children:[(0,pi.jsx)(uy,{children:v.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:v.type,icon:!0},closable:!0,onClose:()=>y({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:v.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Customer Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/customer/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Customer"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search customers...",value:h,onChange:e=>f(e.target.value)})]}),(0,pi.jsxs)("div",{className:"filter-bar",children:[(0,pi.jsx)($r,{className:"filter-icon"}),(0,pi.jsx)(Ah,{data:["All","Active","Inactive"],value:m,onChange:e=>g(e.target.value),style:{width:"100%"}})]}),(0,pi.jsx)(xo,{onClick:S,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===C().length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No customers match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:C(),pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},x),{},{onDataStateChange:e=>{const t=e.dataState;b(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===d&&o===x.take||w(n,o)},total:l,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=k().findIndex((t=>t===e.dataItem)),n=x.take||10,o=((d||1)-1)*n+t+1;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,pi.jsx)(Uy,{field:"name",title:"Customer Name",width:"250px"}),(0,pi.jsx)(Uy,{field:"email",title:"Email",width:"250px"}),(0,pi.jsx)(Uy,{field:"inactive",title:"Status",width:"150px",cell:e=>{const t=!e.dataItem.inactive,n=t?"Active":"Inactive",o=t?"status-active":"status-inactive";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,pi.jsx)("span",{className:"status-badge ".concat(o),children:n})}))}}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/customer/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/customer/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid customer data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No customers found. Click the "Add New Customer" button above to create your first customer.'})}),(0,pi.jsx)("style",{children:'\n          .customer-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n          font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n        }\n\n        .status-active {\n            background-color: #C6F6D5;\n            color: #2F855A;\n        }\n\n        .status-inactive {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n            padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n            border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n          }\n\n          @media (max-width: 768px) {\n            .customer-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n        }\n      '})]})})},Dj=["validationMessage","touched","label","name"];if("undefined"!==typeof document&&!document.getElementById("product-tab-styles")){const e=document.createElement("style");e.id="product-tab-styles",e.textContent="\n  .product-tabs {\n    display: flex;\n    border-bottom: 2px solid #e0e0e0;\n    margin-bottom: 20px;\n    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n    border-radius: 8px 8px 0 0;\n    padding: 0;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n  }\n  \n  .product-tab {\n    flex: 1;\n    padding: 16px 24px;\n    background: transparent;\n    border: none;\n    cursor: pointer;\n    font-size: 14px;\n    font-weight: 600;\n    color: #6c757d;\n    transition: all 0.3s ease;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n    position: relative;\n    border-radius: 8px 8px 0 0;\n  }\n  \n  .product-tab:hover {\n    background: rgba(255,255,255,0.7);\n    color: #495057;\n    transform: translateY(-1px);\n  }\n  \n  .product-tab.active {\n    background: linear-gradient(135deg,  #3b82f6 0%, #3b82f6 100%);\n    color: white;\n    box-shadow: 0 4px 8px rgba(217,131,65,0.3);\n  }\n  \n  .product-tab.active::after {\n    content: '';\n    position: absolute;\n    bottom: -2px;\n    left: 0;\n    right: 0;\n    height: 2px;    background: #007bff;\n\n  }\n  \n  .tab-content {\n    background: white;\n    border-radius: 0 0 8px 8px;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n    overflow: hidden;\n  }\n  \n  .inventory-section {\n    padding: 0 32px 32px 32px;\n    background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);\n    border-radius: 12px;\n    margin: 0 16px 16px 16px;\n    box-shadow: 0 4px 20px rgba(0,0,0,0.08);\n  }\n  \n  .inventory-section h3 {\n    color: #2c3e50;\n    font-size: 24px;\n    font-weight: 700;\n    margin-bottom: 24px;\n    display: flex;\n    align-items: center;\n    gap: 12px;\n  }\n  \n  .inventory-section h3::before {\n    content: '\ud83d\udce6';\n    font-size: 28px;\n  }\n  \n  .inventory-table {\n    width: 100%;\n    border-collapse: separate;\n    border-spacing: 0;\n    margin-top: 20px;\n    box-shadow: 0 8px 32px rgba(0,0,0,0.12);\n    border-radius: 16px;\n    overflow: hidden;\n    background: white;\n    border: 1px solid #e3f2fd;\n  }\n  \n  .inventory-table th {\n    background: linear-gradient(135deg,  #3b82f6 0%, #3b82f6 100%);\n    color: white;\n    padding: 18px 24px;\n    text-align: left;\n    font-weight: 700;\n    font-size: 15px;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    position: relative;\n    border: none;\n  }\n  \n  .inventory-table th:first-child {\n    border-radius: 16px 0 0 0;\n  }\n  \n  .inventory-table th:last-child {\n    border-radius: 0 16px 0 0;\n  }\n  \n  .inventory-table th::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 2px;\n    background: linear-gradient(90deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.8) 50%, rgba(255,255,255,0.3) 100%);\n  }\n  \n  .inventory-table td {\n    padding: 20px 24px;\n    border-bottom: 1px solid #f0f4f8;\n    font-size: 15px;\n    color: #37474f;\n    font-weight: 500;\n    transition: all 0.3s ease;\n    position: relative;\n  }\n  \n  .inventory-table tbody tr {\n    transition: all 0.3s ease;\n    background: white;\n  }\n  \n  .inventory-table tbody tr:nth-child(even) {\n    background: #fafbfc;\n  }\n  \n  .inventory-table tbody tr:hover {\n    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 16px rgba(142,124,195,0.15);\n  }\n  \n  .inventory-table tbody tr:hover td {\n    color: #7b68c4;\n  }\n  \n  .inventory-table tbody tr:last-child td {\n    border-bottom: none;\n  }\n  \n  .inventory-table tbody tr:last-child td:first-child {\n    border-radius: 0 0 0 16px;\n  }\n  \n  .inventory-table tbody tr:last-child td:last-child {\n    border-radius: 0 0 16px 0;\n  }\n  \n  .inventory-table td:nth-child(1) {\n    font-weight: 600;\n    color: #2c3e50;\n  }\n  \n  .inventory-table td:nth-child(2) {\n    color: #546e7a;\n    font-style: italic;\n  }\n  \n  .inventory-table td:nth-child(3) {\n    font-weight: 700;\n    color: #2e7d32;\n    text-align: center;\n    font-size: 16px;\n  }\n  \n  .inventory-table td:nth-child(3)::before {\n    content: '';\n    display: inline-block;\n    width: 8px;\n    height: 8px;\n    background: #4caf50;\n    border-radius: 50%;\n    margin-right: 8px;\n    animation: pulse 2s infinite;\n  }\n  \n  @keyframes pulse {\n    0% { opacity: 1; }\n    50% { opacity: 0.5; }\n    100% { opacity: 1; }\n  }\n  \n  .inventory-empty-state {\n    text-align: center;\n    padding: 60px 20px;\n    color: #78909c;\n    font-size: 16px;\n    font-style: italic;\n  }\n",document.head.appendChild(e)}const Nj=e=>{let{formRenderProps:t,mode:n}=e;const[r,i]=(0,o.useState)([]),[a,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)(null),d=null===t||void 0===t?void 0:t.valueGetter("id");return(0,o.useEffect)((()=>{(async()=>{if(d){s(!0),c(null);try{var e;const t=await fetch(yi("/inventory-detail?ItemId=".concat(d)));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const n=(null===(e=(await t.json()).results)||void 0===e?void 0:e.map((e=>({id:e.id,locationId:e.locationId,location:e.locationName,availableQty:e.quantityAvailable}))))||[];i(n)}catch(t){c(t.message),i([])}finally{s(!1)}}else i([])})()}),[d]),(0,pi.jsxs)("div",{className:"inventory-section",children:[a&&(0,pi.jsx)("div",{className:"loading-message",children:"Loading inventory data..."}),l&&(0,pi.jsxs)("div",{className:"error-message",children:["Error loading inventory: ",l]}),!a&&!l&&(0,pi.jsxs)("table",{className:"inventory-table",children:[(0,pi.jsx)("thead",{children:(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("th",{children:"Location"}),(0,pi.jsx)("th",{children:"Available QTY"})]})}),(0,pi.jsx)("tbody",{children:r.length>0?r.map((e=>(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("td",{children:e.location}),(0,pi.jsx)("td",{children:e.availableQty})]},e.id))):(0,pi.jsx)("tr",{children:(0,pi.jsx)("td",{colSpan:"2",className:"no-data",children:d?"No inventory data found for this item":"Please save the item first to view inventory details"})})})]})]})},Tj=e=>{const t={};return Object.keys(e).forEach((n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)})),t},Pj=o.memo((e=>{let{recordType:t,mode:n="new"}=e;const r=ge(),{id:i}=ve(),a=xy(),l=by(),c=yy("location"),d=wy(),u=yy("product"),h=yy("tax"),f=(0,o.useMemo)((()=>{const e={Customer:a,Vendor:l,Location:c,ChartOfAccount:d,Product:u,Tax:h};return e[t]||e.Customer}),[t,a,l,c,d,u,h]),m=(0,o.useMemo)((()=>{const e={Customer:"Customer",Vendor:"Vendor",Location:"Location",ChartOfAccount:"ChartOfAccount",Product:"Product",Tax:"Tax"}[t]||"Customer";return{fetch:f["fetch".concat(e,"ById")],create:f["create".concat(e)],update:f["update".concat(e)],delete:f["delete".concat(e)]}}),[f,t]),{loading:g,error:v,fetchFormConfiguration:y}=fy(),[x,b]=(0,o.useState)({show:!1,message:"",type:"success"}),[w,k]=(0,o.useState)(!1),[C,S]=(0,o.useState)(!1),[I,E]=(0,o.useState)(null),[_,j]=(0,o.useState)(null),[A,D]=(0,o.useState)({}),[N,T]=(0,o.useState)({}),[P,M]=(0,o.useState)([]),[O,R]=(0,o.useState)({}),[F,L]=(0,o.useState)({}),[z,B]=(0,o.useState)({}),[V,H]=(0,o.useState)(null),[q,U]=(0,o.useState)([]),[G,W]=(0,o.useState)(!1),[K,Y]=(0,o.useState)("general"),X=o.useRef(null),Q={Customer:"/customer",Vendor:"/vendor",Location:"/location",ChartOfAccount:"/chart-of-account",Product:"/product",Tax:"/tax"},J=(0,o.useCallback)((async e=>{const t=yi(vi.endpoints.chartOfAccountByParentNumber(e)),n=await fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("Failed to fetch child accounts for parent ".concat(e));return await n.json()}),[]),Z=(0,o.useCallback)(((e,t)=>{let n=1;if(0===t.length){n="00"===e.slice(-2)?1:100}else{const o=t.map((t=>parseInt(t.number||t.accountNumber)-parseInt(e))),r=o.length>0?Math.min(...o.filter((e=>e>0))):1;n=r>=100?100:1}const o=t.reduce(((e,t)=>{const n=parseInt(t.number||t.accountNumber);return n>e?n:e}),parseInt(e));return(o+n).toString()}),[]),$=(0,o.useCallback)((async(e,t)=>{try{if(t)return null;if(!e)return null;const n=(N.parent||[]).find((t=>t.id===e));if(!n||!n.accountNumber)return null;const o=n.accountNumber,r=await J(o);return Z(o,r)}catch(I){return null}}),[N,J,Z]),ee=(0,o.useCallback)(((e,n,o)=>{if("ChartOfAccount"===t&&o)if("isParent"===e)!0===n&&(o.onChange("accountNumber",{value:""}),o.onChange("parent",{value:""}));else if("parent"===e){const e=o.valueGetter("isParent");n&&!e&&$(n,e).then((e=>{e&&o.onChange("accountNumber",{value:e})})).catch((e=>{}))}}),[t,$]),te=(0,o.useCallback)((async(e,t)=>{try{const n=await fetch(yi(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok)throw new Error("Failed to fetch dropdown data: ".concat(n.status));const o=await n.json();return Array.isArray(o)?o:o.results||o.data||[]}catch(n){return n.name,[]}}),[]),ne=(0,o.useCallback)((async e=>{try{const t=await fetch(yi(vi.endpoints.recordType),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e});if(!t.ok)throw new Error("Failed to fetch record types: ".concat(t.status));return(await t.json()).results||[]}catch(t){return t.name,[]}}),[]),oe=async e=>{try{const t=await fetch(yi(vi.endpoints.customFormFieldByForm(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch custom form fields: ".concat(t.status));const n=await t.json(),o=(Array.isArray(n)?n:[]).sort(((e,t)=>(e.displayOrder||0)-(t.displayOrder||0))),r={},i=o.filter((e=>["DropDownList","MultiSelect"].includes(e.fieldTypeName)&&e.fieldSource));for(const e of i){const t=await te(e.fieldSource);r["custom_".concat(e.fieldName)]=t}return Object.keys(r).length>0&&T((e=>p(p({},e),r))),o}catch(t){return se("Failed to load custom form fields: ".concat(t.message),"error"),[]}},re=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{if(!t)return{};const o=await fetch("".concat(vi.baseURL,"/custom-field-value/by-type-and-record?typeOfRecord=").concat(t,"&recordId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return{};const r=await o.json(),i={},a={},s={};return n.forEach((e=>{s[e.fieldName]=e.fieldTypeName})),Array.isArray(r)&&r.forEach((e=>{if(e.customFieldName&&void 0!==e.valueText&&null!==e.valueText){const n=s[e.customFieldName];let o=e.valueText;switch(n){case"DatePicker":case"Date":if("string"===typeof o&&""!==o.trim()){const e=new Date(o);o=isNaN(e.getTime())?null:e}break;case"NumericTextBox":case"Number":if("string"===typeof o&&""!==o.trim()){const e=parseFloat(o);o=isNaN(e)?0:e}break;case"Checkbox":case"Switch":"string"===typeof o&&(o="true"===o.toLowerCase()||"1"===o);break;case"MultiSelect":if("string"===typeof o&&""!==o.trim())try{const e=JSON.parse(o);o=Array.isArray(e)?e:[o]}catch(t){o=[o]}}i[e.customFieldName]=o,a[e.customFieldName]=e.id}})),{customData:i,customFieldIds:a}}catch(o){return{customData:{},customFieldIds:{}}}},ie=e=>{const t={};return e.forEach((e=>{switch(e.fieldTypeName){case"Checkbox":case"Switch":t[e.name]=!1;break;case"Number":case"NumericTextBox":t[e.name]="taxRate"===e.name?null:0;break;case"Date":case"DropDownList":t[e.name]=null;break;default:t[e.name]=""}})),t};(0,o.useEffect)((()=>{let e=!0;return(async()=>{if(e)try{S(!0),E(null),W(!1),M([]),R({}),L({}),B({}),H(null);const r=await ne();if(!e)return;U(r);const a=await y(t);if(!e)return;j(a);const s=a.standardFields.filter((e=>"DropDownList"===e.fieldTypeName&&e.source)),l=ce(a,r,t),c=s.map((async e=>{let n;if("ChartOfAccount"===t&&"parent"===e.name)n=await te(e.source),n=n.filter((e=>!0===e.isParent));else if("form"===e.name&&l)try{const e=await fetch("".concat(vi.baseURL,"/form/by-type-of-record/").concat(l),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch forms for record type: ".concat(e.status));n=await e.json(),n=Array.isArray(n)?n:n.results||n.data||[]}catch(o){n=[]}else n=await te(e.source);return{name:e.name,data:n}})),d=await Promise.all(c);if(!e)return;const u=d.reduce(((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e}),{});T(u);const h=ie(a.standardFields);if("new"!==n&&i){const n=await m.fetch(i);if(!e)return;const s=p({},h);if(a.standardFields.forEach((e=>{void 0!==n[e.name]&&(s[e.name]=n[e.name])})),Object.keys(n).forEach((e=>{void 0!==n[e]&&(s[e]=n[e])})),D(s),n.form)try{const o=await oe(n.form);if(!e)return;if(M(o),H(n.form),o.length>0){const n=ie(o.map((e=>p(p({},e),{},{name:e.fieldName})))),s=ce(a,r,t),{customData:l,customFieldIds:c}=await re(i,s,o);if(!e)return;L(c);const d=p(p({},n),l);R(d),B(d)}}catch(o){}}else{if(!e)return;D(h)}if(!e)return;W(!0)}catch(o){if(!e)return;E(o.message),se(o.message,"error")}finally{if(!e)return;S(!1)}})(),()=>{e=!1}}),[n,i,t]),(0,o.useEffect)((()=>()=>{X.current&&(clearTimeout(X.current),X.current=null),M([]),R({}),L({}),B({}),H(null),D({}),W(!1),b({show:!1,message:"",type:"success"})}),[]);const ae=(0,o.useMemo)((()=>{if(!G)return{};if(0===Object.keys(O).length)return A;const e={};return Object.keys(O).forEach((t=>{e["custom_".concat(t)]=O[t]})),p(p({},A),e)}),[A,O,G]),se=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";X.current&&clearTimeout(X.current),b({show:!0,message:e,type:t}),X.current=setTimeout((()=>{b({show:!1,message:"",type:"success"}),X.current=null}),4e3)}),[]),le=(0,o.useCallback)((e=>{const n={};return null!==_&&void 0!==_&&_.standardFields?(_.standardFields.forEach((o=>{const r=e[o.name];if("Tax"===t&&"taxAccount"===o.name&&o.isMandatory){const t=e.taxRate,i=null===t||void 0===t||""===t?null:Number(t);null!==i&&0!==i&&(r&&""!==r||(n[o.name]="".concat(o.name.charAt(0).toUpperCase()+o.name.slice(1)," is required")))}else o.isMandatory&&("taxRate"===o.name?null!==r&&void 0!==r&&""!==r||(n[o.name]="".concat(o.name.charAt(0).toUpperCase()+o.name.slice(1)," is required")):r&&""!==r||(n[o.name]="".concat(o.name.charAt(0).toUpperCase()+o.name.slice(1)," is required"))),"email"===o.name&&r&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)&&(n[o.name]="Please enter a valid email address"),"phone"===o.name&&r&&!/^\d{10}$/.test(r.replace(/\D/g,""))&&(n[o.name]="Phone number must be 10 digits")})),n):n}),[_,t]),ce=(e,t,n)=>{if(null!==e&&void 0!==e&&e.recordTypeId)return e.recordTypeId;let o=t.find((e=>e.name===n));if(o)return o.id;if(o=t.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()})),o)return o.id;const r={Customer:["customer","customers"],Vendor:["vendor","vendors"],Product:["product","products"],ChartOfAccount:["chart-of-account","account","accounts"],Location:["location","locations"],Tax:["tax","taxes"]}[n]||[];for(const i of r)if(o=t.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===i.toLowerCase()})),o)return o.id;return null},de=()=>{if(null!==_&&void 0!==_&&_.recordTypeId)return _.recordTypeId;let e=q.find((e=>e.name===t));if(e)return e.id;if(e=q.find((e=>{var n;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())===t.toLowerCase()})),e)return e.id;const n={Customer:["customer","customers"],Vendor:["vendor","vendors"],Product:["product","products"],ChartOfAccount:["chart-of-account","account","accounts"],Location:["location","locations"],Tax:["tax","taxes"]}[t]||[];for(const t of n)if(e=q.find((e=>{var n;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())===t.toLowerCase()})),e)return e.id;return null},ue=async(e,t,n)=>{await m.update(i,e);let o=0;if(Object.keys(t).length>0&&n){const e={};Object.entries(t).forEach((t=>{let[n,o]=t;z[n]!==o&&(e[n]=o)})),o=Object.keys(e).length,o>0&&await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o={};if(Object.entries(e).forEach((e=>{let[t,n]=e;z[t]!==n&&(o[t]=n)})),0===Object.keys(o).length)return;const r=Object.entries(o).map((async e=>{let[o,r]=e;const i=P.find((e=>e.fieldName===o)),a=null===i||void 0===i?void 0:i.id,s=F[o],l={request:"update",typeOfRecord:n,valueText:String(r),customFieldID:a,recordID:t};let c;if(c=s?await fetch("".concat(vi.baseURL,"/custom-field-value/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Tj(l))}):await fetch("".concat(vi.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Tj(l))}),!c.ok)throw new Error("Failed to ".concat(s?"update":"create",' custom field "').concat(o,'": ').concat(c.status));return await c.json()}));await Promise.all(r)})(t,i,n)}return o},pe=(0,o.useCallback)((async e=>{if(e)try{var t,o;S(!0);const r=await oe(e);M(r),H(e);const a=ie(r.map((e=>p(p({},e),{},{name:e.fieldName}))));if("new"!==n&&i){const e=de(),{customData:t,customFieldIds:n}=await re(i,e,r);L(n);const o=p(p({},a),t);R(o),B(o)}else R(a),B(a);const[s,l]=await Promise.all([fetch("".concat(vi.baseURL,"/form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(vi.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let c="";if(s.ok&&l.ok){const[e,t]=await Promise.all([s.text().then((e=>e.trim()?JSON.parse(e):{})),l.text().then((e=>e.trim()?JSON.parse(e):[]))]),n=Array.isArray(t)&&t.length>0?t[0]:{formSequenceNumber:0},o=e.prefix||"",r=(n.formSequenceNumber||0)+1;c="".concat(o).concat(String(r).padStart(4,"0"))}const d=null===_||void 0===_||null===(t=_.standardFields)||void 0===t?void 0:t.some((e=>"form"===e.name)),u=null===_||void 0===_||null===(o=_.standardFields)||void 0===o?void 0:o.some((e=>"sequenceNumber"===e.name)),h={};d&&(h.form=e),u&&(h.sequenceNumber=c),D((e=>p(p({},e),h)))}catch(s){var r;(null===_||void 0===_||null===(r=_.standardFields)||void 0===r?void 0:r.some((e=>"form"===e.name)))&&D((t=>p(p({},t),{},{form:e})))}finally{S(!1)}else{var a;M([]),R({}),L({}),B({}),H(null);(null===_||void 0===_||null===(a=_.standardFields)||void 0===a?void 0:a.some((e=>"sequenceNumber"===e.name)))&&D((e=>p(p({},e),{},{sequenceNumber:null})))}}),[_,oe,n,i,de,re,ie]),he=(0,o.useRef)({}),fe=(0,o.useCallback)((e=>{var t;const{name:n,onChange:o,value:r}=e,i=N[n]||[],a="".concat(n,"_").concat(i.length,"_").concat((null===(t=i[0])||void 0===t?void 0:t.id)||i[0]||"");let s;he.current[a]?s=he.current[a]:(s=i.map((e=>{if("string"===typeof e)return{text:e,value:e};if(!e.id)return{text:String(e),value:e};const t=(e=>{const t=Object.keys(e);if(e.name)return e.name;if("form"===n&&e.formName)return e.formName;if(e.accountName&&e.accountNumber)return"".concat(e.accountNumber," - ").concat(e.accountName);if(e.itemName&&e.itemCode)return"".concat(e.itemCode," - ").concat(e.itemName);const o=t.filter((t=>t.toLowerCase().includes("name")&&e[t]));if(o.length>0){if("form"===n&&e.formName)return e.formName;const t="form"===n?o:o.filter((e=>"formname"!==e.toLowerCase()));if(t.length>0)return e[t[0]]}const r=t.find((t=>"id"!==t&&"string"===typeof e[t]&&e[t].trim().length>0));return r?e[r]:String(e.id)})(e);return{text:t,value:e.id}})),he.current[a]=s);const l=[{text:"-- Select --",value:null},...s],c=null!==r&&void 0!==r&&""!==r?l.find((e=>e.value===r)):l[0];return{data:l,textField:"text",valueField:"value",value:c,virtual:!1,popupSettings:{appendTo:document.body,animate:!1},onChange:async e=>{var t;const r=(null===(t=e.target.value)||void 0===t?void 0:t.value)||e.target.value,i=""===r||void 0===r?null:r;o&&o({target:{value:i}}),"form"===n&&await pe(i)}}}),[N,pe]),me=(0,o.useCallback)((e=>{const{name:t}=e,n=(N[t]||[]).map((e=>{if("string"===typeof e)return{text:e,value:e};if(e.name&&e.id)return{text:e.name,value:e.id};if(e.text&&e.value)return e;const t=Object.keys(e);return{text:e[t[0]],value:e[t[0]]}}));return{data:n,textField:"text",valueField:"value"}}),[N]),ye=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,touched:r,label:i,name:a}=e,l=s(e,Dj),c=r&&o,d="phone"===a||"Phone"===a||"string"===typeof a&&a.toLowerCase().includes("phone"),u=p(p({},l),{},{name:a,className:c?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||l.disabled});d&&"text"===t&&(u.maxLength=10);const h={text:{component:qc,props:u},number:{component:Su,props:p(p({},u),{},{min:0,step:0,spinners:!1})},textarea:{component:ju,props:p(p({},u),{},{rows:4})},checkbox:{component:Tu,props:p(p({},u),{},{label:i,checked:l.value||!1,style:{display:"flex",alignItems:"center"}})},date:{component:oy,props:u},dropdown:{component:Ah,props:p(p({},u),fe(e))},multiselect:{component:af,props:p(p({},u),me(e))}},f=h[t]||h.text;return(0,pi.jsxs)("div",{children:[(0,pi.jsx)(f.component,p({},f.props)),c&&(0,pi.jsx)("div",{className:"k-form-error",children:o})]})}}),[n,fe,me]),xe=(0,o.useMemo)((()=>({Input:ye(qc,"text"),TextArea:ye(ju,"textarea"),Checkbox:ye(Tu,"checkbox"),NumericTextBox:ye(qc,"number"),Number:ye(qc,"number"),DropDownList:ye(Ah,"dropdown"),DatePicker:ye(oy,"date"),MultiSelect:ye(af,"multiselect")})),[ye]),be=e=>xe[e.fieldTypeName]||xe.Input,we=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const o=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);let r=e.isMandatory;if("ChartOfAccount"===t&&"accountNumber"===e.name&&n){r=n.valueGetter("isParent")}if("Tax"===t&&"taxAccount"===e.name&&n){const e=n.valueGetter("taxRate"),t=null===e||void 0===e||""===e?null:Number(e);null!==t&&0!==t||(r=!1)}return r?"".concat(o," *"):o},ke=(0,o.useCallback)((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=e.isMandatory;if("ChartOfAccount"===t&&"accountNumber"===e.name&&n){o=n.valueGetter("isParent")}if("Tax"===t&&"taxAccount"===e.name&&n){const e=n.valueGetter("taxRate"),t=null===e||void 0===e||""===e?null:Number(e);null!==t&&0!==t||(o=!1)}if(o)return t=>{if("taxRate"===e.name){if(null===t||void 0===t||""===t){const t=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);return"".concat(t," is required")}}else if(!t||""===t){const t=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);return"".concat(t," is required")}return"email"!==e.name||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"phone"!==e.name||/^\d{10}$/.test(t.replace(/\D/g,""))?"":"Phone number must be 10 digits":"Please enter a valid email address"}}),[t]),Ce=e=>{if(e.isRequired)return t=>t&&""!==t?"":"".concat(e.fieldLabel||e.fieldName," is required")},Se=(0,o.useCallback)((function(e,o){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const s=o?"custom_".concat(e.fieldName||e.name):e.name,l=o&&e.fieldName||e.name,c=i||"".concat(o?"custom":"standard","-field-").concat(e.id||l),d=o?"".concat(e.fieldLabel||e.fieldName).concat(e.isRequired?" *":""):we(e,a),u=be(e),p=o?Ce(e):ke(e,a),h="Checkbox"===e.fieldTypeName||"Switch"===e.fieldTypeName;let f="view"===n||e.isDisabled;if("ChartOfAccount"===t&&"accountNumber"===e.name&&(f="view"===n||e.isDisabled),"ChartOfAccount"===t&&"openingBalance"===e.name&&(f="edit"===n||"view"===n||e.isDisabled),"Product"===t&&a){const t=a.valueGetter("itemType");if(("expenseAccount"===e.name||"expenseAccount"===s)&&"ef765a67-402b-48ee-b898-8eaa45affb64"===t)return null;if(("salesAccount"===e.name||"salesAccount"===s||"inventoryAccount"===e.name||"inventoryAccount"===s)&&"d89fbe6f-7421-4b41-becf-d94d2bcb6757"===t)return null;if(("standardCost"===e.name||"standardCost"===s)&&"ef765a67-402b-48ee-b898-8eaa45affb64"===t)return null;if(("averageCost"===e.name||"averageCost"===s)&&"d89fbe6f-7421-4b41-becf-d94d2bcb6757"===t)return null}return(0,pi.jsxs)("div",{className:"master-field-group ".concat(r?"master-field-full":""," ").concat(h?"checkbox-wrapper":""),children:[!h&&(0,pi.jsx)("label",{className:"k-label",children:d}),(0,pi.jsx)("div",{className:"field-wrapper",children:(0,pi.jsx)(wi,{id:s,name:s,component:u,validator:p,disabled:f,label:h?d:void 0,onChange:n=>{if("ChartOfAccount"===t&&("isParent"===e.name||"parent"===e.name))try{let t;t=null===n||void 0===n?null:"boolean"===typeof n||"string"===typeof n||"number"===typeof n?n:"object"===typeof n?n.hasOwnProperty("value")?n.value:n.hasOwnProperty("checked")?n.checked:n.hasOwnProperty("target")&&n.target?n.target.hasOwnProperty("value")?n.target.value:n.target.hasOwnProperty("checked")?n.target.checked:n.target:n:n,ee(e.name,t,a)}catch(I){}}})})]},c)}),[n,t,be,we,ke,Ce,ee]),Ie=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=[];let i=[];return e.forEach((e=>{["TextArea","Checkbox","MultiSelect"].includes(e.fieldTypeName)?(i.length>0&&(r.push({type:"row",fields:[...i]}),i=[]),r.push({type:"fullWidth",field:e})):(i.push(e),3===i.length&&(r.push({type:"row",fields:[...i]}),i=[]))})),i.length>0&&r.push({type:"row",fields:[...i]}),r.map(((e,r)=>{const i=t?"custom":"standard";return"row"===e.type?(0,pi.jsx)(o.Fragment,{children:e.fields.map((e=>Se(e,t,!1,null,n)))},"".concat(i,"-row-").concat(r)):Se(e.field,t,!0,"".concat(i,"-full-").concat(r),n)}))}),[Se]);return C||g||!_||!G?(0,pi.jsx)("div",{className:"master-form-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsxs)("div",{children:["Loading ",t.toLowerCase()," form..."]})]})}):I||v?(0,pi.jsx)("div",{className:"master-form-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("h3",{children:["Error Loading ",t]}),(0,pi.jsx)("p",{children:I||v}),(0,pi.jsxs)(xo,{onClick:()=>r(Q[t]||"/customer"),children:["Back to ",t," List"]})]})}):(0,pi.jsxs)("div",{className:"master-form-container","data-theme":t.toLowerCase(),children:[(0,pi.jsx)(uy,{children:x.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:x.type,icon:!0},closable:!0,onClose:()=>b({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:x.message})})})}),(0,pi.jsx)("div",{className:"master-form-header",children:(0,pi.jsx)("h2",{children:"new"===n?"Create New ".concat(t):"edit"===n?"Edit ".concat(t):"View ".concat(t)})}),(0,pi.jsx)("div",{className:"master-form-element",children:(0,pi.jsx)(ha,{initialValues:ae,validator:le,onSubmit:async e=>{try{S(!0),E(null);const{standardData:a,customData:s}=(e=>{const n={},o={};if(Object.keys(e).forEach((t=>{const r=e[t],i=""===r?null:r;if(t.startsWith("custom_")){const e=t.replace("custom_","");o[e]=i}else n[t]=i})),"ChartOfAccount"===t){const e=n.parent;if(e){const t=(N.parent||[]).find((t=>t.id===e));t&&t.accountNumber?(n.parentNumber=t.accountNumber,n.parentName=t.name):(n.parentNumber=null,n.parentName=null)}else n.parentNumber=null,n.parentName=null}return{standardData:n,customData:o}})(e),l=de();if("new"===n){var o;if("ChartOfAccount"===t&&a.accountNumber)try{const e="".concat(vi.baseURL,"/chart-of-account/check-account-number-exists?accountNumber=").concat(encodeURIComponent(a.accountNumber)),t=await fetch(e,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to check account number: ".concat(t.status));if(!0===await t.json())return S(!1),void alert('Account number "'.concat(a.accountNumber,'" already exists. Please use a different account number.'))}catch(i){return S(!1),void alert("Error checking account number: ".concat(i.message))}"ChartOfAccount"===t&&void 0!==a.openingBalance&&null!==a.openingBalance&&(a.runningBalance=a.openingBalance);const e=await(async e=>{var t;const n=await m.create(e),o=(null===n||void 0===n?void 0:n.id)||(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.id)||n;if(!o)throw new Error("Failed to get record ID from creation response");return o})(a);(null===_||void 0===_||null===(o=_.standardFields)||void 0===o?void 0:o.some((e=>"form"===e.name)))&&V&&await(async e=>{if(e)try{const t=await fetch("".concat(vi.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)return;const n=await t.text();if(!n.trim())return;const o=JSON.parse(n);if(!Array.isArray(o)||0===o.length)return;const r=o[0],i=(r.formSequenceNumber||0)+1;await fetch("".concat(vi.baseURL,"/form-sequence/").concat(r.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Tj({formId:e,formSequenceNumber:i}))})}catch(i){}})(V),await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o=Object.entries(e).map((async e=>{let[o,r]=e;const i=P.find((e=>e.fieldName===o)),a=null===i||void 0===i?void 0:i.id,s={request:"create",typeOfRecord:n,valueText:String(r),customFieldID:a,recordID:t},l=await fetch("".concat(vi.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Tj(s))});if(!l.ok)throw new Error('Failed to create custom field "'.concat(o,'": ').concat(l.status));return await l.json()}));await Promise.all(o)})(s,e,l),se("".concat(t," created successfully with ").concat(Object.keys(s).length," custom fields"),"success")}else{const e=await ue(a,s,l);se("".concat(t," updated successfully with ").concat(e," custom fields"),"success")}r(Q[t]||"/customer")}catch(i){E(i.message),se(i.message,"error")}finally{S(!1)}},render:e=>(0,pi.jsxs)(xa,{children:[(0,pi.jsx)("div",{className:"master-form-content",children:"Product"===t?(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsxs)("div",{className:"product-tabs",children:[(0,pi.jsxs)("button",{type:"button",className:"product-tab ".concat("general"===K?"active":""),onClick:()=>Y("general"),children:[(0,pi.jsx)(Wr,{})," Product Information"]}),(0,pi.jsxs)("button",{type:"button",className:"product-tab ".concat("inventory"===K?"active":""),onClick:()=>Y("inventory"),children:[(0,pi.jsx)(Hr,{})," Inventory"]})]}),(0,pi.jsxs)("div",{className:"tab-content",children:["general"===K&&(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:Ie(_.standardFields,!1,e)})]}),P.length>0&&(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:Ie(P,!0,e)})]})]}),"inventory"===K&&(0,pi.jsx)(Nj,{formRenderProps:e,mode:n})]})]}):(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:Ie(_.standardFields,!1,e)})]}),P.length>0&&(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:Ie(P,!0,e)})]})]})}),(0,pi.jsxs)("div",{className:"master-form-actions",children:[(0,pi.jsxs)(xo,{type:"button",onClick:()=>r(Q[t]||"/customer"),className:"k-button k-button-secondary",children:[(0,pi.jsx)(ai,{})," ","view"===n?"Close":"Cancel"]}),"view"===n&&"ChartOfAccount"===t&&(0,pi.jsxs)(xo,{type:"button",onClick:()=>r("/chart-of-account/edit/".concat(i)),className:"k-button k-button-primary",children:[(0,pi.jsx)(Xr,{})," Edit"]}),"new"!==n&&(0,pi.jsxs)(xo,{type:"button",onClick:()=>k(!0),className:"k-button k-button-danger",children:[(0,pi.jsx)(li,{})," Delete"]}),"view"!==n&&(0,pi.jsxs)(xo,{type:"submit",disabled:C||!e.allowSubmit,className:"k-button k-button-primary",children:[(0,pi.jsx)(ni,{})," ",C?"Saving...":"Save"]})]})]})},"".concat(t.toLowerCase(),"-form-").concat(n,"-").concat(i||"new","-").concat(V||"no-form"))}),(0,pi.jsx)(hy,{isOpen:w,onClose:()=>k(!1),onConfirm:async()=>{try{S(!0),await m.delete(i),se("".concat(t," deleted successfully"),"success"),r(Q[t]||"/customer")}catch(e){se(e.message,"error")}finally{S(!1),k(!1)}},title:"Confirm Delete",message:(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsxs)("p",{children:["Are you sure you want to delete this ",t.toLowerCase(),"?"]}),(0,pi.jsx)("p",{children:(0,pi.jsx)("strong",{children:"This action cannot be undone."})})]}),confirmText:"Delete",cancelText:"Cancel",type:"danger",loading:C})]})})),Mj=e=>(0,pi.jsx)(Pj,p(p({},e),{},{recordType:"Customer"})),Oj=e=>(0,pi.jsx)(Pj,p(p({},e),{},{recordType:"Vendor"})),Rj=e=>(0,pi.jsx)(Pj,p(p({},e),{},{recordType:"Location"})),Fj=e=>(0,pi.jsx)(Pj,p(p({},e),{},{recordType:"ChartOfAccount"})),Lj=e=>(0,pi.jsx)(Pj,p(p({},e),{},{recordType:"Product"})),zj=e=>(0,pi.jsx)(Pj,p(p({},e),{},{recordType:"Tax"})),Bj=()=>{const e=ge(),[t,n]=(0,o.useState)({results:[]}),[r,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(1),[h,f]=(0,o.useState)(""),[m,g]=(0,o.useState)("All"),[v,y]=(0,o.useState)({show:!1,message:"",type:"success"}),[x,b]=(0,o.useState)({skip:0,take:10,sort:[{field:"name",dir:"asc"}]}),w=(0,o.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{i(!0),s(null);const o=yi("/vendor?PageNumber=".concat(e,"&PageSize=").concat(t)),r=await fetch(o);if(!r.ok)throw new Error("Failed to fetch vendors: ".concat(r.status));const a=await r.json();Array.isArray(a)?(n({results:a}),c(a.length)):a.results&&Array.isArray(a.results)?(n(a),c(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),c(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),c(0)),u(e)}catch(o){s(o.message),n({results:[]}),c(0)}finally{i(!1)}}),[]);(0,o.useEffect)((()=>{w()}),[w]);const k=function(e){y({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{y({show:!1,message:"",type:"success"})}),3e3)},C=(0,o.useCallback)((()=>null!==t&&void 0!==t&&t.results?t.results:[]),[t]),S=(0,o.useCallback)((()=>{if(null===t||void 0===t||!t.results)return[];let e=[...t.results];return h&&(e=e.filter((e=>Object.values(e).join(" ").toLowerCase().includes(h.toLowerCase())))),"All"!==m&&(e=e.filter((e=>"Active"===m?!e.inactive:e.inactive))),e}),[t,h,m]),I=()=>{const e=Math.floor(x.skip/x.take)+1,t=x.take;w(e,t),k("Vendors refreshed successfully","success")};return r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"vendor-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading vendors..."})]})})}):a?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"vendor-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading vendors: ",a]}),(0,pi.jsxs)(xo,{onClick:I,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"vendor-list-container",children:[(0,pi.jsx)(uy,{children:v.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:v.type,icon:!0},closable:!0,onClose:()=>y({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:v.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Vendor Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/vendor/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Vendor"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search vendors...",value:h,onChange:e=>f(e.target.value)})]}),(0,pi.jsxs)("div",{className:"filter-bar",children:[(0,pi.jsx)($r,{className:"filter-icon"}),(0,pi.jsx)(Ah,{data:["All","Active","Inactive"],value:m,onChange:e=>g(e.target.value),style:{width:"100%"}})]}),(0,pi.jsx)(xo,{onClick:I,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===S().length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No vendors match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:S(),pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},x),{},{onDataStateChange:e=>{const t=e.dataState;b(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===d&&o===x.take||w(n,o)},total:l,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=C().findIndex((t=>t===e.dataItem)),n=x.take||10,o=((d||1)-1)*n+t+1;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,pi.jsx)(Uy,{field:"name",title:"Vendor Name",width:"250px"}),(0,pi.jsx)(Uy,{field:"email",title:"Email",width:"250px"}),(0,pi.jsx)(Uy,{field:"inactive",title:"Status",width:"150px",cell:e=>{const t=!e.dataItem.inactive,n=t?"Active":"Inactive",o=t?"status-active":"status-inactive";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,pi.jsx)("span",{className:"status-badge ".concat(o),children:n})}))}}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{var t;(t=n.id)?e("/vendor/view/".concat(t)):k("Cannot view vendor: ID is undefined","error")},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{var t;(t=n.id)?e("/vendor/edit/".concat(t)):k("Cannot edit vendor: ID is undefined","error")},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid vendor data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No vendors found. Click the "Add New Vendor" button above to create your first vendor.'})}),(0,pi.jsx)("style",{children:'\n          .vendor-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n          font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n        }\n\n        .status-active {\n            background-color: #C6F6D5;\n            color: #2F855A;\n        }\n\n        .status-inactive {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n            padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n            border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          @media (max-width: 768px) {\n            .vendor-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-item {\n              width: 100%;\n            }\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n        }\n\n        .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n      '})]})})};class Vj{constructor(e,t,n){this.columns=[],this.reorderable=!1,this.groupable=!1,this.startColumn=-1,this.startGroup=-1,this.currentColumn=-1,this.currentGroup=-1,this.dropElementClue=null,this.dragElementClue=null,this.groupPanelDivElement=null,this.refGroupPanelDiv=e=>{this.groupPanelDivElement=e},this.refDropElementClue=e=>{this.dropElementClue=e},this.refDragElementClue=e=>{this.dragElementClue=e},this.pressHandler=(e,t)=>{const n=this.getColumnIndex(e,t);if(this.startGroup=this.getGroupIndex(e),n>=0){const e=this.columns[n];(e.reorderable&&this.reorderable||e.groupable&&this.groupable)&&(this.startColumn=n)}},this.dragHandler=(e,t)=>{if(e.isTouch||e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),-1===this.startColumn&&-1===this.startGroup)return;this.currentColumn=this.getColumnIndex(e,t),this.currentGroup=this.getGroupIndex(e),this.groupPanelDivElement&&this.startGroup>=0&&(this.currentGroup=Math.min(this.currentGroup,this.groupPanelDivElement.children.length-2));const n=!this.isValid();n&&(this.currentColumn=-1,this.currentGroup=-1);const o=this.currentColumn>=0?t.children[this.columns[this.currentColumn].index]:this.groupPanelDivElement&&this.groupPanelDivElement.children[this.currentGroup];this.updateDragElementClue(e,t,o,n),this.updateDropElementClue(e,t,o,n)},this.releaseHandler=e=>{const t=this.startColumn,n=this.currentColumn,o=this.startGroup,r=this.currentGroup;this.dropElementClue&&this.dropElementClue.setState({visible:!1}),this.dragElementClue&&this.dragElementClue.setState({visible:!1});const i=this.isValid();this.startColumn=this.startGroup=this.currentColumn=this.currentGroup=-1,i&&(t>=0&&n>=0?this.columnReorder(t,n,e.originalEvent):o>=0&&r>=0?this.groupReorder(o,r,e.originalEvent):t>=0&&r>=0&&this.columnToGroup(t,r,e.originalEvent))},this.columnReorder=e,this.groupReorder=t,this.columnToGroup=n}getColumnIndex(e,t){if(!t||t.parentElement===this.groupPanelDivElement)return-1;const n=Zb(e,t);if(-1===n)return-1;for(let o=0;o<t.parentNode.children.length;o++)if(t.parentNode.children[o]===t)return this.columns.findIndex((e=>e.index===n&&e.depth===o));return-1}getGroupIndex(e){return Zb(e,this.groupPanelDivElement)}isValid(){return this.startGroup>=0?this.currentGroup>=0&&this.currentGroup!==this.startGroup:-1!==this.startColumn&&(this.currentGroup>=0?!0===this.columns[this.startColumn].groupable&&!0===this.groupable:!0===this.reorderable&&this.currentColumn>=0&&this.currentColumn!==this.startColumn&&!0===this.columns[this.startColumn].reorderable&&this.columns[this.currentColumn].parentIndex===this.columns[this.startColumn].parentIndex)}updateDragElementClue(e,t,n,o){if(!this.dragElementClue)return;const r=this.startColumn>=0?t.children[this.columns[this.startColumn].index].innerText:t.innerText;this.dragElementClue.setState({visible:!0,top:e.pageY+10,left:e.pageX,innerText:r,status:o||!n?"k-i-cancel":"k-i-plus"})}updateDropElementClue(e,t,n,o){if(!this.dropElementClue)return;if(o||!n)return void this.dropElementClue.setState({visible:!1});const r=n.getBoundingClientRect();let i=r.left+e.pageX-e.clientX-6;(this.currentColumn>this.startColumn||this.currentGroup>this.startGroup&&-1!==this.startGroup)&&(i+=r.width);const a=r.top+e.pageY-e.clientY;this.dropElementClue.setState({visible:!0,top:a,left:i,height:this.currentColumn>=0?t.clientHeight:r.height})}}class Hj{constructor(e){this.columns=[],this.resizable=!1,this.isRtl=!1,this.setIsRtl=e=>{this.isRtl=e},this.onResize=e,this.dragHandler=this.dragHandler.bind(this)}dragHandler(e,t,n,o){const r=e.originalEvent;o||(r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation());const i=n.parentElement;if(!i||!i.parentElement)return;const a=i.clientWidth;let s;if(this.isRtl?(s=n.getBoundingClientRect().right-n.offsetWidth/2-e.clientX,s+=a):s=a+e.clientX-n.getBoundingClientRect().left-n.offsetWidth/2,!o&&Math.abs(s-a)<1)return;this.setWidths(t,Math.floor(s)/a);const l=this.columns.filter((e=>!e.children.length)).indexOf(t);this.onResize(l,a,s,r,o)}setWidths(e,t){const n=this.columns.indexOf(e),o=[];let r=e.children.length;for(let i=n+1;i<this.columns.length&&!(r<=0);i++){const e=this.columns[i];e.children.length?r+=e.children.length:o.push(e),r--}0===o.length&&o.push(e),o.forEach((e=>{let n=e.width?parseFloat(e.width.toString())*t:0;const o=void 0===e.minResizableWidth?10:e.minResizableWidth;n<o&&(n=o),e.width=Math.floor(n)})),this.updateColElements(o)}updateColElements(e){const t=this.columns.filter((e=>!e.children.length));let n=1e-10;for(let o=0;o<e.length;o++){const r=t.indexOf(e[o]),i=parseFloat((e[o].width||0).toString());n+=i-Math.floor(i);const a=Math.floor(i)+Math.floor(n);n-=Math.floor(n),this.setColWidth(this.colGroupMain&&this.colGroupMain.children[r],a),this.setColWidth(this.colGroupHeader&&this.colGroupHeader.children[r],a),this.setColWidth(this.colGroupFooter&&this.colGroupFooter.children[r],a)}}setColWidth(e,t){e&&(e.style.width=t+"px")}}const qj=(e,t,n)=>{let o="".concat(n?"k-grid-header-sticky":"");return e.some((e=>e.field===t))&&(o+=" k-sorted"),o},Uj=function(e){const{columns:t,filter:n,filterChange:r,sort:i=[],ariaRowIndex:a}=e,s=Fc(),l=e=>{if(!r)return;const t=e.filter.filter((e=>!("eq"===e.operator&&null===e.value)));r(p(p({},e),{},{filter:t}))};return o.createElement("tr",{className:"k-table-row k-filter-row","aria-rowindex":a,role:"row"},t.map(((e,t)=>{const r=void 0!==e.locked?{left:e.left,right:e.right,borderRightWidth:e.rightBorder?"1px":""}:{},a=e.filterCell||e.filter;return o.createElement(wE,{columnId:Ub(e.id),navigatable:e.navigatable,style:r,key:t,ariaColumnIndex:e.ariaColumnIndex,ariaLabel:a?s.toLanguageString(cC,dC[cC]):void 0,className:on("k-table-td k-header",qj(i,e.field,e.locked))},a&&o.createElement(a,{field:e.field,filter:n,onFilterChange:l}))})))};class Gj extends o.Component{constructor(){super(...arguments),this.element=null}componentDidMount(){const{columnResize:e}=this.props;e&&e.resizable&&e.setIsRtl(function(e){return!(!e||"rtl"!==getComputedStyle(e).direction)}(this.element))}render(){return o.createElement("thead",p({className:on("k-table-thead k-grid-header",{"k-grid-draggable-header":this.props.reorderable}),role:"presentation",ref:e=>{this.element=e}},Ib),this.props.headerRow,this.props.filterRow)}}function Wj(e){const t=e.onClick?{onClick:e.onClick}:{},n=o.createElement("span",p({className:"k-link"},t),o.createElement("span",{className:"k-column-title"},e.title||e.field||"\xa0"),e.children);return o.createElement(o.Fragment,null,e.render?e.render.call(void 0,n,e):n)}class Kj extends o.PureComponent{constructor(){super(...arguments),this.draggable=null,this.onPress=e=>{const t=this.draggable&&this.draggable.element;t&&this.props.pressHandler&&this.props.pressHandler(e.event,t)},this.onDrag=e=>{const t=this.draggable&&this.draggable.element;t&&this.props.dragHandler&&this.props.dragHandler(e.event,t)},this.onRelease=e=>{this.draggable&&this.draggable.element&&this.props.releaseHandler&&this.props.releaseHandler(e.event)}}render(){return o.createElement(aE,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease,ref:e=>{this.draggable=e},autoScroll:{direction:{vertical:!1,horizontal:!0}}},o.createElement("tr",{className:"k-table-row","aria-rowindex":this.props.ariaRowIndex,role:"row"},this.props.children))}}const Yj={true:{asc:"desc",desc:"","":"asc"},false:{asc:"desc",desc:"asc","":"asc"}},Xj={none:"none",asc:"ascending",desc:"descending"};class Qj extends o.Component{constructor(){super(...arguments),this.cellClick=(e,t)=>{if(e.preventDefault(),!this.props.sortChange)return;const{allowUnsort:n,mode:o}=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign({allowUnsort:!0,mode:"single"},...t)}(this.props.sortable||!1,t.sortable||!1),r=(this.props.sort||[]).filter((e=>e.field===t.field))[0],i=Yj[n][r&&r.dir||""],a="single"===o?[]:(this.props.sort||[]).filter((e=>e.field!==t.field));""!==i&&t.field&&a.push({field:t.field,dir:i}),this.props.sortChange(e,a,t.field)},this.cellKeyDown=(e,t)=>{e.isDefaultPrevented()||e.keyCode===At&&this.cellClick(e,t)},this.cells=e=>e.map(((e,t)=>{const n=this.props.columns[e],{columnResize:r}=this.props,i=r&&r.resizable&&n.resizable,a=this.props.sortable&&n.sortable,s=this.props.sort?this.props.sort.findIndex((e=>e.field===n.field)):-1,l=s>=0&&this.props.sort[s].dir||"none",c={sort:this.props.sort,onSortChange:this.props.sortChange,filter:this.props.columnMenuFilter,onFilterChange:this.props.columnMenuFilterChange,field:n.field},d={field:n.field,onClick:a&&(e=>this.cellClick(e,n))||void 0,selectionChange:this.props.selectionChange,title:n.title,selectionValue:n.headerSelectionValue,render:this.props.cellRender,children:this.sortIcon(s),sort:this.props.sort,sortable:this.props.sortable,sortChange:this.props.sortChange,filterChange:this.props.filterChange,columns:this.props.columns,columnMenuWrapperProps:c},u=n.columnMenu||this.props.columnMenu,h=on("k-table-th",{"k-first":n.kFirst,"k-filterable":!!u,"k-header":!0,"k-grid-header-sticky":n.locked,"k-sorted":this.props.sort&&this.props.sort.some((e=>e.field===n.field))},n.headerClassName),f=void 0!==n.locked?{left:n.left,right:n.right,borderRightWidth:n.rightBorder?"1px":""}:{},m=Xh(this).toLanguageString(lC,dC[lC]),g=n.isAccessible?{ariaSort:a?Xj[l]:void 0,role:"columnheader",ariaColumnIndex:n.ariaColumnIndex,ariaSelected:!1,ariaDescription:a?m:""}:{role:"presentation"};return o.createElement(UI,p({key:t,colSpan:n.colSpan,rowSpan:n.rowSpan,className:h,style:f,columnId:n.id,navigatable:n.navigatable,onKeyDown:a&&(e=>this.cellKeyDown(e,n))||void 0},g),n.headerCell&&o.createElement(n.headerCell,p({},d)),!n.headerCell&&o.createElement("span",{className:"k-cell-inner"},o.createElement(Wj,p({},d)),u&&o.createElement(u,p({},c))),r&&i&&o.createElement(dE,{key:"ColumnResizer",resize:(e,t,o)=>r.dragHandler(e,n,t,o)}))}))}sortIcon(e){if(!this.props.sort||e<0)return null;const t=this.props.sort[e].dir;return t?[o.createElement(vo,{key:1,name:"sort-".concat(t,"-small"),icon:"asc"===t?fd:md}),this.props.sort.length>1&&o.createElement("span",{key:2,className:"k-sort-order"},e+1)]:null}render(){return this.props.columnsMap.map(((e,t)=>this.props.pressHandler&&o.createElement(Kj,{key:t,pressHandler:this.props.pressHandler,dragHandler:this.props.dragHandler,releaseHandler:this.props.releaseHandler,ariaRowIndex:t+1},this.cells(e))||o.createElement("tr",{className:"k-table-row","aria-rowindex":t+1,role:"row"},this.cells(e))))}}function Jj(e,t,n){const o=Array.from(e.tHead&&e.tHead.rows||[]),r=[t];let i;const a=n||(e=>window.getComputedStyle(e).height||void 0);o.forEach((e=>{const t=a(e);r.push(function(e){return void 0!==e&&("number"==typeof e||/px$/i.test(String(e)))}(t)?parseFloat(String(t)):e.offsetHeight)}));for(let s=0;s<o.length;s++)i=r.slice(0,s+1).reduce(((e,t)=>e+t)),Array.from(o[s].cells).forEach((e=>e.style.top=i+"px"))}Jh(Qj);const Zj=1e6;const $j=Nw,eA=Tw,tA=Pw,nA=e=>{const{hasChildren:t,level:n=[0],expanded:r,dataItem:i,format:a,id:s,ariaColumnIndex:l,isSelected:c}=e,d=yC(e.field,i),u=Wc(),h=AI(s);let f="";const m=o.useCallback((t=>{t.isDefaultPrevented()||t.keyCode===At&&e.expandable&&(t.preventDefault(),e.onExpandChange(t,i,n))}),[e.expandable,i,n]);null!=d&&(f=a?u.format(a,d):d.toString());const g=[];if(e.expandable){const a=e=>o.createElement("span",{key:e,className:"k-treelist-toggle k-icon k-svg-icon"},o.createElement("svg",{"aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}));g.push(...n.slice(1).map(((e,t)=>a(t)))),t?g.push(o.createElement(vo,{className:"k-treelist-toggle",name:r?"caret-alt-down":"caret-alt-right",icon:r?nd:td,key:"expand-collapse",onClick:t=>e.onExpandChange(t.syntheticEvent||t,i,n),[tA]:!0})):g.push(a(g.length))}const v=o.createElement("td",p({style:e.style,className:on("k-table-td",e.className,{"k-text-nowrap":e.expandable,"k-selected":c}),colSpan:e.colSpan,"aria-colindex":l,"aria-expanded":t?r:void 0,"aria-selected":c,role:"gridcell",onKeyDown:m,[eA]:e.colIndex},h),g,f);return e.render?e.render.call(void 0,v,e):v};nA.displayName="KendoReactTreeListCell";const oA="treelist.filterClearButton",rA="treelist.filterEqOperator",iA="treelist.filterNotEqOperator",aA="treelist.filterIsNullOperator",sA="treelist.filterIsNotNullOperator",lA="treelist.filterIsEmptyOperator",cA="treelist.filterIsNotEmptyOperator",dA="treelist.filterStartsWithOperator",uA="treelist.filterContainsOperator",pA="treelist.filterNotContainsOperator",hA="treelist.filterEndsWithOperator",fA="treelist.filterGteOperator",mA="treelist.filterGtOperator",gA="treelist.filterLteOperator",vA="treelist.filterLtOperator",yA="treelist.filterIsTrue",xA="treelist.filterIsFalse",bA="treelist.filterBooleanAll",wA="treelist.filterAfterOrEqualOperator",kA="treelist.filterAfterOperator",CA="treelist.filterBeforeOperator",SA="treelist.filterBeforeOrEqualOperator",IA="treelist.noRecords",EA={[oA]:"Clear",[rA]:"Is equal to",[iA]:"Is not equal to",[aA]:"Is null",[sA]:"Is not null",[lA]:"Is empty",[cA]:"Is not empty",[dA]:"Starts with",[uA]:"Contains",[pA]:"Does not contain",[hA]:"Ends with",[fA]:"Is greater than or equal to",[mA]:"Is greater than",[gA]:"Is less than or equal to",[vA]:"Is less than",[yA]:"Is true",[xA]:"Is false",[bA]:"(All)",[wA]:"Is after or equal to",[kA]:"Is after",[CA]:"Is before",[SA]:"Is before or equal to",[IA]:"No records available"};class _A extends o.Component{render(){return this.props.children||Xh(this).toLanguageString(IA,EA[IA])}}Jh(_A);const jA=o.forwardRef(((e,t)=>{const{isSelected:n,rowHeight:r,isAltRow:i,expanded:a,ariaRowIndex:s,level:l,ariaSetSize:c,ariaPosInSet:d}=e,u=on("k-table-row","k-master-row",{"k-selected":n,"k-alt":i}),p=o.useMemo((()=>void 0!==r?{height:r+"px"}:void 0),[r]),h=o.createElement("tr",{onClick:e.onClick,onDoubleClick:e.onDoubleClick,onContextMenu:e.onContextMenu,className:u,style:p,ref:t,"aria-expanded":a,role:"row","aria-rowindex":s,"aria-level":l.length,"aria-posinset":d,"aria-setsize":c,[$j]:e.rowIndex},e.children);return o.createElement(o.Fragment,null,e.render?e.render.call(void 0,h,e):h)}));jA.displayName="KendoReactTreeListRow";const AA={name:"@progress/kendo-react-treelist",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:1745410878,version:"10.2.0",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"},DA=["declarationIndex","parentIndex","depth","colSpan","rowSpan","index","kFirst","groupable","children"],NA=class extends o.Component{constructor(e){super(e),this.element=null,this.wrapperScrollLeft=0,this.wrapperScrollTop=0,this.updateOnScroll=!1,this.tbodyOffsetTop=0,this.prevData=[],this.flattedData=[],this.extendedColumn=[],this.columnsMap=[],this.contextStateRef={current:void 0},this.navigationStateRef={current:void 0},this.showLicenseWatermark=!1,this.scrollIntoView=e=>{if(!this.element)return;const{rowIndex:t=0}=e,{scrollable:n,rowHeight:o=0}=this.props;if("virtual"===n||o)this.element.scroll(0,(t-1)*o);else{const e=this.element.querySelector("tbody > tr:nth-child(".concat(t,")"));if(e){const t=e.offsetTop-this.tbodyOffsetTop;this.element.scroll(0,t)}}},this.getExtendedColumn=Ep(((e,t)=>Jb(e,{prevId:0,idPrefix:t}))),this.getColumnsMap=Ep(((e,t)=>function(e,t){const n=[[]];let o=0;for(let a=e.length-1;a>=0;a--)o=Math.max(o,e[a].depth),e[a].colSpan=e[a].colSpan||1,e[a].children.length>0&&(e[a].colSpan=e[a].children.reduce(((e,t)=>t.hidden?e:e+t.colSpan),0));const r=[];let i=1;return e.forEach(((e,t)=>{n[e.depth]=n[e.depth]||[];let a=!1;0===n[e.depth].length&&(i<=1?i=1+(e.children.length>0?0:o-e.depth):(i--,a=!0)),e.rowSpan=1+(e.children.length>0?0:o-e.depth),e.kFirst=a,e.index=n[e.depth].length,n[e.depth].push(t),e.ariaColumnIndex=r[e.depth]?r[e.depth]+1:1;for(let n=e.depth;n<e.depth+e.rowSpan;n++)r[n]=(r[n]||0)+e.colSpan})),Xb(n,e,t),Qb(n,e,t),n}(e,t))),this.onKeyDown=e=>{if(TC(e,{navigatable:!1,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef}),this.props.onKeyDown){const{mode:t,cell:n}=Bw(this.props.selectable),o=p({dataItems:this.getLeafDataItems(),mode:t,cell:n,componentId:this._treeListId,selectedField:this.props.selectedField},this.getArguments(e));this.props.onKeyDown.call(void 0,o)}},this.onFocus=e=>{NC(e,{contextStateRef:this.contextStateRef})},this.onRowDrag=e=>{this.props.onRowDrag&&this.props.onRowDrag.call(void 0,p(p({},e),{},{target:this}))},this.onRowDrop=e=>{this.props.onRowDrop&&this.props.onRowDrop.call(void 0,p(p({},e),{},{target:this}))},this.columnReorder=(e,t,n)=>{const o=this.extendedColumn[e].depth,r=e=>{do{e++}while(e<this.extendedColumn.length&&this.extendedColumn[e].depth>o);return e},i=this.extendedColumn.splice(e,r(e)-e);if(this.extendedColumn.splice(e<t?r(t-i.length):t,0,...i),this.extendedColumn.filter((e=>e.declarationIndex>=0)).forEach(((e,t)=>e.orderIndex=t)),this.props.onColumnReorder){const e={target:this,columns:this.columns,nativeEvent:n};this.props.onColumnReorder.call(void 0,e)}},this.onResize=(e,t,n,o,r)=>{if(this.props.onColumnResize){const i=this.extendedColumn.filter((e=>0===e.children.length)).reduce(((e,t)=>e+parseFloat(String(t.width))),0),a={columns:this.columns,totalWidth:i,index:e,nativeEvent:o,newWidth:t,oldWidth:n,end:r,target:this};this.props.onColumnResize.call(void 0,a)}},this.handleOnScroll=e=>{const t=e.currentTarget.scrollLeft,n=e.currentTarget.scrollTop,{columnVirtualization:o,scrollable:r,rowHeight:i=0}=this.props,a=i;let s=!1;o&&Math.abs(this.wrapperScrollLeft-t)>0&&(this.wrapperScrollLeft=t,s=!0),"virtual"===r&&Math.abs(this.wrapperScrollTop-n)>a&&(this.wrapperScrollTop=n,s=!0),s&&(this.updateOnScroll=!0,this.forceUpdate())},this.calculateSizes=e=>{if(!e||"none"===this.props.scrollable)return;const t=Array.from(e.childNodes),n=t.find((e=>"TABLE"===e.nodeName)),o=this.props.toolbar&&t.find((e=>1===e.nodeType&&e.classList.contains("k-grid-toolbar")));let r=0;if(o){const e=o.style.boxSizing;o.style.boxSizing="border-box",r=parseFloat(String(window.getComputedStyle(o).height))||o.offsetHeight,o.style.boxSizing=e,o.getAttribute("style")||o.removeAttribute("style")}this.tbodyOffsetTop=n.tBodies[0].offsetTop,Jj(n,r)},this.itemChange=e=>{const t=this.props.onItemChange;if(e.field!==this.props.expandField){if(t){const n=p(p({},this.getArguments(e.syntheticEvent)),{},{dataItem:e.dataItem,level:e.level,field:e.field,value:e.value});t.call(void 0,n)}}else{const t=this.props.onExpandChange;if(t){const n=p(p({},this.getArguments(e.syntheticEvent)),{},{dataItem:e.dataItem,level:e.level,value:e.value});t.call(void 0,n)}}},this.onHeaderSelectionChange=e=>{if(this.props.onHeaderSelectionChange){const t={field:e.field,nativeEvent:e.syntheticEvent&&e.syntheticEvent.nativeEvent,syntheticEvent:e.syntheticEvent,target:this,dataItems:this.getLeafDataItems()};this.props.onHeaderSelectionChange.call(void 0,t)}},this.selectionRelease=e=>{if(this.props.onSelectionChange){const t=p({syntheticEvent:void 0,target:this,selectedField:this.props.selectedField||"",componentId:this._treeListId,dataItems:this.getLeafDataItems(),dataItem:null,level:[]},e);this.props.onSelectionChange.call(void 0,t)}},this.sortChange=(e,t,n)=>{this.raiseDataEvent(this.props.onSortChange,{sort:t,field:n},e)},this.headerFilterChange=(e,t,n)=>{this.raiseDataEvent(this.props.onFilterChange,{filter:t,field:n},e)},this.filterChange=e=>{const{filter:t,field:n}=e;this.raiseDataEvent(this.props.onFilterChange,{filter:t,field:n},e.syntheticEvent)},this.columnMenuFilterChange=(e,t,n)=>{const{onColumnMenuFilterChange:o}=this.props;if(!o)return;const r={syntheticEvent:e,filter:t,field:n,target:this,nativeEvent:e.nativeEvent};o.call(void 0,r)},this.expandChange=(e,t,n)=>{const{expandField:o,onExpandChange:r}=this.props;if(o&&r){const o=p(p({},this.getArguments(e)),{},{dataItem:t,level:n,value:this.expanded(t)});r.call(void 0,o)}},this.rowClick=(e,t)=>{if(this.props.onRowClick&&"TD"===e.target.nodeName){const n=p({dataItem:t.dataItem,level:t.level},this.getArguments(e));this.props.onRowClick.call(void 0,n)}},this.rowDoubleClick=(e,t)=>{if(this.props.onRowDoubleClick&&"TD"===e.target.nodeName){const n=p({dataItem:t.dataItem,level:t.level},this.getArguments(e));this.props.onRowDoubleClick.call(void 0,n)}},this.rowContextMenu=(e,t)=>{if(this.props.onRowContextMenu&&"TD"===e.target.nodeName){const n=p({dataItem:t.dataItem,level:t.level},this.getArguments(e));this.props.onRowContextMenu.call(void 0,n)}},this.onPageChange=e=>{if(this.props.onPageChange){const t=p(p({},this.getArguments(e.syntheticEvent)),{},{skip:e.skip,take:e.take});this.props.onPageChange.call(void 0,t)}},this.expandedSubItems=e=>{const t=[];return this.expanded(e)&&this.hasChildren(e)&&t.push(...yC(this.props.subItemsField,e)),t},this.getLeafDataItems=()=>this.flatData.map((e=>e.dataItem)),this.expanded=e=>!!yC(this.props.expandField,e),this.hasChildren=e=>!!yC(this.props.subItemsField,e),this.showLicenseWatermark=!sa(AA,{component:"TreeList"}),this.dragLogic=new Vj(this.columnReorder,qp,qp),this.columnResize=new Hj(this.onResize.bind(this)),_C({navigatable:!!e.navigatable,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef})}get _treeListId(){return this.props.id+"-treelist"}get document(){if(Ro)return this.element&&this.element.ownerDocument||document}componentDidMount(){this.calculateSizes(this.element),jC({scope:this.element||void 0,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef})}getSnapshotBeforeUpdate(){return AC({document:this.document,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef}),null}componentDidUpdate(e){e.columns!==this.props.columns&&this.calculateSizes(this.element),DC({scope:this.element||void 0,contextStateRef:this.contextStateRef,navigationStateRef:this.navigationStateRef})}componentWillUnmount(){this.columnsMap=[],this.prevData=[],this.flattedData=[],this.updateOnScroll=!1,this.getExtendedColumn.clear(),this.getColumnsMap.clear()}render(){const{columns:e=[],filterRow:t,scrollable:n="scrollable",resizable:r=!1,reorderable:i=!1,skip:a,take:s}=this.props,l=e.some((e=>!!e.filter||!!e.filterCell))||void 0!==t,c=t||Uj,d=Gb.getIdPrefix(this.navigationStateRef),u=this.getExtendedColumn(e,d),h=u.length!==this.extendedColumn.length;this.extendedColumn=u,this.columnsMap=this.getColumnsMap(this.extendedColumn,h);const f=this.extendedColumn.filter((e=>0===e.children.length));this.columnResize.columns=this.extendedColumn,this.columnResize.resizable=r,this.dragLogic.columns=this.extendedColumn,this.dragLogic.reorderable=i,this.dragLogic.groupable=!1;const m=o.createElement(Gj,{headerRow:o.createElement(Qj,{sort:this.props.sort,sortable:this.props.sortable,sortChange:this.sortChange,selectionChange:this.onHeaderSelectionChange,columns:this.extendedColumn,columnsMap:this.columnsMap,cellRender:this.props.headerCellRender,columnResize:this.columnResize,columnMenu:this.props.columnMenu,columnMenuFilter:this.props.columnMenuFilter,columnMenuFilterChange:this.columnMenuFilterChange,pressHandler:this.dragLogic.pressHandler,dragHandler:this.dragLogic.dragHandler,releaseHandler:this.dragLogic.releaseHandler,filterChange:this.headerFilterChange}),reorderable:this.props.reorderable,filterRow:l&&o.createElement(c,{columns:f,filter:this.props.filter,filterChange:this.filterChange,sort:this.props.sort,ariaRowIndex:this.columnsMap.length+1})||void 0,columnResize:this.columnResize}),g=this.props.style||{},{colSpans:v,hiddenColumns:y}=function(e){const{enabled:t,columns:n=[],tableViewPortWidth:o,scrollLeft:r,getColSpan:i,dataItem:a}=e,s=n.map((()=>1)),l=n.map((()=>!1));if(!t)return{colSpans:s,hiddenColumns:l};const c=n.map((e=>parseFloat((e.width||"").toString())||10));let d=0;for(let x=0;x<n.length;x++){if(n[x].locked)continue;let e=1;if(void 0!==i){let t=i(n[x],a);t>2?e=t-1:2===t&&(e=t)}const t=x<c.length-1?c[x+1]*e:0;if(!(d+c[x]+t<r))break;l[x]=!0,d+=c[x]}const u=c.reduce(((e,t)=>e+t),0);d=0;for(let x=n.length-1;x>=0;x--)if(!n[x].locked){if(!(d+2*c[x]<u-o-r))break;l[x]=!0,d+=c[x]}const p=[...l],h=e=>e;let f,m,g=p.lastIndexOf(!1),v=p.some(h),y=p.every(h);for(;v&&p.length&&(-1!==g||y);){for(g<p.length-1&&(f=y?p.length:p.length-g-1,m=p.length-f,0===m&&(m=f-1),l[m]=!1,s[m]=f,p.splice(g+1,f));p.length&&!p[p.length-1];)p.pop();g=p.lastIndexOf(!1),v=p.some(h),y=p.every(h)}return{colSpans:s,hiddenColumns:l}}({enabled:this.props.columnVirtualization,columns:f,scrollLeft:this.wrapperScrollLeft,tableViewPortWidth:parseFloat((g.width||"").toString())}),x=(e,t,n,r,i,a)=>f.map(((s,l)=>{if(y[l])return null;const c=s.id?s.id:l,u="".concat(s.className?s.className+" ":"").concat(s.locked?"k-grid-content-sticky":""),h={id:Gb.generateNavigatableId("".concat(n,"-").concat(String(l)),d),colSpan:v[l],dataItem:e.dataItem,field:s.field,format:s.format,className:u||void 0,render:this.props.cellRender,onChange:this.itemChange,selectionChange:this.props.onSelectionChange?t=>{this.selectionChange({event:t,item:e,columnIndex:l,dataIndex:i})}:void 0,level:e.level,expandable:s.expandable,expanded:r,hasChildren:this.hasChildren(e.dataItem),onExpandChange:this.expandChange,colIndex:l,ariaColumnIndex:s.ariaColumnIndex,style:void 0!==s.left&&{left:s.left,right:s.right,borderRightWidth:s.rightBorder?"1px":""}||{},isSelected:Array.isArray(a)&&a.indexOf(l)>-1};return t&&s.editCell?o.createElement(s.editCell,p(p({key:c},h),{},{onChange:this.itemChange})):s.cell?o.createElement(s.cell,p({key:c},h)):o.createElement(nA,p({key:c},h))}));let b=this.flatData;const w=b.length;void 0!==a&&void 0!==s&&(b=b.slice(a,a+s)),"virtual"===n&&(b=function(e){const{rows:t,tableViewPortHeight:n,scrollTop:o}=e;if(0===t.length)return[];const r=t[0].height,i=Math.min(Math.round(o/r),t.length),a=Math.round(n/r),s=Math.max(0,i-a),l=Math.min(t.length,i+2*a),c=t.slice(s,l),d=c[c.length-1];return s>0&&c.unshift({dataItem:{},level:[Zj],offsetTop:0,height:c[0].offsetTop,levelCount:0}),l<t.length-1&&c.push({dataItem:{},level:[Zj,Zj],offsetTop:d.offsetTop+d.height,height:(t.length-l)*r,levelCount:0}),c}({rows:b,tableViewPortHeight:parseFloat((g.height||g.maxHeight||"").toString()),scrollTop:this.wrapperScrollTop}),this.updateOnScroll=!1);const k=b.map((e=>e.level)),C=this.columnsMap.length+(l?1:0)+1,S=b.length>0&&b.map(((e,t)=>{const r=yC(this.props.editField,e.dataItem),i=this.props.dataItemKey&&ji(this.props.dataItemKey)(e.dataItem),a=String(i||e.level.join(".")),s=this.expanded(e.dataItem),l=this.props.selectedField?yC(this.props.selectedField,e.dataItem):void 0,c={key:a,level:e.level,levels:k,dataItem:e.dataItem,selectedField:this.props.selectedField,rowHeight:"virtual"===n?e.height:this.props.rowHeight,render:this.props.rowRender,onDrop:this.onRowDrop,onDrag:this.onRowDrag,onClick:t=>this.rowClick(t,e),onDoubleClick:t=>this.rowDoubleClick(t,e),onContextMenu:t=>this.rowContextMenu(t,e),isAltRow:t%2!==0,expanded:s,rowIndex:t,ariaRowIndex:C+t,ariaSetSize:e.levelCount,ariaPosInSet:e.level[e.level.length-1]+1,isSelected:"boolean"==typeof l&&l},d=this.props.editRow,u=this.props.row||jA,h=x(e,r,a,s,t,l);return r&&d?o.createElement(d,p(p({},c),{},{key:c.key}),h):o.createElement(u,p(p({},c),{},{key:c.key}),h)}))||o.createElement("tr",{className:"k-table-row k-grid-norecords"},o.createElement("td",{colSpan:f.length},this.props.noRecords||o.createElement(_A,null))),I=e=>this.props.sort&&this.props.sort.some((t=>t.field===e)),E=o.createElement("colgroup",{ref:e=>{this.columnResize.colGroupMain=e}},f.map(((e,t)=>o.createElement("col",{key:t.toString(),className:I(e.field)?"k-sorted":void 0,style:void 0!==e.width?{width:e.width}:void 0})))),_=this.props.columnVirtualization||"virtual"===this.props.scrollable,j=this.props.selectable&&this.props.selectable.drag?"none":void 0,A=this.props.tableProps||{};return o.createElement(zC.Provider,{value:this.contextStateRef.current},o.createElement("div",p({id:this.props.id,style:this.props.style,className:on("k-grid k-grid-md","k-treelist",this.props.className,{"k-treelist-scrollable":"none"!==n}),ref:e=>{this.element=e},onScroll:_?this.handleOnScroll:void 0,onKeyDown:this.onKeyDown,onFocus:this.onFocus,"aria-rowcount":w,"aria-colcount":f.length,role:"treegrid"},Sb),this.props.toolbar,o.createElement(WE,{selectable:this.props.selectable,onRelease:this.selectionRelease},o.createElement("table",p(p({className:"k-table k-table-md k-grid-table"},A),{},{style:p(p({},A.style||{}),{},{userSelect:j}),role:"presentation"}),E,m,o.createElement("tbody",p(p({className:"k-table-tbody"},Eb),{},{role:"presentation"}),S))),this.props.pager&&o.createElement(this.props.pager,{className:"k-grid-pager",total:w,skip:a,take:s,onPageChange:this.onPageChange}),i&&o.createElement(o.Fragment,null,o.createElement(YE,{ref:this.dragLogic.refDropElementClue}),o.createElement(QE,{ref:this.dragLogic.refDragElementClue})),this.showLicenseWatermark&&o.createElement(ca,null)))}get columns(){const e=this.extendedColumn.filter((e=>e.declarationIndex>=0&&-1===e.parentIndex)),t=e=>(e.sort(((e,t)=>e.declarationIndex-t.declarationIndex)),e.map((e=>{const{declarationIndex:n,parentIndex:o,depth:r,colSpan:i,rowSpan:a,index:l,kFirst:c,groupable:d,children:u}=e,h=s(e,DA);return u.length?p({children:t(u)},h):h})));return t(e)}get flatData(){const{data:e=[],rowHeight:t=0}=this.props;let n=0;const o=this.updateOnScroll&&this.prevData===e&&this.tbodyOffsetTop>0&&this.flattedData.length?this.flattedData:function(e,t,n){const o=[],r=[];for(let i=e.length-1;i>=0;i--){const n=e[i];o.push({root:n,data:t(n),level:[i],levelCount:e.length})}for(;o.length>0;){const e=o.pop();if(r.push(p(p({dataItem:e.root,level:[...e.level]},n(e.root)),{},{levelCount:e.levelCount})),e.data.length)for(let n=e.data.length-1;n>=0;n--){const r=e.data[n];o.push({root:r,data:t(r),level:[...e.level,n],levelCount:e.data.length})}}return r}(e,this.expandedSubItems,(e=>{const o={height:t,offsetTop:n};return n+=o.height,o}));return this.prevData=e,this.flattedData=o,o}selectionChange(e){if(this.props.onSelectionChange){const{event:t,item:n,dataIndex:o,columnIndex:r}=e,{mode:i,cell:a}=Bw(this.props.selectable),s=p(p({},this.getArguments(t.syntheticEvent)),{},{dataItem:n.dataItem,level:n.level,startColIndex:r,endColIndex:r,startRowIndex:o,endRowIndex:o,dataItems:this.getLeafDataItems(),altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1,mode:i,cell:a,isDrag:!1,componentId:this._treeListId,selectedField:this.props.selectedField||""});this.props.onSelectionChange.call(void 0,s)}}raiseDataEvent(e,t,n){const o=this.props.onDataStateChange;if(e)e.call(void 0,p(p({},this.getArguments(n)),t));else if(o){const e=p(p({},this.getArguments(n)),{},{dataState:p(p({},this.getDataState()),t)});o.call(void 0,e)}}getDataState(){return{filter:this.props.filter,sort:this.props.sort}}getArguments(e){return{nativeEvent:e&&e.nativeEvent,syntheticEvent:e,target:this}}};NA.propTypes={data:Et.array,resizable:Et.bool,reorderable:Et.bool,sortable:Et.oneOfType([Et.bool,Et.shape({mode:Et.oneOf(["single","multiple"]),allowUnsort:Et.bool})]),onSortChange:Et.func,sort:Et.array,columns:Et.arrayOf(Et.object),columnVirtualization:Et.bool,filter:Et.array,onFilterChange:Et.func,filterRow:Et.any,toolbar:Et.any,noRecords:Et.any,onExpandChange:Et.func,expandField:Et.string,subItemsField:Et.string,selectedField:Et.string,onSelectionChange:Et.func,onHeaderSelectionChange:Et.func,onRowClick:Et.func,onItemChange:Et.func,editField:Et.string,scrollable:Et.oneOf(["none","scrollable","virtual"]),rowHeight:Et.number,style:Et.object,tableProps:Et.object,pager:Et.any,skip:Et.number,take:Et.number,onPageChange:Et.func,onDataStateChange:Et.func,onColumnResize:Et.func,onColumnReorder:Et.func,dataItemKey:Et.string,navigatable:Et.bool},NA.contextType=zC;let TA=NA;var PA=(e=>(e.HORIZONTAL="horizontal",e.VERTICAL="vertical",e))(PA||{}),MA=(e=>(e.DEFAULT="default",e.primary="primary",e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error",e))(MA||{});const OA=["children","dir","style","className","type","orientation"],RA=o.forwardRef(((e,t)=>{const{children:n,dir:r,style:i,className:a,type:l=FA.type,orientation:c=FA.orientation}=e,d=s(e,OA),u=o.useRef(null),h=o.useRef(null);return o.useImperativeHandle(u,(()=>({element:h.current,props:e}))),o.useImperativeHandle(t,(()=>u.current)),o.createElement("div",p({dir:r,style:i,ref:h,className:on("k-card",a,{["k-card-".concat(l)]:l!==MA.DEFAULT},null===c?void 0:c!==PA.HORIZONTAL?"k-card-vertical":"k-card-horizontal")},d),n)}));RA.displayName="KendoReactCard",RA.propTypes={children:Et.node,className:Et.string,dir:Et.string,orientation:Et.oneOf(["horizontal","vertical"]),style:Et.object,type:Et.oneOf(["default","primary","info","success","warning","error"])};const FA={type:MA.DEFAULT,orientation:PA.VERTICAL},LA=e=>o.createElement("div",{style:e.style,className:on("k-card-body",e.className)},e.children);LA.propTypes={className:Et.string};const zA=e=>o.createElement("div",{style:e.style,className:on("k-card-header",e.className)},e.children);zA.propTypes={className:Et.string};const BA=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(!0),[i,a]=(0,o.useState)(null),s=ge();(0,o.useEffect)((()=>{(async()=>{try{r(!0);const e=yi("/chart-of-account"),n=await fetch(e);if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const o=await n.json();if(console.log("API Response:",o),!o.results||!Array.isArray(o.results))throw new Error("Invalid API response format");{const e=(e=>{console.log("Converting API data:",e);const t=new Map;e.forEach((e=>{const n={id:e.id,accountName:e.name,isParent:e.isParent,parent:e.parent,parentName:e.parentName,parentId:e.parent,expanded:!1,accountNumber:e.accountNumber,accountType:e.accountTypeName||"Unknown",openingBalance:e.openingBalance,inactive:e.inactive,notes:e.notes,items:[]};t.set(e.id,n)}));const n=[];e.forEach((e=>{const o=t.get(e.id);if(null===e.parent||""===e.parent||void 0===e.parent)n.push(o);else{const r=t.get(e.parent);r?(o.parentId=r.id,r.items.push(o)):(console.warn("Parent '".concat(e.parent,"' not found for item '").concat(e.name,"'. Adding as root item.")),n.push(o))}}));const o=e=>{const t=[...e].sort(((e,t)=>{const n=e.accountNumber?String(e.accountNumber).trim():"",o=t.accountNumber?String(t.accountNumber).trim():"",r=parseInt(n,10),i=parseInt(o,10);return isNaN(r)||isNaN(i)?isNaN(r)?1:isNaN(i)?-1:n.localeCompare(o):r-i}));return t.map((e=>e.items&&e.items.length>0?p(p({},e),{},{items:o(e.items)}):e))},r=o(n);return console.log("Converted tree structure:",r),r})(o.results);t(e)}}catch(e){console.error("Error fetching chart of accounts:",e),a(e.message)}finally{r(!1)}})()}),[]);const l=[{field:"accountName",title:"Account Name",width:"300px",cell:t=>{const n=t.dataItem.items&&t.dataItem.items.length>0,o=25*(t=>{let n=0;if(t.parent){let o=t.parent;const r=(e,t)=>{for(const n of e){if(n.id===t)return n;if(n.items){const e=r(n.items,t);if(e)return e}}return null};for(;o;){n++;const t=r(e,o);if(o=t?t.parent:null,n>10)break}}return n})(t.dataItem)+8;return(0,pi.jsx)("td",{style:{paddingLeft:"".concat(o,"px")},children:(0,pi.jsxs)("div",{className:"k-d-flex k-align-items-center k-gap-2",children:[n?(0,pi.jsx)("span",{onClick:e=>{e.stopPropagation(),n&&(console.log("Expanding/Collapsing:",t.dataItem.accountName,"Current expanded:",t.dataItem.expanded),c({dataItem:t.dataItem}))},className:"k-button k-button-flat k-button-sm k-rounded-full k-text-primary",style:{cursor:"pointer",fontSize:"14px",userSelect:"none",minWidth:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:t.dataItem.expanded?"\u25bc":"\u25b6"}):(0,pi.jsx)("span",{style:{width:"32px"}}),(0,pi.jsx)("span",{className:"k-font-weight-normal",children:t.dataItem.accountName})]})})}},{field:"accountType",title:"Account Type",width:"130px",cell:e=>(0,pi.jsx)("td",{className:"k-text-center",children:(0,pi.jsxs)("span",{className:"k-badge k-badge-rounded ".concat((e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"asset":return"k-badge-success";case"liability":return"k-badge-warning";case"equity":return"k-badge-info";case"income":case"revenue":return"k-badge-primary";case"expense":return"k-badge-error";default:return"k-badge-secondary"}})(e.dataItem.accountType)),children:[(0,pi.jsx)("span",{className:"k-icon ".concat((e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"asset":return"k-i-dollar";case"liability":return"k-i-warning";case"equity":return"k-i-user";case"income":case"revenue":return"k-i-plus";case"expense":return"k-i-minus";default:return"k-i-file"}})(e.dataItem.accountType)," k-mr-1")}),e.dataItem.accountType||"Unknown"]})})},{field:"accountNumber",title:"Account Number",width:"140px",cell:e=>(0,pi.jsx)("td",{className:"k-text-center",children:(0,pi.jsxs)(xo,{onClick:t=>{t.preventDefault(),s("/chart-of-account/view/".concat(e.dataItem.id))},fillMode:"flat",themeColor:"primary",size:"small",className:"k-button-link",style:{color:"#007acc"},children:[(0,pi.jsx)("span",{className:"k-icon k-i-external-link k-mr-1"}),(0,pi.jsx)("span",{style:{color:"#007acc"},children:e.dataItem.accountNumber})]})})},{field:"openingBalance",title:"Opening Balance",width:"150px",cell:e=>{const t=e.dataItem.openingBalance||0,n=t<0;return(0,pi.jsx)("td",{className:"k-text-right",children:(0,pi.jsx)("span",{className:n?"k-text-error":"k-text-success",children:Math.abs(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})})})}}],c=n=>{console.log("onExpandChange called for:",n.dataItem.accountName);const o=[...e],r=e=>e.map((e=>e.id===n.dataItem.id?(console.log("Found item to toggle:",e.accountName,"from",e.expanded,"to",!e.expanded),p(p({},e),{},{expanded:!e.expanded})):e.items&&e.items.length>0?p(p({},e),{},{items:r(e.items)}):e)),i=r(o);console.log("Setting new data:",i),t(i)};(()=>{const t=e=>{let n=[];return e.forEach((e=>{n.push(e),e.items&&e.items.length>0&&(n=n.concat(t(e.items)))})),n},n=t(e),o={};n.forEach((e=>{const t=e.accountType||"Unknown";o[t]||(o[t]=0),o[t]++}))})();return n?(0,pi.jsx)("div",{className:"k-d-flex k-flex-col k-gap-4",style:{padding:"24px",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:(0,pi.jsx)(RA,{className:"k-shadow-lg",style:{borderRadius:"12px",overflow:"hidden"},children:(0,pi.jsx)(LA,{children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading Chart of Accounts..."})]})})})}):i?(0,pi.jsx)("div",{className:"k-d-flex k-flex-col k-gap-4",style:{padding:"24px",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:(0,pi.jsx)(RA,{className:"k-shadow-lg",style:{borderRadius:"12px",overflow:"hidden"},children:(0,pi.jsx)(LA,{children:(0,pi.jsx)("div",{className:"k-d-flex k-justify-content-center k-align-items-center",style:{minHeight:"400px"},children:(0,pi.jsxs)(RA,{className:"k-state-empty k-text-center k-p-6",children:[(0,pi.jsx)("div",{className:"k-icon k-i-warning k-color-error k-font-size-xxl k-mb-4"}),(0,pi.jsx)("h3",{className:"k-text-muted",children:"Error Loading Data"}),(0,pi.jsx)("p",{className:"k-text-muted",children:i}),(0,pi.jsx)(xo,{onClick:()=>window.location.reload(),themeColor:"primary",className:"k-mt-3",children:"Retry"})]})})})})}):(0,pi.jsx)("div",{className:"k-d-flex k-flex-col k-gap-4",style:{padding:"24px",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:(0,pi.jsxs)(RA,{className:"k-shadow-lg",style:{borderRadius:"12px",overflow:"hidden"},children:[(0,pi.jsxs)(zA,{className:"k-hbox k-justify-content-between k-align-items-center",style:{borderRadius:"12px 12px 0 0"},children:[(0,pi.jsxs)("div",{children:[(0,pi.jsx)("h1",{className:"k-text-dark k-font-size-xl k-font-weight-bold k-m-0",children:"Chart of Accounts"}),(0,pi.jsx)("p",{className:"k-text-secondary k-font-size-sm k-m-0",children:"Financial account structure"})]}),(0,pi.jsx)("div",{className:"k-d-flex k-gap-2",children:(0,pi.jsxs)(xo,{onClick:()=>s("/chart-of-account/new"),themeColor:"primary",className:"k-button k-button-md k-rounded-md",children:[(0,pi.jsx)(ti,{})," Add New Chart of Account"]})})]}),(0,pi.jsx)(LA,{children:e&&e.length>0?(0,pi.jsxs)("div",{className:"k-d-flex k-flex-col k-gap-3",children:[(0,pi.jsx)("style",{children:"\n                  /* Hide KendoReact's default expand icons since we're using custom ones */\n                  .k-treelist .k-hierarchy-cell .k-icon {\n                    display: none;\n                  }\n\n                  /* Enhanced TreeList styling */\n                  .k-treelist {\n                    border-radius: 12px;\n                    box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                  }\n\n                  .k-treelist .k-table-thead {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                  }\n\n                  .k-treelist .k-table-thead .k-header {\n                    color: white;\n                    font-weight: 600;\n                  }\n\n                  /* Rounded corners for table header */\n                  .k-treelist .k-table-thead .k-header:first-child {\n                    border-top-left-radius: 12px;\n                  }\n\n                  .k-treelist .k-table-thead .k-header:last-child {\n                    border-top-right-radius: 12px;\n                  }\n\n                  .k-treelist .k-table-tbody .k-table-row:hover {\n                    background-color: #f8f9ff;\n                  }\n\n                  /* Loading indicator styles */\n                  .loading-indicator {\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    justify-content: center;\n                    height: 400px;\n                    gap: 12px;\n                    font-size: 14px;\n                  }\n\n                  .spinner {\n                    border: 3px solid #f3f3f3;\n                    border-top: 3px solid #3498db;\n                    border-radius: 50%;\n                    width: 32px;\n                    height: 32px;\n                    animation: spin 1s linear infinite;\n                  }\n\n                  @keyframes spin {\n                    0% { transform: rotate(0deg); }\n                    100% { transform: rotate(360deg); }\n                  }\n                "}),(0,pi.jsx)(TA,{data:e,columns:l,expandField:"expanded",subItemsField:"items",onExpandChange:c,style:{width:"100%"},idField:"id",className:"k-treelist-enhanced"})]}):(0,pi.jsxs)(RA,{className:"k-state-empty k-text-center k-p-6",children:[(0,pi.jsx)("div",{className:"k-icon k-i-warning k-color-warning k-font-size-xxl k-mb-4"}),(0,pi.jsx)("h3",{className:"k-text-muted",children:"No Data Available"}),(0,pi.jsx)("p",{className:"k-text-muted",children:"No chart of accounts data found."})]})})]})})},VA=()=>{const e=ge(),[t,n]=(0,o.useState)({results:[]}),[r,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(1),[h,f]=(0,o.useState)(""),[m,g]=(0,o.useState)("All"),[v,y]=(0,o.useState)({show:!1,message:"",type:"success"}),[x,b]=(0,o.useState)({skip:0,take:10,sort:[{field:"name",dir:"asc"}]}),w=(0,o.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{i(!0),s(null);const o=yi("/location?PageNumber=".concat(e,"&PageSize=").concat(t)),r=await fetch(o);if(!r.ok)throw new Error("Failed to fetch locations: ".concat(r.status));const a=await r.json();Array.isArray(a)?(n({results:a}),c(a.length)):a.results&&Array.isArray(a.results)?(n(a),c(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),c(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),c(0)),u(e)}catch(o){s(o.message),n({results:[]}),c(0)}finally{i(!1)}}),[]);(0,o.useEffect)((()=>{w()}),[w]);const k=function(e){y({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{y({show:!1,message:"",type:"success"})}),3e3)},C=(0,o.useCallback)((()=>null!==t&&void 0!==t&&t.results?t.results:[]),[t]),S=(0,o.useCallback)((()=>{if(null===t||void 0===t||!t.results)return[];let e=[...t.results];return h&&(e=e.filter((e=>Object.values(e).join(" ").toLowerCase().includes(h.toLowerCase())))),"All"!==m&&(e=e.filter((e=>"Active"===m?!e.inactive:e.inactive))),e}),[t,h,m]),I=()=>{const e=Math.floor(x.skip/x.take)+1,t=x.take;w(e,t),k("Locations refreshed successfully","success")};return r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"location-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading locations..."})]})})}):a?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"location-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading locations: ",a]}),(0,pi.jsxs)(xo,{onClick:I,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"location-list-container",children:[(0,pi.jsx)(uy,{children:v.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:v.type,icon:!0},closable:!0,onClose:()=>y({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:v.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Location Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/location/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Location"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search locations...",value:h,onChange:e=>f(e.target.value)})]}),(0,pi.jsxs)("div",{className:"filter-bar",children:[(0,pi.jsx)($r,{className:"filter-icon"}),(0,pi.jsx)(Ah,{data:["All","Active","Inactive"],value:m,onChange:e=>g(e.target.value),style:{width:"100%"}})]}),(0,pi.jsx)(xo,{onClick:I,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===S().length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No locations match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:S(),pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},x),{},{onDataStateChange:e=>{const t=e.dataState;b(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===d&&o===x.take||w(n,o)},total:l,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=C().findIndex((t=>t===e.dataItem)),n=x.take||10,o=((d||1)-1)*n+t+1;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,pi.jsx)(Uy,{field:"name",title:"Location Name",width:"250px"}),(0,pi.jsx)(Uy,{field:"address",title:"Address",width:"250px"}),(0,pi.jsx)(Uy,{field:"inactive",title:"Status",width:"150px",cell:e=>{const t=!e.dataItem.inactive,n=t?"Active":"Inactive",o=t?"status-active":"status-inactive";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,pi.jsx)("span",{className:"status-badge ".concat(o),children:n})}))}}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{var t;(t=n.id)?e("/location/view/".concat(t)):k("Cannot view location: ID is undefined","error")},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{var t;(t=n.id)?e("/location/edit/".concat(t)):k("Cannot edit location: ID is undefined","error")},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid location data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No locations found. Click the "Add New Location" button above to create your first location.'})}),(0,pi.jsx)("style",{children:'\n          .location-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n          }\n\n          .status-active {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-inactive {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n            padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n            border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          @media (max-width: 768px) {\n            .location-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-item {\n              width: 100%;\n            }\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n        '})]})})},HA=()=>{const e=ge(),[t,n]=(0,o.useState)({results:[]}),[r,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(1),[h,f]=(0,o.useState)(""),[m,g]=(0,o.useState)("All"),[v,y]=(0,o.useState)({show:!1,message:"",type:"success"}),x={"ef765a67-402b-48ee-b898-8eaa45affb64":"Inventory Item","d89fbe6f-7421-4b41-becf-d94d2bcb6757":"Service Item"},[b,w]=(0,o.useState)({skip:0,take:10,sort:[{field:"itemCode",dir:"asc"}]}),k=(0,o.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{i(!0),s(null);const o=yi("/product?PageNumber=".concat(e,"&PageSize=").concat(t)),r=await fetch(o);if(!r.ok)throw new Error("Failed to fetch products: ".concat(r.status));const a=await r.json();Array.isArray(a)?(n({results:a}),c(a.length)):a.results&&Array.isArray(a.results)?(n(a),c(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),c(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),c(0)),u(e)}catch(o){s(o.message),n({results:[]}),c(0)}finally{i(!1)}}),[]);(0,o.useEffect)((()=>{k()}),[k]);const C=(0,o.useCallback)((()=>null!==t&&void 0!==t&&t.results?t.results:[]),[t]),S=(0,o.useCallback)((()=>{if(null===t||void 0===t||!t.results)return[];let e=[...t.results];return h&&(e=e.filter((e=>Object.values(e).join(" ").toLowerCase().includes(h.toLowerCase())))),"All"!==m&&(console.log("filteredData",e),e=e.filter((e=>(x[e.itemType]||"Unknown")===m))),e}),[t,h,m]),I=()=>{const e=Math.floor(b.skip/b.take)+1,t=b.take;k(e,t),function(e){y({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{y({show:!1,message:"",type:"success"})}),3e3)}("Products refreshed successfully","success")};return r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"product-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading products..."})]})})}):a?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"product-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading products: ",a]}),(0,pi.jsxs)(xo,{onClick:I,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsxs)("div",{className:"k-p-4",children:[(0,pi.jsxs)("div",{className:"product-list-container",children:[(0,pi.jsx)(uy,{children:v.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:v.type,icon:!0},closable:!0,onClose:()=>y({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:v.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Product Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/product/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Product"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search products...",value:h,onChange:e=>f(e.target.value)})]}),(0,pi.jsxs)("div",{className:"filter-bar",children:[(0,pi.jsx)($r,{className:"filter-icon"}),(0,pi.jsx)(Ah,{data:["All","Service Item","Inventory Item"],value:m,onChange:e=>g(e.target.value),style:{width:"100%"}})]}),(0,pi.jsx)(xo,{onClick:I,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===S().length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No products match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:S(),pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},b),{},{onDataStateChange:e=>{const t=e.dataState;w(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===d&&o===b.take||k(n,o)},total:l,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=C().findIndex((t=>t===e.dataItem)),n=b.take||10,o=((d||1)-1)*n+t+1;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,pi.jsx)(Uy,{field:"itemCode",title:"Item Code",width:"250px"}),(0,pi.jsx)(Uy,{field:"itemName",title:"Item Name",width:"250px"}),(0,pi.jsx)(Uy,{field:"itemType",title:"Item Type",width:"150px",cell:e=>{const t=e.dataItem.itemType,n=x[t]||"Unknown",o="Service Item"===n?"itemtype-service":"itemtype-inventory";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,pi.jsx)("span",{className:"itemtype-badge ".concat(o),children:n})}))}}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/product/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/product/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid product data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No products found. Click the "Add New Product" button above to create your first product.'})})]}),(0,pi.jsx)("style",{children:'\n        .product-list-container {\n          background: white;\n          border-radius: 4px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          padding: 16px;\n          margin: 16px;\n        }\n\n        .list-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 16px;\n          padding-bottom: 8px;\n          border-bottom: 1px solid #e2e8f0;\n        }\n\n        .list-header h2 {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.25rem;\n          font-weight: 600;\n        }\n\n        .filter-section {\n          display: flex;\n          gap: 12px;\n          margin-bottom: 16px;\n          align-items: center;\n        }\n\n        .search-bar {\n          flex: 1;\n          position: relative;\n          max-width: 400px;\n        }\n\n        .search-icon {\n          position: absolute;\n          left: 8px;\n          top: 50%;\n          transform: translateY(-50%);\n          color: #718096;\n          font-size: 13px;\n        }\n\n        .search-bar .k-input {\n          padding-left: 28px;\n          font-size: 13px;\n          height: 32px;\n        }\n\n        .filter-bar {\n          position: relative;\n          width: 150px;\n        }\n\n        .filter-icon {\n          position: absolute;\n          left: 8px;\n          top: 50%;\n          transform: translateY(-50%);\n          color: #718096;\n          font-size: 13px;\n          z-index: 1;\n        }\n\n        .filter-bar .k-dropdown {\n          width: 100%;\n        }\n\n        .filter-bar .k-input-inner {\n          padding-left: 28px;\n          font-size: 13px;\n          height: 32px;\n        }\n\n        .no-data-message {\n          text-align: center;\n          padding: 40px 20px;\n          color: #718096;\n          font-size: 14px;\n        }\n\n        .k-grid {\n          border-radius: 4px;\n          border: 1px solid #E2E8F0;\n        }\n\n        .k-grid-header {\n          background-color: #F7FAFC;\n        }\n\n        .k-grid-header th {\n          font-weight: 600;\n          color: #4A5568;\n          text-transform: uppercase;\n          font-size: 12px;\n          letter-spacing: 0.05em;\n          padding: 8px;\n        }\n\n        .k-grid td {\n          border-color: #E2E8F0;\n          padding: 8px;\n          font-size: 13px;\n        }\n\n        .k-command-cell {\n          padding: 4px !important;\n          text-align: center !important;\n        }\n\n        .k-grid-header th[data-title="Actions"] {\n          text-align: center !important;\n          padding: 4px !important;\n        }\n\n        .k-button {\n          display: inline-flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 12px;\n          font-weight: 500;\n          height: 28px;\n          padding: 0 12px;\n          border-radius: 3px;\n          border: 1px solid transparent;\n          text-decoration: none;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .action-buttons {\n          display: flex;\n          gap: 4px;\n          justify-content: center;\n        }\n\n        .action-buttons .k-button {\n          min-width: 50px;\n          font-size: 11px;\n          height: 24px;\n          padding: 0 8px;\n        }\n\n        .itemtype-badge {\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n          padding: 4px 12px;\n          border-radius: 12px;\n          font-size: 12px;\n          font-weight: 500;\n          min-width: 100px;\n        }\n\n        .itemtype-service {\n          background-color: #DBEAFE;\n          color: #1E40AF;\n        }\n\n        .itemtype-inventory {\n          background-color: #D1FAE5;\n          color: #059669;\n        }\n\n        /* Additional grid alignment fixes */\n        .product-grid .k-table {\n          table-layout: fixed;\n          width: 100%;\n        }\n\n        .product-grid .k-table-thead .k-table-th {\n          padding: 12px 8px;\n          border-right: 1px solid #e2e8f0;\n          vertical-align: middle;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .product-grid .k-table-tbody .k-table-td {\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        /* Ensure item name column can wrap if needed */\n        .product-grid .k-table-tbody .k-table-td:nth-child(3) {\n          white-space: normal;\n          word-wrap: break-word;\n        }\n\n        .notification-container {\n          position: fixed;\n          right: 12px;\n          top: 12px;\n          z-index: 9999;\n          min-width: 280px;\n        }\n\n        .k-notification {\n          font-size: 13px;\n          padding: 8px 12px;\n        }\n\n        .loading-indicator {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 200px;\n          gap: 12px;\n          font-size: 14px;\n        }\n\n        .spinner {\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid #3498db;\n          border-radius: 50%;\n          width: 32px;\n          height: 32px;\n          animation: spin 1s linear infinite;\n        }\n\n        .error-container {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 200px;\n          gap: 16px;\n        }\n\n        .error-message {\n          text-align: center;\n          color: #e53e3e;\n          font-size: 14px;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        @media (max-width: 768px) {\n          .product-list-container {\n            margin: 12px;\n            padding: 12px;\n          }\n\n          .list-header {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 12px;\n          }\n\n          .filter-section {\n            padding: 8px;\n          }\n\n          .filter-bar {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 8px;\n          }\n\n          .filter-item {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 4px;\n          }\n\n          .action-buttons {\n            flex-direction: column;\n            gap: 2px;\n          }\n\n          .action-buttons .k-button {\n            font-size: 10px;\n            padding: 2px 6px;\n          }\n        }\n      '})]})},qA=()=>{const e=ge(),[t,n]=(0,o.useState)({results:[]}),[r,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(1),[h,f]=(0,o.useState)(""),[m,g]=(0,o.useState)({show:!1,message:"",type:"success"}),[v,y]=(0,o.useState)({skip:0,take:10,sort:[{field:"name",dir:"asc"}]}),x=(0,o.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{i(!0),s(null);const o=yi("/tax?PageNumber=".concat(e,"&PageSize=").concat(t)),r=await fetch(o);if(!r.ok)throw new Error("Failed to fetch taxes: ".concat(r.status));const a=await r.json();Array.isArray(a)?(n({results:a}),c(a.length)):a.results&&Array.isArray(a.results)?(n(a),c(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),c(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),c(0)),u(e)}catch(o){s(o.message),n({results:[]}),c(0)}finally{i(!1)}}),[]);(0,o.useEffect)((()=>{x()}),[x]);const b=(0,o.useCallback)((()=>null!==t&&void 0!==t&&t.results?t.results:[]),[t]),w=(0,o.useCallback)((()=>{if(null===t||void 0===t||!t.results)return[];let e=[...t.results];return h&&(e=e.filter((e=>Object.values(e).join(" ").toLowerCase().includes(h.toLowerCase())))),e}),[t,h]),k=()=>{const e=Math.floor(v.skip/v.take)+1,t=v.take;x(e,t),function(e){g({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{g({show:!1,message:"",type:"success"})}),3e3)}("Taxes refreshed successfully","success")};return r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"tax-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading taxes..."})]})})}):a?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"tax-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading taxes: ",a]}),(0,pi.jsxs)(xo,{onClick:k,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"tax-list-container",children:[(0,pi.jsx)(uy,{children:m.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:m.type,icon:!0},closable:!0,onClose:()=>g({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:m.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Tax Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/tax/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Tax"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search taxes...",value:h,onChange:e=>f(e.target.value)})]}),(0,pi.jsx)(xo,{onClick:k,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===w().length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No taxes match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:w(),pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},v),{},{onDataStateChange:e=>{const t=e.dataState;y(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===d&&o===v.take||x(n,o)},total:l,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=b().findIndex((t=>t===e.dataItem)),n=v.take||10,o=((d||1)-1)*n+t+1;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,pi.jsx)(Uy,{field:"name",title:"Tax Name",width:"300px"}),(0,pi.jsx)(Uy,{field:"taxRate",title:"Tax Rate",width:"150px",cell:e=>{return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(t=e.dataItem[e.field],"".concat(Number(t||0).toFixed(2),"%"))}));var t}}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/tax/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/tax/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid tax data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No taxes found. Click the "Add New Tax" button above to create your first tax.'})}),(0,pi.jsx)("style",{children:'\n          .tax-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 16px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n            padding-bottom: 8px;\n            border-bottom: 1px solid #e2e8f0;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 4px;\n            font-size: 12px;\n            font-weight: 500;\n            height: 28px;\n            padding: 0 12px;\n            border-radius: 3px;\n            border: 1px solid transparent;\n            text-decoration: none;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            min-width: 50px;\n            font-size: 11px;\n            height: 24px;\n            padding: 0 8px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n            border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 200px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          .error-container {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 200px;\n            gap: 16px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          @media (max-width: 768px) {\n            .tax-list-container {\n              margin: 12px;\n              padding: 12px;\n            }\n\n            .list-header {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n            }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .action-buttons {\n              flex-direction: column;\n              gap: 2px;\n            }\n\n            .action-buttons .k-button {\n              font-size: 10px;\n              padding: 2px 6px;\n            }\n          }\n        '})]})})},UA=()=>{const e=ge(),[t,n]=(0,o.useState)({results:[]}),[r,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(""),[d,u]=(0,o.useState)("all"),[h,f]=(0,o.useState)({show:!1,message:"",type:"success"}),[m,g]=(0,o.useState)({skip:0,take:10,sort:[{field:"formName",dir:"asc"}]}),[v,y]=(0,o.useState)(0),[x,b]=(0,o.useState)(1),w=(0,o.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{i(!0),s(null);const o=yi("/form?PageNumber=".concat(e,"&PageSize=").concat(t)),r=await fetch(o);if(!r.ok)throw new Error("Failed to fetch forms: ".concat(r.status));const a=await r.json();Array.isArray(a)?(n({results:a}),y(a.length)):a.results&&Array.isArray(a.results)?(n(a),y(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),y(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),y(0)),b(e)}catch(o){s(o.message),n({results:[]}),y(0)}finally{i(!1)}}),[]);(0,o.useEffect)((()=>{w()}),[w]);const k=(0,o.useCallback)((()=>null!==t&&void 0!==t&&t.results?t.results:[]),[t]),C=(0,o.useCallback)((()=>{if(null===t||void 0===t||!t.results)return[];let e=[...t.results];return l&&(e=e.filter((e=>Object.values(e).join(" ").toLowerCase().includes(l.toLowerCase())))),"all"!==d&&(e=e.filter((e=>"active"===d?!e.inactive:"inactive"!==d||e.inactive))),e}),[t,l,d]),S=()=>{const e=Math.floor(m.skip/m.take)+1,t=m.take;w(e,t),function(e){f({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{f({show:!1,message:"",type:"success"})}),3e3)}("Forms refreshed successfully","success")};return r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"form-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading forms..."})]})})}):a?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"form-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading forms: ",a]}),(0,pi.jsxs)(xo,{onClick:S,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{children:(0,pi.jsxs)("div",{className:"form-list-container",children:[(0,pi.jsx)(uy,{children:h.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:h.type,icon:!0},closable:!0,onClose:()=>f({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:h.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Form Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/forms/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Form"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search forms...",value:l,onChange:e=>c(e.target.value)})]}),(0,pi.jsxs)("div",{className:"filter-bar",children:[(0,pi.jsx)($r,{className:"filter-icon"}),(0,pi.jsx)(Ah,{data:["All","Active","Inactive"],value:"all"===d?"All":"active"===d?"Active":"Inactive",onChange:e=>u(e.target.value.toLowerCase()),style:{width:"100%"}})]}),(0,pi.jsx)(xo,{onClick:S,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===C().length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No forms match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:C(),pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},m),{},{onDataStateChange:e=>{const t=e.dataState;g(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===x&&o===m.take||w(n,o)},total:v,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=k().findIndex((t=>t===e.dataItem)),n=m.take||10,o=((x||1)-1)*n+t+1;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,pi.jsx)(Uy,{field:"formName",title:"Form Name",width:"250px"}),(0,pi.jsx)(Uy,{field:"typeOfRecordName",title:"Record Type",width:"200px"}),(0,pi.jsx)(Uy,{field:"prefix",title:"Prefix",width:"150px"}),(0,pi.jsx)(Uy,{field:"inactive",title:"Status",width:"120px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:(0,pi.jsx)("span",{className:"status-badge ".concat(e.dataItem.inactive?"inactive":"active"),children:e.dataItem.inactive?"Inactive":"Active"})}))}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/forms/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/forms/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid form data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No forms found. Click the "Add New Form" button above to create your first form.'})}),(0,pi.jsx)("style",{children:'\n        .form-list-container {\n          background: white;\n          border-radius: 4px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          padding: 16px;\n          margin: 12px;\n        }\n\n        .list-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 16px;\n        }\n\n        .k-dropdown-wrap {\n          background: transparent;\n          border: 1px solid #e2e8f0;\n          border-radius: 4px;\n        }\n\n        .k-dropdown-wrap .k-input {\n          background: transparent;\n          padding-left: 28px;\n        }\n\n        .list-header h2 {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.25rem;\n          font-weight: 600;\n        }\n\n        .filter-section {\n          display: flex;\n          gap: 12px;\n          margin-bottom: 16px;\n          align-items: center;\n        }\n\n        .search-bar {\n          flex: 1;\n          position: relative;\n          max-width: 400px;\n        }\n\n        .search-icon {\n          position: absolute;\n          left: 8px;\n          top: 50%;\n          transform: translateY(-50%);\n          color: #718096;\n          font-size: 13px;\n        }\n\n        .search-bar .k-input {\n          padding-left: 28px;\n          font-size: 13px;\n          height: 32px;\n        }\n\n        .filter-bar {\n          position: relative;\n          width: 150px;\n        }\n\n        .filter-icon {\n          position: absolute;\n          left: 8px;\n          top: 50%;\n          transform: translateY(-50%);\n          color: #718096;\n          font-size: 13px;\n          z-index: 1;\n        }\n\n        .filter-bar .k-dropdown {\n          width: 100%;\n        }\n\n        .filter-bar .k-input-inner {\n          padding-left: 28px;\n          font-size: 13px;\n          height: 32px;\n        }\n\n        .k-grid {\n          border-radius: 4px;\n          border: 1px solid #E2E8F0;\n        }\n\n        .k-grid-header {\n          background-color: #F7FAFC;\n        }\n\n        .k-grid-header th {\n          font-weight: 600;\n          color: #4A5568;\n          text-transform: uppercase;\n          font-size: 12px;\n          letter-spacing: 0.05em;\n          padding: 8px;\n        }\n\n        .k-grid td {\n          border-color: #E2E8F0;\n          padding: 8px;\n          font-size: 13px;\n        }\n\n        .k-command-cell {\n          padding: 4px !important;\n          text-align: center !important;\n        }\n\n        .k-grid-header th[data-title="Actions"] {\n          text-align: center !important;\n          padding: 4px !important;\n        }\n\n        .k-button {\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 12px;\n          font-size: 13px;\n          font-weight: 500;\n          height: 32px;\n        }\n\n        .k-button svg {\n          font-size: 13px;\n        }\n\n        .k-command-cell .k-button {\n          padding: 4px 8px;\n          height: 24px;\n          min-width: 60px;\n          font-size: 12px;\n        }\n\n        .notification-container {\n          position: fixed;\n          right: 12px;\n          top: 12px;\n          z-index: 9999;\n          min-width: 280px;\n        }\n\n        .k-notification {\n          font-size: 13px;\n          padding: 8px 12px;\n        }\n\n        .loading-indicator {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 150px;\n          gap: 12px;\n          font-size: 14px;\n        }\n\n        .spinner {\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid #3498db;\n          border-radius: 50%;\n          width: 32px;\n          height: 32px;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .error-container {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          height: 150px;\n        }\n\n        .error-message {\n          text-align: center;\n          color: #e53e3e;\n          font-size: 14px;\n        }\n\n        .error-message button {\n          margin-top: 12px;\n        }\n\n        .no-data-message {\n          text-align: center;\n          padding: 40px 20px;\n          color: #718096;\n          font-size: 14px;\n          background-color: #f7fafc;\n          border-radius: 4px;\n          border: 1px solid #e2e8f0;\n        }\n\n        .no-data-message p {\n          margin: 0;\n        }\n\n        .action-buttons {\n          display: flex;\n          gap: 4px;\n          justify-content: center;\n        }\n\n        .action-buttons .k-button {\n          padding: 2px 6px;\n          height: 22px;\n          min-width: 50px;\n          font-size: 11px;\n          line-height: 1;\n        }\n\n        @media (max-width: 768px) {\n          .form-list-container {\n            margin: 8px;\n            padding: 12px;\n          }\n\n          .filter-section {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 8px;\n          }\n\n          .search-bar {\n            max-width: none;\n          }\n\n          .filter-bar {\n            width: 100%;\n          }\n        }\n\n        .k-grid-header th[data-title="No"] {\n          text-align: center;\n        }\n      '})]})})},GA=["validationMessage","visited","touched","value"],WA=["validationMessage","visited","touched","data","value","onChange"],KA=o.createContext({}),YA="formDataIndex",XA="id",QA=e=>e?"":"This field is required",JA=e=>{let{mode:t="new"}=e;const n=ge(),{id:r}=ve(),[i,a]=(0,o.useState)({show:!1,message:"",type:"success"}),[l,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!0),[h,f]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!1),[v,y]=(0,o.useState)({formName:"",recordType:"",prefix:"",accountReceivable:"",undepositedFunds:"",clearingGRNI:"",clearingSRNI:"",clearingVAT:"",accountPayable:"",formType:"",clearing:"",accuredTax:"",accuredAR:"",discountOnTax:"",inactive:!1,isDefault:!1,customFields:[],reasons:[]}),x=()=>{const e=v.customFields&&v.customFields.length>0?v.customFields.filter((e=>{var t,n;return!(null!==(t=e.fieldLabel)&&void 0!==t&&t.trim())||!(null!==(n=e.fieldName)&&void 0!==n&&n.trim())||!e.fieldType||!e.displayOrder||e.displayOrder<1})):[],t=v.reasons&&v.reasons.length>0?v.reasons.filter((e=>{var t;return!(null!==(t=e.reason)&&void 0!==t&&t.trim())||!e.accountId})):[];return e.length>0||t.length>0};(0,o.useEffect)((()=>{const e=e=>{if(x())return e.preventDefault(),e.returnValue="You have incomplete fields that will be lost.","You have incomplete fields that will be lost."};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[v]);const[b,w]=(0,o.useState)([]),[k,C]=(0,o.useState)([]),{data:S,loading:I}=wy(),{data:E,loading:_}=yy("form-source-type");(0,o.useEffect)((()=>{(async()=>{try{u(!0);const[e,t]=await Promise.all([fetch(yi(vi.endpoints.recordType)),fetch(yi("/type-of-field"))]);if(!e.ok)throw new Error("Failed to fetch record types");if(!t.ok)throw new Error("Failed to fetch field types");const n=await e.json(),o=await t.json(),r=Array.isArray(n)?n:n.results||[],i=Array.isArray(o)?o:o.results||[],a=r.map((e=>({text:e.name,value:e.id}))),s=i.map((e=>({text:e.componentName,value:e.id})));C(a),w(s)}catch(e){alert("Failed to load form data from API"),C([]),w([])}})()}),[]),(0,o.useEffect)((()=>{(async()=>{if("new"!==t&&r)try{u(!0);const t=await fetch(yi("".concat(vi.endpoints.forms,"/").concat(r)),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok){const e=await t.text();throw new Error("Failed to fetch form: ".concat(t.status," ").concat(t.statusText," - ").concat(e))}const n=await t.json(),o=await fetch(yi(vi.endpoints.customFormFieldByForm(r)),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});let i=[];if(o.ok)try{const e=await o.json();i=Array.isArray(e)?e:e.results&&Array.isArray(e.results)?e.results:[],i.sort(((e,t)=>(e.displayOrder||0)-(t.displayOrder||0)))}catch(e){i=[]}else i=[];const a={formName:n.formName||"",recordType:n.typeOfRecord||"",prefix:n.prefix||"",accountReceivable:n.accountReceivable||"",undepositedFunds:n.undepositedFunds||"",clearingGRNI:n.clearingGRNI||"",clearingSRNI:n.clearingSRNI||"",clearingVAT:n.clearingVAT||"",accountPayable:n.accountPayable||"",formType:n.formType||"",clearing:n.clearing||"",accuredTax:n.accuredTax||"",accuredAR:n.accuredAR||"",discountOnTax:n.discountOnTax||"",inactive:n.inactive||!1,isDefault:n.isDefault||!1,customFields:i.map(((e,t)=>({id:e.id||t+1,fieldName:e.fieldName||"",fieldLabel:e.fieldLabel||"",fieldType:e.fieldType||"Input",isRequired:e.isRequired||!1,isDisabled:e.isDisabled||!1,source:e.fieldSource||"",displayOrder:e.displayOrder||t+1,formDataIndex:t}))),reasons:n.reasons?JSON.parse(n.reasons):[]};y(a),f(!0)}catch(n){j(n.message,"error")}finally{u(!1)}else f(!0),u(!1)})()}),[t,r]);const j=function(e){a({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{a({show:!1,message:"",type:"success"})}),4e3)},A=e=>{const t={};return Object.keys(e).forEach((n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)})),t},D=async()=>{if(!r)return void j("No form ID available for deletion","error");if(window.confirm("Are you sure you want to delete this form? This action cannot be undone and will remove all associated custom fields and form sequences."))try{c(!0);try{const e=await fetch(yi("/custom-form-field/by-form/".concat(r)),{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();if(Array.isArray(t)&&t.length>0){const e=t.map((e=>fetch(yi("".concat(vi.endpoints.customFormField,"/").concat(e.id)),{method:"DELETE",headers:{"Content-Type":"application/json"}}))),n=(await Promise.all(e)).filter((e=>!e.ok));n.length>0&&console.warn("Failed to delete ".concat(n.length," custom fields"))}}}catch(e){console.warn("Error deleting custom fields:",e)}try{const e=await fetch(yi("/form-sequence/by-form/".concat(r)),{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();if(Array.isArray(t)&&t.length>0){const e=t.map((e=>fetch(yi("".concat(vi.endpoints.formSequence,"/").concat(e.id)),{method:"DELETE",headers:{"Content-Type":"application/json"}}))),n=(await Promise.all(e)).filter((e=>!e.ok));n.length>0&&console.warn("Failed to delete ".concat(n.length," form sequences"))}}}catch(t){console.warn("Error deleting form sequences:",t)}const o=await fetch(yi("".concat(vi.endpoints.forms,"/").concat(r)),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!o.ok){const e=await o.text();throw new Error("Failed to delete form: ".concat(o.status," - ").concat(e))}j("Form deleted successfully","success"),n("/forms")}catch(o){j(o.message||"Failed to delete form","error")}finally{c(!1)}},N=e=>{const{validationMessage:n,visited:o,touched:r,value:i}=e,a=s(e,GA),l=n&&(r||i&&i.length>0);return(0,pi.jsxs)("div",{children:[(0,pi.jsx)(qc,p(p({},a),{},{value:i||"",className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===t})),l&&(0,pi.jsx)("div",{className:"k-form-error",children:n})]})},T=e=>{const{validationMessage:n,visited:o,touched:r,data:i,value:a,onChange:l}=e,c=s(e,WA),d=n&&(r||a&&""!==a&&null!==a),u=i||[],h=u.length>0,f=a?u.find((e=>e.value===a)):null;return(0,pi.jsxs)("div",{children:[(0,pi.jsx)(Ah,p(p({},c),{},{data:u,textField:"text",valueField:"value",defaultItem:{text:h?"-- Select Record Type --":"No data available",value:""},value:f,onChange:e=>{var t;const n=(null===(t=e.target.value)||void 0===t?void 0:t.value)||e.target.value;l({target:{value:n}})},className:d?"k-state-invalid":"",style:{width:"100%"},disabled:!h||"view"===t})),d&&(0,pi.jsx)("div",{className:"k-form-error",children:n})]})},P=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateField:r}=o.useContext(KA);return n===t[YA]?(0,pi.jsx)("td",{style:{padding:"4px"},children:(0,pi.jsx)(qc,{value:t.fieldLabel||"",onChange:e=>r(t[YA],"fieldLabel",e.target.value),style:{width:"100%",height:"32px"},placeholder:"Enter field label *"})}):(0,pi.jsx)("td",{style:{padding:"8px"},children:t.fieldLabel||"Enter field label *"})},M=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateField:r}=o.useContext(KA);return n===t[YA]?(0,pi.jsx)("td",{style:{padding:"4px"},children:(0,pi.jsx)(qc,{value:t.fieldName||"",onChange:e=>r(t[YA],"fieldName",e.target.value),style:{width:"100%",height:"32px"},placeholder:"Enter field name *"})}):(0,pi.jsx)("td",{style:{padding:"8px"},children:t.fieldName||"Enter field name *"})},O=e=>{var t;const{dataItem:n}=e,{editIndex:r,onUpdateField:i}=o.useContext(KA);if(r===n[YA]){const e=b.length>0;return(0,pi.jsx)("td",{style:{padding:"4px"},children:(0,pi.jsx)("div",{style:{position:"relative",width:"100%"},children:(0,pi.jsx)(Ah,{value:e?b.find((e=>e.value===n.fieldType)):null,onChange:e=>{var t;return i(n[YA],"fieldType",(null===(t=e.target.value)||void 0===t?void 0:t.value)||"")},data:b,textField:"text",valueField:"value",defaultItem:{text:e?"Select type *":"No field types available",value:""},style:{width:"100%",minWidth:"150px",zIndex:1},popupSettings:{appendTo:document.body,popupClass:"field-type-dropdown-popup",position:"bottom-start"},disabled:!e,className:"field-type-dropdown"})})})}return(0,pi.jsx)("td",{style:{padding:"8px"},children:(0,pi.jsx)("span",{className:"field-type-display",children:(null===(t=b.find((e=>e.value===n.fieldType)))||void 0===t?void 0:t.text)||"Select type *"})})},R=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateField:r}=o.useContext(KA);return n===t[YA]?(0,pi.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:(0,pi.jsx)("input",{type:"checkbox",checked:t.isRequired||!1,onChange:e=>r(t[YA],"isRequired",e.target.checked),style:{width:"20px",height:"20px"}})}):(0,pi.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:t.isRequired?"\u2713":""})},F=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateField:r}=o.useContext(KA);return n===t[YA]?(0,pi.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:(0,pi.jsx)("input",{type:"checkbox",checked:t.isDisabled||!1,onChange:e=>r(t[YA],"isDisabled",e.target.checked),style:{width:"20px",height:"20px"}})}):(0,pi.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:t.isDisabled?"\u2713":""})},L=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateField:r}=o.useContext(KA);return n===t[YA]?(0,pi.jsx)("td",{style:{padding:"4px"},children:(0,pi.jsx)(qc,{value:t.displayOrder||1,onChange:e=>r(t[YA],"displayOrder",parseInt(e.target.value)||1),type:"number",style:{width:"100%",height:"32px"}})}):(0,pi.jsx)("td",{style:{padding:"8px"},children:t.displayOrder||1})},z=e=>{var t;const{dataItem:n}=e,{editIndex:r,onUpdateField:i}=o.useContext(KA),a=r===n[YA],s=b.find((e=>e.value===n.fieldType)),l=((null===s||void 0===s||null===(t=s.text)||void 0===t?void 0:t.toLowerCase())||"").includes("dropdownlist");return a?(0,pi.jsx)("td",{style:{padding:"4px"},children:(0,pi.jsx)(qc,{value:n.source||"",onChange:e=>i(n[YA],"source",e.target.value),style:{width:"100%",height:"32px",backgroundColor:l?"#ffffff":"#f5f5f5"},placeholder:l?"/api/endpoint":"Not applicable",disabled:!l})}):(0,pi.jsx)("td",{style:{padding:"8px"},children:l?n.source||"Enter source":"-"})},B=e=>{const{dataItem:t}=e;return(0,pi.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:t[YA]+1})},V=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateReason:r}=o.useContext(KA);return n===t[YA]?(0,pi.jsx)("td",{style:{padding:"4px"},children:(0,pi.jsx)(qc,{value:t.reason||"",onChange:e=>r(t[YA],"reason",e.target.value),style:{width:"100%",height:"32px"},placeholder:"Enter reason *"})}):(0,pi.jsx)("td",{style:{padding:"8px"},children:t.reason||"Enter reason"})},H=e=>{const{dataItem:t}=e,{editIndex:n,onUpdateReason:r}=o.useContext(KA);if(n===t[YA]){const e=S&&S.length>0;console.log(S);const n=e?S.map((e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id}))):[];return(0,pi.jsx)("td",{style:{padding:"4px"},children:(0,pi.jsx)(Ah,{value:e?n.find((e=>e.value===t.accountId)):null,onChange:e=>{var n;return r(t[YA],"accountId",(null===(n=e.target.value)||void 0===n?void 0:n.value)||"")},data:n,textField:"text",valueField:"value",defaultItem:{text:e?"Select account *":"Loading accounts...",value:""},style:{width:"100%"},disabled:!e||I})})}const i=null===S||void 0===S?void 0:S.find((e=>e.id===t.accountId));return(0,pi.jsx)("td",{style:{padding:"8px"},children:i?"".concat(i.name," - ").concat(i.accountNumber):"Select account *"})},q=e=>{const{dataItem:n}=e,{editIndex:r,onEdit:i,onSave:a,onCancel:s,onRemove:l}=o.useContext(KA),c=r===n[YA],d=!n.id||0===n.id;return"view"===t?(0,pi.jsx)("td",{style:{padding:"4px",textAlign:"center"},children:"-"}):(0,pi.jsx)("td",{style:{padding:"2px",textAlign:"center",width:"90px"},children:(0,pi.jsx)("div",{className:"command-cell-container",children:c?(0,pi.jsxs)("div",{className:"button-stack",children:[(0,pi.jsx)(xo,{type:"button",onClick:()=>a(n),className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-success command-btn save-btn stacked-btn",title:d?"Add this reason":"Save changes",children:"Save"}),(0,pi.jsx)(xo,{type:"button",onClick:d?()=>l(n):s,className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base command-btn cancel-btn stacked-btn",title:d?"Remove this reason":"Cancel editing",children:"Cancel"})]}):(0,pi.jsxs)("div",{className:"button-stack",children:[(0,pi.jsx)(xo,{type:"button",onClick:()=>i(n),className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary command-btn edit-btn stacked-btn",title:"Edit this reason",children:"Edit"}),(0,pi.jsx)(xo,{type:"button",onClick:()=>l(n),className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-danger command-btn delete-btn stacked-btn",title:"Remove this reason",children:"Delete"})]})})})},U=e=>{const{dataItem:n}=e,{editIndex:r,onEdit:i,onSave:a,onCancel:s,onRemove:l}=o.useContext(KA),c=r===n[YA],d=!n.id||0===n.id;return"view"===t?(0,pi.jsx)("td",{style:{padding:"4px",textAlign:"center"},children:"-"}):(0,pi.jsx)("td",{style:{padding:"2px",textAlign:"center",width:"90px"},children:(0,pi.jsx)("div",{className:"command-cell-container",children:c?(0,pi.jsxs)("div",{className:"button-stack",children:[(0,pi.jsx)(xo,{type:"button",onClick:()=>a(n),className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-success command-btn save-btn stacked-btn",title:d?"Add this field":"Save changes",children:"Save"}),(0,pi.jsx)(xo,{type:"button",onClick:d?()=>l(n):s,className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base command-btn cancel-btn stacked-btn",title:d?"Remove this field":"Cancel editing",children:"Cancel"})]}):(0,pi.jsxs)("div",{className:"button-stack",children:[(0,pi.jsx)(xo,{type:"button",onClick:()=>i(n),className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary command-btn edit-btn stacked-btn",title:"Edit this field",children:"Edit"}),(0,pi.jsx)(xo,{type:"button",onClick:()=>l(n),className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-danger command-btn delete-btn stacked-btn",title:"Remove this field",children:"Delete"})]})})})},G=e=>{const{validationMessage:n,visited:r,name:i}=e,[a,s]=(0,o.useState)(void 0),l=(0,o.useRef)(void 0),c=(0,o.useCallback)(((t,n,o)=>{const r=e.value[t];e.onReplace({index:t,value:p(p({},r),{},{[n]:o})})}),[e]),d=(0,o.useCallback)((t=>{if(t.preventDefault(),void 0!==a)return;if(1===e.value.length){const t=e.value[0];if(!t.fieldLabel&&!t.fieldName)return void s(0)}e.value.length>0&&Math.max(...e.value.map((e=>parseInt(e.id)||0)));e.onUnshift({value:{id:0,fieldName:"",fieldLabel:"",fieldType:"Input",isRequired:!1,isDisabled:!1,displayOrder:e.value.length+1,source:""}}),s(0)}),[e,a]),u=(0,o.useCallback)((t=>{e.onRemove({index:t[YA]}),s(void 0),l.current=void 0}),[e]),h=(0,o.useCallback)((e=>{l.current=ki(e),s(e[YA])}),[]),f=(0,o.useCallback)((()=>{l.current&&e.onReplace({index:l.current[YA],value:l.current}),l.current=void 0,s(void 0)}),[e]),m=(0,o.useCallback)((t=>{const n=t[YA],o=e.value[n];if(!o.fieldLabel||!o.fieldLabel.trim())return void alert("Field Label is required and cannot be empty");if(!o.fieldName||!o.fieldName.trim())return void alert("Field Name is required and cannot be empty");if(!o.fieldType||""===o.fieldType)return void alert("Field Type selection is required");if(!o.displayOrder||o.displayOrder<1)return void alert("Display Order is required and must be a positive number");if(e.value.find(((e,t)=>t!==n&&e.fieldName===o.fieldName)))alert("Field name already exists. Please use a unique field name.");else{if(0===o.id){const t=e.value.length>0?Math.max(...e.value.map((e=>parseInt(e.id)||0)))+1:1;e.onReplace({index:n,value:p(p({},o),{},{id:t})})}s(void 0),l.current=void 0}}),[e]),g=e.value.map(((e,t)=>p(p({},e),{},{[YA]:t})));return(0,pi.jsxs)(KA.Provider,{value:{onCancel:f,onEdit:h,onRemove:u,onSave:m,onUpdateField:c,editIndex:a,parentField:i},children:[(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Add Custom Fields"})}),"view"!==t&&(0,pi.jsx)("div",{className:"add-field-container",children:(0,pi.jsxs)(xo,{onClick:d,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary add-field-btn",children:[(0,pi.jsx)(ti,{})," Add Field"]})}),r&&n&&(0,pi.jsx)("div",{className:"k-form-error custom-fields-error",children:n})]}),(0,pi.jsx)("div",{className:"custom-fields-grid-container",children:(0,pi.jsxs)(q_,{data:g,dataItemKey:XA,className:"custom-fields-grid",children:[(0,pi.jsx)(Uy,{field:"fieldLabel",title:"Field Label",width:"180px",cells:{data:P}}),(0,pi.jsx)(Uy,{field:"fieldName",title:"Field Name",width:"180px",cells:{data:M}}),(0,pi.jsx)(Uy,{field:"fieldType",title:"Field Type",width:"200px",cells:{data:O}}),(0,pi.jsx)(Uy,{field:"isRequired",title:"Required",width:"80px",cells:{data:R}}),(0,pi.jsx)(Uy,{field:"isDisabled",title:"Disabled",width:"80px",cells:{data:F}}),(0,pi.jsx)(Uy,{field:"displayOrder",title:"Order",width:"70px",cells:{data:L}}),(0,pi.jsx)(Uy,{field:"source",title:"Source",width:"180px",cells:{data:z}}),"view"!==t&&(0,pi.jsx)(Uy,{width:"90px",cells:{data:U}})]})})]})},W=e=>{const{validationMessage:n,visited:r,name:i}=e,[a,s]=(0,o.useState)(void 0),l=(0,o.useRef)(void 0),c=(0,o.useCallback)(((t,n,o)=>{const r=e.value[t];e.onReplace({index:t,value:p(p({},r),{},{[n]:o})})}),[e]),d=(0,o.useCallback)((t=>{if(t.preventDefault(),void 0!==a)return;if(1===e.value.length){const t=e.value[0];if(!t.reason&&!t.accountId)return void s(0)}e.value.length>0&&Math.max(...e.value.map((e=>parseInt(e.id)||0)));e.onUnshift({value:{id:0,reason:"",accountId:""}}),s(0)}),[e,a]),u=(0,o.useCallback)((t=>{e.onRemove({index:t[YA]}),s(void 0),l.current=void 0}),[e]),h=(0,o.useCallback)((e=>{l.current=ki(e),s(e[YA])}),[]),f=(0,o.useCallback)((()=>{l.current&&e.onReplace({index:l.current[YA],value:l.current}),l.current=void 0,s(void 0)}),[e]),m=(0,o.useCallback)((t=>{const n=t[YA],o=e.value[n];if(o.reason&&o.reason.trim())if(o.accountId&&""!==o.accountId){if(0===o.id){const t=e.value.length>0?Math.max(...e.value.map((e=>parseInt(e.id)||0)))+1:1;e.onReplace({index:n,value:p(p({},o),{},{id:t})})}s(void 0),l.current=void 0}else alert("Account selection is required");else alert("Reason is required and cannot be empty")}),[e]),g=e.value.map(((e,t)=>p(p({},e),{},{[YA]:t})));return(0,pi.jsxs)(KA.Provider,{value:{onCancel:f,onEdit:h,onRemove:u,onSave:m,onUpdateReason:c,editIndex:a,parentField:i},children:[(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Add Reasons"})}),"view"!==t&&(0,pi.jsx)("div",{className:"add-field-container",children:(0,pi.jsxs)(xo,{onClick:d,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary add-field-btn",children:[(0,pi.jsx)(ti,{})," Add Reason"]})}),r&&n&&(0,pi.jsx)("div",{className:"k-form-error custom-fields-error",children:n})]}),(0,pi.jsx)("div",{className:"custom-fields-grid-container",children:(0,pi.jsxs)(q_,{data:g,dataItemKey:XA,className:"custom-fields-grid",children:[(0,pi.jsx)(Uy,{field:"srNo",title:"Sr No",width:"80px",cells:{data:B}}),(0,pi.jsx)(Uy,{field:"reason",title:"Reason",width:"300px",cells:{data:V}}),(0,pi.jsx)(Uy,{field:"accountId",title:"Account",width:"300px",cells:{data:H}}),"view"!==t&&(0,pi.jsx)(Uy,{width:"90px",cells:{data:q}})]})})]})};return(0,pi.jsxs)("div",{className:"form-container",children:[(0,pi.jsx)(uy,{children:i.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:i.type,icon:!0},closable:!0,onClose:()=>a({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:i.message})})})}),(0,pi.jsx)("div",{className:"form-header",children:(0,pi.jsx)("h2",{children:"view"===t?"View Form":"edit"===t?"Edit Form":"Create New Form"})}),d||!h?(0,pi.jsx)("div",{className:"loading-container",children:(0,pi.jsx)("div",{className:"loading-spinner",children:"Loading form data..."})}):(0,pi.jsx)(ha,{initialValues:v,validator:e=>{const t={};return e.formName||(t.formName="Form Name is required"),e.recordType||(t.recordType="Record Type is required"),t},onSubmit:async e=>{try{if(c(!0),"new"===t)try{if(await(async(e,t)=>{try{console.log("Checking form name:",e,"for type:",t);const n=yi("/form/check-name-exists?formName=".concat(encodeURIComponent(e),"&typeOfRecord=").concat(t));console.log("API URL:",n);const o=await fetch(n);if(console.log("Response status:",o.status),!o.ok){const e=await o.text();throw console.error("API Error:",o.status,e),new Error("Failed to check form name existence: ".concat(o.status," - ").concat(e))}const r=await o.json();return console.log("Form name check result:",r),r}catch(n){throw console.error("Error checking form name:",n),n}})(e.formName,e.recordType))return void alert("Form Name already exists for this Type of Record");if(await(async(e,t)=>{try{console.log("Checking prefix:",e,"for type:",t);const n=yi("/form/check-prefix-exists?prefix=".concat(encodeURIComponent(e),"&typeOfRecord=").concat(t));console.log("API URL:",n);const o=await fetch(n);if(console.log("Response status:",o.status),!o.ok){const e=await o.text();throw console.error("API Error:",o.status,e),new Error("Failed to check prefix existence: ".concat(o.status," - ").concat(e))}const r=await o.json();return console.log("Prefix check result:",r),r}catch(n){throw console.error("Error checking prefix:",n),n}})(e.prefix,e.recordType))return void alert("Prefix already exists for this Type of Record")}catch(o){return console.error("Validation error:",o),void j("Error checking form name or prefix. Please try again.","error")}let i=e.isDefault;try{const n=await(async e=>{try{console.log("Checking for existing default form for type:",e);const t=yi("/form/default-form-id/".concat(e));console.log("API URL:",t);const n=await fetch(t);if(console.log("Response status:",n.status),!n.ok){if(404===n.status)return null;const e=await n.text();throw console.error("API Error:",n.status,e),new Error("Failed to check default form: ".concat(n.status," - ").concat(e))}const o=await n.text();return console.log("Default form ID result:",o),(o?o.replace(/^"|"$/g,"").trim():null)||null}catch(o){throw console.error("Error checking default form:",o),o}})(e.recordType);e.isDefault?n&&("edit"===t&&n===r?console.log("Current form is already the default, no change needed"):(await(async(e,t)=>{try{console.log("Updating form default status:",e,"to:",t);const n=yi("/form/".concat(e,"/is-default"));console.log("API URL:",n);const o=await fetch(n,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isDefault:t})});if(console.log("Response status:",o.status),!o.ok){const e=await o.text();throw console.error("API Error:",o.status,e),new Error("Failed to update default status: ".concat(o.status," - ").concat(e))}return console.log("Form default status updated successfully"),!0}catch(o){throw console.error("Error updating form default status:",o),o}})(n,!1),console.log("Previous default form updated to false"))):"edit"===t||n||(i=!0,console.log("No existing default form found, automatically setting this form as default"),j("This form has been automatically set as the default for this record type.","info"))}catch(o){return console.error("Error handling default form logic:",o),void j("Error updating default form status. Please try again.","error")}if("edit"===t){const t={formName:e.formName,typeOfRecord:e.recordType,prefix:e.prefix,accountReceivable:e.accountReceivable,undepositedFunds:e.undepositedFunds,clearingGRNI:e.clearingGRNI,clearingSRNI:e.clearingSRNI,clearingVAT:e.clearingVAT,accountPayable:e.accountPayable,formType:e.formType,clearing:e.clearing,accuredTax:e.accuredTax,accuredAR:e.accuredAR,discountOnTax:e.discountOnTax,inactive:e.inactive,isDefault:i,reasons:JSON.stringify(e.reasons||[])},o=A(t),a=await fetch(yi("".concat(vi.endpoints.forms,"/").concat(r)),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!a.ok){const e=await a.text();throw new Error("Failed to update form: ".concat(a.status," - ").concat(e))}if(e.customFields&&e.customFields.length>0){const t=await fetch(yi(vi.endpoints.customFormFieldByForm(r)),{method:"GET",headers:{"Content-Type":"application/json"}});let n=[];t.ok&&(n=await t.json(),Array.isArray(n)||(n=[]));const o=new Map;n.forEach((e=>{o.set(e.fieldName,e)}));const i=new Map;e.customFields.forEach((e=>{i.set(e.fieldName,e)}));const a=[],s=[],l=[];e.customFields.forEach((e=>{const t=o.get(e.fieldName);if(t){(t.fieldLabel!==e.fieldLabel||t.isRequired!==e.isRequired||t.isDisabled!==e.isDisabled||t.fieldType!==e.fieldType||t.fieldSource!==(e.source||"")||t.displayOrder!==e.displayOrder)&&a.push({existingField:t,newField:e})}else s.push(e)})),n.forEach((e=>{i.has(e.fieldName)||l.push(e)}));const c=a.map((e=>{let{existingField:t,newField:n}=e;const o={fieldName:n.fieldName,fieldLabel:n.fieldLabel,isRequired:n.isRequired,isDisabled:n.isDisabled,fieldType:n.fieldType,fieldSource:n.source||"",displayOrder:n.displayOrder,formId:r};return fetch(yi("".concat(vi.endpoints.customFormField,"/").concat(t.id)),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})})),d=s.map((e=>{const t={fieldName:e.fieldName,fieldLabel:e.fieldLabel,isRequired:e.isRequired,isDisabled:e.isDisabled,fieldType:e.fieldType,fieldSource:e.source||"",displayOrder:e.displayOrder,formId:r};return fetch(yi(vi.endpoints.customFormField),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})})),u=l.map((e=>fetch(yi("".concat(vi.endpoints.customFormField,"/").concat(e.id)),{method:"DELETE",headers:{"Content-Type":"application/json"}}))),p=[...c,...d,...u],h=await Promise.all(p),f=h.filter((e=>!e.ok));if(f.length>0)throw new Error("Some field operations failed. ".concat(f.length," out of ").concat(h.length," operations failed."));j("Form updated successfully. ".concat(a.length," fields updated, ").concat(s.length," fields created, ").concat(l.length," fields deleted."),"success")}else{const e=await fetch(yi(vi.endpoints.customFormFieldByForm(r)),{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();if(Array.isArray(t)&&t.length>0){const e=t.map((e=>fetch(yi("".concat(vi.endpoints.customFormField,"/").concat(e.id)),{method:"DELETE",headers:{"Content-Type":"application/json"}}))),n=(await Promise.all(e)).filter((e=>!e.ok));if(n.length>0)throw new Error("Failed to delete ".concat(n.length," existing custom fields"));j("Form updated successfully. ".concat(t.length," custom fields removed."),"success")}else j("Form updated successfully","success")}else j("Form updated successfully","success")}n("/forms")}else{const t={formName:e.formName,typeOfRecord:e.recordType,prefix:e.prefix,accountReceivable:e.accountReceivable,undepositedFunds:e.undepositedFunds,clearingGRNI:e.clearingGRNI,clearingSRNI:e.clearingSRNI,clearingVAT:e.clearingVAT,accountPayable:e.accountPayable,formType:e.formType,clearing:e.clearing,accuredTax:e.accuredTax,accuredAR:e.accuredAR,discountOnTax:e.discountOnTax,inactive:e.inactive,isDefault:i,reasons:JSON.stringify(e.reasons||[])},o=A(t);console.log(JSON.stringify(o));const r=await fetch(yi(vi.endpoints.forms),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!r.ok){const e=await r.text();throw new Error("Failed to create form: ".concat(r.status," - ").concat(e))}const a=await r.json();let s;if("string"===typeof a?s=a:"object"===typeof a&&(s=a.id||a.formId||a.Id||a.FormId),!s)throw new Error("Form was created but no ID was returned from the server");if(e.customFields&&e.customFields.length>0){const t=e.customFields.map((e=>{const t={fieldName:e.fieldName,fieldLabel:e.fieldLabel,isRequired:e.isRequired,isDisabled:e.isDisabled,fieldType:e.fieldType,fieldSource:e.source||"",displayOrder:e.displayOrder,formId:s};return fetch(yi(vi.endpoints.customFormField),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})})),n=await Promise.all(t);for(let e=0;e<n.length;e++){const t=n[e];if(!t.ok){const n=await t.text();throw new Error("Failed to create custom field ".concat(e+1,": ").concat(t.status," - ").concat(n))}}}const l={formId:s,formSequenceNumber:0},c=await fetch(yi(vi.endpoints.formSequence),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!c.ok){const e=await c.text();throw new Error("Failed to create form sequence: ".concat(c.status," - ").concat(e))}j("Form created successfully with all custom fields","success"),n("/forms")}}catch(i){j(i.message||"Failed to save form","error")}finally{c(!1)}},render:e=>(0,pi.jsxs)(xa,{children:[(0,pi.jsxs)("div",{className:"form-grid",children:[(0,pi.jsx)("div",{className:"form-field",style:{gridColumn:"1 / -1",marginBottom:"5px"},children:(0,pi.jsx)(wi,{id:"inactive",name:"inactive",component:Tu,label:(0,pi.jsx)("b",{children:" Inactive"})})}),(0,pi.jsx)("div",{className:"form-field",style:{gridColumn:"1 / -1",marginBottom:"5px"},children:(0,pi.jsx)(wi,{id:"isDefault",name:"isDefault",component:Tu,label:(0,pi.jsx)("b",{children:" Is Default"})})}),(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Form Name *"}),(0,pi.jsx)(wi,{id:"formName",name:"formName",component:N,validator:QA})]}),(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Record Type *"}),(0,pi.jsx)(wi,{id:"recordType",name:"recordType",component:T,data:k,validator:QA})]}),(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Prefix"}),(0,pi.jsx)(wi,{id:"prefix",name:"prefix",component:N})]}),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find((e=>e.value===n));if(!o)return!1;const r=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"",i=r.includes("invoice"),a=r.includes("debitmemo")||r.includes("debit memo"),s=r.includes("customerpayment")||r.includes("customer payment"),l=r.includes("creditmemo")||r.includes("credit memo");return i||a||s||l})()&&(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Account Receivable *"}),(0,pi.jsx)(wi,{id:"accountReceivable",name:"accountReceivable",component:T,data:S?S.map((e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id}))):[],validator:QA})]}),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find((e=>e.value===n));if(!o)return!1;const r=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"";return r.includes("customerpayment")||r.includes("customer payment")})()&&(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Undeposited Funds *"}),(0,pi.jsx)(wi,{id:"undepositedFunds",name:"undepositedFunds",component:T,data:S?S.map((e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id}))):[],validator:QA})]}),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find((e=>e.value===n));if(!o)return!1;const r=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"";return r.includes("itemreceipt")||r.includes("item receipt")})()&&(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Clearing (GRNI) *"}),(0,pi.jsx)(wi,{id:"clearingGRNI",name:"clearingGRNI",component:T,data:S?S.map((e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id}))):[],validator:QA})]}),(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Clearing (SRNI) *"}),(0,pi.jsx)(wi,{id:"clearingSRNI",name:"clearingSRNI",component:T,data:S?S.map((e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id}))):[],validator:QA})]}),(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Clearing VAT *"}),(0,pi.jsx)(wi,{id:"clearingVAT",name:"clearingVAT",component:T,data:S?S.map((e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id}))):[],validator:QA})]})]}),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find((e=>e.value===n));if(!o)return!1;const r=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"";return r.includes("vendorbill")||r.includes("vendor bill")})()&&(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Clearing (GRNI) *"}),(0,pi.jsx)(wi,{id:"clearingGRNI",name:"clearingGRNI",component:T,data:S?S.map((e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id}))):[],validator:QA})]}),(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Clearing (SRNI) *"}),(0,pi.jsx)(wi,{id:"clearingSRNI",name:"clearingSRNI",component:T,data:S?S.map((e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id}))):[],validator:QA})]}),(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Clearing VAT *"}),(0,pi.jsx)(wi,{id:"clearingVAT",name:"clearingVAT",component:T,data:S?S.map((e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id}))):[],validator:QA})]}),(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Account Payable *"}),(0,pi.jsx)(wi,{id:"accountPayable",name:"accountPayable",component:T,data:S?S.map((e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id}))):[],validator:QA})]})]}),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find((e=>e.value===n));if(!o)return!1;const r=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"",i=r.includes("vendorpayment")||r.includes("vendor payment"),a=r.includes("vendorcredit")||r.includes("vendor credit");return i||a})()&&(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Account Payable *"}),(0,pi.jsx)(wi,{id:"accountPayable",name:"accountPayable",component:T,data:S?S.map((e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id}))):[],validator:QA})]}),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find((e=>e.value===n));if(!o)return!1;const r=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"",i=r.includes("invoice"),a=r.includes("itemfulfillment")||r.includes("item fulfillment");return i||a})()&&(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Form Type *"}),(0,pi.jsx)(wi,{id:"formType",name:"formType",component:T,data:E?E.map((e=>({text:e.name||e.typeName||e.formSourceTypeName||"Form Source Type ".concat(e.id),value:e.id}))):[],validator:QA})]}),((t,n,o)=>{const r=e.valueGetter("recordType"),i=e.valueGetter("formType");if(!r||!i)return null;const a=k.find((e=>e.value===r));if(!a)return null;const s=(null===(t=a.text)||void 0===t?void 0:t.toLowerCase())||"",l=s.includes("invoice"),c=s.includes("itemfulfillment")||s.includes("item fulfillment");if(!l&&!c)return null;const d=null===E||void 0===E?void 0:E.find((e=>e.id===i)),u=(null===d||void 0===d||null===(n=d.name)||void 0===n?void 0:n.toLowerCase())||(null===d||void 0===d||null===(o=d.typeName)||void 0===o?void 0:o.toLowerCase())||"",p=u.includes("expense clearing"),h=u.includes("gaap")&&!u.includes("discount"),f=u.includes("gaap")&&u.includes("discount"),m=S?S.map((e=>({text:"".concat(e.name," - ").concat(e.accountNumber),value:e.id}))):[];return(0,pi.jsxs)(pi.Fragment,{children:[p&&(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Clearing Acc *"}),(0,pi.jsx)(wi,{id:"clearing",name:"clearing",component:T,data:m,validator:QA})]}),(h||f)&&(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Accrued Tax *"}),(0,pi.jsx)(wi,{id:"accuredTax",name:"accuredTax",component:T,data:m,validator:QA})]}),(h||f)&&(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Accrued AR *"}),(0,pi.jsx)(wi,{id:"accuredAR",name:"accuredAR",component:T,data:m,validator:QA})]}),f&&(0,pi.jsxs)("div",{className:"form-field",children:[(0,pi.jsx)("label",{className:"field-label",children:"Discount Account *"}),(0,pi.jsx)(wi,{id:"discountOnTax",name:"discountOnTax",component:T,data:m,validator:QA})]})]})})(),(t=>{const n=e.valueGetter("recordType");if(!n)return!1;const o=k.find((e=>e.value===n));if(!o)return!1;const r=(null===(t=o.text)||void 0===t?void 0:t.toLowerCase())||"",i=r.includes("inventoryadjustment")||r.includes("inventory adjustment"),a=r.includes("inventorytransfer")||r.includes("inventory transfer");return i||a})()&&(0,pi.jsx)("div",{className:"order-items-field",children:(0,pi.jsx)(qy,{name:"reasons",component:W,dataItemKey:XA})}),(0,pi.jsx)("div",{className:"order-items-field",children:(0,pi.jsx)(qy,{name:"customFields",component:G,dataItemKey:XA})})]}),(0,pi.jsxs)("div",{className:"form-actions",children:[(0,pi.jsxs)(xo,{type:"button",onClick:()=>{return e=()=>n("/forms"),void(x()?window.confirm("You have incomplete fields that will be lost. Are you sure you want to continue?")&&e():e());var e},className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",children:[(0,pi.jsx)(ai,{})," ","view"===t?"Back":"Cancel"]}),"edit"===t&&(0,pi.jsxs)(xo,{type:"button",onClick:D,disabled:l,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-danger",children:[(0,pi.jsx)(si,{})," ",l?"Deleting...":"Delete Form"]}),"view"!==t&&(0,pi.jsxs)(xo,{type:"submit",disabled:l||!e.allowSubmit,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ni,{})," ",l?"Saving...":"edit"===t?"Update Form":"Save Form"]})]})]})},"form-".concat(t,"-").concat(r||"new","-").concat(h)),(0,pi.jsx)("style",{children:'\n        .form-container {\n          background: white;\n          border-radius: 4px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          padding: 16px;\n          margin: 16px;\n        }\n\n        .form-header {\n          margin-bottom: 16px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .form-header h2 {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.25rem;\n          font-weight: 600;\n        }\n\n        .loading-container {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          min-height: 200px;\n        }\n\n        .loading-spinner {\n          color: #4a5568;\n          font-size: 16px;\n          font-weight: 500;\n        }\n\n        .form-grid {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n\n        .form-field {\n          margin-bottom: 16px;\n        }\n\n        .field-label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 500;\n          color: #4a5568;\n          font-size: 14px;\n        }\n\n        .k-form-field > .k-label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 500;\n          color: #4a5568;\n          font-size: 14px;\n        }\n\n        .k-textbox,\n        .k-textarea,\n        .k-datepicker,\n        .k-dropdownlist {\n          width: 100%;\n          font-size: 14px;\n        }\n\n        .k-input, \n        .k-textarea {\n          font-size: 14px;\n          padding: 8px 12px;\n        }\n\n        .k-input:disabled,\n        .k-textbox:disabled {\n          background-color: #f5f5f5 !important;\n          color: #666 !important;\n          cursor: not-allowed !important;\n          opacity: 0.7;\n        }\n\n        .order-items-field {\n          grid-column: span 3;\n          margin-top: 16px;\n        }\n\n        .form-actions {\n          display: flex;\n          justify-content: flex-end;\n          gap: 8px;\n          padding-top: 16px;\n          margin-top: 8px;\n          border-top: 1px solid #e2e8f0;\n        }\n\n        .k-button {\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 12px;\n          font-size: 13px;\n          font-weight: 500;\n        }\n\n        .k-button svg {\n          font-size: 13px;\n        }\n\n        .notification-container {\n          position: fixed;\n          right: 12px;\n          top: 12px;\n          z-index: 9999;\n          min-width: 280px;\n        }\n\n        .k-form-error {\n          color: #e53e3e;\n          font-size: 12px;\n          margin-top: 4px;\n        }\n\n        /* Form Section Styling - Matching MasterDataForm */\n        .form-section {\n          margin-bottom: 20px;\n        }\n\n        .section-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 12px;\n          padding: 12px 16px;\n          background: linear-gradient(135deg, #f8f9ff 0%, #e8eeff 100%);\n          border-radius: 6px;\n          border-left: 4px solid #667eea;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n        }\n\n        .section-title {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.1rem;\n          font-weight: 600;\n        }\n\n        .add-field-container {\n          margin-bottom: 16px;\n          padding-left: 4px;\n        }\n\n        .add-field-btn {\n          background: #10b981 !important;\n          border-color: #10b981 !important;\n          color: white !important;\n          font-weight: 600 !important;\n          padding: 8px 16px !important;\n          border-radius: 6px !important;\n          transition: all 0.2s ease !important;\n          display: flex !important;\n          align-items: center !important;\n          gap: 6px !important;\n        }\n\n        .add-field-btn:hover {\n          background: #059669 !important;\n          border-color: #059669 !important;\n          transform: translateY(-1px);\n          box-shadow: 0 4px 8px rgba(16, 185, 129, 0.3);\n        }\n\n        .custom-fields-error {\n          color: #e53e3e;\n          font-size: 12px;\n          margin-top: 8px;\n          padding: 8px 12px;\n          background: #fed7d7;\n          border: 1px solid #feb2b2;\n          border-radius: 4px;\n        }\n\n        .custom-fields-grid-container {\n          background: white;\n          border-radius: 8px;\n          border: 1px solid #e2e8f0;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          overflow: hidden;\n        }\n\n        .custom-fields-grid {\n          border: none !important;\n          border-radius: 0 !important;\n        }\n\n        .custom-fields-grid .k-grid-header {\n          background: #f8fafc !important;\n          border-bottom: 2px solid #e2e8f0 !important;\n        }\n\n        .custom-fields-grid .k-grid-header th {\n          font-weight: 600 !important;\n          color: #4a5568 !important;\n          text-transform: uppercase !important;\n          font-size: 11px !important;\n          letter-spacing: 0.05em !important;\n          padding: 12px 8px !important;\n          border-right: 1px solid #e2e8f0 !important;\n        }\n\n        .custom-fields-grid .k-grid-header th:last-child {\n          border-right: none !important;\n        }\n\n        .custom-fields-grid td {\n          padding: 8px !important;\n          border-right: 1px solid #f1f5f9 !important;\n          border-bottom: 1px solid #f1f5f9 !important;\n          vertical-align: middle !important;\n        }\n\n        .custom-fields-grid td:last-child {\n          border-right: none !important;\n        }\n\n        .custom-fields-grid .k-grid-content tr:hover {\n          background-color: #f8fafc !important;\n        }\n\n        /* Grid specific styles for consistent field sizing */\n        .custom-fields-grid .k-textbox,\n        .custom-fields-grid .k-dropdownlist,\n        .custom-fields-grid input[type="number"],\n        .custom-fields-grid input[type="checkbox"] {\n          height: 32px !important;\n          font-size: 13px !important;\n          padding: 6px 8px !important;\n          border: 1px solid #d1d5db !important;\n          border-radius: 4px !important;\n          width: 100% !important;\n          box-sizing: border-box !important;\n          transition: border-color 0.2s ease, box-shadow 0.2s ease;\n        }\n\n        .custom-fields-grid .k-textbox:focus,\n        .custom-fields-grid .k-dropdownlist:focus-within,\n        .custom-fields-grid input[type="number"]:focus {\n          border-color: #3b82f6 !important;\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;\n          outline: none !important;\n        }\n\n        .custom-fields-grid .k-dropdownlist {\n          height: auto !important;\n          min-width: 150px !important;\n        }\n        \n        .custom-fields-grid .k-dropdownlist .k-input {\n          height: 32px !important;\n          padding: 6px 8px !important;\n          font-size: 13px !important;\n          line-height: 1.4 !important;\n          box-sizing: border-box !important;\n        }\n        \n        .custom-fields-grid .k-dropdownlist .k-select {\n          height: 30px !important;\n          line-height: 30px !important;\n          border: none !important;\n        }\n        \n        /* Ensure dropdown popup is fully visible */\n        .field-type-dropdown-popup {\n          z-index: 10000 !important;\n          min-width: 200px !important;\n        }\n        \n        /* Ensure the dropdown arrow is properly aligned */\n        .custom-fields-grid .k-dropdown-wrap {\n          display: flex !important;\n          align-items: center !important;\n        }\n\n        /* Field Type Dropdown Specific Styling */\n        .field-type-dropdown {\n          min-width: 120px !important;\n        }\n\n        .field-type-dropdown .k-dropdown-wrap {\n          height: 32px !important;\n          border: 1px solid #d1d5db !important;\n          border-radius: 4px !important;\n          background: white !important;\n        }\n\n        .field-type-dropdown .k-dropdown-wrap:hover {\n          border-color: #9ca3af !important;\n        }\n\n        .field-type-dropdown .k-dropdown-wrap.k-state-focused {\n          border-color: #3b82f6 !important;\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;\n        }\n\n        .field-type-display {\n          font-size: 13px;\n          color: #374151;\n          font-weight: 500;\n        }\n\n        .custom-fields-grid input[type="checkbox"] {\n          width: 18px !important;\n          height: 18px !important;\n          margin: 0 auto !important;\n          display: block !important;\n          cursor: pointer !important;\n        }\n\n        /* Command Cell Container */\n        .command-cell-container {\n          display: flex;\n          flex-direction: row;\n          gap: 2px;\n          justify-content: center;\n          align-items: center;\n          min-height: 32px;\n          width: 100%;\n          padding: 1px;\n        }\n        \n        .button-stack {\n          display: flex;\n          flex-direction: row;\n          gap: 2px;\n          width: 100%;\n          align-items: center;\n          justify-content: center;\n        }\n\n        /* Command Button Base Styles */\n        .command-btn {\n          height: 22px !important;\n          padding: 2px 6px !important;\n          font-size: 10px !important;\n          font-weight: 500 !important;\n          border-radius: 3px !important;\n          cursor: pointer !important;\n          transition: all 0.2s ease !important;\n          text-align: center !important;\n          display: inline-flex !important;\n          align-items: center !important;\n          justify-content: center !important;\n          flex-shrink: 0 !important;\n          white-space: nowrap !important;\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) !important;\n          margin: 0 !important;\n        }\n        \n        .stacked-btn {\n          width: 42px !important;\n          max-width: 42px !important;\n          min-width: 42px !important;\n        }\n\n        /* Save Button - Green */\n        .save-btn {\n          background: #16a34a !important;\n          color: white !important;\n          border-color: #15803d !important;\n        }\n\n        .save-btn:hover {\n          background: #15803d !important;\n          transform: translateY(-1px) !important;\n          box-shadow: 0 2px 6px rgba(22, 163, 74, 0.25) !important;\n        }\n\n        .save-btn:active {\n          transform: translateY(0) !important;\n          box-shadow: 0 1px 2px rgba(22, 163, 74, 0.2) !important;\n        }\n\n        /* Cancel Button - Gray */\n        .cancel-btn {\n          background: #64748b !important;\n          color: white !important;\n          border-color: #475569 !important;\n        }\n\n        .cancel-btn:hover {\n          background: #475569 !important;\n          transform: translateY(-1px) !important;\n          box-shadow: 0 2px 6px rgba(100, 116, 139, 0.25) !important;\n        }\n\n        .cancel-btn:active {\n          transform: translateY(0) !important;\n          box-shadow: 0 1px 2px rgba(100, 116, 139, 0.2) !important;\n        }\n\n        /* Edit Button - Primary Blue */\n        .edit-btn.k-button-solid-primary {\n          background: #3b82f6 !important;\n          border-color: #2563eb !important;\n          color: white !important;\n        }\n\n        .edit-btn.k-button-solid-primary:hover {\n          background: #2563eb !important;\n          border-color: #1d4ed8 !important;\n          transform: translateY(-1px) !important;\n          box-shadow: 0 2px 6px rgba(59, 130, 246, 0.3) !important;\n        }\n\n        .edit-btn.k-button-solid-primary:active {\n          transform: translateY(0) !important;\n          box-shadow: 0 1px 2px rgba(59, 130, 246, 0.2) !important;\n        }\n\n        /* Delete Button - Danger Red */\n        .delete-btn.k-button-solid-danger {\n          background: #ef4444 !important;\n          border-color: #dc2626 !important;\n          color: white !important;\n        }\n\n        .delete-btn.k-button-solid-danger:hover {\n          background: #dc2626 !important;\n          border-color: #b91c1c !important;\n          transform: translateY(-1px) !important;\n          box-shadow: 0 2px 6px rgba(239, 68, 68, 0.3) !important;\n        }\n\n        .delete-btn.k-button-solid-danger:active {\n          transform: translateY(0) !important;\n          box-shadow: 0 1px 2px rgba(239, 68, 68, 0.2) !important;\n        }\n\n        /* Button Focus States */\n        .command-btn:focus {\n          outline: 2px solid transparent !important;\n          outline-offset: 2px !important;\n        }\n\n        .save-btn:focus {\n          box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.3) !important;\n        }\n\n        .cancel-btn:focus {\n          box-shadow: 0 0 0 3px rgba(107, 114, 128, 0.3) !important;\n        }\n\n        .edit-btn:focus {\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3) !important;\n        }\n\n        .delete-btn:focus {\n          box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.3) !important;\n        }\n\n        /* Hide number input spinners */\n        .custom-fields-grid input[type="number"]::-webkit-outer-spin-button,\n        .custom-fields-grid input[type="number"]::-webkit-inner-spin-button {\n          -webkit-appearance: none !important;\n          margin: 0 !important;\n        }\n\n        .custom-fields-grid input[type="number"] {\n          -moz-appearance: textfield !important;\n        }\n\n        /* Center align specific columns */\n        .custom-fields-grid td:nth-child(4),\n        .custom-fields-grid td:nth-child(5),\n        .custom-fields-grid td:nth-child(6) {\n          text-align: center !important;\n        }\n\n        .custom-fields-grid th:nth-child(4),\n        .custom-fields-grid th:nth-child(5),\n        .custom-fields-grid th:nth-child(6) {\n          text-align: center !important;\n        }\n\n        @media (max-width: 768px) {\n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .order-items-field {\n            grid-column: span 1;\n          }\n\n          .form-container {\n            margin: 12px;\n            padding: 12px;\n          }\n        }\n      '})]})},ZA=["validationMessage","visited","label"],$A=e=>{const t={};return Object.keys(e).forEach((n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)})),t},eD=o.createContext({}),tD="itemDataIndex",nD="id",oD=o.memo((e=>{let{recordType:t,mode:n="new",embedded:r=!1,selectedLocation:i,toLocation:a,selectedFormId:l}=e;console.log("DEBUG InventoryItems: Received selectedLocation prop:",i),console.log("DEBUG InventoryItems: Received toLocation prop:",a);const c=ge(),{id:d}=ve(),{loading:u,error:h,fetchFormConfiguration:f}=fy(),{getQuantityAvailable:m,getProductStandardCost:g,createOrUpdateInventoryDetail:v}=Vy(),[y,x]=(0,o.useState)({show:!1,message:"",type:"success"}),[b,w]=(0,o.useState)(!1),[k,C]=(0,o.useState)(!1),[S,I]=(0,o.useState)(null),[E,_]=(0,o.useState)(null),[j,A]=(0,o.useState)({}),[D,N]=(0,o.useState)({}),[T,P]=(0,o.useState)(!1),M={InventoryAdjustment:"/inventory-adjustment",InventoryTransfer:"/inventory-transfer"},O=(0,o.useCallback)((e=>{switch(e){case"InventoryAdjustment":return{title:"Adjustment Items",fields:["itemID","quantityInHand","quantityAdjusted","rate","totalAmount"]};case"InventoryTransfer":return{title:"Transfer Items",fields:["itemID","quantityInHand","quantityTransfer","rate","totalAmount"]};default:return{title:"Items",fields:["itemID","quantityInHand","quantity","rate","totalAmount"]}}}),[]),R=(0,o.useCallback)((async(e,t)=>{try{const n=await fetch(yi(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return await n.json()||[]}catch(n){return n.name,[]}}),[]),F=(0,o.useCallback)((async e=>{const n={InventoryAdjustment:{endpoint:yi(vi.endpoints.inventoryAdjustmentLineByAdjustment(e)),idField:"adjustmentId"},InventoryTransfer:{endpoint:yi(vi.endpoints.inventoryTransferLineByTransfer(e)),idField:"transferId"}}[t];if(!n)throw new Error("Unsupported record type: ".concat(t));try{const e=await fetch(n.endpoint,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){if(404===e.status)return[];throw new Error("Failed to load transaction items: ".concat(e.status))}const o=await e.json();console.log("DEBUG: Raw API response:",o),console.log("DEBUG: Type of data:",typeof o),console.log("DEBUG: Is data array?",Array.isArray(o)),console.log("DEBUG: data.results:",o.results),console.log("DEBUG: Type of data.results:",typeof o.results),console.log("DEBUG: Is data.results array?",Array.isArray(o.results));let r=[];if(Array.isArray(o))r=o;else if(o&&Array.isArray(o.results))r=o.results;else if(o&&"object"===typeof o){const e=Object.values(o).filter((e=>Array.isArray(e)));e.length>0&&(r=e[0])}return console.log("DEBUG: Final items array:",r),console.log("DEBUG: Items length:",r.length),console.log("DEBUG: Is items array?",Array.isArray(r)),r.map(((e,n)=>({id:n+1,itemID:e.itemID||"",quantityInHand:e.quantityInHand||0,quantityAdjusted:"InventoryAdjustment"===t?e.quantityAdjusted:void 0,quantityTransfer:"InventoryTransfer"===t?e.quantityTransfer:void 0,rate:e.rate||0,totalAmount:e.totalAmount||0,reason:e.reason||""})))}catch(o){throw console.error("Error loading transaction items:",o),o}}),[t]);(0,o.useEffect)((()=>{let e=!0;return(async()=>{if(e)try{C(!0),I(null),P(!1);const r=O(t);_(r);const i=[R("/product/item-type/ef765a67-402b-48ee-b898-8eaa45affb64").then((e=>({name:"itemID",data:e})))];l&&i.push(R("/form/".concat(l)).then((e=>({name:"reason",data:e}))));const a=await Promise.all(i);if(console.log("dropdownResults",a),!e)return;const s=a.reduce(((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e}),{});N(s);const c={transactionId:d||null,items:[]};if("new"!==n&&d)try{const e=await F(d);e&&e.length>0&&(c.items=e)}catch(o){console.warn("Failed to load existing items:",o.message)}if(!e)return;A(c),P(!0)}catch(o){if(!e)return;I(o.message),L(o.message,"error")}finally{if(!e)return;C(!1)}})(),()=>{e=!1}}),[n,d,t,O,R,F]);const L=(0,o.useCallback)((function(e){x({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{x({show:!1,message:"",type:"success"})}),4e3)}),[]),z=((0,o.useCallback)(((e,t)=>(e||0)*(t||0)),[]),(0,o.useCallback)((e=>{const t=D[e]||[];if("reason"===e){if(t.reasons)try{return JSON.parse(t.reasons).map((e=>({text:e.reason,value:e.id+"$"+e.accountId})))}catch(S){return console.error("Error parsing reason data:",S),[]}return[]}return t.map((t=>{if("string"===typeof t)return{text:t,value:t};if(!t.id)return{text:String(t),value:t};return{text:(t=>{if("itemID"===e&&t.itemName&&t.itemCode)return"".concat(t.itemCode," - ").concat(t.itemName);const n=["name","itemName","productName","description","title"];for(const e of n)if(t[e])return t[e];return String(t.id)})(t),value:t.id,item:t}}))}),[D])),B=(0,o.useMemo)((()=>{const e=D.reason||{};if(e.reasons)try{return JSON.parse(e.reasons).map((e=>({text:e.reason,value:e.id+"$"+e.accountId})))}catch(S){return console.error("Error parsing reason data:",S),[]}return[]}),[D]),V=((0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,visited:r,label:i}=e,a=s(e,ZA),l=r&&o,c=p(p({},a),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||a.disabled}),d={text:{component:qc,props:c},number:{component:Su,props:p(p({},c),{},{min:0,step:0})},textarea:{component:ju,props:p(p({},c),{},{rows:2})},date:{component:oy,props:c},dropdown:{component:Ah,props:p(p({},c),z(e))}},u=d[t]||d.text;return(0,pi.jsxs)("div",{children:[(0,pi.jsx)(u.component,p({},u.props)),l&&(0,pi.jsx)("div",{className:"k-form-error",children:o})]})}}),[n,z]),e=>{const{parentField:t,editIndex:n,validatedItems:r,onUpdateField:i}=o.useContext(eD),a=e.dataItem[tD]===n;r.includes(e.dataItem[tD]);if(a){const t=z("itemID");return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(Ah,{data:t,textField:"text",dataItemKey:"value",valueField:"value",value:t.find((t=>t.value===e.dataItem[e.field]))||null,onChange:async t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;await i(e.dataItem[tD],e.field,o)},style:{width:"100%"}})}))}const s=e.dataItem[e.field],l=z("itemID").find((e=>e.value===s)),c=(null===l||void 0===l?void 0:l.text)||"";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:c})}))}),H=e=>{const{parentField:t,editIndex:n,onUpdateField:r}=o.useContext(eD);if(e.dataItem[tD]===n){var i;const t="quantityAdjusted"===e.field;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(qc,{type:"number",min:t?void 0:"0",step:"1",value:null!==(i=e.dataItem[e.field])&&void 0!==i?i:"",onChange:t=>{const n=t.target.value,o=""===n?"":parseInt(n)||"";r(e.dataItem[tD],e.field,o)},onKeyDown:e=>{"."!==e.key&&","!==e.key||e.preventDefault()},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})}))}return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:e.dataItem[e.field]||""})}))},q=e=>{var t;const{selectedLocation:r}=o.useContext(eD),[i,a]=(0,o.useState)(null),[s,l]=(0,o.useState)(!1);(0,o.useEffect)((()=>{(async()=>{var t,o;if(console.log("DEBUG DisabledQuantityCell: Checking conditions",{mode:n,itemID:null===(t=e.dataItem)||void 0===t?void 0:t.itemID,selectedLocation:r,field:e.field}),("view"===n||"edit"===n)&&null!==(o=e.dataItem)&&void 0!==o&&o.itemID&&r){console.log("DEBUG DisabledQuantityCell: Fetching quantity for item",e.dataItem.itemID),l(!0);try{const t=(null===r||void 0===r?void 0:r.value)||r;console.log("DEBUG DisabledQuantityCell: Calling getQuantityAvailable with",{itemID:e.dataItem.itemID,locationId:t});const n=await m(e.dataItem.itemID,t);console.log("DEBUG DisabledQuantityCell: Got quantity result:",n),a(n)}catch(i){console.warn("Failed to fetch quantity for item ".concat(e.dataItem.itemID,":"),i.message),console.log("DEBUG DisabledQuantityCell: Using fallback value:",e.dataItem[e.field]||0),a(e.dataItem[e.field]||0)}finally{l(!1)}}else console.log("DEBUG DisabledQuantityCell: Using original value:",e.dataItem[e.field]||0),a(e.dataItem[e.field]||0)})()}),[null===(t=e.dataItem)||void 0===t?void 0:t.itemID,r,n]);const c=s?"...":null!==i?i:e.dataItem[e.field]||"0";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right",backgroundColor:"#f5f5f5"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block",color:"#666"},children:c})}))},U=e=>{const{parentField:t,editIndex:n,onUpdateField:r}=o.useContext(eD);if(e.dataItem[tD]===n)return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(Ah,{data:B,textField:"text",dataItemKey:"value",valueField:"value",value:B.find((t=>t.value===e.dataItem[e.field]))||null,onChange:t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;r(e.dataItem[tD],e.field,o)},style:{width:"100%"}})}));const i=e.dataItem[e.field],a=B.find((e=>e.value===i)),s=(null===a||void 0===a?void 0:a.text)||"";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:s})}))},G=e=>{const{onRemove:t,onEdit:r,onSave:i,onCancel:a,editIndex:s,validateItem:l}=o.useContext(eD),c=e.dataItem[tD]===s,d=!e.dataItem[nD]||!e.dataItem.itemID,u=(0,o.useCallback)((n=>{n.preventDefault(),t(e.dataItem)}),[e.dataItem,t]),h=(0,o.useCallback)((t=>{t.preventDefault(),r(e.dataItem,d)}),[e.dataItem,r,d]),f=(0,o.useCallback)((t=>{t.preventDefault(),i(e.dataItem)}),[i,e.dataItem]),m=(0,o.useCallback)((e=>{e.preventDefault(),a()}),[a]);return c?(0,pi.jsxs)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:[(0,pi.jsx)(xo,{type:"button",onClick:f,className:"k-grid-save-command",size:"small",style:{marginRight:"4px",backgroundColor:"#4CAF50",color:"white",fontSize:"12px",padding:"4px 8px"},title:d?"Add this item when complete":"Save changes to this item",disabled:"view"===n,children:d?"Add":"Save"}),(0,pi.jsx)(xo,{type:"button",onClick:d?u:m,className:"k-grid-cancel-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},title:d?"Remove this item":"Cancel editing",disabled:"view"===n,children:d?"Discard":"Cancel"})]})):(0,pi.jsx)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:"view"!==n&&(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)(xo,{type:"button",themeColor:"primary",onClick:h,className:"k-grid-edit-command",size:"small",style:{marginRight:"4px",fontSize:"12px",padding:"4px 8px"},children:"Edit"}),(0,pi.jsx)(xo,{type:"button",onClick:u,className:"k-grid-remove-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},children:"Remove"})]})}))},W=e=>{const{validationMessage:r,visited:s,name:l,dataItemKey:c}=e,[d,u]=(0,o.useState)(void 0),h=o.useRef(void 0),[f,v]=(0,o.useState)([]),y=(0,o.useCallback)((t=>{if(void 0!==t&&e.value[t]){v((e=>e.includes(t)?e:[...e,t]));const n=e.value[t];return n.itemID&&null!==n.itemID}return!1}),[e.value]),x=(0,o.useCallback)((async(n,o,r)=>{const a=p(p({},e.value[n]),{},{[o]:r});if("itemID"===o&&r&&i){if(-1!==(e.value||[]).findIndex(((e,t)=>t!==n&&e.itemID===r)))return alert("This item has already been added to the list. Please select a different item."),a.itemID="",void e.onReplace({index:n,value:a});try{const e=await m(r,i);a.quantityInHand=e;const t=await g(r);a.rate=t}catch(S){console.error("Failed to fetch quantity available or standard cost:",S),a.quantityInHand=0,a.rate=0}}const s="InventoryAdjustment"===t?"quantityAdjusted":"quantityTransfer";if(o===s||"rate"===o){const e=o===s?r:a[s]||0,t="rate"===o?r:a.rate||0;a.totalAmount=(parseFloat(e)||0)*(parseFloat(t)||0)}e.onReplace({index:n,value:a})}),[e,t,m,g,i]),b=e=>{if(!e||!Array.isArray(e))return{totalAmount:0,totalQuantity:0};const n=e.reduce(((e,t)=>e+(t.totalAmount||0)),0),o="InventoryAdjustment"===t?"quantityAdjusted":"quantityTransfer",r=e.reduce(((e,t)=>e+(t[o]||0)),0);return{totalAmount:n,totalQuantity:r}},[w,k]=(0,o.useState)((()=>b(e.value))),C=(0,o.useCallback)((()=>{const t=b(e.value);k(t)}),[e.value,t]),I=(0,o.useCallback)((o=>{if(o.preventDefault(),void 0!==d||"view"===n)return;const r=e.value||[],i=r.findIndex((e=>!e.itemID));if(-1!==i)return void u(i);const a={id:r.length>0?Math.max(...r.map((e=>parseInt(e.id)||0)))+1:1,itemID:"",quantityInHand:0,rate:0,totalAmount:0,reason:""};"InventoryAdjustment"===t?a.quantityAdjusted=0:"InventoryTransfer"===t&&(a.quantityTransfer=0),e.onUnshift({value:a}),u(0),setTimeout((()=>C()),0)}),[e,d,t,n,C]),E=(0,o.useCallback)((t=>{e.onRemove({index:t[tD]}),u(void 0),h.current=void 0,setTimeout((()=>C()),0)}),[e,C]),_=(0,o.useCallback)((e=>{h.current=ki(e),u(e[tD])}),[]),j=(0,o.useCallback)((()=>{h.current&&e.onReplace({index:h.current[tD],value:h.current}),h.current=void 0,u(void 0),setTimeout((()=>C()),0)}),[e,C]),A=(0,o.useCallback)((n=>{const o=n[tD],r=e.value[o];if(!r.itemID)return void alert("Product is required");const i="InventoryAdjustment"===t?"quantityAdjusted":"quantityTransfer",a="InventoryAdjustment"===t;if(!r[i]||!a&&r[i]<=0||a&&0===r[i]){return void alert(a?"Quantity adjusted cannot be zero":"Quantity must be greater than 0")}if("InventoryTransfer"===t){const e=Number(r.quantityInHand||0),t=Number(r.quantityTransfer||0);if(e<=0)return void alert("Cannot save item. Quantity In Hand is zero or negative, Please adjust the item quantity first!!");if(t>e)return void alert("Cannot save item. Quantity Transfer (".concat(t,") cannot be greater than Quantity In Hand (").concat(e,")."))}const s=""===r[i]?0:parseFloat(r[i])||0,l=""===r.rate?0:parseFloat(r.rate)||0,c=Math.round(s*l*100)/100;e.onReplace({index:o,value:p(p({},r),{},{totalAmount:c})}),u(void 0),h.current=void 0,u(void 0),setTimeout((()=>C()),0)}),[e,t,C]);o.useEffect((()=>{if(void 0!==d&&e.value[d]){const n=e.value[d],o="InventoryAdjustment"===t?"quantityAdjusted":"quantityTransfer",r=(""===n[o]?0:parseFloat(n[o])||0)*(""===n.rate?0:parseFloat(n.rate)||0),i=Math.round(100*r)/100;i!==Math.round(100*(parseFloat(n.totalAmount)||0))/100&&e.onReplace({index:d,value:p(p({},n),{},{totalAmount:i})})}}),[d,e.value,t]);const D=(e.value||[]).map(((e,t)=>p(p({},e),{},{[tD]:t})));return(0,pi.jsxs)(eD.Provider,{value:{onCancel:j,onEdit:_,onRemove:E,onSave:A,onUpdateField:x,editIndex:d,parentField:l,validatedItems:f,validateItem:y,selectedLocation:i,toLocation:a},children:[s&&r&&(0,pi.jsx)("div",{className:"k-form-error",style:{color:"#e53e3e",fontSize:"12px",marginTop:"4px"},children:r}),"view"!==n&&(0,pi.jsx)("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"flex-start",alignItems:"center",paddingLeft:"8px",paddingRight:"8px"},children:(0,pi.jsxs)(xo,{onClick:I,themeColor:"success",fillMode:"solid",size:"medium",className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-success",children:[(0,pi.jsx)(ti,{style:{marginRight:"6px"}})," Add Item"]})}),(0,pi.jsx)("div",{className:"transaction-items-grid-container",style:{overflowX:"auto",overflowY:"visible",width:"100%",maxWidth:"100%"},children:(0,pi.jsxs)(q_,{className:"transaction-items-grid",data:D,dataItemKey:c,rowRender:e=>{const t=p(p({},e.props),{},{style:p(p({},e.props.style),{},{borderBottom:"1px solid #e0e0e0"})});return o.cloneElement(e,p({},t),e.props.children)},style:{minWidth:"800px"},children:[(0,pi.jsx)(Uy,{field:"itemID",title:"Item",cells:{data:V}}),(0,pi.jsx)(Uy,{field:"quantityInHand",title:"Qty In Hand",cells:{data:q}}),(0,pi.jsx)(Uy,{field:"InventoryAdjustment"===t?"quantityAdjusted":"quantityTransfer",title:"InventoryAdjustment"===t?"Qty Adjusted":"Qty Transfer",cells:{data:H}}),(0,pi.jsx)(Uy,{field:"reason",title:"Reason",cells:{data:U}}),"view"!==n&&(0,pi.jsx)(Uy,{cells:{data:G}})]})})]})},K=(0,o.useCallback)((e=>{const n={};if(e.items&&0!==e.items.length){e.items.map(((e,n)=>{const o={};e.itemID||(o.itemID="Product is required");const r="InventoryAdjustment"===t?"quantityAdjusted":"quantityTransfer",i="InventoryAdjustment"===t;if(!e[r]||!i&&e[r]<=0||i&&0===e[r]){const e=i?"Quantity adjusted cannot be zero":"Quantity must be greater than 0";o[r]=e}if("InventoryTransfer"===t){const t=Number(e.quantityInHand||0),n=Number(e.quantityTransfer||0);t<=0&&(o.quantityInHand="Quantity In Hand is zero or negative, Please adjust the item quantity first!!"),n>t&&(o.quantityTransfer="Quantity Transfer (".concat(n,") cannot be greater than Quantity In Hand (").concat(t,")"))}return Object.keys(o).length>0?o:null})).filter(Boolean).length>0&&(n.items="Please fix item validation errors")}else n.items="At least one item is required";return n}),[t]);return k||u||!E||!T?(0,pi.jsx)("div",{className:"form-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsxs)("div",{children:["Loading ",t.toLowerCase()," items..."]})]})}):S||h?(0,pi.jsx)("div",{className:"form-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("h3",{children:["Error Loading ",t," Items"]}),(0,pi.jsx)("p",{children:S||h}),(0,pi.jsxs)(xo,{onClick:()=>c(M[t]||"/"),children:["Back to ",t," List"]})]})}):r?(0,pi.jsxs)("div",{style:{width:"100%"},children:[(0,pi.jsx)(uy,{children:y.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:y.type,icon:!0},closable:!0,onClose:()=>x({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:y.message})})})}),(0,pi.jsx)(qy,{name:"items",component:W,dataItemKey:nD,validator:e=>e&&e.length?"":"Please add at least one item"})]}):(0,pi.jsxs)("div",{className:"form-container",children:[(0,pi.jsx)(uy,{children:y.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:y.type,icon:!0},closable:!0,onClose:()=>x({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:y.message})})})}),(0,pi.jsx)("div",{className:"form-header",children:(0,pi.jsx)("h2",{children:"new"===n?"Add ".concat(E.title):"edit"===n?"Edit ".concat(E.title):"View ".concat(E.title)})}),(0,pi.jsx)(ha,{initialValues:j,validator:K,onSubmit:async e=>{try{if(C(!0),I(null),r)return void L("Line items updated. Save the main form to create the transaction.","info");const n=d;if(!n)throw new Error("Transaction ID is required to save line items");const o=e.items||[];if(0===o.length)return void L("No items to save","warning");const i={InventoryAdjustment:{endpoint:yi(vi.endpoints.inventoryAdjustmentLine),idField:"adjustmentId",quantityField:"quantityAdjusted"},InventoryTransfer:{endpoint:yi(vi.endpoints.inventoryTransferLine),idField:"transferId",quantityField:"quantityTransfer"}}[t];if(!i)throw new Error("Unsupported record type: ".concat(t));const a=o.map((async(e,t)=>{var o;const r=Number(e[i.quantityField]||0),a=Number(e.rate||0),s=Number(e.quantityInHand||0),l=r*a,c={[i.idField]:n,itemID:(null===(o=e.itemID)||void 0===o?void 0:o.value)||e.itemID,quantityInHand:s,[i.quantityField]:r,rate:a,totalAmount:l},d=await fetch(i.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify($A(c))});if(!d.ok){const e=await d.text();throw new Error("Failed to create line ".concat(t+1,": ").concat(d.status," - ").concat(e))}return await d.json()}));await Promise.all(a),L("".concat(t," items saved successfully (").concat(o.length," items)"),"success"),r||c(M[t]||"/")}catch(n){I(n.message),L(n.message,"error")}finally{C(!1)}},render:e=>(0,pi.jsxs)(xa,{children:[(0,pi.jsx)("div",{className:"form-grid",children:(0,pi.jsx)("div",{className:"order-items-field",children:(0,pi.jsx)(qy,{name:"items",component:W,dataItemKey:nD,validator:e=>e&&e.length?"":"Please add at least one item"})})}),(0,pi.jsxs)("div",{className:"form-actions",children:[(0,pi.jsxs)(xo,{type:"button",onClick:()=>c(M[t]||"/"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",children:[(0,pi.jsx)(ai,{})," ","view"===n?"Close":"Cancel"]}),"view"!==n&&(0,pi.jsxs)(xo,{type:"submit",disabled:k||!e.allowSubmit,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ni,{})," ",k?"Saving...":"Save Items"]})]})]})},"".concat(t.toLowerCase(),"-items-form-").concat(n,"-").concat(d||"new")),(0,pi.jsx)("style",{children:"\n        .form-container {\n          background: white;\n          border-radius: 4px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n          padding: 16px;\n          margin: 16px;\n        }\n\n        .form-header {\n          margin-bottom: 16px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .form-header h2 {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.25rem;\n          font-weight: 600;\n        }\n\n        .form-grid {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n\n        .order-items-field {\n          grid-column: span 3;\n          margin-top: 16px;\n        }\n\n        .form-actions {\n          display: flex;\n          justify-content: flex-end;\n          gap: 8px;\n          padding-top: 16px;\n          margin-top: 8px;\n          border-top: 1px solid #e2e8f0;\n        }\n\n        .notification-container {\n          position: fixed;\n          right: 12px;\n          top: 12px;\n          z-index: 9999;\n          min-width: 280px;\n        }\n\n        .loading-indicator {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 150px;\n          gap: 12px;\n          font-size: 14px;\n        }\n\n        .spinner {\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid #3498db;\n          border-radius: 50%;\n          width: 32px;\n          height: 32px;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .transaction-items-grid-container {\n          background: white;\n          border-radius: 8px;\n          border: 1px solid #e2e8f0;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          overflow-x: auto !important;\n          overflow-y: visible !important;\n          margin-bottom: 16px;\n          width: 100% !important;\n          max-width: 100% !important;\n        }\n\n        .transaction-items-grid {\n          border: none !important;\n          border-radius: 0 !important;\n          margin-bottom: 0 !important;\n          min-width: 800px !important;\n          width: auto !important;\n        }\n\n        .transaction-items-grid .k-grid-header {\n          background: #f8fafc !important;\n          border-bottom: 2px solid #e2e8f0 !important;\n        }\n\n        .transaction-items-grid .k-grid-header th {\n          font-weight: 600 !important;\n          color: #4a5568 !important;\n          text-transform: uppercase !important;\n          font-size: 11px !important;\n          letter-spacing: 0.5px !important;\n          padding: 12px 8px !important;\n          text-align: left !important;\n        }\n\n        .transaction-items-grid td {\n          padding: 8px !important;\n          border-bottom: 1px solid #f0f0f0 !important;\n          vertical-align: middle !important;\n        }\n\n        .transaction-items-grid .k-grid-content tr:hover {\n          background-color: #f7fafc !important;\n        }\n      "})]})})),rD=oD,iD=["validationMessage","touched","label"],aD=e=>{const t={};return Object.keys(e).forEach((n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)})),t},sD=o.memo((e=>{let{recordType:t,mode:n="new"}=e;const r=ge(),{id:i}=ve(),{loading:a,error:l,fetchFormConfiguration:c}=fy(),{createOrUpdateInventoryDetail:d}=Vy(),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[f,m]=(0,o.useState)(!1),[g,v]=(0,o.useState)(!1),[y,x]=(0,o.useState)(null),[b,w]=(0,o.useState)(null),[k,C]=(0,o.useState)({}),[S,I]=(0,o.useState)({}),[E,_]=(0,o.useState)([]),[j,A]=(0,o.useState)({}),[D,N]=(0,o.useState)({}),[T,P]=(0,o.useState)({}),[M,O]=(0,o.useState)(null),[R,F]=(0,o.useState)([]),[L,z]=(0,o.useState)(!1),[B,V]=(0,o.useState)(null),[H,q]=(0,o.useState)(null),U=o.useRef(null),G={InventoryAdjustment:"/inventory-adjustment",InventoryTransfer:"/inventory-transfer"},W=(0,o.useCallback)((async(e,t)=>{try{const n=await fetch(yi(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}}),[]),K=(0,o.useCallback)((async e=>{try{const t=await fetch(yi(vi.endpoints.recordType),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e});if(!t.ok)throw new Error("Failed to fetch record types: ".concat(t.status));return(await t.json()).results||[]}catch(t){return t.name,[]}}),[]),Y=async e=>{try{const t=await fetch(yi(vi.endpoints.customFormFieldByForm(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch custom form fields: ".concat(t.status));const n=await t.json(),o=(Array.isArray(n)?n:[]).sort(((e,t)=>(e.displayOrder||0)-(t.displayOrder||0))),r={},i=o.filter((e=>["DropDownList","MultiSelect"].includes(e.fieldTypeName)&&e.fieldSource));for(const e of i){const t=await W(e.fieldSource);r["custom_".concat(e.fieldName)]=t}return Object.keys(r).length>0&&I((e=>p(p({},e),r))),o}catch(t){return Z("Failed to load custom form fields: ".concat(t.message),"error"),[]}},X=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{if(!t)return{};const o=await fetch(yi(vi.endpoints.customFieldValueByTypeAndRecord(t,e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return{};const r=await o.json(),i={},a={},s={};return n.forEach((e=>{s[e.fieldName]=e.fieldTypeName})),Array.isArray(r)&&r.forEach((e=>{if(e.customFieldName&&void 0!==e.valueText&&null!==e.valueText){const n=s[e.customFieldName];let o=e.valueText;switch(n){case"DatePicker":case"Date":if("string"===typeof o&&""!==o.trim()){const e=new Date(o);o=isNaN(e.getTime())?null:e}break;case"NumericTextBox":case"Number":if("string"===typeof o&&""!==o.trim()){const e=parseFloat(o);o=isNaN(e)?0:e}break;case"Checkbox":case"Switch":"string"===typeof o&&(o="true"===o.toLowerCase()||"1"===o);break;case"MultiSelect":if("string"===typeof o&&""!==o.trim())try{const e=JSON.parse(o);o=Array.isArray(e)?e:[o]}catch(t){o=[o]}}i[e.customFieldName]=o,a[e.customFieldName]=e.id}})),{customData:i,customFieldIds:a}}catch(o){return{customData:{},customFieldIds:{}}}},Q=e=>{const t={};return e.forEach((e=>{switch(e.fieldTypeName){case"Checkbox":case"Switch":t[e.name]=!1;break;case"Number":case"NumericTextBox":t[e.name]=0;break;case"Date":case"DropDownList":t[e.name]=null;break;default:t[e.name]=""}})),t};(0,o.useEffect)((()=>{let e=!0;return(async()=>{if(e)try{v(!0),x(null),z(!1),_([]),A({}),N({}),P({}),O(null);const s=await K();if(!e)return;F(s);const l=await c(t);if(!e)return;w(l);const d=l.standardFields.filter((e=>"DropDownList"===e.fieldTypeName&&e.source)),u=ee(l,s,t),h=d.map((async e=>{let n;if("ChartOfAccount"===t&&"parent"===e.name)n=await W(e.source),n=n.filter((e=>!0===e.isParent));else if("form"===e.name&&u)try{const e=await fetch(yi(vi.endpoints.formByTypeOfRecord(u)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch forms for record type: ".concat(e.status));n=await e.json(),n=Array.isArray(n)?n:n.results||n.data||[]}catch(o){n=[]}else n=await W(e.source);return{name:e.name,data:n}})),f=await Promise.all(h);if(!e)return;const m=f.reduce(((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e}),{});I(m);const g=Q(l.standardFields);if("new"!==n&&i)try{var o;let n={};switch(t){case"InventoryAdjustment":{const e=await fetch(yi("/inventory-adjustment/".concat(i)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});e.ok&&(n=await e.json());break}case"InventoryTransfer":{const e=await fetch(yi("/inventory-transfer/".concat(i)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});e.ok&&(n=await e.json());break}default:console.warn("No fetch method available for record type: ".concat(t)),n={}}if(!e)return;const c=(null===(o=n)||void 0===o?void 0:o.data)||n||{};if(c&&Object.keys(c).length>0){const n=p({},g);l.standardFields.forEach((e=>{if(void 0!==c[e.name]){let t=c[e.name];if(("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date")||"soDate"===e.name||"invoiceDate"===e.name||"deliveryDate"===e.name)&&t&&"string"===typeof t){const n=new Date(t);t=isNaN(n.getTime())?null:n,console.log("DEBUG: Converted date field ".concat(e.name,' from string "').concat(c[e.name],'" to Date object:'),t)}n[e.name]=t}}));const o=l.standardFields.map((e=>e.name));Object.keys(c).forEach((e=>{void 0===c[e]||o.includes(e)||(n[e]=c[e])})),C(n),"InventoryTransfer"===t&&n.fromLocation?(console.log("DEBUG: Setting selectedLocation from loaded fromLocation data:",n.fromLocation),V(n.fromLocation),n.toLocation&&(console.log("DEBUG: Setting toLocation from loaded toLocation data:",n.toLocation),q(n.toLocation))):"InventoryAdjustment"===t&&n.location&&(console.log("DEBUG: Setting selectedLocation from loaded location data:",n.location),V(n.location));try{let e=[],o="",r="";switch(t){case"InventoryAdjustment":o=yi("/inventory-adjustment-line/by-adjustment/".concat(i)),r="inventoryAdjustmentId";break;case"InventoryTransfer":o=yi("/inventory-transfer-line/by-transfer/".concat(i)),r="inventoryTransferId";break;default:console.warn("No line items endpoint configured for record type: ".concat(t))}if(o){console.log("DEBUG: Loading line items from: ".concat(o));const t=await fetch(o,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const o=await t.json();if(console.log("DEBUG: Line items response:",o),Array.isArray(o))e=o;else if(o.results&&Array.isArray(o.results))e=o.results;else if(o.data&&Array.isArray(o.data))e=o.data;else if(o.lines&&Array.isArray(o.lines))e=o.lines;else{console.log("DEBUG: Checking for line items in object properties...");const t=Object.values(o).filter((e=>Array.isArray(e)));t.length>0&&(e=t[0],console.log("DEBUG: Found array in object properties:",e))}if(console.log("DEBUG: Processed line items:",e),e.length>0){const t=e.map((e=>p({},e)));n.items=t,C(p({},n)),console.log("DEBUG: Added ".concat(e.length," line items to form data with calculated amounts"))}}else console.warn("Failed to load line items: ".concat(t.status," ").concat(t.statusText))}}catch(r){console.error("Error loading line items for ".concat(t,":"),r)}if(c.form)try{const n=await Y(c.form);if(!e)return;if(_(n),O(c.form),n.length>0){const o=Q(n.map((e=>p(p({},e),{},{name:e.fieldName})))),r=ee(l,s,t),{customData:a,customFieldIds:c}=await X(i,r,n);if(!e)return;N(c);const d=p(p({},o),a);A(d),P(d)}}catch(a){}}else console.warn("No data found for ".concat(t," with ID: ").concat(i)),C(g)}catch(y){console.error("Error fetching ".concat(t,":"),y),C(g)}else{if(!e)return;C(g)}if(!e)return;z(!0)}catch(a){if(!e)return;x(a.message),Z(a.message,"error")}finally{if(!e)return;v(!1)}})(),()=>{e=!1}}),[n,i,t]),(0,o.useEffect)((()=>()=>{U.current&&(clearTimeout(U.current),U.current=null),_([]),A({}),N({}),P({}),O(null),C({}),z(!1),h({show:!1,message:"",type:"success"})}),[]);const J=(0,o.useMemo)((()=>{if(!L)return{};if(0===Object.keys(j).length)return k;const e={};return Object.keys(j).forEach((t=>{e["custom_".concat(t)]=j[t]})),p(p({},k),e)}),[k,j,L]),Z=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";U.current&&clearTimeout(U.current),h({show:!0,message:e,type:t}),U.current=setTimeout((()=>{h({show:!1,message:"",type:"success"}),U.current=null}),4e3)}),[]),$=(0,o.useCallback)((e=>{const t={};return null!==b&&void 0!==b&&b.standardFields?(b.standardFields.forEach((n=>{const o=e[n.name];!n.isMandatory||o&&""!==o||(t[n.name]="".concat(n.name.charAt(0).toUpperCase()+n.name.slice(1)," is required")),"email"===n.name&&o&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(t[n.name]="Please enter a valid email address"),"phone"===n.name&&o&&!/^\d{10}$/.test(o.replace(/\D/g,""))&&(t[n.name]="Phone number must be 10 digits")})),t):t}),[b]),ee=(e,t,n)=>{if(null!==e&&void 0!==e&&e.recordTypeId)return e.recordTypeId;let o=t.find((e=>e.name===n));return o?o.id:(o=t.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()})),o?o.id:null)},te=()=>{if(null!==b&&void 0!==b&&b.recordTypeId)return b.recordTypeId;let e=R.find((e=>e.name===t));return e?e.id:(e=R.find((e=>{var n;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())===t.toLowerCase()})),e?e.id:null)},ne=async(e,n)=>{console.log("DEBUG: createTransactionLineItems called with:",{headerId:e,lineItems:n,recordType:t}),console.log("=== LINE ITEMS SAVE - CREATE MODE ==="),console.log("Header ID:",e),console.log("Record Type:",t),console.log("Number of line items to create:",n.length),console.log("Raw line items data:",JSON.stringify(n,null,2));const o={InventoryAdjustment:{endpoint:yi("/inventory-adjustment-line"),idField:"inventoryAdjustmentID",quantityField:"quantityAdjusted"},InventoryTransfer:{endpoint:yi("/inventory-transfer-line"),idField:"inventoryTransferID",quantityField:"quantityTransfer"}}[t];if(console.log("DEBUG: Using config for",t,":",o),!o)throw new Error("Unsupported record type: ".concat(t));const r=n.map((async(n,r)=>{var i;console.log("DEBUG: line 111111111111111:",n);const a=Number(n.quantityAdjusted||n.quantityTransfer||0),s=Number(n.rate||0),l={[o.idField]:e,itemID:(null===(i=n.itemID)||void 0===i?void 0:i.value)||n.itemID,quantityInHand:Number(n.quantityInHand||0),[o.quantityField]:a,rate:s,totalAmount:n.totalAmount||0,reason:n.reason};console.log("DEBUG: Creating line ".concat(r+1," with payload:"),l),console.log("DEBUG: Sending to endpoint:",o.endpoint);const c=await fetch(o.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(aD(l))});if(console.log("DEBUG: Line ".concat(r+1," response status:"),c.status),!c.ok){const e=await c.text();throw console.log("DEBUG: Line ".concat(r+1," error:"),e),new Error("Failed to create line ".concat(r+1,": ").concat(c.status," - ").concat(e))}const u=await c.json();if(console.log("DEBUG: Line ".concat(r+1," created successfully:"),u),"InventoryAdjustment"===t&&B&&0!==a)try{var p;const e=(null===(p=n.itemID)||void 0===p?void 0:p.value)||n.itemID,t=(null===B||void 0===B?void 0:B.value)||B;e&&t?(console.log("Updating inventory for item ".concat(e," at location ").concat(t," with quantity adjustment ").concat(a)),await d({itemId:e,locationId:t,quantity:a}),console.log("\u2705 Inventory updated successfully for item ".concat(e))):console.warn("\u26a0\ufe0f Missing itemId (".concat(e,") or locationId (").concat(t,") for inventory update"))}catch(f){console.error("\u274c Failed to update inventory for item ".concat(n.itemID,":"),f.message)}if("InventoryTransfer"===t&&0!==a)try{var h;const e=(null===(h=n.itemID)||void 0===h?void 0:h.value)||n.itemID,t=(null===B||void 0===B?void 0:B.value)||B,o=(null===H||void 0===H?void 0:H.value)||H;e&&t&&o?(console.log("\ud83d\udd04 Processing inventory transfer for item ".concat(e,":")),console.log("   From: ".concat(t," (subtract ").concat(a,")")),console.log("   To: ".concat(o," (add ").concat(a,")")),console.log("\ud83d\udce4 Step 1: Subtracting ".concat(a," from fromLocation ").concat(t)),await d({itemId:e,locationId:t,quantity:-a}),console.log("\u2705 Successfully subtracted from fromLocation"),console.log("\ud83d\udce5 Step 2: Adding ".concat(a," to toLocation ").concat(o)),await d({itemId:e,locationId:o,quantity:a}),console.log("\u2705 Successfully added to toLocation"),console.log("\ud83c\udf89 Inventory transfer completed successfully for item ".concat(e))):console.warn("\u26a0\ufe0f Missing data for inventory transfer:",{itemId:e,fromLocationId:t,toLocationId:o})}catch(f){console.error("\u274c Failed to process inventory transfer for item ".concat(n.itemID,":"),f.message)}return u}));await Promise.all(r)},oe=async(e,n,o)=>{const r=p(p({},e),{},{id:i});try{switch(t){case"InventoryAdjustment":{const e=await fetch(yi(vi.endpoints.inventoryAdjustmentById(i)),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(aD(r))});if(!e.ok)throw new Error("Failed to update InventoryAdjustment: ".concat(e.status));break}case"InventoryTransfer":{const e=await fetch(yi(vi.endpoints.inventoryTransferById(i)),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(aD(r))});if(!e.ok)throw new Error("Failed to update InventoryTransfer: ".concat(e.status));break}default:throw new Error("Unsupported record type: ".concat(t))}}catch(y){throw console.error("Error updating ".concat(t,":"),y),y}let a=0;if(Object.keys(n).length>0&&o){const e={};Object.entries(n).forEach((t=>{let[n,o]=t;T[n]!==o&&(e[n]=o)})),a=Object.keys(e).length,a>0&&await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o={};if(Object.entries(e).forEach((e=>{let[t,n]=e;T[t]!==n&&(o[t]=n)})),0===Object.keys(o).length)return;const r=Object.entries(o).map((async e=>{let[o,r]=e;const i=E.find((e=>e.fieldName===o)),a=null===i||void 0===i?void 0:i.id,s=D[o],l={request:"update",typeOfRecord:n,valueText:String(r),customFieldID:a,recordID:t};let c;if(c=s?await fetch(yi("".concat(vi.endpoints.customFieldValue,"/").concat(s)),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(aD(l))}):await fetch(yi(vi.endpoints.customFieldValue),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(aD(l))}),!c.ok)throw new Error("Failed to ".concat(s?"update":"create",' custom field "').concat(o,'": ').concat(c.status));return await c.json()}));await Promise.all(r)})(n,i,o)}return a},re=(0,o.useCallback)((async e=>{if(e)try{var t,o;v(!0);const r=await Y(e);_(r),O(e);const a=Q(r.map((e=>p(p({},e),{},{name:e.fieldName}))));if("new"!==n&&i){const e=te(),{customData:t,customFieldIds:n}=await X(i,e,r);N(n);const o=p(p({},a),t);A(o),P(o)}else A(a),P(a);const[s,l]=await Promise.all([fetch("".concat(vi.baseURL,"/form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch("".concat(vi.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let c="";if(s.ok&&l.ok){const[e,t]=await Promise.all([s.text().then((e=>e.trim()?JSON.parse(e):{})),l.text().then((e=>e.trim()?JSON.parse(e):[]))]),n=Array.isArray(t)&&t.length>0?t[0]:{formSequenceNumber:0},o=e.prefix||"",r=(n.formSequenceNumber||0)+1;c="".concat(o).concat(String(r).padStart(4,"0"))}const d=null===b||void 0===b||null===(t=b.standardFields)||void 0===t?void 0:t.some((e=>"form"===e.name)),u=null===b||void 0===b||null===(o=b.standardFields)||void 0===o?void 0:o.some((e=>"sequenceNumber"===e.name)),h={};d&&(h.form=e),u&&(h.sequenceNumber=c),C((e=>p(p({},e),h)))}catch(s){var r;(null===b||void 0===b||null===(r=b.standardFields)||void 0===r?void 0:r.some((e=>"form"===e.name)))&&C((t=>p(p({},t),{},{form:e})))}finally{v(!1)}else{var a;_([]),A({}),N({}),P({}),O(null);(null===b||void 0===b||null===(a=b.standardFields)||void 0===a?void 0:a.some((e=>"sequenceNumber"===e.name)))&&C((e=>p(p({},e),{},{sequenceNumber:null})))}}),[b,Y,n,i,te,X,Q]),ie=(0,o.useCallback)(((e,t)=>{const n=Object.keys(e);if(e.name)return e.name;if("form"===t&&e.formName)return e.formName;const o=["title","description","label","displayName"];for(const i of o)if(e[i])return e[i];if(e.accountName&&e.accountNumber)return"".concat(e.accountNumber," - ").concat(e.accountName);if(e.itemName&&e.itemCode)return"".concat(e.itemCode," - ").concat(e.itemName);if(e.formName)return e.formName;const r=n.find((t=>"id"!==t&&"string"===typeof e[t]&&e[t].trim().length>0));return r?e[r]:String(e.id)}),[]),ae=(0,o.useRef)({}),se=(0,o.useCallback)((e=>{var t;const{name:n,onChange:o,value:r}=e,i=S[n]||[],a="".concat(n,"_").concat(i.length,"_").concat((null===(t=i[0])||void 0===t?void 0:t.id)||i[0]||"");let s;ae.current[a]?s=ae.current[a]:(s=i.map((e=>{if("string"===typeof e)return{text:e,value:e};if(!e.id)return{text:String(e),value:e};return{text:ie(e,n),value:e.id}})),ae.current[a]=s);const l=[{text:"-- Select --",value:null},...s],c=null!==r&&void 0!==r&&""!==r?l.find((e=>e.value===r)):l[0];return{data:l,textField:"text",valueField:"value",value:c,virtual:!1,popupSettings:{appendTo:document.body,animate:!1},onChange:async e=>{var t;const r=(null===(t=e.target.value)||void 0===t?void 0:t.value)||e.target.value,i=""===r||void 0===r?null:r;o&&o({target:{value:i}}),"form"===n&&await re(i),"location"!==n&&"fromLocation"!==n||(console.log("\ud83d\udccd ".concat(n," selected:"),i),V(i)),"toLocation"===n&&(console.log("\ud83d\udccd ".concat(n," selected:"),i),q(i))}}}),[S,re,V]),le=(0,o.useCallback)((e=>{const{name:t}=e,n=(S[t]||[]).map((e=>{if("string"===typeof e)return{text:e,value:e};if(e.name&&e.id)return{text:e.name,value:e.id};if(e.text&&e.value)return e;const t=Object.keys(e);return{text:e[t[0]],value:e[t[0]]}}));return{data:n,textField:"text",valueField:"value"}}),[S]),ce=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,touched:r,label:i}=e,a=s(e,iD),l=r&&o,c=p(p({},a),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||a.disabled}),d={text:{component:qc,props:c},number:{component:Su,props:p(p({},c),{},{min:0,step:0,spinners:!1})},textarea:{component:ju,props:p(p({},c),{},{rows:4})},checkbox:{component:Tu,props:p(p({},c),{},{label:i,checked:a.value||!1,style:{display:"flex",alignItems:"center"}})},date:{component:oy,props:c},dropdown:{component:Ah,props:p(p({},c),se(e))},multiselect:{component:af,props:p(p({},c),le(e))}},u=d[t]||d.text;return(0,pi.jsxs)("div",{children:[(0,pi.jsx)(u.component,p({},u.props)),l&&(0,pi.jsx)("div",{className:"k-form-error",children:o})]})}}),[n,se,le]),de=(0,o.useMemo)((()=>({Input:ce(qc,"text"),TextArea:ce(ju,"textarea"),Checkbox:ce(Tu,"checkbox"),NumericTextBox:ce(qc,"number"),Number:ce(qc,"number"),DropDownList:ce(Ah,"dropdown"),DatePicker:ce(oy,"date"),MultiSelect:ce(af,"multiselect")})),[ce]),ue=e=>de[e.fieldTypeName]||de.Input,pe=function(e){const t=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);return e.isMandatory?"".concat(t," *"):t},he=(0,o.useCallback)((function(e){if(e.isMandatory)return t=>t&&""!==t?"email"===e.name&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"Please enter a valid email address":"phone"===e.name&&t&&!/^\d{10}$/.test(t.replace(/\D/g,""))?"Phone number must be 10 digits":"":"".concat(e.displayName||e.name," is required")}),[]),fe=e=>{if(e.isRequired)return t=>t&&""!==t?"":"".concat(e.fieldLabel||e.fieldName," is required")},me=(0,o.useCallback)((function(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const a=t?"custom_".concat(e.fieldName||e.name):e.name,s=t&&e.fieldName||e.name,l=r||"".concat(t?"custom":"standard","-field-").concat(e.id||s),c=t?"".concat(e.fieldLabel||e.fieldName).concat(e.isRequired?" *":""):pe(e,i),d=ue(e),u=t?fe(e):he(e,i),p="Checkbox"===e.fieldTypeName||"Switch"===e.fieldTypeName,h="view"===n||e.isDisabled;return(0,pi.jsxs)("div",{className:"master-field-group ".concat(o?"master-field-full":""," ").concat(p?"checkbox-wrapper":""),children:[!p&&(0,pi.jsx)("label",{className:"k-label",children:c}),(0,pi.jsx)("div",{className:"field-wrapper",children:(0,pi.jsx)(wi,{id:a,name:a,component:d,validator:u,disabled:h,label:p?c:void 0})})]},l)}),[n,t,ue,pe,he,fe]),ye=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=[];let i=[];return e.forEach((e=>{["TextArea","Checkbox","MultiSelect"].includes(e.fieldTypeName)?(i.length>0&&(r.push({type:"row",fields:[...i]}),i=[]),r.push({type:"fullWidth",field:e})):(i.push(e),3===i.length&&(r.push({type:"row",fields:[...i]}),i=[]))})),i.length>0&&r.push({type:"row",fields:[...i]}),r.map(((e,r)=>{const i=t?"custom":"standard";return"row"===e.type?(0,pi.jsx)(o.Fragment,{children:e.fields.map((e=>me(e,t,!1,null,n)))},"".concat(i,"-row-").concat(r)):me(e.field,t,!0,"".concat(i,"-full-").concat(r),n)}))}),[me]);return g||a||!b||!L?(0,pi.jsx)("div",{className:"master-form-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsxs)("div",{children:["Loading ",t.toLowerCase()," form..."]})]})}):y||l?(0,pi.jsx)("div",{className:"master-form-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("h3",{children:["Error Loading ",t]}),(0,pi.jsx)("p",{children:y||l}),(0,pi.jsx)(xo,{onClick:()=>r("/"),children:"Back to Dashboard"})]})}):(0,pi.jsxs)("div",{className:"master-form-container","data-theme":t.toLowerCase(),children:[(0,pi.jsx)(uy,{children:u.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:u.message})})})}),(0,pi.jsx)("div",{className:"master-form-header",children:(0,pi.jsx)("h2",{children:"new"===n?"Create New ".concat(t):"edit"===n?"Edit ".concat(t):"View ".concat(t)})}),(0,pi.jsx)("div",{className:"master-form-element",children:(0,pi.jsx)(ha,{initialValues:J,validator:$,onSubmit:async e=>{try{v(!0),x(null);const{standardData:a,customData:s}=(e=>{const t={},n={};return Object.keys(e).forEach((o=>{const r=e[o],i=""===r?null:r;if(o.startsWith("custom_")){const e=o.replace("custom_","");n[e]=i}else t[o]=i})),{standardData:t,customData:n}})(e),l=te();if("new"===n){var o;const n=await(async(e,n)=>{var o;const r=p(p({},e),{},{totalAmount:null!==(o=e.totalAmount)&&void 0!==o?o:0});console.log("DEBUG: createMainRecord - Creating ".concat(t," with data:"),r);try{var i,a,s;let e;switch(t){case"InventoryAdjustment":{const t=yi("/inventory-adjustment");console.log("DEBUG: createMainRecord - POST to ".concat(t)),console.log("DEBUG: createMainRecord - Request body:",JSON.stringify(r,null,2));const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(aD(r))});if(console.log("DEBUG: createMainRecord - Response status: ".concat(n.status," ").concat(n.statusText)),console.log("DEBUG: createMainRecord - Response headers:",Object.fromEntries(n.headers.entries())),!n.ok){const e=await n.text();throw console.error("DEBUG: createMainRecord - Error response body:",e),new Error("Failed to create InventoryAdjustment: ".concat(n.status," - ").concat(e))}e=await n.json(),console.log("DEBUG: createMainRecord - Created record response:",e);break}case"InventoryTransfer":{const t=yi("/inventory-transfer");console.log("DEBUG: createMainRecord - POST to ".concat(t)),console.log("DEBUG: createMainRecord - Request body:",JSON.stringify(r,null,2));const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(aD(r))});if(console.log("DEBUG: createMainRecord - Response status: ".concat(n.status," ").concat(n.statusText)),console.log("DEBUG: createMainRecord - Response headers:",Object.fromEntries(n.headers.entries())),!n.ok){const e=await n.text();throw console.error("DEBUG: createMainRecord - Error response body:",e),new Error("Failed to create InventoryTransfer: ".concat(n.status," - ").concat(e))}e=await n.json(),console.log("DEBUG: createMainRecord - Created record response:",e);break}default:throw new Error("Unsupported record type: ".concat(t))}let o=null;if(null!==(i=e)&&void 0!==i&&i.id)o=e.id;else if(null!==(a=e)&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.id)o=e.data.id;else if("string"===typeof e)o=e;else{const t=Object.keys(e||{}).filter((e=>e.toLowerCase().includes("id")));t.length>0&&(o=e[t[0]])}if(!o)throw new Error("".concat(t," header created but no ID returned. Response: ").concat(JSON.stringify(e)));const l=n.items||[];return console.log("DEBUG: formValues received:",n),console.log("DEBUG: lineItems extracted:",l),console.log("DEBUG: lineItems length:",l.length),l.length>0?(console.log("DEBUG: Creating line items for recordId:",o),await ne(o,l),console.log("DEBUG: Line items created successfully")):console.log("DEBUG: No line items to create"),o}catch(y){throw console.error("Error creating ".concat(t,":"),y),y}})(a,e);(null===b||void 0===b||null===(o=b.standardFields)||void 0===o?void 0:o.some((e=>"form"===e.name)))&&M&&await(async e=>{if(e)try{const t=await fetch(yi(vi.endpoints.formSequenceByForm(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)return;const n=await t.text();if(!n.trim())return;const o=JSON.parse(n);if(!Array.isArray(o)||0===o.length)return;const r=o[0],i=(r.formSequenceNumber||0)+1;await fetch(yi("".concat(vi.endpoints.formSequence,"/").concat(r.id)),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(aD({formId:e,formSequenceNumber:i}))})}catch(t){}})(M),await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o=Object.entries(e).map((async e=>{let[o,r]=e;const i=E.find((e=>e.fieldName===o)),a=null===i||void 0===i?void 0:i.id,s={request:"create",typeOfRecord:n,valueText:String(r),customFieldID:a,recordID:t},l=await fetch(yi(vi.endpoints.customFieldValue),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(aD(s))});if(!l.ok)throw new Error('Failed to create custom field "'.concat(o,'": ').concat(l.status));return await l.json()}));await Promise.all(o)})(s,n,l),Z("".concat(t," created successfully with ").concat(Object.keys(s).length," custom fields"),"success")}else{const n=await oe(a,s,l);e.items&&e.items.length>0?(console.log("DEBUG: Calling updateTransactionLineItemsSimple with items:",e.items.length),await(async e=>{console.log("DEBUG: updateTransactionLineItemsSimple called with:",e.length,"items"),console.log("DEBUG: recordType:",t),console.log("DEBUG: selectedLocation:",B);const n={InventoryAdjustment:{endpoint:yi("/inventory-adjustment-line"),getEndpoint:yi("/inventory-adjustment-line/by-adjustment/".concat(i)),idField:"inventoryAdjustmentID",quantityField:"quantityAdjusted"},InventoryTransfer:{endpoint:yi("/inventory-transfer-line"),getEndpoint:yi("/inventory-transfer-line/by-transfer/".concat(i)),idField:"inventoryTransferID",quantityField:"quantityTransfer"}}[t];if(n)try{const r=await fetch(n.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let a=[];if(r.ok){const e=await r.json();if(Array.isArray(e))a=e;else if(e.results&&Array.isArray(e.results))a=e.results;else{const t=Object.values(e).filter((e=>Array.isArray(e)));t.length>0&&(a=t[0])}}console.log("DEBUG: Existing items from API:",a.length);const s=new Map;a.forEach((e=>{e.id&&s.set(e.id,e)}));const l=new Map;e.forEach((e=>{e.id&&l.set(e.id,e)}));const c=[],u=[],p=[];e.forEach((e=>{e.id&&s.has(e.id)?c.push(e):u.push(e)})),a.forEach((e=>{e.id&&!l.has(e.id)&&p.push(e)})),console.log("DEBUG: Items to update:",c.length),console.log("DEBUG: Items to create:",u.length),console.log("DEBUG: Items to delete:",p.length);const h=c.map((e=>{const t={[n.idField]:i,itemID:e.itemID||e.itemId,quantityInHand:parseFloat(e.quantityInHand||0),[n.quantityField]:parseFloat(e.quantityAdjusted||e.quantityTransfer||0),rate:parseFloat(e.rate||0),totalAmount:parseFloat(e.amount||e.totalAmount||0),reason:e.reason};return console.log("DEBUG: UPDATE line item ".concat(e.itemID," payload:"),t),fetch("".concat(n.endpoint,"/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(aD(t))})})),f=u.map((e=>{const t={[n.idField]:i,itemID:e.itemID||e.itemId,quantityInHand:parseFloat(e.quantityInHand||0),[n.quantityField]:parseFloat(e.quantityAdjusted||e.quantityTransfer||0),rate:parseFloat(e.rate||0),totalAmount:parseFloat(e.amount||e.totalAmount||0),reason:e.reason};return console.log("DEBUG: CREATE line item ".concat(e.itemID," payload:"),t),fetch(n.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(aD(t))})})),m=p.map((e=>fetch("".concat(n.endpoint,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}))),g=[...h,...f,...m],v=(await Promise.all(g)).filter((e=>!e.ok));if(v.length>0)throw new Error("Failed to update ".concat(v.length," line items"));if(console.log("DEBUG: All line item operations completed successfully"),console.log("\ud83d\udd0d DEBUG: Checking inventory update conditions:"),console.log("\ud83d\udd0d DEBUG: recordType:",t),console.log("\ud83d\udd0d DEBUG: selectedLocation exists:",!!B),console.log("\ud83d\udd0d DEBUG: selectedLocation value:",B),"InventoryAdjustment"===t&&B){console.log("\u2705 DEBUG: INVENTORY ADJUSTMENT UPDATE CONDITIONS MET - Processing inventory detail updates for edit mode"),console.log("DEBUG: selectedLocation:",B),console.log("DEBUG: itemsToDelete:",p.length),console.log("DEBUG: itemsToUpdate:",c.length),console.log("DEBUG: itemsToCreate:",u.length);for(const e of p)try{const t=e.itemID||e.itemId,n=(null===B||void 0===B?void 0:B.value)||B,o=parseFloat(e.quantityAdjusted||0);t&&n&&0!==o&&(console.log("Reversing inventory for deleted item ".concat(t,": ").concat(o," -> ").concat(-o)),await d({itemId:t,locationId:n,quantity:-o}),console.log("\u2705 Inventory reversed for deleted item ".concat(t)))}catch(o){console.error("\u274c Failed to reverse inventory for deleted item ".concat(e.itemID,":"),o.message)}for(const e of c)try{const t=e.itemID||e.itemId,n=(null===B||void 0===B?void 0:B.value)||B,o=parseFloat(e.quantityAdjusted||0),r=a.find((t=>t.id===e.id)),i=parseFloat((null===r||void 0===r?void 0:r.quantityAdjusted)||0),s=o-i;console.log("DEBUG: Inventory calculation for item ".concat(t,":")),console.log("DEBUG: - originalQuantity: ".concat(i)),console.log("DEBUG: - newQuantity: ".concat(o)),console.log("DEBUG: - quantityDifference: ".concat(s)),t&&n&&0!==s?(console.log("Updating inventory for item ".concat(t,": original ").concat(i,", new ").concat(o,", difference ").concat(s)),await d({itemId:t,locationId:n,quantity:s}),console.log("\u2705 Inventory updated for item ".concat(t))):console.log("\u23ed\ufe0f Skipping inventory update for item ".concat(t,": no change (difference: ").concat(s,")"))}catch(o){console.error("\u274c Failed to update inventory for item ".concat(e.itemID,":"),o.message)}for(const e of u)try{const t=e.itemID||e.itemId,n=(null===B||void 0===B?void 0:B.value)||B,o=parseFloat(e.quantityAdjusted||0);t&&n&&0!==o&&(console.log("Adding inventory for new item ".concat(t,": ").concat(o)),await d({itemId:t,locationId:n,quantity:o}),console.log("\u2705 Inventory added for new item ".concat(t)))}catch(o){console.error("\u274c Failed to add inventory for new item ".concat(e.itemID,":"),o.message)}}else if("InventoryTransfer"===t&&B&&H){console.log("\u2705 DEBUG: INVENTORY TRANSFER UPDATE CONDITIONS MET - Processing inventory detail updates for edit mode"),console.log("DEBUG: fromLocation (selectedLocation):",B),console.log("DEBUG: toLocation:",H),console.log("DEBUG: itemsToDelete:",p.length),console.log("DEBUG: itemsToUpdate:",c.length),console.log("DEBUG: itemsToCreate:",u.length);for(const e of p)try{const t=e.itemID||e.itemId,n=(null===B||void 0===B?void 0:B.value)||B,o=(null===H||void 0===H?void 0:H.value)||H,r=parseFloat(e.quantityTransfer||0);t&&n&&o&&0!==r&&(console.log("\ud83d\udd04 Reversing transfer for deleted item ".concat(t,": ").concat(r)),await d({itemId:t,locationId:n,quantity:r}),await d({itemId:t,locationId:o,quantity:-r}),console.log("\u2705 Transfer reversed for deleted item ".concat(t)))}catch(o){console.error("\u274c Failed to reverse transfer for deleted item ".concat(e.itemID,":"),o.message)}for(const e of c)try{const t=e.itemID||e.itemId,n=(null===B||void 0===B?void 0:B.value)||B,o=(null===H||void 0===H?void 0:H.value)||H,r=parseFloat(e.quantityTransfer||0),i=a.find((t=>t.id===e.id)),s=parseFloat((null===i||void 0===i?void 0:i.quantityTransfer)||0),l=r-s;console.log("DEBUG: Transfer calculation for item ".concat(t,":")),console.log("DEBUG: - originalQuantity: ".concat(s)),console.log("DEBUG: - newQuantity: ".concat(r)),console.log("DEBUG: - quantityDifference: ".concat(l)),t&&n&&o&&0!==l?(console.log("\ud83d\udd04 Updating transfer for item ".concat(t,": difference ").concat(l)),await d({itemId:t,locationId:n,quantity:-l}),await d({itemId:t,locationId:o,quantity:l}),console.log("\u2705 Transfer updated for item ".concat(t))):console.log("\u23ed\ufe0f Skipping transfer update for item ".concat(t,": no change (difference: ").concat(l,")"))}catch(o){console.error("\u274c Failed to update transfer for item ".concat(e.itemID,":"),o.message)}for(const e of u)try{const t=e.itemID||e.itemId,n=(null===B||void 0===B?void 0:B.value)||B,o=(null===H||void 0===H?void 0:H.value)||H,r=parseFloat(e.quantityTransfer||0);t&&n&&o&&0!==r&&(console.log("\ud83d\udd04 Adding transfer for new item ".concat(t,": ").concat(r)),await d({itemId:t,locationId:n,quantity:-r}),await d({itemId:t,locationId:o,quantity:r}),console.log("\u2705 Transfer added for new item ".concat(t)))}catch(o){console.error("\u274c Failed to add transfer for new item ".concat(e.itemID,":"),o.message)}}else console.log("\u274c DEBUG: INVENTORY UPDATE CONDITIONS NOT MET"),console.log("\u274c DEBUG: recordType:",t),console.log("\u274c DEBUG: selectedLocation exists:",!!B),console.log("\u274c DEBUG: toLocation exists:",!!H)}catch(y){throw console.error("Error updating line items for ".concat(t,":"),y),y}else console.warn("No line items configuration for record type: ".concat(t))})(e.items)):console.log("DEBUG: No items to update in formValues.items"),Z("".concat(t," updated successfully with ").concat(n," custom fields"),"success")}r(G[t]||"/customer")}catch(a){x(a.message),Z(a.message,"error")}finally{v(!1)}},render:e=>(0,pi.jsxs)(xa,{children:[(0,pi.jsxs)("div",{className:"master-form-content",children:[(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:ye(b.standardFields,!1,e)})]}),E.length>0&&(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:ye(E,!0,e)})]}),(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Items"})}),(0,pi.jsx)("div",{style:{padding:"0",width:"100%",maxWidth:"100%",overflow:"hidden"},children:(0,pi.jsx)(rD,{recordType:t,mode:n,embedded:!0,selectedLocation:B,toLocation:H,selectedFormId:M})})]})]}),(0,pi.jsxs)("div",{className:"master-form-actions",children:[(0,pi.jsxs)(xo,{type:"button",onClick:()=>r(G[t]||"/sales-order"),className:"k-button k-button-secondary",children:[(0,pi.jsx)(ai,{})," ","view"===n?"Close":"Cancel"]}),"new"!==n&&(0,pi.jsxs)(xo,{type:"button",onClick:()=>m(!0),className:"k-button k-button-danger",children:[(0,pi.jsx)(li,{})," Delete"]}),"view"!==n&&(0,pi.jsxs)(xo,{type:"submit",disabled:g||!e.allowSubmit,className:"k-button k-button-primary",children:[(0,pi.jsx)(ni,{})," ",g?"Saving...":"Save"]})]})]})},"".concat(t.toLowerCase(),"-form-").concat(n,"-").concat(i||"new","-").concat(M||"no-form"))}),(0,pi.jsx)(hy,{isOpen:f,onClose:()=>m(!1),onConfirm:async()=>{try{switch(v(!0),await(async e=>{try{let n,o;switch(t){case"InventoryAdjustment":n="/inventory-adjustment-line",o="inventoryAdjustmentId";break;case"InventoryTransfer":n="/inventory-transfer-line",o="inventoryTransferId";break;default:throw new Error("Unsupported record type for line items: ".concat(t))}const r=await fetch(yi("".concat(n,"?").concat(o,"=").concat(e)),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!r.ok)return void console.warn("Failed to fetch line items for deletion: ".concat(r.status));const i=await r.json(),a=i.results||i||[];if(0===a.length)return void console.log("No line items found to delete");const s=a.map((async e=>{try{const t=await fetch(yi("".concat(n,"/").concat(e.id)),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});t.ok||console.warn("Failed to delete line item ".concat(e.id,": ").concat(t.status))}catch(y){console.warn("Error deleting line item ".concat(e.id,":"),y)}}));await Promise.all(s),console.log("Deleted ".concat(a.length," line items for ").concat(t," ").concat(e))}catch(y){console.warn("Error deleting line items:",y)}})(i),t){case"InventoryAdjustment":{const e=await fetch(yi(vi.endpoints.inventoryAdjustmentById(i)),{method:"DELETE"});if(!e.ok)throw new Error("Failed to delete InventoryAdjustment: ".concat(e.status));break}case"InventoryTransfer":{const e=await fetch(yi(vi.endpoints.inventoryTransferById(i)),{method:"DELETE"});if(!e.ok)throw new Error("Failed to delete InventoryTransfer: ".concat(e.status));break}default:throw new Error("Unsupported record type: ".concat(t))}Z("".concat(t," deleted successfully!"),"success"),m(!1);r(G[t]||"/")}catch(y){console.error("Error deleting ".concat(t,":"),y),Z("Failed to delete ".concat(t,": ").concat(y.message),"error")}finally{v(!1)}},title:"Confirm Delete",message:(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsxs)("p",{children:["Are you sure you want to delete this ",t.toLowerCase(),"?"]}),(0,pi.jsx)("p",{children:(0,pi.jsx)("strong",{children:"This action cannot be undone."})})]}),confirmText:"Delete",cancelText:"Cancel",type:"danger",loading:g})]})})),lD=sD,cD=()=>{const e=ge(),[t,n]=(0,o.useState)({results:[]}),[r,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(0),[d,u]=(0,o.useState)(1),{customers:h}=xy(),[f,m]=(0,o.useState)(""),[g,v]=(0,o.useState)("All"),[y,x]=(0,o.useState)({show:!1,message:"",type:"success"}),[b,w]=(0,o.useState)({skip:0,take:10,sort:[{field:"adjustmentDate",dir:"desc"}]}),k=(0,o.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{i(!0),s(null);const o=yi("/inventory-adjustment?PageNumber=".concat(e,"&PageSize=").concat(t)),r=await fetch(o);if(!r.ok)throw new Error("Failed to fetch inventory adjustments: ".concat(r.status));const a=await r.json();Array.isArray(a)?(n({results:a}),c(a.length)):a.results&&Array.isArray(a.results)?(n(a),c(a.totalItems||a.totalCount||a.total||a.results.length)):a.data&&Array.isArray(a.data)?(n({results:a.data}),c(a.totalItems||a.totalCount||a.total||a.data.length)):(n({results:[]}),c(0)),u(e)}catch(o){s(o.message),n({results:[]}),c(0)}finally{i(!1)}}),[]);(0,o.useEffect)((()=>{k()}),[k]);const C=(0,o.useCallback)((()=>null!==t&&void 0!==t&&t.results?t.results:[]),[t]),S=e=>{var t;const n=null===h||void 0===h||null===(t=h.results)||void 0===t?void 0:t.find((t=>t.id===e));return n?n.name:"Unknown Customer"},I=(0,o.useCallback)((()=>{if(null===t||void 0===t||!t.results)return{data:[],total:0};let e=[...t.results];f&&(console.log("filteredData",e),e=e.filter((e=>{const t=S(e.customerID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(e.status).toLowerCase().includes(f.toLowerCase())}))),"All"!==g&&(e=e.filter((e=>e.status===g)));return{data:ub(e,b).data,total:e.length}}),[t,f,g,h,b]),E=()=>{const e=Math.floor(b.skip/b.take)+1,t=b.take;k(e,t),function(e){x({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{x({show:!1,message:"",type:"success"})}),3e3)}("Inventory adjustments refreshed successfully","success")};return r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"inventory-adjustment-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading inventory adjustments..."})]})})}):a?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"inventory-adjustment-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading inventory adjustments: ",a]}),(0,pi.jsxs)(xo,{onClick:E,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"inventory-adjustment-list-container",children:[(0,pi.jsx)(uy,{children:y.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:y.type,icon:!0},closable:!0,onClose:()=>x({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:y.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Inventory Adjustment Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/inventory-adjustment/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Inventory Adjustment"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search inventory adjustments...",value:f,onChange:e=>m(e.target.value)})]}),(0,pi.jsxs)("div",{className:"filter-bar",children:[(0,pi.jsx)($r,{className:"filter-icon"}),(0,pi.jsx)(Ah,{data:["All","Draft","Processed","Cancelled"],value:g,onChange:e=>v(e.target.value),style:{width:"100%"}})]}),(0,pi.jsx)(xo,{onClick:E,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===I().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No inventory adjustments match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:I().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},b),{},{onDataStateChange:e=>{const t=e.dataState;w(t);const n=Math.floor(t.skip/t.take)+1,o=t.take;n===d&&o===b.take||k(n,o)},total:I().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=C().findIndex((t=>t===e.dataItem)),n=b.take||10,o=((d||1)-1)*n+t+1;return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:o}))}}),(0,pi.jsx)(Uy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,pi.jsx)(Uy,{field:"customerID",title:"Customer",width:"200px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:S(e.dataItem.customer)}))}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/inventory-adjustment/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/inventory-adjustment/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid adjustment data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No inventory adjustments found. Click the "Add New Inventory Adjustment" button above to create your first inventory adjustment.'})}),(0,pi.jsx)("style",{children:'\n          .inventory-adjustment-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n            max-width: none;\n            white-space: nowrap;\n            text-overflow: clip;\n            overflow: visible;\n            width: auto;\n          }\n\n          .status-draft {\n            background-color: #FEF3C7;\n            color: #92400E;\n          }\n\n          .status-processed {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-cancelled {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .status-open {\n            background-color: #E6FFFA;\n            color: #00695C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .inventory-adjustment-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n\n          .k-grid .k-table-td .status-badge {\n            max-width: none !important;\n            overflow: visible !important;\n        }\n      '})]})})},dD=()=>{const e=ge(),t=yy("inventory-transfer"),{loading:n,error:r,refresh:i}=t,a=t["inventory-transfers"],{customers:s}=xy(),[l,c]=(0,o.useState)(""),[d,u]=(0,o.useState)("All"),[h,f]=(0,o.useState)({show:!1,message:"",type:"success"}),[m,g]=(0,o.useState)({skip:0,take:10,sort:[{field:"transferDate",dir:"desc"}]}),v=e=>{var t;const n=null===s||void 0===s||null===(t=s.results)||void 0===t?void 0:t.find((t=>t.id===e));return n?n.name:"Unknown Customer"},y=(0,o.useCallback)((()=>{if(null===a||void 0===a||!a.results)return{data:[],total:0};let e=[...a.results];l&&(e=e.filter((e=>{const t=v(e.customerID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(e.status).toLowerCase().includes(l.toLowerCase())}))),"All"!==d&&(e=e.filter((e=>e.status===d)));return{data:ub(e,m).data,total:e.length}}),[a,l,d,s,m]);return n?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"inventory-transfer-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading inventory transfers..."})]})})}):r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"inventory-transfer-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading inventory transfers: ",r]}),(0,pi.jsxs)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"inventory-transfer-list-container",children:[(0,pi.jsx)(uy,{children:h.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:h.type,icon:!0},closable:!0,onClose:()=>f({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:h.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Inventory Transfer Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/inventory-transfer/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Inventory Transfer"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search inventory transfers...",value:l,onChange:e=>c(e.target.value)})]}),(0,pi.jsxs)("div",{className:"filter-bar",children:[(0,pi.jsx)($r,{className:"filter-icon"}),(0,pi.jsx)(Ah,{data:["All","Draft","Transferred","Cancelled"],value:d,onChange:e=>u(e.target.value),style:{width:"100%"}})]}),(0,pi.jsx)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==a&&void 0!==a&&a.results&&0!==a.results.length?0===y().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No inventory transfers match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},m),{},{onDataStateChange:e=>{g(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(m.skip||0);return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,pi.jsx)(Uy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,pi.jsx)(Uy,{field:"customerID",title:"Customer",width:"200px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:v(e.dataItem.customerID)}))}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/inventory-transfer/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/inventory-transfer/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid transfer data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No inventory transfers found. Click the "Add New Inventory Transfer" button above to create your first inventory transfer.'})}),(0,pi.jsx)("style",{children:'\n          .inventory-transfer-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .filter-bar {\n            position: relative;\n            width: 150px;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n            z-index: 1;\n          }\n\n          .filter-bar .k-dropdown {\n            width: 100%;\n          }\n\n          .filter-bar .k-input-inner {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n        .status-badge {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            padding: 4px 12px;\n            border-radius: 12px;\n            font-size: 12px;\n            font-weight: 500;\n            min-width: 80px;\n            max-width: none;\n            white-space: nowrap;\n            text-overflow: clip;\n            overflow: visible;\n            width: auto;\n          }\n\n          .status-draft {\n            background-color: #FEF3C7;\n            color: #92400E;\n          }\n\n          .status-transferred {\n            background-color: #C6F6D5;\n            color: #2F855A;\n          }\n\n          .status-cancelled {\n            background-color: #FED7D7;\n            color: #9B2C2C;\n          }\n\n          .status-open {\n            background-color: #E6FFFA;\n            color: #00695C;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .inventory-transfer-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n\n            .filter-bar {\n              width: 100%;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n\n          .k-grid td:nth-child(4) {\n            overflow: visible !important;\n            text-overflow: clip !important;\n          }\n\n          .k-grid .k-table-td {\n            text-overflow: initial !important;\n          }\n\n          .k-grid .k-table-td .status-badge {\n            max-width: none !important;\n            overflow: visible !important;\n        }\n      '})]})})},uD=e=>{const t=parseFloat(String(null!==e&&void 0!==e?e:"").replace(/,/g,""));return Number.isFinite(t)?t:0},pD=(e,t,n)=>Math.max(t,Math.min(n,e)),hD=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[...(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{const t=new Date(e.invoiceDate),n="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear());return{id:e.id,date:n,dateKey:t.getTime(),type:"Invoice",refNo:e.sequenceNumber,dueAmount:uD(e.amountDue),originalAmount:uD(e.totalAmount),displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null,disabled:!1}})),...e.map((e=>{const t=new Date(e.tranDate),n="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear());return{id:e.id,date:n,dateKey:t.getTime(),type:"Debit Memo",refNo:e.sequenceNumber,dueAmount:uD(e.amountDue||e.totalAmount),originalAmount:uD(e.totalAmount),displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null,disabled:!1}}))].sort(((e,t)=>e.dateKey-t.dateKey))},fD=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{const t=new Date(e.invoiceDate||e.billDate||e.tranDate),n="".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear());return{id:e.id,date:n,dateKey:t.getTime(),type:"Vendor Bill",refNo:e.sequenceNumber,dueAmount:uD(e.amountDue||e.totalAmount),originalAmount:uD(e.totalAmount),displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null,disabled:!1}})).sort(((e,t)=>e.dateKey-t.dateKey))};function mD(e){let{customerId:t,vendorId:n,recordType:r,onPaymentDataChange:i,isViewMode:a=!1,paymentId:s=null,mode:l="new"}=e;const[c,d]=(0,o.useState)("invoices"),[u,h]=(0,o.useState)(""),[f,m]=(0,o.useState)([]),[g,v]=(0,o.useState)(!1),[y,x]=(0,o.useState)(null),[b,w]=(0,o.useState)(null),[k,C]=(0,o.useState)(0),[S,I]=(0,o.useState)(0),E=(0,o.useRef)(1),_=(0,o.useRef)(new Map);(0,o.useEffect)((()=>{if(i){i({paymentAmount:u,invoices:f,appliedTo:k,unapplied:S,originalData:b})}}),[u,f,k,S,b,i]);const j=(0,o.useCallback)((async e=>{if(!e)return[];try{const t=yi(vi.endpoints.invoiceByCustomer(e)),n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}}),[]),A=(0,o.useCallback)((async e=>{if(!e)return[];try{const t=yi(vi.endpoints.debitMemoByCustomer(e)),n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}}),[]),D=(0,o.useCallback)((async e=>{if(!e)return[];try{const t=yi(vi.endpoints.vendorBillByVendor(e)),n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}}),[]),N=(0,o.useCallback)((async e=>{if(!e)return null;try{let t;if("CustomerPayment"===r)t=yi("/customer-payment-line/by-customer-payment/".concat(e));else{if("VendorPayment"!==r)throw new Error("Unsupported record type: ".concat(r));t=yi("/vendor-payment-line/by-vendor-payment/".concat(e))}const n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()}catch(t){throw t}}),[r]),T=(0,o.useCallback)((async(e,t)=>{try{let n;switch(t){case"Invoice":n=yi("/invoice/".concat(e));break;case"Debit Memo":n=yi("/debit-memo/".concat(e));break;case"Vendor Bill":n=yi("/vendor-bill/".concat(e));break;default:throw new Error("Unsupported record type: ".concat(t))}const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)throw new Error("HTTP error! status: ".concat(o.status));return await o.json()}catch(n){return null}}),[]),P=(0,o.useCallback)((async(e,t,n)=>{if(!e||!(t||n))return{recordMap:new Map,invoices:[]};try{const o=await N(e);if(!o||!o.lines)return{recordMap:new Map,invoices:[]};const i=new Map,a=o.lines.map((async e=>{const t=await T(e.recordID,e.recordType);return t&&i.set(e.recordID,p(p({},t),{},{paymentLineData:e})),{recordId:e.recordID,recordType:e.recordType,fullRecord:t}}));let s;if(await Promise.all(a),"CustomerPayment"===r){const[e,n]=await Promise.all([j(t),A(t)]);[...e,...n].forEach((e=>{i.has(e.id)||i.set(e.id,e)})),s=hD(e,n)}else if("VendorPayment"===r){const e=await D(n);e.forEach((e=>{i.has(e.id)||i.set(e.id,e)})),s=fD(e)}return console.log("Edit mode record map created:",i),o.lines.forEach((e=>{if(("CustomerPayment"===r?["Invoice","Debit Memo"]:["Vendor Bill"]).includes(e.recordType)){const t=s.find((t=>t.id===e.recordID));if(t){const n=e.paymentAmount||0;t.displayAmount=n,t.originalDisplayAmount=n,t.checked=void 0===e.isApplied||e.isApplied,t.userTyped=!0;const o=i.get(e.recordID);o&&o.totalAmount&&(t.originalAmount=uD(o.totalAmount))}}})),{recordMap:i,invoices:s,paymentData:o}}catch(o){return{recordMap:new Map,invoices:[]}}}),[N,T,j,A,D,r]),M=(0,o.useCallback)((e=>{if(!e||!e.lines)return{invoices:[]};const t=[];return e.lines.forEach((e=>{const n={id:e.recordID,date:new Date(e.transactionDate||new Date).toLocaleDateString("en-GB"),dateKey:new Date(e.transactionDate||new Date).getTime(),refNo:e.refNo||e.referenceNumber,displayAmount:e.paymentAmount||e.amountApplied||0,originalDisplayAmount:e.paymentAmount||e.amountApplied||0,originalAmount:e.totalAmount||0,checked:void 0===e.isApplied||e.isApplied,userTyped:!1,lockedSeq:null,disabled:a};("CustomerPayment"===r?["Invoice","Debit Memo"]:["Vendor Bill"]).includes(e.recordType)&&t.push(p(p({},n),{},{type:e.recordType,dueAmount:e.remainingAmount||e.amountDue||e.paymentAmount||0}))})),{invoices:t}}),[a,r]);(0,o.useEffect)((()=>{(async()=>{if(console.log("PaymentLine fetchData - mode:",l,"isViewMode:",a,"paymentId:",s,"customerId:",t,"vendorId:",n,"recordType:",r),"CustomerPayment"!==r&&"VendorPayment"!==r)return void m([]);const e=t||n;if(e||a||s){if(a&&s){v(!0),x(null);try{const e=await N(s);w(e);const{invoices:t}=M(e);m(t);const n="CustomerPayment"===r?e.customerPayment:e.vendorPayment;n&&h(n.amount.toString());const o=t.reduce(((e,t)=>e+t.displayAmount),0);C(o),I(0)}catch(o){x(o.message),m([])}finally{v(!1)}}else if("edit"===l&&s&&e){console.log("Entering edit mode - paymentId:",s,"entityId:",e),v(!0),x(null);try{const{recordMap:e,invoices:o,paymentData:i}=await P(s,t,n);m(o),w(i);const a="CustomerPayment"===r?null===i||void 0===i?void 0:i.customerPayment:null===i||void 0===i?void 0:i.vendorPayment;a&&h(a.amount.toString());const l=o.reduce(((e,t)=>e+(t.checked?t.displayAmount:0)),0);C(l);const c=uD((null===a||void 0===a?void 0:a.amount)||0);I(Math.max(c-l,0))}catch(o){console.log("Edit mode error:",o),x(o.message),m([])}finally{v(!1)}}else if(e){v(!0),x(null);try{if("CustomerPayment"===r){const[e,n]=await Promise.all([j(t),A(t)]),o=hD(e,n);m(o)}else if("VendorPayment"===r){const e=await D(n),t=fD(e);m(t)}}catch(o){x(o.message),m([])}finally{v(!1)}}}else m([])})()}),[t,n,r,a,s,l,j,A,D,N,M,P]);const O=(0,o.useMemo)((()=>f.length>0&&f.every((e=>e.checked))),[f]),R=e=>{var t,n;const o=uD(null!==(t=null===e||void 0===e?void 0:e.paymentAmountStr)&&void 0!==t?t:u);let r=o;const i=null!==(n=null===e||void 0===e?void 0:e.invoices)&&void 0!==n?n:f,a=i.map((e=>{var t;const n=e.userTyped&&null!==(t=e.lockedSeq)&&void 0!==t?t:1/0,o=e.displayAmount,r=e.originalDisplayAmount||0,i="edit"===l&&s?e.dueAmount+r:e.dueAmount,a=e.userTyped?pD(o,0,i):0,c=!e.userTyped&&o>0?pD(o,0,i):0;return{id:e.id,dateKey:e.dateKey,dueAmount:e.dueAmount,originalDisplayAmount:r,lineCap:i,checked:e.checked,userTyped:e.userTyped,typedOrder:n,typedRequested:a,stickyRequested:c,appliedCash:0}})),c=a.filter((e=>e.typedRequested>0)).sort(((e,t)=>e.typedOrder-t.typedOrder||e.dateKey-t.dateKey));for(const s of c){let e=s.typedRequested;const t=Math.min(e,r);s.appliedCash+=t,r-=t}const d=a.filter((e=>0===e.typedRequested&&e.stickyRequested>0)).sort(((e,t)=>e.dateKey-t.dateKey));for(const s of d){const e=s.appliedCash;let t=Math.max(s.stickyRequested-e,0);if(t<=0)continue;const n=Math.min(t,r);s.appliedCash+=n,r-=n}const h=a.filter((e=>0===e.typedRequested&&0===e.stickyRequested&&!0===e.checked)).sort(((e,t)=>e.dateKey-t.dateKey));for(const s of h){const e=s.appliedCash,t=Math.max(s.dueAmount-e,0);if(t<=0)continue;let n=t;const o=Math.min(n,r);s.appliedCash+=o,r-=o}let g=0;const v=i.map((e=>{const t=a.find((t=>t.id===e.id)),n=t.appliedCash;return g+=n,p(p({},e),{},{displayAmount:n,checked:n>0,appliedCash:t.appliedCash})})),y=Math.max(o-g,0),x=((e,t)=>{const n=t;return e.map((e=>{const t=0===e.displayAmount&&n<=0;return p(p({},e),{},{disabled:t})}))})(v,y);m(x),C(g),I(y)},F=(e,t)=>{if(a)return;const n=f.find((t=>t.id===e)),o=S;if("edit"===l&&t&&o<=0&&0===n.displayAmount){if(0===(n.originalDisplayAmount||0))return}else if("edit"!==l&&t&&o<=0&&0===n.displayAmount)return;const r=f.map((n=>{if(n.id!==e)return n;if(!t)return p(p({},n),{},{checked:!1,displayAmount:0,userTyped:!1,lockedSeq:null});if("edit"===l&&0===n.displayAmount){const e=n.originalDisplayAmount||0;return p(p({},n),{},{checked:!0,displayAmount:e,userTyped:e>0})}return p(p({},n),{},{checked:!0})}));m(r),R({invoices:r})};return(0,pi.jsxs)("div",{className:"payment-container",children:[(0,pi.jsx)("style",{children:'\n        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #f0f2f5; color: #333; padding: 20px; }\n        .payment-container { max-width: 1200px; margin: 0 auto; background-color: #fff; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }\n        .header-bar { background-color: #f7f9fa; padding: 15px 20px; border-bottom: 1px solid #ddd; display: flex; align-items: center; gap: 20px; }\n        .header-bar label { font-weight: 600; margin-right: 5px; font-size: 14px; }\n        .header-bar .k-numerictextbox { width: 140px; }\n        .header-bar .k-numerictextbox .k-input { font-size: 14px; }\n        .main-controls-area { padding: 20px 20px 0 20px; }\n        .controls-top-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }\n        .k-button { margin-right: 5px; }\n        .subtab-nav { border-bottom: 2px solid #dee2e6; display: flex; }\n        .subtab-link { background: none; border: none; padding: 10px 15px; cursor: pointer; font-size: 14px; font-weight: 600; color: #007bff; margin-bottom: -2px; }\n        .subtab-link.active { border-bottom: 2px solid #007bff; }\n        .subtab-header { background-color: #f7f9fa; padding: 10px 20px; border-bottom: 1px solid #ddd; display: flex; gap: 30px; font-size: 14px; font-weight: bold; }\n        .subtab-header strong { color: #000; }\n        .subtab-content { display: none; padding: 20px; }\n        .subtab-content.active { display: block; }\n        table { width: 100%; border-collapse: collapse; font-size: 13px; }\n        th, td { padding: 10px 8px; text-align: left; border-bottom: 1px solid #e0e0e0; }\n        thead { background-color: #f7f9fa; }\n        th { font-weight: 600; color: #555; }\n        tr:hover { background-color: #f5f5f5; }\n        .text-right { text-align: right; }\n        .k-checkbox { width: 16px; height: 16px; cursor: pointer; }\n        .k-checkbox-wrapper .k-checkbox {\n          border: 3px solid #000 !important;\n          background-color: #fff !important;\n          box-shadow: 0 0 0 1px #000 !important;\n        }\n        .k-checkbox-wrapper .k-checkbox:checked {\n          background-color: #000 !important;\n          border-color: #000 !important;\n          box-shadow: 0 0 0 1px #000 !important;\n        }\n        .k-checkbox-wrapper .k-checkbox:checked::after {\n          color: #fff !important;\n          font-weight: bold !important;\n          font-size: 12px !important;\n        }\n        .k-checkbox-wrapper .k-checkbox:hover {\n          border-color: #000 !important;\n          box-shadow: 0 0 0 2px rgba(0,0,0,0.3) !important;\n        }\n        .payment-input .k-numerictextbox { width: 90%; }\n        .payment-input .k-numerictextbox .k-input { text-align: right; }\n      '}),(0,pi.jsx)("div",{className:"header-bar",children:(0,pi.jsxs)("div",{children:[(0,pi.jsx)("label",{htmlFor:"paymentAmountLimit",children:"PAYMENT AMOUNT *"}),(0,pi.jsx)(Su,{id:"paymentAmountLimit",placeholder:"0.00",min:0,step:0,format:"n2",decimals:2,spinners:!1,value:u?parseFloat(u):null,onChange:e=>(e=>{var t;const n=e.target?e.target.value:(null===(t=e.value)||void 0===t?void 0:t.toString())||"";if(h(n),!a)if("edit"===l){const e=uD(n),t=f.reduce(((e,t)=>e+(t.checked?t.displayAmount:0)),0),o=Math.max(e-t,0);I(o)}else R({paymentAmountStr:n})})(e),disabled:a})]})}),("CustomerPayment"===r||"VendorPayment"===r)&&(0,pi.jsxs)("div",{className:"main-controls-area",children:[(0,pi.jsx)("div",{className:"controls-top-row",children:(0,pi.jsx)("div",{children:(0,pi.jsx)(xo,{id:"clearBtn",onClick:()=>{const e=f.map((e=>p(p({},e),{},{displayAmount:0,checked:!1,userTyped:!1,lockedSeq:null})));E.current=1,m(e),h(""),R({invoices:e,paymentAmountStr:""})},disabled:a,children:"Clear All"})})}),(0,pi.jsx)("div",{className:"subtab-nav",children:(0,pi.jsx)(xo,{type:"button",className:"subtab-link ".concat("invoices"===c?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),d("invoices")},disabled:a&&0===f.length,children:"CustomerPayment"===r?"Invoices/Debitmemos":"Vendor Bills"})})]}),("CustomerPayment"===r||"VendorPayment"===r)&&(0,pi.jsxs)("div",{className:"subtab-header",children:[(0,pi.jsxs)("span",{children:["Applied : ",(0,pi.jsx)("strong",{id:"appliedToTotalDisplay",children:k.toFixed(2)})]}),(0,pi.jsx)("span",{children:"\u2022"}),(0,pi.jsxs)("span",{children:["Unapplied Amount : ",(0,pi.jsx)("strong",{id:"unappliedAmountDisplay",children:S.toFixed(2)})]})]}),("CustomerPayment"===r||"VendorPayment"===r)&&(0,pi.jsx)("div",{id:"invoices",className:"subtab-content ".concat("invoices"===c?"active":""),children:g&&"invoices"===c?(0,pi.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:(0,pi.jsxs)("p",{children:["Loading ","CustomerPayment"===r?"invoices":"vendor bills","..."]})}):y&&"invoices"===c?(0,pi.jsxs)("div",{style:{padding:"20px",textAlign:"center",color:"#d32f2f"},children:[(0,pi.jsxs)("p",{children:["Error loading ","CustomerPayment"===r?"invoices":"vendor bills",": ",y]}),(0,pi.jsx)(xo,{onClick:()=>"CustomerPayment"===r?j(t):D(n),children:"Retry"})]}):(0,pi.jsxs)("table",{children:[(0,pi.jsx)("thead",{children:(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("th",{children:(0,pi.jsx)(Tu,{className:"header-checkbox",checked:O,onChange:e=>(e=>{if(a)return;const t=f.map((t=>{if(e){if("edit"===l&&0===t.displayAmount){const e=t.originalDisplayAmount||0;return p(p({},t),{},{checked:!0,displayAmount:e,userTyped:e>0})}return p(p({},t),{},{checked:!0})}return p(p({},t),{},{checked:!1,displayAmount:0,userTyped:!1,lockedSeq:null})}));m(t),R({invoices:t})})(e.value),disabled:a})}),(0,pi.jsx)("th",{children:"DATE"}),(0,pi.jsx)("th",{children:"TYPE"}),(0,pi.jsx)("th",{children:"REF NO."}),(0,pi.jsx)("th",{className:"text-right",children:"ORG AMT"}),!a&&(0,pi.jsx)("th",{className:"text-right",children:"AMT. DUE"}),(0,pi.jsx)("th",{className:"k-text-center",children:"PAYMENT"})]})}),(0,pi.jsx)("tbody",{id:"invoiceTableBody",children:0===f.length?(0,pi.jsx)("tr",{children:(0,pi.jsx)("td",{colSpan:a?"6":"7",style:{textAlign:"center",padding:"20px",color:"#666"},children:"CustomerPayment"===r?"No invoices found for this customer":"No vendor bills found for this vendor"})}):f.map((e=>(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("td",{children:(0,pi.jsx)(Tu,{className:"invoice-checkbox",checked:e.checked,disabled:a||e.disabled,onChange:t=>F(e.id,t.value)})}),(0,pi.jsx)("td",{children:e.date}),(0,pi.jsx)("td",{children:e.type}),(0,pi.jsx)("td",{children:e.refNo}),(0,pi.jsx)("td",{className:"text-right",children:(e.originalAmount||0).toFixed(2)}),!a&&(0,pi.jsx)("td",{className:"text-right",children:e.dueAmount.toFixed(2)}),(0,pi.jsx)("td",{className:"text-right",children:(0,pi.jsx)("div",{className:"payment-input",children:(0,pi.jsx)(Su,{className:"invoice-payment-input",style:{textAlign:"right !important"},min:0,step:0,format:"n2",decimals:2,spinners:!1,value:e.displayAmount>0?parseFloat(e.displayAmount):null,onFocus:()=>!a&&(e=>{const t=f.find((t=>t.id===e));_.current.set(e,{startAmount:t.displayAmount,unappliedAtFocus:S})})(e.id),onBlur:()=>{return!a&&(t=e.id,void _.current.delete(t));var t},onChange:t=>{var n;return!a&&((e,t)=>{const n=f.find((t=>t.id===e)),o=_.current.get(e)||{startAmount:n.displayAmount,unappliedAtFocus:S},r=n.dueAmount,i=o.startAmount||0,c=o.unappliedAtFocus||0;let d;if("edit"===l&&s){const e=n.originalDisplayAmount||0;d=pD(i+c,0,r+e)}else d=pD(i+c,0,r);let u=uD(t);u=pD(u,0,d),((e,t)=>{const n=f.map((n=>{if(n.id!==e)return n;const o=uD(t);return a?n:p(p({},n),{},{displayAmount:o,userTyped:!0,lockedSeq:n.lockedSeq||E.current++})}));m(n),a||R({invoices:n})})(e,u)})(e.id,(null===(n=t.value)||void 0===n?void 0:n.toString())||"0")},disabled:a})})})]},e.id)))})]})})]})}const gD=["validationMessage","touched","label"];if("undefined"!==typeof document&&!document.getElementById("payment-form-tab-styles")){const e=document.createElement("style");e.id="payment-form-tab-styles",e.textContent="\n  .payment-tabs {\n    display: flex;\n    gap: 8px;\n    border-bottom: 2px solid #e8eaed;\n    margin-bottom: 0;\n    background: transparent;\n    padding: 0;\n  }\n\n  .payment-tab {\n    padding: 8px 16px;\n    background: #f8f9fa;\n    border: 1px solid #e8eaed;\n    border-bottom: none;\n    cursor: pointer;\n    font-size: 13px;\n    font-weight: 600;\n    color: #5f6368;\n    transition: all 0.2s ease;\n    display: inline-flex;\n    align-items: center;\n    gap: 6px;\n    position: relative;\n    border-radius: 6px 6px 0 0;\n    white-space: nowrap;\n  }\n\n  .payment-tab:hover {\n    background: #e8f0fe;\n    color: #1a73e8;\n  }\n\n  .payment-tab.active {\n    background: white;\n    color: #1a73e8;\n    border-bottom: 2px solid white;\n    margin-bottom: -2px;\n    font-weight: 700;\n  }\n\n  .payment-tab svg {\n    font-size: 14px;\n  }\n\n  .payment-tab:first-child svg {\n    color: #34a853;\n  }\n\n  .payment-tab:first-child.active svg {\n    color: #34a853;\n  }\n\n  .payment-tab:last-child svg {\n    color: #ea8600;\n  }\n\n  .payment-tab:last-child.active svg {\n    color: #ea8600;\n  }\n\n  .payment-tab-content {\n    background: white;\n    border: 1px solid #e8eaed;\n    border-top: none;\n    padding: 0;\n    min-height: 300px;\n  }\n\n  .transactions-section {\n    padding: 24px;\n    background: linear-gradient(135deg, #fafbfc 0%, #ffffff 100%);\n    border-radius: 0;\n    margin: 0;\n    min-height: 300px;\n  }\n\n  .transactions-header {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    margin-bottom: 16px;\n    padding-bottom: 12px;\n    border-bottom: 2px solid #f1f3f4;\n  }\n\n  .transactions-header h3 {\n    margin: 0;\n    color: #202124;\n    font-size: 16px;\n    font-weight: 600;\n  }\n\n  .transactions-icon {\n    color: #1a73e8;\n    font-size: 16px;\n  }\n\n  .transactions-table {\n    width: 100%;\n    border-collapse: separate;\n    border-spacing: 0;\n    margin-top: 0;\n    border-radius: 8px;\n    overflow: hidden;\n    box-shadow: 0 1px 8px rgba(0,0,0,0.06);\n    border: 1px solid #e8eaed;\n    background: white;\n  }\n\n  .transactions-table th {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e8eaed 100%);\n    color: #5f6368;\n    padding: 10px 16px;\n    text-align: left;\n    font-weight: 600;\n    font-size: 12px;\n    text-transform: uppercase;\n    letter-spacing: 0.3px;\n    position: relative;\n    border: none;\n    border-bottom: 2px solid #e8eaed;\n  }\n\n  .transactions-table th:first-child {\n    border-radius: 8px 0 0 0;\n  }\n\n  .transactions-table th:last-child {\n    border-radius: 0 8px 0 0;\n  }\n\n  .transactions-table td {\n    padding: 12px 16px;\n    border-bottom: 1px solid #f1f3f4;\n    font-size: 13px;\n    color: #202124;\n    font-weight: 400;\n    position: relative;\n    vertical-align: middle;\n  }\n\n  .transactions-table tbody tr {\n    transition: all 0.3s ease;\n    background: white;\n  }\n\n  .transactions-table tbody tr:nth-child(even) {\n    background: #fafbfc;\n  }\n\n  .transactions-table tbody tr:hover {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e8f0fe 100%);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 8px rgba(26,115,232,0.12);\n  }\n\n  .transactions-table tbody tr:hover td {\n    color: #1a73e8;\n  }\n\n  .transactions-table tbody tr:last-child td {\n    border-bottom: none;\n  }\n\n  .transactions-table tbody tr:last-child td:first-child {\n    border-radius: 0 0 0 8px;\n  }\n\n  .transactions-table tbody tr:last-child td:last-child {\n    border-radius: 0 0 8px 0;\n  }\n\n  .payment-amount {\n    font-weight: 600;\n    color: #137333;\n    font-size: 13px;\n    display: flex;\n    align-items: center;\n    gap: 4px;\n  }\n\n  .payment-amount::before {\n    font-size: 12px;\n    color: #5f6368;\n  }\n\n  .empty-state {\n    text-align: center;\n    padding: 40px 20px;\n    color: #5f6368;\n  }\n\n  .empty-state-icon {\n    font-size: 36px;\n    color: #dadce0;\n    margin-bottom: 12px;\n  }\n\n  .empty-state-text {\n    font-size: 14px;\n    font-weight: 400;\n    margin: 0;\n  }\n\n",document.head.appendChild(e)}const vD=e=>{const t={};return Object.keys(e).forEach((n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)})),t},yD=o.memo((e=>{var t,n,r,i,a,l;let{recordType:c,mode:d="new"}=e;const u=ge(),{id:h}=ve(),{loading:f,error:m,fetchFormConfiguration:g}=fy(),[v,y]=(0,o.useState)({show:!1,message:"",type:"success"}),[x,b]=(0,o.useState)(!1),[w,k]=(0,o.useState)(!1),[C,S]=(0,o.useState)(null),[I,E]=(0,o.useState)(null),[_,j]=(0,o.useState)({}),[A,D]=(0,o.useState)({}),[N,T]=(0,o.useState)([]),[P,M]=(0,o.useState)({}),[O,R]=(0,o.useState)({}),[F,L]=(0,o.useState)({}),[z,B]=(0,o.useState)(null),[V,H]=(0,o.useState)([]),[q,U]=(0,o.useState)(null),[G,W]=(0,o.useState)(null),[K,Y]=(0,o.useState)({paymentAmount:"",invoices:[],appliedTo:0,unapplied:0}),[X,Q]=(0,o.useState)(!1),[J,Z]=(0,o.useState)("items"),[$,ee]=(0,o.useState)([]),[te,ne]=(0,o.useState)(!1),oe=o.useRef(null),re=(0,o.useCallback)((e=>{Y(e)}),[]),ie=(0,o.useCallback)((async e=>{if(!e)return[];try{ne(!0);const t=await fetch(yi("/journal-entry-line/by-record-id/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(t.ok){const e=await t.json();return Array.isArray(e)?e:[]}return 404!==t.status&&console.warn("Failed to fetch GL Impact data: ".concat(t.status)),[]}catch(t){return console.error("Error fetching GL Impact data:",t),[]}finally{ne(!1)}}),[]),ae={CustomerPayment:"/customer-payment",VendorPayment:"/vendor-payment"},se="b2dae51c-12b6-4a90-adfd-4e2345026b70",le="5e3f19d1-f615-4954-88cb-30975d52b8cd",ce=(0,o.useCallback)((async(e,t)=>{try{const n=await fetch(yi(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}}),[]),de=(0,o.useCallback)((async e=>{try{const t=await fetch(yi("/record-type"),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e});if(!t.ok)throw new Error("Failed to fetch record types: ".concat(t.status));return(await t.json()).results||[]}catch(t){return t.name,[]}}),[]),ue=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";oe.current&&clearTimeout(oe.current),y({show:!0,message:e,type:t}),oe.current=setTimeout((()=>{y({show:!1,message:"",type:"success"}),oe.current=null}),4e3)}),[]),pe=async e=>{try{const t=await fetch(yi("/custom-form-field/by-form/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch custom form fields: ".concat(t.status));const n=await t.json(),o=(Array.isArray(n)?n:[]).sort(((e,t)=>(e.displayOrder||0)-(t.displayOrder||0))),r={},i=o.filter((e=>["DropDownList","MultiSelect"].includes(e.fieldTypeName)&&e.fieldSource));for(const e of i){const t=await ce(e.fieldSource);r["custom_".concat(e.fieldName)]=t}return Object.keys(r).length>0&&D((e=>p(p({},e),r))),o}catch(t){return ue("Failed to load custom form fields: ".concat(t.message),"error"),[]}},he=(0,o.useMemo)((()=>{if(!X)return{};if(0===Object.keys(P).length)return _;const e={};return Object.keys(P).forEach((t=>{e["custom_".concat(t)]=P[t]})),p(p({},_),e)}),[_,P,X]),fe=(0,o.useCallback)((e=>{const t={};return null!==I&&void 0!==I&&I.standardFields?(I.standardFields.forEach((n=>{const o=e[n.name];!n.isMandatory||o&&""!==o||"edit"===d||(t[n.name]="".concat(n.name.charAt(0).toUpperCase()+n.name.slice(1)," is required")),"email"===n.name&&o&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(t[n.name]="Please enter a valid email address"),"phone"===n.name&&o&&!/^\d{10}$/.test(o.replace(/\D/g,""))&&(t[n.name]="Phone number must be 10 digits")})),t):t}),[I,d]),me=(0,o.useRef)({}),ye=(0,o.useMemo)((()=>{const e={};return Object.keys(A).forEach((t=>{var n;const o=A[t]||[],r="".concat(t,"_").concat(o.length,"_").concat((null===(n=o[0])||void 0===n?void 0:n.id)||o[0]||"");if(me.current[r])return void(e[t]=me.current[r]);const i=o.map((e=>{if("string"===typeof e)return{text:e,value:e};if(e.text&&e.value)return e;let n="";if(e&&"object"===typeof e)if("form"===t&&e.formName)n=e.formName;else if(e.name)n=e.name;else if(e.sequenceNumber)n=e.sequenceNumber;else if(e.title)n=e.title;else if(e.description)n=e.description;else{const t=Object.keys(e).find((t=>"id"!==t&&"string"===typeof e[t]&&e[t].trim().length>0));n=t?e[t]:String(e.id||"")}else n=String(e||"");return{text:n,value:e.id||e}}));me.current[r]=i,e[t]=i})),e}),[A]),xe=(0,o.useCallback)((()=>{if(null!==I&&void 0!==I&&I.recordTypeId)return I.recordTypeId;let e=V.find((e=>e.name===c));return e?e.id:(e=V.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===c.toLowerCase()})),e?e.id:null)}),[I,V,c]),be=(0,o.useCallback)((e=>{const t={};return e.forEach((e=>{switch(e.fieldTypeName){case"Checkbox":case"Switch":t[e.name]=!1;break;case"Number":case"NumericTextBox":t[e.name]=0;break;case"Date":case"DropDownList":t[e.name]=null;break;default:t[e.name]=""}})),t}),[]),we=(0,o.useCallback)((async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{if(!t)return{customData:{},customFieldIds:{}};const o=await fetch(yi(vi.endpoints.customFieldValueByTypeAndRecord(t,e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return{};const r=await o.json(),i={},a={},s={};return n.forEach((e=>{s[e.fieldName]=e.fieldTypeName})),Array.isArray(r)&&r.forEach((e=>{if(e.customFieldName&&void 0!==e.valueText&&null!==e.valueText){const n=s[e.customFieldName];let o=e.valueText;switch(n){case"DatePicker":case"Date":if("string"===typeof o&&""!==o.trim()){const e=new Date(o);o=isNaN(e.getTime())?null:e}break;case"NumericTextBox":case"Number":if("string"===typeof o&&""!==o.trim()){const e=parseFloat(o);o=isNaN(e)?0:e}break;case"Checkbox":case"Switch":"string"===typeof o&&(o="true"===o.toLowerCase()||"1"===o);break;case"MultiSelect":if("string"===typeof o&&""!==o.trim())try{const e=JSON.parse(o);o=Array.isArray(e)?e:[o]}catch(t){o=[o]}}i[e.customFieldName]=o,a[e.customFieldName]=e.id}})),{customData:i,customFieldIds:a}}catch(o){return{customData:{},customFieldIds:{}}}}),[]),ke=(0,o.useCallback)((async e=>{if(e)try{var t,n;k(!0);const o=await pe(e);T(o),B(e);const r=be(o.map((e=>p(p({},e),{},{name:e.fieldName}))));if("new"!==d&&h){const e=xe(),{customData:t,customFieldIds:n}=await we(h,e,o);R(n);const i=p(p({},r),t);M(i),L(i)}else M(r),L(r);const[i,a]=await Promise.all([fetch(yi("/form/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch(yi("/form-sequence/by-form/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let s="";if(i.ok&&a.ok){const[e,t]=await Promise.all([i.text().then((e=>e.trim()?JSON.parse(e):{})),a.text().then((e=>e.trim()?JSON.parse(e):[]))]),n=Array.isArray(t)&&t.length>0?t[0]:{formSequenceNumber:0},o=e.prefix||"",r=(n.formSequenceNumber||0)+1;s="".concat(o).concat(String(r).padStart(4,"0"))}const l=null===I||void 0===I||null===(t=I.standardFields)||void 0===t?void 0:t.some((e=>"form"===e.name)),c=null===I||void 0===I||null===(n=I.standardFields)||void 0===n?void 0:n.some((e=>"sequenceNumber"===e.name)),u={};l&&(u.form=e),c&&s&&(u.sequenceNumber=s),j((e=>p(p({},e),u)))}catch(i){var o;(null===I||void 0===I||null===(o=I.standardFields)||void 0===o?void 0:o.some((e=>"form"===e.name)))&&j((t=>p(p({},t),{},{form:e})))}finally{k(!1)}else{var r;T([]),M({}),R({}),L({}),B(null);(null===I||void 0===I||null===(r=I.standardFields)||void 0===r?void 0:r.some((e=>"sequenceNumber"===e.name)))&&j((e=>p(p({},e),{},{sequenceNumber:null})))}}),[I,pe,d,h,xe,we,be]),Ce=(0,o.useCallback)((e=>{const{name:t}=e,n=ye[t]||[],o=n.find((t=>t.value===e.value))||null;return{data:n,textField:"text",valueField:"value",value:o,onChange:async n=>{var o;const r=(null===(o=n.target.value)||void 0===o?void 0:o.value)||n.target.value,i=""===r||void 0===r?null:r;e.onChange&&e.onChange({target:{value:i}}),"form"===t&&await ke(i),"customer"===t&&U(i),"vendor"===t&&W(i)},virtual:!1,popupSettings:{appendTo:document.body,animate:!1}}}),[ye,ke]),Se=(0,o.useCallback)((e=>{const{name:t}=e;return{data:ye[t]||[],textField:"text",valueField:"value"}}),[ye]),Ie=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:n,touched:o,label:r}=e,i=s(e,gD),a=o&&n,l=p(p({},i),{},{className:a?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===d||i.disabled}),c={text:{component:qc,props:l},number:{component:Su,props:p(p({},l),{},{min:0,step:0,spinners:!1})},textarea:{component:ju,props:p(p({},l),{},{rows:4})},checkbox:{component:Tu,props:p(p({},l),{},{label:r,checked:i.value||!1,style:{display:"flex",alignItems:"center"}})},date:{component:oy,props:l},dropdown:{component:Ah,props:p(p({},l),Ce(e))},multiselect:{component:af,props:p(p({},l),Se(e))}},u=c[t]||c.text;return(0,pi.jsxs)("div",{children:[(0,pi.jsx)(u.component,p({},u.props)),a&&(0,pi.jsx)("div",{className:"k-form-error",children:n})]})}}),[d,Ce,Se]),Ee=(0,o.useMemo)((()=>({Input:Ie(qc,"text"),TextArea:Ie(ju,"textarea"),Checkbox:Ie(Tu,"checkbox"),NumericTextBox:Ie(qc,"number"),Number:Ie(qc,"number"),DropDownList:Ie(Ah,"dropdown"),DatePicker:Ie(oy,"date"),MultiSelect:Ie(af,"multiselect")})),[Ie]),_e=e=>Ee[e.fieldTypeName]||Ee.Input,je=function(e){const t=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);return e.isMandatory?"".concat(t," *"):t},Ae=(0,o.useCallback)((function(e){if(e.isMandatory)return t=>t&&""!==t?"email"===e.name&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"Please enter a valid email address":"phone"===e.name&&t&&!/^\d{10}$/.test(t.replace(/\D/g,""))?"Phone number must be 10 digits":"":"".concat(e.displayName||e.name," is required")}),[]),De=(0,o.useCallback)((e=>{if(e.isRequired)return t=>t&&""!==t?"":"".concat(e.fieldLabel||e.fieldName," is required")}),[]),Ne=(0,o.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const i=t?"custom_".concat(e.fieldName||e.name):e.name,a=t&&e.fieldName||e.name,s=o||"".concat(t?"custom":"standard","-field-").concat(e.id||a),l=t?"".concat(e.fieldLabel||e.fieldName).concat(e.isRequired?" *":""):je(e,r),c=_e(e),u=t?De(e):Ae(e,r),p="Checkbox"===e.fieldTypeName||"Switch"===e.fieldTypeName,h="view"===d||e.isDisabled;return(0,pi.jsxs)("div",{className:"master-field-group ".concat(n?"master-field-full":""," ").concat(p?"checkbox-wrapper":""),children:[!p&&(0,pi.jsx)("label",{className:"k-label",children:l}),(0,pi.jsx)("div",{className:"field-wrapper",children:(0,pi.jsx)(wi,{id:i,name:i,component:c,validator:u,disabled:h,label:p?l:void 0})})]},s)}),[d,c,_e,je,Ae,De]),Te=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=[];let i=[];return e.forEach((e=>{["TextArea","Checkbox","MultiSelect"].includes(e.fieldTypeName)?(i.length>0&&(r.push({type:"row",fields:[...i]}),i=[]),r.push({type:"fullWidth",field:e})):(i.push(e),3===i.length&&(r.push({type:"row",fields:[...i]}),i=[]))})),i.length>0&&r.push({type:"row",fields:[...i]}),r.map(((e,r)=>{const i=t?"custom":"standard";return"row"===e.type?(0,pi.jsx)(o.Fragment,{children:e.fields.map((e=>Ne(e,t,!1,null,n)))},"".concat(i,"-row-").concat(r)):Ne(e.field,t,!0,"".concat(i,"-full-").concat(r),n)}))}),[Ne]);(0,o.useEffect)((()=>{let e=!0;return(async()=>{if(e)try{k(!0),S(null),Q(!1),T([]),M({}),R({}),L({}),B(null);const o=await de();if(!e)return;H(o);const r=await g(c);if(!e)return;E(r);const i=r.standardFields.filter((e=>"DropDownList"===e.fieldTypeName&&e.source)),a=Le(r,o,c),s=i.map((async e=>{let t;if("ChartOfAccount"===c&&"parent"===e.name)t=await ce(e.source),t=t.filter((e=>!0===e.isParent));else if("form"===e.name&&a)try{const e=await fetch(yi(vi.endpoints.formByTypeOfRecord(a)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch forms for record type: ".concat(e.status));t=await e.json(),t=Array.isArray(t)?t:t.results||t.data||[]}catch(n){t=[]}else t=await ce(e.source);return{name:e.name,data:t}})),l=await Promise.all(s);if(!e)return;const u=l.reduce(((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e}),{});D(u);const f=be(r.standardFields);if("new"===d&&r.standardFields.forEach((e=>{("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date")||"paymentDate"===e.name)&&(f[e.name]=new Date)})),"new"!==d&&h)try{var t;let i={};switch(c){case"CustomerPayment":{const e=await fetch(yi("/customer-payment/".concat(h)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});e.ok&&(i=await e.json());break}case"VendorPayment":{const e=await fetch(yi("/vendor-payment/".concat(h)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});e.ok&&(i=await e.json());break}default:i={}}if(!e)return;const a=(null===(t=i)||void 0===t?void 0:t.data)||i||{};if(a&&Object.keys(a).length>0){const t=p({},f);a.customer&&U(a.customer),a.vendor&&W(a.vendor),r.standardFields.forEach((e=>{if(void 0!==a[e.name]){let n=a[e.name];if(("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date")||"soDate"===e.name||"invoiceDate"===e.name||"deliveryDate"===e.name)&&n&&"string"===typeof n){const e=new Date(n);n=isNaN(e.getTime())?null:e}t[e.name]=n}}));const i=r.standardFields.map((e=>e.name));if(Object.keys(a).forEach((e=>{void 0===a[e]||i.includes(e)||(t[e]=a[e])})),j(t),"view"!==d&&"edit"!==d||"CustomerPayment"!==c)ee([]);else try{const t=await ie(h);if(!e)return;ee(t)}catch(n){console.error("Error loading GL Impact data:",n),ee([])}if(a.form)try{const t=await pe(a.form);if(!e)return;if(T(t),B(a.form),t.length>0){const n=be(t.map((e=>p(p({},e),{},{name:e.fieldName})))),i=Le(r,o,c),{customData:a,customFieldIds:s}=await we(h,i,t);if(!e)return;R(s);const l=p(p({},n),a);M(l),L(l)}}catch(n){}}else j(f)}catch(C){j(f)}else{if(!e)return;j(f)}if(!e)return;Q(!0)}catch(n){if(!e)return;S(n.message),ue(n.message,"error")}finally{if(!e)return;k(!1)}})(),()=>{e=!1}}),[d,h,c]),(0,o.useEffect)((()=>()=>{oe.current&&(clearTimeout(oe.current),oe.current=null),T([]),M({}),R({}),L({}),B(null),j({}),Q(!1),y({show:!1,message:"",type:"success"})}),[]);const Pe=async e=>{try{var t,n,o,r;e.amount=K.paymentAmount||0,e.unAppliedAmount=K.unapplied||0,e.appliedAmount=K.appliedTo||0,0==parseInt(e.unAppliedAmount)?e.status=se:e.status=le;let i,a=null;if("CustomerPayment"===c){console.log("=== Validating JV Lines before record creation ===");const t=await Oy("",e.form,e.appliedAmount,c);if(!t.isValid)return void alert(t.errorMessage);a=t.jvLines,console.log("\u2713 JV Lines validated successfully. All accounts are configured.")}switch(c){case"CustomerPayment":{const t=yi("/customer-payment"),n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(vD(e))});if(!n.ok){const e=await n.text();throw new Error("Failed to create CustomerPayment: ".concat(n.status," - ").concat(e))}i=await n.json();break}case"VendorPayment":{const t=yi("/vendor-payment"),n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(vD(e))});if(!n.ok){const e=await n.text();throw new Error("Failed to create VendorPayment: ".concat(n.status," - ").concat(e))}i=await n.json();break}default:throw new Error("Unsupported record type: ".concat(c))}let s=null;if(null!==(t=i)&&void 0!==t&&t.id)s=i.id;else if(null!==(n=i)&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&o.id)s=i.data.id;else if("string"===typeof i)s=i;else{const e=Object.keys(i||{}).filter((e=>e.toLowerCase().includes("id")));e.length>0&&(s=i[e[0]])}const l=(null===K||void 0===K||null===(r=K.invoices)||void 0===r?void 0:r.filter((e=>e.checked)))||[],d=K.paymentAmount||0,u=e.sequenceNumber||"N/A",h=[...l];(async(e,t,n,o)=>{try{const r=o.map((async o=>{const r={paymentAmount:o.displayAmount||o.applyAmount||0,recordID:o.id,paymentSeqNum:t,mainRecordAmount:n,isApplied:o.checked||!1,refNo:o.refNo||"",recordType:o.type||"",paymentId:e};let i;if("CustomerPayment"===c)i=yi("/customer-payment-line");else{if("VendorPayment"!==c)throw new Error("Unsupported record type for payment lines: ".concat(c));i=yi("/vendor-payment-line")}const a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(vD(r))});if(!a.ok){const e=await a.text();throw new Error("Failed to create payment line item: ".concat(a.status," - ").concat(e))}return await a.json()}));return await Promise.all(r)}catch(C){throw C}})(s,u,d,h);Me(s);if(console.log("paymentLineData:",JSON.stringify(K)),"CustomerPayment"===c&&a){const e=a.map((e=>p(p({},e),{},{recordId:s,recordType:c,id:null})));console.log("Processing validated JV lines with recordId:",s),await My(e,"new",s,c)}if(await(async e=>{try{var t;const n=[],o=(null===(t=e.invoices)||void 0===t?void 0:t.filter((e=>e.checked)))||[];for(const e of o){const t=e.dueAmount-e.displayAmount;let o,r;"Invoice"===e.type?(o={amountDue:t},r=yi("/invoice/".concat(e.id))):"Debit Memo"===e.type?(o={amountDue:t},r=yi("/debit-memo/".concat(e.id))):"Vendor Bill"===e.type&&(o={amountDue:t},r=yi("/vendor-bill/".concat(e.id))),o&&r&&n.push(fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(vD(o))}))}n.length>0&&await Promise.all(n)}catch(C){throw C}})(K),!s)throw new Error("".concat(c," header created but no ID returned. Response: ").concat(JSON.stringify(i)));return s}catch(C){throw C}},Me=e=>{if(K.appliedTo<=0)return{payment:{paymentId:"",paymentAmount:"0.00"},invoicesPaid:[]};const t=K.invoices.filter((e=>e.displayAmount>0)).map((e=>({refNo:e.refNo,date:e.date,recordId:e.id,type:e.recordType,totalAmountPaid:e.displayAmount.toFixed(2)})));return{paymentAmount:parseFloat(K.paymentAmount||0).toFixed(2),invoicesPaid:t}},Oe=async e=>{console.log("handleSubmit called in mode:",d,"with values:",e);try{k(!0),S(null);const{standardData:o,customData:r}=Fe(e);if("new"===d){const e=await Pe(o),t=xe();await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o=Object.entries(e).map((async e=>{let[o,r]=e;const i=N.find((e=>e.fieldName===o)),a=null===i||void 0===i?void 0:i.id,s={request:"create",typeOfRecord:n,valueText:String(r),customFieldID:a,recordID:t},l=await fetch("".concat(vi.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(vD(s))});if(!l.ok)throw new Error('Failed to create custom field "'.concat(o,'": ').concat(l.status));return await l.json()}));await Promise.all(o)})(r,e,t),z&&await(async e=>{try{const t=await fetch("".concat(vi.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)return;const n=await t.text();if(!n.trim())return;const o=JSON.parse(n);if(!Array.isArray(o)||0===o.length)return;const r=o[0],i=(r.formSequenceNumber||0)+1;await fetch("".concat(vi.baseURL,"/form-sequence/").concat(r.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(vD({formId:e,formSequenceNumber:i}))})}catch(t){}})(z),ue("".concat(c," created successfully!"),"success"),u(ae[c]||"/")}else{var t;await Re(h,o);const e=xe();if(await(async(e,t,n)=>{if(!Object.keys(e).length||!t)return;const o={};if(Object.entries(e).forEach((e=>{let[t,n]=e;const r=F[t];String(n)!==String(r)&&(o[t]=n)})),0===Object.keys(o).length)return;const r=Object.entries(o).map((async e=>{let[o,r]=e;const i=N.find((e=>e.fieldName===o)),a=null===i||void 0===i?void 0:i.id,s=O[o],l={request:"update",typeOfRecord:n,valueText:String(r),customFieldID:a,recordID:t};let c;if(c=s?await fetch("".concat(vi.baseURL,"/custom-field-value/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(vD(l))}):await fetch("".concat(vi.baseURL,"/custom-field-value"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(vD(l))}),!c.ok)throw new Error("Failed to ".concat(s?"update":"create",' custom field "').concat(o,'": ').concat(c.status));return await c.json()}));await Promise.all(r)})(r,h,e),"CustomerPayment"==c)try{const e=await fetch("".concat(vi.baseURL,"/journal-entry-line/by-record-id/").concat(h),{method:"GET",headers:{"Content-Type":"application/json"}});let t=[];if(e.ok){const n=await e.json();Array.isArray(n)&&(t=n)}if(t.length>0){const e=t.map((e=>({jeid:h,id:e.id,accountId:e.account,memo:e.memo,newCredit:0,newDebit:0,oldCredit:Number(e.credit||0),oldDebit:Number(e.debit||0)})));console.log("\ud83d\udd04 Calling processJournal for delete operation with changes:",e),await My(e,"delete")}}catch(C){console.error("Error deleting journal entry lines:",C)}if(K&&(null===(t=K.invoices)||void 0===t?void 0:t.length)>0){var n;const e=[...(null===(n=K.invoices)||void 0===n?void 0:n.filter((e=>e.checked)))||[]];if(e.length>0){await(async e=>{const t={CustomerPayment:{endpoint:yi("/customer-payment-line"),getEndpoint:yi("/customer-payment-line/by-customer-payment/".concat(h)),idField:"paymentId"},VendorPayment:{endpoint:yi("/vendor-payment-line"),getEndpoint:yi("/vendor-payment-line/by-vendor-payment/".concat(h)),idField:"paymentId"}}[c];if(t)try{const n=await fetch(t.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let o=[];if(n.ok){const e=await n.json();if(Array.isArray(e))o=e;else if(e.results&&Array.isArray(e.results))o=e.results;else{const t=Object.values(e).filter((e=>Array.isArray(e)));t.length>0&&(o=t[0])}}const r=new Map;o.forEach((e=>{e.recordID&&r.set(e.recordID,e)}));const i=new Map;e.forEach((e=>{e.id&&i.set(e.id,e)}));const a=[],s=[],l=[];e.forEach((e=>{if(e.id&&r.has(e.id)){const t=r.get(e.id);a.push(p(p({},e),{},{lineItemId:t.id}))}else s.push(e)})),o.forEach((e=>{e.recordID&&!i.has(e.recordID)&&l.push(e)}));const c=a.map((e=>{const n={paymentAmount:e.displayAmount||e.applyAmount||0,recordID:e.id,isApplied:e.checked||!1,refNo:e.refNo||"",recordType:e.type||"",[t.idField]:h};return fetch("".concat(t.endpoint,"/").concat(e.lineItemId),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(vD(n))})})),d=s.map((e=>{const n={paymentAmount:e.displayAmount||0,recordID:e.id,isApplied:e.checked||!1,refNo:e.refNo||"",recordType:e.type||"",[t.idField]:h};return fetch(t.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(vD(n))})})),u=l.map((e=>fetch("".concat(t.endpoint,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}))),f=[...c,...d,...u],m=(await Promise.all(f)).filter((e=>!e.ok));if(m.length>0)throw new Error("Failed to update ".concat(m.length," payment line items"))}catch(C){throw C}})(e);const t=K.originalData||{};await(async(e,t)=>{try{var n;const r=[],i=(null===(n=e.invoices)||void 0===n?void 0:n.filter((e=>e.checked)))||[];for(const e of i){var o;const n=["Invoice","Debit Memo","Vendor Bill"],i=null===t||void 0===t||null===(o=t.lines)||void 0===o?void 0:o.find((t=>t.recordID===e.id&&n.includes(t.recordType))),a=parseFloat((null===i||void 0===i?void 0:i.paymentAmount)||0),s=parseFloat(e.displayAmount||0),l=s-a,c=parseFloat(e.dueAmount||0),d=c-l;let u,p;console.log("Edit Mode - ".concat(e.type," ").concat(e.refNo,": Original Payment: ").concat(a,", New Payment: ").concat(s,", Payment Difference: ").concat(l,", Current Amount Due: ").concat(c,", New Amount Due: ").concat(d)),"Invoice"===e.type?(u={amountDue:d},p=yi("/invoice/".concat(e.id))):"Debit Memo"===e.type?(u={amountDue:d},p=yi("/debit-memo/".concat(e.id))):"Vendor Bill"===e.type&&(u={amountDue:d},p=yi("/vendor-bill/".concat(e.id))),u&&p&&0!==l&&r.push(fetch(p,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(vD(u))}))}r.length>0&&await Promise.all(r)}catch(C){throw C}})(K,t)}}"CustomerPayment"==c&&await zy("",o.form,o.appliedAmount,h,c),ue("".concat(c," updated successfully!"),"success"),u(ae[c]||"/")}}catch(o){S(o.message),ue(o.message,"error")}finally{k(!1)}},Re=async(e,t)=>{try{let n;switch(console.log("paymentLineData89999999999999999:",K),t.amount=K.paymentAmount||0,t.unAppliedAmount=K.unapplied||0,t.appliedAmount=K.appliedTo||0,0==parseInt(t.unAppliedAmount)?t.status=se:t.status=le,c){case"CustomerPayment":n=yi("/customer-payment/".concat(e));break;case"VendorPayment":n=yi("/vendor-payment/".concat(e));break;default:throw new Error("Unsupported record type: ".concat(c))}const o=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(vD(t))});if(!o.ok){const e=await o.text();throw new Error("Failed to update ".concat(c,": ").concat(o.status," - ").concat(e))}return await o.json()}catch(C){throw C}},Fe=e=>{const t={},n={};return Object.keys(e).forEach((o=>{const r=e[o],i=""===r?null:r;if(o.startsWith("custom_")){const e=o.replace("custom_","");n[e]=i}else t[o]=i})),{standardData:t,customData:n}},Le=(e,t,n)=>{if(null!==e&&void 0!==e&&e.recordTypeId)return e.recordTypeId;let o=t.find((e=>e.name===n));return o?o.id:(o=t.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()})),o?o.id:null)};return!w&&I&&X?C?(0,pi.jsx)("div",{className:"master-form-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("h3",{children:["Error Loading ",c]}),(0,pi.jsx)("p",{children:C}),(0,pi.jsx)(xo,{onClick:()=>u("/"),children:"Back to Dashboard"})]})}):(0,pi.jsxs)("div",{className:"master-form-container","data-theme":c.toLowerCase(),children:[(0,pi.jsx)(uy,{children:v.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:v.type,icon:!0},closable:!0,onClose:()=>y({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:v.message})})})}),(0,pi.jsx)("div",{className:"master-form-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:(0,pi.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,pi.jsx)("h2",{children:"new"===d?"Create New ".concat(c):"edit"===d?"Edit ".concat(c):"View ".concat(c)}),("edit"===d||"view"===d)&&_.status&&(()=>{const e={"b2dae51c-12b6-4a90-adfd-4e2345026b70":"Closed","5e3f19d1-f615-4954-88cb-30975d52b8cd":"Open"}[_.status]||"",t=(e=>{switch(e.toLowerCase()){case"open":return{bg:"#FEF3C7",text:"#92400E",border:"#F59E0B"};case"closed":return{bg:"#F3F4F6",text:"#374151",border:"#6B7280"};default:return{bg:"#F3F4F6",text:"#374151",border:"#9CA3AF"}}})(e);return(0,pi.jsx)("span",{style:{display:"inline-flex",alignItems:"center",padding:"6px 12px",borderRadius:"16px",fontSize:"12px",fontWeight:"600",backgroundColor:t.bg,color:t.text,border:"1px solid ".concat(t.border),textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:e})})()]})}),("edit"===d||"view"===d)&&("CustomerPayment"===c||"VendorPayment"===c)&&(0,pi.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px",marginTop:"10px"},children:(0,pi.jsxs)("div",{style:{display:"flex",backgroundColor:"#ffffff",border:"2px solid #e8f4fd",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",minWidth:"420px"},children:[(0,pi.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#f8fbff",borderRight:"1px solid #e8f4fd",flex:1},children:[(0,pi.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"Amount"}),(0,pi.jsx)("div",{style:{fontSize:"18px",color:"#2c3e50",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:(null===_||void 0===_||null===(t=_.amount)||void 0===t?void 0:t.toFixed(2))||(null===K||void 0===K||null===(n=K.paymentAmount)||void 0===n?void 0:n.toFixed(2))||"0.00"})]}),(0,pi.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#f0fdf4",borderRight:"1px solid #e8f4fd",flex:1},children:[(0,pi.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"Applied"}),(0,pi.jsx)("div",{style:{fontSize:"18px",color:"#16a34a",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:(null===_||void 0===_||null===(r=_.appliedAmount)||void 0===r?void 0:r.toFixed(2))||(null===K||void 0===K||null===(i=K.appliedTo)||void 0===i?void 0:i.toFixed(2))||"0.00"})]}),(0,pi.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px 20px",backgroundColor:"#ffffff",flex:1},children:[(0,pi.jsx)("div",{style:{fontSize:"10px",color:"#7a8699",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"4px"},children:"Unapplied"}),(0,pi.jsx)("div",{style:{fontSize:"18px",color:"#ea580c",fontWeight:"700",fontFamily:"system-ui, -apple-system, sans-serif"},children:(null===_||void 0===_||null===(a=_.unAppliedAmount)||void 0===a?void 0:a.toFixed(2))||(null===K||void 0===K||null===(l=K.unapplied)||void 0===l?void 0:l.toFixed(2))||"0.00"})]})]})}),(0,pi.jsx)("div",{className:"master-form-element",children:(0,pi.jsx)(ha,{initialValues:he,validator:fe,onSubmit:Oe,render:e=>(0,pi.jsxs)(xa,{children:[(0,pi.jsxs)("div",{className:"master-form-content",children:[(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:Te((null===I||void 0===I?void 0:I.standardFields)||[],!1,e)})]}),N.length>0&&(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:Te(N,!0,e)})]}),(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsxs)("div",{className:"payment-tabs",children:[(0,pi.jsxs)("button",{type:"button",className:"payment-tab ".concat("items"===J?"active":""),onClick:()=>Z("items"),children:[(0,pi.jsx)(ei,{})," Apply Payment"]}),("view"===d||"edit"===d)&&"CustomerPayment"===c&&(0,pi.jsxs)("button",{type:"button",className:"payment-tab ".concat("glImpact"===J?"active":""),onClick:()=>Z("glImpact"),children:[(0,pi.jsx)(qr,{})," GL Impact"]})]}),(0,pi.jsxs)("div",{className:"payment-tab-content",children:["items"===J&&(0,pi.jsx)("div",{style:{padding:"0",width:"100%",maxWidth:"100%",overflow:"hidden"},children:(0,pi.jsx)(mD,{recordType:c,mode:d,embedded:!0,customerId:"view"===d?null:q,vendorId:"view"===d?null:G,onPaymentDataChange:re,isViewMode:"view"===d,paymentId:"view"===d||"edit"===d?h:null})}),"glImpact"===J&&("view"===d||"edit"===d)&&"CustomerPayment"===c&&(te?(0,pi.jsx)("div",{className:"transactions-section",children:(0,pi.jsxs)("div",{className:"empty-state",children:[(0,pi.jsx)("div",{className:"empty-state-icon",children:"\u23f3"}),(0,pi.jsx)("p",{className:"empty-state-text",children:"Loading GL Impact data..."})]})}):$&&0!==$.length?(0,pi.jsx)("div",{className:"transactions-section",children:(0,pi.jsxs)("table",{className:"transactions-table",children:[(0,pi.jsx)("thead",{children:(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("th",{children:"Account Name"}),(0,pi.jsx)("th",{children:"Debit"}),(0,pi.jsx)("th",{children:"Credit"}),(0,pi.jsx)("th",{children:"Memo"})]})}),(0,pi.jsx)("tbody",{children:$.map(((e,t)=>(0,pi.jsxs)("tr",{children:[(0,pi.jsx)("td",{children:e.accountName||""}),(0,pi.jsx)("td",{children:(0,pi.jsx)("span",{className:"payment-amount",children:e.debit?e.debit.toFixed(2):"0.00"})}),(0,pi.jsx)("td",{children:(0,pi.jsx)("span",{className:"payment-amount",children:e.credit?e.credit.toFixed(2):"0.00"})}),(0,pi.jsx)("td",{children:e.memo||""})]},e.id||t)))})]})}):(0,pi.jsx)("div",{className:"transactions-section",children:(0,pi.jsxs)("div",{className:"empty-state",children:[(0,pi.jsx)("div",{className:"empty-state-icon",children:"\ud83d\udcca"}),(0,pi.jsxs)("p",{className:"empty-state-text",children:["No GL Impact data found for this ",c.toLowerCase(),"."]})]})}))]})]})]}),(0,pi.jsxs)("div",{className:"master-form-actions",children:[(0,pi.jsxs)(xo,{type:"button",onClick:()=>u(ae[c]||"/"),className:"k-button k-button-secondary",children:[(0,pi.jsx)(ai,{})," ","view"===d?"Close":"Cancel"]}),"new"!==d&&"view"!==d&&(0,pi.jsxs)(xo,{type:"button",onClick:()=>b(!0),className:"k-button k-button-danger",children:[(0,pi.jsx)(li,{})," Delete"]}),"view"!==d&&(0,pi.jsxs)(xo,{type:"submit",disabled:w||"edit"!==d&&!e.allowSubmit,className:"k-button k-button-primary",onClick:"edit"===d?t=>{t.preventDefault(),console.log("Edit mode save button clicked"),Oe(e.values||he)}:void 0,children:[(0,pi.jsx)(ni,{})," ",w?"Saving...":"Save"]})]})]})},"".concat(c.toLowerCase(),"-form-").concat(d,"-").concat(h||"new","-").concat(z||"no-form"))}),(0,pi.jsx)(hy,{isOpen:x,onClose:()=>b(!1),onConfirm:async()=>{try{k(!0),S(null);const e={CustomerPayment:{deleteByPaymentEndpoint:yi("/customer-payment-line/by-customer-payment/".concat(h)),mainEndpoint:yi("/customer-payment/".concat(h))},VendorPayment:{deleteByPaymentEndpoint:yi("/vendor-payment-line/by-vendor-payment/".concat(h)),mainEndpoint:yi("/vendor-payment/".concat(h))}}[c];if(!e)throw new Error("Unsupported record type: ".concat(c));const t=await fetch(e.deleteByPaymentEndpoint,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});let n=[];if(t.ok){n=(await t.json()).lines||[]}n.filter((e=>"Vendor Bill"===e.recordType));if(console.log("paymentLines",n),n.length>0){const e=n.map((async e=>{if(e.recordID&&e.paymentAmount&&e.recordType)try{let t,n=e.recordType;if("CustomerPayment"===c?"Invoice"===n?t=yi("/invoice/".concat(e.recordID)):"Debit Memo"===n&&(t=yi("/debit-memo/".concat(e.recordID))):"VendorPayment"===c&&"Vendor Bill"===n&&(t=yi("/vendor-bill/".concat(e.recordID))),!t)return void console.warn("Unsupported record type for amount reversion: ".concat(n));const o=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return void console.warn("Failed to fetch ".concat(n," ").concat(e.recordID," for amount reversion"));const r=await o.json(),i=r.amountDue||0,a=e.paymentAmount||0,s=i+a,l=p(p({},r),{},{amountDue:s});delete l.customerName,delete l.locationName,delete l.soSequenceNumber,delete l.dnSequenceNumber,delete l.formName,delete l.vendorName;const d=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(vD(l))});if(d.ok)console.log("Successfully reverted amountDue for ".concat(n," ").concat(e.recordID,": ").concat(i," + ").concat(a," = ").concat(s));else{const t=await d.text();console.warn("Failed to revert amountDue for ".concat(n," ").concat(e.recordID,": ").concat(t))}}catch(C){console.warn("Error reverting amountDue for ".concat(e.recordType," ").concat(e.recordID,":"),C)}}));await Promise.all(e)}if(n.length>0){const e=yi("CustomerPayment"===c?"/customer-payment-line":"/vendor-payment-line"),t=n.map((async t=>{const n=await fetch("".concat(e,"/").concat(t.id),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!n.ok){const e=await n.text();throw new Error("Failed to delete payment line ".concat(t.id,": ").concat(n.status," - ").concat(e))}return n}));await Promise.all(t)}const o=await fetch(e.mainEndpoint,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok){const e=await o.text();throw new Error("Failed to delete ".concat(c,": ").concat(o.status," - ").concat(e))}if("CustomerPayment"==c)try{console.log("existingResponse delete 11111111111111 ---- id",h);const e=await fetch("".concat(vi.baseURL,"/journal-entry-line/by-record-id/").concat(h),{method:"GET",headers:{"Content-Type":"application/json"}});console.log("existingResponse delete 11111111111111",e);let t=[];if(e.ok){const n=await e.json();Array.isArray(n)&&(t=n)}if(console.log("existingItems 22222222",t),t.length>0){const e=t.map((e=>({jeid:h,id:e.id,accountId:e.account,memo:e.memo,newCredit:0,newDebit:0,oldCredit:Number(e.credit||0),oldDebit:Number(e.debit||0)})));await My(e,"delete")}}catch(C){console.error("Error deleting journal entry lines:",C)}const r=xe();await(async(e,t)=>{if(e&&t)try{const n=await fetch("".concat(vi.baseURL,"/custom-field-value/by-type-and-record?typeOfRecord=").concat(t,"&recordId=").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(n.ok){const t=await n.json();if(Array.isArray(t)&&t.length>0){const n=t.map((async e=>{const t=await fetch("".concat(vi.baseURL,"/custom-field-value/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});t.ok||console.warn("Failed to delete custom field value ".concat(e.id,": ").concat(t.status))}));await Promise.all(n),console.log("\u2705 Deleted ".concat(t.length," custom field values for ").concat(c," ").concat(e))}}}catch(C){console.error("Error deleting custom field values:",C)}})(h,r),ue("".concat(c," deleted successfully!"),"success"),u(ae[c]||"/")}catch(e){S(e.message),ue(e.message,"error")}finally{k(!1),b(!1)}},title:"Confirm Delete",message:(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsxs)("p",{children:["Are you sure you want to delete this ",c.toLowerCase(),"?"]}),(0,pi.jsx)("p",{children:(0,pi.jsx)("strong",{children:"This action cannot be undone."})})]}),confirmText:"Delete",cancelText:"Cancel",type:"danger",loading:w})]}):(0,pi.jsx)("div",{className:"master-form-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsxs)("div",{children:["Loading ",c.toLowerCase()," form..."]})]})})})),xD=e=>(0,pi.jsx)(yD,p(p({},e),{},{recordType:"CustomerPayment"})),bD=e=>(0,pi.jsx)(yD,p(p({},e),{},{recordType:"VendorPayment"})),wD=()=>{console.log("CustomerPaymentList component mounted");const e=ge(),{customerPayments:t,loading:n,error:r,refresh:i}=yy("customer-payment"),{customers:a}=xy();console.log("Hook results:",{customerPayments:t,loading:n,error:r});const[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[f,m]=(0,o.useState)({skip:0,take:10,sort:[{field:"tranDate",dir:"desc"}]});(0,o.useEffect)((()=>{console.log("CustomerPaymentList useEffect - customerPayments changed:",t),console.log("Loading:",n,"Error:",r)}),[t,n,r]);const g=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find((t=>t.id===e));return n?n.name:"Unknown Customer"},v=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),y=(0,o.useCallback)((()=>{if(console.log("CustomerPayments data:",t),(null===t||void 0===t||!t.results)&&!Array.isArray(t))return console.log("No customerPayments data found"),{data:[],total:0};const e=Array.isArray(t)?t:(null===t||void 0===t?void 0:t.results)||[];console.log("DataArray:",e);let n=[...e];s&&(n=n.filter((e=>{const t=e.customerName||g(e.customerID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(v(e.amount)).toLowerCase().includes(s.toLowerCase())})));return{data:ub(n,f).data,total:n.length}}),[t,s,c,a,f]);return r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"payment-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading customer payments: ",r]}),(0,pi.jsxs)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"payment-list-container",children:[(0,pi.jsx)(uy,{children:u.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:u.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Customer Payment Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/customer-payment/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Customer Payment"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search customer payments...",value:s,onChange:e=>l(e.target.value)})]}),(0,pi.jsx)(xo,{onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),n?(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("span",{children:"Loading customer payments..."})]}):null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===y().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No customer payments match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},f),{},{onDataStateChange:e=>{m(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(f.skip||0);return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,pi.jsx)(Uy,{field:"sequenceNumber",title:"Document Number",width:"220px"}),(0,pi.jsx)(Uy,{field:"customerID",title:"Customer",width:"260px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.customerName||g(e.dataItem.customerID)}))}),(0,pi.jsx)(Uy,{field:"amount",title:"Amount",width:"160px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:v(e.dataItem[e.field])}))}),(0,pi.jsx)(Uy,{field:"",title:"Actions",width:"160px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/customer-payment/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/customer-payment/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid payment data"}))}})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No customer payments found. Click the "Add New Customer Payment" button above to create your first customer payment.'})}),(0,pi.jsx)("style",{children:'\n          .payment-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .payment-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n      '})]})})},kD=()=>{const e=ge(),{vendorPayments:t,loading:n,error:r,refresh:i}=yy("vendor-payment"),{vendors:a}=by(),[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)("All"),[u,h]=(0,o.useState)({show:!1,message:"",type:"success"}),[f,m]=(0,o.useState)({skip:0,take:10,sort:[{field:"tranDate",dir:"desc"}]}),g=e=>{var t;const n=null===a||void 0===a||null===(t=a.results)||void 0===t?void 0:t.find((t=>t.id===e));return n?n.name:"Unknown Vendor"},v=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),y=(0,o.useCallback)((()=>{if((null===t||void 0===t||!t.results)&&!Array.isArray(t))return{data:[],total:0};let e=[...Array.isArray(t)?t:(null===t||void 0===t?void 0:t.results)||[]];s&&(e=e.filter((e=>{const t=e.vendorName||g(e.vendorID);return"".concat(e.sequenceNumber||""," ").concat(t," ").concat(v(e.totalAmount)).toLowerCase().includes(s.toLowerCase())})));return{data:ub(e,f).data,total:e.length}}),[t,s,c,a,f]);return r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"payment-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading vendor payments: ",r]}),(0,pi.jsxs)(xo,{type:"button",onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"payment-list-container",children:[(0,pi.jsx)(uy,{children:u.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:u.type,icon:!0},closable:!0,onClose:()=>h({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:u.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Vendor Payment Master"}),(0,pi.jsxs)(xo,{type:"button",onClick:()=>e("/vendor-payment/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Vendor Payment"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search vendor payments...",value:s,onChange:e=>l(e.target.value)})]}),(0,pi.jsx)(xo,{type:"button",onClick:i,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),null!==t&&void 0!==t&&t.results&&0!==t.results.length?0===y().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No vendor payments match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:y().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},f),{},{onDataStateChange:e=>{m(e.dataState)},total:y().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(f.skip||0);return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,pi.jsx)(Uy,{field:"sequenceNumber",title:"Document Number",width:"220px"}),(0,pi.jsx)(Uy,{field:"vendorID",title:"Vendor",width:"260px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:e.dataItem.vendorName||g(e.dataItem.vendorID)}))}),(0,pi.jsx)(Uy,{field:"amount",title:"Amount",width:"160px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:v(e.dataItem[e.field])}))}),(0,pi.jsx)(Uy,{field:"",title:"Actions",width:"160px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{type:"button",onClick:()=>{return t=n.id,void e("/vendor-payment/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{type:"button",onClick:()=>{return t=n.id,void e("/vendor-payment/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid payment data"}))}})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No vendor payments found. Click the "Add New Vendor Payment" button above to create your first vendor payment.'})}),(0,pi.jsx)("style",{children:'\n          .payment-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n            max-width: 400px;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #718096;\n            font-size: 13px;\n          }\n\n          .search-bar .k-input {\n            padding-left: 28px;\n            font-size: 13px;\n            height: 32px;\n          }\n\n          .k-grid {\n            border-radius: 4px;\n            border: 1px solid #E2E8F0;\n            width: 100%;\n            max-width: 100%;\n            overflow-x: auto;\n          }\n\n          .k-grid .k-grid-container {\n            max-width: 100%;\n          }\n\n          .k-grid-header {\n            background-color: #F7FAFC;\n          }\n\n          .k-grid-header th {\n            font-weight: 600;\n            color: #4A5568;\n            text-transform: uppercase;\n            font-size: 12px;\n            letter-spacing: 0.05em;\n            padding: 8px;\n          }\n\n          .k-grid td {\n            border-color: #E2E8F0;\n            padding: 8px;\n            font-size: 13px;\n          }\n\n          .k-command-cell {\n            padding: 4px !important;\n            text-align: center !important;\n          }\n\n          .k-button {\n            display: inline-flex;\n            align-items: center;\n            gap: 6px;\n            padding: 6px 12px;\n            font-size: 13px;\n            font-weight: 500;\n            height: 32px;\n          }\n\n          .k-button svg {\n            font-size: 13px;\n          }\n\n          .k-command-cell .k-button {\n          padding: 4px 8px;\n            height: 24px;\n            min-width: 60px;\n            font-size: 12px;\n          }\n\n          .notification-container {\n            position: fixed;\n            right: 12px;\n            top: 12px;\n            z-index: 9999;\n            min-width: 280px;\n          }\n\n          .k-notification {\n            font-size: 13px;\n            padding: 8px 12px;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n            gap: 12px;\n            font-size: 14px;\n          }\n\n          .spinner {\n            border: 3px solid #f3f3f3;\n            border-top: 3px solid #3498db;\n            border-radius: 50%;\n            width: 32px;\n            height: 32px;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 150px;\n          }\n\n          .error-message {\n            text-align: center;\n            color: #e53e3e;\n            font-size: 14px;\n          }\n\n          .error-message button {\n            margin-top: 12px;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            font-size: 14px;\n            background-color: #f7fafc;\n          border-radius: 4px;\n            border: 1px solid #e2e8f0;\n          }\n\n          .no-data-message p {\n            margin: 0;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n            justify-content: center;\n          }\n\n          .action-buttons .k-button {\n            padding: 2px 6px;\n            height: 22px;\n            min-width: 50px;\n            font-size: 11px;\n            line-height: 1;\n        }\n\n          @media (max-width: 768px) {\n            .payment-list-container {\n              margin: 8px;\n              padding: 12px;\n            }\n\n            .filter-section {\n              flex-direction: column;\n              align-items: stretch;\n              gap: 8px;\n        }\n\n            .search-bar {\n              max-width: none;\n            }\n          }\n\n          .k-grid-header th[data-title="No"] {\n            text-align: center;\n          }\n\n          .k-grid-header th[data-title="Actions"] {\n            text-align: center !important;\n            padding: 4px !important;\n        }\n      '})]})})},CD=["validationMessage","visited","label"],SD=o.createContext({}),ID="itemDataIndex",ED="id",_D=o.memo((e=>{let{recordType:t="JournalEntry",mode:n="new",embedded:r=!1,selectedLocation:i,jeid:a=null,jeidChangeCounter:l=0,onLinesChange:c,journalEntryId:d}=e;const u=ge(),{id:h}=ve(),[f,m]=(0,o.useState)({show:!1,message:"",type:"success"}),[g,v]=(0,o.useState)(!1),[y,x]=(0,o.useState)(!1),[b,w]=(0,o.useState)(null),[k,C]=(0,o.useState)(null),[S,I]=(0,o.useState)({}),[E,_]=(0,o.useState)({}),[j,A]=(0,o.useState)(!1),D={JournalEntry:"/journal-entry"},N=(0,o.useCallback)((e=>({title:"Journal Lines",fields:["accountID","debit","credit","memo"]})),[]),T=(0,o.useCallback)((function(e){m({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{m({show:!1,message:"",type:"success"})}),4e3)}),[]),P=(0,o.useCallback)((async(e,t)=>{try{const n=await fetch("".concat(vi.baseURL).concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}}),[]),M=(0,o.useCallback)((async e=>{const n={JournalEntry:{endpoint:"".concat(vi.baseURL,"/journal-entry-line/by-journal-entry/").concat(e),idField:"jeid"}}[t];if(!n)throw new Error("Unsupported record type: ".concat(t));try{const e=await fetch(n.endpoint,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){if(404===e.status)return[];throw new Error("Failed to load transaction items: ".concat(e.status))}const t=await e.json(),o=t.lines||t||[];return console.log("items",o),o.map(((e,t)=>({id:e.id||"temp-".concat(t),accountID:e.account||"",debit:e.debit||0,credit:e.credit||0,memo:e.memo||""})))}catch(o){throw o}}),[t]);(0,o.useEffect)((()=>{let e=!0;return(async()=>{if(e)try{x(!0),w(null),A(!1);const r=N(t);C(r);const i=[P("/chart-of-account").then((e=>({name:"accountID",data:e})))],a=await Promise.all(i);if(!e)return;const s=a.reduce(((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e}),{});_(s);const l={transactionId:h||null,items:[]},c=d||h;if("new"!==n&&c)try{const e=await M(c);console.log("existingItems",e),e&&e.length>0&&(l.items=e)}catch(o){}if(!e)return;console.log("\ud83d\udd27 JournalLines: Setting form data:",l),I(l),A(!0)}catch(o){if(!e)return;w(o.message),T(o.message,"error")}finally{if(!e)return;x(!1)}})(),()=>{e=!1}}),[n,h,t,N,P,M]),(0,o.useEffect)((()=>{var e;console.log("\ud83d\udd0d JournalLines useEffect check:",{embedded:r,hasOnLinesChange:!!c,hasItems:!!S.items,itemsLength:(null===(e=S.items)||void 0===e?void 0:e.length)||0,formInitialized:j}),r&&c&&S.items&&j&&(console.log("\ud83d\udcde JournalLines: Notifying parent form of line changes:",S.items),c(S.items))}),[S.items,c,j,r]);const O=(0,o.useCallback)((e=>(E[e]||[]).map((t=>{if("string"===typeof t)return{text:t,value:t};if(!t.id)return{text:String(t),value:t};return{text:(t=>{if("accountID"===e&&t.accountName&&t.accountCode)return"".concat(t.accountCode," - ").concat(t.accountName);const n=["name","accountName","description","title"];for(const e of n)if(t[e])return t[e];return String(t.id)})(t),value:t.id,item:t}}))),[E]),R=((0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,visited:r,label:i}=e,a=s(e,CD),l=r&&o,c=p(p({},a),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||a.disabled}),d={text:{component:qc,props:c},number:{component:Su,props:p(p({},c),{},{min:0,step:0})},textarea:{component:ju,props:p(p({},c),{},{rows:2})},date:{component:oy,props:c},dropdown:{component:Ah,props:p(p({},c),O(e))}},u=d[t]||d.text;return(0,pi.jsxs)("div",{children:[(0,pi.jsx)(u.component,p({},u.props)),l&&(0,pi.jsx)("div",{className:"k-form-error",children:o})]})}}),[n,O]),e=>{const{parentField:t,editIndex:n,validatedItems:r,onUpdateField:i}=o.useContext(SD),a=e.dataItem[ID]===n;r.includes(e.dataItem[ID]);if(a){const t=O("accountID");return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(Ah,{data:t,textField:"text",dataItemKey:"value",valueField:"value",value:t.find((t=>t.value===e.dataItem[e.field]))||null,onChange:async t=>{var n;const o=(null===(n=t.target.value)||void 0===n?void 0:n.value)||t.target.value;await i(e.dataItem[ID],e.field,o)},style:{width:"100%"}})}))}const s=e.dataItem[e.field],l=O("accountID").find((e=>e.value===s)),c=(null===l||void 0===l?void 0:l.text)||"";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:c})}))}),F=e=>{const{parentField:t,editIndex:n,onUpdateField:r}=o.useContext(SD);var i;if(e.dataItem[ID]===n)return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(qc,{type:"number",min:"0",step:"0.01",value:null!==(i=e.dataItem[e.field])&&void 0!==i?i:"",onChange:t=>{const n=t.target.value,o=""===n?"":parseFloat(n)||"";r(e.dataItem[ID],e.field,o)},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})}));const a=e.dataItem[e.field],s=null!==a&&void 0!==a&&"number"===typeof a?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a):0===a?"0.00":"";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:s})}))},L=e=>{const{parentField:t,editIndex:n,onUpdateField:r}=o.useContext(SD);var i;if(e.dataItem[ID]===n)return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(qc,{type:"number",min:"0",step:"0.01",value:null!==(i=e.dataItem[e.field])&&void 0!==i?i:"",onChange:t=>{const n=t.target.value,o=""===n?"":parseFloat(n)||"";r(e.dataItem[ID],e.field,o)},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})}));const a=e.dataItem[e.field],s=null!==a&&void 0!==a&&"number"===typeof a?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a):0===a?"0.00":"";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:s})}))},z=e=>{const{parentField:t,editIndex:n,onUpdateField:r}=o.useContext(SD);var i;return e.dataItem[ID]===n?(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{padding:"0"},children:(0,pi.jsx)(qc,{value:null!==(i=e.dataItem[e.field])&&void 0!==i?i:"",onChange:t=>{r(e.dataItem[ID],e.field,t.target.value)},style:{width:"100%",height:"32px",padding:"4px 8px",fontSize:"13px"}})})):(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:(0,pi.jsx)("span",{style:{padding:"8px",display:"block"},children:e.dataItem[e.field]||""})}))},B=e=>{const{onRemove:t,onEdit:r,onSave:i,onCancel:a,editIndex:s,validateItem:l}=o.useContext(SD),c=e.dataItem[ID]===s,d=!e.dataItem[ED]||!e.dataItem.accountID,u=(0,o.useCallback)((n=>{n.preventDefault(),t(e.dataItem)}),[e.dataItem,t]),h=(0,o.useCallback)((t=>{t.preventDefault(),r(e.dataItem,d)}),[e.dataItem,r,d]),f=(0,o.useCallback)((t=>{t.preventDefault(),i(e.dataItem)}),[i,e.dataItem]),m=(0,o.useCallback)((n=>{n.preventDefault(),t(e.dataItem)}),[e.dataItem,a]);return c?(0,pi.jsxs)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:[(0,pi.jsx)(xo,{type:"button",onClick:f,className:"k-grid-save-command",size:"small",style:{marginRight:"4px",backgroundColor:"#4CAF50",color:"white",fontSize:"12px",padding:"4px 8px"},title:d?"Add this item when complete":"Save changes to this item",disabled:"view"===n,children:d?"Add":"Save"}),(0,pi.jsx)(xo,{type:"button",onClick:d?u:m,className:"k-grid-cancel-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},title:d?"Remove this item":"Cancel editing",disabled:"view"===n,children:d?"Discard":"Cancel"})]})):(0,pi.jsx)("td",p(p({},e.tdProps),{},{className:"k-command-cell",style:{padding:"4px",whiteSpace:"nowrap"},children:"view"!==n&&(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)(xo,{type:"button",themeColor:"primary",onClick:h,className:"k-grid-edit-command",size:"small",style:{marginRight:"4px",fontSize:"12px",padding:"4px 8px"},children:"Edit"}),(0,pi.jsx)(xo,{type:"button",onClick:u,className:"k-grid-remove-command",size:"small",style:{fontSize:"12px",padding:"4px 8px"},children:"Remove"})]})}))},V=e=>{const{validationMessage:t,visited:r,name:i,dataItemKey:a}=e,[s,l]=(0,o.useState)(void 0),c=o.useRef(void 0),[d,u]=(0,o.useState)([]),h=(0,o.useCallback)((t=>{if(void 0!==t&&e.value[t]){u((e=>e.includes(t)?e:[...e,t]));const n=e.value[t];return n.accountID&&null!==n.accountID}return!1}),[e.value]),f=(0,o.useCallback)((async(t,n,o)=>{const r=p(p({},e.value[t]),{},{[n]:o});"debit"===n&&o>0?r.credit=0:"credit"===n&&o>0&&(r.debit=0),e.onReplace({index:t,value:r})}),[e]),m=(0,o.useCallback)((t=>{if(t.preventDefault(),void 0!==s||"view"===n)return;const o=e.value||[],r=o.findIndex((e=>!e.accountID));if(-1!==r)return void l(r);const i={id:o.length>0?Math.max(...o.map((e=>parseInt(e.id)||0)))+1:1,accountID:"",debit:0,credit:0,memo:""};e.onUnshift({value:i}),l(0)}),[e,s,n]),g=(0,o.useCallback)((t=>{e.onRemove({index:t[ID]}),l(void 0),c.current=void 0}),[e]),v=(0,o.useCallback)((e=>{c.current=ki(e),l(e[ID])}),[]),y=(0,o.useCallback)((()=>{c.current&&e.onReplace({index:c.current[ID],value:c.current}),c.current=void 0,l(void 0)}),[e]),x=(0,o.useCallback)((t=>{const n=t[ID],o=e.value[n];o.accountID?o.debit&&!(o.debit<=0)||o.credit&&!(o.credit<=0)?o.debit>0&&o.credit>0?alert("A line cannot have both debit and credit amounts"):(l(void 0),c.current=void 0):alert("Either debit or credit amount must be greater than 0"):alert("Account is required")}),[e]),b=(e.value||[]).map(((e,t)=>p(p({},e),{},{[ID]:t})));return(0,pi.jsxs)(SD.Provider,{value:{onCancel:y,onEdit:v,onRemove:g,onSave:x,onUpdateField:f,editIndex:s,parentField:i,validatedItems:d,validateItem:h},children:["view"!==n&&(0,pi.jsx)("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"flex-start",alignItems:"center",paddingLeft:"8px",paddingRight:"8px"},children:(0,pi.jsxs)(xo,{onClick:m,themeColor:"success",fillMode:"solid",size:"medium",className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-success",children:[(0,pi.jsx)(ti,{style:{marginRight:"6px"}})," Add Line"]})}),(0,pi.jsx)("div",{className:"transaction-items-grid-container",style:{overflowX:"auto",overflowY:"visible",width:"100%",maxWidth:"100%"},children:(0,pi.jsxs)(q_,{className:"transaction-items-grid",data:b,dataItemKey:a,rowRender:e=>{const t=p(p({},e.props),{},{style:p(p({},e.props.style),{},{borderBottom:"1px solid #e0e0e0"})});return o.cloneElement(e,p({},t),e.props.children)},style:{minWidth:"900px"},children:[(0,pi.jsx)(Uy,{field:"accountID",title:"Account",cells:{data:R}}),(0,pi.jsx)(Uy,{field:"debit",title:"Debit",width:"90px",cells:{data:F}}),(0,pi.jsx)(Uy,{field:"credit",title:"Credit",width:"90px",cells:{data:L}}),(0,pi.jsx)(Uy,{field:"memo",title:"Memo",cells:{data:z}}),"view"!==n&&(0,pi.jsx)(Uy,{width:"160px",cells:{data:B}})]})})]})},H=(0,o.useCallback)((e=>{const t={};if(e.items&&0!==e.items.length){e.items.map(((e,t)=>{const n={};return e.accountID||(n.accountID="Account is required"),(!e.debit||e.debit<=0)&&(!e.credit||e.credit<=0)&&(n.debit="Either debit or credit amount must be greater than 0"),e.debit>0&&e.credit>0&&(n.debit="A line cannot have both debit and credit amounts"),Object.keys(n).length>0?n:null})).filter(Boolean).length>0&&(t.items="Please fix item validation errors")}else t.items="At least one item is required";return t}),[]);return!y&&k&&j?b?(0,pi.jsx)("div",{className:"form-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("h3",{children:["Error Loading ",t," Items"]}),(0,pi.jsx)("p",{children:b}),(0,pi.jsxs)(xo,{onClick:()=>u(D[t]||"/"),children:["Back to ",t," List"]})]})}):r?(0,pi.jsxs)("div",{style:{width:"100%"},children:[(0,pi.jsx)(uy,{children:f.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:f.type,icon:!0},closable:!0,onClose:()=>m({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:f.message})})})}),(0,pi.jsx)(qy,{name:"items",component:V,dataItemKey:ED,validator:e=>e&&e.length?"":"Please add at least one item"})]}):(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)(uy,{children:f.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:f.type,icon:!0},closable:!0,onClose:()=>m({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:f.message})})})}),(0,pi.jsx)(ha,{initialValues:S,validator:H,onSubmit:async e=>{},render:e=>(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)(qy,{name:"items",component:V,dataItemKey:ED,validator:e=>e&&e.length?"":"Please add at least one item"}),(0,pi.jsxs)("div",{className:"form-actions",children:[(0,pi.jsxs)(xo,{type:"button",onClick:()=>u(D[t]||"/"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",children:[(0,pi.jsx)(ai,{})," ","view"===n?"Close":"Cancel"]}),"view"!==n&&(0,pi.jsxs)(xo,{type:"submit",disabled:y||!e.allowSubmit,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ni,{})," ",y?"Saving...":"Save Items"]})]})]})},"".concat(t.toLowerCase(),"-lines-form-").concat(n,"-").concat(h||"new")),(0,pi.jsx)("style",{children:'\n        .form-container {\n          background: white;\n          padding: 16px;\n          margin: 16px;\n        }\n\n        .form-header {\n          margin-bottom: 16px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .form-header h2 {\n          margin: 0;\n          color: #2d3748;\n          font-size: 1.25rem;\n          font-weight: 600;\n        }\n\n\n        .form-actions {\n          display: flex;\n          justify-content: flex-end;\n          gap: 8px;\n          padding-top: 16px;\n          margin-top: 8px;\n          border-top: 1px solid #e2e8f0;\n        }\n\n        .k-button {\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 12px;\n          font-size: 13px;\n          font-weight: 500;\n        }\n\n        .k-button svg {\n          font-size: 13px;\n        }\n\n        .notification-container {\n          position: fixed;\n          right: 12px;\n          top: 12px;\n          z-index: 9999;\n          min-width: 280px;\n        }\n\n        .loading-indicator {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 150px;\n          gap: 12px;\n          font-size: 14px;\n        }\n\n        .spinner {\n          border: 3px solid #f3f3f3;\n          border-top: 3px solid #3498db;\n          border-radius: 50%;\n          width: 32px;\n          height: 32px;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .k-form-error {\n          color: #e53e3e;\n          font-size: 12px;\n          margin-top: 4px;\n        }\n\n        /* Grid specific styles for consistent field sizing */\n        .k-grid td {\n          padding: 0 !important;\n        }\n\n        .k-grid .k-textbox,\n        .k-grid .k-dropdownlist,\n        .k-grid input[type="number"] {\n          height: 32px !important;\n          font-size: 13px !important;\n          padding: 4px 8px !important;\n          border: 1px solid #e2e8f0 !important;\n          border-radius: 3px !important;\n          width: 100% !important;\n          box-sizing: border-box !important;\n        }\n\n        .k-grid .k-dropdownlist .k-input {\n          height: 30px !important;\n          padding: 4px 8px !important;\n          font-size: 13px !important;\n          line-height: 1.4 !important;\n        }\n\n        /* Hide number input spinners */\n        .k-grid input[type="number"]::-webkit-outer-spin-button,\n        .k-grid input[type="number"]::-webkit-inner-spin-button {\n          -webkit-appearance: none !important;\n          margin: 0 !important;\n        }\n\n        .k-grid input[type="number"] {\n          -moz-appearance: textfield !important;\n        }\n\n        /* Transaction Items Grid Styles - Based on FormCreator.js */\n        .transaction-items-grid-container {\n          background: white;\n          overflow-x: auto !important;\n          overflow-y: visible !important;\n          margin-bottom: 16px;\n          width: 100% !important;\n          max-width: 100% !important;\n          -webkit-overflow-scrolling: touch;\n          display: block !important;\n        }\n\n        .transaction-items-grid {\n          border: none !important;\n          border-radius: 0 !important;\n          margin-bottom: 0 !important;\n          min-width: 900px !important;\n          width: auto !important;\n        }\n\n        .transaction-items-grid .k-grid-header {\n          background: #f8fafc !important;\n          border-bottom: 2px solid #e2e8f0 !important;\n        }\n\n        .transaction-items-grid .k-grid-header th {\n          font-weight: 600 !important;\n          color: #4a5568 !important;\n          text-transform: uppercase !important;\n          font-size: 11px !important;\n          letter-spacing: 0.5px !important;\n          padding: 12px 8px !important;\n          text-align: left !important;\n        }\n\n        .transaction-items-grid .k-grid-header th:last-child {\n          text-align: center !important;\n        }\n\n        .transaction-items-grid td {\n          padding: 8px !important;\n          border-bottom: 1px solid #f0f0f0 !important;\n          vertical-align: middle !important;\n        }\n\n        .transaction-items-grid td:last-child {\n          text-align: center !important;\n        }\n\n        .transaction-items-grid .k-grid-content tr:hover {\n          background-color: #f7fafc !important;\n        }\n\n        /* Responsive Grid Layout */\n        .transaction-items-grid .k-grid-table {\n          min-width: 900px !important;\n          width: auto !important;\n        }\n\n        @media (max-width: 768px) {\n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .order-items-field {\n            grid-column: span 1;\n          }\n\n          .form-container {\n            margin: 12px;\n            padding: 12px;\n          }\n\n          .transaction-items-grid-container {\n            margin: 0 -16px;\n            border-radius: 0;\n            border-left: none;\n            border-right: none;\n            position: relative;\n            overflow-x: auto;\n            overflow-y: visible;\n            -webkit-overflow-scrolling: touch;\n            scrollbar-width: thin;\n            scrollbar-color: #cbd5e0 #f7fafc;\n          }\n\n          .transaction-items-grid .k-grid-table {\n            min-width: 700px;\n          }\n        }\n      '})]}):(0,pi.jsx)("div",{className:"form-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsxs)("div",{children:["Loading ",t.toLowerCase()," items..."]})]})})})),jD=_D,AD=["validationMessage","touched","label"],DD=e=>{const t={};return Object.keys(e).forEach((n=>{const o=e[n];""!==o&&null!==o&&void 0!==o&&(t[n]=o)})),t},ND=o.memo((e=>{let{recordType:t,mode:n="new"}=e;const r=ge(),{id:i}=ve(),{loading:a,error:l,fetchFormConfiguration:c}=fy(),[d,u]=(0,o.useState)({show:!1,message:"",type:"success"}),[h,f]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!1),[v,y]=(0,o.useState)(null),[x,b]=(0,o.useState)(null),[w,k]=(0,o.useState)({}),[C,S]=(0,o.useState)({}),[I,E]=(0,o.useState)([]),[_,j]=(0,o.useState)({}),[A,D]=(0,o.useState)({}),[N,T]=(0,o.useState)({}),[P,M]=(0,o.useState)(null),[O,R]=(0,o.useState)([]),[F,L]=(0,o.useState)([]),[z,B]=(0,o.useState)(!1),V=o.useRef(null),H={JournalEntry:"/journal-entry"},q=(0,o.useCallback)((async(e,t)=>{try{const n=await fetch(yi(e),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:t});if(!n.ok){if(404===n.status)return[];throw new Error("Failed to fetch dropdown data from ".concat(e))}return(await n.json()).results||[]}catch(n){return n.name,[]}}),[]),U=(0,o.useCallback)((async e=>{try{const t=await fetch(yi("/record-type"),{headers:{"Content-Type":"application/json",Accept:"application/json"},signal:e});if(!t.ok)throw new Error("Failed to fetch record types: ".concat(t.status));return(await t.json()).results||[]}catch(t){return t.name,[]}}),[]),G=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";V.current&&clearTimeout(V.current),u({show:!0,message:e,type:t}),V.current=setTimeout((()=>{u({show:!1,message:"",type:"success"}),V.current=null}),4e3)}),[]),W=(0,o.useCallback)((e=>{console.log("\ud83d\udce5 JournalForm: Received lines from JournalLines component:",e),L(e);const t=e.reduce(((e,t)=>e+Math.max(parseFloat(t.debitAmount)||0,parseFloat(t.creditAmount)||0)),0);k((e=>p(p({},e),{},{totalAmount:t})))}),[]),K=async e=>{try{const t=await fetch(yi("/custom-form-field/by-form/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)throw new Error("Failed to fetch custom form fields: ".concat(t.status));const n=await t.json(),o=(Array.isArray(n)?n:[]).sort(((e,t)=>(e.displayOrder||0)-(t.displayOrder||0))),r={},i=o.filter((e=>["DropDownList","MultiSelect"].includes(e.fieldTypeName)&&e.fieldSource));for(const e of i){const t=await q(e.fieldSource);r["custom_".concat(e.fieldName)]=t}return Object.keys(r).length>0&&S((e=>p(p({},e),r))),o}catch(t){return G("Failed to load custom form fields: ".concat(t.message),"error"),[]}},Y=(0,o.useMemo)((()=>{var e;if(!z)return{};if(0===Object.keys(_).length)return p(p({},w),{},{items:F});const t={};Object.keys(_).forEach((e=>{t["custom_".concat(e)]=_[e]}));const n=p(p(p({},w),t),{},{items:F});return console.log("\ud83d\udd27 JournalForm: Combined form data:",{formDataKeys:Object.keys(w),journalLinesLength:(null===F||void 0===F?void 0:F.length)||0,combinedItems:(null===(e=n.items)||void 0===e?void 0:e.length)||0}),n}),[w,_,z,F]),X=(0,o.useCallback)((e=>{const t={};return null!==x&&void 0!==x&&x.standardFields?(x.standardFields.forEach((n=>{const o=e[n.name];!n.isMandatory||o&&""!==o||(t[n.name]="".concat(n.name.charAt(0).toUpperCase()+n.name.slice(1)," is required")),"email"===n.name&&o&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(t[n.name]="Please enter a valid email address"),"phone"===n.name&&o&&!/^\d{10}$/.test(o.replace(/\D/g,""))&&(t[n.name]="Phone number must be 10 digits")})),t):t}),[x]),Q=(0,o.useMemo)((()=>{const e={};return Object.keys(C).forEach((t=>{const n=C[t]||[];e[t]=n.map((e=>{if("string"===typeof e)return{text:e,value:e};if(e.text&&e.value)return e;let n="";if(e&&"object"===typeof e)if("form"===t&&e.formName)n=e.formName;else if(e.name)n=e.name;else if(e.sequenceNumber)n=e.sequenceNumber;else if(e.title)n=e.title;else if(e.description)n=e.description;else{const t=Object.keys(e).find((t=>"id"!==t&&"string"===typeof e[t]&&e[t].trim().length>0));n=t?e[t]:String(e.id||"")}else n=String(e||"");return{text:n,value:e.id||e}}))})),e}),[C]),J=(0,o.useCallback)((()=>{if(null!==x&&void 0!==x&&x.recordTypeId)return x.recordTypeId;let e=O.find((e=>e.name===t));return e?e.id:(e=O.find((e=>{var n;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())})),e?e.id:null)}),[x,O,t]),Z=(0,o.useCallback)((e=>{const t={};return e.forEach((e=>{switch(e.fieldTypeName){case"Checkbox":case"Switch":t[e.name]=!1;break;case"Number":case"NumericTextBox":t[e.name]=0;break;case"Date":case"DropDownList":t[e.name]=null;break;default:t[e.name]=""}})),t}),[]),$=(0,o.useCallback)((async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{if(!t)return{customData:{},customFieldIds:{}};const o=await fetch(yi(vi.endpoints.customFieldValueByTypeAndRecord(t,e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!o.ok)return{};const r=await o.json(),i={},a={},s={};return n.forEach((e=>{s[e.fieldName]=e.fieldTypeName})),Array.isArray(r)&&r.forEach((e=>{if(e.customFieldName&&void 0!==e.valueText&&null!==e.valueText){const n=s[e.customFieldName];let o=e.valueText;switch(n){case"DatePicker":case"Date":if("string"===typeof o&&""!==o.trim()){const e=new Date(o);o=isNaN(e.getTime())?null:e}break;case"NumericTextBox":case"Number":if("string"===typeof o&&""!==o.trim()){const e=parseFloat(o);o=isNaN(e)?0:e}break;case"Checkbox":case"Switch":"string"===typeof o&&(o="true"===o.toLowerCase()||"1"===o);break;case"MultiSelect":if("string"===typeof o&&""!==o.trim())try{const e=JSON.parse(o);o=Array.isArray(e)?e:[o]}catch(t){o=[o]}}i[e.customFieldName]=o,a[e.customFieldName]=e.id}})),{customData:i,customFieldIds:a}}catch(o){return{customData:{},customFieldIds:{}}}}),[]),ee=(0,o.useCallback)((async e=>{if(e)try{var t,o;g(!0);const r=await K(e);E(r),M(e);const a=Z(r.map((e=>p(p({},e),{},{name:e.fieldName}))));if("new"!==n&&i){const e=J(),{customData:t,customFieldIds:n}=await $(i,e,r);D(n);const o=p(p({},a),t);j(o),T(o)}else j(a),T(a);const[s,l]=await Promise.all([fetch(yi("/form/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),fetch(yi("/form-sequence/by-form/".concat(e)),{headers:{"Content-Type":"application/json",Accept:"application/json"}})]);let c="";if(s.ok&&l.ok){const[e,t]=await Promise.all([s.text().then((e=>e.trim()?JSON.parse(e):{})),l.text().then((e=>e.trim()?JSON.parse(e):[]))]),n=Array.isArray(t)&&t.length>0?t[0]:{formSequenceNumber:0},o=e.prefix||"",r=(n.formSequenceNumber||0)+1;c="".concat(o).concat(String(r).padStart(4,"0"))}const d=null===x||void 0===x||null===(t=x.standardFields)||void 0===t?void 0:t.some((e=>"form"===e.name)),u=null===x||void 0===x||null===(o=x.standardFields)||void 0===o?void 0:o.some((e=>"sequenceNumber"===e.name)),h={};d&&(h.form=e),u&&c&&(h.sequenceNumber=c),k((e=>p(p({},e),h)))}catch(s){var r;(null===x||void 0===x||null===(r=x.standardFields)||void 0===r?void 0:r.some((e=>"form"===e.name)))&&k((t=>p(p({},t),{},{form:e})))}finally{g(!1)}else{var a;E([]),j({}),D({}),T({}),M(null);(null===x||void 0===x||null===(a=x.standardFields)||void 0===a?void 0:a.some((e=>"sequenceNumber"===e.name)))&&k((e=>p(p({},e),{},{sequenceNumber:null})))}}),[x,K,n,i,J,$,Z]),te=(0,o.useCallback)((e=>{const{name:t}=e,n=Q[t]||[],o=n.find((t=>t.value===e.value))||null;return{data:n,textField:"text",valueField:"value",value:o,onChange:async n=>{var o;const r=(null===(o=n.target.value)||void 0===o?void 0:o.value)||n.target.value,i=""===r||void 0===r?null:r;e.onChange&&e.onChange({target:{value:i}}),"form"===t&&await ee(i)}}}),[Q,ee]),ne=(0,o.useCallback)((e=>{const{name:t}=e;return{data:Q[t]||[],textField:"text",valueField:"value"}}),[Q]),oe=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return e=>{const{validationMessage:o,touched:r,label:i}=e,a=s(e,AD),l=r&&o,c=p(p({},a),{},{className:l?"k-state-invalid":"",style:{width:"100%"},disabled:"view"===n||a.disabled}),d={text:{component:qc,props:c},number:{component:qc,props:p(p({},c),{},{type:"number",min:0,step:.01})},textarea:{component:ju,props:p(p({},c),{},{rows:4})},checkbox:{component:Tu,props:p(p({},c),{},{label:i,checked:a.value||!1,style:{display:"flex",alignItems:"center"}})},date:{component:oy,props:c},dropdown:{component:Ah,props:p(p({},c),te(e))},multiselect:{component:af,props:p(p({},c),ne(e))}},u=d[t]||d.text;return(0,pi.jsxs)("div",{children:[(0,pi.jsx)(u.component,p({},u.props)),l&&(0,pi.jsx)("div",{className:"k-form-error",children:o})]})}}),[n,te,ne]),re=(0,o.useMemo)((()=>({Input:oe(qc,"text"),TextArea:oe(ju,"textarea"),Checkbox:oe(Tu,"checkbox"),NumericTextBox:oe(qc,"number"),Number:oe(qc,"number"),DropDownList:oe(Ah,"dropdown"),DatePicker:oe(oy,"date"),MultiSelect:oe(af,"multiselect")})),[oe]),ie=e=>re[e.fieldTypeName]||re.Input,ae=function(e){const t=e.displayName||e.label||e.name.charAt(0).toUpperCase()+e.name.slice(1);return e.isMandatory?"".concat(t," *"):t},se=(0,o.useCallback)((function(e){if(e.isMandatory)return t=>t&&""!==t?"email"===e.name&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"Please enter a valid email address":"phone"===e.name&&t&&!/^\d{10}$/.test(t.replace(/\D/g,""))?"Phone number must be 10 digits":"":"".concat(e.displayName||e.name," is required")}),[]),le=(0,o.useCallback)((e=>{if(e.isRequired)return t=>t&&""!==t?"":"".concat(e.fieldLabel||e.fieldName," is required")}),[]),ce=(0,o.useCallback)((function(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const a=t?"custom_".concat(e.fieldName||e.name):e.name,s=t&&e.fieldName||e.name,l=r||"".concat(t?"custom":"standard","-field-").concat(e.id||s),c=t?"".concat(e.fieldLabel||e.fieldName).concat(e.isRequired?" *":""):ae(e,i),d=ie(e),u=t?le(e):se(e,i),p="Checkbox"===e.fieldTypeName||"Switch"===e.fieldTypeName,h="view"===n||e.isDisabled;return(0,pi.jsxs)("div",{className:"master-field-group ".concat(o?"master-field-full":""," ").concat(p?"checkbox-wrapper":""),children:[!p&&(0,pi.jsx)("label",{className:"k-label",children:c}),(0,pi.jsx)("div",{className:"field-wrapper",children:(0,pi.jsx)(wi,{id:a,name:a,component:d,validator:u,disabled:h,label:p?c:void 0})})]},l)}),[n,t,ie,ae,se,le]),de=(0,o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=[];let i=[];return e.forEach((e=>{["TextArea","Checkbox","MultiSelect"].includes(e.fieldTypeName)?(i.length>0&&(r.push({type:"row",fields:[...i]}),i=[]),r.push({type:"fullWidth",field:e})):(i.push(e),3===i.length&&(r.push({type:"row",fields:[...i]}),i=[]))})),i.length>0&&r.push({type:"row",fields:[...i]}),r.map(((e,r)=>{const i=t?"custom":"standard";return"row"===e.type?(0,pi.jsx)(o.Fragment,{children:e.fields.map((e=>ce(e,t,!1,null,n)))},"".concat(i,"-row-").concat(r)):ce(e.field,t,!0,"".concat(i,"-full-").concat(r),n)}))}),[ce]);(0,o.useEffect)((()=>{let e=!0;return(async()=>{if(e)try{g(!0),y(null),B(!1),E([]),j({}),D({}),T({}),M(null);const a=await U();if(!e)return;R(a);const s=await c(t);if(!e)return;b(s);const l=s.standardFields.filter((e=>"DropDownList"===e.fieldTypeName&&e.source)),d=ye(s,a,t),u=l.map((async e=>{let n;if("JournalEntry"===t&&"parent"===e.name)n=await q(e.source),n=n.filter((e=>!0===e.isParent));else if("form"===e.name&&d)try{const e=await fetch(yi(vi.endpoints.formByTypeOfRecord(d)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch forms for record type: ".concat(e.status));n=await e.json(),n=Array.isArray(n)?n:n.results||n.data||[]}catch(o){n=[]}else n=await q(e.source);return{name:e.name,data:n}})),h=await Promise.all(u);if(!e)return;const f=h.reduce(((e,t)=>{let{name:n,data:o}=t;return e[n]=o,e}),{});S(f);const m=Z(s.standardFields);if("new"!==n&&i)try{var o;let n={};switch(t){case"JournalEntry":{const e=await fetch(yi("/journal-entry/".concat(i)),{headers:{"Content-Type":"application/json",Accept:"application/json"}});e.ok&&(n=await e.json());break}default:console.warn("No fetch method available for record type: ".concat(t)),n={}}if(!e)return;const l=(null===(o=n)||void 0===o?void 0:o.data)||n||{};if(l&&Object.keys(l).length>0){const n=p({},m);s.standardFields.forEach((e=>{if(void 0!==l[e.name]){let t=l[e.name];if(("DatePicker"===e.fieldTypeName||"Date"===e.fieldTypeName||"date"===e.fieldTypeName||e.name.toLowerCase().includes("date")||"soDate"===e.name||"invoiceDate"===e.name||"deliveryDate"===e.name)&&t&&"string"===typeof t){const e=new Date(t);t=isNaN(e.getTime())?null:e}n[e.name]=t}}));const o=s.standardFields.map((e=>e.name));if(Object.keys(l).forEach((e=>{void 0===l[e]||o.includes(e)||(n[e]=l[e])})),k(n),l.form)try{const n=await K(l.form);if(!e)return;if(E(n),M(l.form),n.length>0){const o=Z(n.map((e=>p(p({},e),{},{name:e.fieldName})))),r=ye(s,a,t),{customData:l,customFieldIds:c}=await $(i,r,n);if(!e)return;D(c);const d=p(p({},o),l);j(d),T(d)}}catch(r){}}else console.warn("No data found for ".concat(t," with ID: ").concat(i)),k(m)}catch(v){console.error("Error fetching ".concat(t,":"),v),k(m)}else{if(!e)return;k(m)}if(!e)return;B(!0)}catch(r){if(!e)return;y(r.message),G(r.message,"error")}finally{if(!e)return;g(!1)}})(),()=>{e=!1}}),[n,i,t]),(0,o.useEffect)((()=>()=>{V.current&&(clearTimeout(V.current),V.current=null),E([]),j({}),D({}),T({}),M(null),k({}),B(!1),u({show:!1,message:"",type:"success"})}),[]);const ue=async(e,t,n)=>{const o=Object.keys(n).map((async o=>{var r;const i=n[o],a=null===(r=I.find((e=>e.fieldName===o)))||void 0===r?void 0:r.id,s=A[o];if(!a)return;const l={customFormFieldId:a,recordId:e,typeOfRecord:t,valueText:i},c=yi(s?vi.endpoints.customFieldValueById(s):vi.endpoints.customFieldValue),d=s?"PUT":"POST";try{(await fetch(c,{method:d,headers:{"Content-Type":"application/json"},body:JSON.stringify(DD(l))})).ok||console.error("Failed to save custom field ".concat(o))}catch(u){console.error("Error saving custom field ".concat(o,": ").concat(u.message))}}));await Promise.all(o)},pe=async e=>{if(!e||0===e.length)return;const t="".concat(vi.baseURL,"/journal-entry-line/by-journal-entry/").concat(i);try{const n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});let o=[];if(n.ok){const e=await n.json();if(Array.isArray(e))o=e;else if(e.results&&Array.isArray(e.results))o=e.results;else if(e.lines&&Array.isArray(e.lines))o=e.lines;else{const t=Object.values(e).filter((e=>Array.isArray(e)));t.length>0&&(o=t[0])}}const r=new Map;o.forEach((e=>{e.id&&r.set(e.id,e)}));const a=e.map((e=>{const t=r.get(e.id);return{jeid:i,id:e.id||null,accountId:e.accountID,newCredit:Number(e.credit||0),newDebit:Number(e.debit||0),oldCredit:t?Number(t.credit||0):0,oldDebit:t?Number(t.debit||0):0,memo:e.memo}}));console.log("\ud83d\udd04 Calling useJournal for edit operation with changes:",a),await My(a,"edit")}catch(v){throw new Error("Failed to update line items: ".concat(v.message))}},he=async(e,t,n)=>(await fe(i,e),await ue(i,n,t),Object.keys(t).length),fe=async(e,n)=>{try{let o;if("JournalEntry"!==t)throw new Error("Unsupported record type: ".concat(t));o=yi("/journal-entry/".concat(e));const r=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(DD(n))});if(!r.ok){const e=await r.text();throw new Error("Failed to update ".concat(t,": ").concat(r.status," - ").concat(e))}return await r.json()}catch(v){throw console.error("Error updating ".concat(t,":"),v),v}},me=e=>{const t={},n={};return Object.keys(e).forEach((o=>{const r=e[o],i=""===r?null:r;if(o.startsWith("custom_")){const e=o.replace("custom_","");n[e]=i}else t[o]=i})),{standardData:t,customData:n}},ye=(e,t,n)=>{if(null!==e&&void 0!==e&&e.recordTypeId)return e.recordTypeId;let o=t.find((e=>e.name===n));return o?o.id:(o=t.find((e=>{var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===(null===n||void 0===n?void 0:n.toLowerCase())})),o?o.id:null)};return!m&&x&&z?v?(0,pi.jsx)("div",{className:"master-form-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("h3",{children:["Error Loading ",t]}),(0,pi.jsx)("p",{children:v}),(0,pi.jsx)(xo,{onClick:()=>r("/"),children:"Back to Dashboard"})]})}):(0,pi.jsxs)("div",{className:"master-form-container","data-theme":t.toLowerCase(),children:[(0,pi.jsx)(uy,{children:d.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:d.type,icon:!0},closable:!0,onClose:()=>u({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:d.message})})})}),(0,pi.jsx)("div",{className:"master-form-header",children:(0,pi.jsx)("h2",{children:"new"===n?"Create New ".concat(t):"edit"===n?"Edit ".concat(t):"View ".concat(t)})}),(0,pi.jsx)("div",{className:"master-form-element",children:(0,pi.jsx)(ha,{initialValues:Y,validator:X,onSubmit:async(e,o)=>{console.log("\ud83d\ude80 handleSubmit called with:",{formValues:e,mode:n,recordType:t}),console.log("\ud83d\udccb Submit event:",o);try{console.log("\ud83d\udd04 Starting form submission process..."),g(!0),y(null);const{standardData:o,customData:a}=me(e);if(console.log("\ud83d\udcca Separated form data:",{standardData:o,customData:a}),"new"===n){var i;console.log("\ud83c\udd95 Creating new record...");const n=await(async e=>{try{var n,o,r;let i;switch(t){case"JournalEntry":{const t=yi("/journal-entry"),n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(DD(e))});if(!n.ok){const e=await n.text();throw new Error("Failed to create JournalEntry: ".concat(n.status," - ").concat(e))}i=await n.json();break}default:throw new Error("Unsupported record type: ".concat(t))}let a=null;if(null!==(n=i)&&void 0!==n&&n.id)a=i.id;else if(null!==(o=i)&&void 0!==o&&null!==(r=o.data)&&void 0!==r&&r.id)a=i.data.id;else if("string"===typeof i)a=i;else{const e=Object.keys(i||{}).filter((e=>e.toLowerCase().includes("id")));e.length>0&&(a=i[e[0]])}if(!a)throw new Error("".concat(t," header created but no ID returned. Response: ").concat(JSON.stringify(i)));return a}catch(v){throw console.error("Error creating ".concat(t,":"),v),v}})(o),s=e.items||[];s.length>0?await(async(e,t)=>{if(!t||0===t.length)return;const n=t.map((t=>({jeid:e,accountId:t.accountID,newCredit:t.credit||0,newDebit:t.debit||0,oldCredit:0,oldDebit:0,memo:t.memo,id:null})));await My(n,"new")})(n,s):console.log("\u2139\ufe0f No line items to create");(null===x||void 0===x||null===(i=x.standardFields)||void 0===i?void 0:i.some((e=>"form"===e.name)))&&P?(await(async e=>{if(console.log("\ud83d\udd04 Updating form sequence for formId:",e),e)try{console.log("\ud83d\udce1 Fetching current form sequence...");const t=await fetch("".concat(vi.baseURL,"/form-sequence/by-form/").concat(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!t.ok)return void console.log("\u26a0\ufe0f Form sequence not found, skipping update");const n=await t.text();if(!n.trim())return void console.log("\u26a0\ufe0f Empty form sequence response, skipping update");const o=JSON.parse(n);if(console.log("\ud83d\udcca Current form sequence data:",o),!Array.isArray(o)||0===o.length)return void console.log("\u26a0\ufe0f No form sequence data found, skipping update");const r=o[0],i=r.formSequenceNumber||0,a=i+1;console.log("\ud83d\udd22 Updating sequence: ".concat(i," \u2192 ").concat(a));const s=await fetch("".concat(vi.baseURL,"/form-sequence/").concat(r.id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(p(p({},r),{},{formSequenceNumber:a}))});if(!s.ok){const e=await s.text();throw console.error("\u274c Failed to update form sequence:",e),new Error("Failed to update form sequence: ".concat(s.status," - ").concat(e))}const l=await s.json();console.log("\u2705 Form sequence updated successfully:",l)}catch(v){console.error("\u274c Error updating form sequence:",v)}else console.log("\u2139\ufe0f No formId provided, skipping form sequence update")})(P),console.log("\u2705 Form sequence updated successfully")):console.log("\u2139\ufe0f No form field or selectedFormId, skipping form sequence update");const l=J();await ue(n,l,a),console.log("\ud83c\udf89 Record creation completed successfully!"),G("".concat(t," created successfully with ").concat(Object.keys(a).length," custom fields!"),"success"),r(H[t]||"/")}else{const n=await he(o,a,J());e.items&&e.items.length>0&&await pe(e.items),G("".concat(t," updated successfully with ").concat(n," custom fields"),"success"),r(H[t]||"/")}}catch(a){console.error("\u274c Error in handleSubmit:",a),y(a.message),G(a.message,"error")}finally{g(!1),console.log("\ud83c\udfc1 handleSubmit process completed")}},render:e=>(0,pi.jsxs)(xa,{children:[(0,pi.jsxs)("div",{className:"master-form-content",children:[(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Standard Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:de((null===x||void 0===x?void 0:x.standardFields)||[],!1,e)})]}),I.length>0&&(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Custom Fields"})}),(0,pi.jsx)("div",{className:"master-form-row",children:de(I,!0,e)})]}),(0,pi.jsxs)("div",{className:"form-section",children:[(0,pi.jsx)("div",{className:"section-header",children:(0,pi.jsx)("h3",{className:"section-title",children:"Items"})}),(0,pi.jsx)("div",{style:{padding:"0",width:"100%",maxWidth:"100%",overflow:"hidden"},children:(0,pi.jsx)(jD,{journalEntryId:i,onLinesChange:W,mode:n,embedded:!0})})]})]}),(0,pi.jsxs)("div",{className:"master-form-actions",children:[(0,pi.jsxs)(xo,{type:"button",onClick:()=>r(H[t]||"/"),className:"k-button k-button-secondary",children:[(0,pi.jsx)(ai,{})," ","view"===n?"Close":"Cancel"]}),"new"!==n&&"view"!==n&&(0,pi.jsxs)(xo,{type:"button",onClick:()=>f(!0),className:"k-button k-button-danger",children:[(0,pi.jsx)(li,{})," Delete"]}),"view"!==n&&(0,pi.jsxs)(xo,{type:"submit",disabled:m||!e.allowSubmit,className:"k-button k-button-primary",children:[(0,pi.jsx)(ni,{})," ",m?"Saving...":"Save"]})]})]})},"".concat(t.toLowerCase(),"-form-").concat(n,"-").concat(i||"new","-").concat(P||"no-form","-items-").concat(F.length))}),(0,pi.jsx)(hy,{isOpen:h,onClose:()=>f(!1),onConfirm:async()=>{try{g(!0),y(null);const n={JournalEntry:{endpoint:"".concat(vi.baseURL,"/journal-entry-line"),getEndpoint:"".concat(vi.baseURL,"/journal-entry-line/by-journal-entry/").concat(i)}}[t];if(n&&n.getEndpoint){const e=await fetch(n.getEndpoint,{method:"GET",headers:{"Content-Type":"application/json"}});let t=[];if(e.ok){const n=await e.json();if(Array.isArray(n))t=n;else if(n.results&&Array.isArray(n.results))t=n.results;else if(n.lines&&Array.isArray(n.lines))t=n.lines;else{const e=Object.values(n).filter((e=>Array.isArray(e)));e.length>0&&(t=e[0])}}if(t.length>0){const e=t.map((e=>({jeid:i,id:e.id,accountId:e.account,memo:e.memo,newCredit:0,newDebit:0,oldCredit:Number(e.credit||0),oldDebit:Number(e.debit||0)})));console.log("\ud83d\udd04 Calling useJournal for delete operation with changes:",e),await My(e,"delete")}}const o=J();if(o)try{const e=await fetch(yi("/custom-field-value/by-record/".concat(i,"/").concat(o)),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(e.ok){const t=await e.json(),n=Array.isArray(t)?t:t.results||[];if(n.length>0){const e=n.map((e=>fetch(yi("/custom-field-value/".concat(e.id)),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}})));await Promise.all(e)}}}catch(e){console.warn("Failed to delete custom field values:",e)}let a;if("JournalEntry"!==t)throw new Error("Unsupported record type: ".concat(t));a=yi("/journal-entry/".concat(i));const s=await fetch(a,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!s.ok){const e=await s.text();throw new Error("Failed to delete ".concat(t,": ").concat(s.status," - ").concat(e))}G("".concat(t," deleted successfully!"),"success"),r(H[t]||"/")}catch(n){y(n.message),G(n.message,"error")}finally{g(!1),f(!1)}},title:"Confirm Delete",message:(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsxs)("p",{children:["Are you sure you want to delete this ",t.toLowerCase(),"?"]}),(0,pi.jsx)("p",{children:(0,pi.jsx)("strong",{children:"This action cannot be undone."})})]}),confirmText:"Delete",cancelText:"Cancel",type:"danger",loading:m})]}):(0,pi.jsx)("div",{className:"master-form-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsxs)("div",{children:["Loading ",t.toLowerCase()," form..."]})]})})})),TD=e=>(0,pi.jsx)(ND,p(p({},e),{},{recordType:"JournalEntry"})),PD=()=>{const e=ge(),[t,n]=(0,o.useState)([]),[r,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(""),[d,u]=(0,o.useState)("All"),[h,f]=(0,o.useState)({show:!1,message:"",type:"success"}),[m,g]=(0,o.useState)({skip:0,take:10,sort:[{field:"tranDate",dir:"desc"}]}),v=(0,o.useCallback)((async()=>{try{i(!0),s(null);const e=await fetch(yi("/journal-entry"),{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch journal entries: ".concat(e.status));const t=await e.json();n(t.results||t||[])}catch(e){s(e.message),console.error("Error fetching journal entries:",e)}finally{i(!1)}}),[]);(0,o.useEffect)((()=>{v()}),[v]);const y=()=>{v(),x("Journal entries refreshed successfully")},x=function(e){f({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout((()=>{f({show:!1,message:"",type:"success"})}),3e3)},b=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},w=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0),k=(0,o.useCallback)((()=>{if(!Array.isArray(t))return{data:[],total:0};let e=[...t];l&&(e=e.filter((e=>"".concat(e.sequenceNumber||""," ").concat(e.description||""," ").concat(w(e.totalAmount)).toLowerCase().includes(l.toLowerCase())))),d&&"All"!==d&&(e=e.filter((e=>e.statusName===d)));return{data:ub(e,m).data,total:e.length}}),[t,l,d,m]);return r?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"journal-entry-list-container",children:(0,pi.jsxs)("div",{className:"loading-indicator",children:[(0,pi.jsx)("div",{className:"spinner"}),(0,pi.jsx)("div",{children:"Loading journal entries..."})]})})}):a?(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsx)("div",{className:"journal-entry-list-container error-container",children:(0,pi.jsxs)("div",{className:"error-message",children:[(0,pi.jsxs)("div",{children:["Error loading journal entries: ",a]}),(0,pi.jsxs)(xo,{onClick:y,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ii,{})," Retry"]})]})})}):(0,pi.jsx)("div",{className:"k-p-4",children:(0,pi.jsxs)("div",{className:"journal-entry-list-container",children:[(0,pi.jsx)(uy,{children:h.show&&(0,pi.jsx)("div",{className:"notification-container",children:(0,pi.jsx)(cy,{type:{style:h.type,icon:!0},closable:!0,onClose:()=>f({show:!1,message:"",type:"success"}),children:(0,pi.jsx)("span",{children:h.message})})})}),(0,pi.jsxs)("div",{className:"list-header",children:[(0,pi.jsx)("h2",{children:"Journal Entry Master"}),(0,pi.jsxs)(xo,{onClick:()=>e("/journal-entry/new"),className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary",children:[(0,pi.jsx)(ti,{})," Add New Journal Entry"]})]}),(0,pi.jsxs)("div",{className:"filter-section",children:[(0,pi.jsxs)("div",{className:"search-bar",children:[(0,pi.jsx)(oi,{className:"search-icon"}),(0,pi.jsx)(qc,{placeholder:"Search journal entries...",value:l,onChange:e=>c(e.target.value)})]}),(0,pi.jsxs)("div",{className:"filter-bar",children:[(0,pi.jsx)($r,{className:"filter-icon"}),(0,pi.jsx)(Ah,{data:["All","Draft","Posted","Approved"],value:d,onChange:e=>u(e.target.value),style:{width:"100%"}})]}),(0,pi.jsx)(xo,{onClick:y,className:"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base",title:"Refresh",children:(0,pi.jsx)(ii,{})})]}),t&&0!==t.length?0===k().data.length?(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:"No journal entries match your current search criteria. Try adjusting your filters."})}):(0,pi.jsxs)(q_,p(p({data:k().data,pageable:{pageSizes:[10,20,50],buttonCount:5,info:!0},sortable:!0},m),{},{onDataStateChange:e=>{g(e.dataState)},total:k().total,style:{height:"calc(100vh - 250px)",minHeight:"400px"},children:[(0,pi.jsx)(Uy,{title:"No",width:"70px",cell:e=>{const t=e.dataIndex+1+(m.skip||0);return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:t}))}}),(0,pi.jsx)(Uy,{field:"sequenceNumber",title:"Sequence Number",width:"180px"}),(0,pi.jsx)(Uy,{field:"tranDate",title:"Transaction Date",width:"150px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{children:b(e.dataItem[e.field])}))}),(0,pi.jsx)(Uy,{field:"description",title:"Description",width:"250px"}),(0,pi.jsx)(Uy,{field:"statusName",title:"Status",width:"120px",cell:e=>{const t=e.dataItem.statusName||"Draft",n="posted"===t.toLowerCase()?"status-posted":"status-draft";return(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"center"},children:(0,pi.jsx)("span",{className:"status-badge ".concat(n),children:t})}))}}),(0,pi.jsx)(Uy,{field:"totalAmount",title:"Total Amount",width:"140px",cell:e=>(0,pi.jsx)("td",p(p({},e.tdProps),{},{style:{textAlign:"right"},children:w(e.dataItem[e.field])}))}),(0,pi.jsx)(Uy,{title:"Actions",width:"180px",cell:t=>{const n=t.dataItem;return n&&n.id?(0,pi.jsx)("td",p(p({},t.tdProps),{},{className:"k-command-cell",children:(0,pi.jsxs)("div",{className:"action-buttons",children:[(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/journal-entry/view/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-base",children:"View"}),(0,pi.jsx)(xo,{onClick:()=>{return t=n.id,void e("/journal-entry/edit/".concat(t));var t},className:"k-button k-button-sm k-rounded-sm k-button-solid k-button-solid-primary",children:"Edit"})]})})):(0,pi.jsx)("td",p(p({},t.tdProps),{},{children:"Invalid entry data"}))},locked:!0,lockable:!1})]})):(0,pi.jsx)("div",{className:"no-data-message",children:(0,pi.jsx)("p",{children:'No journal entries found. Click the "Add New Journal Entry" button above to create your first journal entry.'})}),(0,pi.jsx)("style",{children:"\n          .journal-entry-list-container {\n            background: white;\n            border-radius: 4px;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n            padding: 16px;\n            margin: 12px;\n          }\n\n          .list-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n\n          .k-dropdown-wrap {\n            background: transparent;\n            border: 1px solid #e2e8f0;\n            border-radius: 4px;\n          }\n\n          .k-dropdown-wrap .k-input {\n            background: transparent;\n            padding-left: 28px;\n          }\n\n          .list-header h2 {\n            margin: 0;\n            color: #2d3748;\n            font-size: 1.25rem;\n            font-weight: 600;\n          }\n\n          .filter-section {\n            display: flex;\n            gap: 12px;\n            margin-bottom: 16px;\n            align-items: center;\n          }\n\n          .search-bar {\n            flex: 1;\n            position: relative;\n          }\n\n          .search-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #a0aec0;\n            z-index: 1;\n          }\n\n          .search-bar .k-textbox {\n            padding-left: 28px;\n            width: 100%;\n          }\n\n          .filter-bar {\n            width: 200px;\n            position: relative;\n          }\n\n          .filter-icon {\n            position: absolute;\n            left: 8px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #a0aec0;\n            z-index: 1;\n          }\n\n          .no-data-message {\n            text-align: center;\n            padding: 40px 20px;\n            color: #718096;\n            background: #f7fafc;\n            border-radius: 4px;\n            margin: 20px 0;\n          }\n\n          .loading-indicator {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            padding: 40px;\n            color: #718096;\n          }\n\n          .spinner {\n            width: 32px;\n            height: 32px;\n            border: 3px solid #e2e8f0;\n            border-top: 3px solid #3182ce;\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n            margin-bottom: 16px;\n          }\n\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          .error-container {\n            text-align: center;\n            padding: 40px 20px;\n          }\n\n          .error-message {\n            color: #e53e3e;\n            margin-bottom: 16px;\n          }\n\n          .status-badge {\n            padding: 4px 8px;\n            border-radius: 12px;\n            font-size: 0.75rem;\n            font-weight: 500;\n            text-transform: uppercase;\n          }\n\n          .status-draft {\n            background-color: #fed7d7;\n            color: #c53030;\n          }\n\n          .status-posted {\n            background-color: #c6f6d5;\n            color: #2f855a;\n          }\n\n          .action-buttons {\n            display: flex;\n            gap: 4px;\n          }\n\n          .notification-container {\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            z-index: 1000;\n          }\n        "})]})})};var MD="arc",OD="ArrowUp",RD="ArrowDown",FD="ArrowLeft",LD="ArrowRight",zD="aria-activedescendant",BD="#000",VD="bottom",HD="center",qD="circle",UD="cross",GD="date",WD="12px sans-serif",KD=10,YD="end",XD=/\{\d+:?/,QD="height",JD="inside",ZD="inherit",$D="left",eN=Number.MAX_VALUE,tN=-Number.MAX_VALUE,nN="none",oN="object",rN="outside",iN="right",aN="roundedRect",sN="start",lN="string",cN="top",dN="value",uN="#fff",pN="width",hN="x",fN="y",mN="pointer",gN="horizontal";function vN(e){return Array.isArray(e)}function yN(e,t){for(var n=vN(t)?t:[t],o=0;o<n.length;o++){var r=n[o];-1===e.className.indexOf(r)&&(e.className+=" "+r)}}var xN=/\s+/g;function bN(e,t){e&&e.className&&(e.className=e.className.replace(t,"").replace(xN," "))}var wN="undefined";function kN(e){return typeof e!==wN}function CN(e){var t=.5;e.options.stroke&&kN(e.options.stroke.width)&&e.options.stroke.width%2===0&&(t=0);for(var n=0;n<e.segments.length;n++)e.segments[n].anchor().round(0).translate(t,t);return e}function SN(e,t){return-e.x*t.y+e.y*t.x<0}function IN(e){return"number"===typeof e&&!isNaN(e)}function EN(e){return typeof e===lN}function _N(e){return IN(e)||EN(e)&&isFinite(e)}function jN(e,t){return(e+1)%t}function AN(e,t){var n=e-1;return n<0?t-1:n}function DN(e,t){return 1===t||e%t===0?0:e<0?t+e%t:e>=t?e%t:e}function NN(e){return"function"===typeof e}var TN="object";function PN(e,t){for(var n in t)if("__proto__"!==n&&"constructor"!==n){var o=t[n],r=typeof o,i=void 0;if((i=r===TN&&null!==o?o.constructor:null)&&i!==Array)if(o instanceof Date)e[n]=new Date(o.getTime());else if(NN(o.clone))e[n]=o.clone();else{var a=e[n];e[n]=typeof a===TN&&a||{},PN(e[n],o)}else"undefined"!==r&&(e[n]=o)}return e}function MN(e){for(var t=arguments,n=arguments.length,o=1;o<n;o++)PN(e,t[o]);return e}function ON(e){return"object"===typeof e}function RN(e){return IN(e)?e+"px":e}var FN=/width|height|top|left|bottom|right/i;function LN(e){return FN.test(e)}function zN(e,t){var n=EN(t)?[t]:t;if(vN(n)){for(var o={},r=window.getComputedStyle(e),i=0;i<n.length;i++){var a=n[i];o[a]=LN(a)?parseFloat(r[a]):r[a]}return o}if(ON(t))for(var s in t)e.style[s]=RN(t[s])}function BN(e,t){void 0===t&&(t=0);var n={top:0,right:0,bottom:0,left:0};return"number"===typeof e?n[cN]=n[iN]=n[VD]=n[$D]=e:(n[cN]=e[cN]||t,n[iN]=e[iN]||t,n[VD]=e[VD]||t,n[$D]=e[$D]||t),n}var VN={compile:function(e){return e}},HN=function(){};HN.register=function(e){VN=e},HN.compile=function(e,t){return VN.compile(e,t)};const qN=HN;function UN(e){var t;return void 0===e&&(e={}),e.template?e.template=t=qN.compile(e.template):NN(e.content)&&(t=e.content),t}function GN(e){var t;return void 0===e&&(e={}),e.ariaTemplate?e.ariaTemplate=t=qN.compile(e.ariaTemplate):NN(e.ariaContent)&&(t=e.ariaContent),t}var WN=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,KN={};function YN(e){if(KN[e])return KN[e];var t=[];return e.replace(WN,(function(e,n,o,r){t.push(kN(n)?n:o||r)})),KN[e]=function(e){for(var n=e,o=0;o<t.length&&n;o++)n=n[t[o]];return n},KN[e]}function XN(e,t){for(var n=e.length,o=[],r=0;r<n;r++)t(e[r])&&o.push(e[r]);return o}function QN(e,t){if(e.className)for(var n=t.split(" "),o=0;o<n.length;o++)if(e.className.indexOf&&-1!==e.className.indexOf(n[o]))return!0}KN[void 0]=function(e){return e};var JN=function(){this._map=new Map};JN.prototype.get=function(e){return this._map.get(e)},JN.prototype.set=function(e,t){this._map.set(e,t)};const ZN=JN;function $N(e,t){if(t)return-1!==t.indexOf(e)}function eT(e,t){var n=function(e){return e?Math.pow(10,e):1}(t);return Math.round(e*n)/n}function tT(e,t,n){return eT(e+(t-e)*n,3)}var nT="trigger",oT=function(e,t){this.observer=e,this.handlerMap=MN({},this.handlerMap,t)};oT.prototype.trigger=function(e,t){var n,o=this.observer,r=this.handlerMap;return r[e]?n=this.callObserver(r[e],t):o[nT]&&(n=this.callObserver(nT,e,t)),n},oT.prototype.callObserver=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return this.observer[e].apply(this.observer,t)},oT.prototype.requiresHandlers=function(e){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(e);for(var t=0;t<e.length;t++)if(this.handlerMap[e[t]])return!0};const rT=oT;function iT(e,t){for(var n=e.length,o=[],r=0;r<n;r++){var i=t(e[r]);kN(i)&&o.push(i)}return o}var aT=null,sT={get browser(){return"undefined"===typeof window||aT||(aT=function(e){var t={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+))/i},n={};for(var o in t)if(t.hasOwnProperty(o)){var r=e.match(t[o]);if(r){n[o]=!0,n[r[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||r[2],10);break}}return n}(window.navigator.userAgent)),aT}};const lT=sT;var cT=lT.browser||{};function dT(e){var t=0;return e.wheelDelta?(t=-e.wheelDelta/120,cT.webkit&&(t/=2*Math.max(window.devicePixelRatio,.625))):e.detail&&(t=e.detail/3),t=t>0?Math.ceil(t):Math.floor(t)}const uT=function(){};function pT(e){var t=window.console;"undefined"!=typeof t&&t.log&&t.log(e)}function hT(e,t){return e.push.apply(e,t),e}var fT={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function mT(e){for(var t=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],n="";e>0;)e<t[0]?t.shift():(n+=fT[t[0]],e-=t[0]);return n}function gT(){var e,t,n=new Promise((function(o,r){e=function(e){return n._state="resolved",o(e),n},t=function(e){return n._state="rejected",r(e),n}}));return n._state="pending",n.resolve=e,n.reject=t,n.state=function(){return n._state},n}var vT=1;function yT(){return"kdef"+vT++}var xT=Math.PI/180,bT=Number.MAX_VALUE,wT=-Number.MAX_VALUE;function kT(e){return e/xT}var CT=String.fromCharCode;var ST="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function IT(e){for(var t="",n=0,o=function(e){for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);if(55296<=o&&o<=56319){var r=o,i=e.charCodeAt(++n);isNaN(i)||(o=1024*(r-55296)+(i-56320)+65536)}o<128?t+=CT(o):o<2048?(t+=CT(192|o>>>6),t+=CT(128|63&o)):o<65536?(t+=CT(224|o>>>12),t+=CT(128|o>>>6&63),t+=CT(128|63&o)):o<1114111&&(t+=CT(240|o>>>18),t+=CT(128|o>>>12&63),t+=CT(128|o>>>6&63),t+=CT(128|63&o))}return t}(e);n<o.length;){var r=o.charCodeAt(n++),i=o.charCodeAt(n++),a=o.charCodeAt(n++),s=r>>2,l=(3&r)<<4|i>>4,c=(15&i)<<2|a>>6,d=63&a;isNaN(i)?c=d=64:isNaN(a)&&(d=64),t=t+ST.charAt(s)+ST.charAt(l)+ST.charAt(c)+ST.charAt(d)}return t}function ET(e){return kN((e.x||{}).location)?{x:e.x.location,y:e.y.location}:{x:e.pageX||e.clientX||0,y:e.pageY||e.clientY||0}}function _T(e){return void 0===e&&(e={}),e.touch?e.touch.initialTouch:e.target}function jT(e){return""===e||null===e||"none"===e||"transparent"===e||!kN(e)}function AT(e){if(e)return e[e.length-1]}function DT(e,t,n){return Math.max(Math.min(e,n),t)}function NT(e,t){if(e.length<2)return e.slice();return function e(n){if(n.length<=1)return n;var o=Math.floor(n.length/2),r=n.slice(0,o),i=n.slice(o);return function(e,n){for(var o=[],r=0,i=0,a=0;r<e.length&&i<n.length;)t(e[r],n[i])<=0?o[a++]=e[r++]:o[a++]=n[i++];return r<e.length&&o.push.apply(o,e.slice(r)),i<n.length&&o.push.apply(o,n.slice(i)),o}(r=e(r),i=e(i))}(e)}const TT=Date.now||function(){return(new Date).getTime()};function PT(e){return Promise.all(e)}function MT(e){return e*xT}function OT(e,t){return kN(e)?e:t}function RT(e,t){for(var n in t)for(var o=n.trim().split(" "),r=0;r<o.length;r++)e.addEventListener(o[r],t[n],!1)}function FT(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}}function LT(e,t){for(var n={},o=window.getComputedStyle(e)||{},r=Array.isArray(t)?t:[t],i=0;i<r.length;i++){var a=r[i];n[a]=o[a]}return n}function zT(e){return isNaN(e)?e:e+"px"}function BT(e,t){if(!t){var n=LT(e,["width","height"]);return{width:parseInt(n.width,10),height:parseInt(n.height,10)}}var o=t.width,r=t.height;kN(o)&&(e.style.width=zT(o)),kN(r)&&(e.style.height=zT(r))}function VT(e,t){for(var n in void 0===t&&(t={}),t)for(var o=n.trim().split(" "),r=0;r<o.length;r++)e.removeEventListener(o[r],t[n],!1)}function HT(e){var t=LT(e,["paddingLeft","paddingTop"]),n=t.paddingLeft,o=t.paddingTop;return{top:parseFloat(o),left:parseFloat(n)}}var qT=function(e){function t(t,n,o,r,i,a){void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===a&&(a=0),e.call(this),this.a=t,this.b=n,this.c=o,this.d=r,this.e=i,this.f=a}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.multiplyCopy=function(e){return new t(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)},t.prototype.invert=function(){var e=this,n=e.a,o=e.b,r=e.c,i=e.d,a=e.e,s=e.f,l=n*i-o*r;return 0===l?null:new t(i/l,-o/l,-r/l,n/l,(r*s-i*a)/l,(o*a-n*s)/l)},t.prototype.clone=function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},t.prototype.equals=function(e){return!!e&&(this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f)},t.prototype.round=function(e){return this.a=eT(this.a,e),this.b=eT(this.b,e),this.c=eT(this.c,e),this.d=eT(this.d,e),this.e=eT(this.e,e),this.f=eT(this.f,e),this},t.prototype.toArray=function(e){var t=[this.a,this.b,this.c,this.d,this.e,this.f];if(kN(e))for(var n=0;n<t.length;n++)t[n]=eT(t[n],e);return t},t.prototype.toString=function(e,t){return void 0===t&&(t=","),this.toArray(e).join(t)},t.translate=function(e,n){return new t(1,0,0,1,e,n)},t.unit=function(){return new t(1,0,0,1,0,0)},t.rotate=function(e,n,o){var r=new t;return r.a=Math.cos(MT(e)),r.b=Math.sin(MT(e)),r.c=-r.b,r.d=r.a,r.e=n-n*r.a+o*r.b||0,r.f=o-o*r.a-n*r.b||0,r},t.scale=function(e,n){return new t(e,0,0,n,0,0)},t}(uT);qT.IDENTITY=qT.unit();const UT=qT;var GT=/matrix\((.*)\)/;function WT(e){var t=getComputedStyle(e).transform;return"none"===t?UT.unit():function(e){var t=e.match(GT);if(null===t||2!==t.length)return UT.unit();var n=t[1].split(",").map((function(e){return parseFloat(e)}));return new(Function.prototype.bind.apply(UT,[null].concat(n)))}(t)}function KT(e){if(!e)return UT.unit();for(var t=WT(e),n=e.parentElement;n;){var o=WT(n);t=t.multiplyCopy(o),n=n.parentElement}return t.b=t.c=t.e=t.f=0,t}var YT=function(e){function t(t){e.call(this),this._size=t,this._length=0,this._map={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.put=function(e,t){var n=this._map,o={key:e,value:t};n[e]=o,this._head?(this._tail.newer=o,o.older=this._tail,this._tail=o):this._head=this._tail=o,this._length>=this._size?(n[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},t.prototype.get=function(e){var t=this._map[e];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value},t}(uT);const XT=YT;var QT=/\r?\n|\r|\t/g,JT=" ";function ZT(e){return String(e).replace(QT,JT)}function $T(e){var t=[];for(var n in e)t.push(n+e[n]);return t.sort().join("")}function eP(e){for(var t=2166136261,n=0;n<e.length;++n)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=e.charCodeAt(n);return t>>>0}var tP,nP={baselineMarkerSize:1};"undefined"!==typeof document&&((tP=document.createElement("div")).style.setProperty("position","absolute","important"),tP.style.setProperty("top","-4000px","important"),tP.style.setProperty("width","auto","important"),tP.style.setProperty("height","auto","important"),tP.style.setProperty("padding","0","important"),tP.style.setProperty("margin","0","important"),tP.style.setProperty("border","0","important"),tP.style.setProperty("line-height","normal","important"),tP.style.setProperty("visibility","hidden","important"),tP.style.setProperty("white-space","pre","important"));var oP=function(e){function t(t){e.call(this),this._cache=new XT(1e3),this.options=Object.assign({},nP,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.measure=function(e,t,n){if(void 0===n&&(n={}),"undefined"===typeof e||null===e)return{width:0,height:0,baseline:0};var o=eP(e+$T(t)),r=this._cache.get(o);if(r)return r;var i={width:0,height:0,baseline:0},a=n.box||tP,s=this._baselineMarker().cloneNode(!1);for(var l in t){var c=t[l];"undefined"!==typeof c&&(a.style[l]=c)}var d=!1!==n.normalizeText?ZT(e):String(e);return a.textContent=d,a.appendChild(s),document.body.appendChild(a),d.length&&(i.width=a.offsetWidth-this.options.baselineMarkerSize,i.height=a.offsetHeight,i.baseline=s.offsetTop+this.options.baselineMarkerSize),i.width>0&&i.height>0&&this._cache.put(o,i),a.parentNode.removeChild(a),i},t.prototype._baselineMarker=function(){var e=document.createElement("div");return e.style.display="inline-block",e.style.verticalAlign="baseline",e.style.width=this.options.baselineMarkerSize+"px",e.style.height=this.options.baselineMarkerSize+"px",e.style.overflow="hidden",e},t}(uT);oP.current=new oP;const rP=oP;function iP(e,t,n){return rP.current.measure(e,t,n)}var aP=e.append,sP=e.bindEvents,lP=e.defined,cP=e.deg,dP=e.elementOffset,uP=e.elementSize,pP=e.eventCoordinates,hP=e.eventElement,fP=e.hashKey,mP=e.last,gP=e.limitValue,vP=e.objectKey,yP=e.rad,xP=e.round,bP=e.unbindEvents,wP=e.valueOrDefault,kP=function(){};kP.fetchFonts=function(e,t,n){void 0===n&&(n={depth:0});!e||n.depth>5||!document.fonts||Object.keys(e).forEach((function(o){var r=e[o];"dataSource"!==o&&"$"!==o[0]&&r&&("font"===o?t.push(r):"object"===typeof r&&(n.depth++,kP.fetchFonts(r,t,n),n.depth--))}))},kP.loadFonts=function(e,t){var n=[];if(e.length>0&&document.fonts){try{n=e.map((function(e){return document.fonts.load(e)}))}catch(co){pT(co)}Promise.all(n).then(t,t)}else t()},kP.preloadFonts=function(e,t){var n=[];kP.fetchFonts(e,n),kP.loadFonts(n,t)};const CP=kP;function SP(e,t){var n=e.prototype;n.options?n.options=MN({},n.options,t):n.options=t}var IP="k-i-",EP="k-svg-i-",_P=function(e,t){this.element=e,this.options=MN({},this.options,t),this.wrapper()};_P.prototype.wrapper=function(){this.addClasses()},_P.prototype.addClasses=function(){},_P.prototype.html=function(){return this.element.outerHTML},SP(_P,{name:"",size:"none",themeColor:"none",flip:"default",iconClass:"",stylingOptions:["size","themeColor","fill"]});var jP=function(e){function t(t,n){e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.wrapper=function(){var t=this.element.className.split(" ").find((function(e){return e.startsWith(IP)})),n=this.options.icon?""+(this.options.icon.startsWith(IP)?"":IP)+this.options.icon:"";this._className=n,yN(this.element,"k-icon"),yN(this.element,"k-font-icon"),bN(this.element,t),yN(this.element,n),yN(this.element,this.options.iconClass||""),e.prototype.wrapper.call(this)},t}(_P);SP(jP,{name:"HTMLFontIcon",icon:null});var AP=function(e){function t(t,n){t.innerHTML="",e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.wrapper=function(){var t=this.options.icon,n=this.options.iconClass,o=this.element.className.split(" ").find((function(e){return e.startsWith(EP)}));if(!t&&n){var r=n.match(/k-i-(\w+(?:-\w+)*)/);r&&(t=r[1],n=n.replace(r[0],""))}EN(t)&&(t=t.replace("k-i-","").replace(/-./g,(function(e){return e[1].toUpperCase()})),t=this.options.svgIcons[t]||this.options.svgIcons[t+"Icon"]);var i=t&&t.name?""+EP+t.name:"";if(this._className=i,yN(this.element,"k-svg-icon"),bN(this.element,o),yN(this.element,i),yN(this.element,n||""),this.element.setAttribute("aria-hidden","true"),t&&function(e){return"[object Object]"===Object.prototype.toString.call(e)}(t)){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox",t.viewBox||""),a.setAttribute("focusable","false"),a.innerHTML=t.content||"",this.element.appendChild(a)}e.prototype.wrapper.call(this)},t}(_P);SP(AP,{name:"HTMLSvgIcon",icon:null,svgIcons:{}});var DP={svg:AP,font:jP};function NP(e,t){var n=e,o=t;return n&&(!ON(n)||n instanceof HTMLElement)&&!EN(n)||(o=n,n=document.createElement("span")),EN(o)&&(o={icon:o}),o.type||(o.type="svg"),DP[o.type]?new DP[o.type](n,o).html():null}function TP(e){for(var t=eN,n=tN,o=0,r=e.length;o<r;o++){var i=e[o];null!==i&&isFinite(i)&&(t=Math.min(t,i),n=Math.max(n,i))}return{min:t===eN?void 0:t,max:n===tN?void 0:n}}function PP(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(t(o,n,e))return o}}var MP=UT,OP=/matrix\((.*)\)/;function RP(e){var t=getComputedStyle(e).transform;return"none"===t?MP.unit():function(e){var t=e.match(OP);if(null===t||2!==t.length)return MP.unit();var n=t[1].split(",").map((function(e){return parseFloat(e)}));return new(Function.prototype.bind.apply(MP,[null].concat(n)))}(t)}const FP={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var LP=lT.browser,zP=function(e){var t=Object.keys(FP);t.push("transparent");var n=new RegExp("^("+t.join("|")+")(\\W|$)","i");return zP=function(e){return n.exec(e)},n.exec(e)},BP=function(e){function t(){e.call(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toHSV=function(){return this},t.prototype.toRGB=function(){return this},t.prototype.toHex=function(e){return this.toBytes().toHex(e)},t.prototype.toBytes=function(){return this},t.prototype.toCss=function(e){return"#"+this.toHex(e)},t.prototype.toCssRgba=function(){var e=this.toBytes();return"rgba("+e.r+", "+e.g+", "+e.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},t.prototype.toDisplay=function(){return LP.msie&&LP.version<9?this.toCss():this.toCssRgba()},t.prototype.equals=function(e){return e===this||null!==e&&void 0!==e&&this.toCssRgba()===YP(e).toCssRgba()},t.prototype.diff=function(e){if(null===e)return NaN;var t=this.toBytes(),n=e.toBytes();return Math.sqrt(Math.pow(.3*(t.r-n.r),2)+Math.pow(.59*(t.g-n.g),2)+Math.pow(.11*(t.b-n.b),2))},t.prototype.clone=function(){var e=this.toBytes();return e===this&&(e=new HP(e.r,e.g,e.b,e.a)),e},t}(uT),VP=function(e){function t(t,n,o,r){e.call(this),this.r=t,this.g=n,this.b=o,this.a=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toHSV=function(){var e,t,n=this,o=n.r,r=n.g,i=n.b,a=Math.min(o,r,i),s=Math.max(o,r,i),l=s-a,c=s;return 0===l?new UP(0,0,c,this.a):(0!==s?(t=l/s,e=o===s?(r-i)/l:r===s?2+(i-o)/l:4+(o-r)/l,(e*=60)<0&&(e+=360)):(t=0,e=-1),new UP(e,t,c,this.a))},t.prototype.toHSL=function(){var e,t,n=this,o=n.r,r=n.g,i=n.b,a=Math.max(o,r,i),s=Math.min(o,r,i),l=(a+s)/2;if(a===s)e=t=0;else{var c=a-s;switch(t=l>.5?c/(2-a-s):c/(a+s),a){case o:e=(r-i)/c+(r<i?6:0);break;case r:e=(i-o)/c+2;break;case i:e=(o-r)/c+4}}return new GP(60*e,100*t,100*l,this.a)},t.prototype.toBytes=function(){return new HP(255*this.r,255*this.g,255*this.b,this.a)},t}(BP),HP=function(e){function t(t,n,o,r){e.call(this,Math.round(t),Math.round(n),Math.round(o),r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toRGB=function(){return new e(this.r/255,this.g/255,this.b/255,this.a)},t.prototype.toHSV=function(){return this.toRGB().toHSV()},t.prototype.toHSL=function(){return this.toRGB().toHSL()},t.prototype.toHex=function(e){var t=qP(this.r,2)+qP(this.g,2)+qP(this.b,2);return e&&e.alpha&&(t+=qP(Math.round(255*this.a),2)),t},t.prototype.toBytes=function(){return this},t}(VP);function qP(e,t,n){void 0===n&&(n="0");for(var o=e.toString(16);t>o.length;)o=n+o;return o}var UP=function(e){function t(t,n,o,r){e.call(this),this.h=t,this.s=n,this.v=o,this.a=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toRGB=function(){var e,t,n,o=this,r=o.h,i=o.s,a=o.v;if(0===i)e=t=n=a;else{r/=60;var s=Math.floor(r),l=r-s,c=a*(1-i),d=a*(1-i*l),u=a*(1-i*(1-l));switch(s){case 0:e=a,t=u,n=c;break;case 1:e=d,t=a,n=c;break;case 2:e=c,t=a,n=u;break;case 3:e=c,t=d,n=a;break;case 4:e=u,t=c,n=a;break;default:e=a,t=c,n=d}}return new VP(e,t,n,this.a)},t.prototype.toHSL=function(){return this.toRGB().toHSL()},t.prototype.toBytes=function(){return this.toRGB().toBytes()},t}(BP),GP=function(e){function t(t,n,o,r){e.call(this),this.h=t,this.s=n,this.l=o,this.a=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toRGB=function(){var e,t,n,o=this.h/360,r=this.s/100,i=this.l/100;if(0===r)e=t=n=i;else{var a=i<.5?i*(1+r):i+r-i*r,s=2*i-a;e=WP(s,a,o+1/3),t=WP(s,a,o),n=WP(s,a,o-1/3)}return new VP(e,t,n,this.a)},t.prototype.toHSV=function(){return this.toRGB().toHSV()},t.prototype.toBytes=function(){return this.toRGB().toBytes()},t}(BP);function WP(e,t,n){var o=n;return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+6*(t-e)*o:o<.5?t:o<2/3?e+(t-e)*(2/3-o)*6:e}function KP(e){return parseFloat(parseFloat(parseInt(e,16)/255).toFixed(3))}function YP(e,t){var n,o;if(!e||"none"===e)return null;if(e instanceof BP)return e;var r=e.toLowerCase();if(n=zP(r))return(r="transparent"===n[1]?new VP(1,1,1,0):YP(FP[n[1]],t)).match=[n[1]],r;if((n=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(r))?o=new HP(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),1):(n=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(r))?o=new HP(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),1):(n=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(r))?o=new HP(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),KP(n[4]+n[4])):(n=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(r))?o=new HP(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),KP(n[4])):(n=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(r))?o=new HP(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),1):(n=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(r))?o=new HP(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4])):(n=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(r))?o=new VP(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,1):(n=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(r))?o=new VP(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4])):(n=/^color\(\s*srgb\s*([0-9]*\.?[0-9]+)\s+([0-9]*\.?[0-9]+)\s+([0-9]*\.?[0-9]+)\s*(\/\s+([0-9]*\.?[0-9]+))?\)/.exec(r))&&(o=new VP(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),parseFloat(n[5]||"1"))),o)o.match=n;else if(!t)throw new Error("Cannot parse color: "+r);return o}var XP=function(e){function t(n){var o=this;if(e.call(this),1===arguments.length)for(var r=t.formats,i=this.resolveColor(n),a=0;a<r.length;a++){var s=r[a].re,l=r[a].process,c=s.exec(i);if(c){var d=l(c);o.r=d[0],o.g=d[1],o.b=d[2]}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toHex=function(){var e=this.padDigit,t=this.r.toString(16),n=this.g.toString(16),o=this.b.toString(16);return"#"+e(t)+e(n)+e(o)},t.prototype.resolveColor=function(e){var n=e||"black";return"#"===n.charAt(0)&&(n=n.substr(1,6)),n=(n=n.replace(/ /g,"")).toLowerCase(),n=t.namedColors[n]||n},t.prototype.normalizeByte=function(e){return e<0||isNaN(e)?0:e>255?255:e},t.prototype.padDigit=function(e){return 1===e.length?"0"+e:e},t.prototype.brightness=function(e){var t=Math.round;return this.r=t(this.normalizeByte(this.r*e)),this.g=t(this.normalizeByte(this.g*e)),this.b=t(this.normalizeByte(this.b*e)),this},t.prototype.percBrightness=function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)},t.prototype.isDark=function(){return this.percBrightness()<180},t.fromBytes=function(e,t,n,o){return new HP(e,t,n,null!=o?o:1)},t.fromRGB=function(e,t,n,o){return new VP(e,t,n,null!=o?o:1)},t.fromHSV=function(e,t,n,o){return new UP(e,t,n,null!=o?o:1)},t.fromHSL=function(e,t,n,o){return new GP(e,t,n,null!=o?o:1)},t}(uT);XP.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],XP.namedColors=FP;const QP=XP;const JP=function(e){return new QP(e).isDark()?uN:BD};var ZP={},$P=function(e){this._index={},this._values=e?e.slice(0):[];for(var t=0;t<this._values.length;t++)this._index[this._values[t]]=t},eM={size:{configurable:!0}};$P.prototype.values=function(){return this._values.filter((function(e){return e!==ZP}))},$P.prototype.has=function(e){return void 0!==this._index[e]},$P.prototype.add=function(e){this.has(e)||(this._index[e]=this._values.length,this._values.push(e))},$P.prototype.delete=function(e){var t=this._index[e];void 0!==t&&(this._values[t]=ZP,delete this._index[e])},$P.prototype.clear=function(){this._index={},this._values=[]},eM.size.get=function(){return this._values.length},Object.defineProperties($P.prototype,eM);var tM=function(e){this._set=new Set(e)},nM={size:{configurable:!0}};tM.prototype.values=function(){return Array.from(this._set)},tM.prototype.has=function(e){return this._set.has(e)},tM.prototype.add=function(e){this._set.add(e)},tM.prototype.delete=function(e){this._set.delete(e)},tM.prototype.clear=function(){this._set.clear()},nM.size.get=function(){return this._set.size},Object.defineProperties(tM.prototype,nM);function oM(e){return function(){var e=!1;return"function"===typeof Set&&(e=new Set([1]).has(1)),e}()?new tM(e):new $P(e)}function rM(e){throw e}const iM={INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110};function aM(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var sM=function(){this.height=0,this.width=0,this.data=[]};sM.prototype.clone=function(){var e=new sM;return e.height=this.height,e.width=this.width,e.data=this.data.map((function(e){return e.slice()})),e},sM.prototype.get=function(e,t){var n=this.data[e];return n?n[t]:null},sM.prototype.set=function(e,t,n){var o=this.data[e];null==o&&(o=this.data[e]=[]),o[t]=n,e>=this.height&&(this.height=e+1),t>=this.width&&(this.width=t+1)},sM.prototype.each=function(e,t){for(var n=0;n<this.height;++n)for(var o=0;o<this.width;++o){var r=this.get(n,o);if((t||null!=r)&&void 0!==(r=e(r,n,o)))return r}},sM.prototype.map=function(e,t){var n=new sM;return this.each((function(t,o,r){n.set(o,r,e(t,o,r))}),t),n},sM.prototype.transpose=function(){var e=new sM;return this.each((function(t,n,o){e.set(o,n,t)})),e},sM.prototype.unit=function(e){this.width=this.height=e;for(var t=this.data=new Array(e),n=e;--n>=0;)for(var o=t[n]=new Array(e),r=e;--r>=0;)o[r]=n===r?1:0;return this},sM.prototype.multiply=function(e){for(var t=this,n=new sM,o=0;o<t.height;++o)for(var r=0;r<e.width;++r){for(var i=0,a=0;a<t.width;++a){var s=t.get(o,a),l=e.get(a,r);"number"===typeof s&&"number"===typeof l&&(i+=s*l)}n.set(o,r,i)}return n},sM.prototype.inverse=function(){for(var e=this.width,t=this.augment((new sM).unit(e)),n=t.data,o=function(t){var o=function(e,t,n){for(var o=n(e),r=e,i=e+1;i<t;i++){var a=n(e);a>o&&(o=a,r=e)}return r}(t,e,(function(e){return n[e][t]}));if(!n[o][t])return{v:null};if(t!==o){var r=n[t];n[t]=n[o],n[o]=r}for(var i=t+1;i<e;++i){for(var a=t+1;a<2*e;++a)n[i][a]-=n[t][a]*n[i][t]/n[t][t];n[i][t]=0}},r=0;r<e;++r){var i=o(r);if(i)return i.v}for(var a=0;a<e;++a)for(var s=n[a][a],l=0;l<2*e;++l)n[a][l]/=s;for(var c=e;--c>=0;)for(var d=c;--d>=0;)if(n[d][c])for(var u=2*e;--u>=e;)n[d][u]-=n[c][u]*n[d][c];return t.slice(0,e,e,e)},sM.prototype.augment=function(e){var t=this.clone(),n=t.width;return e.each((function(e,o,r){t.set(o,r+n,e)})),t},sM.prototype.slice=function(e,t,n,o){for(var r=new sM,i=0;i<n;++i)for(var a=0;a<o;++a)r.set(i,a,this.get(e+i,t+a));return r};const lM=sM;var cM={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"};function dM(e){return cM[e]||e}var uM=function(e){return e.replace(/([^ ]+)/g,dM)};function pM(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n}var hM=new WeakMap,fM=Symbol("id");function mM(e,t,n,o,r){!function(e,t,n,o,r){var i=vN(t)?t:(t||"").split(" ");i.forEach((function(t){!function(e,t,n,o,r){var i,a=o;n&&NN(n)&&!o?a=n:n&&function(e){return"string"===typeof e}(n)&&NN(a)&&(i=n);var s=function(t){var n=t.target?t.target.closest(i):null;if(!i||i&&t.target&&n){var o=i?n:t.currentTarget;Object.defineProperty(t,"currentTarget",{value:o}),Object.defineProperty(t,"delegateTarget",{value:e}),a(t)}};a[fM]=pM();var l=hM.get(e);l||(l=new Map,hM.set(e,l));l.set(a[fM],s),e.addEventListener(t,s,Boolean(r))}(e,t,n,o,r)}))}(e,t,n,o,r)}function gM(e,t,n,o,r){!function(e,t,n,o){var r=vN(t)?t:(t||"").split(" ");r.forEach((function(t){!function(e,t,n,o){var r=hM.get(e);if(r&&n&&n[fM]){var i=n[fM],a=r.get(i);r.delete(i),a&&e.removeEventListener(t,a,Boolean(o))}}(e,t,n,o)}))}(e,t,n,o)}function vM(){var e=function(e){var t=!1,n={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i},o={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i};for(var r in n){if(e.match(n[r])){if("windows"===r&&"plugins"in navigator)return!1;(t={}).device=r,t.name=yM(r,o),t[t.name]=!0;break}}return t}(navigator.userAgent),t={};return t.mobileOS=e,t}function yM(e,t,n){for(var o in t)if(t[o].test(e))return o;return void 0!==n?n:e}function xM(){}function bM(){return(new Date).getTime()}var wM="string",kM="function",CM=function(){this._defaultPrevented=!0},SM=function(){return!0===this._defaultPrevented},IM=function(e){function t(){e.call(this),this._events={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.unbind()},t.prototype.bind=function(e,t,n){var o,r,i,a,s=this,l=typeof e===wM?[e]:e||[],c=typeof t===kM;if(void 0===t){for(o in e)s.bind(o,e[o]);return s}var d=function(){var e=l[o];(a=c?t:t[e])&&(n&&(i=a,a=function(){s.unbind(e,a),i.apply(s,arguments)},a.original=i),(s._events[e]=s._events[e]||[]).push(a))};for(o=0,r=l.length;o<r;o++)d();return s},t.prototype.one=function(e,t){return this.bind(e,t,!0)},t.prototype.first=function(e,t){var n,o,r,i=this,a=typeof e===wM?[e]:e,s=typeof t===kM;for(n=0,o=a.length;n<o;n++){var l=a[n];(r=s?t:t[l])&&(i._events[l]=i._events[l]||[]).unshift(r)}return i},t.prototype.trigger=function(e,t){var n,o,r=this,i=r._events[e];if(i){var a=t||{};for(a.sender=r,a._defaultPrevented=!1,a.preventDefault=CM,a.isDefaultPrevented=SM,n=0,o=(i=i.slice()).length;n<o;n++)i[n].call(r,a);return!0===a._defaultPrevented}return!1},t.prototype.unbind=function(e,t){var n,o=this,r=o._events[e];if(void 0===e)o._events={};else if(r)if(t)for(n=r.length-1;n>=0;n--)r[n]!==t&&r[n].original!==t||r.splice(n,1);else o._events[e]=[];return o},t.prototype._setEvents=function(e){for(var t=this,n=(this.events||[]).length,o=0;o<n;o++){var r=t.events[o];t.options[r]&&e[r]&&(t.unbind(r,t.options[r]),t._events&&t._events[r]&&delete t._events[r])}this.bind(this.events,e)},t}(uT);const EM=IM;var _M=Object.assign,jM=function(e){e.preventDefault()},AM=800,DM=0,NM="press",TM="hold",PM="select",MM="start",OM="move",RM="end",FM="cancel",LM="tap",zM="doubleTap",BM="release",VM="gesturechange",HM="gestureend",qM="gesturetap",UM={api:0,touch:0,mouse:9,pointer:9};function GM(e){var t=[],n=e.originalEvent||e,o=e.currentTarget;return e.api?t.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"}):t.push({location:n,event:e,target:e.target,currentTarget:o,id:n.pointerId,type:"pointer"}),t}var WM=function(e){function t(t,n){e.call(this);var o=this;o.support=vM(),o.invalidZeroEvents=this.support.mobileOS&&this.support.mobileOS.android,o.axis=t,o._updateLocationData(n),o.startLocation=o.location,o.velocity=o.delta=0,o.timeStamp=bM()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.move=function(e){var t=this,n=e["page"+t.axis],o=bM(),r=o-t.timeStamp||1;!n&&this.invalidZeroEvents||(t.delta=n-t.location,t._updateLocationData(e),t.initialDelta=n-t.startLocation,t.velocity=t.delta/r,t.timeStamp=o)},t.prototype._updateLocationData=function(e){var t=this,n=t.axis;t.location=e["page"+n],t.client=e["client"+n],t.screen=e["screen"+n]},t}(uT),KM=function(e){function t(t,n,o){e.call(this),_M(this,{x:new WM("X",o.location),y:new WM("Y",o.location),type:o.type,threshold:t.threshold||UM[o.type],userEvents:t,target:n,currentTarget:o.currentTarget,initialTouch:o.target,id:o.id,pressEvent:o,_clicks:t._clicks,supportDoubleTap:t.supportDoubleTap,_moved:!1,_finished:!1})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.press=function(){var e=this;this._holdTimeout=setTimeout((function(){return e._hold()}),this.userEvents.minHold),this._trigger(NM,this.pressEvent)},t.prototype._tap=function(e){var t=this;t.userEvents._clicks++,1===t.userEvents._clicks&&(t._clickTimeout=setTimeout((function(){1===t.userEvents._clicks?t._trigger(LM,e):t._trigger(zM,e),t.userEvents._clicks=0}),300))},t.prototype._hold=function(){this._trigger(TM,this.pressEvent)},t.prototype.move=function(e){var t=this,n="api"!==e.type&&t.userEvents._shouldNotMove;if(!t._finished&&!n){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(XM.current&&XM.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger(OM,e)}},t.prototype.end=function(e){this.endTime=bM(),this._finished||(this._finished=!0,this._trigger(BM,e),this._moved?this._trigger(RM,e):this.supportDoubleTap?this._tap(e):this._trigger(LM,e),clearTimeout(this._holdTimeout),this.dispose())},t.prototype.dispose=function(){var e=this.userEvents.touches||[];this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout);var t=e.indexOf(this);e.splice(t,1)},t.prototype.skip=function(){this.dispose()},t.prototype.cancel=function(){this.dispose()},t.prototype.isMoved=function(){return this._moved},t.prototype._start=function(e){clearTimeout(this._holdTimeout),this.startTime=bM(),this._moved=!0,this._trigger(MM,e)},t.prototype._trigger=function(e,t){var n=t.event,o={touch:this,x:this.x,y:this.y,target:this.target,event:n};this.userEvents.notify(e,o)&&n.preventDefault()},t.prototype._withinIgnoreThreshold=function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold},t}(uT);function YM(e){for(var t=cM.up.split(" "),n=0,o=t.length;n<o;n++)e(t[n])}var XM=function(e){function t(t,n){e.call(this);var o,r=this,i=vM();if(this.support=i,n=n||{},this.options=n,o=r.filter=n.filter,r.threshold=n.threshold||DM,r.minHold=n.minHold||AM,r.touches=[],r._maxTouches=n.multiTouch?2:1,r.allowSelection=n.allowSelection,r.captureUpIfMoved=n.captureUpIfMoved,r._clicks=0,r.supportDoubleTap=n.supportDoubleTap,_M(r,{element:t,surface:n.surface||t,stopPropagation:n.stopPropagation,pressed:!1}),this._surfaceMoveHandler=this._move.bind(this),mM(r.surface,uM("move"),this._surfaceMoveHandler),this._surfaceEndHandler=this._end.bind(this),mM(r.surface,uM("up cancel"),this._surfaceEndHandler),this._elementStartHandler=this._start.bind(this),mM(t,uM("down"),o,this._elementStartHandler),t.style["touch-action"]=n.touchAction||"none",n.preventDragEvent&&(this._elementDragStartHandler=jM,mM(t,uM("dragstart"),this._elementDragStartHandler)),this._elementSelectHandler=this._select.bind(this),mM(t,uM("mousedown"),o,this._elementSelectHandler),r.captureUpIfMoved){var a=r.surface,s=r.preventIfMoving.bind(r);YM((function(e){a.addEventListener(e,s,!0)}))}r.bind([NM,TM,LM,zM,MM,OM,RM,BM,FM,"gesturestart",VM,HM,qM,PM],n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.preventIfMoving=function(e){this._isMoved()&&e.preventDefault()},t.prototype.destroy=function(){var e=this,t=this.options,n=this.element;if(!e._destroyed){if(e._destroyed=!0,e.captureUpIfMoved){var o=e.surface;YM((function(t){o.removeEventListener(t,e.preventIfMoving)}))}gM(e.surface,uM("move"),this._surfaceMoveHandler),gM(e.surface,uM("up cancel"),this._surfaceEndHandler),gM(n,uM("down"),this._elementStartHandler),t.preventDragEvent&&gM(n,uM("dragstart"),this._elementDragStartHandler),gM(n,uM("mousedown"),this._elementSelectHandler),e._disposeAll(),e.unbind(),delete e.surface,delete e.element,delete e.currentTarget}},t.prototype.capture=function(){t.current=this},t.prototype.cancel=function(){this._disposeAll(),this.trigger(FM)},t.prototype.notify=function(e,t){var n=this.touches,o=e;if(this._isMultiTouch()){switch(o){case OM:o=VM;break;case RM:o=HM;break;case LM:o=qM}_M(t,{touches:n},function(e,t){var n=e.x.location,o=e.y.location,r=t.x.location,i=t.y.location,a=n-r,s=o-i;return{center:{x:(n+r)/2,y:(o+i)/2},distance:Math.sqrt(a*a+s*s)}}(n[0],n[1]))}return this.trigger(o,_M(t,{type:o}))},t.prototype.press=function(e,t,n){this._apiCall("_start",e,t,n)},t.prototype.move=function(e,t){this._apiCall("_move",e,t)},t.prototype.end=function(e,t){this._apiCall("_end",e,t)},t.prototype._isMultiTouch=function(){return this.touches.length>1},t.prototype._maxTouchesReached=function(){return this.touches.length>=this._maxTouches},t.prototype._disposeAll=function(){for(var e=this.touches;e.length>0;)e.pop().dispose()},t.prototype._isMoved=function(){return XN(this.touches,(function(e){return e.isMoved()})).length},t.prototype._select=function(e){this.allowSelection&&!this.trigger(PM,{event:e})||e.preventDefault()},t.prototype._start=function(e){var n=this;if(!(e.which&&e.which>1||this._maxTouchesReached())){var o;t.current=null,this.currentTarget=e.currentTarget,this.stopPropagation&&e.stopPropagation();for(var r=GM(e),i=0;i<r.length&&!n._maxTouchesReached();i++){var a=r[i];if(!(o=n.filter?a.currentTarget:n.element)||0!==o.length){var s=new KM(n,o,a);n.touches.push(s),s.press(),n._isMultiTouch()&&n.notify("gesturestart",{})}}}},t.prototype._move=function(e){this._eachTouch("move",e)},t.prototype._end=function(e){this._eachTouch("end",e)},t.prototype._eachTouch=function(e,t){var n,o,r,i,a={},s=GM(t),l=this.touches;for(n=0;n<l.length;n++)a[(o=l[n]).id]=o;for(n=0;n<s.length;n++){if(i=a[(r=s[n]).id])"move"===e&&"pointer"===r.type&&!this.surface.hasPointerCapture(r.id)&&this.surface.setPointerCapture(r.id),i[e](r)}},t.prototype._apiCall=function(e,t,n,o){this[e]({api:!0,pageX:t,pageY:n,clientX:t,clientY:n,target:o||this.element,stopPropagation:xM,preventDefault:xM})},t.defaultThreshold=function(e){DM=e},t.minHold=function(e){AM=e},t}(EM);const QM=XM;function JM(e,t){var n=xP(t-e,9);if(0===n){if(0===t)return.1;n=Math.abs(t)}var o=Math.pow(10,Math.floor(Math.log(n)/Math.log(10))),r=xP(n/o,KD);return xP(o*(r<1.904762?.2:r<4.761904?.5:r<9.523809?1:2),KD)}var ZM=function(e){function t(t,n){e.call(this),this.x=t||0,this.y=n||0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.equals=function(e){return e&&this.x===e.x&&this.y===e.y},t.prototype.rotate=function(e,t){var n=yP(t),o=Math.cos(n),r=Math.sin(n),i=e.x,a=e.y,s=this.x,l=this.y;return this.x=xP(i+(s-i)*o+(l-a)*r,3),this.y=xP(a+(l-a)*o-(s-i)*r,3),this},t.prototype.multiply=function(e){return this.x*=e,this.y*=e,this},t.prototype.distanceTo=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},t.onCircle=function(e,n,o){var r=yP(n);return new t(e.x-o*Math.cos(r),e.y-o*Math.sin(r))},t}(uT);const $M=ZM;var eO=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.observers=function(){return this._observers=this._observers||[],this._observers},t.prototype.addObserver=function(e){return this._observers?this._observers.push(e):this._observers=[e],this},t.prototype.removeObserver=function(e){var t=this.observers(),n=t.indexOf(e);return-1!==n&&t.splice(n,1),this},t.prototype.trigger=function(e,t){var n=this._observers;if(n&&!this._suspended)for(var o=0;o<n.length;o++){var r=n[o];r[e]&&r[e](t)}return this},t.prototype.optionsChange=function(e){void 0===e&&(e={}),e.element=this,this.trigger("optionsChange",e)},t.prototype.geometryChange=function(){this.trigger("geometryChange",{element:this})},t.prototype.suspend=function(){return this._suspended=(this._suspended||0)+1,this},t.prototype.resume=function(){return this._suspended=Math.max((this._suspended||0)-1,0),this},t.prototype._observerField=function(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)},t}(uT);const tO=eO;function nO(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function oO(e){return function(){return this[e]}}const rO=function(e,t){var n=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e);return function(e,t){for(var n=0;n<t.length;n++){var o=t[n],r=o.charAt(0).toUpperCase()+o.substring(1,o.length);e["set"+r]=nO(o),e["get"+r]=oO(o)}}(n.prototype,t),n};function iO(e){return e&&"function"===typeof e.matrix?e.matrix():e}var aO=function(e){function t(t,n){e.call(this),this.x=t||0,this.y=n||0}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={ZERO:{configurable:!0}};return t.prototype.equals=function(e){return e&&e.x===this.x&&e.y===this.y},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.rotate=function(e,n){var o=t.create(n)||t.ZERO;return this.transform(UT.rotate(e,o.x,o.y))},t.prototype.translate=function(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this},t.prototype.translateWith=function(e){return this.translate(e.x,e.y)},t.prototype.move=function(e,t){return this.x=this.y=0,this.translate(e,t)},t.prototype.scale=function(e,t){return void 0===t&&(t=e),this.x*=e,this.y*=t,this.geometryChange(),this},t.prototype.scaleCopy=function(e,t){return this.clone().scale(e,t)},t.prototype.transform=function(e){var t=iO(e),n=this.x,o=this.y;return this.x=t.a*n+t.c*o+t.e,this.y=t.b*n+t.d*o+t.f,this.geometryChange(),this},t.prototype.transformCopy=function(e){var t=this.clone();return e&&t.transform(e),t},t.prototype.distanceTo=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},t.prototype.round=function(e){return this.x=eT(this.x,e),this.y=eT(this.y,e),this.geometryChange(),this},t.prototype.toArray=function(e){var t=kN(e);return[t?eT(this.x,e):this.x,t?eT(this.y,e):this.y]},t.prototype.toString=function(e,t){void 0===t&&(t=" ");var n=this.x,o=this.y;return kN(e)&&(n=eT(n,e),o=eT(o,e)),n+t+o},t.create=function(e,n){if(kN(e))return e instanceof t?e:1===arguments.length&&2===e.length?new t(e[0],e[1]):new t(e,n)},t.min=function(){for(var e=arguments,n=bT,o=bT,r=0;r<arguments.length;r++){var i=e[r];n=Math.min(i.x,n),o=Math.min(i.y,o)}return new t(n,o)},t.max=function(){for(var e=arguments,n=wT,o=wT,r=0;r<arguments.length;r++){var i=e[r];n=Math.max(i.x,n),o=Math.max(i.y,o)}return new t(n,o)},t.minPoint=function(){return new t(wT,wT)},t.maxPoint=function(){return new t(bT,bT)},n.ZERO.get=function(){return new t(0,0)},Object.defineProperties(t,n),t}(rO(tO,["x","y"]));const sO=aO;var lO=function(e){function t(t,n){e.call(this),this.width=t||0,this.height=n||0}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={ZERO:{configurable:!0}};return t.prototype.equals=function(e){return e&&e.width===this.width&&e.height===this.height},t.prototype.clone=function(){return new t(this.width,this.height)},t.prototype.toArray=function(e){var t=kN(e);return[t?eT(this.width,e):this.width,t?eT(this.height,e):this.height]},t.create=function(e,n){if(kN(e))return e instanceof t?e:1===arguments.length&&2===e.length?new t(e[0],e[1]):new t(e,n)},n.ZERO.get=function(){return new t(0,0)},Object.defineProperties(t,n),t}(rO(tO,["width","height"]));const cO=lO;var dO=function(e){function t(t,n,o){void 0===t&&(t=new sO),void 0===n&&(n=new cO),void 0===o&&(o=0),e.call(this),this.setOrigin(t),this.setSize(n),this.setCornerRadius(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.origin.clone(),this.size.clone())},t.prototype.equals=function(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)},t.prototype.setOrigin=function(e){return this._observerField("origin",sO.create(e)),this.geometryChange(),this},t.prototype.getOrigin=function(){return this.origin},t.prototype.setCornerRadius=function(e){return this.cornerRadius=Array.isArray(e)?e:[e,e],this.geometryChange(),this},t.prototype.getCornerRadius=function(){return this.cornerRadius},t.prototype.setSize=function(e){return this._observerField("size",cO.create(e)),this.geometryChange(),this},t.prototype.getSize=function(){return this.size},t.prototype.width=function(){return this.size.width},t.prototype.height=function(){return this.size.height},t.prototype.topLeft=function(){return this.origin.clone()},t.prototype.bottomRight=function(){return this.origin.clone().translate(this.width(),this.height())},t.prototype.topRight=function(){return this.origin.clone().translate(this.width(),0)},t.prototype.bottomLeft=function(){return this.origin.clone().translate(0,this.height())},t.prototype.center=function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},t.prototype.bbox=function(e){var n=this.topLeft().transformCopy(e),o=this.topRight().transformCopy(e),r=this.bottomRight().transformCopy(e),i=this.bottomLeft().transformCopy(e);return t.fromPoints(n,o,r,i)},t.prototype.transformCopy=function(e){return t.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))},t.prototype.expand=function(e,t){return void 0===t&&(t=e),this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this},t.prototype.expandCopy=function(e,t){return this.clone().expand(e,t)},t.prototype.containsPoint=function(e){var t=this.origin,n=this.bottomRight();return!(e.x<t.x||e.y<t.y||n.x<e.x||n.y<e.y)},t.prototype._isOnPath=function(e,t){var n=this.expandCopy(t,t),o=this.expandCopy(-t,-t);return n.containsPoint(e)&&!o.containsPoint(e)},t.fromPoints=function(){var e=sO.min.apply(null,arguments),n=sO.max.apply(null,arguments);return new t(e,new cO(n.x-e.x,n.y-e.y))},t.union=function(e,n){return t.fromPoints(sO.min(e.topLeft(),n.topLeft()),sO.max(e.bottomRight(),n.bottomRight()))},t.intersect=function(e,n){var o={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},r={left:n.topLeft().x,top:n.topLeft().y,right:n.bottomRight().x,bottom:n.bottomRight().y};if(o.left<=r.right&&r.left<=o.right&&o.top<=r.bottom&&r.top<=o.bottom)return t.fromPoints(new sO(Math.max(o.left,r.left),Math.max(o.top,r.top)),new sO(Math.min(o.right,r.right),Math.min(o.bottom,r.bottom)))},t}(tO);const uO=dO;var pO=function(e){function t(t,n,o,r){e.call(this),this.x1=t||0,this.y1=n||0,this.x2=o||0,this.y2=r||0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.equals=function(e){return this.x1===e.x1&&this.x2===e.x2&&this.y1===e.y1&&this.y2===e.y2},t.prototype.width=function(){return this.x2-this.x1},t.prototype.height=function(){return this.y2-this.y1},t.prototype.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},t.prototype.move=function(e,t){var n=this.height(),o=this.width();return lP(e)&&(this.x1=e,this.x2=this.x1+o),lP(t)&&(this.y1=t,this.y2=this.y1+n),this},t.prototype.wrap=function(e){return this.x1=Math.min(this.x1,e.x1),this.y1=Math.min(this.y1,e.y1),this.x2=Math.max(this.x2,e.x2),this.y2=Math.max(this.y2,e.y2),this},t.prototype.wrapPoint=function(e){var n=vN(e),o=n?e[0]:e.x,r=n?e[1]:e.y;return this.wrap(new t(o,r,o,r)),this},t.prototype.snapTo=function(e,t){return t!==hN&&t||(this.x1=e.x1,this.x2=e.x2),t!==fN&&t||(this.y1=e.y1,this.y2=e.y2),this},t.prototype.alignTo=function(e,t){var n=this.height(),o=this.width(),r=t===cN||t===VD?fN:hN,i=r===fN?n:o;if(t===HD){var a=e.center(),s=this.center();this.x1+=a.x-s.x,this.y1+=a.y-s.y}else this[r+1]=t===cN||t===$D?e[r+1]-i:e[r+2];return this.x2=this.x1+o,this.y2=this.y1+n,this},t.prototype.shrink=function(e,t){return this.x2-=e,this.y2-=t,this},t.prototype.expand=function(e,t){return this.shrink(-e,-t),this},t.prototype.pad=function(e){var t=BN(e);return this.x1-=t.left,this.x2+=t.right,this.y1-=t.top,this.y2+=t.bottom,this},t.prototype.unpad=function(e){var t=BN(e);return t.left=-t.left,t.top=-t.top,t.right=-t.right,t.bottom=-t.bottom,this.pad(t)},t.prototype.clone=function(){return new t(this.x1,this.y1,this.x2,this.y2)},t.prototype.center=function(){return new $M(this.x1+this.width()/2,this.y1+this.height()/2)},t.prototype.containsPoint=function(e){return e.x>=this.x1&&e.x<=this.x2&&e.y>=this.y1&&e.y<=this.y2},t.prototype.points=function(){return[new $M(this.x1,this.y1),new $M(this.x2,this.y1),new $M(this.x2,this.y2),new $M(this.x1,this.y2)]},t.prototype.getHash=function(){return[this.x1,this.y1,this.x2,this.y2].join(",")},t.prototype.overlaps=function(e){return!(e.y2<this.y1||this.y2<e.y1||e.x2<this.x1||this.x2<e.x1)},t.prototype.rotate=function(e){var t=this.width(),n=this.height(),o=this.center(),r=o.x,i=o.y,a=hO(0,0,r,i,e),s=hO(t,0,r,i,e),l=hO(t,n,r,i,e),c=hO(0,n,r,i,e);return t=Math.max(a.x,s.x,l.x,c.x)-Math.min(a.x,s.x,l.x,c.x),n=Math.max(a.y,s.y,l.y,c.y)-Math.min(a.y,s.y,l.y,c.y),this.x2=this.x1+t,this.y2=this.y1+n,this},t.prototype.toRect=function(){return new uO([this.x1,this.y1],[this.width(),this.height()])},t.prototype.hasSize=function(){return 0!==this.width()&&0!==this.height()},t.prototype.align=function(e,t,n){var o=t+1,r=t+2,i=t===hN?pN:QD,a=this[i]();$N(n,[$D,cN])?(this[o]=e[o],this[r]=this[o]+a):$N(n,[iN,VD])?(this[r]=e[r],this[o]=this[r]-a):n===HD&&(this[o]=e[o]+(e[i]()-a)/2,this[r]=this[o]+a)},t}(uT);function hO(e,t,n,o,r){var i=yP(r);return new $M(n+(e-n)*Math.cos(i)+(t-o)*Math.sin(i),o-(e-n)*Math.sin(i)+(t-o)*Math.cos(i))}const fO=pO;var mO=function(e){function t(t,n,o,r,i){e.call(this),this.center=t,this.innerRadius=n,this.radius=o,this.startAngle=r,this.angle=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)},t.prototype.middle=function(){return this.startAngle+this.angle/2},t.prototype.setRadius=function(e,t){return t?this.innerRadius=e:this.radius=e,this},t.prototype.point=function(e,t){var n=yP(e),o=Math.cos(n),r=Math.sin(n),i=t?this.innerRadius:this.radius,a=xP(this.center.x-o*i,3),s=xP(this.center.y-r*i,3);return new $M(a,s)},t.prototype.adjacentBox=function(e,t,n){var o=this.clone().expand(e),r=o.middle(),i=o.point(r),a=t/2,s=n/2,l=Math.sin(yP(r)),c=Math.cos(yP(r)),d=i.x-a,u=i.y-s;return Math.abs(l)<.9&&(d+=a*-c/Math.abs(c)),Math.abs(c)<.9&&(u+=s*-l/Math.abs(l)),new fO(d,u,d+t,u+n)},t.prototype.containsPoint=function(e){var t=this.center,n=this.innerRadius,o=this.radius,r=this.startAngle,i=this.startAngle+this.angle,a=e.x-t.x,s=e.y-t.y,l=new $M(a,s),c=this.point(r),d=new $M(c.x-t.x,c.y-t.y),u=this.point(i),p=new $M(u.x-t.x,u.y-t.y),h=xP(a*a+s*s,3);return(d.equals(l)||SN(d,l))&&!SN(p,l)&&h>=n*n&&h<=o*o},t.prototype.getBBox=function(){var e,t=new fO(eN,eN,tN,tN),n=xP(this.startAngle%360),o=xP((n+this.angle)%360),r=this.innerRadius,i=[0,90,180,270,n,o].sort(gO),a=i.indexOf(n),s=i.indexOf(o);e=n===o?i:a<s?i.slice(a,s+1):[].concat(i.slice(0,s+1),i.slice(a,i.length));for(var l=0;l<e.length;l++){var c=this.point(e[l]);t.wrapPoint(c),t.wrapPoint(c,r)}return r||t.wrapPoint(this.center),t},t.prototype.expand=function(e){return this.radius+=e,this},t}(uT);function gO(e,t){return e-t}const vO=mO;!function(e){function t(t,n,o,r){e.call(this,t,0,n,o,r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.expand=function(t){return e.prototype.expand.call(this,t)},t.prototype.clone=function(){return new t(this.center,this.radius,this.startAngle,this.angle)},t.prototype.setRadius=function(e){return this.radius=e,this}}(vO);var yO=10;function xO(e,t,n){return void 0===n&&(n=yO),0===eT(Math.abs(e-t),n)}function bO(e,t,n){return e<t||xO(e,t,n)}function wO(e,t,n,o){var r=0,i=0;return o&&(r=Math.atan2(o.c*n,o.a*t),0!==o.b&&(i=Math.atan2(o.d*n,o.b*t))),{x:r,y:i}}var kO=function(e){function t(t){void 0===t&&(t=UT.unit()),e.call(this),this._matrix=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this._matrix.clone())},t.prototype.equals=function(e){return e&&e._matrix.equals(this._matrix)},t.prototype.translate=function(e,t){return this._matrix=this._matrix.multiplyCopy(UT.translate(e,t)),this._optionsChange(),this},t.prototype.scale=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=null);var o=n;return o&&(o=sO.create(o),this._matrix=this._matrix.multiplyCopy(UT.translate(o.x,o.y))),this._matrix=this._matrix.multiplyCopy(UT.scale(e,t)),o&&(this._matrix=this._matrix.multiplyCopy(UT.translate(-o.x,-o.y))),this._optionsChange(),this},t.prototype.rotate=function(e,t){var n=sO.create(t)||sO.ZERO;return this._matrix=this._matrix.multiplyCopy(UT.rotate(e,n.x,n.y)),this._optionsChange(),this},t.prototype.multiply=function(e){var t=iO(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this},t.prototype.matrix=function(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix},t.prototype._optionsChange=function(){this.optionsChange({field:"transform",value:this})},t}(tO);const CO=kO;function SO(e){return null===e?null:e instanceof CO?e:new CO(e)}var IO=Math.pow,EO=function(e){function t(t,n){void 0===t&&(t=new sO),void 0===n&&(n={}),e.call(this),this.setCenter(t),this.radiusX=n.radiusX,this.radiusY=n.radiusY||n.radiusX,this.startAngle=n.startAngle,this.endAngle=n.endAngle,this.anticlockwise=n.anticlockwise||!1,this.xRotation=n.xRotation}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},t.prototype.setCenter=function(e){return this._observerField("center",sO.create(e)),this.geometryChange(),this},t.prototype.getCenter=function(){return this.center},t.prototype.pointAt=function(e){var t=this.center,n=MT(e);return new sO(t.x+this.radiusX*Math.cos(n),t.y+this.radiusY*Math.sin(n))},t.prototype.curvePoints=function(){var e,t=this.startAngle,n=this.anticlockwise?-1:1,o=[this.pointAt(t)],r=this._arcInterval(),i=r.endAngle-r.startAngle,a=Math.ceil(i/45),s=i/a,l=t;this.xRotation&&(e=SO().rotate(this.xRotation,this.center));for(var c=1;c<=a;c++){var d=l+n*s,u=this._intervalCurvePoints(l,d,e);o.push(u.cp1,u.cp2,u.p2),l=d}return o},t.prototype.bbox=function(e){for(var t=this._arcInterval(),n=t.startAngle,o=t.endAngle,r=wO(this.center,this.radiusX,this.radiusY,e),i=kT(r.x),a=kT(r.y),s=this.pointAt(o).transformCopy(e),l=jO(i,n),c=jO(a,n),d=this.pointAt(n).transformCopy(e),u=sO.min(d,s),p=sO.max(d,s);l<o||c<o;){var h=void 0;l<o&&(h=this.pointAt(l).transformCopy(e),l+=90);var f=void 0;c<o&&(f=this.pointAt(c).transformCopy(e),c+=90),d=new sO(h.x,f.y),u=sO.min(u,d),p=sO.max(p,d)}return uO.fromPoints(u,p)},t.prototype._arcInterval=function(){var e=this,t=e.startAngle,n=e.endAngle,o=e.anticlockwise;if(o){var r=t;t=n,n=r}return(t>n||o&&t===n)&&(n+=360),{startAngle:t,endAngle:n}},t.prototype._intervalCurvePoints=function(e,t,n){var o=this.pointAt(e),r=this.pointAt(t),i=this._derivativeAt(e),a=this._derivativeAt(t),s=(MT(t)-MT(e))/3,l=new sO(o.x+s*i.x,o.y+s*i.y),c=new sO(r.x-s*a.x,r.y-s*a.y);return n&&(o.transform(n),r.transform(n),l.transform(n),c.transform(n)),{p1:o,cp1:l,cp2:c,p2:r}},t.prototype._derivativeAt=function(e){var t=MT(e);return new sO(-this.radiusX*Math.sin(t),this.radiusY*Math.cos(t))},t.prototype.containsPoint=function(e){var t,n=this._arcInterval(),o=n.endAngle-n.startAngle,r=this,i=r.center,a=r.radiusX,s=r.radiusY,l=i.distanceTo(e),c=Math.atan2(e.y-i.y,e.x-i.x),d=a*s/Math.sqrt(IO(a,2)*IO(Math.sin(c),2)+IO(s,2)*IO(Math.cos(c),2)),u=this.pointAt(this.startAngle).round(yO),p=this.pointAt(this.endAngle).round(yO),h=function(e,t,n,o){var r=t.x-e.x,i=o.x-n.x,a=t.y-e.y,s=o.y-n.y,l=e.x-n.x,c=e.y-n.y,d=r*s-i*a,u=(r*c-a*l)/d,p=(i*c-s*l)/d;if(u>=0&&u<=1&&p>=0&&p<=1)return new sO(e.x+p*r,e.y+p*a)}(i,e.round(yO),u,p);if(o<180)t=h&&bO(i.distanceTo(h),l)&&bO(l,d);else{var f=_O(i.x,i.y,a,s,e.x,e.y);360!==f&&(f=(360+f)%360);var m=n.startAngle<=f&&f<=n.endAngle;t=m&&bO(l,d)||!m&&(!h||h.equals(e))}return t},t.prototype._isOnPath=function(e,t){var n=this._arcInterval(),o=this.center,r=_O(o.x,o.y,this.radiusX,this.radiusY,e.x,e.y);return 360!==r&&(r=(360+r)%360),n.startAngle<=r&&r<=n.endAngle&&this.pointAt(r).distanceTo(e)<=t},t.fromPoints=function(e,n,o,r,i,a,s){var l=function(e){var t=e.x1,n=e.y1,o=e.x2,r=e.y2,i=e.rx,a=e.ry,s=e.largeArc,l=e.swipe,c=e.rotation;void 0===c&&(c=0);var d=MT(c),u=Math.cos(d),p=Math.sin(d),h=u*(t-o)/2+p*(n-r)/2,f=-p*(t-o)/2+u*(n-r)/2,m=s!==l?1:-1,g=Math.pow(h,2),v=Math.pow(f,2),y=Math.pow(i,2),x=Math.pow(a,2),b=g/y+v/x;b>1&&(i*=b=Math.sqrt(g/y+v/x),y=Math.pow(i,2),a*=b,x=Math.pow(a,2));var w=m*Math.sqrt((y*x-y*v-x*g)/(y*v+x*g));isNaN(w)&&(w=0);var k=w*(i*f)/a,C=a*h*-w/i,S=u*k-p*C+(t+o)/2,I=p*k+u*C+(n+r)/2,E=(h-k)/i,_=(f-C)/a,j=-(h+k)/i,A=-(f+C)/a,D=(_>=0?1:-1)*kT(Math.acos(E/Math.sqrt(E*E+_*_))),N=eT((E*j+_*A)/(Math.sqrt(E*E+_*_)*Math.sqrt(j*j+A*A)),10),T=(E*A-_*j>=0?1:-1)*kT(Math.acos(N));!l&&T>0&&(T-=360);l&&T<0&&(T+=360);var P=D+T,M=P>=0?1:-1;return P=Math.abs(P)%360*M,{center:new sO(S,I),startAngle:D,endAngle:P,radiusX:i,radiusY:a,xRotation:c}}({x1:e.x,y1:e.y,x2:n.x,y2:n.y,rx:o,ry:r,largeArc:i,swipe:a,rotation:s});return new t(l.center,{startAngle:l.startAngle,endAngle:l.endAngle,radiusX:l.radiusX,radiusY:l.radiusY,xRotation:l.xRotation,anticlockwise:0===a})},t}(rO(tO,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]));function _O(e,t,n,o,r,i){var a=eT((r-e)/n,3),s=eT((i-t)/o,3);return eT(kT(Math.atan2(s,a)))}function jO(e,t){for(var n=e;n<t;)n+=90;return n}const AO=EO;var DO=[].push,NO=[].pop,TO=[].splice,PO=[].shift,MO=[].slice,OO=[].unshift,RO=function(e){function t(t){void 0===t&&(t=[]),e.call(this),this.length=0,this._splice(0,t.length,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.elements=function(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)},t.prototype.push=function(){var e=arguments,t=DO.apply(this,e);return this._add(e),t},t.prototype.slice=function(){return MO.call(this)},t.prototype.pop=function(){var e=this.length,t=NO.apply(this);return e&&this._remove([t]),t},t.prototype.splice=function(e,t){var n=MO.call(arguments,2),o=this._splice(e,t,n);return this._change(),o},t.prototype.shift=function(){var e=this.length,t=PO.apply(this);return e&&this._remove([t]),t},t.prototype.unshift=function(){var e=arguments,t=OO.apply(this,e);return this._add(e),t},t.prototype.indexOf=function(e){for(var t=this.length,n=0;n<t;n++)if(this[n]===e)return n;return-1},t.prototype._splice=function(e,t,n){var o=TO.apply(this,[e,t].concat(n));return this._clearObserver(o),this._setObserver(n),o},t.prototype._add=function(e){this._setObserver(e),this._change()},t.prototype._remove=function(e){this._clearObserver(e),this._change()},t.prototype._setObserver=function(e){for(var t=0;t<e.length;t++)e[t].addObserver(this)},t.prototype._clearObserver=function(e){for(var t=0;t<e.length;t++)e[t].removeObserver(this)},t.prototype._change=function(){},t}(tO);const FO=RO;var LO=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._change=function(){this.geometryChange()},t}(FO);const zO=LO;var BO={}.toString,VO=function(e){function t(t,n){for(var o in void 0===n&&(n=""),e.call(this),this.prefix=n,t){var r=t[o];r=this._wrap(r,o),this[o]=r}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){for(var t=e.split("."),n=this;t.length&&n;){n=n[t.shift()]}return n},t.prototype.set=function(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))},t.prototype._set=function(e,n){var o=e.indexOf(".")>=0,r=this,i=e;if(o){for(var a=i.split("."),s=this.prefix;a.length>1;){s+=(i=a.shift())+".";var l=r[i];l||((l=new t({},s)).addObserver(this),r[i]=l),r=l}i=a[0]}r._clear(i),r[i]=n},t.prototype._clear=function(e){var t=this[e];t&&t.removeObserver&&t.removeObserver(this)},t.prototype._wrap=function(e,n){var o=BO.call(e),r=e;return null!==r&&kN(r)&&"[object Object]"===o&&(e instanceof t||e instanceof uT||(r=new t(r,this.prefix+n+".")),r.addObserver(this)),r},t}(tO);const HO=VO;var qO={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},UO="solid",GO="butt",WO="Pattern",KO=function(e){function t(t){e.call(this),this._initOptions(t)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={nodeType:{configurable:!0}};return n.nodeType.get=function(){return"Rect"},t.prototype._initOptions=function(e){void 0===e&&(e={});var t=e.clip,n=e.transform;n&&(e.transform=SO(n)),t&&!t.id&&(t.id=yT()),this.options=new HO(e),this.options.addObserver(this)},t.prototype.transform=function(e){if(!kN(e))return this.options.get("transform");this.options.set("transform",SO(e))},t.prototype.parentTransform=function(){for(var e,t=this;t.parent;){var n=(t=t.parent).transform();n&&(e=n.matrix().multiplyCopy(e||UT.unit()))}if(e)return SO(e)},t.prototype.currentTransform=function(e){void 0===e&&(e=this.parentTransform());var t,n=iO(this.transform()),o=iO(e);if(t=n&&o?o.multiplyCopy(n):n||o)return SO(t)},t.prototype.visible=function(e){return kN(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")},t.prototype.clip=function(e){var t=this.options;return kN(e)?(e&&!e.id&&(e.id=yT()),t.set("clip",e),this):t.get("clip")},t.prototype.opacity=function(e){return kN(e)?(this.options.set("opacity",e),this):OT(this.options.get("opacity"),1)},t.prototype.className=function(e){return kN(e)?(this.options.set("className",e),this):this.options.get("className")},t.prototype.clippedBBox=function(e){var t=this._clippedBBox(e);if(t){var n=this.clip();return n?uO.intersect(t,n.bbox(e)):t}},t.prototype.containsPoint=function(e,t){if(this.visible()){var n=this.currentTransform(t),o=e;return n&&(o=e.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(o)||this._isOnPath&&this._hasStroke()&&this._isOnPath(o)}return!1},t.prototype._hasFill=function(){var e=this.options.fill;return e&&(e.nodeType===WO||!jT(e.color))},t.prototype._hasStroke=function(){var e=this.options.stroke;return e&&e.width>0&&!jT(e.color)},t.prototype._clippedBBox=function(e){return this.bbox(e)},Object.defineProperties(t.prototype,n),t}(tO);const YO=KO;function XO(e,t,n){var o=kT(Math.atan2(t.y-e.y,t.x-e.x));return n.transformCopy(SO().rotate(-o,e)).x<e.x}function QO(e,t,n){var o=1-e;return Math.pow(o,3)*n[0][t]+3*Math.pow(o,2)*e*n[1][t]+3*Math.pow(e,2)*o*n[2][t]+Math.pow(e,3)*n[3][t]}function JO(e,t){return[-e[0][t]+3*e[1][t]-3*e[2][t]+e[3][t],3*(e[0][t]-2*e[1][t]+e[2][t]),3*(-e[0][t]+e[1][t]),e[0][t]]}var ZO=function(e){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=0),e.call(this),this.real=t,this.img=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.add=function(e){return new t(eT(this.real+e.real,yO),eT(this.img+e.img,yO))},t.prototype.addConstant=function(e){return new t(this.real+e,this.img)},t.prototype.negate=function(){return new t(-this.real,-this.img)},t.prototype.multiply=function(e){return new t(this.real*e.real-this.img*e.img,this.real*e.img+this.img*e.real)},t.prototype.multiplyConstant=function(e){return new t(this.real*e,this.img*e)},t.prototype.nthRoot=function(e){var n=Math.atan2(this.img,this.real),o=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),r=Math.pow(o,1/e);return new t(r*Math.cos(n/e),r*Math.sin(n/e))},t.prototype.equals=function(e){return this.real===e.real&&this.img===e.img},t.prototype.isReal=function(){return 0===this.img},t}(uT);const $O=ZO;function eR(e){return e<0?-1:1}function tR(e,t,n,o){if(0===e)return function(e,t,n){var o=Math.sqrt(Math.pow(t,2)-4*e*n);return[(-t+o)/(2*e),(-t-o)/(2*e)]}(t,n,o);var r,i,a,s,l,c,d,u=(3*e*n-Math.pow(t,2))/(3*Math.pow(e,2)),p=(2*Math.pow(t,3)-9*e*t*n+27*Math.pow(e,2)*o)/(27*Math.pow(e,3)),h=Math.pow(u/3,3)+Math.pow(p/2,2),f=new $O(0,1),m=-t/(3*e);h<0?(r=new $O(-p/2,Math.sqrt(-h)).nthRoot(3),i=new $O(-p/2,-Math.sqrt(-h)).nthRoot(3)):(r=-p/2+Math.sqrt(h),r=new $O(eR(r)*Math.pow(Math.abs(r),1/3)),i=-p/2-Math.sqrt(h),i=new $O(eR(i)*Math.pow(Math.abs(i),1/3))),a=r.add(i),c=r.add(i).multiplyConstant(-.5),d=r.add(i.negate()).multiplyConstant(Math.sqrt(3)/2),s=c.add(f.multiply(d)),l=c.add(f.negate().multiply(d));var g=[];return a.isReal()&&g.push(eT(a.real+m,yO)),s.isReal()&&g.push(eT(s.real+m,yO)),l.isReal()&&g.push(eT(l.real+m,yO)),g}function nR(e,t,n,o,r){for(var i,a=JO(e,o),s=tR(a[0],a[1],a[2],a[3]-t[o]),l=0;l<s.length;l++)if(0<=s[l]&&s[l]<=1&&(i=QO(s[l],n,e),Math.abs(i-t[n])<=r))return!0}function oR(e,t,n){var o;if(e.x!==t.x){var r=Math.min(e.x,t.x),i=Math.max(e.x,t.x),a=Math.min(e.y,t.y),s=Math.max(e.y,t.y),l=r<=n.x&&n.x<i;o=a===s?n.y<=a&&l:l&&(s-a)*((e.x-t.x)*(e.y-t.y)>0?n.x-r:i-n.x)/(i-r)+a-n.y>=0}return o?1:0}function rR(e){var t="_"+e;return function(e){return kN(e)?(this._observerField(t,sO.create(e)),this.geometryChange(),this):this[t]}}const iR=function(e,t){var n=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e);return function(e,t){for(var n=0;n<t.length;n++)e[t[n]]=rR(t[n])}(n.prototype,t),n};var aR=function(e){function t(t,n,o){e.call(this),this.anchor(t||new sO),this.controlIn(n),this.controlOut(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bboxTo=function(e,t){var n=this.anchor().transformCopy(t),o=e.anchor().transformCopy(t);return this.controlOut()&&e.controlIn()?this._curveBoundingBox(n,this.controlOut().transformCopy(t),e.controlIn().transformCopy(t),o):this._lineBoundingBox(n,o)},t.prototype._lineBoundingBox=function(e,t){return uO.fromPoints(e,t)},t.prototype._curveBoundingBox=function(e,t,n,o){var r=[e,t,n,o],i=this._curveExtremesFor(r,"x"),a=this._curveExtremesFor(r,"y"),s=sR([i.min,i.max,e.x,o.x]),l=sR([a.min,a.max,e.y,o.y]);return uO.fromPoints(new sO(s.min,l.min),new sO(s.max,l.max))},t.prototype._curveExtremesFor=function(e,t){var n=this._curveExtremes(e[0][t],e[1][t],e[2][t],e[3][t]);return{min:QO(n.min,t,e),max:QO(n.max,t,e)}},t.prototype._curveExtremes=function(e,t,n,o){var r=e-3*t+3*n-o,i=-2*(e-2*t+n),a=e-t,s=Math.sqrt(i*i-4*r*a),l=0,c=1;0===r?0!==i&&(l=c=-a/i):isNaN(s)||(l=(-i+s)/(2*r),c=(-i-s)/(2*r));var d=Math.max(Math.min(l,c),0);(d<0||d>1)&&(d=0);var u=Math.min(Math.max(l,c),1);return(u>1||u<0)&&(u=1),{min:d,max:u}},t.prototype._intersectionsTo=function(e,t){var n;return n=this.controlOut()&&e.controlIn()?function(e,t,n){for(var o,r=JO(e,"x"),i=tR(r[0],r[1],r[2],r[3]-t.x),a=0,s=0;s<i.length;s++)(xO(o=QO(i[s],"y",e),t.y)||o>t.y)&&((0===i[s]||1===i[s])&&n.bottomRight().x>t.x||0<i[s]&&i[s]<1)&&a++;return a}([this.anchor(),this.controlOut(),e.controlIn(),e.anchor()],t,this.bboxTo(e)):oR(this.anchor(),e.anchor(),t),n},t.prototype._isOnCurveTo=function(e,t,n,o){if(this.bboxTo(e).expand(n,n).containsPoint(t)){var r=this.anchor(),i=this.controlOut(),a=e.controlIn(),s=e.anchor();if("start"===o&&r.distanceTo(t)<=n)return!XO(r,i,t);if("end"===o&&s.distanceTo(t)<=n)return!XO(s,a,t);var l=[r,i,a,s];if(nR(l,t,"x","y",n)||nR(l,t,"y","x",n))return!0;var c=SO().rotate(45,t),d=[r.transformCopy(c),i.transformCopy(c),a.transformCopy(c),s.transformCopy(c)];return nR(d,t,"x","y",n)||nR(d,t,"y","x",n)}},t.prototype._isOnLineTo=function(e,t,n){var o=this.anchor(),r=e.anchor(),i=kT(Math.atan2(r.y-o.y,r.x-o.x));return new uO([o.x,o.y-n/2],[o.distanceTo(r),n]).containsPoint(t.transformCopy(SO().rotate(-i,o)))},t.prototype._isOnPathTo=function(e,t,n,o){return this.controlOut()&&e.controlIn()?this._isOnCurveTo(e,t,n/2,o):this._isOnLineTo(e,t,n)},t}(iR(tO,["anchor","controlIn","controlOut"]));function sR(e){for(var t=e.length,n=bT,o=wT,r=0;r<t;r++)o=Math.max(o,e[r]),n=Math.min(n,e[r]);return{min:n,max:o}}const lR=aR;var cR="x",dR="y";function uR(e,t){var n=e.slice(0),o=[],r=n.length;if(r>2&&(pR(0,n),r=n.length),r<2||2===r&&n[0].equals(n[1]))return o;var i,a,s=n[0],l=n[1],c=n[2];for(o.push(new lR(s));s.equals(n[r-1]);)t=!0,n.pop(),r--;if(2===r){var d=gR(s,l,cR,dR);return AT(o).controlOut(yR(d,s,l,cR,dR)),o.push(new lR(l,xR(d,s,l,cR,dR))),o}if(t){var u=fR(s=n[r-1],l=n[0],c=n[1]);i=u[1],a=u[0]}else{i=yR(gR(s,l,cR,dR),s,l,cR,dR)}for(var p=i,h=0;h<=r-3;h++)if(pR(h,n),h+3<=(r=n.length)){var f=fR(s=n[h],l=n[h+1],c=n[h+2]);AT(o).controlOut(p),p=f[1];var m=f[0];o.push(new lR(l,m))}if(t){var g=fR(s=n[r-2],l=n[r-1],c=n[0]);AT(o).controlOut(p),o.push(new lR(l,g[0])),AT(o).controlOut(g[1]),o.push(new lR(c,a))}else{var v=gR(l,c,cR,dR);AT(o).controlOut(p),o.push(new lR(c,xR(v,l,c,cR,dR)))}return o}function pR(e,t){for(;t[e+1]&&(t[e].equals(t[e+1])||t[e+1].equals(t[e+2]));)t.splice(e+1,1)}function hR(e,t){var n=(t.y-e.y)/(t.x-e.x);return[e.y-n*e.x,n]}function fR(e,t,n){var o,r=cR,i=dR,a=!1,s=!1;if(function(e,t,n){var o=wR(hR(e,t),n.x);return e.x===t.x&&t.x===n.x||eT(o,1)===eT(n.y,1)}(e,t,n))o=gR(e,t,cR,dR);else{var l={x:vR(e,t,n,cR),y:vR(e,t,n,dR)};if(l.x&&l.y)o=gR(e,n,cR,dR),a=!0;else if(function(e,t,n){var o=!1;if(e.x===t.x)o=!0;else if(t.x===n.x)(t.y<n.y&&e.y<=t.y||n.y<t.y&&t.y<=e.y)&&(o=!0);else{var r=wR(hR(e,t),n.x);e.y<=t.y&&n.y<=r||t.y<=e.y&&n.y>=r||(o=!0)}return o}(e,t,n)&&(r=dR,i=cR),l[r])o=0;else o=.01*(n[i]<e[i]&&e[i]<=t[i]||e[i]<n[i]&&t[i]<=e[i]?kR((n[i]-e[i])*(t[r]-e[r])):-kR((n[r]-e[r])*(t[i]-e[i]))),s=!0}var c=xR(o,e,t,r,i);if(s){var d=r;r=i,i=d}var u=yR(o,t,n,r,i);return a&&(mR(e,t,c,o),mR(t,n,u,o)),[c,u]}function mR(e,t,n,o){e.y<t.y?t.y<n.y?(n.x=e.x+(t.y-e.y)/o,n.y=t.y):n.y<e.y&&(n.x=t.x-(t.y-e.y)/o,n.y=e.y):n.y<t.y?(n.x=e.x-(e.y-t.y)/o,n.y=t.y):e.y<n.y&&(n.x=t.x+(e.y-t.y)/o,n.y=e.y)}function gR(e,t,n,o){var r=t[n]-e[n],i=t[o]-e[o];return 0===r?0:i/r}function vR(e,t,n,o){return n[o]>t[o]&&t[o]>e[o]||n[o]<t[o]&&t[o]<e[o]}function yR(e,t,n,o,r){var i=t[o],a=.333*(n[o]-i);return bR(i+a,t[r]+a*e,o,r)}function xR(e,t,n,o,r){var i=t[o],a=n[o],s=.333*(a-i);return bR(a-s,n[r]-s*e,o,r)}function bR(e,t,n,o){var r=new sO;return r[n]=e,r[o]=t,r}function wR(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=Math.pow(t,r)*e[r];return o}function kR(e){return e<=0?-1:1}const CR=function(e){return function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fill=function(e,t){var n=this.options;if(kN(e)){if(e&&"Gradient"!==e.nodeType){var o={color:e};kN(t)&&(o.opacity=t),n.set("fill",o)}else n.set("fill",e);return this}return n.get("fill")},t.prototype.stroke=function(e,t,n){return kN(e)?(this.options.set("stroke.color",e),kN(t)&&this.options.set("stroke.width",t),kN(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")},t}(e)};var SR=UT.IDENTITY.toString();const IR=function(e){return function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bbox=function(e){var t,n=iO(this.currentTransform(e)),o=n?n.toString():SR;this._bboxCache&&this._matrixHash===o?t=this._bboxCache.clone():(t=this._bbox(n),this._bboxCache=t?t.clone():null,this._matrixHash=o);var r=this.options.get("stroke.width");return r&&t&&t.expand(r/2),t},t.prototype.geometryChange=function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})},t}(e)};var ER={l:function(e,t){for(var n=t.parameters,o=t.position,r=0;r<n.length;r+=2){var i=new sO(n[r],n[r+1]);t.isRelative&&i.translateWith(o),e.lineTo(i.x,i.y),o.x=i.x,o.y=i.y}},c:function(e,t){for(var n=t.parameters,o=t.position,r=0;r<n.length;r+=6){var i=new sO(n[r],n[r+1]),a=new sO(n[r+2],n[r+3]),s=new sO(n[r+4],n[r+5]);t.isRelative&&(a.translateWith(o),i.translateWith(o),s.translateWith(o)),e.curveTo(i,a,s),o.x=s.x,o.y=s.y}},v:function(e,t){var n=t.isRelative?0:t.position.x;_R(t.parameters,!0,n),this.l(e,t)},h:function(e,t){var n=t.isRelative?0:t.position.y;_R(t.parameters,!1,n),this.l(e,t)},a:function(e,t){for(var n=t.parameters,o=t.position,r=0;r<n.length;r+=7){var i=n[r],a=n[r+1],s=n[r+2],l=n[r+3],c=n[r+4],d=new sO(n[r+5],n[r+6]);t.isRelative&&d.translateWith(o),o.x===d.x&&o.y===d.y||(e.arcTo(d,i,a,l,c,s),o.x=d.x,o.y=d.y)}},s:function(e,t){var n,o=t.parameters,r=t.position,i=t.previousCommand;"s"!==i&&"c"!==i||(n=AT(AT(e.paths).segments).controlIn());for(var a=0;a<o.length;a+=4){var s=new sO(o[a],o[a+1]),l=new sO(o[a+2],o[a+3]),c=void 0;t.isRelative&&(s.translateWith(r),l.translateWith(r)),c=n?jR(n,r):r.clone(),n=s,e.curveTo(c,s,l),r.x=l.x,r.y=l.y}},q:function(e,t){for(var n=t.parameters,o=t.position,r=0;r<n.length;r+=4){var i=new sO(n[r],n[r+1]),a=new sO(n[r+2],n[r+3]);t.isRelative&&(i.translateWith(o),a.translateWith(o));var s=DR(o,i,a);e.curveTo(s.controlOut,s.controlIn,a),o.x=a.x,o.y=a.y}},t:function(e,t){var n,o=t.parameters,r=t.position,i=t.previousCommand;"q"!==i&&"t"!==i||(n=AT(AT(e.paths).segments).controlIn().clone().translateWith(r.scaleCopy(-1/3)).scale(1.5));for(var a=0;a<o.length;a+=2){var s=new sO(o[a],o[a+1]);t.isRelative&&s.translateWith(r),n=n?jR(n,r):r.clone();var l=DR(r,n,s);e.curveTo(l.controlOut,l.controlIn,s),r.x=s.x,r.y=s.y}}};function _R(e,t,n){for(var o=t?0:1,r=0;r<e.length;r+=2)e.splice(r+o,0,n)}function jR(e,t){if(e&&t)return t.scaleCopy(2).translate(-e.x,-e.y)}var AR=1/3;function DR(e,t,n){var o=t.clone().scale(2/3);return{controlOut:o.clone().translateWith(e.scaleCopy(AR)),controlIn:o.translateWith(n.scaleCopy(AR))}}const NR=ER;var TR=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,PR=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g;const MR=function(e,t){var n,o=new sO;return t.replace(TR,(function(t,r,i,a){var s=r.toLowerCase(),l=s===r,c=function(e){var t=[];return e.replace(PR,(function(e,n){t.push(parseFloat(n))})),t}(i.trim());if("m"===s&&(l?(o.x+=c[0],o.y+=c[1]):(o.x=c[0],o.y=c[1]),e.moveTo(o.x,o.y),c.length>2&&(s="l",c.splice(0,2))),NR[s])NR[s](e,{parameters:c,position:o,isRelative:l,previousCommand:n}),a&&"z"===a.toLowerCase()&&e.close();else if("m"!==s)throw new Error("Error while parsing SVG path. Unsupported command: "+s);n=s})),e};function OR(e,t,n){for(var o,r=0;r<e.length;r++){var i=e[r];if(i.visible()){var a=t?i.bbox(n):i.rawBBox();a&&(o=o?uO.union(o,a):a)}}return o}function RR(e,t){for(var n,o=0;o<e.length;o++){var r=e[o];if(r.visible()){var i=r.clippedBBox(t);i&&(n=n?uO.union(n,i):i)}}return n}var FR=" ",LR=function(e){function t(t){e.call(this,t),this.segments=new zO,this.segments.addObserver(this),kN(this.options.stroke)||(this.stroke("#000"),kN(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={nodeType:{configurable:!0}};return n.nodeType.get=function(){return"Path"},t.prototype.moveTo=function(e,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,t),this},t.prototype.lineTo=function(e,t){var n=kN(t)?new sO(e,t):e,o=new lR(n);return this.segments.push(o),this},t.prototype.curveTo=function(e,t,n){if(this.segments.length>0){var o=AT(this.segments),r=new lR(n,t);this.suspend(),o.controlOut(e),this.resume(),this.segments.push(r)}return this},t.prototype.arc=function(e,t,n,o,r){if(this.segments.length>0){var i=AT(this.segments).anchor(),a=MT(e),s=new sO(i.x-n*Math.cos(a),i.y-o*Math.sin(a)),l=new AO(s,{startAngle:e,endAngle:t,radiusX:n,radiusY:o,anticlockwise:r});this._addArcSegments(l)}return this},t.prototype.arcTo=function(e,t,n,o,r,i){if(this.segments.length>0){var a=AT(this.segments).anchor(),s=AO.fromPoints(a,sO.create(e),t,n,o,r,i);this._addArcSegments(s)}return this},t.prototype._addArcSegments=function(e){this.suspend();for(var t=e.curvePoints(),n=1;n<t.length;n+=3)this.curveTo(t[n],t[n+1],t[n+2]);this.resume(),this.geometryChange()},t.prototype.close=function(){return this.options.closed=!0,this.geometryChange(),this},t.prototype.rawBBox=function(){return this._bbox()},t.prototype.toString=function(e){var t,n,o,r="",i=this.segments,a=i.length;if(a>0){for(var s,l=[],c=(o=e,function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return e.map((function(e){return e.toString(o)})).join(FR)}),d=1;d<a;d++){var u=(t=i[d-1],n=i[d],t.controlOut()&&n.controlIn()?"C":"L");u!==s&&(s=u,l.push(u)),"L"===u?l.push(c(i[d].anchor())):l.push(c(i[d-1].controlOut(),i[d].controlIn(),i[d].anchor()))}r="M"+c(i[0].anchor())+FR+l.join(FR),this.options.closed&&(r+="Z")}return r},t.prototype._containsPoint=function(e){for(var t,n,o=this.segments,r=o.length,i=0,a=1;a<r;a++)t=o[a-1],n=o[a],i+=t._intersectionsTo(n,e);return!this.options.closed&&o[0].anchor().equals(o[r-1].anchor())||(i+=oR(o[0].anchor(),o[r-1].anchor(),e)),i%2!==0},t.prototype._isOnPath=function(e,t){var n=this.segments,o=n.length,r=t||this.options.stroke.width;if(o>1){if(n[0]._isOnPathTo(n[1],e,r,"start"))return!0;for(var i=2;i<=o-2;i++)if(n[i-1]._isOnPathTo(n[i],e,r))return!0;if(n[o-2]._isOnPathTo(n[o-1],e,r,"end"))return!0}return!1},t.prototype._bbox=function(e){var t,n=this.segments,o=n.length;if(1===o){var r=n[0].anchor().transformCopy(e);t=new uO(r,cO.ZERO)}else if(o>0)for(var i=1;i<o;i++){var a=n[i-1].bboxTo(n[i],e);t=t?uO.union(t,a):a}return t},t.parse=function(e,t){return zR.parse(e,t)},t.fromRect=function(e,n){var o=new t(n),r=e.cornerRadius,i=r[0],a=r[1];if(0===i&&0===a)o.moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close();else{var s=e.origin,l=s.x,c=s.y,d=e.width(),u=e.height();i=DT(i,0,d/2),a=DT(a,0,u/2),o.moveTo(l+i,c).lineTo(l+d-i,c).arcTo([l+d,c+a],i,a,!1).lineTo(l+d,c+u-a).arcTo([l+d-i,c+u],i,a,!1).lineTo(l+i,c+u).arcTo([l,c+u-a],i,a,!1).lineTo(l,c+a).arcTo([l+i,c],i,a,!1)}return o},t.fromPoints=function(e,n){if(e){for(var o=new t(n),r=0;r<e.length;r++){var i=sO.create(e[r]);i&&(0===r?o.moveTo(i):o.lineTo(i))}return o}},t.curveFromPoints=function(e,n){if(e){var o=uR(e),r=new t(n);return r.segments.push.apply(r.segments,o),r}},t.fromArc=function(e,n){var o=new t(n),r=e.startAngle,i=e.pointAt(r);return o.moveTo(i.x,i.y),o.arc(r,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),o},Object.defineProperties(t.prototype,n),t}(CR(IR(YO))),zR=function(e){function t(t){e.call(this,t),this.paths=new zO,this.paths.addObserver(this),kN(this.options.stroke)||this.stroke("#000")}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={nodeType:{configurable:!0}};return t.parse=function(e,n){var o=new t(n);return MR(o,e)},t.prototype.toString=function(e){var t=this.paths,n="";if(t.length>0){for(var o=[],r=0;r<t.length;r++)o.push(t[r].toString(e));n=o.join(FR)}return n},n.nodeType.get=function(){return"MultiPath"},t.prototype.moveTo=function(e,t){var n=new LR;return n.moveTo(e,t),this.paths.push(n),this},t.prototype.lineTo=function(e,t){return this.paths.length>0&&AT(this.paths).lineTo(e,t),this},t.prototype.curveTo=function(e,t,n){return this.paths.length>0&&AT(this.paths).curveTo(e,t,n),this},t.prototype.arc=function(e,t,n,o,r){return this.paths.length>0&&AT(this.paths).arc(e,t,n,o,r),this},t.prototype.arcTo=function(e,t,n,o,r,i){return this.paths.length>0&&AT(this.paths).arcTo(e,t,n,o,r,i),this},t.prototype.close=function(){return this.paths.length>0&&AT(this.paths).close(),this},t.prototype._bbox=function(e){return OR(this.paths,!0,e)},t.prototype.rawBBox=function(){return OR(this.paths,!1)},t.prototype._containsPoint=function(e){for(var t=this.paths,n=0;n<t.length;n++)if(t[n]._containsPoint(e))return!0;return!1},t.prototype._isOnPath=function(e){for(var t=this.paths,n=this.options.stroke.width,o=0;o<t.length;o++)if(t[o]._isOnPath(e,n))return!0;return!1},t.prototype._clippedBBox=function(e){return RR(this.paths,this.currentTransform(e))},Object.defineProperties(t.prototype,n),t}(CR(IR(YO))),BR=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createRing=function(e,t){var n=e.startAngle+180,o=e.angle+n;(0===e.angle||e.angle>0&&n===o)&&(o+=.001);var r=new sO(e.center.x,e.center.y),i=Math.max(e.radius,0),a=Math.max(e.innerRadius,0),s=new AO(r,{startAngle:n,endAngle:o,radiusX:i,radiusY:i}),l=LR.fromArc(s,t).close();if(a){s.radiusX=s.radiusY=a;var c=s.pointAt(o);l.lineTo(c.x,c.y),l.arc(o,n,a,a,!0)}else l.lineTo(r.x,r.y);return l},t}(uT);BR.current=new BR;const VR=BR;var HR=Math.PI/2,qR=function(e){function t(t,n){void 0===t&&(t=new sO),void 0===n&&(n=0),e.call(this),this.setCenter(t),this.setRadius(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setCenter=function(e){return this._observerField("center",sO.create(e)),this.geometryChange(),this},t.prototype.getCenter=function(){return this.center},t.prototype.equals=function(e){return e&&e.center.equals(this.center)&&e.radius===this.radius},t.prototype.clone=function(){return new t(this.center.clone(),this.radius)},t.prototype.pointAt=function(e){return this._pointAt(MT(e))},t.prototype.bbox=function(e){for(var t=wO(this.center,this.radius,this.radius,e),n=sO.maxPoint(),o=sO.minPoint(),r=0;r<4;r++){var i=this._pointAt(t.x+r*HR).transformCopy(e),a=this._pointAt(t.y+r*HR).transformCopy(e),s=new sO(i.x,a.y);n=sO.min(n,s),o=sO.max(o,s)}return uO.fromPoints(n,o)},t.prototype._pointAt=function(e){var t=this.center,n=this.radius;return new sO(t.x+n*Math.cos(e),t.y+n*Math.sin(e))},t.prototype.containsPoint=function(e){var t=this.center,n=this.radius;return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n,2)},t.prototype._isOnPath=function(e,t){var n=this.center,o=this.radius,r=n.distanceTo(e);return o-t<=r&&r<=o+t},t}(rO(tO,["radius"]));const UR=qR;function GR(e){var t="_"+e;return function(e){return kN(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}const WR=function(e,t){void 0===t&&(t=["geometry"]);var n=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e);return function(e,t){for(var n=0;n<t.length;n++)e[t[n]]=GR(t[n])}(n.prototype,t),n};var KR=function(e){function t(t,n){void 0===t&&(t=new UR),void 0===n&&(n={}),e.call(this,n),this.geometry(t),kN(this.options.stroke)||this.stroke("#000")}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={nodeType:{configurable:!0}};return n.nodeType.get=function(){return"Circle"},t.prototype.rawBBox=function(){return this._geometry.bbox()},t.prototype._bbox=function(e){return this._geometry.bbox(e)},t.prototype._containsPoint=function(e){return this.geometry().containsPoint(e)},t.prototype._isOnPath=function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)},Object.defineProperties(t.prototype,n),t}(CR(IR(WR(YO))));const YR=KR;const XR=function(e,t){return function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.traverse=function(e){for(var n=this[t],o=0;o<n.length;o++){var r=n[o];r.traverse?r.traverse(e):e(r)}return this},n}(e)};var QR=function(e){function t(t){e.call(this,t),this.children=[]}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={nodeType:{configurable:!0}};return n.nodeType.get=function(){return"Group"},t.prototype.childrenChange=function(e,t,n){this.trigger("childrenChange",{action:e,items:t,index:n})},t.prototype.append=function(){return hT(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this},t.prototype.insert=function(e,t){return this.children.splice(e,0,t),t.parent=this,this.childrenChange("add",[t],e),this},t.prototype.insertAt=function(e,t){return this.insert(t,e)},t.prototype.remove=function(e){var t=this.children.indexOf(e);return t>=0&&(this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)),this},t.prototype.removeAt=function(e){if(0<=e&&e<this.children.length){var t=this.children[e];this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)}return this},t.prototype.clear=function(){var e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange("remove",e,0),this},t.prototype.bbox=function(e){return OR(this.children,!0,this.currentTransform(e))},t.prototype.rawBBox=function(){return OR(this.children,!1)},t.prototype._clippedBBox=function(e){return RR(this.children,this.currentTransform(e))},t.prototype.currentTransform=function(e){return YO.prototype.currentTransform.call(this,e)||null},t.prototype.containsPoint=function(e,t){if(this.visible())for(var n=this.children,o=this.currentTransform(t),r=0;r<n.length;r++)if(n[r].containsPoint(e,o))return!0;return!1},t.prototype._reparent=function(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=o.parent;r&&r!==this&&r.remove&&r.remove(o),o.parent=t}},Object.defineProperties(t.prototype,n),t}(XR(YO,"children"));const JR=QR;function ZR(e){return.5-Math.cos(e*Math.PI)/2}function $R(e){return e}function eF(e,t,n,o){var r=1.70158,i=0,a=o;return 0===e?n:1===e?n+o:(i||(i=.5),a<Math.abs(o)?(a=o,r=i/4):r=i/(2*Math.PI)*Math.asin(o/a),a*Math.pow(2,-10*e)*Math.sin((Number(e)-r)*(1.1*Math.PI)/i)+o+n)}var tF=function(e){var t="undefined"!==typeof window?window:{},n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};tF=function(e){return n.call(t,e)},tF(e)};const nF=tF;var oF,rF=function(e){function t(){e.call(this),this._items=[]}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={current:{configurable:!0}};return n.current.get=function(){return oF||(oF=new t),oF},t.prototype.register=function(e,t){this._items.push({name:e,type:t})},t.prototype.create=function(e,t){var n,o=this._items;if(t&&t.type)for(var r=t.type.toLowerCase(),i=0;i<o.length;i++)if(o[i].name.toLowerCase()===r){n=o[i];break}if(n)return new n.type(e,t)},Object.defineProperties(t,n),t}(uT);const iF=rF;var aF=function(e){function n(t,n){e.call(this),this.options=Object.assign({},this.options,n),this.element=t}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var o={options:{configurable:!0}};return n.create=function(e,t,n){return iF.current.create(e,t,n)},o.options.get=function(){return this._options||{duration:500,easing:"swing"}},o.options.set=function(e){this._options=e},n.prototype.setup=function(){},n.prototype.step=function(){},n.prototype.play=function(){var e=this,n=this.options,o=n.duration,r=n.delay;void 0===r&&(r=0);var i=t[n.easing],a=TT()+r,s=a+o;0===o?(this.step(1),this.abort()):setTimeout((function(){var t=function(){if(!e._stopped){var n=TT(),r=DT(n-a,0,o),l=i(r/o,r,0,1,o);e.step(l),n<s?nF(t):e.abort()}};t()}),r)},n.prototype.abort=function(){this._stopped=!0},n.prototype.destroy=function(){this.abort()},Object.defineProperties(n.prototype,o),n}(uT);const sF=aF;var lF=function(e){function t(t){e.call(this),this.children=[],this.options=MN({},this.options,this.initUserOptions(t))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initUserOptions=function(e){return e},t.prototype.reflow=function(e){for(var t,n=this.children,o=0;o<n.length;o++){var r=n[o];r.reflow(e),t=t?t.wrap(r.box):r.box.clone()}this.box=t||e},t.prototype.destroy=function(){var e=this.children;this.animation&&this.animation.destroy();for(var t=0;t<e.length;t++)e[t].destroy()},t.prototype.getRoot=function(){var e=this.parent;return e?e.getRoot():null},t.prototype.getSender=function(){var e=this.getService();if(e)return e.sender},t.prototype.getService=function(){for(var e=this;e;){if(e.chartService)return e.chartService;e=e.parent}},t.prototype.translateChildren=function(e,t){for(var n=this.children,o=n.length,r=0;r<o;r++)n[r].box.translate(e,t)},t.prototype.append=function(){for(var e=arguments,t=0;t<arguments.length;t++){var n=e[t];this.children.push(n),n.parent=this}},t.prototype.renderVisual=function(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())},t.prototype.addVisual=function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))},t.prototype.renderChildren=function(){for(var e=this.children,t=e.length,n=0;n<t;n++)e[n].renderVisual()},t.prototype.createVisual=function(){this.visual=new JR({zIndex:this.options.zIndex,visible:wP(this.options.visible,!0)})},t.prototype.createAnimation=function(){this.visual&&this.options.animation&&(this.animation=sF.create(this.visual,this.options.animation))},t.prototype.appendVisual=function(e){e.chartElement||(e.chartElement=this),e.options.noclip?this.clipRoot().visual.append(e):lP(e.options.zIndex)?this.stackRoot().stackVisual(e):this.isStackRoot?this.stackVisual(e):this.visual?this.visual.append(e):this.parent.appendVisual(e)},t.prototype.clipRoot=function(){return this.parent?this.parent.clipRoot():this},t.prototype.stackRoot=function(){return this.parent?this.parent.stackRoot():this},t.prototype.stackVisual=function(e){var t,n=e.options.zIndex||0,o=this.visual.children,r=o.length;for(t=0;t<r;t++){var i=o[t];if(wP(i.options.zIndex,0)>n)break}this.visual.insert(t,e)},t.prototype.traverse=function(e){for(var t=this.children,n=t.length,o=0;o<n;o++){var r=t[o];e(r),r.traverse&&r.traverse(e)}},t.prototype.closest=function(e){for(var t=this,n=!1;t&&!n;)(n=e(t))||(t=t.parent);if(n)return t},t.prototype.renderComplete=function(){},t.prototype.hasHighlight=function(){var e=(this.options||{}).highlight;return!(!this.createHighlight||e&&!1===e.visible||!1===this.visible)},t.prototype.toggleHighlight=function(e,t){var n=this,o=(this.options||{}).highlight||{},r=o.visual,i=this._highlight;if(!i){var a={fill:{color:uN,opacity:t||.2},stroke:{color:uN,width:1,opacity:t||.2}};if(r){if(!(i=this._highlight=r(Object.assign(this.highlightVisualArgs(),{createVisual:function(){return n.createHighlight(a)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total}))))return}else i=this._highlight=this.createHighlight(a);lP(i.options.zIndex)||(i.options.zIndex=wP(o.zIndex,this.options.zIndex)),this.appendVisual(i)}i.visible(e)},t.prototype.toggleFocusHighlight=function(e){var t=(this.options||{}).focusHighlight||{},n=this._focusHighlight;if(e||n){if(!n){var o=this.getRoot().options.background,r=JP(o),i={fill:{opacity:t.opacity,color:t.color},stroke:Object.assign({},{color:r},t.border),zIndex:t.zIndex};n=this._focusHighlight=this.createFocusHighlight(i),this.appendVisual(n)}n.visible(e)}},t.prototype.createGradientOverlay=function(e,t,n){var o=new LR(Object.assign({stroke:{color:"none"},fill:this.createGradient(n),closed:e.options.closed},t));return o.segments.elements(e.segments.elements()),o},t.prototype.createGradient=function(e){if(this.parent)return this.parent.createGradient(e)},t.prototype.supportsPointInactiveOpacity=function(){return!0},t}(uT);lF.prototype.options={};const cF=lF;var dF=function(e){function t(t,n){void 0===t&&(t=new uO),void 0===n&&(n={}),e.call(this,n),this.geometry(t),kN(this.options.stroke)||this.stroke("#000")}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={nodeType:{configurable:!0}};return n.nodeType.get=function(){return"Rect"},t.prototype._bbox=function(e){return this._geometry.bbox(e)},t.prototype.rawBBox=function(){return this._geometry.bbox()},t.prototype._containsPoint=function(e){return this._geometry.containsPoint(e)},t.prototype._isOnPath=function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)},Object.defineProperties(t.prototype,n),t}(CR(IR(WR(YO))));const uF=dF;var pF="#aba4a6",hF=2,fF=18,mF=10,gF=10,vF=18,yF=2,xF=function(e){function t(t){e.call(this);var n=t.width,o=t.height;this._size=cO.create([n,o]),this.id=yT()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={nodeType:{configurable:!0}};return n.nodeType.get=function(){return WO},t.prototype.size=function(e){return e?(this._size=cO.create(e),this):this._size},Object.defineProperties(t.prototype,n),t}(JR),bF=function(e,t,n){t&&e.append(new uF(new uO([0,0],n),{fill:{color:t},stroke:null}))};var wF=function(e){void 0===e&&(e={});var t=e.gap;void 0===t&&(t=gF);var n=e.radius;void 0===n&&(n=mF);var o=e.color;void 0===o&&(o=pF);var r=e.background,i={fill:{color:o},stroke:null},a=4*n+2*t,s=3*n+1.5*t,l=[a/2,n+.5*t],c=[0,s],d=[a,s],u=new xF({width:a,height:a});return bF(u,r,[a,a]),u.append(new YR(new UR(l,n),i),new YR(new UR(c,n),i),new YR(new UR(d,n),i)),u},kF=function(e){void 0===e&&(e={});var t=e.gap;void 0===t&&(t=fF);var n=e.width;void 0===n&&(n=hF);var o=e.color;void 0===o&&(o=pF);var r=e.background,i=n+t,a={fill:null,stroke:{color:o,width:n/2}},s=new xF({width:i,height:i});bF(s,r,[i,i]);var l=n/4,c=i-n/4,d=new LR(a);d.moveTo(l,0).lineTo(l,i);var u=new LR(a);return u.moveTo(c,0).lineTo(c,i),s.append(d,u),s},CF=function(e){void 0===e&&(e={});var t=e.gap;void 0===t&&(t=fF);var n=e.width;void 0===n&&(n=hF);var o=e.color;void 0===o&&(o=pF);var r=e.background,i=Math.sqrt(2)*(n+t),a={fill:null,stroke:{color:o,width:n}},s=new xF({width:i,height:i});bF(s,r,[i,i]);var l=new LR(a);l.moveTo(0,0).lineTo(i,i);var c=new LR(a);return c.moveTo(i,0).lineTo(0,i),s.append(l,c),s},SF=function(e){void 0===e&&(e={});var t=e.gap;void 0===t&&(t=fF);var n=e.width;void 0===n&&(n=hF);var o=e.color;void 0===o&&(o=pF);var r=e.background,i=Math.sqrt(2)*(n+t),a={fill:null,stroke:{color:o,width:n,lineCap:"square"}},s=new xF({width:i,height:i});bF(s,r,[i,i]);var l=new LR(a);l.moveTo(0,i/2).lineTo(i/2,0);var c=new LR(a);return c.moveTo(i/2,i).lineTo(i,i/2),s.append(l,c),s},IF=function(e){void 0===e&&(e={});var t=e.gap;void 0===t&&(t=yF);var n=e.size;void 0===n&&(n=vF);var o=e.color;void 0===o&&(o=pF);var r=e.background,i=n+t,a=t/2,s={fill:{color:o},stroke:null},l=new xF({width:i,height:i});bF(l,r,[i,i]);var c=new uF(new uO([a,a],[n,n]),s);return l.append(c),l},EF={dots:wF,verticalStripes:kF,crosshatch:CF,diagonalStripes:SF,grid:IF};function _F(e,t,n){var o=function(e,t){return NN(e)?e(t):e}(e,n),r=o&&EF[o.type];return r?r(Object.assign({},t,o)):t}var jF=function(e){function t(t){e.call(this,t),this.options.margin=BN(this.options.margin),this.options.padding=BN(this.options.padding)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(t){var n,o=this,r=this.options,i=r.width,a=r.height,s=r.shrinkToFit,l=i&&a,c=r.margin,d=r.padding,u=r.border.width,p=function(){o.align(t,hN,r.align),o.align(t,fN,r.vAlign),o.paddingBox=n.clone().unpad(c).unpad(u)},h=t.clone();l&&(h.x2=h.x1+i,h.y2=h.y1+a),s&&h.unpad(c).unpad(u).unpad(d),e.prototype.reflow.call(this,h),n=l?this.box=new fO(0,0,i,a):this.box,s&&l?(p(),h=this.contentBox=this.paddingBox.clone().unpad(d)):(h=this.contentBox=n.clone(),n.pad(d).pad(u).pad(c),p()),this.translateChildren(n.x1-h.x1+c.left+u+d.left,n.y1-h.y1+c.top+u+d.top);for(var f=this.children,m=0;m<f.length;m++){var g=f[m];g.reflow(g.box)}},t.prototype.align=function(e,t,n){this.box.align(e,t,n)},t.prototype.hasBox=function(){var e=this.options;return e.border.width||e.background},t.prototype.createVisual=function(){e.prototype.createVisual.call(this),this.options.visible&&this.hasBox()&&this.visual.append(LR.fromRect(this.paddingBox.toRect(),this.visualStyle()))},t.prototype.visualStyle=function(){var e=this.options,t=e.border||{};return{stroke:{width:t.width,color:t.color,opacity:wP(t.opacity,e.opacity),dashType:t.dashType},fill:_F(e.pattern,{color:e.background,opacity:e.opacity},void 0),cursor:e.cursor}},t}(cF);SP(jF,{align:$D,vAlign:cN,margin:{},padding:{},border:{color:BD,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});const AF=jF;function DF(e,t){t&&(e.options.className=t.className,e.options.role=t.role,e.options.ariaLabel=t.ariaLabel,e.options.ariaRoleDescription=t.ariaRoleDescription,e.options.ariaChecked=t.ariaChecked)}var NF=function(e){function t(t,n){e.call(this,t),this.pointData=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=this.options,t=this.paddingBox,n=e.type,o=e.rotation,r=t.center(),i=t.width()/2,a=t.height()/2;if(!e.visible||!this.hasBox())return null;var s,l=this.visualStyle();if(n===qD)s=new YR(new UR([xP(t.x1+i,3),xP(t.y1+a,3)],Math.min(i,a)),l);else if("triangle"===n)s=LR.fromPoints([[t.x1+i,t.y1],[t.x1,t.y2],[t.x2,t.y2]],l).close();else if(n===UD)(s=new zR(l)).moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),s.moveTo(t.x1,t.y2).lineTo(t.x2,t.y1);else{var c=t.toRect();if(n===aN){var d=wP(e.borderRadius,c.width()/5);c.setCornerRadius(d)}s=LR.fromRect(c,l)}return o&&s.transform(SO().rotate(-o,[r.x,r.y])),s.options.zIndex=e.zIndex,s},t.prototype.createElement=function(){var e=this,t=this.options.visual,n=this.pointData||{};return t?t({value:n.value,dataItem:n.dataItem,sender:this.getSender(),series:n.series,category:n.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return e.getElement()}}):this.getElement()},t.prototype.visualOptions=function(){var e=this.options;return{background:e.background,border:e.border,margin:e.margin,padding:e.padding,type:e.type,size:e.width,visible:e.visible}},t.prototype.createVisual=function(){this.visual=this.createElement(),DF(this.visual,this.options.accessibilityOptions)},t}(AF);SP(NF,{type:qD,align:HD,vAlign:HD});const TF=NF;var PF=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._change=function(){this.optionsChange({field:"stops"})},t}(FO);const MF=PF;function OF(e){return function(t){return kN(t)?(this.options.set(e,t),this):this.options.get(e)}}const RF=function(e,t){var n=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e);return function(e,t){for(var n=0;n<t.length;n++)e[t[n]]=OF(t[n])}(n.prototype,t),n};var FF=function(e){function t(t,n,o){e.call(this),this.options=new HO({offset:t,color:n,opacity:kN(o)?o:1}),this.options.addObserver(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e){if(kN(e))return e instanceof t?e:e.length>1?new t(e[0],e[1],e[2]):new t(e.offset,e.color,e.opacity)},t}(RF(tO,["offset","color","opacity"]));const LF=FF;var zF=function(e){function t(t){void 0===t&&(t={}),e.call(this),this.stops=new MF(this._createStops(t.stops)),this.stops.addObserver(this),this._userSpace=t.userSpace,this.id=yT()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={nodeType:{configurable:!0}};return n.nodeType.get=function(){return"Gradient"},t.prototype.userSpace=function(e){return kN(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace},t.prototype._createStops=function(e){void 0===e&&(e=[]);for(var t=[],n=0;n<e.length;n++)t.push(LF.create(e[n]));return t},t.prototype.addStop=function(e,t,n){this.stops.push(new LF(e,t,n))},t.prototype.removeStop=function(e){var t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)},t.prototype.optionsChange=function(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})},t.prototype.geometryChange=function(){this.optionsChange()},Object.defineProperties(t.prototype,n),t}(tO);const BF=zF;var VF=function(e){function t(t){void 0===t&&(t={}),e.call(this,t),this.start(t.start||new sO),this.end(t.end||new sO(1,0))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(iR(BF,["start","end"]));const HF=VF;var qF=function(e){function t(t){void 0===t&&(t={}),e.call(this,t),this.center(t.center||new sO),this._radius=kN(t.radius)?t.radius:1,this._fallbackFill=t.fallbackFill}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.radius=function(e){return kN(e)?(this._radius=e,this.geometryChange(),this):this._radius},t.prototype.fallbackFill=function(e){return kN(e)?(this._fallbackFill=e,this.optionsChange(),this):this._fallbackFill},t}(iR(BF,["center"]));const UF=qF;var GF="radial";const WF={glass:{type:"linear",rotation:0,stops:[{offset:0,color:uN,opacity:0},{offset:.25,color:uN,opacity:.3},{offset:1,color:uN,opacity:0}]},sharpBevel:{type:GF,stops:[{offset:0,color:uN,opacity:.55},{offset:.65,color:uN,opacity:0},{offset:.95,color:uN,opacity:.25}]},roundedBevel:{type:GF,stops:[{offset:.33,color:uN,opacity:.06},{offset:.83,color:uN,opacity:.2},{offset:.95,color:uN,opacity:0}]},roundedGlass:{type:GF,supportVML:!1,stops:[{offset:0,color:uN,opacity:0},{offset:.5,color:uN,opacity:.3},{offset:.99,color:uN,opacity:0}]},sharpGlass:{type:GF,supportVML:!1,stops:[{offset:0,color:uN,opacity:.2},{offset:.15,color:uN,opacity:.15},{offset:.17,color:uN,opacity:.35},{offset:.85,color:uN,opacity:.05},{offset:.87,color:uN,opacity:.15},{offset:.99,color:uN,opacity:0}]},bubbleShadow:{type:GF,center:[.5,.5],radius:.5}};function KF(e,t){if(e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2)return t;var n=Math.min(e.x1,t.x1),o=Math.max(e.x1,t.x1),r=Math.min(e.x2,t.x2),i=Math.max(e.x2,t.x2),a=Math.min(e.y1,t.y1),s=Math.max(e.y1,t.y1),l=Math.min(e.y2,t.y2),c=Math.max(e.y2,t.y2),d=[];return d[0]=new fO(o,a,r,s),d[1]=new fO(n,s,o,l),d[2]=new fO(r,s,i,l),d[3]=new fO(o,l,r,c),e.x1===n&&e.y1===a||t.x1===n&&t.y1===a?(d[4]=new fO(n,a,o,s),d[5]=new fO(r,l,i,c)):(d[4]=new fO(r,a,i,s),d[5]=new fO(n,l,o,c)),XN(d,(function(e){return e.height()>0&&e.width()>0}))[0]}var YF=function(e){function t(t){e.call(this,t);var n=this.options;n.width=parseInt(n.width,10),n.height=parseInt(n.height,10),this.gradients={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(){var e=this.options,t=this.children,n=new fO(0,0,e.width,e.height);this.box=n.unpad(e.margin);for(var o=0;o<t.length;o++)t[o].reflow(n),n=KF(n,t[o].box)||new fO},t.prototype.createVisual=function(){this.visual=new JR,this.createBackground()},t.prototype.createBackground=function(){var e=this.options,t=e.border||{},n=this.box.clone().pad(e.margin).unpad(t.width),o=LR.fromRect(n.toRect(),{stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},zIndex:-10});this.visual.append(o)},t.prototype.getRoot=function(){return this},t.prototype.createGradient=function(e){var t,n=this.gradients,o=vP(e),r=WF[e.gradient];if(n[o])t=n[o];else{var i=Object.assign({},r,e);"linear"===r.type?t=new HF(i):(e.innerRadius&&(i.stops=function(e){for(var t=e.stops,n=e.innerRadius/e.radius*100,o=t.length,r=[],i=0;i<o;i++){var a=Object.assign({},t[i]);a.offset=(a.offset*(100-n)+n)/100,r.push(a)}return r}(i)),(t=new UF(i)).supportVML=!1!==r.supportVML),n[o]=t}return t},t.prototype.cleanGradients=function(){var e=this.gradients;for(var t in e)e[t]._observers=[]},t.prototype.size=function(){var e=this.options;return new fO(0,0,e.width,e.height)},t}(cF);SP(YF,{width:600,height:400,background:uN,border:{color:BD,width:0},margin:BN(5),zIndex:-2});const XF=YF;var QF=function(e){function t(t){e.call(this,t),this._initDirection()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initDirection=function(){var e=this.options;e.vertical?(this.groupAxis=hN,this.elementAxis=fN,this.groupSizeField=pN,this.elementSizeField=QD,this.groupSpacing=e.spacing,this.elementSpacing=e.vSpacing):(this.groupAxis=fN,this.elementAxis=hN,this.groupSizeField=QD,this.elementSizeField=pN,this.groupSpacing=e.vSpacing,this.elementSpacing=e.spacing)},t.prototype.reflow=function(e){this.box=e.clone(),this.reflowChildren()},t.prototype.reflowChildren=function(){var e=this,t=this,n=t.box,o=t.elementAxis,r=t.groupAxis,i=t.elementSizeField,a=t.groupSizeField,s=this.groupOptions(),l=s.groups,c=s.groupsSize,d=s.maxGroupElementsSize,u=l.length,p=n[r+1]+this.alignStart(c,n[a]());if(u){for(var h=p,f=0;f<u;f++){for(var m=l[f],g=m.groupElements,v=n[o+1],y=g.length,x=0;x<y;x++){var b=g[x],w=e.elementSize(b),k=h+e.alignStart(w[a],m.groupSize),C=new fO;C[r+1]=k,C[r+2]=k+w[a],C[o+1]=v,C[o+2]=v+w[i],b.reflow(C),v+=w[i]+e.elementSpacing}h+=m.groupSize+e.groupSpacing}n[r+1]=p,n[r+2]=p+c,n[o+2]=n[o+1]+d}},t.prototype.alignStart=function(e,t){var n=0,o=this.options.align;return o===iN||o===VD?n=t-e:o===HD&&(n=(t-e)/2),n},t.prototype.groupOptions=function(){for(var e=this,t=e.box,n=e.children,o=e.elementSizeField,r=e.groupSizeField,i=e.elementSpacing,a=e.groupSpacing,s=xP(t[o]()),l=n.length,c=[],d=0,u=0,p=0,h=0,f=[],m=0;m<l;m++){var g=n[m];g.box||g.reflow(t);var v=this.elementSize(g);this.options.wrap&&xP(u+i+v[o])>s&&(c.push({groupElements:f,groupSize:d,groupElementsSize:u}),h=Math.max(h,u),p+=a+d,d=0,u=0,f=[]),d=Math.max(d,v[r]),u>0&&(u+=i),u+=v[o],f.push(g)}return c.push({groupElements:f,groupSize:d,groupElementsSize:u}),{groups:c,groupsSize:p+=d,maxGroupElementsSize:h=Math.max(h,u)}},t.prototype.elementSize=function(e){return{width:e.box.width(),height:e.box.height()}},t.prototype.createVisual=function(){},t}(cF);SP(QF,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});const JF=QF;var ZF=function(e){function t(t,n,o){void 0===n&&(n=new sO),void 0===o&&(o={}),e.call(this,o),this.content(t),this.position(n),this.options.font||(this.options.font="12px sans-serif"),kN(this.options.fill)||this.fill("#000")}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={nodeType:{configurable:!0}};return n.nodeType.get=function(){return"Text"},t.prototype.content=function(e){return kN(e)?(this.options.set("content",e),this):this.options.get("content")},t.prototype.measure=function(){return iP(this.content(),{font:this.options.get("font")})},t.prototype.rect=function(){var e=this.measure(),t=this.position().clone();return new uO(t,[e.width,e.height])},t.prototype.bbox=function(e){var t=iO(this.currentTransform(e));return this.rect().bbox(t)},t.prototype.rawBBox=function(){return this.rect().bbox()},t.prototype._containsPoint=function(e){return this.rect().containsPoint(e)},Object.defineProperties(t.prototype,n),t}(CR(iR(YO,["position"])));const $F=ZF;var eL=$F,tL=function(e){function t(t,n){e.call(this,n),this.content=t,this.reflow(new fO)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this.options,n=t.size=iP(this.content,{font:t.font});this.baseline=n.baseline,this.box=new fO(e.x1,e.y1,e.x1+n.width,e.y1+n.height)},t.prototype.createVisual=function(){var e=this.options,t=e.font,n=e.color,o=e.opacity,r=e.cursor,i=e.stroke,a=e.paintOrder;this.visual=new eL(this.content,this.box.toRect().topLeft(),{font:t,fill:{color:n,opacity:o},cursor:r,stroke:i,paintOrder:a})},t}(cF);SP(tL,{font:WD,color:BD});const nL=tL;function oL(e){var t=e.origin,n=e.bottomRight();return new fO(t.x,t.y,n.x,n.y)}var rL=/\n/m,iL=function(e){function t(t,n,o){e.call(this,n),this.content=t,this.data=o,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new fO)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initContainer=function(){var e=this.options,t=String(this.content).split(rL),n=new JF({vertical:!0,align:e.align,wrap:!1}),o=MN({},e,{opacity:1,animation:null});this.container=n,this.append(n);for(var r=0;r<t.length;r++){var i=new nL(t[r].trim(),o);n.append(i)}},t.prototype.reflow=function(t){var n=this.options,o=n.visual;if(this.container.options.align=n.align,o&&!this._boxReflow){var r=t;r.hasSize()||(this._boxReflow=!0,this.reflow(r),this._boxReflow=!1,r=this.box);var i=this.visual=o(this.visualContext(r));i&&(r=oL(i.clippedBBox()||new uO),i.options.zIndex=n.zIndex),this.box=this.contentBox=this.paddingBox=r}else if(e.prototype.reflow.call(this,t),n.rotation){var a=BN(n.margin),s=this.box.unpad(a);this.targetBox=t,this.normalBox=s.clone(),(s=this.rotate()).translate(a.left-a.right,a.top-a.bottom),this.rotatedBox=s.clone(),s.pad(a)}},t.prototype.createVisual=function(){var e=this.options;if(this.visual=new JR({transform:this.rotationTransform(),zIndex:e.zIndex,noclip:e.noclip}),this.hasBox()){var t=LR.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(t)}},t.prototype.renderVisual=function(){if(this.options.visible)if(this.options.visual){var t=this.visual;t&&!lP(t.options.noclip)&&(t.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else e.prototype.renderVisual.call(this)},t.prototype.visualContext=function(e){var t=this,n={text:this.content,rect:e.toRect(),sender:this.getSender(),options:this.options,createVisual:function(){return t._boxReflow=!0,t.reflow(e),t._boxReflow=!1,t.getDefaultVisual()}};return this.data&&Object.assign(n,this.data),n},t.prototype.getDefaultVisual=function(){this.createVisual(),this.renderChildren();var e=this.visual;return delete this.visual,e},t.prototype.rotate=function(){var e=this.options;return this.box.rotate(e.rotation),this.align(this.targetBox,hN,e.align),this.align(this.targetBox,fN,e.vAlign),this.box},t.prototype.rotationTransform=function(){var e=this.options.rotation;if(!e)return null;var t=this.normalBox.center(),n=t.x,o=t.y,r=this.rotatedBox.center();return SO().translate(r.x-n,r.y-o).rotate(e,[n,o])},t}(AF);const aL=iL;var sL=function(e){function t(t){e.call(this,t),this._textBox=new aL(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})),this.append(this._textBox)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(t){e.prototype.reflow.call(this,t),this.box.snapTo(t,hN)},t.buildTitle=function(e,n){var o,r=e;return"string"===typeof e&&(r={text:e}),(r=Object.assign({visible:!0},n,r))&&r.visible&&r.text&&(o=new t(r)),o},t.orderTitles=function(e){var t=[].concat(e),n=t.filter((function(e){return e&&e.options.position!==VD})),o=t.filter((function(e){return e&&e.options.position===VD}));return lL(n),lL(o),o.reverse(),n.concat(o)},t}(cF);function lL(e){for(var t=1;t<e.length;t++){var n=e[t]._textBox,o=e[t-1]._textBox;o.options.margin=Object.assign(BN(o.options.margin),{bottom:0}),n.options.margin=Object.assign(BN(n.options.margin),{top:0})}}SP(sL,{color:BD,position:cN,align:HD,margin:BN(5),padding:BN(5)});const cL=sL;var dL=function(e){function t(t,n,o,r,i){e.call(this,n,i),this.text=n,this.value=t,this.index=o,this.dataItem=r,this.reflow(new fO)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.visualContext=function(t){var n=e.prototype.visualContext.call(this,t);return n.value=this.value,n.dataItem=this.dataItem,n.format=this.options.format,n.culture=this.options.culture,n},t.prototype.click=function(e,t){e.trigger("axisLabelClick",{element:hP(t),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})},t.prototype.rotate=function(){if(this.options.alignRotation!==HD){var t=this.normalBox.toRect(),n=this.rotationTransform();this.box=oL(t.bbox(n.matrix()))}else e.prototype.rotate.call(this);return this.box},t.prototype.rotationTransform=function(){var t=this.options,n=t.rotation;if(!n)return null;if(t.alignRotation===HD)return e.prototype.rotationTransform.call(this);var o=SO().rotate(n).matrix(),r=this.normalBox.toRect(),i=this.targetBox.toRect(),a=t.rotationOrigin||cN,s=a===cN||a===VD?hN:fN,l=a===cN||a===VD?fN:hN,c=a===cN||a===$D?i.origin:i.bottomRight(),d=r.topLeft().transformCopy(o),u=r.topRight().transformCopy(o),p=r.bottomRight().transformCopy(o),h=r.bottomLeft().transformCopy(o),f=uO.fromPoints(d,u,p,h),m={};m[l]=i.origin[l]-f.origin[l];var g,v,y=Math.abs(d[l]+m[l]-c[l]),x=Math.abs(u[l]+m[l]-c[l]);xP(y,KD)===xP(x,KD)?(g=d,v=u):x<y?(g=u,v=p):(g=d,v=h);var b=g[s]+(v[s]-g[s])/2;return m[s]=i.center()[s]-b,SO().translate(m.x,m.y).rotate(n)},t}(aL);SP(dL,{_autoReflow:!1});const uL=dL;var pL=function(e){function t(t,n,o){e.call(this,n),this.fields=t,this.chartService=o,this.render()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hide=function(){this.options.visible=!1},t.prototype.show=function(){this.options.visible=!0},t.prototype.render=function(){var e=this,t=this.options;if(t.visible){var n,o,r=t.label,i=t.icon,a=new fO,s=function(){return e},l=i.size,c=this.fields.text;if(lP(r)&&r.visible){var d=UN(r);d?c=d(this.fields):r.format&&(c=this.chartService.format.auto(r.format,c)),r.color||(r.color=r.position===JD?"#fff":i.background),this.label=new aL(c,MN({},r)),this.label.aliasFor=s,r.position!==JD||lP(l)||(i.type===qD?l=Math.max(this.label.box.width(),this.label.box.height()):(n=this.label.box.width(),o=this.label.box.height()),a.wrap(this.label.box))}i.width=n||l||7,i.height=o||l||7;var u=new TF(MN({},i));u.aliasFor=s,this.marker=u,this.append(u),this.label&&this.append(this.label),u.reflow(new fO),this.wrapperBox=a.wrap(u.box)}},t.prototype.reflow=function(e){var t,n,o,r=this,i=r.options,a=r.label,s=r.marker,l=r.wrapperBox,c=e.center(),d=i.line.length,u=i.position;i.visible&&($N(u,[$D,iN])?u===$D?(o=l.alignTo(e,u).translate(-d,e.center().y-l.center().y),i.line.visible&&(t=[e.x1,c.y],this.linePoints=[t,[o.x2,c.y]],n=o.clone().wrapPoint(t))):(o=l.alignTo(e,u).translate(d,e.center().y-l.center().y),i.line.visible&&(t=[e.x2,c.y],this.linePoints=[t,[o.x1,c.y]],n=o.clone().wrapPoint(t))):u===VD?(o=l.alignTo(e,u).translate(e.center().x-l.center().x,d),i.line.visible&&(t=[c.x,e.y2],this.linePoints=[t,[c.x,o.y1]],n=o.clone().wrapPoint(t))):(o=l.alignTo(e,u).translate(e.center().x-l.center().x,-d),i.line.visible&&(t=[c.x,e.y1],this.linePoints=[t,[c.x,o.y2]],n=o.clone().wrapPoint(t))),s&&s.reflow(o),a&&(a.reflow(o),s&&(i.label.position===rN&&a.box.alignTo(s.box,u),a.reflow(a.box))),this.contentBox=o,this.targetBox=e,this.box=n||o)},t.prototype.createVisual=function(){e.prototype.createVisual.call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()},t.prototype.renderVisual=function(){var t=this,n=this.options,o=n.visual;n.visible&&o?(this.visual=o(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:n.background,border:n.background,icon:n.icon,label:n.label,line:n.line,position:n.position,visible:n.visible},createVisual:function(){t.createVisual(),t.renderChildren();var e=t.visual;return delete t.visual,e}})),this.addVisual()):e.prototype.renderVisual.call(this)},t.prototype.createLine=function(){var e=this.options.line;if(this.linePoints){var t=LR.fromPoints(this.linePoints,{stroke:{color:e.color,width:e.width,dashType:e.dashType}});CN(t),this.visual.append(t)}},t.prototype.click=function(e,t){var n=this.eventArgs(t);e.trigger("noteClick",n)||t.preventDefault()},t.prototype.over=function(e,t){var n=this.eventArgs(t);e.trigger("noteHover",n)||t.preventDefault()},t.prototype.out=function(e,t){var n=this.eventArgs(t);e.trigger("noteLeave",n)},t.prototype.eventArgs=function(e){var t=this.options;return Object.assign(this.fields,{element:hP(e),text:lP(t.label)?t.label.text:"",visual:this.visual})},t}(AF);SP(pL,{icon:{visible:!0,type:qD},label:{position:JD,visible:!0,align:HD,vAlign:HD},line:{visible:!0},visible:!0,position:cN,zIndex:2});const hL=pL;var fL={format:function(e,t){return t},toString:function(e){return e},parseDate:function(e){return new Date(e)},firstDay:function(){return 0}},mL=fL,gL=function(){},vL={implementation:{configurable:!0}};gL.register=function(e){mL=e},vL.implementation.get=function(){return mL},Object.defineProperties(gL,vL);const yL=gL;var xL=/\{(\d+)(:[^\}]+)?\}/g,bL=function(e){this._intlService=e},wL={intl:{configurable:!0}};wL.intl.get=function(){return this._intlService||yL.implementation},wL.intl.set=function(e){this._intlService=e},bL.prototype.auto=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var o=this.intl;return EN(e)&&e.match(XD)?o.format.apply(o,[e].concat(t)):o.toString(t[0],e)},bL.prototype.localeAuto=function(e,t,n){var o,r=this.intl;return o=EN(e)&&e.match(XD)?e.replace(xL,(function(e,o,i){var a=t[parseInt(o,10)];return r.toString(a,i?i.substring(1):"",n)})):r.toString(t[0],e,n),o},Object.defineProperties(bL.prototype,wL);const kL=bL;var CL=function(e,t){void 0===t&&(t={}),this._intlService=t.intlService,this.sender=t.sender||e,this.format=new kL(t.intlService),this.chart=e,this.rtl=Boolean(t.rtl)},SL={intl:{configurable:!0}};SL.intl.get=function(){return this._intlService||yL.implementation},SL.intl.set=function(e){this._intlService=e,this.format.intl=e},CL.prototype.notify=function(e,t){this.chart&&this.chart.trigger(e,t)},CL.prototype.isPannable=function(e){var t=((this.chart||{}).options||{}).pannable;return t&&t.lock!==e},Object.defineProperties(CL.prototype,SL);const IL=CL;var EL,_L=function(){};_L.register=function(e){EL=e},_L.create=function(e,t){return EL?EL.create(e,t):new QM(e,Object.assign({},{multiTouch:!0},t))};const jL=_L;function AL(e,t){var n=e.tickX,o=e.tickY,r=e.position,i=new LR({stroke:{width:t.width,color:t.color}});return e.vertical?i.moveTo(n,r).lineTo(n+t.size,r):i.moveTo(r,o).lineTo(r,o+t.size),CN(i),i}function DL(e,t){var n=e.lineStart,o=e.lineEnd,r=e.position,i=new LR({stroke:{width:t.width,color:t.color,dashType:t.dashType}});return e.vertical?i.moveTo(n,r).lineTo(o,r):i.moveTo(r,n).lineTo(r,o),CN(i),i}var NL=function(e){function t(t,n){void 0===n&&(n=new IL),e.call(this,t),this.chartService=n,this.options.visible||(this.options=MN({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=MN({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==nN},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=MN({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==nN},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(){},t.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.labelsCount()}},t.prototype.normalizeLabelRotation=function(e){var t=e.rotation;ON(t)&&(e.alignRotation=t.align,e.rotation=t.angle)},t.prototype.createLabels=function(){var e=this,t=this.options,n=t.vertical?iN:HD,o=MN({},t.labels,{align:n,zIndex:t.zIndex}),r=Math.max(1,o.step);if(this.clearLabels(),o.visible){this.normalizeLabelRotation(o),"auto"===o.rotation&&(o.rotation=0,t.autoRotateLabels=!0);for(var i=this.labelsRange(),a=i.min;a<i.max;a+=r){var s={index:a,count:i.max},l=e.createAxisLabel(a,o,s);l&&(e.append(l),e.labels.push(l))}}},t.prototype.clearLabels=function(){this.children=XN(this.children,(function(e){return!(e instanceof uL)})),this.labels=[]},t.prototype.clearTitle=function(){var e=this;this.title&&(this.children=XN(this.children,(function(t){return t!==e.title})),this.title=void 0)},t.prototype.clear=function(){this.clearLabels(),this.clearTitle()},t.prototype.lineBox=function(){var e=this.options,t=this.box,n=e.vertical,o=e.labels.mirror,r=o?t.x1:t.x2,i=o?t.y2:t.y1,a=e.line.width||0;return n?new fO(r,t.y1,r,t.y2-a):new fO(t.x1,i,t.x2-a,i)},t.prototype.createTitle=function(){var e=this.options,t=MN({rotation:e.vertical?-90:0,text:"",zIndex:1,visualSize:!0},e.title);if(t.visible&&t.text){var n=new aL(t.text,t);this.append(n),this.title=n}},t.prototype.createNotes=function(){var e=this,t=this.options,n=t.notes,o=n.data||[];this.notes=[];for(var r=0;r<o.length;r++){var i=MN({},n,o[r]);i.value=e.parseNoteValue(i.value);var a=new hL({value:i.value,text:i.label.text,dataItem:i},i,e.chartService);a.options.visible&&(lP(a.options.position)?t.vertical&&!$N(a.options.position,[$D,iN])?a.options.position=t.reverse?$D:iN:t.vertical||$N(a.options.position,[cN,VD])||(a.options.position=t.reverse?VD:cN):t.vertical?a.options.position=t.reverse?$D:iN:a.options.position=t.reverse?VD:cN,e.append(a),e.notes.push(a))}},t.prototype.parseNoteValue=function(e){return e},t.prototype.renderVisual=function(){e.prototype.renderVisual.call(this),this.createPlotBands()},t.prototype.createVisual=function(){e.prototype.createVisual.call(this),this.createBackground(),this.createLine()},t.prototype.gridLinesVisual=function(){var e=this._gridLines;return e||(e=this._gridLines=new JR({zIndex:-2}),this.appendVisual(this._gridLines)),e},t.prototype.createTicks=function(e){var t=this.options,n=this.lineBox(),o=t.labels.mirror,r=t.majorTicks.visible?t.majorUnit:0,i={vertical:t.vertical};function a(t,r,a){var s=t.length,l=Math.max(1,r.step);if(r.visible)for(var c=r.skip;c<s;c+=l)lP(a)&&c%a===0||(i.tickX=o?n.x2:n.x2-r.size,i.tickY=o?n.y1-r.size:n.y1,i.position=t[c],e.append(AL(i,r)))}a(this.getMajorTickPositions(),t.majorTicks),a(this.getMinorTickPositions(),t.minorTicks,r/t.minorUnit)},t.prototype.createLine=function(){var e=this.options,t=e.line,n=this.lineBox();if(t.width>0&&t.visible){var o=new LR({stroke:{width:t.width,color:t.color,dashType:t.dashType}});o.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),e._alignLines&&CN(o);var r=this._lineGroup=new JR;r.append(o),this.visual.append(r),this.createTicks(r)}},t.prototype.getActualTickSize=function(){var e=this.options,t=0;return e.majorTicks.visible&&e.minorTicks.visible?t=Math.max(e.majorTicks.size,e.minorTicks.size):e.majorTicks.visible?t=e.majorTicks.size:e.minorTicks.visible&&(t=e.minorTicks.size),t},t.prototype.createBackground=function(){var e=this.options,t=this.box,n=e.background;n&&(this._backgroundPath=LR.fromRect(t.toRect(),{fill:{color:n},stroke:null}),this.visual.append(this._backgroundPath))},t.prototype.createPlotBands=function(){var e=this,t=this.options,n=t.plotBands||[],o=t.vertical,r=this.plotArea;if(0!==n.length){for(var i=this._plotbandGroup=new JR({zIndex:-1}),a=XN(this.pane.axes,(function(t){return t.options.vertical!==e.options.vertical}))[0],s=0;s<n.length;s++){var l=n[s],c=void 0,d=void 0,u=l.label,p=void 0;if(o?(c=(a||r.axisX).lineBox(),d=e.getSlot(l.from,l.to,!0)):(c=e.getSlot(l.from,l.to,!0),d=(a||r.axisY).lineBox()),u&&(u.vAlign=u.position||$D,p=e.createPlotBandLabel(u,l,new fO(c.x1,d.y1,c.x2,d.y2))),0!==c.width()&&0!==d.height()){var h=new uO([c.x1,d.y1],[c.width(),d.height()]),f=LR.fromRect(h,{fill:{color:l.color,opacity:l.opacity},stroke:null});i.append(f),p&&i.append(p)}}this.appendVisual(i)}},t.prototype.createPlotBandLabel=function(e,t,n){if(!1===e.visible)return null;var o,r=e.text;if(lP(e)&&e.visible){var i=UN(e);i?r=i({text:r,item:t}):e.format&&(r=this.chartService.format.auto(e.format,r)),e.color||(e.color=this.options.labels.color)}return(o=new aL(r,e)).reflow(n),o.renderVisual(),o.visual},t.prototype.createGridLines=function(e){var t=this.options,n=t.minorGridLines,o=t.majorGridLines,r=t.minorUnit,i=t.vertical,a=e.options.line.visible,s=o.visible?t.majorUnit:0,l=e.lineBox(),c=l[i?"y1":"x1"],d={lineStart:l[i?"x1":"y1"],lineEnd:l[i?"x2":"y2"],vertical:i},u=[],p=this.gridLinesVisual();function h(e,t,n){var o=e.length,r=Math.max(1,t.step);if(t.visible)for(var i=t.skip;i<o;i+=r){var s=xP(e[i]);$N(s,u)||i%n===0||a&&c===s||(d.position=s,p.append(DL(d,t)),u.push(s))}}return h(this.getMajorTickPositions(),o),h(this.getMinorTickPositions(),n,s/r),p.children},t.prototype.reflow=function(e){for(var t=this,n=t.options,o=t.labels,r=t.title,i=n.vertical,a=o.length,s=i?pN:QD,l=r?r.box[s]():0,c=this.getActualTickSize()+n.margin+l,d=((this.getRoot()||{}).box||e)[s](),u=0,p=0;p<a;p++){var h=o[p].box[s]();h+c<=d&&(u=Math.max(u,h))}this.box=i?new fO(e.x1,e.y1,e.x1+u+c,e.y2):new fO(e.x1,e.y1,e.x2,e.y1+u+c),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()},t.prototype.getLabelsTickPositions=function(){return this.getMajorTickPositions()},t.prototype.labelTickIndex=function(e){return e.index},t.prototype.arrangeLabels=function(){for(var e=this.options,t=this.labels,n=this.labelsBetweenTicks(),o=e.vertical,r=e.labels.mirror,i=this.getLabelsTickPositions(),a=0;a<t.length;a++){var s=t[a],l=this.labelTickIndex(s),c=o?s.box.height():s.box.width(),d=i[l],u=i[l+1],p=void 0,h=void 0;if(o){if(n)p=d+(u-d)/2-c/2;else p=d-c/2;h=p}else n?(p=d,h=u):h=(p=d-c/2)+c;this.positionLabel(s,r,p,h)}},t.prototype.positionLabel=function(e,t,n,o){void 0===o&&(o=n);var r,i=this.options,a=i.vertical,s=this.lineBox(),l=this.getActualTickSize()+i.margin;if(a){var c=s.x2;t?(c+=l,e.options.rotationOrigin=$D):(c-=l+e.box.width(),e.options.rotationOrigin=iN),r=e.box.move(c,n)}else{var d=s.y1;t?(d-=l+e.box.height(),e.options.rotationOrigin=VD):(d+=l,e.options.rotationOrigin=cN),r=new fO(n,d,o,d+e.box.height())}e.reflow(r)},t.prototype.autoRotateLabelAngle=function(e,t){return e.width()<t?0:e.height()>t?-90:-45},t.prototype.autoRotateLabels=function(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;for(var e=this.getMajorTickPositions(),t=this.labels,n=Math.min(t.length,e.length-1),o=0,r=0;r<n;r++){var i=Math.abs(e[r+1]-e[r]),a=t[r].box,s=this.autoRotateLabelAngle(a,i);if(0!==s&&(o=s),-90===o)break}if(0!==o){for(var l=0;l<t.length;l++)t[l].options.rotation=o,t[l].reflow(new fO);return!0}},t.prototype.arrangeTitle=function(){var e=this.options,t=this.title,n=e.labels.mirror,o=e.vertical;t&&(o?(t.options.align=n?iN:$D,t.options.vAlign=t.options.position):(t.options.align=t.options.position,t.options.vAlign=n?cN:VD),t.reflow(this.box))},t.prototype.arrangeNotes=function(){for(var e=this,t=0;t<this.notes.length;t++){var n=e.notes[t],o=n.options.value,r=void 0;lP(o)?(e.shouldRenderNote(o)?n.show():n.hide(),r=e.noteSlot(o)):n.hide(),n.reflow(r||e.lineBox())}},t.prototype.noteSlot=function(e){return this.getSlot(e)},t.prototype.alignTo=function(e){var t=e.lineBox(),n=this.options.vertical,o=n?fN:hN;this.box.snapTo(t,o),n?this.box.shrink(0,this.lineBox().height()-t.height()):this.box.shrink(this.lineBox().width()-t.width(),0),this.box[o+1]-=this.lineBox()[o+1]-t[o+1],this.box[o+2]-=this.lineBox()[o+2]-t[o+2]},t.prototype.axisLabelText=function(e,t,n){var o,r=this,i=UN(t),a=function(){return t.format?r.chartService.format.localeAuto(t.format,[e],t.culture):e};i?o=i(Object.assign({},n,{get text(){return a()},value:e,format:t.format,culture:t.culture})):o=a();return o},t.prototype.slot=function(e,t,n){var o=this.getSlot(e,t,n);if(o)return o.toRect()},t.prototype.contentBox=function(){var e=this.box.clone(),t=this.labels;if(t.length){var n=this.options.vertical?fN:hN;if(this.chartService.isPannable(n)){var o=this.maxLabelOffset();e[n+1]-=o.start,e[n+2]+=o.end}else{t[0].options.visible&&e.wrap(t[0].box);var r=t[t.length-1];r.options.visible&&e.wrap(r.box)}}return e},t.prototype.maxLabelOffset=function(){for(var e=this.options,t=e.vertical,n=e.reverse,o=this.labelsBetweenTicks(),r=this.getLabelsTickPositions(),i=t?fN:hN,a=this.labels,s=n?1:0,l=n?0:1,c=0,d=0,u=0;u<a.length;u++){var p=a[u],h=this.labelTickIndex(p),f=void 0,m=void 0;o?(f=r[h+s],m=r[h+l]):f=m=r[h],c=Math.max(c,f-p.box[i+1]),d=Math.max(d,p.box[i+2]-m)}return{start:c,end:d}},t.prototype.limitRange=function(e,t,n,o,r){var i=this.options;if(e<n&&r<0&&(!lP(i.min)||i.min<=n)||o<t&&r>0&&(!lP(i.max)||o<=i.max))return null;if(t<n&&r>0||o<e&&r<0)return{min:e,max:t};var a=t-e,s=e,l=t;return e<n&&r<0?(s=gP(e,n,o),l=gP(e+a,n+a,o)):t>o&&r>0&&(l=gP(t,n,o),s=gP(t-a,n,o-a)),{min:s,max:l}},t.prototype.valueRange=function(){return{min:this.seriesMin,max:this.seriesMax}},t.prototype.lineDir=function(){var e=this.options;return(e.vertical?-1:1)*(e.reverse?-1:1)},t.prototype.lineInfo=function(){var e=this.options.vertical,t=this.lineBox(),n=e?t.height():t.width(),o=e?fN:hN,r=this.lineDir(),i=o+(1===r?1:2).toString();return{axis:o,axisOrigin:i,axisDir:r,lineBox:t,lineSize:n,lineStart:t[i]}},t.prototype.pointOffset=function(e){var t=this.lineInfo(),n=t.axis,o=t.axisDir,r=t.axisOrigin,i=t.lineBox,a=t.lineSize;return(o>0?e[n]-i[r]:i[r]-e[n])/a},t.prototype.scaleToDelta=function(e,t){var n=gP(e,-.999,.999);return n>0?t*Math.min(1,n):t-t/(1+n)},t.prototype.labelsBetweenTicks=function(){return!this.options.justified},t.prototype.prepareUserOptions=function(){},t}(cF);SP(NL,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:BD,visible:!0},title:{visible:!0,position:HD},majorTicks:{align:rN,size:4,skip:0,step:1},minorTicks:{align:rN,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:rN,minorTickType:nN,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:BD,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});const TL=NL;var PL="milliseconds",ML="seconds",OL="minutes",RL="hours",FL="days",LL="weeks",zL="months",BL="years",VL=1e3,HL=6e4,qL=36e5,UL=864e5,GL=6048e5,WL=26784e5,KL=31536e6,YL={years:KL,months:WL,weeks:GL,days:UL,hours:qL,minutes:HL,seconds:VL,milliseconds:1};function XL(e,t){return e.getTime()-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*HL}function QL(e,t){return new Date(e.getTime()+t)}function JL(e){var t;return e instanceof Date?t=e:e&&(t=new Date(e)),t}function ZL(e,t){return 0===t&&23===e.getHours()&&(e.setHours(e.getHours()+2),!0)}function $L(e,t,n,o){var r=e;if(e){var i=JL(e),a=i.getHours();n===BL?ZL(r=new Date(i.getFullYear()+t,0,1),0):n===zL?ZL(r=new Date(i.getFullYear(),i.getMonth()+t,1),a):n===LL?(r=$L(function(e,t){void 0===t&&(t=0);var n=0,o=e.getDay();if(!isNaN(o))for(;o!==t;)0===o?o=6:o--,n++;return QL(e,-n*UL)}(i,o),7*t,FL),ZL(r,a)):n===FL?ZL(r=new Date(i.getFullYear(),i.getMonth(),i.getDate()+t),a):n===RL?r=function(e,t){var n=new Date(e);n.setMinutes(0,0,0);var o=(e.getTimezoneOffset()-n.getTimezoneOffset())*HL;return QL(n,o+t*qL)}(i,t):n===OL?(r=QL(i,t*HL)).getSeconds()>0&&r.setSeconds(0):n===ML?r=QL(i,t*VL):n===PL&&(r=QL(i,t)),n!==PL&&r.getMilliseconds()>0&&r.setMilliseconds(0)}return r}function ez(e,t,n){return $L(JL(e),0,t,n)}function tz(e,t,n){var o=JL(e);return o&&ez(o,t,n).getTime()===o.getTime()?o:$L(o,1,t,n)}function nz(e,t){return e&&t?e.getTime()-t.getTime():-1}function oz(e,t){return e.getTime()-t}function rz(e){if(vN(e)){for(var t=[],n=0;n<e.length;n++)t.push(rz(e[n]));return t}if(e)return JL(e).getTime()}function iz(e,t){return e&&t?rz(e)===rz(t):e===t}function az(e,t,n){return XL(e,t)/YL[n]}function sz(e,t,n,o){var r=JL(e),i=JL(t);return(n===zL?r.getMonth()-i.getMonth()+12*(r.getFullYear()-i.getFullYear())+az(r,new Date(r.getFullYear(),r.getMonth()),FL)/new Date(r.getFullYear(),r.getMonth()+1,0).getDate():n===BL?r.getFullYear()-i.getFullYear()+sz(r,new Date(r.getFullYear(),0),zL,1)/12:n===FL||n===LL?az(r,i,n):oz(r,t)/YL[n])/o}function lz(e,t,n){return n===BL?t.getFullYear()-e.getFullYear():n===zL?12*lz(e,t,BL)+t.getMonth()-e.getMonth():n===FL?Math.floor(oz(t,e)/UL):Math.floor(oz(t,e)/YL[n])}function cz(e,t){return EN(t)&&e.parseDate(t)||JL(t)}function dz(e,t){if(vN(t)){for(var n=[],o=0;o<t.length;o++)n.push(cz(e,t[o]));return n}return cz(e,t)}function uz(e,t){return IN(e.weekStartDay)?e.weekStartDay:t&&t.firstDay?t.firstDay():0}var pz=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(){this._ticks={}},t.prototype.categoriesHash=function(){return""},t.prototype.clone=function(){var e=new t(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return e.createLabels(),e},t.prototype.initUserOptions=function(e){var t=e.categories||[],n=lP(e.min),o=lP(e.max);if(e.srcCategories=e.categories=t,(n||o)&&t.length){var r,i=n?Math.floor(e.min):0;r=o?e.justified?Math.floor(e.max)+1:Math.ceil(e.max):t.length,e.categories=e.categories.slice(i,r)}return e},t.prototype.rangeIndices=function(){var e=this.options,t=e.categories.length||1;return{min:IN(e.min)?e.min%1:0,max:IN(e.max)&&e.max%1!==0&&e.max<this.totalRange().max?t-(1-e.max%1):t-(e.justified?1:0)}},t.prototype.range=function(){var e=this.options;return{min:IN(e.min)?e.min:0,max:IN(e.max)?e.max:this.totalRange().max}},t.prototype.roundedRange=function(){return this.range()},t.prototype.totalRange=function(){var e=this.options;return{min:0,max:Math.max(this._seriesMax||0,e.srcCategories.length)-(e.justified?1:0)}},t.prototype.scaleOptions=function(){var e=this.rangeIndices(),t=e.min,n=e.max,o=this.lineBox();return{scale:(this.options.vertical?o.height():o.width())/(n-t||1)*(this.options.reverse?-1:1),box:o,min:t,max:n}},t.prototype.arrangeLabels=function(){e.prototype.arrangeLabels.call(this),this.hideOutOfRangeLabels()},t.prototype.hideOutOfRangeLabels=function(){var e=this.box,t=this.labels;if(t.length>0){var n=this.options.vertical?fN:hN,o=e[n+1],r=e[n+2],i=t[0],a=mP(t);(i.box[n+1]>r||i.box[n+2]<o)&&(i.options.visible=!1),(a.box[n+1]>r||a.box[n+2]<o)&&(a.options.visible=!1)}},t.prototype.getMajorTickPositions=function(){return this.getTicks().majorTicks},t.prototype.getMinorTickPositions=function(){return this.getTicks().minorTicks},t.prototype.getLabelsTickPositions=function(){return this.getTicks().labelTicks},t.prototype.tickIndices=function(e){for(var t=this.rangeIndices(),n=t.min,o=t.max,r=Math.ceil(o),i=Math.floor(n),a=[];i<=r;)a.push(i),i+=e;return a},t.prototype.getTickPositions=function(e){for(var t=this.options,n=t.vertical,o=t.reverse,r=this.scaleOptions(),i=r.scale,a=r.box,s=r.min,l=a[(n?fN:hN)+(o?2:1)],c=this.tickIndices(e),d=[],u=0;u<c.length;u++)d.push(l+xP(i*(c[u]-s),3));return d},t.prototype.getTicks=function(){var e=this.options,t=this._ticks,n=this.rangeIndices(),o=this.lineBox(),r=o.getHash()+n.min+","+n.max+e.reverse+e.justified;if(t._hash!==r){var i=e.minorTicks.visible||e.minorGridLines.visible;t._hash=r,t.labelTicks=this.getTickPositions(1),t.majorTicks=this.filterOutOfRangePositions(t.labelTicks,o),t.minorTicks=i?this.filterOutOfRangePositions(this.getTickPositions(.5),o):[]}return t},t.prototype.filterOutOfRangePositions=function(e,t){if(!e.length)return e;for(var n=this.options.vertical?fN:hN,o=function(e){return t[n+1]<=e&&e<=t[n+2]},r=e.length-1,i=0;!o(e[i])&&i<=r;)i++;for(var a=r;!o(e[a])&&a>=0;)a--;return e.slice(i,a+1)},t.prototype.lineInfo=function(){var e=this.options,t=e.vertical,n=e.reverse,o=this.lineBox(),r=t?o.height():o.width(),i=t?fN:hN,a=n?-1:1,s=i+(1===a?1:2).toString();return{axis:i,axisOrigin:s,axisDir:a,lineBox:o,lineSize:r,lineStart:o[s]}},t.prototype.lineDir=function(){return this.options.reverse?-1:1},t.prototype.getSlot=function(e,t,n){var o=this.options,r=o.reverse,i=o.justified,a=this.scaleOptions(),s=a.scale,l=a.box,c=a.min,d=this.lineInfo(),u=d.axis,p=d.lineStart,h=l.clone(),f=!lP(t),m=wP(e,0),g=wP(t,m);g=Math.max(g-1,m);var v=p+(m-c)*s,y=p+((g=Math.max(m,g))+1-c)*s;return f&&i&&(y=v),n&&(v=gP(v,l[u+1],l[u+2]),y=gP(y,l[u+1],l[u+2])),h[u+1]=r?y:v,h[u+2]=r?v:y,h},t.prototype.limitSlot=function(e){var t=this.options.vertical?fN:hN,n=this.lineBox(),o=e.clone();return o[t+1]=gP(e[t+1],n[t+1],n[t+2]),o[t+2]=gP(e[t+2],n[t+1],n[t+2]),o},t.prototype.slot=function(t,n,o){var r=Math.floor(this.options.min||0),i=t,a=n;return"string"===typeof i?i=this.categoryIndex(i):IN(i)&&(i-=r),"string"===typeof a?a=this.categoryIndex(a):IN(a)&&(a-=r),e.prototype.slot.call(this,i,a,o)},t.prototype.pointCategoryIndex=function(e){var t=this.options,n=t.reverse,o=t.justified,r=t.vertical?fN:hN,i=this.scaleOptions(),a=i.scale,s=i.box,l=i.min,c=i.max,d=n?c:l,u=s[r+1],p=s[r+2],h=e[r];if(h<u||h>p)return null;var f=d+(h-u)/a,m=f%1;return o?f=Math.round(f):0===m&&f>0&&f--,Math.floor(f)},t.prototype.getCategory=function(e){var t=this.pointCategoryIndex(e);return null===t?null:this.options.categories[t]},t.prototype.categoryIndex=function(e){return this.totalIndex(e)-Math.floor(this.options.min||0)},t.prototype.categoryAt=function(e,t){var n=this.options;return(t?n.srcCategories:n.categories)[e]},t.prototype.categoriesCount=function(){return(this.options.categories||[]).length},t.prototype.translateRange=function(e){var t=this.options,n=this.lineBox(),o=t.vertical?n.height():n.width(),r=t.categories.length,i=xP(e/(o/r),KD);return{min:i,max:r+i}},t.prototype.scaleRange=function(e,t){var n=Math.abs(this.pointOffset(t)),o=this.limitedRangeIndices(),r=o.max-o.min,i=this.scaleToDelta(e,r),a=n*i,s=(1-n)*i,l=o.min+a,c=o.max-s;return c-l<.1&&(c=l+.1),{min:l,max:c}},t.prototype.zoomRange=function(e,t){var n=this.totalRange(),o=n.min,r=n.max,i=this.scaleRange(e,t);return{min:gP(i.min,o,r),max:gP(i.max,o,r)}},t.prototype.labelsCount=function(){var e=this.labelsRange();return e.max-e.min},t.prototype.labelsRange=function(){var e=this.options,t=e.justified,n=e.labels,o=this.limitedRangeIndices(!0),r=o.min,i=o.max,a=Math.floor(r);return t?(r=Math.ceil(r),i=Math.floor(i)):(r=Math.floor(r),i=Math.ceil(i)),{min:(r>n.skip?n.skip+n.step*Math.ceil((r-n.skip)/n.step):n.skip)-a,max:(e.categories.length?i+(t?1:0):0)-a}},t.prototype.createAxisLabel=function(e,t,n){var o=this.options,r=o.dataItems?o.dataItems[e]:null,i=wP(o.categories[e],"");n.dataItem=r;var a=this.axisLabelText(i,t,n);return new uL(i,a,e,r,t)},t.prototype.shouldRenderNote=function(e){var t=this.limitedRangeIndices();return Math.floor(t.min)<=e&&e<=Math.ceil(t.max)},t.prototype.noteSlot=function(e){var t=this.options,n=e-Math.floor(t.min||0);return this.getSlot(n)},t.prototype.arrangeNotes=function(){e.prototype.arrangeNotes.call(this),this.hideOutOfRangeNotes()},t.prototype.hideOutOfRangeNotes=function(){var e=this.notes,t=this.box;if(e&&e.length)for(var n=this.options.vertical?fN:hN,o=t[n+1],r=t[n+2],i=0;i<e.length;i++){var a=e[i];a.box&&(r<a.box[n+1]||a.box[n+2]<o)&&a.hide()}},t.prototype.pan=function(e){var t=this.limitedRangeIndices(!0),n=this.scaleOptions().scale,o=xP(e/n,KD),r=this.totalRange(),i=t.min+o,a=t.max+o;return this.limitRange(i,a,0,r.max,o)},t.prototype.pointsRange=function(e,t){var n=this.options,o=n.reverse,r=n.vertical?fN:hN,i=this.limitedRangeIndices(!0),a=this.scaleOptions(),s=a.scale,l=a.box[r+(o?2:1)],c=e[r]-l,d=t[r]-l,u=i.min+c/s,p=i.min+d/s,h=Math.min(u,p),f=Math.max(u,p);if(f-h>=.01)return{min:h,max:f}},t.prototype.valueRange=function(){return this.range()},t.prototype.totalIndex=function(e){var t=this.options,n=this._categoriesMap?this._categoriesMap.get(e):function(e,t){if(e instanceof Date){for(var n=t.length,o=0;o<n;o++)if(iz(t[o],e))return o;return-1}return t.indexOf(e)}(e,t.srcCategories);return n},t.prototype.currentRangeIndices=function(){var e=this.options,t=0;return IN(e.min)&&(t=Math.floor(e.min)),{min:t,max:IN(e.max)?e.justified?Math.floor(e.max):Math.ceil(e.max)-1:this.totalCount()-1}},t.prototype.limitedRangeIndices=function(e){var t,n=this.options,o=IN(n.min)?n.min:0;if(t=IN(n.max)?n.max:IN(n.min)?o+n.categories.length:this.totalRange().max||1,e){var r=this.totalRange();o=gP(o,0,r.max),t=gP(t,0,r.max)}return{min:o,max:t}},t.prototype.totalRangeIndices=function(){return{min:0,max:this.totalRange().max||1}},t.prototype.indexCategories=function(){if(!this._categoriesMap)for(var e=this._categoriesMap=new ZN,t=this.options.srcCategories,n=0;n<t.length;n++)e.set(t[n],n)},t.prototype.totalCount=function(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)},t}(TL);SP(pz,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:BD},labels:{zIndex:1},justified:!1,_deferLabels:!0});const hz=pz;var fz=3e5,mz={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},gz=[PL,ML,OL,RL,FL,LL,zL,BL],vz="fit";function yz(e,t){t&&(e._range=void 0);var n=e._range;return n||((n=e._range=TP(e)).min=JL(n.min),n.max=JL(n.max)),n}var xz=function(e){this.options=e};xz.prototype.displayIndices=function(){return{min:0,max:1}},xz.prototype.displayRange=function(){return{}},xz.prototype.total=function(){return{}},xz.prototype.valueRange=function(){return{}},xz.prototype.valueIndex=function(){return-1},xz.prototype.values=function(){return[]},xz.prototype.totalIndex=function(){return-1},xz.prototype.valuesCount=function(){return 0},xz.prototype.totalCount=function(){return 0},xz.prototype.dateAt=function(){return null};var bz=function(e,t,n){this.options=n,n.baseUnitStep=n.baseUnitStep||1;var o=n.roundToBaseUnit,r=n.justified;this.start=$L(e,0,n.baseUnit,n.weekStartDay);var i=this.roundToTotalStep(t),a=!r&&iz(t,i)&&!n.justifyEnd;this.end=this.roundToTotalStep(t,!r,a?1:0);var s=n.min||e;this.valueStart=this.roundToTotalStep(s),this.displayStart=o?this.valueStart:s;var l=n.max;if(l){var c=!r&&iz(l,this.roundToTotalStep(l))?-1:0;this.valueEnd=this.roundToTotalStep(l,!1,c),this.displayEnd=o?this.roundToTotalStep(l,!r):n.max}else this.valueEnd=i,this.displayEnd=o||a?this.end:t;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))};function wz(e,t,n){for(var o,r,i,a=yz(e.categories),s=(e.max||a.max)-(e.min||a.min),l=e.autoBaseUnitSteps,c=e.maxDateGroups,d=e.baseUnit===vz,u=t?gz.indexOf(t):0,p=d?gz[u++]:e.baseUnit,h=s/YL[p],f=h;!r||h>=c;){o=o||l[p].slice(0);do{i=o.shift()}while(i&&t===p&&i<n);if(i)h=f/(r=i);else{if(p===mP(gz)){r=Math.ceil(f/c);break}if(!d){h>c&&(r=Math.ceil(f/c));break}p=gz[u++]||mP(gz),f=s/YL[p],o=null}}e.baseUnitStep=r,e.baseUnit=p}function kz(e){var t=(e.baseUnit||"").toLowerCase();return t!==vz&&!$N(t,gz)&&function(e){for(var t,n,o=e.categories,r=lP(o)?o.length:0,i=eN,a=0;a<r;a++){var s=o[a];if(s&&t){var l=Math.abs(XL(s,t));0!==l&&(n=(i=Math.min(i,l))>=KL?BL:i>=24192e5?zL:i>=GL?LL:i>=UL?FL:i>=qL?RL:i>=HL?OL:ML)}t=s}e.baseUnit=n||FL}(e),t!==vz&&"auto"!==e.baseUnitStep||wz(e),e}bz.prototype.displayRange=function(){return{min:this.displayStart,max:this.displayEnd}},bz.prototype.displayIndices=function(){if(!this._indices){var e=this.options,t=e.baseUnit,n=e.baseUnitStep,o=sz(this.displayStart,this.valueStart,t,n),r=sz(this.displayEnd,this.valueStart,t,n);this._indices={min:o,max:r}}return this._indices},bz.prototype.total=function(){return{min:this.start,max:this.end}},bz.prototype.totalCount=function(){return this.totalIndex(this.end)+(this.options.justified?1:0)},bz.prototype.valueRange=function(){return{min:this.valueStart,max:this.valueEnd}},bz.prototype.valueIndex=function(e){var t=this.options;return Math.floor(sz(e,this.valueStart,t.baseUnit,t.baseUnitStep))},bz.prototype.totalIndex=function(e){var t=this.options;return Math.floor(sz(e,this.start,t.baseUnit,t.baseUnitStep))},bz.prototype.dateIndex=function(e){var t=this.options;return sz(e,this.valueStart,t.baseUnit,t.baseUnitStep)},bz.prototype.valuesCount=function(){return this.valueIndex(this.valueEnd)+1},bz.prototype.values=function(){var e=this._values;if(!e){var t=this.options,n=this.valueRange();this._values=e=[];for(var o=n.min;o<=n.max;)e.push(o),o=$L(o,t.baseUnitStep,t.baseUnit,t.weekStartDay)}return e},bz.prototype.dateAt=function(e,t){var n=this.options;return $L(t?this.start:this.valueStart,n.baseUnitStep*e,n.baseUnit,n.weekStartDay)},bz.prototype.roundToTotalStep=function(e,t,n){var o=this.options,r=o.baseUnit,i=o.baseUnitStep,a=o.weekStartDay,s=this.start,l=sz(e,s,r,i),c=t?Math.ceil(l):Math.floor(l);return n&&(c+=n),$L(s,c*i,r,a)};var Cz=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){var e=new t(Object.assign({},this.options),this.chartService);return e.createLabels(),e},t.prototype.categoriesHash=function(){var e=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+e},t.prototype.initUserOptions=function(e){return e},t.prototype.initFields=function(){e.prototype.initFields.call(this);var t=this.chartService,n=t.intl,o=this.options,r=o.categories||[];if(r._parsed||((r=dz(n,r))._parsed=!0),o=MN({roundToBaseUnit:!0},o,{categories:r,min:cz(n,o.min),max:cz(n,o.max),weekStartDay:uz(o,n)}),t.panning&&t.isPannable(o.vertical?fN:hN)&&(o.roundToBaseUnit=!1),o.userSetBaseUnit=o.userSetBaseUnit||o.baseUnit,o.userSetBaseUnitStep=o.userSetBaseUnitStep||o.baseUnitStep,this.options=o,o.srcCategories=r,r.length>0){var i=yz(r,!0),a=o.maxDivisions,s=kz(o),l=o._forecast;if(l&&(l.before>0&&(i.min=$L(i.min,-l.before,s.baseUnit,s.weekStartDay)),l.after>0&&(i.max=$L(i.max,l.after,s.baseUnit,s.weekStartDay))),this.dataRange=new bz(i.min,i.max,s),a){var c=this.dataRange.displayRange(),d=Object.assign({},o,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:c.min,max:c.max,maxDateGroups:a}),u=this.dataRange.options;wz(d,u.baseUnit,u.baseUnitStep),this.divisionRange=new bz(i.min,i.max,d)}else this.divisionRange=this.dataRange}else o.baseUnit=o.baseUnit||FL,this.dataRange=this.divisionRange=new xz(o);this.rangeLabels=[]},t.prototype.tickIndices=function(t){var n=this.dataRange,o=this.divisionRange,r=o.valuesCount();if(!this.options.maxDivisions||!r)return e.prototype.tickIndices.call(this,t);var i=[],a=o.values(),s=0;this.options.justified||(a=a.concat(o.dateAt(r)),s=.5);for(var l=0;l<a.length;l++)if(i.push(n.dateIndex(a[l])+s),1!==t&&l>=1){var c=i.length-1;i.splice(l,0,i[c-1]+(i[c]-i[c-1])*t)}return i},t.prototype.shouldRenderNote=function(e){var t=this.range(),n=this.options.categories||[];return nz(e,t.min)>=0&&nz(e,t.max)<=0&&n.length},t.prototype.parseNoteValue=function(e){return cz(this.chartService.intl,e)},t.prototype.noteSlot=function(e){return this.getSlot(e)},t.prototype.translateRange=function(e){var t=this.options,n=t.baseUnit,o=t.weekStartDay,r=t.vertical,i=this.lineBox(),a=r?i.height():i.width(),s=this.range(),l=a/(s.max-s.min),c=xP(e/l,KD);if(s.min&&s.max){var d=QL(t.min||s.min,c),u=QL(t.max||s.max,c);s={min:$L(d,0,n,o),max:$L(u,0,n,o)}}return s},t.prototype.labelsRange=function(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}},t.prototype.pan=function(e){if(this.isEmpty())return null;var t=this.options,n=this.lineBox(),o=t.vertical?n.height():n.width(),r=this.dataRange.displayRange(),i=r.min,a=r.max,s=this.dataRange.total(),l=xP(e/(o/(a-i)),KD)*(t.reverse?-1:1),c=QL(i,l),d=QL(a,l),u=this.limitRange(rz(c),rz(d),rz(s.min),rz(s.max),l);return u?(u.min=JL(u.min),u.max=JL(u.max),u.baseUnit=t.baseUnit,u.baseUnitStep=t.baseUnitStep||1,u.userSetBaseUnit=t.userSetBaseUnit,u.userSetBaseUnitStep=t.userSetBaseUnitStep,u):void 0},t.prototype.pointsRange=function(t,n){if(this.isEmpty())return null;var o=e.prototype.pointsRange.call(this,t,n),r=this.dataRange.displayRange(),i=this.dataRange.displayIndices(),a=oz(r.max,r.min)/(i.max-i.min),s=this.options;return{min:QL(r.min,o.min*a),max:QL(r.min,o.max*a),baseUnit:s.userSetBaseUnit||s.baseUnit,baseUnitStep:s.userSetBaseUnitStep||s.baseUnitStep}},t.prototype.scaleRange=function(e,t){if(this.isEmpty())return{};var n=this.options,o=n.userSetBaseUnit===vz,r=this.dataRange.total(),i=this.dataRange.displayRange(),a=i.min,s=i.max,l=Math.abs(this.pointOffset(t)),c=s-a,d=this.scaleToDelta(e,c),u=Math.round(l*d),p=Math.round((1-l)*d),h=this.dataRange.options.baseUnit,f=new Date(a.getTime()+u),m=new Date(s.getTime()-p);if(o){var g,v,y=n.autoBaseUnitSteps,x=n.maxDateGroups,b=mP(y[h])*x*YL[h],w=oz(s,a),k=oz(m,f),C=gz.indexOf(h);if(k<YL[h]&&h!==PL)h=gz[C-1],f=QL(a,v=(w-(x-1)*(g=mP(y[h]))*YL[h])/2),m=QL(s,-v);else if(k>b&&h!==BL){var S=0;do{C++,h=gz[C],S=0,v=2*YL[h];do{g=y[h][S],S++}while(S<y[h].length&&v*g<w)}while(h!==BL&&v*g<w);(v=(v*g-w)/2)>0&&(f=QL(a,-v),m=QL(s,v),f=QL(f,gP(m,r.min,r.max)-m),m=QL(m,gP(f,r.min,r.max)-f))}}return f&&m&&oz(m,f)>0?{min:f,max:m,baseUnit:n.userSetBaseUnit||n.baseUnit,baseUnitStep:n.userSetBaseUnitStep||n.baseUnitStep}:void 0},t.prototype.zoomRange=function(e,t){var n=this.dataRange.total(),o=this.scaleRange(e,t);return o&&(o.min<n.min&&(o.min=n.min),o.max>n.max&&(o.max=n.max)),o},t.prototype.range=function(){return this.dataRange.displayRange()},t.prototype.createLabels=function(){e.prototype.createLabels.call(this),this.createRangeLabels()},t.prototype.clearLabels=function(){e.prototype.clearLabels.call(this),this.rangeLabels=[]},t.prototype.arrangeLabels=function(){this.arrangeRangeLabels(),e.prototype.arrangeLabels.call(this)},t.prototype.arrangeRangeLabels=function(){var e=this.options,t=this.rangeLabels;if(0!==t.length){var n=this.lineBox(),o=e.vertical,r=e.rangeLabels.mirror||e.labels.mirror,i=t[0];if(i){var a=o?n.y1-i.box.height()/2:n.x1;this.positionLabel(i,r,a)}var s=t[1];if(s){var l=o?n.y2-s.box.height()/2:n.x2;this.positionLabel(s,r,l)}}},t.prototype.autoRotateLabels=function(){e.prototype.autoRotateLabels.call(this),this.autoRotateRangeLabels()},t.prototype.hideOutOfRangeLabels=function(){e.prototype.hideOutOfRangeLabels.call(this),this.hideOverlappingLabels()},t.prototype.hideOverlappingLabels=function(){var e=this.rangeLabels,t=this.labels;if(0!==e.length){var n=e[0];if(n&&n.options.visible)for(var o=0;o<t.length;o++){if(!a(n,t[o]))break}var r=e[1];if(r&&r.options.visible)for(var i=t.length-1;i>0;--i){if(!a(r,t[i]))break}}function a(e,t){return!(t.options.visible&&!t.box.overlaps(e.box))&&(t.options.visible=!1,!0)}},t.prototype.contentBox=function(){for(var t=e.prototype.contentBox.call(this),n=this.rangeLabels,o=0;o<n.length;o++){var r=n[o];r.options.visible&&t.wrap(r.box)}return t},t.prototype.createAxisLabel=function(e,t,n){void 0===n&&(n={});var o=this.options,r=o.dataItems&&!o.maxDivisions?o.dataItems[e]:null,i=this.divisionRange.dateAt(e),a=t.dateFormats[this.divisionRange.options.baseUnit];t.format=t.format||a,n.dataItem=r;var s=this.axisLabelText(i,t,n);if(s)return new uL(i,s,e,r,t)},t.prototype.createRangeLabels=function(){var e=this,t=this.divisionRange,n=t.displayStart,o=t.displayEnd,r=this.options,i=Object.assign({},r.labels,r.rangeLabels,{align:HD,zIndex:r.zIndex});if(!0===i.visible){this.normalizeLabelRotation(i),i.alignRotation=HD,"auto"===i.rotation&&(i.rotation=0,r.autoRotateRangeLabels=!0);var a=i.dateFormats[this.divisionRange.options.baseUnit];i.format=i.format||a;var s=function(t,n,o){if(o){var r=new uL(n,o,t,null,i);e.append(r),e.rangeLabels.push(r)}};s(0,n,this.axisLabelText(n,i,{index:0,count:2})),s(1,o,this.axisLabelText(o,i,{index:1,count:2}))}},t.prototype.autoRotateRangeLabels=function(){var e=this,t=this.rangeLabels;if(this.options.autoRotateRangeLabels&&!this.options.vertical&&2===t.length){var n=function(t,n,o){var r=2*Math.abs(n[o+1]-n[o]),i=e.autoRotateLabelAngle(t.box,r);0!==i&&(t.options.rotation=i,t.reflow(new fO))},o=this.getMajorTickPositions();n(t[0],o,0),n(t[1],o,o.length-2)}},t.prototype.categoryIndex=function(e){return this.dataRange.valueIndex(e)},t.prototype.slot=function(e,t,n){var o=this.dataRange,r=e,i=t;r instanceof Date&&(r=o.dateIndex(r)),i instanceof Date&&(i=o.dateIndex(i));var a=this.getSlot(r,i,n);if(a)return a.toRect()},t.prototype.getSlot=function(t,n,o){var r=t,i=n;return typeof r===oN&&(r=this.categoryIndex(r)),typeof i===oN&&(i=this.categoryIndex(i)),e.prototype.getSlot.call(this,r,i,o)},t.prototype.valueRange=function(){var e=yz(this.options.srcCategories);return{min:JL(e.min),max:JL(e.max)}},t.prototype.categoryAt=function(e,t){return this.dataRange.dateAt(e,t)},t.prototype.categoriesCount=function(){return this.dataRange.valuesCount()},t.prototype.rangeIndices=function(){return this.dataRange.displayIndices()},t.prototype.labelsBetweenTicks=function(){return!this.divisionRange.options.justified},t.prototype.prepareUserOptions=function(){this.isEmpty()||(this.options.categories=this.dataRange.values())},t.prototype.getCategory=function(e){var t=this.pointCategoryIndex(e);return null===t?null:this.dataRange.dateAt(t)},t.prototype.totalIndex=function(e){return this.dataRange.totalIndex(e)},t.prototype.currentRangeIndices=function(){var e=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(e.min),max:this.dataRange.totalIndex(e.max)}},t.prototype.totalRange=function(){return this.dataRange.total()},t.prototype.totalRangeIndices=function(){var e=this.dataRange.total();return{min:this.dataRange.totalIndex(e.min),max:this.dataRange.totalIndex(e.max)}},t.prototype.totalCount=function(){return this.dataRange.totalCount()},t.prototype.isEmpty=function(){return!this.options.srcCategories.length},t.prototype.roundedRange=function(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();var e=this.options,t=yz(e.srcCategories);return new bz(t.min,t.max,Object.assign({},e,{justified:!1,roundToBaseUnit:!0,justifyEnd:!1})).displayRange()},t}(hz);SP(Cz,{type:GD,labels:{dateFormats:mz},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});const Sz=Cz;function Iz(e,t){return xP(Math.floor(e/t)*t,KD)}function Ez(e,t){return xP(Math.ceil(e/t)*t,KD)}function _z(e){return Math.max(Math.min(e,fz),-3e5)}var jz=Math.pow(10,-9),Az=function(e){function t(t,n,o,r){e.call(this,Object.assign({},o,{seriesMin:t,seriesMax:n}),r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initUserOptions=function(e){var t=function(e,t,n){var o=n.narrowRange,r=function(e,t,n){if(!e&&!t)return 0;var o;if(e>=0&&t>=0){var r=e===t?0:e;if(!1===n||!n&&(t-r)/t>.2)return 0;o=Math.max(0,r-(t-r)/2)}else o=e;return o}(e,t,o),i=function(e,t,n){if(!e&&!t)return 1;var o;if(e<=0&&t<=0){var r=e===t?0:t,i=Math.abs((r-e)/r);if(!1===n||!n&&i>.2)return 0;o=Math.min(0,r-(e-r)/2)}else o=t;return o}(e,t,o),a=JM(r,i),s={majorUnit:a};!1!==n.roundToMajorUnit&&(r<0&&Dz(r,a,1/3)&&(r-=a),i>0&&Dz(i,a,1/3)&&(i+=a));return s.min=Iz(r,a),s.max=Ez(i,a),s}(e.seriesMin,e.seriesMax,e);return this.totalOptions=function(e,t){return{min:lP(t.min)?Math.min(e.min,t.min):e.min,max:lP(t.max)?Math.max(e.max,t.max):e.max,majorUnit:e.majorUnit}}(t,e),function(e,t){var n,o,r=t;if(t){!function(e,t){for(var n=0;n<t.length;n++){var o=t[n];null===e[o]&&(e[o]=void 0)}}(t,["min","max"]),n=lP(t.min),o=lP(t.max);var i=n||o;i&&t.min===t.max&&(t.min>0?t.min=0:t.max=1),t.majorUnit?(e.min=Iz(e.min,t.majorUnit),e.max=Ez(e.max,t.majorUnit)):i&&(r=MN(e,t),e.majorUnit=JM(r.min,r.max))}e.minorUnit=(r.majorUnit||e.majorUnit)/5;var a=MN(e,r);a.min>=a.max&&(n&&!o?a.max=a.min+a.majorUnit:!n&&o&&(a.min=a.max-a.majorUnit));return a}(t,e)},t.prototype.initFields=function(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax},t.prototype.clone=function(){return new t(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},t.prototype.startValue=function(){return 0},t.prototype.range=function(){var e=this.options;return{min:e.min,max:e.max}},t.prototype.getDivisions=function(e){if(0===e)return 1;var t=this.options,n=t.max-t.min;return Math.floor(xP(n/e,3))+1},t.prototype.getTickPositions=function(e,t){var n=this.options,o=this.lineInfo(),r=o.axisDir,i=o.axisOrigin,a=o.lineBox,s=e*(o.lineSize/(n.max-n.min)),l=this.getDivisions(e),c=[],d=a[i],u=0;t&&(u=t/e);for(var p=0;p<l;p++)p%u!==0&&c.push(xP(d,3)),d+=s*r;return c},t.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},t.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},t.prototype.getSlot=function(e,t,n){void 0===n&&(n=!1);var o=this.options,r=this.lineInfo(),i=r.axis,a=r.axisDir,s=r.lineBox,l=r.lineSize,c=r.lineStart,d=a*(l/(o.max-o.min)),u=wP(e,t||0),p=wP(t,e||0);n&&(u=gP(u,o.min,o.max),p=gP(p,o.min,o.max));var h=Math.min(u,p)-o.min,f=Math.max(u,p)-o.min,m=new fO(s.x1,s.y1,s.x1,s.y1);return m[i+1]=_z(c+d*(a>0?h:f)),m[i+2]=_z(c+d*(a>0?f:h)),m},t.prototype.getValue=function(e){var t=this.options,n=Number(t.max),o=Number(t.min),r=this.pointOffset(e);return r<0||r>1?null:xP(o+r*(n-o),KD)},t.prototype.translateRange=function(e){var t=this.options,n=t.vertical,o=t.reverse,r=t.max,i=t.min,a=this.lineInfo().lineSize,s=xP(e/(a/(r-i)),KD);return!n&&!o||n&&o||(s=-s),{min:i+s,max:r+s,offset:s}},t.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},t.prototype.createAxisLabel=function(e,t,n){var o=this.options,r=xP(o.min+e*o.majorUnit,KD),i=this.axisLabelText(r,t,n);return new uL(r,i,e,null,t)},t.prototype.shouldRenderNote=function(e){var t=this.range();return t.min<=e&&e<=t.max},t.prototype.pan=function(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)},t.prototype.pointsRange=function(e,t){var n=this.getValue(e),o=this.getValue(t),r=Math.min(n,o),i=Math.max(n,o);if(this.isValidRange(r,i))return{min:r,max:i}},t.prototype.scaleRange=function(e,t){var n=Math.abs(this.pointOffset(t)),o=this.options.max-this.options.min,r=this.scaleToDelta(e,o),i=n*r,a=(1-n)*r,s=xP(this.options.min+i,KD),l=xP(this.options.max-a,KD);return l-s<jz&&(l=s+jz),{min:s,max:l}},t.prototype.zoomRange=function(e,t){var n=this.totalMin,o=this.totalMax,r=this.scaleRange(e,t);return{min:gP(r.min,n,o),max:gP(r.max,n,o),narrowRange:!1}},t.prototype.isValidRange=function(e,t){return t-e>jz},t}(TL);function Dz(e,t,n){var o=xP(Math.abs(e%t),KD);return 0===o||o>t*(1-n)}SP(Az,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:BD},labels:{format:"#.####################"},zIndex:1});const Nz=Az;var Tz=function(e){function t(t,n,o,r){var i=JL(t),a=JL(n),s=r.intl,l=o||{};l=function(e,t,n){var o=n.min||e,r=n.max||t,i=n.baseUnit||(r&&o?function(e){var t=RL;e>=KL?t=BL:e>=WL?t=zL:e>=GL?t=LL:e>=UL&&(t=FL);return t}(XL(r,o)):RL),a=YL[i],s=n.weekStartDay||0,l=ez(rz(o)-1,i,s)||JL(r),c=tz(rz(r)+1,i,s),d=n.majorUnit?n.majorUnit:void 0,u=d||Ez(JM(l.getTime(),c.getTime()),a)/a,p=lz(l,c,i),h=Ez(p,u)-p,f=Math.floor(h/2),m=h-f;n.baseUnit||delete n.baseUnit;return n.baseUnit=n.baseUnit||i,n.min=n.min||$L(l,-f,i,s),n.max=n.max||$L(c,m,i,s),n.minorUnit=n.minorUnit||u/5,n.majorUnit=u,n}(i,a,l=MN(l||{},{min:cz(s,l.min),max:cz(s,l.max),axisCrossingValue:dz(s,l.axisCrossingValues||l.axisCrossingValue),weekStartDay:uz(l,s)})),e.call(this,l,r),this.intlService=s,this.seriesMin=i,this.seriesMax=a;var c=l.weekStartDay||0;this.totalMin=rz(ez(rz(i)-1,l.baseUnit,c)),this.totalMax=rz(tz(rz(a)+1,l.baseUnit,c))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},t.prototype.range=function(){var e=this.options;return{min:e.min,max:e.max}},t.prototype.getDivisions=function(e){var t=this.options;return Math.floor(lz(t.min,t.max,t.baseUnit)/e+1)},t.prototype.getTickPositions=function(e){for(var t=this.options,n=this.lineInfo(),o=n.axisDir,r=n.lineSize,i=n.lineStart,a=this.getDivisions(e),s=r/oz(t.max,t.min),l=t.weekStartDay||0,c=[i],d=1;d<a;d++){var u=i+oz($L(t.min,d*e,t.baseUnit,l),t.min)*s*o;c.push(xP(u,3))}return c},t.prototype.getMajorTickPositions=function(){return this.getTickPositions(this.options.majorUnit)},t.prototype.getMinorTickPositions=function(){return this.getTickPositions(this.options.minorUnit)},t.prototype.getSlot=function(e,t,n){return Nz.prototype.getSlot.call(this,cz(this.intlService,e),cz(this.intlService,t),n)},t.prototype.getValue=function(e){var t=Nz.prototype.getValue.call(this,e);return null!==t?JL(t):null},t.prototype.labelsCount=function(){return this.getDivisions(this.options.majorUnit)},t.prototype.createAxisLabel=function(e,t,n){var o=this.options,r=e*o.majorUnit,i=o.weekStartDay||0,a=o.min;r>0&&(a=$L(a,r,o.baseUnit,i));var s=t.dateFormats[o.baseUnit];t.format=t.format||s;var l=this.axisLabelText(a,t,n);return new uL(a,l,e,null,t)},t.prototype.translateRange=function(e){var t=this.options,n=this.lineBox(),o=t.vertical,r=t.reverse,i=o?n.height():n.width(),a=this.range(),s=i/oz(a.max,a.min),l=xP(e/s,KD);return!o&&!r||o&&r||(l=-l),{min:QL(t.min,l),max:QL(t.max,l),offset:l}},t.prototype.shouldRenderNote=function(e){var t=this.range();return nz(e,t.min)>=0&&nz(e,t.max)<=0},t.prototype.pan=function(e){var t=this.translateRange(e,!0),n=this.limitRange(rz(t.min),rz(t.max),this.totalMin,this.totalMax,t.offset);if(n)return{min:JL(n.min),max:JL(n.max)}},t.prototype.pointsRange=function(e,t){var n=this.getValue(e),o=this.getValue(t),r=Math.min(n,o),i=Math.max(n,o);return{min:JL(r),max:JL(i)}},t.prototype.scaleRange=function(e,t){var n=Math.abs(this.pointOffset(t)),o=this.options.max-this.options.min,r=this.scaleToDelta(e,o),i=n*r,a=(1-n)*r,s=JL(rz(this.options.min)+i),l=JL(rz(this.options.max)-a);return l-s<1e3&&(l=JL(rz(s)+1e3)),{min:s,max:l}},t.prototype.zoomRange=function(e,t){var n=this.scaleRange(e,t);return{min:JL(gP(rz(n.min),this.totalMin,this.totalMax)),max:JL(gP(rz(n.max),this.totalMin,this.totalMax))}},t}(TL);SP(Tz,{type:GD,majorGridLines:{visible:!0,width:1,color:BD},labels:{dateFormats:mz}});const Pz=Tz;var Mz=1e-6,Oz=function(e){function t(t,n,o,r){var i=MN({majorUnit:10,min:t,max:n},o),a=i.majorUnit,s=function(e,t){var n,o=xP(Fz(e,t),KD)%1;n=e<=0?t:0!==o&&(o<.3||o>.9)?Math.pow(t,Fz(e,t)+.2):Math.pow(t,Math.ceil(Fz(e,t)));return n}(n,a),l=function(e,t,n){var o=n.majorUnit,r=e;e<=0?r=t<=1?Math.pow(o,-2):1:n.narrowRange||(r=Math.pow(o,Math.floor(Fz(e,o))));return r}(t,n,i),c=function(e,t,n,o){var r=n.min,i=n.max;lP(n.axisCrossingValue)&&n.axisCrossingValue<=0&&Rz();lP(o.max)?o.max<=0&&Rz():i=t;lP(o.min)?o.min<=0&&Rz():r=e;return{min:r,max:i}}(l,s,i,o);i.max=c.max,i.min=c.min,i.minorUnit=o.minorUnit||xP(a-1,KD),e.call(this,i,r),this.totalMin=lP(o.min)?Math.min(l,o.min):l,this.totalMax=lP(o.max)?Math.max(s,o.max):s,this.logMin=xP(Fz(c.min,a),KD),this.logMax=xP(Fz(c.max,a),KD),this.seriesMin=t,this.seriesMax=n,this.createLabels()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)},t.prototype.startValue=function(){return this.options.min},t.prototype.getSlot=function(e,t,n){var o=this,r=o.options,i=o.logMin,a=o.logMax,s=r.majorUnit,l=r.min,c=r.max,d=this.lineInfo(),u=d.axis,p=d.axisDir,h=d.lineBox,f=d.lineSize,m=d.lineStart,g=p*(f/(a-i)),v=wP(e,t||1),y=wP(t,e||1);if(v<=0||y<=0)return null;n&&(v=gP(v,l,c),y=gP(y,l,c)),v=Fz(v,s),y=Fz(y,s);var x=Math.min(v,y)-i,b=Math.max(v,y)-i,w=new fO(h.x1,h.y1,h.x1,h.y1);return w[u+1]=_z(m+g*(p>0?x:b)),w[u+2]=_z(m+g*(p>0?b:x)),w},t.prototype.getValue=function(e){var t=this,n=t.options,o=t.logMin,r=t.logMax,i=n.majorUnit,a=this.lineInfo(),s=a.axis,l=a.axisDir,c=a.lineStart,d=a.lineSize,u=(r-o)/d,p=l*(e[s]-c);if(p<0||p>d)return null;var h=o+p*u;return xP(Math.pow(i,h),KD)},t.prototype.range=function(){var e=this.options;return{min:e.min,max:e.max}},t.prototype.translateRange=function(e){var t=this,n=t.options,o=t.logMin,r=t.logMax,i=n.reverse,a=n.vertical,s=n.majorUnit,l=this.lineBox(),c=a?l.height():l.width(),d=xP(e/(c/(r-o)),KD);return!a&&!i||a&&i||(d=-d),{min:Math.pow(s,o+d),max:Math.pow(s,r+d),offset:d}},t.prototype.labelsCount=function(){var e=Math.floor(this.logMax);return Math.floor(e-this.logMin)+1},t.prototype.getMajorTickPositions=function(){var e=[];return this.traverseMajorTicksPositions((function(t){e.push(t)}),{step:1,skip:0}),e},t.prototype.createTicks=function(e){var t=this.options,n=t.majorTicks,o=t.minorTicks,r=t.vertical,i=t.labels.mirror,a=this.lineBox(),s={vertical:r};function l(t,n){s.tickX=i?a.x2:a.x2-n.size,s.tickY=i?a.y1-n.size:a.y1,s.position=t,e.append(AL(s,n))}return n.visible&&this.traverseMajorTicksPositions(l,n),o.visible&&this.traverseMinorTicksPositions(l,o),[]},t.prototype.createGridLines=function(e){var t=this.options,n=t.minorGridLines,o=t.majorGridLines,r=t.vertical,i=e.lineBox(),a={lineStart:i[r?"x1":"y1"],lineEnd:i[r?"x2":"y2"],vertical:r},s=[],l=this.gridLinesVisual();function c(e,t){$N(e,s)||(a.position=e,l.append(DL(a,t)),s.push(e))}return o.visible&&this.traverseMajorTicksPositions(c,o),n.visible&&this.traverseMinorTicksPositions(c,n),l.children},t.prototype.traverseMajorTicksPositions=function(e,t){for(var n=this.lineInfo(),o=n.lineStart,r=n.step,i=this.logMin,a=this.logMax,s=Math.ceil(i)+t.skip;s<=a;s+=t.step){e(xP(o+r*(s-i),KD),t)}},t.prototype.traverseMinorTicksPositions=function(e,t){for(var n=this.options,o=n.min,r=n.max,i=n.minorUnit,a=n.majorUnit,s=this.lineInfo(),l=s.lineStart,c=s.step,d=this.logMin,u=this.logMax,p=Math.floor(d);p<u;p++)for(var h=this._minorIntervalOptions(p),f=t.skip;f<i;f+=t.step){var m=h.value+f*h.minorStep;if(m>r)break;if(m>=o)e(xP(l+c*(Fz(m,a)-d),KD),t)}},t.prototype.createAxisLabel=function(e,t,n){var o=Math.ceil(this.logMin+e),r=Math.pow(this.options.majorUnit,o),i=this.axisLabelText(r,t,n);return new uL(r,i,e,null,t)},t.prototype.shouldRenderNote=function(e){var t=this.range();return t.min<=e&&e<=t.max},t.prototype.pan=function(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)},t.prototype.pointsRange=function(e,t){var n=this.getValue(e),o=this.getValue(t);return{min:Math.min(n,o),max:Math.max(n,o)}},t.prototype.scaleRange=function(e,t){var n=this.options.majorUnit,o=Fz(this.options.min,n),r=Fz(this.options.max,n),i=Math.abs(this.pointOffset(t)),a=r-o,s=this.scaleToDelta(e,a),l=Math.pow(n,o+i*s),c=Math.pow(n,r-(1-i)*s);return c-l<Mz&&(c=l+Mz),{min:l,max:c}},t.prototype.zoomRange=function(e,t){var n=this.scaleRange(e,t),o=this.totalMin,r=this.totalMax;return{min:gP(n.min,o,r),max:gP(n.max,o,r)}},t.prototype._minorIntervalOptions=function(e){var t=this.options,n=t.minorUnit,o=t.majorUnit,r=Math.pow(o,e);return{value:r,minorStep:(Math.pow(o,e+1)-r)/n}},t.prototype.lineInfo=function(){var t=e.prototype.lineInfo.call(this);return t.step=t.axisDir*(t.lineSize/(this.logMax-this.logMin)),t},t}(TL);function Rz(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function Fz(e,t){return Math.log(e)/Math.log(t)}SP(Oz,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:BD},zIndex:1,_deferLabels:!0});const Lz=Oz;var zz={createGridLines:function(e){var t,n,o=this.options,r=Math.abs(this.box.center().y-e.lineBox().y1),i=[],a=!1;return o.majorGridLines.visible&&(t=this.majorGridLineAngles(e),a=!0,i=this.renderMajorGridLines(t,r,o.majorGridLines)),o.minorGridLines.visible&&(n=this.minorGridLineAngles(e,a),aP(i,this.renderMinorGridLines(n,r,o.minorGridLines,e,a))),i},renderMajorGridLines:function(e,t,n){return this.renderGridLines(e,t,n)},renderMinorGridLines:function(e,t,n,o,r){var i=this.radiusCallback&&this.radiusCallback(t,o,r);return this.renderGridLines(e,t,n,i)},renderGridLines:function(e,t,n,o){for(var r={stroke:{width:n.width,color:n.color,dashType:n.dashType}},i=this.box.center(),a=new UR([i.x,i.y],t),s=this.gridLinesVisual(),l=0;l<e.length;l++){var c=new LR(r);o&&(a.radius=o(e[l])),c.moveTo(a.center).lineTo(a.pointAt(e[l]+180)),s.append(c)}return s.children},gridLineAngles:function(e,t,n,o,r){var i=this,a=this.intervals(t,n,o,r),s=e.options,l=s.visible&&!1!==(s.line||{}).visible;return iT(a,(function(e){var t=i.intervalAngle(e);if(!l||90!==t)return t}))}};const Bz=zz;var Vz=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.range=function(){return{min:0,max:this.options.categories.length}},t.prototype.reflow=function(e){this.box=e,this.reflowLabels()},t.prototype.lineBox=function(){return this.box},t.prototype.reflowLabels=function(){for(var e=this.labels,t=this.options.labels,n=t.skip||0,o=t.step||1,r=new fO,i=0;i<e.length;i++){e[i].reflow(r);var a=e[i].box;e[i].reflow(this.getSlot(n+i*o).adjacentBox(0,a.width(),a.height()))}},t.prototype.intervals=function(e,t,n,o){void 0===o&&(o=!1);for(var r=this.options,i=r.categories.length/e||1,a=360/i,s=n||1,l=[],c=0,d=t||0;d<i;d+=s)c=r.reverse?360-d*a:d*a,c=xP(c,3)%360,o&&$N(c,o)||l.push(c);return l},t.prototype.majorIntervals=function(){return this.intervals(1)},t.prototype.minorIntervals=function(){return this.intervals(.5)},t.prototype.intervalAngle=function(e){return(360+e+this.options.startAngle)%360},t.prototype.majorAngles=function(){var e=this;return iT(this.majorIntervals(),(function(t){return e.intervalAngle(t)}))},t.prototype.createLine=function(){return[]},t.prototype.majorGridLineAngles=function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,1,t.skip,t.step)},t.prototype.minorGridLineAngles=function(e,t){var n=this.options,o=n.minorGridLines,r=n.majorGridLines,i=t?this.intervals(1,r.skip,r.step):null;return this.gridLineAngles(e,.5,o.skip,o.step,i)},t.prototype.radiusCallback=function(e,t,n){if(t.options.type!==MD){var o=yP(360/(2*this.options.categories.length)),r=Math.cos(o)*e,i=this.majorAngles(),a=function(t){return!n&&$N(t,i)?e:r};return a}},t.prototype.createPlotBands=function(){for(var e=this.options.plotBands||[],t=this._plotbandGroup=new JR({zIndex:-1}),n=0;n<e.length;n++){var o=e[n],r=this.plotBandSlot(o),i=this.getSlot(o.from),a=o.from-Math.floor(o.from);r.startAngle+=a*i.angle;var s=Math.ceil(o.to)-o.to;r.angle-=(s+a)*i.angle;var l=VR.current.createRing(r,{fill:{color:o.color,opacity:o.opacity},stroke:{opacity:o.opacity}});t.append(l)}this.appendVisual(t)},t.prototype.plotBandSlot=function(e){return this.getSlot(e.from,e.to-1)},t.prototype.getSlot=function(e,t){var n=this.options,o=n.justified,r=this.box,i=this.majorAngles(),a=i.length,s=360/a,l=e;n.reverse&&!o&&(l=(l+1)%a);var c=i[l=gP(Math.floor(l),0,a-1)];o&&(c-=s/2)<0&&(c+=360);var d=s*(gP(Math.ceil(t||l),l,a-1)-l+1);return new vO(r.center(),0,r.height()/2,c,d)},t.prototype.slot=function(e,t){var n=this.getSlot(e,t),o=n.startAngle+180,r=o+n.angle;return new AO([n.center.x,n.center.y],{startAngle:o,endAngle:r,radiusX:n.radius,radiusY:n.radius})},t.prototype.pointCategoryIndex=function(e){for(var t=this.options.categories.length,n=null,o=0;o<t;o++){if(this.getSlot(o).containsPoint(e)){n=o;break}}return n},t}(hz);SP(Vz,{startAngle:90,labels:{margin:BN(10)},majorGridLines:{visible:!0},justified:!0}),MN(Vz.prototype,Bz);const Hz=Vz;var qz=function(e){function t(t,n){e.call(this,t,n);var o=this.options;o.minorUnit=o.minorUnit||o.majorUnit/2}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDivisions=function(e){return Nz.prototype.getDivisions.call(this,e)-1},t.prototype.reflow=function(e){this.box=e,this.reflowLabels()},t.prototype.reflowLabels=function(){for(var e=this,t=e.options,n=e.labels,o=e.options.labels,r=o.skip||0,i=o.step||1,a=new fO,s=this.intervals(t.majorUnit,r,i),l=0;l<n.length;l++){n[l].reflow(a);var c=n[l].box;n[l].reflow(this.getSlot(s[l]).adjacentBox(0,c.width(),c.height()))}},t.prototype.lineBox=function(){return this.box},t.prototype.intervals=function(e,t,n,o){void 0===o&&(o=!1);for(var r=this.options.min,i=this.getDivisions(e),a=[],s=n||1,l=t||0;l<i;l+=s){var c=(360+r+l*e)%360;o&&$N(c,o)||a.push(c)}return a},t.prototype.majorIntervals=function(){return this.intervals(this.options.majorUnit)},t.prototype.minorIntervals=function(){return this.intervals(this.options.minorUnit)},t.prototype.intervalAngle=function(e){return(540-e-this.options.startAngle)%360},t.prototype.createLine=function(){return[]},t.prototype.majorGridLineAngles=function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,this.options.majorUnit,t.skip,t.step)},t.prototype.minorGridLineAngles=function(e,t){var n=this.options,o=n.minorGridLines,r=n.majorGridLines,i=t?this.intervals(n.majorUnit,r.skip,r.step):null;return this.gridLineAngles(e,n.minorUnit,o.skip,o.step,i)},t.prototype.plotBandSlot=function(e){return this.getSlot(e.from,e.to)},t.prototype.getSlot=function(e,t){var n=this.options,o=this.box,r=n.startAngle,i=gP(e,n.min,n.max),a=gP(t||i,i,n.max);if(n.reverse&&(i*=-1,a*=-1),(a=(540-a-r)%360)<(i=(540-i-r)%360)){var s=i;i=a,a=s}return new vO(o.center(),0,o.height()/2,i,a-i)},t.prototype.slot=function(e,t){void 0===t&&(t=e);var n,o,r=this.options,i=360-r.startAngle,a=this.getSlot(e,t),s=Math.min(e,t),l=Math.max(e,t);return r.reverse?(n=s,o=l):(n=360-l,o=360-s),n=(n+i)%360,o=(o+i)%360,new AO([a.center.x,a.center.y],{startAngle:n,endAngle:o,radiusX:a.radius,radiusY:a.radius})},t.prototype.getValue=function(e){var t=this.options,n=this.box.center(),o=e.x-n.x,r=e.y-n.y,i=Math.round(cP(Math.atan2(r,o))),a=t.startAngle;return t.reverse||(i*=-1,a*=-1),(i+a+360)%360},t.prototype.valueRange=function(){return{min:0,max:2*Math.PI}},t}(TL);SP(qz,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:BN(10)},majorGridLines:{color:BD,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),MN(qz.prototype,Bz,{createPlotBands:Hz.prototype.createPlotBands,majorAngles:Hz.prototype.majorAngles,range:Nz.prototype.range,labelsCount:Nz.prototype.labelsCount,createAxisLabel:Nz.prototype.createAxisLabel});const Uz=qz;var Gz={options:{majorGridLines:{visible:!0}},createPlotBands:function(){var e=this.options,t=e.majorGridLines.type,n=e.plotBands;void 0===n&&(n=[]);for(var o=this.plotArea.polarAxis,r=o.majorAngles(),i=o.box.center(),a=this._plotbandGroup=new JR({zIndex:-1}),s=0;s<n.length;s++){var l=n[s],c={fill:{color:l.color,opacity:l.opacity},stroke:{opacity:l.opacity}},d=this.getSlot(l.from,l.to,!0),u=new vO(i,i.y-d.y2,i.y-d.y1,0,360),p=void 0;p=t===MD?VR.current.createRing(u,c):LR.fromPoints(this.plotBandPoints(u,r),c).close(),a.append(p)}this.appendVisual(a)},plotBandPoints:function(e,t){for(var n=[],o=[],r=[e.center.x,e.center.y],i=new UR(r,e.innerRadius),a=new UR(r,e.radius),s=0;s<t.length;s++)n.push(i.pointAt(t[s]+180)),o.push(a.pointAt(t[s]+180));return n.reverse(),n.push(n[0]),o.push(o[0]),o.concat(n)},createGridLines:function(e){var t=this.options,n=this.radarMajorGridLinePositions(),o=e.majorAngles(),r=e.box.center(),i=[];if(t.majorGridLines.visible&&(i=this.renderGridLines(r,n,o,t.majorGridLines)),t.minorGridLines.visible){var a=this.radarMinorGridLinePositions();aP(i,this.renderGridLines(r,a,o,t.minorGridLines))}return i},renderGridLines:function(e,t,n,o){var r={stroke:{width:o.width,color:o.color,dashType:o.dashType}},i=o.skip;void 0===i&&(i=0);var a=o.step;void 0===a&&(a=0);for(var s=this.gridLinesVisual(),l=i;l<t.length;l+=a){var c=e.y-t[l];if(c>0){var d=new UR([e.x,e.y],c);if(o.type===MD)s.append(new YR(d,r));else{for(var u=new LR(r),p=0;p<n.length;p++)u.lineTo(d.pointAt(n[p]+180));u.close(),s.append(u)}}}return s.children},getValue:function(e){var t=this.lineBox(),n=this.plotArea.polarAxis,o=n.majorAngles(),r=n.box.center(),i=e.distanceTo(r),a=i;if(this.options.majorGridLines.type!==MD&&o.length>1){var s=e.x-r.x,l=e.y-r.y,c=(cP(Math.atan2(l,s))+540)%360;o.sort((function(e,t){return Wz(e,c)-Wz(t,c)}));var d=90-Wz(o[0],o[1])/2,u=180-Wz(c,o[0])-d;a=i*(Math.sin(yP(u))/Math.sin(yP(d)))}return this.axisType().prototype.getValue.call(this,new $M(t.x1,t.y2-a))}};function Wz(e,t){return 180-Math.abs(Math.abs(e-t)-180)}const Kz=Gz;var Yz=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.radarMajorGridLinePositions=function(){return this.getTickPositions(this.options.majorUnit)},t.prototype.radarMinorGridLinePositions=function(){var e=this.options,t=0;return e.majorGridLines.visible&&(t=e.majorUnit),this.getTickPositions(e.minorUnit,t)},t.prototype.axisType=function(){return e},t}(Nz);MN(Yz.prototype,Kz);const Xz=Yz;var Qz=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.radarMajorGridLinePositions=function(){var e=[];return this.traverseMajorTicksPositions((function(t){e.push(t)}),this.options.majorGridLines),e},t.prototype.radarMinorGridLinePositions=function(){var e=[];return this.traverseMinorTicksPositions((function(t){e.push(t)}),this.options.minorGridLines),e},t.prototype.axisType=function(){return e},t}(Lz);MN(Qz.prototype,Kz);const Jz=Qz;var Zz=function(e){function t(t){e.call(this),this.closed=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.process=function(e){var t=e.slice(0),n=[],o=this.closed,r=t.length;if(r>2&&(this.removeDuplicates(0,t),r=t.length),r<2||2===r&&t[0].equals(t[1]))return n;var i,a,s=t[0],l=t[1],c=t[2];for(n.push(new lR(s));s.equals(t[r-1]);)o=!0,t.pop(),r--;if(2===r){var d=this.tangent(s,l,hN,fN);return mP(n).controlOut(this.firstControlPoint(d,s,l,hN,fN)),n.push(new lR(l,this.secondControlPoint(d,s,l,hN,fN))),n}if(o){s=t[r-1],l=t[0],c=t[1];var u=this.controlPoints(s,l,c);i=u[1],a=u[0]}else{var p=this.tangent(s,l,hN,fN);i=this.firstControlPoint(p,s,l,hN,fN)}for(var h=i,f=0;f<=r-3;f++)if(this.removeDuplicates(f,t),f+3<=(r=t.length)){s=t[f],l=t[f+1],c=t[f+2];var m=this.controlPoints(s,l,c);mP(n).controlOut(h),h=m[1];var g=m[0];n.push(new lR(l,g))}if(o){s=t[r-2],l=t[r-1],c=t[0];var v=this.controlPoints(s,l,c);mP(n).controlOut(h),n.push(new lR(l,v[0])),mP(n).controlOut(v[1]),n.push(new lR(c,a))}else{var y=this.tangent(l,c,hN,fN);mP(n).controlOut(h),n.push(new lR(c,this.secondControlPoint(y,l,c,hN,fN)))}return n},t.prototype.removeDuplicates=function(e,t){for(;t[e+1]&&(t[e].equals(t[e+1])||t[e+1].equals(t[e+2]));)t.splice(e+1,1)},t.prototype.invertAxis=function(e,t,n){var o=!1;if(e.x===t.x)o=!0;else if(t.x===n.x)(t.y<n.y&&e.y<=t.y||n.y<t.y&&t.y<=e.y)&&(o=!0);else{var r=this.lineFunction(e,t),i=this.calculateFunction(r,n.x);e.y<=t.y&&n.y<=i||t.y<=e.y&&n.y>=i||(o=!0)}return o},t.prototype.isLine=function(e,t,n){var o=this.lineFunction(e,t),r=this.calculateFunction(o,n.x);return e.x===t.x&&t.x===n.x||xP(r,1)===xP(n.y,1)},t.prototype.lineFunction=function(e,t){var n=(t.y-e.y)/(t.x-e.x);return[e.y-n*e.x,n]},t.prototype.controlPoints=function(e,t,n){var o,r=hN,i=fN,a=!1,s=!1;if(this.isLine(e,t,n))o=this.tangent(e,t,hN,fN);else{var l={x:this.isMonotonicByField(e,t,n,hN),y:this.isMonotonicByField(e,t,n,fN)};if(l.x&&l.y)o=this.tangent(e,n,hN,fN),a=!0;else if(this.invertAxis(e,t,n)&&(r=fN,i=hN),l[r])o=0;else o=.01*(n[i]<e[i]&&e[i]<=t[i]||e[i]<n[i]&&t[i]<=e[i]?$z((n[i]-e[i])*(t[r]-e[r])):-$z((n[r]-e[r])*(t[i]-e[i]))),s=!0}var c=this.secondControlPoint(o,e,t,r,i);if(s){var d=r;r=i,i=d}var u=this.firstControlPoint(o,t,n,r,i);return a&&(this.restrictControlPoint(e,t,c,o),this.restrictControlPoint(t,n,u,o)),[c,u]},t.prototype.restrictControlPoint=function(e,t,n,o){e.y<t.y?t.y<n.y?(n.x=e.x+(t.y-e.y)/o,n.y=t.y):n.y<e.y&&(n.x=t.x-(t.y-e.y)/o,n.y=e.y):n.y<t.y?(n.x=e.x-(e.y-t.y)/o,n.y=t.y):e.y<n.y&&(n.x=t.x+(e.y-t.y)/o,n.y=e.y)},t.prototype.tangent=function(e,t,n,o){var r,i=t[n]-e[n],a=t[o]-e[o];return r=0===i?0:a/i,r},t.prototype.isMonotonicByField=function(e,t,n,o){return n[o]>t[o]&&t[o]>e[o]||n[o]<t[o]&&t[o]<e[o]},t.prototype.firstControlPoint=function(e,t,n,o,r){var i=t[o],a=.333*(n[o]-i);return this.point(i+a,t[r]+a*e,o,r)},t.prototype.secondControlPoint=function(e,t,n,o,r){var i=t[o],a=n[o],s=.333*(a-i);return this.point(a-s,n[r]-s*e,o,r)},t.prototype.point=function(e,t,n,o){var r=new sO;return r[n]=e,r[o]=t,r},t.prototype.calculateFunction=function(e,t){for(var n=e.length,o=0,r=0;r<n;r++)o+=Math.pow(t,r)*e[r];return o},t}(uT);function $z(e){return e<=0?-1:1}const eB=Zz;var tB=function(e){function t(t){e.call(this),this._axis=t,this.options=t.options}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.value=function(e){var t=this._axis,n=t.getCategory?t.getCategory(e):t.getValue(e);return n},t.prototype.slot=function(e,t,n){return void 0===n&&(n=!0),this._axis.slot(e,t,n)},t.prototype.range=function(){return this._axis.range()},t.prototype.valueRange=function(){return this._axis.valueRange()},t}(uT);const nB=tB;function oB(e,t){for(var n=0;n<t.length;n++)if(t[n].options.name===e)return t[n].prepareUserOptions(),new nB(t[n])}var rB=function(e){this.visual=e.visual,this.chartsVisual=e.chartContainer.visual,this._pane=e};rB.prototype.findAxisByName=function(e){return oB(e,this._pane.axes)};const iB=rB;var aB=function(e){function t(t){e.call(this),this._plotArea=t,this.visual=t.visual,this.backgroundVisual=t._bgVisual}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(uT);const sB=aB;function lB(e){for(var t=e.length,n=0,o=0;o<t;o++){IN(e[o])&&n++}return n}var cB={min:function(e){for(var t=e.length,n=eN,o=0;o<t;o++){var r=e[o];IN(r)&&(n=Math.min(n,r))}return n===eN?e[0]:n},max:function(e){for(var t=e.length,n=tN,o=0;o<t;o++){var r=e[o];IN(r)&&(n=Math.max(n,r))}return n===tN?e[0]:n},sum:function(e){for(var t=e.length,n=0,o=0;o<t;o++){var r=e[o];IN(r)&&(n+=r)}return n},sumOrNull:function(e){var t=null;return lB(e)&&(t=cB.sum(e)),t},count:function(e){for(var t=e.length,n=0,o=0;o<t;o++){var r=e[o];null!==r&&lP(r)&&n++}return n},avg:function(e){var t=lB(e),n=e[0];return t>0&&(n=cB.sum(e)/t),n},first:function(e){for(var t=e.length,n=0;n<t;n++){var o=e[n];if(null!==o&&lP(o))return o}return e[0]}};const dB=cB;var uB=function(e){function t(){e.call(this),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.register=function(e,t,n){var o=this;void 0===t&&(t=[dN]),void 0===n&&(n={});for(var r=0;r<e.length;r++){var i=e[r];o._valueFields[i]=t,o._otherFields[i]=n,o._nullValue[i]=o._makeValue(t,null),o._undefinedValue[i]=o._makeValue(t,void 0)}},t.prototype.canonicalFields=function(e){return this.valueFields(e).concat(this.otherFields(e))},t.prototype.valueFields=function(e){return this._valueFields[e.type]||[dN]},t.prototype.otherFields=function(e){return this._otherFields[e.type]||[dN]},t.prototype.bindPoint=function(e,t,n){var o,r,i=e.data,a=lP(n)?n:i[t],s={valueFields:{value:a}},l=this.valueFields(e),c=this._otherFields[e.type];if(null===a)r=this._nullValue[e.type];else if(lP(a)){if(Array.isArray(a)){var d=a.slice(l.length);r=this._bindFromArray(a,l),o=this._bindFromArray(d,c)}else if("object"===typeof a){var u=this.sourceFields(e,l),p=this.sourceFields(e,c);r=this._bindFromObject(a,l,u),o=this._bindFromObject(a,c,p)}}else r=this._undefinedValue[e.type];return lP(r)&&(1===l.length?s.valueFields.value=r[l[0]]:s.valueFields=r),s.fields=o||{},s},t.prototype._makeValue=function(e,t){for(var n={},o=e.length,r=0;r<o;r++){n[e[r]]=t}return n},t.prototype._bindFromArray=function(e,t){var n={};if(t)for(var o=Math.min(t.length,e.length),r=0;r<o;r++)n[t[r]]=e[r];return n},t.prototype._bindFromObject=function(e,t,n){void 0===n&&(n=t);var o,r,i={};if(t)for(var a=t.length,s=0;s<a;s++){var l=t[s],c=n[s];null!==c&&(i[l]=(o=c,null===(r=e)?r:YN(o)(r)))}return i},t.prototype.sourceFields=function(e,t){var n=[];if(t)for(var o=t.length,r=0;r<o;r++){var i=t[r],a=i===dN?"field":i+"Field";n.push(null!==e[a]?e[a]||i:null)}return n},t}(uT);uB.current=new uB;const pB=uB;var hB=/percent(?:\w*)\((\d+)\)/,fB=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),mB=function(e){function t(t,n,o){e.call(this),this.initGlobalRanges(t,n,o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initGlobalRanges=function(e,t,n){var o=t.data,r=fB.exec(e);if(r){this.valueGetter=this.createValueGetter(t,n);var i=this.getAverage(o),a=this.getStandardDeviation(o,i,!1),s=r[1]?parseFloat(r[1]):1,l={low:i.value-a*s,high:i.value+a*s};this.globalRange=function(){return l}}else if(e.indexOf&&e.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(t,n);var c=this.getStandardError(o,this.getAverage(o));this.globalRange=function(e){return{low:e-c,high:e+c}}}},t.prototype.createValueGetter=function(e,t){var n,o=e.data,r=pB.current,i=r.valueFields(e),a=lP(o[0])?o[0]:{};if(vN(a))n=YN("["+(t?i.indexOf(t):0)+"]");else if(IN(a))n=YN();else if(typeof a===oN){n=YN(r.sourceFields(e,i)[i.indexOf(t)])}return n},t.prototype.getErrorRange=function(e,t){var n,o,r;if(!lP(t))return null;if(this.globalRange)return this.globalRange(e);if(vN(t))n=e-t[0],o=e+t[1];else if(IN(r=parseFloat(t)))n=e-r,o=e+r;else{if(!(r=hB.exec(t)))throw new Error("Invalid ErrorBar value: "+t);var i=e*(parseFloat(r[1])/100);n=e-Math.abs(i),o=e+Math.abs(i)}return{low:n,high:o}},t.prototype.getStandardError=function(e,t){return this.getStandardDeviation(e,t,!0)/Math.sqrt(t.count)},t.prototype.getStandardDeviation=function(e,t,n){for(var o=e.length,r=n?t.count-1:t.count,i=0,a=0;a<o;a++){var s=this.valueGetter(e[a]);IN(s)&&(i+=Math.pow(s-t.value,2))}return Math.sqrt(i/r)},t.prototype.getAverage=function(e){for(var t=e.length,n=0,o=0,r=0;r<t;r++){var i=this.valueGetter(e[r]);IN(i)&&(n+=i,o++)}return{value:n/o,count:o}},t}(uT);const gB=mB;var vB=lT.browser||{},yB=600,xB="fadeIn",bB=.8,wB=vB.msie?.001:0,kB="errorLow",CB="errorHigh",SB="zero",IB="interpolate",EB="above",_B="below",jB="smooth",AB="step",DB="area",NB="bar",TB="boxPlot",PB="bubble",MB="bullet",OB="candlestick",RB="column",FB="donut",LB="funnel",zB="pyramid",BB="heatmap",VB="horizontalWaterfall",HB="line",qB="ohlc",UB="pie",GB="polarArea",WB="polarLine",KB="polarScatter",YB="radarArea",XB="radarColumn",QB="radarLine",JB="rangeArea",ZB="rangeBar",$B="rangeColumn",eV="scatter",tV="scatterLine",nV="verticalArea",oV="verticalBoxPlot",rV="verticalBullet",iV="verticalLine",aV="verticalRangeArea",sV="waterfall",lV=[NB,RB,qB,OB,TB,oV,MB,$B,ZB,sV,VB],cV="exponentialTrendline",dV="linearTrendline",uV="logarithmicTrendline",pV="movingAverageTrendline",hV="polynomialTrendline",fV="powerTrendline",mV=[cV,dV,uV,pV,hV,fV],gV="legendItemClick",vV="seriesClick",yV="seriesHover",xV="seriesOver",bV="seriesLeave",wV="plotAreaHover",kV="plotAreaLeave",CV="drag",SV="dragEnd",IV="dragStart",EV="zoomStart",_V="zoom",jV="zoomEnd",AV="selectStart",DV="select",NV="selectEnd",TV="showTooltip",PV="hideTooltip",MV="graphics-symbol",OV="k-chart-point",RV="Point",FV="log",LV="category",zV="insideEnd",BV="outsideEnd",VV="wheel",HV="drilldown",qV="pattern",UV=function(e){function t(t,n,o,r,i,a){e.call(this,a),this.low=t,this.high=n,this.isVertical=o,this.chart=r,this.series=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t,n=this.options.endCaps,o=this.isVertical,r=this.getAxis().getSlot(this.low,this.high),i=e.center(),a=this.getCapsWidth(e,o),s=o?i.x:i.y,l=s-a,c=s+a;o?(t=[new $M(i.x,r.y1),new $M(i.x,r.y2)],n&&t.push(new $M(l,r.y1),new $M(c,r.y1),new $M(l,r.y2),new $M(c,r.y2)),this.box=new fO(l,r.y1,c,r.y2)):(t=[new $M(r.x1,i.y),new $M(r.x2,i.y)],n&&t.push(new $M(r.x1,l),new $M(r.x1,c),new $M(r.x2,l),new $M(r.x2,c)),this.box=new fO(r.x1,l,r.x2,c)),this.linePoints=t},t.prototype.getCapsWidth=function(e,t){var n=t?e.width():e.height();return Math.min(Math.floor(n/2),4)||4},t.prototype.createVisual=function(){var e=this,t=this.options,n=t.visual;n?this.visual=n({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:t.endCaps,color:t.color,line:t.line},createVisual:function(){e.createDefaultVisual();var t=e.visual;return delete e.visual,t}}):this.createDefaultVisual()},t.prototype.createDefaultVisual=function(){var t=this.options,n=this.linePoints,o={stroke:{color:t.color,width:t.line.width,dashType:t.line.dashType}};e.prototype.createVisual.call(this);for(var r=0;r<n.length;r+=2){var i=new LR(o).moveTo(n[r].x,n[r].y).lineTo(n[r+1].x,n[r+1].y);CN(i),this.visual.append(i)}},t}(cF);SP(UV,{animation:{type:xB,delay:yB},endCaps:!0,line:{width:2},zIndex:1});const GV=UV;var WV=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getAxis=function(){return this.chart.seriesValueAxis(this.series)},t}(GV);const KV=WV;function YV(e){for(var t=0;t<e.length;t++)if(lP(e[t].zIndex))return!0}function XV(e,t){null!==t&&e.push(t)}function QV(e){return lB(e)===e.length}function JV(e,t,n){var o=t.visible;if(lP(o))return o;var r=e.pointVisibility;return r?r[n]:void 0}function ZV(e){for(var t=e.data,n=[],o=0,r=0,i=0;i<t.length;i++){var a=pB.current.bindPoint(e,i),s=a.valueFields.value;EN(s)&&(s=parseFloat(s)),IN(s)?(a.visible=!1!==JV(e,a.fields,i),a.value=Math.abs(s),n.push(a),a.visible&&(o+=a.value),0!==s&&r++):n.push(null)}return{total:o,points:n,count:r}}function $V(e){for(var t=e.length,n=0,o=0;o<t;o++)n=Math.max(n,e[o].data.length);return n}function eH(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function tH(e,t,n,o){void 0===n&&(n={}),void 0===o&&(o=!1);var r=n.defaults=n.defaults||{},i=n.depth=n.depth||0,a=!1;if(n.excluded=n.excluded||[],i>5)return null;for(var s in e)if(!$N(s,n.excluded)&&aM(e,s)){var l=e[s];NN(l)?(a=!0,o||(e[s]=wP(l(t),r[s]))):ON(l)&&(o||(n.defaults=r[s]),n.depth++,a=tH(l,t,n,o)||a,n.depth--)}return a}function nH(e,t){for(var n=[],o=[].concat(t),r=0;r<e.length;r++){var i=e[r];$N(i.type,o)&&n.push(i)}return n}var oH=new WeakMap;function rH(e,t,n){if(null===t||"object"!==typeof t)return cz(n,e);var o=oH.get(t);return o||(o=cz(n,e),oH.set(t,o)),o}function iH(e){var t=e.overlay;return t&&t.gradient&&"none"!==t.gradient}function aH(e){return lP(e)&&null!==e}function sH(e,t){var n=e.type,o=t instanceof Date;return!n&&o||eH(n,GD)}function lH(e){return 1===e.length?e[0]:e}var cH=/area/i;function dH(e,t){var n=pB.current.bindPoint(e,null,t).valueFields;for(var o in n)if(_N(n[o]))return!0}function uH(e){var t,n,o=e.start,r=e.dir,i=e.min,a=e.max,s=e.getter,l=e.hasItem,c=e.series,d=o;do{l(d+=r)&&(t=dH(c,(n=s(d)).item))}while(i<=d&&d<=a&&!t);if(t)return n}function pH(e,t,n,o,r){var i=t.min,a=t.max,s=i>0&&i<n,l=a+1<n;if(s||l){var c,d,u,p=function(e){return e.missingValues?e.missingValues:cH.test(e.type)||e.stack?SB:IB}(e);if(p!==IB)s&&(c=o(i-1)),l&&(d=o(a+1));else s&&(c=dH(e,(u=o(i-1)).item)?u:uH({start:i,dir:-1,min:0,max:n-1,getter:o,hasItem:r,series:e})),l&&(d=dH(e,(u=o(a+1)).item)?u:uH({start:a,dir:1,min:0,max:n-1,getter:o,hasItem:r,series:e}));c&&(e._outOfRangeMinPoint=c),d&&(e._outOfRangeMaxPoint=d)}}var hH=function(e){function t(t,n){e.call(this,n),this.plotArea=t,this.chartService=t.chartService,this.categoryAxis=t.seriesCategoryAxis(n.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},t.prototype.pointOptions=function(e,t){var n=this.seriesOptions[t];if(!n){var o=this.pointType().prototype.defaults;this.seriesOptions[t]=n=MN({},o,{vertical:!this.options.invertAxes},e)}return n},t.prototype.plotValue=function(e){if(!e)return 0;if(this.options.isStacked100&&IN(e.value)){for(var t=e.categoryIx,n=this.categoryPoints[t],o=[],r=0,i=0;i<n.length;i++){var a=n[i];if(a){var s=e.series.stack,l=a.series.stack;if(s&&l&&s.group!==l.group)continue;IN(a.value)&&(r+=Math.abs(a.value),o.push(Math.abs(a.value)))}}if(r>0)return e.value/r}return e.value},t.prototype.plotRange=function(e,t){var n=this;void 0===t&&(t=0);var o=this.categoryPoints[e.categoryIx];if(this.options.isStacked){var r=this.plotValue(e),i=r>=0,a=t,s=!1,l=lP(e.series.stack)?e.series.stack:this.options.defaultStack,c=function(e){return!0===e||typeof e===oN&&!e.group};if(l)for(var d=0;d<o.length;d++){var u=o[d];if(e===u)break;var p=lP(u.series.stack)?u.series.stack:n.options.defaultStack;if(p&&((typeof l!==lN||l===p)&&(!c(l)||c(p))&&(!l.group||l.group===p.group))){var h=n.plotValue(u);(h>=0&&i||h<0&&!i)&&(0!==t&&0===h||(a+=h,r+=h,s=!0,n.options.isStacked100&&(r=Math.min(r,1))))}}return s&&(a-=t),[a,r]}var f=e.series,m=this.seriesValueAxis(f),g=this.categoryAxisCrossingValue(m);return[g,_N(e.value)?e.value:g]},t.prototype.stackLimits=function(e,t){for(var n=eN,o=tN,r=0;r<this.categoryPoints.length;r++){var i=this.categoryPoints[r];if(i)for(var a=0;a<i.length;a++){var s=i[a];if(s&&(s.series.stack===t||s.series.axis===e)){var l=this.plotRange(s,0)[1];lP(l)&&isFinite(l)&&(o=Math.max(o,l),n=Math.min(n,l))}}}return{min:n,max:o}},t.prototype.updateStackRange=function(){var e=this,t=this.options,n=t.isStacked,o=t.series,r={};if(n)for(var i=0;i<o.length;i++){var a=o[i],s=a.axis,l=s+a.stack,c=r[l];if(!c){c=e.stackLimits(s,a.stack);var d=e.errorTotals;d&&(d.negative.length&&(c.min=Math.min(c.min,TP(d.negative).min)),d.positive.length&&(c.max=Math.max(c.max,TP(d.positive).max))),c.min!==eN||c.max!==tN?r[l]=c:c=null}c&&(e.valueAxisRanges[s]=c)}},t.prototype.addErrorBar=function(e,t,n){var o,r=e.value,i=e.series,a=e.seriesIx,s=e.options.errorBars,l=t.fields[kB],c=t.fields[CB];IN(l)&&IN(c)?o={low:l,high:c}:s&&lP(s.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[a]=this.seriesErrorRanges[a]||new gB(s.value,i,dN),o=this.seriesErrorRanges[a].getErrorRange(r,s.value)),o&&(e.low=o.low,e.high=o.high,this.addPointErrorBar(e,n))},t.prototype.addPointErrorBar=function(e,t){var n=!this.options.invertAxes,o=e.options.errorBars,r=e.series,i=e.low,a=e.high;if(this.options.isStacked){var s=this.stackedErrorRange(e,t);i=s.low,a=s.high}else{var l={categoryIx:t,series:r};this.updateRange({value:i},l),this.updateRange({value:a},l)}var c=new KV(i,a,n,this,r,o);e.errorBars=[c],e.append(c)},t.prototype.stackedErrorRange=function(e,t){var n=this.plotRange(e,0)[1]-e.value,o=e.low+n,r=e.high+n;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},o<0&&(this.errorTotals.negative[t]=Math.min(this.errorTotals.negative[t]||0,o)),r>0&&(this.errorTotals.positive[t]=Math.max(this.errorTotals.positive[t]||0,r)),{low:o,high:r}},t.prototype.addValue=function(e,t){var n=t.categoryIx,o=t.series,r=t.seriesIx,i=this.categoryPoints[n];i||(this.categoryPoints[n]=i=[]);var a=this.seriesPoints[r];a||(this.seriesPoints[r]=a=[]);var s=this.createPoint(e,t);s&&(Object.assign(s,t),s.owner=this,s.noteText=e.fields.noteText,lP(s.dataItem)||(s.dataItem=o.data[n]),this.addErrorBar(s,e,n)),this.points.push(s),a.push(s),i.push(s),this.updateRange(e.valueFields,t)},t.prototype.evalPointOptions=function(e,t,n){var o=n.categoryIx,r=n.category,i=n.series,a=n.seriesIx,s={defaults:i._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]},l=this._evalSeries[a];lP(l)||(this._evalSeries[a]=l=tH(e,{},s,!0));var c=e;return l&&tH(c=MN({},c),{value:t,category:r,index:o,series:i,dataItem:i.data[o]},s),c},t.prototype.updateRange=function(e,t){var n=t.series.axis,o=e.value,r=this.valueAxisRanges[n];isFinite(o)&&null!==o&&((r=this.valueAxisRanges[n]=r||{min:eN,max:tN}).min=Math.min(r.min,o),r.max=Math.max(r.max,o))},t.prototype.seriesValueAxis=function(e){var t=this.plotArea,n=e.axis,o=n?t.namedValueAxes[n]:t.valueAxis;if(!o)throw new Error("Unable to locate value axis with name "+n);return o},t.prototype.reflow=function(e){var t=this,n=this.categorySlots=[],o=this.points,r=this.categoryAxis,i=0;this.traverseDataPoints((function(e,a){var s=a.categoryIx,l=a.series,c=t.seriesValueAxis(l),d=o[i++],u=n[s];if(u||(n[s]=u=t.categorySlot(r,s,c)),d){var p=t.plotRange(d,c.startValue()),h=t.valueSlot(c,p);if(h){var f=t.pointSlot(u,h);d.aboveAxis=t.aboveAxis(d,c),d.stackValue=p[1],t.options.isStacked100&&(d.percentage=t.plotValue(d)),t.reflowPoint(d,f)}else d.visible=!1}})),this.reflowCategories(n),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=e},t.prototype.valueSlot=function(e,t){return e.getSlot(t[0],t[1],!this.options.clip)},t.prototype.limitPoints=function(){for(var e=this.categoryPoints,t=e[0].concat(mP(e)),n=0;n<t.length;n++)t[n]&&this.limitPoint(t[n])},t.prototype.limitPoint=function(e){var t=this.categoryAxis.limitSlot(e.box);t.equals(e.box)||e.reflow(t)},t.prototype.aboveAxis=function(e,t){var n=this.categoryAxisCrossingValue(t),o=e.value;return t.options.reverse?o<n:o>=n},t.prototype.categoryAxisCrossingValue=function(e){var t=this.categoryAxis,n=e.options;return[].concat(n.axisCrossingValues||n.axisCrossingValue)[t.axisIndex||0]||0},t.prototype.reflowPoint=function(e,t){e.reflow(t)},t.prototype.reflowCategories=function(){},t.prototype.pointSlot=function(e,t){var n=this.options.invertAxes,o=n?t:e,r=n?e:t;return new fO(o.x1,r.y1,o.x2,r.y2)},t.prototype.categorySlot=function(e,t){return e.getSlot(t)},t.prototype.traverseDataPoints=function(e){for(var t=this,n=this.options.series,o=$V(n),r=n.length,i=0;i<r;i++)t._outOfRangeCallback(n[i],"_outOfRangeMinPoint",i,e);for(var a=0;a<o;a++)for(var s=0;s<r;s++){var l=n[s],c=t.categoryAxis.categoryAt(a);e(t.plotArea.bindPoint(l,a),{category:c,categoryIx:a,categoriesCount:o,series:l,seriesIx:s})}for(var d=0;d<r;d++)t._outOfRangeCallback(n[d],"_outOfRangeMaxPoint",d,e)},t.prototype._outOfRangeCallback=function(e,t,n,o){var r=e[t];if(r){var i=r.categoryIx;o(this.plotArea.bindPoint(e,i,r.item),{category:r.category,categoryIx:i,series:e,seriesIx:n,dataItem:r.item})}},t.prototype.formatPointValue=function(e,t){return null===e.value?"":this.chartService.format.auto(t,e.value)},t.prototype.pointValue=function(e){return e.valueFields.value},t}(cF);SP(hH,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});const fH=hH;var mH={click:function(e,t){return e.trigger(vV,this.eventArgs(t))},hover:function(e,t){return e.trigger(yV,this.eventArgs(t))},over:function(e,t){return e.trigger(xV,this.eventArgs(t))},out:function(e,t){return e.trigger(bV,this.eventArgs(t))},eventArgs:function(e){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:hP(e),originalEvent:e,point:this}}};const gH=mH;var vH={createNote:function(){var e=this.options.notes,t=this.noteText||e.label.text;!1!==e.visible&&lP(t)&&null!==t&&(this.note=new hL({value:this.value,text:t,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}};const yH=vH;var xH=function(e){function t(t,n){e.call(this),this.value=t,this.options=n,this.aboveAxis=wP(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=pM()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.options.markers;this._rendered||(this._rendered=!0,e.visible&&e.size&&(this.marker=this.createMarker(),this.append(this.marker)),this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},t.prototype.createLabel=function(){var e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))},t.prototype.createLabelElement=function(e){return new aL(this.getLabelText(e),MN({align:HD,vAlign:HD,margin:{left:5,right:5},zIndex:wP(e.zIndex,this.series.zIndex)},e),this.pointData())},t.prototype.getLabelText=function(e){var t=UN(e);return t?t(this.pointData()):e.format?this.formatValue(e.format):this.value},t.prototype.getAriaLabelText=function(){var e=this.options.labels,t=GN(e);return t?t(this.pointData()):this.getLabelText(e)},t.prototype.markerBorder=function(){var e=this.options.markers,t=e.background,n=MN({color:this.color},e.border);return lP(n.color)||(n.color=new QP(t).brightness(bB).toHex()),n},t.prototype.createVisual=function(){},t.prototype.createMarker=function(){var e=this.options.markers;return new TF({type:e.type,width:e.size,height:e.size,rotation:e.rotation,background:e.background,border:this.markerBorder(),opacity:e.opacity,pattern:this.options.pattern,zIndex:wP(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual,accessibilityOptions:MN({ariaLabel:this.getAriaLabelText(this.options.labels)},this.options.accessibility)},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})},t.prototype.markerBox=function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},t.prototype.reflow=function(e){var t=this.options,n=this.aboveAxis,o=t.vertical;this.render(),this.box=e;var r=e.clone();if(o?n?r.y1-=r.height():r.y2+=r.height():n?r.x1+=r.width():r.x2-=r.width(),this._childBox=r,this.marker&&this.marker.reflow(r),this.reflowLabel(r),this.errorBars)for(var i=0;i<this.errorBars.length;i++)this.errorBars[i].reflow(r);if(this.note){var a=this.markerBox();if(!t.markers.visible||!t.markers.size){var s=a.center();a=new fO(s.x,s.y,s.x,s.y)}this.note.reflow(a)}},t.prototype.reflowLabel=function(e){var t=this.options,n=this.label,o=t.labels.position;n&&(o=(o=o===EB?cN:o)===_B?VD:o,n.reflow(e),n.box.alignTo(this.markerBox(),o),n.reflow(n.box))},t.prototype.createHighlight=function(){var e=this.options.highlight.markers,t=this.markerBorder().color,n=this.options.markers,o=n.size+(n.border.width||0)+(e.border.width||0),r=new TF({type:n.type,width:o,height:o,rotation:n.rotation,background:e.color||t,border:{color:e.border.color,width:e.border.width,opacity:wP(e.border.opacity,1)},opacity:wP(e.opacity,1)});return r.reflow(this._childBox),r.getElement()},t.prototype.highlightVisual=function(){return(this.marker||{}).visual},t.prototype.highlightVisualArgs=function(){var e,t,n=this.marker;if(n)t=n.paddingBox.toRect(),e=n.visual;else{var o=this.options.markers.size,r=o/2,i=this.box.center();t=new uO([i.x-r,i.y-r],[o,o])}return{options:this.options,rect:t,visual:e}},t.prototype.createFocusHighlight=function(){var e=this.options.markers,t=this.options.focusHighlight,n=e.size+(e.border.width||0),o=new TF({type:e.type,width:n,height:n,rotation:e.rotation,background:t.color,border:t.border,opacity:t.opacity,padding:t.border.width/2,zIndex:t.zIndex});return o.reflow(this._childBox),o.getElement()},t.prototype.tooltipAnchor=function(){var e=this.markerBox(),t=this.owner.pane.clipBox();if(!t||t.overlaps(e)){var n,o,r=e.x2+5,i=$D;return this.aboveAxis?(n=e.y1,o=VD):(n=e.y2,o=cN),{point:new $M(r,n),align:{horizontal:i,vertical:o}}}},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.overlapsBox=function(e){return this.markerBox().overlaps(e)},t.prototype.unclipElements=function(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)},t.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}},t.prototype.focusVisual=function(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",this._id),this.toggleFocusHighlight(!0))},t.prototype.clearFocusFromVisual=function(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",""),this.toggleFocusHighlight(!1))},t.prototype.getIndex=function(){return lP(this.categoryIx)?this.categoryIx:this.pointIx},t}(cF);xH.prototype.defaults={vertical:!0,markers:{visible:!0,background:uN,size:8,type:qD,border:{width:2},opacity:1},labels:{visible:!1,position:EB,margin:BN(3),padding:BN(4),animation:{type:xB,delay:yB}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}},accessibility:{tabIndex:0,role:MV,className:OV,ariaRoleDescription:RV}},MN(xH.prototype,gH),MN(xH.prototype,yH);const bH=xH;var wH=function(e){function t(t,n,o){e.call(this),this.linePoints=t,this.series=n,this.seriesIx=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.points=function(){return this.toGeometryPoints(this.linePoints)},t.prototype.toGeometryPoints=function(e){for(var t=[],n=0,o=e.length;n<o;n++)e[n]&&!1!==e[n].visible&&t.push(e[n]._childBox.toRect().center());return t},t.prototype.createVisual=function(){var e=this,t=this.series.visual;t?(this.visual=t({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:function(){return e.segmentVisual(),e.visual}}),this.visual&&!lP(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()},t.prototype.segmentVisual=function(){var e=this.options,t=this.series,n=t.color,o=t._defaults;NN(n)&&o&&(n=o.color);var r=LR.fromPoints(this.points(),{stroke:{color:n,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});e.closed&&r.close(),this.visual=r},t.prototype.aliasFor=function(e,t){return this.parent.getNearestPoint(t.x,t.y,this.seriesIx)},t}(cF);SP(wH,{closed:!1});const kH=wH;var CH={calculateStepPoints:function(e){for(var t=this.parent.plotArea.seriesCategoryAxis(this.series).options,n=t.justified,o=t.vertical,r=t.reverse,i=o?hN:fN,a=o?fN:hN,s=r?2:1,l=s,c=SH(e[0],i,s,a,l),d=[c],u=1;u<e.length;u++){var p=SH(e[u],i,s,a,l);if(c[i]!==p[i]){var h=new sO;h[i]=c[i],h[a]=p[a],d.push(h,p)}c=p}return n?c!==mP(d)&&d.push(c):d.push(SH(mP(e),i,s,a,r?1:2)),d}};function SH(e,t,n,o,r){var i=e.box,a=new sO;return a[t]=i[t+n],a[o]=i[o+r],a}const IH=CH;var EH=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.points=function(){return this.calculateStepPoints(this.linePoints)},t}(kH);MN(EH.prototype,IH);const _H=EH;var jH=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.segmentVisual=function(){var e=this.series,t=e._defaults,n=e.color;NN(n)&&t&&(n=t.color);var o=new eB(this.options.closed).process(this.points()),r=new LR({stroke:{color:n,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});r.segments.push.apply(r.segments,o),this.visual=r},t}(kH);const AH=jH;var DH={renderSegments:function(){var e,t=this,n=this.options,o=this.seriesPoints,r=n.series,i=o.length;this._segments=[];for(var a=0;a<i;a++){for(var s=r[a],l=t.sortPoints(o[a]),c=l.length,d=[],u=0;u<c;u++){var p=l[u];p?d.push(p):t.seriesMissingValues(s)!==IB&&(d.length>1&&(e=t.createSegment(d,s,a,e),t._addSegment(e)),d=[])}d.length>1&&(e=t.createSegment(d,s,a,e),t._addSegment(e))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(e){this._segments.push(e),e.parent=this},sortPoints:function(e){return e},seriesMissingValues:function(e){var t=e.missingValues;return!t&&this.options.isStacked?SB:t||IB},getNearestPoint:function(e,t,n){for(var o,r=new $M(e,t),i=this.seriesPoints[n],a=eN,s=0;s<i.length;s++){var l=i[s];if(l&&lP(l.value)&&null!==l.value&&!1!==l.visible){var c=l.box.center().distanceTo(r);c<a&&(o=l,a=c)}}return o}};const NH=DH;var TH=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){this._setEnd(this.options.box.x1)},t.prototype.step=function(e){var t=this.options.box;this._setEnd(tT(t.x1,t.x2,e))},t.prototype._setEnd=function(e){var t=this.element,n=t.segments,o=n[1].anchor(),r=n[2].anchor();t.suspend(),o.setX(e),t.resume(),r.setX(e)},t}(sF);SP(TH,{duration:yB}),iF.current.register("clip",TH);const PH=TH;var MH={createAnimation:function(){var e=this.getRoot();if(e&&!1!==(e.options||{}).transitions){var t=e.size(),n=LR.fromRect(t.toRect());this.visual.clip(n),this.animation=new PH(n,{box:t}),YV(this.options.series)&&this._setChildrenAnimation(n)}},_setChildrenAnimation:function(e){for(var t=this.animationPoints(),n=0;n<t.length;n++){var o=t[n];o&&o.visual&&lP(o.visual.options.zIndex)&&o.visual.clip(e)}}};const OH=MH;var RH=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){e.prototype.render.call(this),this.updateStackRange(),this.renderSegments()},t.prototype.pointType=function(){return bH},t.prototype.createPoint=function(e,t){var n=t.series,o=t.seriesIx,r=this.seriesMissingValues(n),i=e.valueFields.value;if(!lP(i)||null===i){if(r!==SB)return null;i=0}var a=this.pointOptions(n,o);a=this.evalPointOptions(a,i,t);var s=e.fields.color||n.color;NN(n.color)&&(s=a.color);var l=new bH(i,a);return l.color=s,this.append(l),l},t.prototype.plotRange=function(e){var t=this.plotValue(e);if(this.options.isStacked)for(var n=e.categoryIx,o=this.categoryPoints[n],r=0;r<o.length;r++){var i=o[r];if(e===i)break;t+=this.plotValue(i),this.options.isStacked100&&(t=Math.min(t,1))}return[t,t]},t.prototype.createSegment=function(e,t,n){var o=t.style;return new(o===AB?_H:o===jB?AH:kH)(e,t,n)},t.prototype.animationPoints=function(){for(var e=this.points,t=[],n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t.concat(this._segments)},t.prototype.supportsPointInactiveOpacity=function(){return!1},t}(fH);MN(RH.prototype,NH,OH);const FH=RH;var LH=function(e){function t(t,n,o,r,i){e.call(this,t,n,o),this.prevSegment=r,this.stackPoints=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createVisual=function(){var e=this.series,t=e._defaults,n=e.line||{},o=e.color;NN(o)&&t&&(o=t.color),this.visual=new JR({zIndex:e.zIndex}),this.createFill({fill:_F(e.pattern,{color:o,opacity:e.opacity}),stroke:null}),n.width>0&&!1!==n.visible&&this.createStroke({stroke:MN({color:o,opacity:e.opacity,lineCap:"butt"},n)})},t.prototype.strokeSegments=function(){var e=this._strokeSegments;return e||(e=this._strokeSegments=this.createStrokeSegments()),e},t.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.points())},t.prototype.stackSegments=function(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)},t.prototype.createStackSegments=function(e){return this.segmentsFromPoints(this.toGeometryPoints(e)).reverse()},t.prototype.segmentsFromPoints=function(e){return e.map((function(e){return new lR(e)}))},t.prototype.createStroke=function(e){var t=new LR(e);t.segments.push.apply(t.segments,this.strokeSegments()),this.visual.append(t)},t.prototype.hasStackSegment=function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length},t.prototype.createFill=function(e){var t=this.strokeSegments(),n=t.slice(0),o=this.hasStackSegment();if(o){var r=this.stackSegments();aP(n,r)}var i=new LR(e);i.segments.push.apply(i.segments,n),!o&&t.length>1&&this.fillToAxes(i),this.visual.append(i)},t.prototype.fillToAxes=function(e){var t=this.parent,n=t.options.invertAxes,o=t.seriesValueAxis(this.series),r=t.categoryAxisCrossingValue(o),i=o.getSlot(r,r,!0),a=this.strokeSegments(),s=a[0].anchor(),l=mP(a).anchor(),c=n?i.x1:i.y1;n?e.lineTo(c,l.y).lineTo(c,s.y):e.lineTo(l.x,c).lineTo(s.x,c)},t}(kH);const zH=LH;var BH=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))},t.prototype.createStackSegments=function(e){return this.segmentsFromPoints(this.calculateStepPoints(e)).reverse()},t}(zH);MN(BH.prototype,IH);const VH=BH;var HH=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createStrokeSegments=function(){var e=new eB(this.options.closed),t=this.points();return e.process(t)},t.prototype.createStackSegments=function(){for(var e=this.strokeSegments(),t=[],n=e.length-1;n>=0;n--){var o=e[n];t.push(new lR(o.anchor(),o.controlOut(),o.controlIn()))}return t},t}(zH);const qH=HH;var UH=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createSegment=function(e,t,n,o){var r,i,a=this.options.isStacked,s=(t.line||{}).style;a&&n>0&&o&&("gap"!==this.seriesMissingValues(t)?(i=o.linePoints,r=o):i=this._gapStackPoints(e,n,s));return new(s===AB?VH:s===jB?qH:zH)(e,t,n,r,i)},t.prototype.reflow=function(t){e.prototype.reflow.call(this,t);var n=this._stackPoints;if(n)for(var o=0;o<n.length;o++){var r=n[o],i=this.categoryAxis.getSlot(r.categoryIx);r.reflow(i)}},t.prototype._gapStackPoints=function(e,t,n){var o=this,r=this.seriesPoints,i=e[0].categoryIx,a=e.length;i<0&&(i=0,a--);var s=i+a,l=this.seriesOptions[0]._outOfRangeMinPoint?1:0,c=[];this._stackPoints=this._stackPoints||[];for(var d=i;d<s;d++){var u=d+l,p=t,h=void 0;do{h=r[--p][u]}while(p>0&&!h);if(h)n!==AB&&d>i&&!r[p][u-1]&&c.push(o._previousSegmentPoint(d,u,u-1,p)),c.push(h),n!==AB&&d+1<s&&!r[p][u+1]&&c.push(o._previousSegmentPoint(d,u,u+1,p));else{var f=o._createGapStackPoint(d);o._stackPoints.push(f),c.push(f)}}return c},t.prototype._previousSegmentPoint=function(e,t,n,o){for(var r,i=this.seriesPoints,a=o;a>0&&!r;)r=i[--a][n];return r?r=i[a][t]:(r=this._createGapStackPoint(e),this._stackPoints.push(r)),r},t.prototype._createGapStackPoint=function(e){var t=this.pointOptions({},0),n=new bH(0,t);return n.categoryIx=e,n.series={},n},t.prototype.seriesMissingValues=function(e){return e.missingValues||SB},t.prototype.supportsPointInactiveOpacity=function(){return!1},t}(FH);const GH=UH;var WH=function(e){function t(){e.call(this),this.axisRanges={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(e){var t=this.axisRanges;for(var n in e){var o=e[n],r=t[n];t[n]=r=r||{min:eN,max:tN},r.min=Math.min(r.min,o.min),r.max=Math.max(r.max,o.max)}},t.prototype.reset=function(e){this.axisRanges[e]=void 0},t.prototype.query=function(e){return this.axisRanges[e]},t}(uT);const KH=WH;var YH=function(e){function t(t,n,o){e.call(this,n),this.textBox=new aL(t,this.options,o),this.append(this.textBox)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createVisual=function(){this.textBox.options.noclip=this.options.noclip},t.prototype.reflow=function(e){var t=this.options,n=t.vertical,o=t.aboveAxis,r=this.children[0],i=r.options,a=r.box,s=r.options.padding,l=e;if(i.align=n?HD:$D,i.vAlign=n?cN:HD,t.position===zV)n?(i.vAlign=cN,!o&&a.height()<e.height()&&(i.vAlign=VD)):i.align=o?iN:$D;else if(t.position===HD)i.vAlign=HD,i.align=HD;else if("insideBase"===t.position)n?i.vAlign=o?VD:cN:i.align=o?$D:iN;else if(t.position===BV)if(n)if(o){var c=(a.width()-e.width()-s.left-s.right)/2;l=new fO(e.x1-c,e.y1-a.height(),e.x2+c,e.y1)}else l=new fO(e.x1,e.y2,e.x2,e.y2+a.height());else i.align=HD,l=o?new fO(e.x2,e.y1,e.x2+a.width(),e.y2):new fO(e.x1-a.width(),e.y1,e.x1,e.y2);t.rotation||(n?s.left=s.right=(l.width()-r.contentBox.width())/2:s.top=s.bottom=(l.height()-r.contentBox.height())/2),r.reflow(l)},t.prototype.alignToClipBox=function(e){var t=this.options.vertical?fN:hN,n=t+"1",o=t+"2",r=this.children[0],i=this.parent.box;if(i[n]<e[n]||e[o]<i[o]){var a=r.paddingBox.clone();a[n]=Math.max(i[n],e[n]),a[o]=Math.min(i[o],e[o]),this.reflow(a)}},t}(cF);SP(YH,{position:BV,margin:BN(3),padding:BN(4),color:BD,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:xB,delay:yB},zIndex:2});const XH=YH;const QH={addAccessibilityAttributesToVisual:function(){this._id=this._id||pM();var e=MN({ariaLabel:this.getAriaLabelText()},this.options.accessibility);DF(this.visual,e)},getAriaLabelText:function(){var e=this.options.labels,t=GN(e);return t?t(this.pointData()):this.getLabelText(e)},focusVisual:function(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0)},clearFocusFromVisual:function(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1)}};var JH=function(e){function t(t,n){e.call(this),this.options=n,this.color=n.color||uN,this.aboveAxis=wP(this.options.aboveAxis,!0),this.value=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},t.prototype.createLabel=function(){var e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))},t.prototype.createLabelElement=function(e){return new XH(this.getLabelText(e),MN({vertical:this.options.vertical},e),this.pointData())},t.prototype.getLabelText=function(e){var t=UN(e);return t?t(this.pointData()):this.formatValue(e.format)},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.reflow=function(e){this.render();var t=this.label;if(this.box=e,t&&(t.options.aboveAxis=this.aboveAxis,t.reflow(e)),this.note&&this.note.reflow(e),this.errorBars)for(var n=0;n<this.errorBars.length;n++)this.errorBars[n].reflow(e)},t.prototype.createVisual=function(){var t=this,n=this.box,o=this.options,r=o.visual;if(!1!==this.visible)if(e.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual(),r){var i=this.rectVisual=r({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:n.toRect(),createVisual:function(){var e=new JR;return t.createRect(e),e},options:o});i&&this.visual.append(i)}else n.width()>0&&n.height()>0&&this.createRect(this.visual)},t.prototype.createRect=function(e){var t=this.options,n=t.border,o=lP(n.opacity)?n.opacity:t.opacity,r=this.box.toRect();r.size.width=Math.round(r.size.width);var i=this.rectVisual=LR.fromRect(r,{fill:_F(t.pattern,{color:this.color,opacity:t.opacity}),stroke:{color:this.getBorderColor(),width:n.width,opacity:o,dashType:n.dashType}}),a=this.box.width(),s=this.box.height();if((t.vertical?a:s)>6&&(CN(i),(a<1||s<1)&&(i.options.stroke.lineJoin="round")),e.append(i),iH(t)){var l=this.createGradientOverlay(i,{baseColor:this.color},MN({end:t.vertical?void 0:[0,1]},t.overlay));e.append(l)}},t.prototype.createHighlight=function(e){return CN(LR.fromRect(this.box.toRect(),e))},t.prototype.highlightVisual=function(){return this.rectVisual},t.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},t.prototype.createFocusHighlight=function(e){var t=this.options.focusHighlight.border.width;return CN(LR.fromRect(this.box.pad(t/2).toRect(),e))},t.prototype.getBorderColor=function(){var e=this.color,t=this.options.border,n=t._brightness||bB,o=t.color;return lP(o)||(o=new QP(e).brightness(n).toHex()),o},t.prototype.tooltipAnchor=function(){var e,t,n=this,o=n.options,r=n.box,i=n.aboveAxis,a=this.owner.pane.clipBox()||r,s=$D,l=cN;if(o.vertical)e=Math.min(r.x2,a.x2)+5,i?t=Math.max(r.y1,a.y1):(t=Math.min(r.y2,a.y2),l=VD);else{var c=Math.max(r.x1,a.x1),d=Math.min(r.x2,a.x2);o.isStacked?(l=VD,i?(s=iN,e=d):e=c,t=Math.max(r.y1,a.y1)-5):(i?e=d+5:(e=c-5,s=iN),t=Math.max(r.y1,a.y1))}return{point:new $M(e,t),align:{horizontal:s,vertical:l}}},t.prototype.overlapsBox=function(e){return this.box.overlaps(e)},t.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}},t.prototype.getIndex=function(){return this.categoryIx},t}(cF);MN(JH.prototype,gH),MN(JH.prototype,yH),MN(JH.prototype,QH),JH.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}},accessibility:{role:MV,className:OV,ariaRoleDescription:RV}};const ZH=JH;function $H(e,t){e.forEach(t)}function eq(e,t){for(var n=e.length,o=n-1;o>=0;o--)t(e[o],o-n-1)}var tq=function(e){function t(t){e.call(this,t),this.forEach=t.rtl?eq:$H}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this.options,n=t.vertical,o=t.gap,r=t.spacing,i=this.children,a=i.length,s=n?fN:hN,l=a+o+r*(a-1),c=(n?e.height():e.width())/l,d=e[s+1]+c*(o/2);this.forEach(i,(function(t,n){var o=(t.box||e).clone();o[s+1]=d,o[s+2]=d+c,t.reflow(o),n<a-1&&(d+=c*r),d+=c}))},t}(cF);SP(tq,{vertical:!1,gap:0,spacing:0});const nq=tq;var oq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){for(var t=this.options.vertical?hN:fN,n=this.children,o=n.length,r=this.box=new fO,i=0;i<o;i++){var a=n[i];if(!1!==a.visible){var s=a.box.clone();s.snapTo(e,t),0===i&&(r=this.box=s.clone()),a.reflow(s),r.wrap(s)}}},t}(cF);SP(oq,{vertical:!0});const rq=oq;var iq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){e.prototype.render.call(this),this.updateStackRange()},t.prototype.pointType=function(){return ZH},t.prototype.clusterType=function(){return nq},t.prototype.stackType=function(){return rq},t.prototype.stackLimits=function(t,n){return e.prototype.stackLimits.call(this,t,n)},t.prototype.createPoint=function(e,t){var n=t.categoryIx,o=t.series,r=t.seriesIx,i=this.options,a=this.children,s=lP(o.stack)?o.stack:i.defaultStack,l=this.pointValue(e),c=this.pointOptions(o,r),d=c.labels;s&&d.position===BV&&(d.position=zV),c.isStacked=s;var u=e.fields.color||o.color;l<0&&c.negativeColor&&(u=c.negativeColor),c=this.evalPointOptions(c,l,t),NN(o.color)&&(u=c.color);var p=new(this.pointType())(l,c);p.color=u;var h=a[n];h||(h=new(this.clusterType())({vertical:i.invertAxes,gap:i.gap,spacing:i.spacing,rtl:!i.invertAxes&&(this.chartService||{}).rtl}),this.append(h));i.isStacked?this.getStackWrap(s,h).append(p):h.append(p);return p},t.prototype.getStackWrap=function(e,t){var n,o=typeof e===oN?e.group||!0:e,r=t.children;if(typeof o===lN||!0===o)for(var i=0;i<r.length;i++)if(r[i]._stackGroup===o){n=r[i];break}n||((n=new(this.stackType())({vertical:!this.options.invertAxes}))._stackGroup=o,t.append(n));return n},t.prototype.categorySlot=function(e,t,n){var o=this.options,r=e.getSlot(t),i=n.startValue();if(o.isStacked){var a=n.getSlot(i,i,!0),s=o.invertAxes?hN:fN;r[s+1]=r[s+2]=a[s+1]}return r},t.prototype.reflowCategories=function(e){for(var t=this.children,n=t.length,o=0;o<n;o++)t[o].reflow(e[o])},t.prototype.createAnimation=function(){this._setAnimationOptions(),e.prototype.createAnimation.call(this),YV(this.options.series)&&this._setChildrenAnimation()},t.prototype._setChildrenAnimation=function(){for(var e=this.points,t=0;t<e.length;t++){var n=e[t],o=n.visual;o&&lP(o.options.zIndex)&&(n.options.animation=this.options.animation,n.createAnimation())}},t.prototype._setAnimationOptions=function(){var e,t=this.options,n=t.animation||{};if(t.isStacked){var o=this.seriesValueAxis(t.series[0]);e=o.getSlot(o.startValue())}else e=this.categoryAxis.getSlot(0);n.origin=new sO(e.x1,e.y1),n.vertical=!t.invertAxes},t}(fH);SP(iq,{animation:{type:NB}});const aq=iq;var sq=function(e){function t(t,n){e.call(this,n),this.value=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getLabelText=function(e){return this.formatValue(e.format)},t.prototype.reflow=function(e){var t=this,n=t.options,o=t.value,r=t.owner.seriesValueAxis(n),i=r.getSlot(o.open,o.close),a=r.getSlot(o.low,o.high);i.x1=a.x1=e.x1,i.x2=a.x2=e.x2,this.realBody=i;var s=a.center().x,l=[];l.push([[s,a.y1],[s,i.y1]]),l.push([[s,i.y2],[s,a.y2]]),this.lines=l,this.box=a.clone().wrap(i),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()},t.prototype.reflowNote=function(){this.note&&this.note.reflow(this.box)},t.prototype.createVisual=function(){e.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual(),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()},t.prototype.mainVisual=function(e){var t=new JR;return this.createBody(t,e),this.createLines(t,e),t},t.prototype.createBody=function(e,t){var n=LR.fromRect(this.realBody.toRect(),{fill:_F(t.pattern,{color:this.color,opacity:t.opacity}),stroke:null});t.border.width>0&&n.options.set("stroke",{color:this.getBorderColor(),width:t.border.width,dashType:t.border.dashType,opacity:wP(t.border.opacity,t.opacity)}),CN(n),e.append(n),iH(t)&&e.append(this.createGradientOverlay(n,{baseColor:this.color},MN({end:t.vertical?void 0:[0,1]},t.overlay)))},t.prototype.createLines=function(e,t){this.drawLines(e,t,this.lines,t.line)},t.prototype.drawLines=function(e,t,n,o){if(n)for(var r={stroke:{color:o.color||this.color,opacity:wP(o.opacity,t.opacity),width:o.width,dashType:o.dashType,lineCap:"butt"}},i=0;i<n.length;i++){var a=LR.fromPoints(n[i],r);CN(a),e.append(a)}},t.prototype.getBorderColor=function(){var e=this.options.border,t=e.color;return lP(t)||(t=new QP(this.color).brightness(e._brightness).toHex()),t},t.prototype.createOverlay=function(){var e=LR.fromRect(this.box.toRect(),{fill:{color:uN,opacity:0},stroke:null});this.visual.append(e)},t.prototype.createHighlight=function(){var e=this.options.highlight,t=this.color;this.color=e.color||this.color;var n=this.mainVisual(MN({},this.options,{line:{color:this.getBorderColor()}},e));return this.color=t,n},t.prototype.highlightVisual=function(){return this._mainVisual},t.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},t.prototype.tooltipAnchor=function(){var e=this.box,t=this.owner.pane.clipBox()||e;return{point:new $M(e.x2+5,Math.max(e.y1,t.y1)+5),align:{horizontal:$D,vertical:cN}}},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.overlapsBox=function(e){return this.box.overlaps(e)},t.prototype.pointData=function(){return{dataItem:this.dataItem,value:this.value,meanPoints:this.meanPoints,medianPoints:this.medianPoints,whiskerPoints:this.whiskerPoints,stackValue:this.stackValue,series:this.series}},t.prototype.getIndex=function(){return this.categoryIx},t}(cF);sq.prototype.createFocusHighlight=ZH.prototype.createFocusHighlight,SP(sq,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},labels:{format:""},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},accessibility:{role:MV,className:OV,ariaRoleDescription:RV}}),MN(sq.prototype,gH),MN(sq.prototype,yH),MN(sq.prototype,QH);const lq=sq;var cq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflowCategories=function(e){for(var t=this.children,n=t.length,o=0;o<n;o++)t[o].reflow(e[o])},t.prototype.addValue=function(e,t){var n,o=t.categoryIx,r=t.category,i=t.series,a=t.seriesIx,s=this.children,l=this.options,c=e.valueFields,d=QV(this.splitValue(c)),u=i.data[o],p=this.categoryPoints[o];p||(this.categoryPoints[o]=p=[]),d&&(n=this.createPoint(e,t));var h=s[o];h||(h=new nq({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(h)),n&&(this.updateRange(c,t),h.append(n),n.categoryIx=o,n.category=r,n.series=i,n.seriesIx=a,n.owner=this,n.dataItem=u,n.noteText=e.fields.noteText),this.points.push(n),p.push(n)},t.prototype.pointType=function(){return lq},t.prototype.createPoint=function(e,t){var n=t.series,o=this.pointType(),r=e.valueFields,i=MN({},n),a=e.fields.color||n.color;i=this.evalPointOptions(i,r,t),n.type!==OB&&n.type!==qB||r.open>r.close&&(a=e.fields.downColor||n.downColor||n.color),NN(n.color)&&(a=i.color),i.vertical=!this.options.invertAxes;var s=new o(r,i);return s.color=a,s},t.prototype.splitValue=function(e){return[e.low,e.open,e.close,e.high]},t.prototype.updateRange=function(e,t){var n=t.series.axis,o=this.splitValue(e),r=this.valueAxisRanges[n]||{min:eN,max:tN};this.valueAxisRanges[n]={min:Math.min.apply(Math,o.concat([r.min])),max:Math.max.apply(Math,o.concat([r.max]))}},t.prototype.formatPointValue=function(e,t){var n=e.value;return this.chartService.format.auto(t,n.open,n.high,n.low,n.close,e.category)},t.prototype.animationPoints=function(){return this.points},t}(fH);MN(cq.prototype,OH);const dq=cq;var uq=function(e){function t(t,n){e.call(this,t,n),this.createNote()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t,n,o=this,r=o.options,i=o.value,a=o.owner.seriesValueAxis(r);this.boxSlot=n=a.getSlot(i.q1,i.q3),this.realBody=n,this.reflowBoxSlot(e),this.whiskerSlot=t=a.getSlot(i.lower,i.upper),this.reflowWhiskerSlot(e);var s=a.getSlot(i.median);if(i.mean){var l=a.getSlot(i.mean);this.meanPoints=this.calcMeanPoints(e,l)}this.whiskerPoints=this.calcWhiskerPoints(n,t),this.medianPoints=this.calcMedianPoints(e,s),this.box=t.clone().wrap(n),this.reflowNote()},t.prototype.reflowBoxSlot=function(e){this.boxSlot.x1=e.x1,this.boxSlot.x2=e.x2},t.prototype.reflowWhiskerSlot=function(e){this.whiskerSlot.x1=e.x1,this.whiskerSlot.x2=e.x2},t.prototype.calcMeanPoints=function(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]},t.prototype.calcWhiskerPoints=function(e,t){var n=t.center().x;return[[[n-5,t.y1],[n+5,t.y1],[n,t.y1],[n,e.y1]],[[n-5,t.y2],[n+5,t.y2],[n,t.y2],[n,e.y2]]]},t.prototype.calcMedianPoints=function(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]},t.prototype.renderOutliers=function(e){for(var t=this.value,n=t.outliers||[],o=3*Math.abs(t.q3-t.q1),r=[],i=e.markers||{},a=0;a<n.length;a++){var s=n[a],l=MN({},(i=s<t.q3+o&&s>t.q1-o?e.outliers:e.extremes).border);lP(l.color)||(lP(this.color)?l.color=this.color:l.color=new QP(i.background).brightness(bB).toHex());var c=new TF({type:i.type,width:i.size,height:i.size,rotation:i.rotation,background:i.background,border:l,opacity:i.opacity});c.value=s,r.push(c)}return this.reflowOutliers(r),r},t.prototype.reflowOutliers=function(e){for(var t=this,n=this.owner.seriesValueAxis(this.options),o=this.box.center(),r=0;r<e.length;r++){var i=e[r].value,a=n.getSlot(i);t.options.vertical?a.move(o.x):a.move(void 0,o.y),t.box=t.box.wrap(a),e[r].reflow(a)}},t.prototype.mainVisual=function(t){for(var n=e.prototype.mainVisual.call(this,t),o=this.renderOutliers(t),r=0;r<o.length;r++){var i=o[r].getElement();i&&n.append(i)}return n},t.prototype.createLines=function(e,t){this.drawLines(e,t,this.whiskerPoints,t.whiskers),this.drawLines(e,t,this.medianPoints,t.median),this.drawLines(e,t,this.meanPoints,t.mean)},t.prototype.getBorderColor=function(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:e.prototype.getBorderColor.call(this)},t}(lq);SP(uq,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:UD,background:uN,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:qD,background:uN,border:{width:2,opacity:1},opacity:0}}),MN(uq.prototype,gH);const pq=uq;var hq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflowBoxSlot=function(e){this.boxSlot.y1=e.y1,this.boxSlot.y2=e.y2},t.prototype.reflowWhiskerSlot=function(e){this.whiskerSlot.y1=e.y1,this.whiskerSlot.y2=e.y2},t.prototype.calcMeanPoints=function(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]},t.prototype.calcWhiskerPoints=function(e,t){var n=t.center().y;return[[[t.x1,n-5],[t.x1,n+5],[t.x1,n],[e.x1,n]],[[t.x2,n-5],[t.x2,n+5],[t.x2,n],[e.x2,n]]]},t.prototype.calcMedianPoints=function(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]},t}(pq);const fq=hq;var mq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addValue=function(e,t){var n,o=t.categoryIx,r=t.category,i=t.series,a=t.seriesIx,s=this.children,l=this.options,c=e.valueFields,d=QV(this.splitValue(c)),u=i.data[o],p=this.categoryPoints[o];p||(this.categoryPoints[o]=p=[]),d&&(n=this.createPoint(e,t));var h=s[o];h||(h=new nq({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(h)),n&&(this.updateRange(c,t),h.append(n),n.categoryIx=o,n.category=r,n.series=i,n.seriesIx=a,n.owner=this,n.dataItem=u),this.points.push(n),p.push(n)},t.prototype.pointType=function(){return this.options.invertAxes?fq:pq},t.prototype.splitValue=function(e){return[e.lower,e.q1,e.median,e.q3,e.upper]},t.prototype.updateRange=function(e,t){var n=t.series.axis,o=this.splitValue(e).concat(this.filterOutliers(e.outliers));lP(e.mean)&&(o=o.concat(e.mean));var r=this.valueAxisRanges[n]||{min:eN,max:tN};this.valueAxisRanges[n]={min:Math.min.apply(Math,o.concat([r.min])),max:Math.max.apply(Math,o.concat([r.max]))}},t.prototype.formatPointValue=function(e,t){var n=e.value;return this.chartService.format.auto(t,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,e.category)},t.prototype.filterOutliers=function(e){for(var t=(e||[]).length,n=[],o=0;o<t;o++){var r=e[o];lP(r)&&null!==r&&n.push(r)}return n},t.prototype.supportsPointInactiveOpacity=function(){return!1},t}(dq);const gq=mq;var vq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getAxis=function(){var e=this.chart.seriesAxes(this.series);return this.isVertical?e.y:e.x},t}(GV);const yq=vq;var xq=function(e){function t(t,n){e.call(this,n),this.plotArea=t,this.chartService=t.chartService,this._initFields(),this.render()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initFields=function(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]},t.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},t.prototype.addErrorBar=function(e,t,n){var o,r=e.value[t],i=t+"Value",a=t+"ErrorLow",s=t+"ErrorHigh",l=n.seriesIx,c=n.series,d=e.options.errorBars,u=n[a],p=n[s];IN(r)&&(IN(u)&&IN(p)&&(o={low:u,high:p}),d&&lP(d[i])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[t][l]=this.seriesErrorRanges[t][l]||new gB(d[i],c,t),o=this.seriesErrorRanges[t][l].getErrorRange(r,d[i])),o&&this.addPointErrorBar(o,e,t))},t.prototype.addPointErrorBar=function(e,t,n){var o=e.low,r=e.high,i=t.series,a=t.options.errorBars,s=n===fN,l={};t[n+"Low"]=o,t[n+"High"]=r,t.errorBars=t.errorBars||[];var c=new yq(o,r,s,this,i,a);t.errorBars.push(c),t.append(c),l[n]=o,this.updateRange(l,i),l[n]=r,this.updateRange(l,i)},t.prototype.addValue=function(e,t){var n,o=e.x,r=e.y,i=t.seriesIx,a=this.options.series[i],s=this.seriesMissingValues(a),l=this.seriesPoints[i],c=e;aH(o)&&aH(r)||(c=this.createMissingValue(c,s)),c&&((n=this.createPoint(c,t))&&(Object.assign(n,t),this.addErrorBar(n,hN,t),this.addErrorBar(n,fN,t)),this.updateRange(c,t.series)),this.points.push(n),l.push(n)},t.prototype.seriesMissingValues=function(e){return e.missingValues},t.prototype.createMissingValue=function(){},t.prototype.updateRange=function(e,t){var n=this.chartService.intl,o=t.xAxis,r=t.yAxis,i=e.x,a=e.y,s=this.xAxisRanges[o],l=this.yAxisRanges[r];aH(i)&&(s=this.xAxisRanges[o]=s||{min:eN,max:tN},EN(i)&&(i=cz(n,i)),s.min=Math.min(s.min,i),s.max=Math.max(s.max,i)),aH(a)&&(l=this.yAxisRanges[r]=l||{min:eN,max:tN},EN(a)&&(a=cz(n,a)),l.min=Math.min(l.min,a),l.max=Math.max(l.max,a))},t.prototype.evalPointOptions=function(e,t,n){var o=n.series,r=n.seriesIx,i={defaults:o._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]},a=this._evalSeries[r];lP(a)||(this._evalSeries[r]=a=tH(e,{},i,!0));var s=e;return a&&tH(s=MN({},e),{value:t,series:o,dataItem:n.dataItem},i),s},t.prototype.pointType=function(){return bH},t.prototype.pointOptions=function(e,t){var n=this.seriesOptions[t];if(!n){var o=this.pointType().prototype.defaults;this.seriesOptions[t]=n=MN({},o,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return n},t.prototype.createPoint=function(e,t){var n=t.series,o=this.pointOptions(n,t.seriesIx),r=t.color||n.color;o=this.evalPointOptions(o,e,t),NN(n.color)&&(r=o.color);var i=new bH(e,o);return i.color=r,this.append(i),i},t.prototype.seriesAxes=function(e){var t=e.xAxis,n=e.yAxis,o=this.plotArea,r=t?o.namedXAxes[t]:o.axisX,i=n?o.namedYAxes[n]:o.axisY;if(!r)throw new Error("Unable to locate X axis with name "+t);if(!i)throw new Error("Unable to locate Y axis with name "+n);return{x:r,y:i}},t.prototype.reflow=function(e){var t=this,n=this.points,o=!this.options.clip,r=0;this.traverseDataPoints((function(e,i){var a=n[r++],s=t.seriesAxes(i.series),l=s.x.getSlot(e.x,e.x,o),c=s.y.getSlot(e.y,e.y,o);if(a)if(l&&c){var d=t.pointSlot(l,c);a.reflow(d)}else a.visible=!1})),this.box=e},t.prototype.pointSlot=function(e,t){return new fO(e.x1,t.y1,e.x2,t.y2)},t.prototype.traverseDataPoints=function(e){for(var t=this.options.series,n=this.seriesPoints,o=0;o<t.length;o++){var r=t[o];n[o]||(n[o]=[]);for(var i=0;i<r.data.length;i++){var a=this.plotArea.bindPoint(r,i),s=a.valueFields,l=a.fields;e(s,MN({pointIx:i,series:r,seriesIx:o,dataItem:r.data[i],owner:this},l))}}},t.prototype.formatPointValue=function(e,t){var n=e.value;return this.chartService.format.auto(t,n.x,n.y)},t.prototype.animationPoints=function(){for(var e=this.points,t=[],n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t},t}(cF);SP(xq,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),MN(xq.prototype,OH);const bq=xq;var wq=function(e){function t(t,n){e.call(this,t,n),this.category=t.category}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createHighlight=function(){var e=this.options.highlight,t=e.border,n=this.options.markers,o=this.box.center(),r=(n.size+n.border.width+t.width)/2,i=new JR,a=new YR(new UR([o.x,o.y+r/5+t.width/2],r+t.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:n.background,stops:[{offset:0,color:n.background,opacity:.3},{offset:1,color:n.background,opacity:0}]})}),s=new YR(new UR([o.x,o.y],r),{stroke:{color:t.color||new QP(n.background).brightness(bB).toHex(),width:t.width,opacity:t.opacity},fill:_F(this.options.pattern,{color:n.background,opacity:e.opacity})});return i.append(a,s),i},t.prototype.createFocusHighlight=function(e){var t=this.options.focusHighlight,n=this.options.markers,o=this.box.center(),r=(n.size+n.border.width)/2+t.border.width/2;return new YR(new UR([o.x,o.y],r),e)},t}(bH);wq.prototype.defaults=MN({},wq.prototype.defaults,{labels:{position:HD},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),wq.prototype.defaults.highlight.zIndex=void 0;const kq=wq;var Cq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initFields=function(){this._maxSize=tN,e.prototype._initFields.call(this)},t.prototype.addValue=function(t,n){null!==t.size&&(t.size>0||t.size<0&&n.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(t.size)),e.prototype.addValue.call(this,t,n)):(this.points.push(null),this.seriesPoints[n.seriesIx].push(null))},t.prototype.reflow=function(t){this.updateBubblesSize(t),e.prototype.reflow.call(this,t)},t.prototype.pointType=function(){return kq},t.prototype.createPoint=function(e,t){var n=t.series,o=n.data.length,r=t.pointIx*(yB/o),i={delay:r,duration:yB-r,type:PB},a=t.color||n.color;e.size<0&&n.negativeValues.visible&&(a=wP(n.negativeValues.color,a));var s=MN({labels:{animation:{delay:r,duration:yB-r}}},this.pointOptions(n,t.seriesIx),{markers:{type:qD,border:n.border,opacity:n.opacity,animation:i}});s=this.evalPointOptions(s,e,t),NN(n.color)&&(a=s.color),s.markers.background=a;var l=new kq(e,s);return l.color=a,this.append(l),l},t.prototype.updateBubblesSize=function(e){for(var t=this.options.series,n=Math.min(e.width(),e.height()),o=0;o<t.length;o++)for(var r=t[o],i=this.seriesPoints[o],a=(r.minSize||Math.max(.02*n,10))/2,s=(r.maxSize||.2*n)/2,l=Math.PI*a*a,c=(Math.PI*s*s-l)/this._maxSize,d=0;d<i.length;d++){var u=i[d];if(u){var p=Math.abs(u.value.size)*c,h=Math.sqrt((l+p)/Math.PI),f=wP(u.options.zIndex,0)+(1-h/s);MN(u.options,{zIndex:f,markers:{size:2*h,zIndex:f},labels:{zIndex:f+1}})}}},t.prototype.formatPointValue=function(e,t){var n=e.value;return this.chartService.format.auto(t,n.x,n.y,n.size,e.category)},t.prototype.createAnimation=function(){},t.prototype.createVisual=function(){},t}(bq);SP(Cq,{tooltip:{format:"{3}"},labels:{format:"{3}"}});const Sq=Cq;var Iq=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(TF);MN(Iq.prototype,gH);const Eq=Iq;var _q=function(e){function t(t,n){e.call(this,n),this.aboveAxis=this.options.aboveAxis,this.color=n.color||uN,this.value=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.options;this._rendered||(this._rendered=!0,lP(this.value.target)&&(this.target=new Eq({type:e.target.shape,background:e.target.color||this.color,opacity:e.opacity,zIndex:e.zIndex,border:e.target.border,vAlign:cN,align:iN}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createLabel(),this.createNote())},t.prototype.createLabel=function(){var e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))},t.prototype.createLabelElement=function(e){return new XH(this.getLabelText(e),e,this.pointData())},t.prototype.getLabelText=function(e){var t=UN(e);return t?t(this.pointData()):this.formatValue(e.format)},t.prototype.reflow=function(e){this.render();var t=this,n=t.options,o=t.target,r=t.owner,i=n.invertAxes,a=r.seriesValueAxis(this.options),s=r.categorySlot(r.categoryAxis,n.categoryIx,a),l=a.getSlot(this.value.target),c=i?l:s,d=i?s:l;if(o){var u=new fO(c.x1,d.y1,c.x2,d.y2);o.options.height=i?u.height():n.target.line.width,o.options.width=i?n.target.line.width:u.width(),o.reflow(u)}var p=this.label;p&&(p.options.aboveAxis=this.aboveAxis,p.reflow(e)),this.note&&this.note.reflow(e),this.box=e},t.prototype.createVisual=function(){e.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual();var t=this.options,n=LR.fromRect(this.box.toRect(),{fill:_F(t.pattern,{color:this.color,opacity:t.opacity}),stroke:null});t.border.width>0&&n.options.set("stroke",{color:t.border.color||this.color,width:t.border.width,dashType:t.border.dashType,opacity:wP(t.border.opacity,t.opacity)}),this.bodyVisual=n,CN(n),this.visual.append(n)},t.prototype.createAnimation=function(){this.bodyVisual&&(this.animation=sF.create(this.bodyVisual,this.options.animation))},t.prototype.createHighlight=function(e){return LR.fromRect(this.box.toRect(),e)},t.prototype.highlightVisual=function(){return this.bodyVisual},t.prototype.highlightVisualArgs=function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series}},t.prototype.overlapsBox=function(e){return this.box.overlaps(e)},t.prototype.getIndex=function(){return this.categoryIx},t}(cF);_q.prototype.tooltipAnchor=ZH.prototype.tooltipAnchor,_q.prototype.createFocusHighlight=ZH.prototype.createFocusHighlight,SP(_q,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},labels:{visible:!1},tooltip:{format:"Current: {0}<br />Target: {1}"},notes:{label:{}},accessibility:{role:MV,className:OV,ariaRoleDescription:RV}}),MN(_q.prototype,gH),MN(_q.prototype,yH),MN(_q.prototype,QH);const jq=_q;var Aq=function(e){function t(t,n){!function(e){for(var t=e.series,n=0;n<t.length;n++){var o=t[n],r=o.data;!r||vN(r[0])||ON(r[0])||(o.data=[r])}}(n),e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflowCategories=function(e){for(var t=this.children,n=t.length,o=0;o<n;o++)t[o].reflow(e[o])},t.prototype.plotRange=function(e){var t=e.series,n=this.seriesValueAxis(t),o=this.categoryAxisCrossingValue(n);return[o,e.value.current||o]},t.prototype.createPoint=function(e,t){var n=t.categoryIx,o=t.series,r=this.options,i=this.children,a=e.valueFields,s=MN({vertical:!r.invertAxes,overlay:o.overlay,categoryIx:n,invertAxes:r.invertAxes},o),l=e.fields.color||o.color;s=this.evalPointOptions(s,a,t),NN(o.color)&&(l=s.color);var c=new jq(a,s);c.color=l;var d=i[n];return d||(d=new nq({vertical:r.invertAxes,gap:r.gap,spacing:r.spacing,rtl:!r.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),d.append(c),c},t.prototype.updateRange=function(e,t){var n=e.current,o=e.target,r=t.series.axis,i=this.valueAxisRanges[r];lP(n)&&!isNaN(n)&&lP(o&&!isNaN(o))&&((i=this.valueAxisRanges[r]=i||{min:eN,max:tN}).min=Math.min(i.min,n,o),i.max=Math.max(i.max,n,o))},t.prototype.formatPointValue=function(e,t){return this.chartService.format.auto(t,e.value.current,e.value.target)},t.prototype.pointValue=function(e){return e.valueFields.current},t.prototype.aboveAxis=function(e){return e.value.current>0},t.prototype.createAnimation=function(){var e=this.points;this._setAnimationOptions();for(var t=0;t<e.length;t++){var n=e[t];n.options.animation=this.options.animation,n.createAnimation()}},t}(fH);Aq.prototype._setAnimationOptions=aq.prototype._setAnimationOptions,SP(Aq,{animation:{type:NB}});const Dq=Aq;var Nq=function(e){function t(t,n){e.call(this),this.chartService=t,this.options=MN({},this.options,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getStyle=function(e,t){var n=e.background,o=e.border.color;if(t){var r=t.color||t.options.color;n=wP(n,r),o=wP(o,r)}var i=void 0!==e.padding?BN(e.padding):{};return"object"===typeof e.padding&&(i.top=void 0!==e.padding.top?i.top:void 0,i.right=void 0!==e.padding.right?i.right:void 0,i.bottom=void 0!==e.padding.bottom?i.bottom:void 0,i.left=void 0!==e.padding.left?i.left:void 0),{backgroundColor:n,borderColor:o,font:e.font,color:e.color,opacity:e.opacity,borderWidth:RN(e.border.width),paddingTop:RN(i.top),paddingBottom:RN(i.bottom),paddingLeft:RN(i.left),paddingRight:RN(i.right)}},t.prototype.show=function(e,t,n){if(this.chartService){e.format=t.format;var o=this.getStyle(t,n);e.style=o;var r=new QP(o.backgroundColor);lP(t.color)||r.isDark()||(e.className="k-chart-tooltip-inverse"),this.chartService.notify(TV,e),this.visible=!0}},t.prototype.hide=function(){this.chartService&&this.chartService.notify(PV),this.visible=!1},t.prototype.destroy=function(){delete this.chartService},t}(uT);SP(Nq,{border:{width:1},opacity:1});const Tq=Nq;var Pq=function(e){function t(t,n,o){e.call(this,t,o),this.crosshair=n,this.formatService=t.format,this.initAxisName()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initAxisName=function(){var e,t=this.crosshair.axis;e=t.plotArea.categoryAxis?t.getCategory?"categoryAxis":"valueAxis":t.options.vertical?"yAxis":"xAxis",this.axisName=e},t.prototype.showAt=function(e){var t=this.crosshair.axis,n=this.options,o=t[n.stickyMode?"getCategory":"getValue"](e),r=o;n.format?r=this.formatService.auto(n.format,o):t.options.type===GD&&(r=this.formatService.auto(t.options.labels.dateFormats[t.options.baseUnit],o)),this.show({point:e,anchor:this.getAnchor(),crosshair:this.crosshair,value:r,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)},t.prototype.hide=function(){this.chartService.notify(PV,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})},t.prototype.getAnchor=function(){var e,t,n,o=this.crosshair,r=this.options,i=r.position,a=r.padding,s=!o.axis.options.vertical,l=o.line.bbox();return s?(e=HD,i===VD?(t=cN,n=l.bottomLeft().translate(0,a)):(t=VD,n=l.topLeft().translate(0,-a))):(t=HD,i===$D?(e=iN,n=l.topLeft().translate(-a,0)):(e=$D,n=l.topRight().translate(a,0))),{point:n,align:{horizontal:e,vertical:t}}},t}(Tq);SP(Pq,{padding:10});const Mq=Pq;var Oq=function(e){function t(t,n,o){e.call(this,o),this.axis=n,this.stickyMode=n instanceof hz;var r=this.options.tooltip;r.visible&&(this.tooltip=new Mq(t,this,MN({},r,{stickyMode:this.stickyMode})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.showAt=function(e){this.point=e,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(e)},t.prototype.hide=function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()},t.prototype.moveLine=function(){var e,t=this.axis,n=this.point,o=t.options.vertical,r=this.getBox(),i=o?fN:hN,a=new sO(r.x1,r.y1);if(e=o?new sO(r.x2,r.y1):new sO(r.x1,r.y2),n)if(this.stickyMode){var s=t.getSlot(t.pointCategoryIndex(n));a[i]=e[i]=s.center()[i]}else a[i]=e[i]=n[i];this.box=r,this.line.moveTo(a).lineTo(e)},t.prototype.getBox=function(){for(var e,t=this.axis,n=t.pane.axes,o=n.length,r=t.options.vertical,i=t.lineBox().clone(),a=r?hN:fN,s=0;s<o;s++){var l=n[s];l.options.vertical!==r&&(e?e.wrap(l.lineBox()):e=l.lineBox().clone())}return i[a+1]=e[a+1],i[a+2]=e[a+2],i},t.prototype.createVisual=function(){e.prototype.createVisual.call(this);var t=this.options;this.line=new LR({stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)},t.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),e.prototype.destroy.call(this)},t}(cF);SP(Oq,{color:BD,width:2,zIndex:-1,tooltip:{visible:!1}});const Rq=Oq;var Fq=function(e){function t(t,n){e.call(this,t),this.pane=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.shouldClip=function(){for(var e=this.children,t=e.length,n=0;n<t;n++)if(!0===e[n].options.clip)return!0;return!1},t.prototype._clipBox=function(){return this.pane.chartsBox()},t.prototype.createVisual=function(){if(this.visual=new JR({zIndex:0}),this.shouldClip()){var e=(this.clipBox=this._clipBox()).toRect(),t=LR.fromRect(e);CN(t),this.visual.clip(t),this.unclipLabels()}},t.prototype.stackRoot=function(){return this},t.prototype.unclipLabels=function(){for(var e=this.children,t=this.clipBox,n=0;n<e.length;n++)for(var o=e[n].points||{},r=o.length,i=0;i<r;i++){var a=o[i];if(a&&!1!==a.visible&&a.overlapsBox&&a.overlapsBox(t))if(a.unclipElements)a.unclipElements();else{var s=a.label,l=a.note;s&&s.options.visible&&(s.alignToClipBox&&s.alignToClipBox(t),s.options.noclip=!0),l&&l.options.visible&&(l.options.noclip=!0)}}},t.prototype.destroy=function(){e.prototype.destroy.call(this),delete this.parent},t}(cF);Fq.prototype.isStackRoot=!0;const Lq=Fq;var zq=function(e){function t(t){e.call(this,t),this.id="pane"+Bq++,this.createTitle(),this.content=new cF,this.chartContainer=new Lq({},this),this.append(this.content),this.axes=[],this.charts=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createTitle=function(){var e=this.options.title;ON(e)&&(e=MN({},e,{align:e.position,position:cN})),this.title=cL.buildTitle(e,t.prototype.options.title),this.title&&this.append(this.title)},t.prototype.appendAxis=function(e){this.content.append(e),this.axes.push(e),e.pane=this},t.prototype.appendAxisAt=function(e,t){this.content.append(e),this.axes.splice(t,0,e),e.pane=this},t.prototype.appendChart=function(e){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(e),this.chartContainer.append(e),e.pane=this},t.prototype.empty=function(){var e=this.parent;if(e){for(var t=0;t<this.axes.length;t++)e.removeAxis(this.axes[t]);for(var n=0;n<this.charts.length;n++)e.removeChart(this.charts[n])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]},t.prototype.reflow=function(t){var n;mP(this.children)===this.content&&(n=this.children.pop()),e.prototype.reflow.call(this,t),n&&this.children.push(n),this.title&&(this.contentBox.y1+=this.title.box.height())},t.prototype.visualStyle=function(){var t=e.prototype.visualStyle.call(this);return t.zIndex=-10,t},t.prototype.renderComplete=function(){this.options.visible&&this.createGridLines()},t.prototype.stackRoot=function(){return this},t.prototype.clipRoot=function(){return this},t.prototype.createGridLines=function(){for(var e=this.axes,t=e.concat(this.parent.axes),n=[],o=[],r=0;r<e.length;r++)for(var i=e[r],a=i.options.vertical,s=a?n:o,l=0;l<t.length;l++)if(0===s.length){var c=t[l];a!==c.options.vertical&&aP(s,i.createGridLines(c))}},t.prototype.refresh=function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()},t.prototype.chartsBox=function(){for(var e=this.axes,t=e.length,n=new fO,o=0;o<t;o++){var r=e[o],i=r.options.vertical?fN:hN,a=r.lineBox();n[i+1]=a[i+1],n[i+2]=a[i+2]}if(0===n.x2)for(var s=this.parent.axes,l=s.length,c=0;c<l;c++){var d=s[c];if(!d.options.vertical){var u=d.lineBox();n.x1=u.x1,n.x2=u.x2}}return n},t.prototype.clipBox=function(){return this.chartContainer.clipBox},t.prototype.notifyRender=function(){var e=this.getService();e&&e.notify("paneRender",{pane:new iB(this),index:this.paneIndex,name:this.options.name})},t}(AF),Bq=1;zq.prototype.isStackRoot=!0,SP(zq,{zIndex:-1,shrinkToFit:!0,title:{align:$D},visible:!0});const Vq=zq;var Hq=function(e){return!1!==e.options.visible},qq=function(e){function t(t,n,o){e.call(this,n),this.initFields(t,n),this.series=t,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.data=[],this.axes=[],this.crosshairs=[],this.chartService=o,this.originalOptions=n,this.originalSeries=t,this._bindCache=new WeakMap,this.createPanes(),this.render(),this.createCrosshairs()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(){},t.prototype.initSeries=function(){for(var e=this.series,t=0;t<e.length;t++)e[t].index=t},t.prototype.bindPoint=function(e,t,n){var o=this._bindCache.get(e);o||(o=[],this._bindCache.set(e,o));var r=o[t];return r||(r=o[t]=pB.current.bindPoint(e,t,n)),r},t.prototype.createPanes=function(){for(var e=this.options.title||{},t=this.options.paneDefaults,n=this.options.panes||[],o=Math.max(n.length,1),r=[],i=MN({title:{color:e.color}},t),a=0;a<o;a++){var s=MN({},i,n[a]);EN(s.title)&&(s.title=MN({text:s.title},i.title));var l=new Vq(s);l.paneIndex=a,r.push(l),this.append(l)}this.panes=r},t.prototype.crosshairOptions=function(e){return e.options.crosshair},t.prototype.createCrosshairs=function(e){var t=this;void 0===e&&(e=this.panes);for(var n=0;n<e.length;n++)for(var o=e[n],r=0;r<o.axes.length;r++){var i=o.axes[r],a=t.crosshairOptions(i);if(a&&a.visible){var s=new Rq(t.chartService,i,a);t.crosshairs.push(s),o.content.append(s)}}},t.prototype.removeCrosshairs=function(e){for(var t=this.crosshairs,n=e.axes,o=t.length-1;o>=0;o--)for(var r=0;r<n.length;r++)if(t[o].axis===n[r]){t.splice(o,1);break}},t.prototype.hideCrosshairs=function(){for(var e=this.crosshairs,t=0;t<e.length;t++)e[t].hide()},t.prototype.findPane=function(e){for(var t,n=this.panes,o=0;o<n.length;o++)if(n[o].options.name===e){t=n[o];break}return t||n[0]},t.prototype.findPointPane=function(e){for(var t,n=this.panes,o=0;o<n.length;o++)if(n[o].box.containsPoint(e)){t=n[o];break}return t},t.prototype.appendAxis=function(e){this.findPane(e.options.pane).appendAxis(e),this.axes.push(e),e.plotArea=this},t.prototype.removeAxis=function(e){for(var t=[],n=0;n<this.axes.length;n++){var o=this.axes[n];e!==o?t.push(o):o.destroy()}this.axes=t},t.prototype.appendChart=function(e,t){this.charts.push(e),t?t.appendChart(e):this.append(e)},t.prototype.removeChart=function(e){for(var t=[],n=0;n<this.charts.length;n++){var o=this.charts[n];o!==e?t.push(o):o.destroy()}this.charts=t},t.prototype.addToLegend=function(e){for(var t=e.length,n=this.options.legend,o=n.labels||{},r=n.inactiveItems||{},i=r.labels||{},a=[],s=0;s<t;s++){var l=e[s],c=!1!==l.visible;if(!1!==l.visibleInLegend){var d=l.name,u=c?UN(o):UN(i)||UN(o);u&&(d=u({text:aH(d)?d:"",series:l}));var p=l._defaults,h=l.color;NN(h)&&p&&(h=p.color);var f=void 0,m=void 0;c?(f={},m=h):(f={color:i.color,font:i.font},m=r.markers.color),aH(d)&&""!==d&&a.push({text:d,labels:f,markerColor:m,series:l,active:c})}}aP(n.data,a)},t.prototype.groupAxes=function(e){for(var t=[],n=[],o=0;o<e.length;o++)for(var r=e[o].axes,i=0;i<r.length;i++){var a=r[i];a.options.vertical?n.push(a):t.push(a)}return{x:t,y:n,any:t.concat(n)}},t.prototype.groupSeriesByPane=function(){for(var e=this.series,t={},n=0;n<e.length;n++){var o=e[n],r=this.seriesPaneName(o);t[r]?t[r].push(o):t[r]=[o]}return t},t.prototype.filterVisibleSeries=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];!1!==o.visible&&t.push(o)}return t},t.prototype.reflow=function(e){var t=this.options.plotArea,n=this.panes,o=BN(t.margin);this.box=e.clone().unpad(o),this.reflowPanes(),this.detachLabels(),this.reflowAxes(n),this.reflowCharts(n)},t.prototype.redraw=function(e){var t=[].concat(e);this.initSeries();var n=this.getRoot();n&&n.cleanGradients();for(var o=0;o<t.length;o++)this.removeCrosshairs(t[o]),t[o].empty();this._bindCache=new WeakMap,this.render(t),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(t),this.createCrosshairs(t);for(var r=0;r<t.length;r++)t[r].refresh()},t.prototype.axisCrossingValues=function(e,t){for(var n=e.options,o=[].concat(n.axisCrossingValues||n.axisCrossingValue),r=t.length-o.length,i=o[0]||0,a=0;a<r;a++)o.push(i);return o},t.prototype.alignAxisTo=function(e,t,n,o){var r=e.getSlot(n,n,!0),i=e.options.reverse?2:1,a=t.getSlot(o,o,!0),s=t.options.reverse?2:1,l=e.box.translate(a[hN+s]-r[hN+i],a[fN+s]-r[fN+i]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l)},t.prototype.alignAxes=function(e,t){for(var n=this,o=e[0],r=t[0],i=this.axisCrossingValues(o,t),a=this.axisCrossingValues(r,e),s={},l={},c={},d={},u=0;u<t.length;u++){var p=t[u],h=p.pane,f=h.id,m=!1!==p.options.visible,g=Wq(e,h)||o,v=i;if(g!==o&&(v=n.axisCrossingValues(g,t)),n.alignAxisTo(p,g,a[u],v[u]),!p.options._overlap){xP(p.lineBox().x1)===xP(g.lineBox().x1)&&(s[f]&&p.reflow(p.box.alignTo(s[f].box,$D).translate(-p.options.margin,0)),m&&(s[f]=p)),xP(p.lineBox().x2)===xP(g.lineBox().x2)&&(p._mirrored||(p.options.labels.mirror=!p.options.labels.mirror,p._mirrored=!0),n.alignAxisTo(p,g,a[u],v[u]),l[f]&&p.reflow(p.box.alignTo(l[f].box,iN).translate(p.options.margin,0)),m&&(l[f]=p));var y=Wq(t,h)||r;y!==p&&(p.alignTo(y),p.reflow(p.box))}}for(var x=0;x<e.length;x++){var b=e[x],w=b.pane,k=w.id,C=!1!==b.options.visible,S=Wq(t,w)||r,I=a;S!==r&&(I=n.axisCrossingValues(S,e)),n.alignAxisTo(b,S,i[x],I[x]),b.options._overlap||(xP(b.lineBox().y1)===xP(S.lineBox().y1)&&(b._mirrored||(b.options.labels.mirror=!b.options.labels.mirror,b._mirrored=!0),n.alignAxisTo(b,S,i[x],I[x]),c[k]&&b.reflow(b.box.alignTo(c[k].box,cN).translate(0,-b.options.margin)),C&&(c[k]=b)),xP(b.lineBox().y2,3)===xP(S.lineBox().y2,3)&&(d[k]&&b.reflow(b.box.alignTo(d[k].box,VD).translate(0,b.options.margin)),C&&(d[k]=b)),0!==x&&(b.alignTo(o),b.reflow(b.box)))}},t.prototype.shrinkAxisWidth=function(e){for(var t=this.groupAxes(e).any,n=Gq(t),o=0,r=0;r<e.length;r++){var i=e[r];i.axes.length>0&&(o=Math.max(o,n.width()-i.contentBox.width()))}if(0!==o)for(var a=0;a<t.length;a++){var s=t[a];s.options.vertical||s.reflow(s.box.shrink(o,0))}},t.prototype.shrinkAxisHeight=function(e){for(var t,n=0;n<e.length;n++){var o=e[n],r=o.axes,i=Math.max(0,Gq(r).height()-o.contentBox.height());if(0!==i){for(var a=0;a<r.length;a++){var s=r[a];s.options.vertical&&s.reflow(s.box.shrink(0,i))}t=!0}}return t},t.prototype.fitAxes=function(e){for(var t=this.groupAxes(e).any,n=0,o=0;o<e.length;o++){var r=e[o],i=r.axes,a=r.contentBox;if(i.length>0){var s=Gq(i),l=Math.max(a.y1-s.y1,a.y2-s.y2);n=Math.max(n,a.x1-s.x1);for(var c=0;c<i.length;c++){var d=i[c];d.reflow(d.box.translate(0,l))}}}for(var u=0;u<t.length;u++){var p=t[u];p.reflow(p.box.translate(n,0))}},t.prototype.reflowAxes=function(e){for(var t=this.groupAxes(e),n=0;n<e.length;n++)this.reflowPaneAxes(e[n]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e),this.autoRotateAxisLabels(t),this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e)&&this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e),this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e)&&this.alignAxes(t.x,t.y),this.fitAxes(e))},t.prototype.autoRotateAxisLabels=function(e){for(var t,n=this.panes,o=Kq(n),r=0;r<o.length;r++){o[r].autoRotateLabels()&&(t=!0)}if(t){for(var i=0;i<n.length;i++)this.reflowPaneAxes(n[i]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(n))}},t.prototype.reflowPaneAxes=function(e){var t=e.axes,n=t.length;if(n>0)for(var o=0;o<n;o++)t[o].reflow(e.contentBox)},t.prototype.reflowCharts=function(e){for(var t=this.charts,n=t.length,o=this.box,r=0;r<n;r++){var i=t[r].pane;i&&!$N(i,e)||t[r].reflow(o)}},t.prototype.reflowPanes=function(){for(var e=this.box,t=this.panes,n=t.length,o=e.height(),r=0,i=e.y1,a=0;a<n;a++){var s=t[a],l=s.options.height;if(s.options.width=e.width(),s.options.height){if(l.indexOf&&l.indexOf("%")){var c=parseInt(l,10)/100;s.options.height=c*e.height()}s.reflow(e.clone()),o-=s.options.height}else r++}for(var d=0;d<n;d++){var u=t[d];u.options.height||(u.options.height=o/r)}for(var p=0;p<n;p++){var h=t[p],f=e.clone().move(e.x1,i);h.reflow(f),i+=h.options.height}},t.prototype.backgroundBox=function(){for(var e,t=this.axes,n=t.length,o=0;o<n;o++)for(var r=t[o],i=0;i<n;i++){var a=t[i];if(r.options.vertical!==a.options.vertical){var s=r.lineBox().clone().wrap(a.lineBox());e=e?e.wrap(s):s}}return e||this.box},t.prototype.chartsBoxes=function(){for(var e=this.panes,t=[],n=0;n<e.length;n++)t.push(e[n].chartsBox());return t},t.prototype.addBackgroundPaths=function(e){for(var t=this.chartsBoxes(),n=0;n<t.length;n++)e.paths.push(LR.fromRect(t[n].toRect()))},t.prototype.backgroundContainsPoint=function(e){for(var t=this.chartsBoxes(),n=0;n<t.length;n++)if(t[n].containsPoint(e))return!0},t.prototype.createVisual=function(){e.prototype.createVisual.call(this);var t,n=this.options.plotArea,o=n.opacity,r=n.background,i=n.border;void 0===i&&(i={}),""!==(t=r)&&null!==t&&"none"!==t&&"transparent"!==t&&lP(t)||(r=uN,o=0);var a=this._bgVisual=new zR({fill:{color:r,opacity:o},stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType},zIndex:-1});this.addBackgroundPaths(a),this.appendVisual(a)},t.prototype.pointsByCategoryIndex=function(e){var t=this.charts,n=[];if(null!==e)for(var o=0;o<t.length;o++){if("_navigator"!==t[o].pane.options.name){var r=t[o].categoryPoints[e];if(r&&r.length)for(var i=0;i<r.length;i++){var a=r[i];a&&lP(a.value)&&null!==a.value&&n.push(a)}}}return n},t.prototype.pointsBySeriesIndex=function(e){return this.filterPoints((function(t){return t.series.index===e}))},t.prototype.pointsByPointIndex=function(e){return this.filterPoints((function(t){return t.getIndex()===e}))},t.prototype.pointsBySeriesName=function(e){return this.filterPoints((function(t){return t.series.name===e}))},t.prototype.filterPoints=function(e){for(var t=this.charts,n=[],o=0;o<t.length;o++)for(var r=t[o].points,i=0;i<r.length;i++){var a=r[i];a&&!1!==a.visible&&e(a)&&n.push(a)}return n},t.prototype.findPoint=function(e){for(var t=this.charts,n=0;n<t.length;n++)for(var o=t[n].points,r=0;r<o.length;r++){var i=o[r];if(i&&!1!==i.visible&&e(i))return i}},t.prototype.paneByPoint=function(e){for(var t=this.panes,n=0;n<t.length;n++){var o=t[n];if(o.box.containsPoint(e))return o}},t.prototype.detachLabels=function(){var e=this.groupAxes(this.panes),t=e.x,n=e.y;this.detachAxisGroupLabels(n,t),this.detachAxisGroupLabels(t,n)},t.prototype.detachAxisGroupLabels=function(e,t){for(var n=0,o=0;o<e.length;o++){var r=e[o],i=r.pane,a=Wq(t,i)||t[0],s=o+n,l=this.createLabelAxis(r,s,a);if(l){n++;var c=i.axes.indexOf(r)+n;i.appendAxisAt(l,c)}}},t.prototype.createLabelAxis=function(e,t,n){var o=e.options.labels,r=o.position,i=r!==YD&&r!==sN,a=o.visible;if(i||!1===a)return null;var s=this.groupAxes(this.panes),l=n.options.vertical?s.x:s.y,c=this.axisCrossingValues(n,l),d=r===YD,u=n.range(),p=d?u.max:u.min;if(gP(c[t],u.min,u.max)-p===0)return null;c.splice(t+1,0,p),n.options.axisCrossingValues=c;var h=e.clone();return e.clear(),h.options.name=void 0,h.options.line.visible=!1,h.options.crosshair=void 0,h.options.notes=void 0,h.options.plotBands=void 0,h},t.prototype.isTrendline=function(e){return e&&$N(e.type,mV)},t.prototype.trendlineFactory=function(){},t.prototype.createTrendlineSeries=function(){var e=this,t=[];return this.series=this.series.map((function(n){if(!e.isTrendline(n))return n;var o=e.seriesByName(n.for);if(!o)throw new Error('Invalid Configuration: Unable to locate linked series "'+n.for+'" for trendline "'+n.name+'".');var r=pB.current.valueFields(o),i=mP(r),a=e.trendlineFactory(Object.assign({},{field:i},n),o);return a&&(!1===o.visible&&(a.visible=!1),a.color===ZD&&(a.color=o.color),t.push(a)),a})).filter((function(e){return null!==e})),t},t.prototype.seriesByName=function(e){return this.series.find((function(t){return t.name===e}))},t.prototype.getFirstPoint=function(){for(var e=0;e<this.series.length;e++){var t=this.pointsBySeriesIndex(e).find(Hq);if(t)return t}},t.prototype.getPointBelow=function(e){return this._getNextPoint(e,this._pointsByVertical,1)},t.prototype.getPointAbove=function(e){return this._getNextPoint(e,this._pointsByVertical,-1)},t.prototype.getPointToTheRight=function(e){return this._getNextPoint(e,this._pointsByHorizontal,1)},t.prototype.getPointToTheLeft=function(e){return this._getNextPoint(e,this._pointsByHorizontal,-1)},t.prototype._getNextPoint=function(e,t,n){var o=this,r=t.call(this,e).filter(Hq),i=r.indexOf(e)+n,a=function(n){var r,i=0;do{i+=n,r=t.call(o,e,i).filter(Hq)}while(0===r.length);return r};return i<0?(r=a(-1)).at(-1):i>=r.length?(r=a(1)).at(0):r[i]},t.prototype._pointsByVertical=function(e){return this.pointsByPointIndex(e.getIndex())},t.prototype._pointsByHorizontal=function(e,t){void 0===t&&(t=0);var n=DN(e.series.index+t,this.series.length);return this.pointsBySeriesIndex(n)},t}(cF);function Uq(e){return!e.pane.axes.some((function(t){return t.options.vertical===e.options.vertical&&t!==e&&!1!==t.options.visible}))}function Gq(e){for(var t,n=e.length,o=0;o<n;o++){var r=e[o],i=!1!==r.options.visible;if(i||Uq(r)){var a=i?r.contentBox():r.lineBox();t?t.wrap(a):t=a.clone()}}return t||new fO}function Wq(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(o&&o.pane===t)return o}}var Kq=function(e){return e.reduce((function(e,t){return e.concat(t.axes)}),[])};SP(qq,{series:[],plotArea:{margin:{}},background:"",border:{color:BD,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});const Yq=qq;var Xq={hover:function(e,t){this._dispatchEvent(e,t,wV)},click:function(e,t){this._dispatchEvent(e,t,"plotAreaClick")}};const Qq=Xq;var Jq=function(e){function t(t,n,o){e.call(this);var r=n.canonicalFields(t),i=n.valueFields(t),a=n.sourceFields(t,r),s=this._seriesFields=[],l=o.query(t.type),c=t.aggregate||l;this._series=t,this._binder=n;for(var d=0;d<r.length;d++){var u=r[d],p=void 0;if(ON(c))p=c[u];else{if(0!==d&&!$N(u,i))break;p=c}p&&s.push({canonicalName:u,name:a[d],transform:NN(p)?p:dB[p]})}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.aggregatePoints=function(e,t){var n=this._series,o=this._seriesFields,r=this._bindPoints(e||[]),i=r.dataItems[0],a={};if(i&&!IN(i)&&!vN(i)){var s=function(){};s.prototype=i,a=new s}for(var l=0;l<o.length;l++){var c=o[l],d=this._bindField(r.values,c.canonicalName),u=c.transform(d,n,r.dataItems,t);if(!(null===u||!ON(u)||lP(u.length)||u instanceof Date)){a=u;break}lP(u)&&Zq(c.name,a,u)}return a},t.prototype._bindPoints=function(e){for(var t=this._binder,n=this._series,o=[],r=[],i=0;i<e.length;i++){var a=e[i];o.push(t.bindPoint(n,a)),r.push(n.data[a])}return{values:o,dataItems:r}},t.prototype._bindField=function(e,t){for(var n=[],o=e.length,r=0;r<o;r++){var i=e[r],a=i.valueFields,s=void 0;s=lP(a[t])?a[t]:i.fields[t],n.push(s)}return n},t}(uT);function Zq(e,t,n){var o=t,r=e;if(e.indexOf(".")>-1){for(var i=e.split(".");i.length>1;)r=i.shift(),lP(o[r])||(o[r]={}),o=o[r];r=i.shift()}o[r]=n}const $q=Jq;var eU=function(e){function t(){e.call(this),this._defaults={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.register=function(e,t){for(var n=0;n<e.length;n++)this._defaults[e[n]]=t},t.prototype.query=function(e){return this._defaults[e]},t}(uT);eU.current=new eU;const tU=eU;var nU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createLabel=function(){var e=this.options.labels,t=MN({},e,e.from),n=MN({},e,e.to);t.visible&&(this.labelFrom=this.createLabelElement(t),this.append(this.labelFrom)),n.visible&&(this.labelTo=this.createLabelElement(n),this.append(this.labelTo))},t.prototype.reflow=function(e){this.render();var t=this,n=t.labelFrom,o=t.labelTo,r=t.value;this.box=e,n&&(n.options.aboveAxis=r.from>r.to,n.reflow(e)),o&&(o.options.aboveAxis=r.to>r.from,o.reflow(e)),this.note&&this.note.reflow(e)},t}(ZH);nU.prototype.defaults=MN({},nU.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});const oU=nU;var rU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointType=function(){return oU},t.prototype.pointValue=function(e){return e.valueFields},t.prototype.formatPointValue=function(e,t){return null===e.value.from&&null===e.value.to?"":this.chartService.format.auto(t,e.value.from,e.value.to)},t.prototype.plotRange=function(e){return e?[e.value.from,e.value.to]:0},t.prototype.updateRange=function(e,t){var n=t.series.axis,o=e.from,r=e.to,i=this.valueAxisRanges[n];null!==e&&IN(o)&&IN(r)&&((i=this.valueAxisRanges[n]=i||{min:eN,max:tN}).min=Math.min(i.min,o),i.max=Math.max(i.max,o),i.min=Math.min(i.min,r),i.max=Math.max(i.max,r))},t.prototype.aboveAxis=function(e){var t=e.value;return t.from<t.to},t}(aq);rU.prototype.plotLimits=fH.prototype.plotLimits;const iU=rU;var aU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.aliasFor=function(){return this.parent},t}(bH);const sU=aU;var lU="auto",cU=function(e){function t(t,n){e.call(this),this.value=t,this.options=n,this.aboveAxis=wP(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=pM(),this.initLabelsFormat()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){if(!this._rendered){this._rendered=!0;var e=this.options,t=e.markers,n=e.labels,o=this.value,r=this.fromPoint=new sU(o,MN({},this.options,{labels:n.from,markers:t.from})),i=this.toPoint=new sU(o,MN({},this.options,{labels:n.to,markers:t.to}));this.copyFields(r),this.copyFields(i),this.append(r),this.append(i)}},t.prototype.reflow=function(e){this.render();var t=e.from,n=e.to;this.positionLabels(t,n),this.fromPoint.reflow(t),this.toPoint.reflow(n),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())},t.prototype.createHighlight=function(){var e=new JR;return e.append(this.fromPoint.createHighlight()),e.append(this.toPoint.createHighlight()),e},t.prototype.highlightVisual=function(){return this.visual},t.prototype.highlightVisualArgs=function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}},t.prototype.createFocusHighlight=function(){var e=new JR;return e.append(this.fromPoint.createFocusHighlight()),e.append(this.toPoint.createFocusHighlight()),e},t.prototype.tooltipAnchor=function(){var e=this.owner.pane.clipBox();if(!e||e.overlaps(this.box)){var t,n,o,r=this.box,i=r.center(),a=$D;return this.options.vertical?(t=i.x,n=r.y1-5,o=VD):(t=r.x2+5,n=i.y,o=HD),{point:new $M(t,n),align:{horizontal:a,vertical:o}}}},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.overlapsBox=function(e){return this.box.overlaps(e)},t.prototype.unclipElements=function(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()},t.prototype.initLabelsFormat=function(){var e=this.options.labels;e.format||(e.from&&e.from.format||(e.from=Object.assign({},e.from,{format:"{0}"})),e.to&&e.to.format||(e.to=Object.assign({},e.to,{format:"{1}"})))},t.prototype.positionLabels=function(e,t){var n,o,r=this.options,i=r.labels,a=r.vertical;i.position===lU&&(a?t.y1<=e.y1?(o=EB,n=_B):(o=_B,n=EB):t.x1<=e.x1?(o=$D,n=iN):(o=iN,n=$D),i.from&&i.from.position||(this.fromPoint.options.labels.position=n),i.to&&i.to.position||(this.toPoint.options.labels.position=o))},t.prototype.copyFields=function(e){e.dataItem=this.dataItem,e.category=this.category,e.series=this.series,e.color=this.color,e.owner=this.owner},t.prototype.focusVisual=function(){this.fromPoint.focusVisual()},t.prototype.clearFocusFromVisual=function(){this.toPoint.clearFocusFromVisual()},t.prototype.getIndex=function(){return this.categoryIx},t}(cF);MN(cU.prototype,gH),MN(cU.prototype,yH),cU.prototype.defaults={markers:{visible:!1,background:uN,size:8,type:qD,border:{width:2},opacity:1},labels:{visible:!1,margin:BN(3),padding:BN(4),animation:{type:xB,delay:yB},position:lU},notes:{label:{}},highlight:{markers:{border:{color:uN,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"},accessibility:{role:MV,className:OV,ariaRoleDescription:RV}};const dU=cU;var uU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))},t.prototype.stackSegments=function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),e},t.prototype.createStroke=function(e){var t=new LR(e),n=new LR(e);t.segments.push.apply(t.segments,this.strokeSegments()),n.segments.push.apply(n.segments,this.stackSegments()),this.visual.append(t),this.visual.append(n)},t.prototype.hasStackSegment=function(){return!0},t.prototype.fromPoints=function(){return this.linePoints.map((function(e){return e.fromPoint}))},t.prototype.toPoints=function(){return this.linePoints.map((function(e){return e.toPoint}))},t}(zH);const pU=uU;var hU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createStrokeSegments=function(){return this.createCurveSegments(this.toPoints())},t.prototype.stackSegments=function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),e},t.prototype.createCurveSegments=function(e){return(new eB).process(this.toGeometryPoints(e))},t}(pU);const fU=hU;var mU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createStrokeSegments=function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))},t.prototype.stackSegments=function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()))).reverse(),e},t}(pU);MN(mU.prototype,IH);const gU=mU;var vU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){e.prototype.render.call(this),this.renderSegments()},t.prototype.pointType=function(){return dU},t.prototype.createPoint=function(e,t){var n=t.series,o=t.seriesIx,r=e.valueFields;if(!aH(r.from)&&!aH(r.to)){if(this.seriesMissingValues(n)!==SB)return null;r={from:0,to:0}}var i=this.pointOptions(n,o);i=this.evalPointOptions(i,r,t);var a=e.fields.color||n.color;NN(n.color)&&(a=i.color);var s=new dU(r,i);return s.color=a,this.append(s),s},t.prototype.createSegment=function(e,t,n){var o=(t.line||{}).style;return new("smooth"===o?fU:"step"===o?gU:pU)(e,t,n)},t.prototype.plotRange=function(e,t){return e?[e.value.from,e.value.to]:[t,t]},t.prototype.valueSlot=function(e,t){var n=e.getSlot(t[0],t[0],!this.options.clip),o=e.getSlot(t[1],t[1],!this.options.clip);if(n&&o)return{from:n,to:o}},t.prototype.pointSlot=function(e,t){var n,o,r=t.from,i=t.to;return this.options.invertAxes?(n=new fO(r.x1,e.y1,r.x2,e.y2),o=new fO(i.x1,e.y1,i.x2,e.y2)):(n=new fO(e.x1,r.y1,e.x2,r.y2),o=new fO(e.x1,i.y1,e.x2,i.y2)),{from:n,to:o}},t.prototype.addValue=function(t,n){var o=t.valueFields;IN(o.from)||(o.from=o.to),IN(o.to)||(o.to=o.from),e.prototype.addValue.call(this,t,n)},t.prototype.updateRange=function(e,t){if(null!==e&&IN(e.from)&&IN(e.to)){var n=t.series.axis,o=this.valueAxisRanges[n]=this.valueAxisRanges[n]||{min:eN,max:tN},r=e.from,i=e.to;o.min=Math.min(o.min,r,i),o.max=Math.max(o.max,r,i)}},t.prototype.formatPointValue=function(e,t){var n=e.value;return this.chartService.format.auto(t,n.from,n.to)},t.prototype.animationPoints=function(){for(var e=this.points,t=[],n=0;n<e.length;n++){var o=e[n];o&&(t.push((o.fromPoint||{}).marker),t.push((o.toPoint||{}).marker))}return t.concat(this._segments)},t}(fH);MN(vU.prototype,NH,OH);const yU=vU;var xU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this,n=t.options,o=t.value,r=t.owner.seriesValueAxis(n),i=[],a=[],s=[],l=r.getSlot(o.low,o.high),c=r.getSlot(o.open,o.open),d=r.getSlot(o.close,o.close);c.x1=d.x1=l.x1=e.x1,c.x2=d.x2=l.x2=e.x2;var u=l.center().x;i.push([c.x1,c.y1]),i.push([u,c.y1]),a.push([u,d.y1]),a.push([d.x2,d.y1]),s.push([u,l.y1]),s.push([u,l.y2]),this.lines=[i,a,s],this.box=l.clone().wrap(c.clone().wrap(d)),this.reflowNote()},t.prototype.createBody=function(){},t}(lq);const bU=xU;var wU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointType=function(){return bU},t}(dq);const kU=wU;var CU=function(e){function t(t,n,o){e.call(this),this.from=t,this.to=n,this.series=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.linePoints=function(){var e=this.from,t=this.from.box,n=this.to.box,o=[];if(e.isVertical){var r=e.aboveAxis?t.y1:t.y2;o.push([t.x1,r],[n.x2,r])}else{var i=e.aboveAxis?t.x2:t.x1;o.push([i,t.y1],[i,n.y2])}return o},t.prototype.createVisual=function(){e.prototype.createVisual.call(this);var t=this.series.line||{},n=LR.fromPoints(this.linePoints(),{stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType}});CN(n),this.visual.append(n)},t}(cF);SP(CU,{animation:{type:xB,delay:yB}});const SU=CU;var IU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){e.prototype.render.call(this),this.createSegments()},t.prototype.traverseDataPoints=function(e){for(var t=this.options.series,n=$V(t),o=!this.options.invertAxes,r=0;r<t.length;r++)for(var i=t[r],a=0,s=0,l=0;l<n;l++){var c=pB.current.bindPoint(i,l),d=c.valueFields.value,u=c.fields.summary,p=a,h=void 0;u?"total"===u.toLowerCase()?(c.valueFields.value=a,p=0,h=a):(c.valueFields.value=s,h=p-s,s=0):IN(d)&&(s+=d,h=a+=d),e(c,{category:this.categoryAxis.categoryAt(l),categoryIx:l,series:i,seriesIx:r,total:a,runningTotal:s,from:p,to:h,isVertical:o})}},t.prototype.updateRange=function(t,n){e.prototype.updateRange.call(this,{value:n.to},n)},t.prototype.aboveAxis=function(e){return e.value>=0},t.prototype.plotRange=function(e){return[e.from,e.to]},t.prototype.createSegments=function(){for(var e=this.options.series,t=this.seriesPoints,n=this.segments=[],o=0;o<e.length;o++){var r=e[o],i=t[o];if(i)for(var a=void 0,s=0;s<i.length;s++){var l=i[s];if(l&&a){var c=new SU(a,l,r);n.push(c),this.append(c)}a=l}}},t}(aq);const EU=IU;const _U=function(e,t,n){var o=e[String(t)];return o?o(n):null};const jU=function(e,t){for(var n,o,r=0,i=0,a=0,s=0,l=0,c=Number.MAX_VALUE,d=Number.MIN_VALUE,u=0;u<e.length;u++){var p=t(e[u]),h=p.xValue,f=p.yValue;isFinite(h)&&null!==h&&isFinite(f)&&null!==f&&(c=Math.min(h,c),d=Math.max(h,d),l++,r+=h,i+=f,a+=Math.pow(h,2),s+=h*f)}return l>0&&(o=(i-(n=(l*s-r*i)/(l*a-Math.pow(r,2)))*r)/l),{slope:n,intercept:o,count:l,xMin:c,xMax:d}};const AU=function(e,t){return e.every((function(e){var n=e.valueFields;return!aH(n[t])||n[t]>0}))};const DU=function(e,t){for(var n=[],o=t.totalRangeIndices(),r=t.currentRangeIndices(),i={min:Math.floor(Math.max(r.min-1,o.min)),max:Math.ceil(Math.min(r.max+2,o.max))},a=i.min;a<i.max;a++){var s=a+1;n[a]={category:t.categoryAt(a,!0),value:e(s)}}return n};var NU=function(e){return function(t){var n=t.categoryIx,o=t.valueFields;return{xValue:n+1,yValue:Math.log(o[e])}}};const TU=function(e){var t=e.options,n=e.categoryAxis,o=function(e){var t=e.seriesValues,n=e.categoryAxis,o=e.options,r=t();if(!AU(r,o.field))return null;var i=jU(r,NU(o.field)),a=i.slope,s=i.intercept,l=i.count;if(l>0){var c=Math.exp(s),d=a;return DU((function(e){return c*Math.exp(d*e)}),n)}return null}({seriesValues:e.seriesValues,categoryAxis:n,options:t});return o?Object.assign({},t,{type:"line",data:o,categoryField:"category",field:"value"}):null};var PU=function(e){return function(t){return{xValue:t.categoryIx+1,yValue:t.valueFields[e]}}};const MU=function(e){var t=e.options,n=e.categoryAxis,o=function(e){var t=e.seriesValues,n=e.categoryAxis,o=e.options,r=jU(t(),PU(o.field)),i=r.slope,a=r.intercept,s=r.count;if(s>0)return DU((function(e){return i*e+a}),n);return null}({seriesValues:e.seriesValues,categoryAxis:n,options:t});return o?Object.assign({},t,{type:"line",data:o,categoryField:"category",field:"value"}):null};var OU=function(e){return function(t){var n=t.categoryIx,o=t.valueFields;return{xValue:Math.log(n+1),yValue:o[e]}}};const RU=function(e){var t=e.options,n=e.categoryAxis,o=function(e){var t=e.seriesValues,n=e.categoryAxis,o=e.options,r=jU(t(),OU(o.field)),i=r.slope,a=r.intercept,s=r.count;if(s>0){var l=i,c=a;return DU((function(e){return l*Math.log(e)+c}),n)}return null}({seriesValues:e.seriesValues,categoryAxis:n,options:t});return o?Object.assign({},t,{type:"line",data:o,categoryField:"category",field:"value"}):null};const FU=function(e,t,n){for(var o=[],r=[],i=Math.max(2,n)-1,a=0,s=0,l=0;l<e.length;l++){var c=t(e[l]),d=c.xValue,u=c.yValue;if(isFinite(u)&&null!==u?(r.push(u),s+=u,a=Math.max(l,a)):r.push(null),l>=i){var p=r.filter((function(e){return null!==e})).length,h=r.shift()||0;if(p>0){var f=s/p;o.push([d,f]),s-=h;continue}}o.push([d,null])}return o.slice(0,a+1)};var LU=function(e){return function(t){return{xValue:t.categoryIx,yValue:t.valueFields[e]}}};const zU=function(e){var t=e.options,n=function(e){var t=e.categoryAxis,n=function(e){var t=e.options,n=e.categoryAxis,o=e.seriesValues,r=(t.trendline||{}).period||2,i=n.totalRangeIndices(),a=n.currentRangeIndices(),s={min:Math.floor(Math.max(a.min-r,i.min)),max:Math.ceil(Math.min(a.max+r+2,i.max))};return FU(o(s),LU(t.field),r)}(e),o=[];if(n.forEach((function(e){var n=e[0],r=e[1];o[n]={category:t.categoryAt(n,!0),value:r}})),o.length>0)return o;return null}(e);return n?Object.assign({},t,{type:"line",data:n,categoryField:"category",field:"value"}):null};const BU=function(e,t,n){for(var o=Math.min(Math.max(n||1,1),6)+1,r=new lM,i=new lM,a=0,s=Number.MAX_VALUE,l=Number.MIN_VALUE,c=function(e){return e},d=[],u=0;u<e.length;u++){var p=t(e[u]),h=p.xValue,f=p.yValue;if(isFinite(h)&&null!==h&&isFinite(f)&&null!==f){s=Math.min(h,s),l=Math.max(h,l),a++,i.set(u,0,f),r.set(u,0,1),r.set(u,1,h);for(var m=2;m<=o;m++)r.set(u,m,Math.pow(r.get(u,1),m))}else r.set(u,0,0)}return r.width=Math.min(o,a),a>0&&(d=function(e,t){for(var n=e.transpose(),o=n.multiply(e).inverse().multiply(n).multiply(t),r=[],i=0;i<o.height;i++)r.push(o.get(i,0));return r}(r,i),c=function(e){return d.reduce((function(t,n,o){return t+n*Math.pow(e,o)}),0)}),{coefficients:d,count:a,valueMapper:c,xMin:s,xMax:l}};var VU=function(e){return function(t){return{xValue:t.categoryIx+1,yValue:t.valueFields[e]}}};const HU=function(e){var t=e.options,n=e.categoryAxis,o=function(e){var t=e.seriesValues,n=e.categoryAxis,o=e.options,r=(o.trendline||{}).order,i=BU(t(),VU(o.field),r),a=i.count,s=i.valueMapper;if(a>0)return DU((function(e){return s(e)}),n);return null}({seriesValues:e.seriesValues,categoryAxis:n,options:t});return o?Object.assign({},t,{type:"line",data:o,categoryField:"category",field:"value"}):null};var qU=function(e){return function(t){var n=t.categoryIx,o=t.valueFields;return{xValue:Math.log(n+1),yValue:Math.log(o[e])}}};const UU=function(e){var t=e.options,n=e.categoryAxis,o=function(e){var t=e.seriesValues,n=e.categoryAxis,o=e.options,r=t();if(!AU(r,o.field))return null;var i=jU(r,qU(o.field)),a=i.slope,s=i.intercept,l=i.count;if(l>0){var c=Math.exp(s),d=a;return DU((function(e){return c*Math.pow(e,d)}),n)}return null}({seriesValues:e.seriesValues,categoryAxis:n,options:t});return o?Object.assign({},t,{type:"line",data:o,categoryField:"category",field:"value"}):null};var GU={};GU[cV]=TU,GU[dV]=MU,GU[uV]=RU,GU[pV]=zU,GU[hV]=HU,GU[fV]=UU;const WU=GU;var KU=[DB,nV,JB,aV],YU=[HB,iV].concat(KU),XU=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(e){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new KH,this._seriesPointsCache={},this._currentPointsCache={},e.length>0){this.invertAxes=$N(e[0].type,[NB,MB,iV,nV,aV,ZB,VB,oV]);for(var t=0;t<e.length;t++){var n=e[t].stack;if(n&&"100%"===n.type){this.stack100=!0;break}}}},t.prototype.render=function(e){void 0===e&&(e=this.panes),this.series=[].concat(this.originalSeries),this.createCategoryAxes(e),this.aggregateCategories(e),this.createTrendlineSeries(e),this.createCategoryAxesLabels(e),this.createCharts(e),this.createValueAxes(e)},t.prototype.removeAxis=function(t){var n=t.options.name;e.prototype.removeAxis.call(this,t),t instanceof hz?delete this.namedCategoryAxes[n]:(this.valueAxisRangeTracker.reset(n),delete this.namedValueAxes[n]),t===this.categoryAxis&&delete this.categoryAxis,t===this.valueAxis&&delete this.valueAxis},t.prototype.trendlineFactory=function(e,t){var n=this.seriesCategoryAxis(e),o=this.seriesValues.bind(this,t.index),r=_U(WU,e.type,{options:e,categoryAxis:n,seriesValues:o});return r?(r.categoryAxis=t.categoryAxis,r.valueAxis=t.valueAxis,this.filterSeries(r,n)):r},t.prototype.trendlineAggregateForecast=function(){return this.series.map((function(e){return(e.trendline||{}).forecast})).filter((function(e){return void 0!==e})).reduce((function(e,t){return{before:Math.max(e.before,t.before||0),after:Math.max(e.after,t.after||0)}}),{before:0,after:0})},t.prototype.seriesValues=function(e,t){var n=[],o=this.srcSeries[e],r=this.seriesCategoryAxis(o);eH(r.options.type,GD)&&(this._seriesPointsCache={},this._currentPointsCache={},r.options.dataItems=[],o=this.aggregateSeries(o,r,r.totalRangeIndices()));for(var i=t?t.min:0,a=t?t.max:o.data.length,s=i;s<a;s++){var l=this.bindPoint(o,s);n.push({categoryIx:s,category:l.fields.category,valueFields:l.valueFields})}return n},t.prototype.createCharts=function(e){for(var t=this,n=this.groupSeriesByPane(),o=0;o<e.length;o++){var r=e[o],i=n[r.options.name||"default"]||[];t.addToLegend(i);var a=t.filterVisibleSeries(i);if(a)for(var s=t.groupSeriesByCategoryAxis(a),l=0;l<s.length;l++)t.createChartGroup(s[l],r)}},t.prototype.createChartGroup=function(e,t){this.createAreaChart(nH(e,[DB,nV]),t),this.createRangeAreaChart(nH(e,[JB,aV]),t),this.createBarChart(nH(e,[RB,NB]),t),this.createRangeBarChart(nH(e,[$B,ZB]),t),this.createBulletChart(nH(e,[MB,rV]),t),this.createCandlestickChart(nH(e,OB),t),this.createBoxPlotChart(nH(e,[TB,oV]),t),this.createOHLCChart(nH(e,qB),t),this.createWaterfallChart(nH(e,[sV,VB]),t),this.createLineChart(nH(e,[HB,iV]),t)},t.prototype.aggregateCategories=function(e){var t=this,n=[].concat(this.series),o=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(var r=0;r<n.length;r++){var i=n[r];if(!t.isTrendline(i)){var a=t.seriesCategoryAxis(i),s=t.findPane(a.options.pane);i=(eH(a.options.type,GD)||i.categoryField)&&$N(s,e)?t.aggregateSeries(i,a,a.currentRangeIndices()):t.filterSeries(i,a)}o.push(i)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=n,this.series=o},t.prototype.filterSeries=function(e,t){var n=(e.data||{}).length;if(t._seriesMax=Math.max(t._seriesMax||0,n),!lP(t.options.min)&&!lP(t.options.max))return e;var o=t.currentRangeIndices(),r=$N(e.type,YU),i=MN({},e);return i.data=(i.data||[]).slice(o.min,o.max+1),r&&pH(i,o,n,(function(n){return{item:e.data[n],category:t.categoryAt(n,!0),categoryIx:n-o.min}}),(function(t){return lP(e.data[t])})),i},t.prototype.clearSeriesPointsCache=function(){this._seriesPointsCache={}},t.prototype.seriesSourcePoints=function(e,t){var n=e.index+";"+t.categoriesHash();if(this._seriesPointsCache&&this._seriesPointsCache[n])return this._currentPointsCache[n]=this._seriesPointsCache[n],this._seriesPointsCache[n];var o=t.options,r=o.srcCategories,i=eH(o.type,GD),a=e.data,s=[];i||t.indexCategories();for(var l=0;l<a.length;l++){var c=pB.current.bindPoint(e,l).fields.category;if(i&&(c=rH(c,a[l],this.chartService.intl)),lP(c)||(c=r[l]),lP(c)&&null!==c){var d=t.totalIndex(c);s[d]=s[d]||{items:[],category:c},s[d].items.push(l)}}return this._currentPointsCache[n]=s,s},t.prototype.aggregateSeries=function(e,t,n){if(!e.data.length)return e;for(var o=this.seriesSourcePoints(e,t),r=MN({},e),i=new $q(MN({},e),pB.current,tU.current),a=r.data=[],s=t.options.dataItems||[],l=function(e){var r=e-n.min,a=o[e];if(a||(a=o[e]={}),a.categoryIx=r,!a.item){var s=t.categoryAt(e,!0);a.category=s,a.item=i.aggregatePoints(a.items,s)}return a},c=n.min;c<=n.max;c++){var d=l(c);a[d.categoryIx]=d.item,d.items&&d.items.length&&(s[d.categoryIx]=d.item)}return $N(r.type,YU)&&pH(r,n,t.totalCount(),l,(function(e){return o[e]})),t.options.dataItems=s,r},t.prototype.appendChart=function(t,n){var o=t.options.series,r=this.seriesCategoryAxis(o[0]),i=r.options.categories,a=Math.max(0,$V(o)-i.length);if(a>0)for(i=r.options.categories=r.options.categories.slice(0);a--;)i.push("");this.valueAxisRangeTracker.update(t.valueAxisRanges),e.prototype.appendChart.call(this,t,n)},t.prototype.seriesPaneName=function(e){var t=this.options,n=e.axis,o=XN([].concat(t.valueAxis),(function(e){return e.name===n}))[0],r=((t.panes||[{}])[0]||{}).name||"default";return(o||{}).pane||r},t.prototype.seriesCategoryAxis=function(e){var t=e.categoryAxis,n=t?this.namedCategoryAxes[t]:this.categoryAxis;if(!n)throw new Error("Unable to locate category axis with name "+t);return n},t.prototype.stackableChartOptions=function(e,t){var n=e.some((function(e){return e.stack})),o=e.some((function(e){return e.stack&&"100%"===e.stack.type})),r=t.options.clip;return{defaultStack:e[0].stack,isStacked:n,isStacked100:o,clip:r}},t.prototype.groupSeriesByCategoryAxis=function(e){for(var t=[],n={},o=0;o<e.length;o++){var r=e[o].categoryAxis||"$$default$$";aM(n,r)||(n[r]=!0,t.push(r))}for(var i=[],a=0;a<t.length;a++){var s=JU(e,t[a],a);0!==s.length&&i.push(s)}return i},t.prototype.createBarChart=function(e,t){if(0!==e.length){var n=e[0],o=new aq(this,Object.assign({series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing},this.stackableChartOptions(e,t)));this.appendChart(o,t)}},t.prototype.createRangeBarChart=function(e,t){if(0!==e.length){var n=e[0],o=new iU(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(o,t)}},t.prototype.createBulletChart=function(e,t){if(0!==e.length){var n=e[0],o=new Dq(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing,clip:t.options.clip});this.appendChart(o,t)}},t.prototype.createLineChart=function(e,t){if(0!==e.length){var n=new FH(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e,t)));this.appendChart(n,t)}},t.prototype.createAreaChart=function(e,t){if(0!==e.length){var n=new GH(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e,t)));this.appendChart(n,t)}},t.prototype.createRangeAreaChart=function(e,t){if(0!==e.length){var n=new yU(this,{invertAxes:this.invertAxes,series:e,clip:t.options.clip});this.appendChart(n,t)}},t.prototype.createOHLCChart=function(e,t){if(0!==e.length){var n=e[0],o=new kU(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(o,t)}},t.prototype.createCandlestickChart=function(e,t){if(0!==e.length){var n=e[0],o=new dq(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(o,t)}},t.prototype.createBoxPlotChart=function(e,t){if(0!==e.length){var n=e[0],o=new gq(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(o,t)}},t.prototype.createWaterfallChart=function(e,t){if(0!==e.length){var n=e[0],o=new EU(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(o,t)}},t.prototype.axisRequiresRounding=function(e,t){for(var n=nH(this.series,lV),o=0;o<this.series.length;o++){var r=this.series[o];if($N(r.type,KU)){var i=r.line;i&&i.style===AB&&n.push(r)}}for(var a=0;a<n.length;a++){var s=n[a].categoryAxis||"";if(s===e||!s&&0===t)return!0}},t.prototype.aggregatedAxis=function(e,t){for(var n=this.series,o=0;o<n.length;o++){var r=n[o].categoryAxis||"";if((r===e||!r&&0===t)&&n[o].categoryField)return!0}},t.prototype.createCategoryAxesLabels=function(){for(var e=this.axes,t=0;t<e.length;t++)e[t]instanceof hz&&e[t].createLabels()},t.prototype.createCategoryAxes=function(e){for(var t=this,n=this.invertAxes,o=[].concat(this.options.categoryAxis),r=[],i=0;i<o.length;i++){var a=o[i];if($N(t.findPane(a.pane),e)){var s=a.name,l=a.categories;void 0===l&&(l=[]),a=MN({vertical:n,reverse:!n&&t.chartService.rtl,axisCrossingValue:n?eN:0},a),lP(a.justified)||(a.justified=t.isJustified()),t.axisRequiresRounding(s,i)&&(a.justified=!1);var c=void 0;if(sH(a,l[0])?(a._forecast=t.trendlineAggregateForecast(),c=new Sz(a,t.chartService)):c=new hz(a,t.chartService),o[i].categories=c.options.srcCategories,s){if(t.namedCategoryAxes[s])throw new Error("Category axis with name "+s+" is already defined");t.namedCategoryAxes[s]=c}c.axisIndex=i,r.push(c),t.appendAxis(c)}}var d=this.categoryAxis||r[0];this.categoryAxis=d,n?this.axisY=d:this.axisX=d},t.prototype.isJustified=function(){for(var e=this.series,t=0;t<e.length;t++){if(!$N(e[t].type,KU))return!1}return!0},t.prototype.createValueAxes=function(e){var t=this,n=this.valueAxisRangeTracker,o=n.query(),r=[].concat(this.options.valueAxis),i=this.invertAxes,a={vertical:!i,reverse:i&&this.chartService.rtl},s=[];this.stack100&&(a.roundToMajorUnit=!1,a.labels={format:"P0"});for(var l=0;l<r.length;l++){var c=r[l];if($N(t.findPane(c.pane),e)){var d=c.name,u=eH(c.type,FV)?{min:.1,max:1}:{min:0,max:1},p=n.query(d)||o||u;0===l&&p&&o&&(p.min=Math.min(p.min,o.min),p.max=Math.max(p.max,o.max));var h=new(eH(c.type,FV)?Lz:Nz)(p.min,p.max,MN({},a,c),t.chartService);if(d){if(t.namedValueAxes[d])throw new Error("Value axis with name "+d+" is already defined");t.namedValueAxes[d]=h}h.axisIndex=l,s.push(h),t.appendAxis(h)}}var f=this.valueAxis||s[0];this.valueAxis=f,i?this.axisX=f:this.axisY=f},t.prototype._dispatchEvent=function(e,t,n){var o=e._eventCoordinates(t),r=new $M(o.x,o.y),i=this.pointPane(r),a=[],s=[];if(i){for(var l=i.axes,c=0;c<l.length;c++){var d=l[c];d.getValue?XV(s,d.getValue(r)):XV(a,d.getCategory(r))}0===a.length&&XV(a,this.categoryAxis.getCategory(r)),a.length>0&&s.length>0&&e.trigger(n,{element:hP(t),originalEvent:t,category:lH(a),value:lH(s)})}},t.prototype.pointPane=function(e){for(var t=this.panes,n=0;n<t.length;n++){var o=t[n];if(o.contentBox.containsPoint(e))return o}},t.prototype.updateAxisOptions=function(e,t){QU(this.options,e,t),QU(this.originalOptions,e,t)},t.prototype._pointsByVertical=function(e,t){return void 0===t&&(t=0),this.invertAxes?this._siblingsBySeriesIndex(e.series.index,t):this._siblingsByPointIndex(e.getIndex())},t.prototype._pointsByHorizontal=function(e,t){if(void 0===t&&(t=0),this.invertAxes)return this._siblingsByPointIndex(e.getIndex());var n=this._siblingsBySeriesIndex(e.series.index,t);return this.chartService.rtl?n.reverse():n},t.prototype._siblingsByPointIndex=function(e){for(var t=this.charts,n=[],o=0;o<t.length;o++){var r=t[o];if(!r.pane||"_navigator"!==r.pane.options.name){var i=r.points.filter((function(t){return t&&!1!==t.visible&&t.getIndex()===e}));n.push.apply(n,i.sort(this._getSeriesCompareFn(i[0])))}}return n},t.prototype._siblingsBySeriesIndex=function(e,t){var n=DN(e+t,this.series.length);return this.pointsBySeriesIndex(n)},t.prototype._getSeriesCompareFn=function(e){var t=this._isInStackedSeries(e);return t&&this.invertAxes||!t&&!this.invertAxes?function(e,t){return e.box.center().x-t.box.center().x}:function(e,t){return e.box.center().y-t.box.center().y}},t.prototype._isInStackedSeries=function(e){var t=$N(e.series.type,[DB,nV,JB,aV,HB,iV,QB,YB]),n=$N(e.series.type,[RB,NB]);return t||n&&e.options.isStacked},t}(Yq);function QU(e,t,n){MN([].concat(t instanceof hz?e.categoryAxis:e.valueAxis)[t.axisIndex],n)}function JU(e,t,n){return XN(e,(function(e){return 0===n&&!e.categoryAxis||e.categoryAxis===t}))}SP(XU,{categoryAxis:{},valueAxis:{}}),MN(XU.prototype,Qq);const ZU=XU;var $U=function(e){function t(){e.call(this),this._events={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bind=function(e,t,n){var o=arguments,r=this,i=tG(e),a=eG(t),s=i.length;if(void 0===t){for(var l in e)r.bind(l,e[l]);return this}for(var c=function(e){var s=i[e],l=a?t:t[s];if(l){if(n){var c=l;(l=function(){r.unbind(s,l),c.apply(r,o)}).original=c}(r._events[s]=r._events[s]||[]).push(l)}},d=0;d<s;d++)c(d);return this},t.prototype.one=function(e,t){return this.bind(e,t,!0)},t.prototype.first=function(e,t){for(var n=tG(e),o=eG(t),r=0,i=n.length;r<i;r++){var a=n[r],s=o?t:t[a];if(s)(this._events[a]=this._events[a]||[]).unshift(s)}return this},t.prototype.trigger=function(e,t){void 0===t&&(t={});var n=this._events[e];if(n){var o=n.length;t.sender=this,t._defaultPrevented=!1,t.preventDefault=nG,t.isDefaultPrevented=oG,n=n.slice();for(var r=0;r<o;r++)n[r].call(this,t);return!0===t._defaultPrevented}return!1},t.prototype.unbind=function(e,t){var n=this._events[e];if(void 0===e)this._events={};else if(n)if(t)for(var o=n.length-1;o>=0;o--)n[o]!==t&&n[o].original!==t||n.splice(o,1);else this._events[e]=[];return this},t}(uT);function eG(e){return"function"===typeof e}function tG(e){return"string"===typeof e?[e]:e}function nG(){this._defaultPrevented=!0}function oG(){return!0===this._defaultPrevented}var rG=["click","mouseenter","mouseleave","mousemove","resize"],iG=function(e){function t(t,n){e.call(this),this.options=Object.assign({},n),this.element=t,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new JR,BT(t,this.options),this.bind(rG,this.options),this._enableTracking()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.draw=function(e){this._visual.children.push(e)},t.prototype.clear=function(){this._visual.children=[]},t.prototype.destroy=function(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()},t.prototype.eventTarget=function(e){for(var t,n=_T(e);!t&&n&&(t=n._kendoNode,n!==this.element);)n=n.parentElement;if(t)return t.srcElement},t.prototype.exportVisual=function(){return this._visual},t.prototype.getSize=function(){return BT(this.element)},t.prototype.currentSize=function(e){if(!e)return this._size;this._size=e},t.prototype.setSize=function(e){BT(this.element,e),this.currentSize(e),this._resize()},t.prototype.resize=function(e){var t=this.getSize(),n=this.currentSize();(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this.currentSize(t),this._resize(t,e),this.trigger("resize",t))},t.prototype.size=function(e){if(!e)return this.getSize();this.setSize(e)},t.prototype.suspendTracking=function(){this._suspendedTracking=!0},t.prototype.resumeTracking=function(){this._suspendedTracking=!1},t.prototype._enableTracking=function(){},t.prototype._resize=function(){},t.prototype._handler=function(e){var t=this;return function(n){var o=t.eventTarget(n);o&&!t._suspendedTracking&&t.trigger(e,{element:o,originalEvent:n,type:e})}},t.prototype._elementOffset=function(){var e=this.element,t=HT(e),n=FT(e),o=n.left,r=n.top;return{left:o+t.left,top:r+t.top}},t.prototype._surfacePoint=function(e){var t=this._elementOffset(),n=ET(e),o=n.x-t.left,r=n.y-t.top,i=KT(this.element).invert();return new sO(o,r).transform(i)},t}($U);const aG=iG;var sG=function(e){function t(t){e.call(this),this.childNodes=[],this.parent=null,t&&(this.srcElement=t,this.observe())}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.srcElement&&this.srcElement.removeObserver(this);for(var e=this.childNodes,t=0;t<e.length;t++)this.childNodes[t].destroy();this.parent=null},t.prototype.load=function(){},t.prototype.observe=function(){this.srcElement&&this.srcElement.addObserver(this)},t.prototype.append=function(e){this.childNodes.push(e),e.parent=this},t.prototype.insertAt=function(e,t){this.childNodes.splice(t,0,e),e.parent=this},t.prototype.remove=function(e,t){for(var n=e+t,o=e;o<n;o++)this.childNodes[o].removeSelf();this.childNodes.splice(e,t)},t.prototype.removeSelf=function(){this.clear(),this.destroy()},t.prototype.clear=function(){this.remove(0,this.childNodes.length)},t.prototype.invalidate=function(){this.parent&&this.parent.invalidate()},t.prototype.geometryChange=function(){this.invalidate()},t.prototype.optionsChange=function(){this.invalidate()},t.prototype.childrenChange=function(e){"add"===e.action?this.load(e.items,e.index):"remove"===e.action&&this.remove(e.index,e.items.length),this.invalidate()},t}(uT);const lG=sG;function cG(e,t){return kN(t)&&null!==t?" "+e+'="'+t+'" ':""}function dG(e){for(var t="",n=0;n<e.length;n++)t+=cG(e[n][0],e[n][1]);return t}function uG(e){for(var t="",n=0;n<e.length;n++){var o=e[n][1];kN(o)&&(t+=e[n][0]+":"+o+";")}if(""!==t)return t}const pG={};var hG=function(){return"undefined"!==typeof window},fG={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},mG={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},gG={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},vG={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},yG=function(e,t,n){for(var o in t)if(t.hasOwnProperty(o)&&t[o].test(e))return o;return void 0!==n?n:e},xG=hG()&&window.navigator?window.navigator.userAgent:null,bG=xG?function(e){var t=null,n=[];for(var o in gG)if(gG.hasOwnProperty(o)&&(n=e.match(gG[o]))){(t={})[o]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t}(xG):null,wG=(xG&&function(e){var t,n=[];for(var o in fG)if(fG.hasOwnProperty(o)){if(!(n=e.match(fG[o])))continue;if("windows"===o&&"plugins"in window.navigator)return null;var r={};return r.device=o,r.browser=yG(e,vG,"default"),r.name=yG(o,mG),r[r.name]=!0,r.majorVersion=n[2],r.minorVersion=n[3]?n[3].replace("_","."):".0",t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),r.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||r.cordova,r}}(xG),hG()&&window,bG&&!bG.chrome&&window.MSPointerEvent,bG&&!bG.chrome&&window.PointerEvent,{});wG[void 0]=function(e){return e};var kG=/\/\*[\s\S]*?\*\//g,CG=/([^\s:;]+?)\s*:\s*((?:(?:url\(\s*(?:(?:[^"')\\]|\\.)*|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')\s*\)|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|[^;"'])*?)\s*)(?=;|$)/gi,SG=/&quot;|&#34;|&#x22;/gi,IG=/&apos;|&#39;|&#x27;/gi;function EG(e){for(var t,n,o={},r=(e||"").replace(kG,"").replace(SG,'"').replace(IG,"'"),i=CG.exec(r);null!==i;)t=i[1].trim(),n=i[2].trim(),o[t]=n,i=CG.exec(r);return o}var _G="data-style",jG=function(e){return(e||"").replace(/\sstyle=/g," "+_G+"=")},AG=function(e){Array.from(e.querySelectorAll("["+_G+"]")).forEach((function(e){var t=e.getAttribute(_G);e.removeAttribute(_G),function(e,t){var n=EG(t);Object.keys(n).forEach((function(t){e.style[t]=n[t]}))}(e,t)}))},DG="http://www.w3.org/2000/svg",NG="none",TG=function(e,t){!function(e,t){e.innerHTML=jG(t),AG(e)}(e,t)};if("undefined"!==typeof document){var PG="<svg xmlns='"+DG+"'></svg>",MG=document.createElement("div"),OG="undefined"!==typeof DOMParser;MG.innerHTML=PG,OG&&MG.firstChild.namespaceURI!==DG&&(TG=function(e,t){var n=(new DOMParser).parseFromString(jG(t),"text/xml");AG(n);var o=document.adoptNode(n.documentElement);e.innerHTML="",e.appendChild(o)})}const RG=TG;var FG=/&/g,LG=/</g,zG=/"/g,BG=/'/g,VG=/>/g;function HG(e){return String(e).replace(FG,"&amp;").replace(LG,"&lt;").replace(VG,"&gt;").replace(zG,"&quot;").replace(BG,"&#39;")}var qG="transform",UG={clip:"clip-path",fill:"fill"};function GG(e,t){return"clip"===e||"fill"===e&&(!t||"Gradient"===t.nodeType||t.nodeType===WO)}var WG=function(e){function t(t,n){e.call(this,t),this.definitions={},this.options=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),e.prototype.destroy.call(this)},t.prototype.load=function(e,t){for(var n=this,o=0;o<e.length;o++){var r=e[o],i=r.children,a=new pG[r.nodeType](r,n.options);kN(t)?n.insertAt(a,t):n.append(a),a.createDefinitions(),i&&i.length>0&&a.load(i);var s=n.element;s&&a.attachTo(s,t)}},t.prototype.root=function(){for(var e=this;e.parent;)e=e.parent;return e},t.prototype.attachTo=function(e,t){var n=document.createElement("div");RG(n,"<svg xmlns='"+DG+"' version='1.1'>"+this.render()+"</svg>");var o=n.firstChild.firstChild;o&&(kN(t)?e.insertBefore(o,e.childNodes[t]||null):e.appendChild(o),this.setElement(o))},t.prototype.setElement=function(e){this.element&&(this.element._kendoNode=null),this.element=e,this.element._kendoNode=this;for(var t=this.childNodes,n=0;n<t.length;n++){var o=e.childNodes[n];t[n].setElement(o)}},t.prototype.clear=function(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");for(var e=this.childNodes,t=0;t<e.length;t++)e[t].destroy();this.childNodes=[]},t.prototype.removeSelf=function(){if(this.element){var t=this.element.parentNode;t&&t.removeChild(this.element),this.element=null}e.prototype.removeSelf.call(this)},t.prototype.template=function(){return this.renderChildren()},t.prototype.render=function(){return this.template()},t.prototype.renderChildren=function(){for(var e=this.childNodes,t="",n=0;n<e.length;n++)t+=e[n].render();return t},t.prototype.optionsChange=function(t){var n=t.field,o=t.value;"visible"===n?this.css("display",o?"":NG):UG[n]&&GG(n,o)?this.updateDefinition(n,o):"opacity"===n?this.attr("opacity",o):"cursor"===n?this.css("cursor",o):"id"===n&&(o?this.attr("id",o):this.removeAttr("id")),e.prototype.optionsChange.call(this,t)},t.prototype.accessibilityOptionsChange=function(e){var t=e.field,n=e.value;"role"===t?n?this.attr("role",n):this.removeAttr("role"):"ariaLabel"===t?n?this.attr("aria-label",HG(n)):this.removeAttr("aria-label"):"ariaRoleDescription"===t?n?this.attr("aria-roledescription",HG(n)):this.removeAttr("aria-roledescription"):"ariaChecked"===t?kN(n)?this.attr("aria-checked",n):this.removeAttr("aria-checked"):"className"===t&&this.className(n)},t.prototype.attr=function(e,t){this.element&&this.element.setAttribute(e,t)},t.prototype.allAttr=function(e){for(var t=0;t<e.length;t++)this.attr(e[t][0],e[t][1])},t.prototype.toggleAttr=function(e,t){t?this.attr(e,t):this.removeAttr(e)},t.prototype.css=function(e,t){this.element&&(this.element.style[e]=t)},t.prototype.allCss=function(e){for(var t=0;t<e.length;t++)this.css(e[t][0],e[t][1])},t.prototype.className=function(e){var t,n=this;this.element&&((t=this.element.classList).remove.apply(t,this.element.classList),e.split(" ").forEach((function(e){n.element.classList.add(e)})))},t.prototype.removeAttr=function(e){this.element&&this.element.removeAttribute(e)},t.prototype.mapTransform=function(e){var t=[];return e&&t.push([qG,"matrix("+e.matrix().toString(6)+")"]),t},t.prototype.renderTransform=function(){return dG(this.mapTransform(this.srcElement.transform()))},t.prototype.transformChange=function(e){e?this.allAttr(this.mapTransform(e)):this.removeAttr(qG)},t.prototype.mapStyle=function(){var e=this.srcElement.options,t=[["cursor",e.cursor]];return!1===e.visible&&t.push(["display",NG]),t},t.prototype.renderStyle=function(){return cG("style",uG(this.mapStyle(!0)))},t.prototype.renderOpacity=function(){return cG("opacity",this.srcElement.options.opacity)},t.prototype.renderId=function(){return cG("id",this.srcElement.options.id)},t.prototype.renderClassName=function(){return cG("class",this.srcElement.options.className)},t.prototype.renderRole=function(){return cG("role",this.srcElement.options.role)},t.prototype.renderAriaLabel=function(){var e=this.srcElement.options.ariaLabel;return e&&(e=HG(e)),cG("aria-label",e)},t.prototype.renderAriaRoleDescription=function(){var e=this.srcElement.options.ariaRoleDescription;return e&&(e=HG(e)),cG("aria-roledescription",e)},t.prototype.renderAriaChecked=function(){return cG("aria-checked",this.srcElement.options.ariaChecked)},t.prototype.createDefinitions=function(){var e=this.srcElement,t=this.definitions;if(e){var n,o=e.options;for(var r in UG){var i=o.get(r);i&&GG(r,i)&&(t[r]=i,n=!0)}n&&this.definitionChange({action:"add",definitions:t})}},t.prototype.definitionChange=function(e){this.parent&&this.parent.definitionChange(e)},t.prototype.updateDefinition=function(e,t){var n=this.definitions,o=n[e],r=UG[e],i={};o&&(i[e]=o,this.definitionChange({action:"remove",definitions:i}),delete n[e]),t?(i[e]=t,this.definitionChange({action:"add",definitions:i}),n[e]=t,this.attr(r,this.refUrl(t.id))):o&&this.removeAttr(r)},t.prototype.clearDefinitions=function(){var e=this.definitions;this.definitionChange({action:"remove",definitions:e}),this.definitions={}},t.prototype.renderDefinitions=function(){return dG(this.mapDefinitions())},t.prototype.mapDefinitions=function(){var e=this.definitions,t=[];for(var n in e)t.push([UG[n],this.refUrl(e[n].id)]);return t},t.prototype.refUrl=function(e){var t=(this.options||{}).skipBaseHref,n=this.baseUrl().replace(/'/g,"\\'");return"url("+(t?"":n)+"#"+e+")"},t.prototype.baseUrl=function(){return function(){var e=document.getElementsByTagName("base")[0],t=document.location.href,n="";if(e&&!(lT.browser||{}).msie){var o=t.indexOf("#");-1!==o&&(t=t.substring(0,o)),n=t}return n}()},t}(lG);const KG=WG;var YG=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.template=function(){return"<stop "+this.renderOffset()+" "+this.renderStyle()+" />"},t.prototype.renderOffset=function(){return cG("offset",this.srcElement.offset())},t.prototype.mapStyle=function(){var e=this.srcElement;return[["stop-color",e.color()],["stop-opacity",e.opacity()]]},t.prototype.optionsChange=function(e){"offset"===e.field?this.attr(e.field,e.value):"color"!==e.field&&"opacity"!==e.field||this.css("stop-"+e.field,e.value)},t}(KG);const XG=YG;var QG=function(e){function t(t){e.call(this,t),this.id=t.id,this.loadStops()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.loadStops=function(){for(var e=this.srcElement.stops,t=this.element,n=0;n<e.length;n++){var o=new XG(e[n]);this.append(o),t&&o.attachTo(t)}},t.prototype.optionsChange=function(e){"gradient.stops"===e.field?(lG.prototype.clear.call(this),this.loadStops()):"gradient"===e.field&&this.allAttr(this.mapCoordinates())},t.prototype.renderCoordinates=function(){return dG(this.mapCoordinates())},t.prototype.mapSpace=function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]},t}(KG);const JG=QG;var ZG=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.template=function(){return"<linearGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</linearGradient>"},t.prototype.mapCoordinates=function(){var e=this.srcElement,t=e.start(),n=e.end();return[["x1",t.x],["y1",t.y],["x2",n.x],["y2",n.y],this.mapSpace()]},t}(JG);const $G=ZG;var eW=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.template=function(){return"<radialGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</radialGradient>"},t.prototype.mapCoordinates=function(){var e=this.srcElement,t=e.center(),n=e.radius();return[["cx",t.x],["cy",t.y],["r",n],this.mapSpace()]},t}(JG);const tW=eW;var nW=function(e){function t(t){e.call(this,t),this.id=t.id,this.load(t.children)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.template=function(){var e=this.srcElement.size().getWidth(),t=this.srcElement.size().getHeight();return"<pattern id='"+this.srcElement.id+"' width='"+e+"' height='"+t+"' patternUnits='userSpaceOnUse'>"+this.renderChildren()+"</pattern>"},t}(KG);const oW=function(e){function t(t){e.call(this),this.srcElement=t,this.id=t.id,this.load([t])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.renderClipRule=function(){return cG("clip-rule","evenodd")},t.prototype.template=function(){return"<clipPath "+this.renderClipRule()+" id='"+this.id+"'>"+this.renderChildren()+"</clipPath>"},t}(KG);var rW=function(e){function t(){e.call(this),this.definitionMap={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.attachTo=function(e){this.element=e},t.prototype.template=function(){return"<defs>"+this.renderChildren()+"</defs>"},t.prototype.definitionChange=function(e){var t=e.definitions,n=e.action;"add"===n?this.addDefinitions(t):"remove"===n&&this.removeDefinitions(t)},t.prototype.createDefinition=function(e,t){var n;return"clip"===e?n=oW:"fill"===e&&(t instanceof HF?n=$G:t instanceof UF?n=tW:t.nodeType===WO&&(n=nW)),new n(t)},t.prototype.addDefinitions=function(e){for(var t in e)this.addDefinition(t,e[t])},t.prototype.addDefinition=function(e,t){var n=this.element,o=this.definitionMap,r=t.id,i=o[r];if(i)i.count++;else{var a=this.createDefinition(e,t);o[r]={element:a,count:1},this.append(a),n&&a.attachTo(this.element)}},t.prototype.removeDefinitions=function(e){for(var t in e)this.removeDefinition(e[t])},t.prototype.removeDefinition=function(e){var t=this.definitionMap,n=e.id,o=t[n];o&&(o.count--,0===o.count&&(this.remove(this.childNodes.indexOf(o.element),1),delete t[n]))},t}(KG);const iW=rW;var aW=function(e){function t(t){e.call(this),this.options=t,this.defs=new iW}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.attachTo=function(e){this.element=e,this.defs.attachTo(e.firstElementChild)},t.prototype.clear=function(){lG.prototype.clear.call(this)},t.prototype.template=function(){return this.defs.render()+this.renderChildren()},t.prototype.definitionChange=function(e){this.defs.definitionChange(e)},t}(KG);const sW=aW;var lW={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},cW=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.geometryChange=function(){this.attr("d",this.renderData()),this.invalidate()},t.prototype.optionsChange=function(t){switch(t.field){case"fill":t.value?this.allAttr(this.mapFill(t.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:t.value}));break;case"stroke":t.value?this.allAttr(this.mapStroke(t.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(t.value);break;default:var n=lW[t.field];n&&this.attr(n,t.value)}this.accessibilityOptionsChange(t),e.prototype.optionsChange.call(this,t)},t.prototype.content=function(){this.element&&(this.element.textContent=this.srcElement.content())},t.prototype.renderData=function(){return this.srcElement.toString(3)||void 0},t.prototype.mapStroke=function(e){var t=[];return e&&!jT(e.color)?(t.push(["stroke",e.color]),t.push(["stroke-width",e.width]),t.push(["stroke-linecap",this.renderLinecap(e)]),t.push(["stroke-linejoin",e.lineJoin]),kN(e.opacity)&&t.push(["stroke-opacity",e.opacity]),kN(e.dashType)&&t.push(["stroke-dasharray",this.renderDashType(e)])):t.push(["stroke",NG]),t},t.prototype.renderStroke=function(){return dG(this.mapStroke(this.srcElement.options.stroke))},t.prototype.renderDashType=function(e){var t=e.dashType,n=e.width;if(void 0===n&&(n=1),t&&t!==UO){for(var o=qO[t.toLowerCase()],r=[],i=0;i<o.length;i++)r.push(o[i]*n);return r.join(" ")}},t.prototype.renderLinecap=function(e){var t=e.dashType,n=e.lineCap;return t&&t!==UO?GO:n},t.prototype.mapFill=function(e){var t=[];return(!e||"Gradient"!==e.nodeType&&e.nodeType!==WO)&&(e&&!jT(e.color)?(t.push(["fill",e.color]),kN(e.opacity)&&t.push(["fill-opacity",e.opacity])):t.push(["fill",NG])),t},t.prototype.renderFill=function(){return dG(this.mapFill(this.srcElement.options.fill))},t.prototype.template=function(){return"<path "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" "+cG("d",this.renderData())+this.renderStroke()+this.renderFill()+this.renderDefinitions()+this.renderTransform()+this.renderClassName()+" "+this.renderRole()+this.renderAriaLabel()+" "+this.renderAriaRoleDescription()+this.renderAriaChecked()+" ></path>"},t}(KG);const dW=cW;var uW=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.renderData=function(){return this.srcElement.toPath().toString(3)},t}(dW);const pW=uW;var hW=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.geometryChange=function(){var e=this.center();this.attr("cx",e.x),this.attr("cy",e.y),this.attr("r",this.radius()),this.invalidate()},t.prototype.center=function(){return this.srcElement.geometry().center},t.prototype.radius=function(){return this.srcElement.geometry().radius},t.prototype.template=function(){return"<circle "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+"cx='"+this.center().x+"' cy='"+this.center().y+"' r='"+this.radius()+"'"+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+this.renderClassName()+" "+this.renderRole()+this.renderAriaLabel()+" "+this.renderAriaRoleDescription()+this.renderAriaChecked()+" "+this.renderTransform()+" ></circle>"},t}(dW);const fW=hW;var mW=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.template=function(){return"<g"+(this.renderId()+this.renderTransform()+this.renderClassName()+this.renderStyle()+this.renderOpacity()+this.renderRole()+this.renderAriaLabel()+this.renderAriaRoleDescription()+this.renderAriaChecked()+this.renderDefinitions())+">"+this.renderChildren()+"</g>"},t.prototype.optionsChange=function(t){var n=t.field,o=t.value;"transform"===n&&this.transformChange(o),this.accessibilityOptionsChange(t),e.prototype.optionsChange.call(this,t)},t}(KG);const gW=mW;var vW=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.geometryChange=function(){this.allAttr(this.mapPosition()),this.invalidate()},t.prototype.optionsChange=function(t){"src"===t.field&&this.allAttr(this.mapSource()),e.prototype.optionsChange.call(this,t)},t.prototype.mapPosition=function(){var e=this.srcElement.rect(),t=e.topLeft();return[["x",t.x],["y",t.y],["width",e.width()+"px"],["height",e.height()+"px"]]},t.prototype.renderPosition=function(){return dG(this.mapPosition())},t.prototype.mapSource=function(e){var t=this.srcElement.src();return e&&(t=HG(t)),[["xlink:href",t]]},t.prototype.renderSource=function(){return dG(this.mapSource(!0))},t.prototype.template=function(){return"<image preserveAspectRatio='none' "+this.renderId()+" "+this.renderStyle()+" "+this.renderTransform()+" "+this.renderOpacity()+this.renderPosition()+" "+this.renderSource()+" "+this.renderDefinitions()+this.renderClassName()+" "+this.renderRole()+this.renderAriaLabel()+" "+this.renderAriaRoleDescription()+this.renderAriaChecked()+" ></image>"},t}(dW);const yW=vW;var xW=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.renderData=function(){return this.srcElement.toString(3)||"undefined"},t}(dW);const bW=xW;var wW=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.geometryChange=function(){var e=this.srcElement.geometry();this.attr("x",e.origin.x),this.attr("y",e.origin.y),this.attr("width",e.size.width),this.attr("height",e.size.height),this.attr("rx",e.cornerRadius[0]),this.attr("ry",e.cornerRadius[1]),this.invalidate()},t.prototype.size=function(){return this.srcElement.geometry().size},t.prototype.origin=function(){return this.srcElement.geometry().origin},t.prototype.rx=function(){return this.srcElement.geometry().cornerRadius[0]},t.prototype.ry=function(){return this.srcElement.geometry().cornerRadius[1]},t.prototype.template=function(){return"<rect "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" x='"+this.origin().x+"' y='"+this.origin().y+"' rx='"+this.rx()+"' ry='"+this.ry()+"' width='"+this.size().width+"' height='"+this.size().height+"' "+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+" "+this.renderTransform()+this.renderClassName()+" "+this.renderRole()+this.renderAriaLabel()+" "+this.renderAriaRoleDescription()+this.renderAriaChecked()+" />"},t}(dW);const kW=wW;var CW=/&(?:[a-zA-Z]+|#\d+);/g;function SW(e){if(!e||"string"!==typeof e||!CW.test(e))return e;var t=SW._element;return CW.lastIndex=0,e.replace(CW,(function(e){return t.innerHTML=e,t.textContent||t.innerText}))}"undefined"!==typeof document&&(SW._element=document.createElement("span"));var IW=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.geometryChange=function(){var e=this.pos();this.attr("x",e.x),this.attr("y",e.y),this.invalidate()},t.prototype.optionsChange=function(t){"font"===t.field?(this.attr("style",uG(this.mapStyle())),this.geometryChange()):"content"===t.field&&e.prototype.content.call(this,this.srcElement.content()),e.prototype.optionsChange.call(this,t)},t.prototype.mapStyle=function(t){var n=e.prototype.mapStyle.call(this,t),o=this.srcElement.options.font;return t&&(o=HG(o)),n.push(["font",o],["white-space","pre"]),n},t.prototype.pos=function(){var e=this.srcElement.position(),t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)},t.prototype.renderContent=function(){var e=this.srcElement.content();return ZT(e=HG(e=SW(e)))},t.prototype.renderTextAnchor=function(){var e;return!(this.options||{}).rtl||lT.browser.msie||lT.browser.edge||(e="end"),cG("text-anchor",e)},t.prototype.renderPaintOrder=function(){var e=this.srcElement.options.paintOrder;return e?cG("paint-order",e):""},t.prototype.template=function(){return"<text "+this.renderId()+" "+this.renderTextAnchor()+" "+this.renderStyle()+" "+this.renderOpacity()+"x='"+this.pos().x+"' y='"+this.pos().y+"' "+this.renderStroke()+" "+this.renderTransform()+" "+this.renderDefinitions()+this.renderPaintOrder()+this.renderFill()+this.renderClassName()+" "+this.renderRole()+this.renderAriaLabel()+" "+this.renderAriaRoleDescription()+this.renderAriaChecked()+">"+this.renderContent()+"</text>"},t}(dW);const EW=IW;pG.Arc=pW,pG.Circle=fW,pG.Group=gW,pG.Image=yW,pG.MultiPath=bW,pG.Path=dW,pG.Rect=kW,pG.Text=EW;var _W=function(e){function t(t,n){e.call(this,t,n),this._root=new sW(Object.assign({rtl:"rtl"===LT(t,"direction").direction},this.options)),RG(this.element,this._template("")),this._rootElement=this.element.firstElementChild,this._rootElement.style.width="100%",this._rootElement.style.height="100%",this._rootElement.style.overflow="hidden",function(e){var t;try{t=e.getScreenCTM?e.getScreenCTM():null}catch(co){}if(t){var n=-t.e%1,o=-t.f%1,r=e.style;0===n&&0===o||(r.left=n+"px",r.top=o+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),RT(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"svg"},t.prototype.destroy=function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,VT(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),e.prototype.destroy.call(this)},t.prototype.translate=function(e){var t=Math.round(e.x)+" "+Math.round(e.y)+" "+this._size.width+" "+this._size.height;this._offset=e,this._rootElement.setAttribute("viewBox",t)},t.prototype.draw=function(t){e.prototype.draw.call(this,t),this._root.load([t])},t.prototype.clear=function(){e.prototype.clear.call(this),this._root.clear()},t.prototype.svg=function(){return"<?xml version='1.0' ?>"+this._template()},t.prototype.exportVisual=function(){var e=this._visual,t=this._offset;if(t){var n=new JR;n.children.push(e),n.transform(SO().translate(-t.x,-t.y)),e=n}return e},t.prototype._resize=function(){this._offset&&this.translate(this._offset)},t.prototype._template=function(e){return"<svg "+("string"===typeof e?e:"style='width: 100%; height: 100%; overflow: hidden;' ")+"xmlns='"+DG+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+this._root.render()+"</svg>"},Object.defineProperties(t.prototype,n),t}(aG);const jW=_W;const AW={};var DW=function(e){function t(t){e.call(this,t),t&&this.initClip()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initClip=function(){var e=this.srcElement.clip();e&&(this.clip=e,e.addObserver(this))},t.prototype.clear=function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),e.prototype.clear.call(this)},t.prototype.clearClip=function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)},t.prototype.setClip=function(e){this.clip&&(e.beginPath(),new AW[this.clip.nodeType](this.clip).renderPoints(e,this.clip),e.clip("evenodd"))},t.prototype.optionsChange=function(t){"clip"===t.field&&(this.clearClip(),this.initClip()),e.prototype.optionsChange.call(this,t)},t.prototype.setTransform=function(e){if(this.srcElement){var t=this.srcElement.transform();t&&e.transform.apply(e,t.matrix().toArray(6))}},t.prototype.loadElements=function(e,t,n){for(var o=0;o<e.length;o++){var r=e[o],i=r.children,a=new AW[r.nodeType](r,n);i&&i.length>0&&a.load(i,t,n),kN(t)?this.insertAt(a,t):this.append(a)}},t.prototype.load=function(e,t,n){this.loadElements(e,t,n),this.invalidate()},t.prototype.setOpacity=function(e){if(this.srcElement){var t=this.srcElement.opacity();kN(t)&&this.globalAlpha(e,t)}},t.prototype.globalAlpha=function(e,t){var n=t;n&&e.globalAlpha&&(n*=e.globalAlpha),e.globalAlpha=n},t.prototype.visible=function(){var e=this.srcElement;return!e||e&&!1!==e.options.visible},t}(lG);const NW=DW;var TW=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.renderTo=function(e){if(this.visible()){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e);for(var t=this.childNodes,n=0;n<t.length;n++){var o=t[n];o.visible()&&o.renderTo(e)}e.restore()}},t}(XR(NW,"childNodes"));const PW=TW;function MW(e,t){var n,o=0;if(!t||t<=0)return e;var r=function(){var r=TT()-o,i=arguments,a=function(){e.apply(null,i),o=TT()};if(!o)return a();n&&clearTimeout(n),r>t?a():n=setTimeout(a,t-r)};return r.cancel=function(){clearTimeout(n)},r}var OW=1e3/60,RW=function(e){function t(t,n){e.call(this),this.canvas=t,this.size=n,this.ctx=t.getContext("2d");var o=this._invalidate.bind(this);this.invalidate=MW((function(){nF(o)}),OW)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){e.prototype.destroy.call(this),this.canvas=null,this.ctx=null},t.prototype.load=function(e,t,n){this.loadElements(e,t,n),this._invalidate()},t.prototype._rescale=function(e){var t=this.canvas,n=this.size;t.width=n.width*e,t.height=n.height*e,this.ctx.scale(e,e)},t.prototype._devicePixelRatio=function(){return"number"===typeof window.devicePixelRatio?window.devicePixelRatio:1},t.prototype._invalidate=function(e){if(this.ctx){var t=e&&e.fixedScale?1:this._devicePixelRatio();this._rescale(t),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}},t}(XR(PW,"childNodes"));const FW=RW;var LW=function(e){function t(){e.call(this),this.shapes=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._add=function(e,t){this.shapes.push({bbox:t,shape:e}),e._quadNode=this},t.prototype.pointShapes=function(e){for(var t=this.shapes,n=t.length,o=[],r=0;r<n;r++)t[r].bbox.containsPoint(e)&&o.push(t[r].shape);return o},t.prototype.insert=function(e,t){this._add(e,t)},t.prototype.remove=function(e){for(var t=this.shapes,n=t.length,o=0;o<n;o++)if(t[o].shape===e){t.splice(o,1);break}},t}(uT);const zW=LW;var BW=function(e){function t(t){e.call(this),this.children=[],this.rect=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.inBounds=function(e){var t=this.rect,n=t.bottomRight(),o=e.bottomRight(),r=t.origin.x<=e.origin.x&&t.origin.y<=e.origin.y&&o.x<=n.x&&o.y<=n.y;return r},t.prototype.pointShapes=function(t){for(var n=this.children,o=n.length,r=e.prototype.pointShapes.call(this,t),i=0;i<o;i++)hT(r,n[i].pointShapes(t));return r},t.prototype.insert=function(e,t){var n=this.children,o=!1;if(this.inBounds(t)){if(this.shapes.length<4)this._add(e,t);else{n.length||this._initChildren();for(var r=0;r<n.length;r++)if(n[r].insert(e,t)){o=!0;break}o||this._add(e,t)}o=!0}return o},t.prototype._initChildren=function(){var e=this.rect,n=this.children,o=e.center(),r=e.width()/2,i=e.height()/2;n.push(new t(new uO([e.origin.x,e.origin.y],[r,i])),new t(new uO([o.x,e.origin.y],[r,i])),new t(new uO([e.origin.x,o.y],[r,i])),new t(new uO([o.x,o.y],[r,i])))},t}(zW);const VW=BW;var HW=3e3,qW=function(e){function t(){e.call(this),this.initRoots()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initRoots=function(){this.rootMap={},this.root=new zW,this.rootElements=[]},t.prototype.clear=function(){for(var e=this.rootElements,t=0;t<e.length;t++)this.remove(e[t]);this.initRoots()},t.prototype.pointShape=function(e){var t=(this.rootMap[Math.floor(e.x/HW)]||{})[Math.floor(e.y/HW)],n=this.root.pointShapes(e);t&&(n=n.concat(t.pointShapes(e))),this.assignZindex(n),n.sort(UW);for(var o=0;o<n.length;o++)if(n[o].containsPoint(e))return n[o]},t.prototype.assignZindex=function(e){for(var t=0;t<e.length;t++){for(var n=e[t],o=0,r=Math.pow(1e4,75),i=[];n;)i.push(n),n=n.parent;for(;i.length;)o+=(((n=i.pop()).parent?n.parent.children:this.rootElements).indexOf(n)+1)*r,r/=1e4;e[t]._zIndex=o}},t.prototype.optionsChange=function(e){"transform"!==e.field&&"stroke.width"!==e.field||this.bboxChange(e.element)},t.prototype.geometryChange=function(e){this.bboxChange(e.element)},t.prototype.bboxChange=function(e){if("Group"===e.nodeType)for(var t=0;t<e.children.length;t++)this.bboxChange(e.children[t]);else e._quadNode&&e._quadNode.remove(e),this._insertShape(e)},t.prototype.add=function(e){var t=Array.isArray(e)?e.slice(0):[e];hT(this.rootElements,t),this._insert(t)},t.prototype.childrenChange=function(e){if("remove"===e.action)for(var t=0;t<e.items.length;t++)this.remove(e.items[t]);else this._insert(Array.prototype.slice.call(e.items,0))},t.prototype._insert=function(e){for(var t;e.length>0;)(t=e.pop()).addObserver(this),"Group"===t.nodeType?hT(e,t.children):this._insertShape(t)},t.prototype._insertShape=function(e){var t=e.bbox();if(t){var n=this.getSectors(t),o=n[0][0],r=n[1][0];if(this.inRoot(n))this.root.insert(e,t);else{var i=this.rootMap;i[o]||(i[o]={}),i[o][r]||(i[o][r]=new VW(new uO([o*HW,r*HW],[HW,HW]))),i[o][r].insert(e,t)}}},t.prototype.remove=function(e){if(e.removeObserver(this),"Group"===e.nodeType)for(var t=e.children,n=0;n<t.length;n++)this.remove(t[n]);else e._quadNode&&(e._quadNode.remove(e),delete e._quadNode)},t.prototype.inRoot=function(e){return e[0].length>1||e[1].length>1},t.prototype.getSectors=function(e){for(var t=e.bottomRight(),n=Math.floor(t.x/HW),o=Math.floor(t.y/HW),r=[[],[]],i=Math.floor(e.origin.x/HW);i<=n;i++)r[0].push(i);for(var a=Math.floor(e.origin.y/HW);a<=o;a++)r[1].push(a);return r},t}(uT);function UW(e,t){return e._zIndex<t._zIndex?1:e._zIndex>t._zIndex?-1:0}const GW=qW;var WW=function(e){e.bind("mouseenter",this._mouseenter.bind(this)),e.bind("mouseleave",this._mouseleave.bind(this)),this.element=e.element};WW.prototype.clear=function(){this._resetCursor()},WW.prototype.destroy=function(){this._resetCursor(),delete this.element},WW.prototype._mouseenter=function(e){var t=this._shapeCursor(e);t?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(t)):this._resetCursor()},WW.prototype._mouseleave=function(){this._resetCursor()},WW.prototype._shapeCursor=function(e){for(var t=e.element;t&&!kN(t.options.cursor);)t=t.parent;if(t)return t.options.cursor},WW.prototype._getCursor=function(){if(this.element)return this.element.style.cursor},WW.prototype._setCursor=function(e){this.element&&(this.element.style.cursor=e,this._current=e)},WW.prototype._resetCursor=function(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)};const KW=WW;function YW(e,t){var n=t.segments;if(0!==n.length){var o=n[0],r=o.anchor();e.moveTo(r.x,r.y);for(var i=1;i<n.length;i++){r=(o=n[i]).anchor();var a=n[i-1].controlOut(),s=o.controlIn();a&&s?e.bezierCurveTo(a.x,a.y,s.x,s.y,r.x,r.y):e.lineTo(r.x,r.y)}t.options.closed&&e.closePath()}}var XW=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.renderTo=function(e){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),this.renderPoints(e,this.srcElement),this.setLineDash(e),this.setLineCap(e),this.setLineJoin(e),this.setFill(e),this.setStroke(e),e.restore()},t.prototype.setFill=function(e){var t=this.srcElement.options.fill,n=!1;return t&&("Gradient"===t.nodeType?(this.setGradientFill(e,t),n=!0):t.nodeType===WO?(this.setPatternFill(e,t),n=!0):jT(t.color)||(e.fillStyle=t.color,e.save(),this.globalAlpha(e,t.opacity),e.fill(),e.restore(),n=!0)),n},t.prototype.setGradientFill=function(e,t){var n,o=this.srcElement.rawBBox();if(t instanceof HF){var r=t.start(),i=t.end();n=e.createLinearGradient(r.x,r.y,i.x,i.y)}else if(t instanceof UF){var a=t.center();n=e.createRadialGradient(a.x,a.y,0,a.x,a.y,t.radius())}!function(e,t){for(var n=0;n<t.length;n++){var o=t[n],r=YP(o.color());r.a*=o.opacity(),e.addColorStop(o.offset(),r.toCssRgba())}}(n,t.stops),e.save(),t.userSpace()||e.transform(o.width(),0,0,o.height(),o.origin.x,o.origin.y),e.fillStyle=n,e.fill(),e.restore()},t.prototype.setPatternFill=function(e,t){var n=t.size(),o=document.createElement("canvas"),r=o.getContext("2d");o.width=n.getWidth(),o.height=n.getHeight(),this.childNodes.length=0,this.loadElements(t.children);for(var i=this.childNodes,a=0;a<i.length;a++){i[a].renderTo(r)}e.save(),e.fillStyle=e.createPattern(o,"repeat"),e.fill(),e.restore()},t.prototype.setStroke=function(e){var t=this.srcElement.options.stroke;if(t&&!jT(t.color)&&t.width>0)return e.strokeStyle=t.color,e.lineWidth=OT(t.width,1),e.lineJoin=OT(t.lineJoin,e.lineJoin),e.save(),this.globalAlpha(e,t.opacity),e.stroke(),e.restore(),!0},t.prototype.dashType=function(){var e=this.srcElement.options.stroke;if(e&&e.dashType)return e.dashType.toLowerCase()},t.prototype.setLineDash=function(e){var t=this.dashType();if(t&&t!==UO){var n=qO[t];e.setLineDash?e.setLineDash(n):(e.mozDash=n,e.webkitLineDash=n)}},t.prototype.setLineCap=function(e){var t=this.dashType(),n=this.srcElement.options.stroke;t&&t!==UO?e.lineCap=GO:n&&n.lineCap&&(e.lineCap=n.lineCap)},t.prototype.setLineJoin=function(e){var t=this.srcElement.options.stroke;t&&t.lineJoin&&(e.lineJoin=t.lineJoin)},t.prototype.renderPoints=function(e,t){YW(e,t)},t}(NW);const QW=XW;var JW=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.renderPoints=function(e){YW(e,this.srcElement.toPath())},t}(QW);const ZW=JW;var $W=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.renderPoints=function(e){var t=this.srcElement.geometry(),n=t.center,o=t.radius;e.arc(n.x,n.y,o,0,2*Math.PI)},t}(QW);const eK=$W;var tK=function(e){function t(t,n){e.call(this,t),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=gT();var o=this.img=new Image,r=t.src();n&&!/^data:/i.test(r)&&(o.crossOrigin=n),r&&(o.src=r),o.complete?this.onLoad():(o.onload=this.onLoad,o.onerror=this.onError)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.renderTo=function(e){"resolved"===this.loading.state()&&(e.save(),this.setTransform(e),this.setClip(e),this.drawImage(e),e.restore())},t.prototype.optionsChange=function(t){"src"===t.field?(this.loading=gT(),this.img.src=this.srcElement.src()):e.prototype.optionsChange.call(this,t)},t.prototype.onLoad=function(){this.loading.resolve(),this.invalidate()},t.prototype.onError=function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},t.prototype.drawImage=function(e){var t=this.srcElement.rect(),n=t.topLeft();e.drawImage(this.img,n.x,n.y,t.width(),t.height())},t}(QW);const nK=tK;var oK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.renderPoints=function(e){for(var t=this.srcElement.paths,n=0;n<t.length;n++)YW(e,t[n])},t}(QW);const rK=oK;var iK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.renderPoints=function(t){var n=this.srcElement.geometry(),o=n.cornerRadius,r=o[0],i=o[1];if(0===r&&0===i){var a=n.origin,s=n.size;t.rect(a.x,a.y,s.width,s.height)}else e.prototype.renderPoints.call(this,t,LR.fromRect(n))},t}(QW);const aK=iK;var sK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.renderTo=function(e){var t=this.srcElement,n=t.position(),o=t.measure();e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),e.font=t.options.font,e.textAlign="left","stroke"===t.options.paintOrder?(this.stroke(e,t,n,o),this.fill(e,t,n,o)):(this.fill(e,t,n,o),this.stroke(e,t,n,o)),e.restore()},t.prototype.stroke=function(e,t,n,o){this.setStroke(e)&&(this.setLineDash(e),e.strokeText(t.content(),n.x,n.y+o.baseline))},t.prototype.fill=function(e,t,n,o){this.setFill(e)&&e.fillText(t.content(),n.x,n.y+o.baseline)},t}(QW);const lK=sK;AW.Arc=ZW,AW.Circle=eK,AW.Group=PW,AW.Image=nK,AW.MultiPath=rK,AW.Path=QW,AW.Rect=aK,AW.Text=lK;var cK=function(e){function t(t,n){e.call(this,t,n),this.element.innerHTML=this._template(this);var o=this.element.firstElementChild;o.style.width="100%",o.style.height="100%";var r=BT(t);o.width=r.width,o.height=r.height,this._rootElement=o,this._root=new FW(o,r),this._mouseTrackHandler=this._trackMouse.bind(this),RT(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"canvas"},t.prototype.destroy=function(){e.prototype.destroy.call(this),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),VT(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})},t.prototype.draw=function(t){e.prototype.draw.call(this,t),this._root.load([t],void 0,this.options.cors),this._searchTree&&this._searchTree.add([t])},t.prototype.clear=function(){e.prototype.clear.call(this),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()},t.prototype.eventTarget=function(e){if(this._searchTree){var t=this._surfacePoint(e);return this._searchTree.pointShape(t)}},t.prototype.image=function(){var e=this._root,t=this._rootElement,n=[];e.traverse((function(e){e.loading&&n.push(e.loading)}));var o=gT(),r=function(){e._invalidate({fixedScale:!0});try{var n=t.toDataURL();o.resolve(n)}catch(co){o.reject(co)}};return PT(n).then(r,r),o},t.prototype.suspendTracking=function(){e.prototype.suspendTracking.call(this),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)},t.prototype.resumeTracking=function(){if(e.prototype.resumeTracking.call(this),!this._searchTree){this._searchTree=new GW;for(var t=this._root.childNodes,n=[],o=0;o<t.length;o++)n.push(t[o].srcElement);this._searchTree.add(n)}},t.prototype._resize=function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()},t.prototype._template=function(){return"<canvas></canvas>"},t.prototype._enableTracking=function(){this._searchTree=new GW,this._cursor=new KW(this),e.prototype._enableTracking.call(this)},t.prototype._trackMouse=function(e){if(!this._suspendedTracking){var t=this.eventTarget(e);if("click"!==e.type){var n=this._currentShape;n&&n!==t&&this.trigger("mouseleave",{element:n,originalEvent:e,type:"mouseleave"}),t&&n!==t&&this.trigger("mouseenter",{element:t,originalEvent:e,type:"mouseenter"}),this.trigger("mousemove",{element:t,originalEvent:e,type:"mousemove"}),this._currentShape=t}else t&&this.trigger("click",{element:t,originalEvent:e,type:"click"})}},Object.defineProperties(t.prototype,n),t}(aG);const dK=cK;var uK,pK,hK=function(){return"undefined"!==typeof document},fK=function(e){function t(){e.call(this),this._items=[{name:"svg",type:jW},{name:"canvas",type:dK}]}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={support:{configurable:!0},current:{configurable:!0}};return n.support.get=function(){return pK||(pK={canvas:hK()&&document.createElement("canvas").getContext,svg:hK()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}),pK},n.current.get=function(){return uK||(uK=new t),uK},t.prototype.create=function(e,t){var n=this._items,o=n[0];if(t&&t.type)for(var r=t.type.toLowerCase(),i=0;i<n.length;i++)if(n[i].name===r){o=n[i];break}if(o)return new o.type(e,t);pT("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: "+navigator.userAgent)},Object.defineProperties(t,n),t}(uT);const mK=fK;var gK=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={support:{configurable:!0}};return n.support.get=function(){return mK.support},t.create=function(e,t){return mK.current.create(e,t)},Object.defineProperties(t,n),t}(aG);const vK=gK;var yK=function(e){function t(){e.call(this),this._points=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this._points=[]},t.prototype.show=function(e,t){var n=[].concat(e);this.hide();for(var o=0;o<n.length;o++){var r=n[o];r&&r.toggleHighlight&&r.hasHighlight()&&(this.togglePointHighlight(r,!0,t),this._points.push(r))}},t.prototype.togglePointHighlight=function(e,t,n){var o=(e.options.highlight||{}).toggle;if(o){var r={category:e.category,series:e.series,dataItem:e.dataItem,value:e.value,stackValue:e.stackValue,preventDefault:xK,visual:e.highlightVisual(),show:t};o(r),r._defaultPrevented||e.toggleHighlight(t,n)}else e.toggleHighlight(t,n)},t.prototype.hide=function(){for(var e=this._points;e.length;)this.togglePointHighlight(e.pop(),!1)},t.prototype.isHighlighted=function(e){for(var t=this._points,n=0;n<t.length;n++){if(e===t[n])return!0}return!1},t}(uT);function xK(){this._defaultPrevented=!0}const bK=yK;function wK(e,t){var n=(t||"").toLowerCase(),o=e.event;return"none"===n&&!(o.ctrlKey||o.shiftKey||o.altKey)||o[n+"Key"]}function kK(e){for(var t={},n=0;n<e.length;n++){var o=e[n];o.axis.options.name&&(t[o.axis.options.name]={min:o.range.min,max:o.range.max})}return t}var CK=function(e){function t(t,n){e.call(this),this.plotArea=t,this.options=MN({},this.options,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.start=function(e){return this._active=wK(e,this.options.key),this._active},t.prototype.move=function(e){if(this._active){var t=this.axisRanges=this._panAxes(e,hN).concat(this._panAxes(e,fN));if(t.length)return this.axisRanges=t,kK(t)}},t.prototype.end=function(){var e=this._active;return this._active=!1,e},t.prototype.pan=function(){var e=this.plotArea,t=this.axisRanges;if(t.length){for(var n=0;n<t.length;n++){var o=t[n];e.updateAxisOptions(o.axis,o.range)}e.redraw(e.panes)}},t.prototype.destroy=function(){delete this.plotArea},t.prototype._panAxes=function(e,t){var n=this.plotArea,o=-e[t].delta,r=(this.options.lock||"").toLowerCase(),i=[];if(0!==o&&(r||"").toLowerCase()!==t)for(var a=n.axes,s=0;s<a.length;s++){var l=a[s];if(t===hN&&!l.options.vertical||t===fN&&l.options.vertical){var c=l.pan(o);c&&(c.limitRange=!0,i.push({axis:l,range:c}))}}return i},t}(uT);CK.prototype.options={key:"none",lock:"none"};const SK=CK;var IK=function(e){function t(t,n){e.call(this),this.chart=t,this.options=MN({},this.options,n),this.createElement()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createElement=function(){var e=this._marquee=document.createElement("div");e.className="k-marquee";var t=document.createElement("div");t.className="k-marquee-color",e.appendChild(t)},t.prototype.removeElement=function(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)},t.prototype.setStyles=function(e){zN(this._marquee,e)},t.prototype.start=function(e){if(wK(e,this.options.key)){var t=this.chart,n=t._eventCoordinates(e),o=this._zoomPane=t._plotArea.paneByPoint(n),r=o?o.chartsBox().clone():null;if(o&&r){var i=this._elementOffset();return r.translate(i.left,i.top),this._zoomPaneClipBox=r,document.body.appendChild(this._marquee),this.setStyles({left:e.pageX+1,top:e.pageY+1,width:0,height:0}),!0}}return!1},t.prototype._elementOffset=function(){var e=this.chart.element,t=zN(e,["paddingLeft","paddingTop"]),n=t.paddingLeft,o=t.paddingTop,r=dP(e);return{left:n+r.left,top:o+r.top}},t.prototype.move=function(e){this._zoomPane&&this.setStyles(this._selectionPosition(e))},t.prototype.end=function(e){if(this._zoomPane){var t=this._elementOffset(),n=this._selectionPosition(e);n.left-=t.left,n.top-=t.top;var o={x:n.left,y:n.top},r={x:n.left+n.width,y:n.top+n.height};return this._updateAxisRanges(o,r),this.removeElement(),delete this._zoomPane,kK(this.axisRanges)}},t.prototype.zoom=function(){var e=this.axisRanges;if(e&&e.length){for(var t=this.chart._plotArea,n=0;n<e.length;n++){var o=e[n];t.updateAxisOptions(o.axis,o.range)}t.redraw(t.panes)}},t.prototype.destroy=function(){this.removeElement(),delete this._marquee,delete this.chart},t.prototype._updateAxisRanges=function(e,t){for(var n=(this.options.lock||"").toLowerCase(),o=[],r=this._zoomPane.axes,i=0;i<r.length;i++){var a=r[i],s=a.options.vertical;if((n!==hN||s)&&(n!==fN||!s)&&lP(a.axisIndex)){var l=a.pointsRange(e,t);l&&o.push({axis:a,range:l})}}this.axisRanges=o},t.prototype._selectionPosition=function(e){var t=this._zoomPaneClipBox,n={x:e.x.startLocation,y:e.y.startLocation},o=e.x.location,r=e.y.location,i=(this.options.lock||"").toLowerCase(),a=Math.min(n.x,o),s=Math.min(n.y,r),l=Math.abs(n.x-o),c=Math.abs(n.y-r);return i===hN&&(a=t.x1,l=t.width()),i===fN&&(s=t.y1,c=t.height()),o>t.x2&&(l=t.x2-n.x),o<t.x1&&(l=n.x-t.x1),r>t.y2&&(c=t.y2-n.y),r<t.y1&&(c=n.y-t.y1),{left:Math.max(a,t.x1),top:Math.max(s,t.y1),width:l,height:c}},t}(uT);IK.prototype.options={key:"shift",lock:"none"};const EK=IK;var _K=function(e){function t(t,n){e.call(this),this.chart=t,this.options=MN({rate:.3},this.options,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.updateRanges=function(e,t){for(var n=(this.options.lock||"").toLowerCase(),o=[],r=this.chart._plotArea.axes,i=0;i<r.length;i++){var a=r[i],s=a.options.vertical;if((n!==hN||s)&&(n!==fN||!s)&&a.zoomRange){var l=gP(this.options.rate,.01,.9),c=a.zoomRange(-e*l,t);c&&o.push({axis:a,range:c})}}return this.axisRanges=o,kK(o)},t.prototype.zoom=function(){var e=this.axisRanges,t=this.chart._plotArea;if(e&&e.length&&t.updateAxisOptions){for(var n=0;n<e.length;n++){var o=e[n];t.updateAxisOptions(o.axis,o.range)}t.redraw(t.panes)}},t.prototype.destroy=function(){delete this.chart},t}(uT);const jK=_K;function AK(e,t,n,o,r){return"start"===n?t.origin[o]:"end"===n?t.origin[o]+t.size[r]-e:t.origin[o]+(t.size[r]-e)/2}function DK(e,t,n,o,r){return"start"===n?t.origin[o]+t.size[r]-e:"end"===n?t.origin[o]:t.origin[o]+(t.size[r]-e)/2}var NK={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},TK=function(e,t){e.forEach(t)},PK=function(e,t){for(var n=e.length-1;n>=0;n--)t(e[n],n)},MK=function(e){function t(t,n){e.call(this,Object.assign({},NK,n)),this._rect=t,this._fieldMap={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.rect=function(e){return e?(this._rect=e,this):this._rect},t.prototype._initMap=function(){var e=this.options,t=this._fieldMap;"horizontal"===e.orientation?(t.sizeField="width",t.groupsSizeField="height",t.groupAxis="x",t.groupsAxis="y"):(t.sizeField="height",t.groupsSizeField="width",t.groupAxis="y",t.groupsAxis="x"),e.reverse?(this.forEach=PK,this.justifyAlign=DK):(this.forEach=TK,this.justifyAlign=AK)},t.prototype.reflow=function(){if(this._rect&&0!==this.children.length){this._initMap(),this.options.transform&&this.transform(null);for(var e,t,n,o=this.options,r=this._rect,i=this._initGroups(),a=i.groups,s=i.groupsSize,l=this._fieldMap,c=l.sizeField,d=l.groupsSizeField,u=l.groupAxis,p=l.groupsAxis,h=new sO,f=new sO,m=new cO,g=AK(s,r,o.alignContent,p,d),v=function(r,i){var a=t.elements[i];f[u]=e,f[p]=AK(r.size[d],n,o.alignItems,p,d),function(e,t,n){var o=n.transform()||SO(),r=o.matrix();r.e+=e.x-t.origin.x,r.f+=e.y-t.origin.y,o.matrix(r),n.transform(o)}(f,r,a),e+=r.size[c]+o.spacing},y=0;y<a.length;y++)t=a[y],h[u]=e=this.justifyAlign(t.size,r,o.justifyContent,u,c),h[p]=g,m[c]=t.size,m[d]=t.lineSize,n=new uO(h,m),this.forEach(t.bboxes,v),g+=t.lineSize+o.lineSpacing;if(!o.wrap&&t.size>r.size[c]){var x=r.size[c]/n.size[c],b=n.topLeft().scale(x,x),w=AK(n.size[d]*x,r,o.alignContent,p,d),k=SO();"x"===u?k.translate(r.origin.x-b.x,w-b.y):k.translate(w-b.x,r.origin.y-b.y),k.scale(x,x),this.transform(k)}}},t.prototype._initGroups=function(){for(var e=this,t=this.options,n=this.children,o=t.lineSpacing,r=t.wrap,i=t.spacing,a=this._fieldMap.sizeField,s=this._newGroup(),l=[],c=function(){l.push(s),d+=s.lineSize+o},d=-o,u=0;u<n.length;u++){var p=n[u],h=n[u].clippedBBox();p.visible()&&h&&(r&&s.size+h.size[a]+i>e._rect.size[a]?0===s.bboxes.length?(e._addToGroup(s,h,p),c(),s=e._newGroup()):(c(),s=e._newGroup(),e._addToGroup(s,h,p)):e._addToGroup(s,h,p))}return s.bboxes.length&&c(),{groups:l,groupsSize:d}},t.prototype._addToGroup=function(e,t,n){e.size+=t.size[this._fieldMap.sizeField]+this.options.spacing,e.lineSize=Math.max(t.size[this._fieldMap.groupsSizeField],e.lineSize),e.bboxes.push(t),e.elements.push(n)},t.prototype._newGroup=function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}},t}(JR);const OK=MK;var RK=function(e){function t(t,n){e.call(this,t),this.chartService=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e,t=this.children,n=this.options,o=n.vertical;this.visual=new OK(null,{spacing:o?0:n.spacing,lineSpacing:o?n.spacing:0,orientation:o?"vertical":gN,reverse:n.rtl,alignItems:o?(e=n.rtl,e?YD:sN):HD});for(var r=0;r<t.length;r++){var i=t[r];i.reflow(new fO),i.renderVisual()}},t.prototype.reflow=function(e){this.visual.rect(e.toRect()),this.visual.reflow();var t=this.visual.clippedBBox();this.box=t?oL(t):new fO},t.prototype.renderVisual=function(){this.addVisual()},t.prototype.createVisual=function(){},t}(cF);const FK=RK;var LK=10,zK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.visualStyle=function(){var e=this.markerOptions(),t=e.border;return{stroke:{width:t.width,color:t.color,opacity:wP(t.opacity,e.opacity),dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},cursor:e.cursor}},t.prototype.markerOptions=function(){return this.options},t.prototype.markerHighlightOptions=function(){var e=this.markerOptions(),t=e.highlight.border.width;return MN({},e,{background:e.border.color},e.highlight,e.type===UD?{background:e.highlight.border.color,border:{color:e.highlight.background,width:t/2},width:e.width,height:e.height,margin:{top:0,left:0}}:{})},t.prototype.createHighlight=function(){var t=new e(this.markerHighlightOptions()),n=this.paddingBox.clone();return t.reflow(n.pad(t.options.border.width)),this.highlight=[t.getElement()],this.highlight},t}(TF);SP(zK,{border:{width:2},width:8,height:8,background:uN,margin:{top:-1,left:-1},vAlign:cN,align:$D,highlight:{width:LK,height:LK,border:{color:uN,width:2}}});const BK=zK;var VK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=new JR,t=new zR(this.visualStyle()),n=this.paddingBox,o=n.height()/2;return t.moveTo(n.x1,n.y1+o).lineTo(n.x1,n.y2).lineTo(n.x2,n.y2),e.append(t),e},t}(TF);SP(VK,{width:15,height:15,align:iN,vAlign:VD,margin:{right:-2,bottom:2}});const HK=VK;var qK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=new JR,t=new zR({stroke:{color:this.options.border.color,opacity:this.options.opacity,width:this.options.height,dashType:this.options.dashType}}),n=this.paddingBox,o=n.center().y;return t.moveTo(n.x1,o).lineTo(n.x2,o),e.append(t),e},t.prototype.createHighlight=function(){return this.highlight=[this.createHighlightLine(),this.createHighlightMarker()],this.highlight},t.prototype.createHighlightLine=function(){var e=MN({},{border:{color:this.options.border.color,opacity:this.options.border.opacity,dashType:this.options.border.dashType}},this.options.highlight),t=new HK(e);return t.reflow(this.parent.paddingBox.clone()),this.highlightLine=t.getElement(),this.highlightLine},t.prototype.createHighlightMarker=function(){var t=MN({},{background:this.options.background},this.options.highlight.markers),n=new e(t),o=this.parent.paddingBox,r=t.border.width,i=this.parent.box.clone();return i.pad({left:r-o.x1,top:r-o.y1}),n.reflow(i),this.highlightMarker=n.getElement(),this.highlightMarker},t}(TF);SP(qK,{border:{width:0},type:"rect",align:$D,vAlign:HD,highlight:{border:{width:2},markers:{type:qD,width:LK,height:LK,border:{width:2,color:uN},align:$D,vAlign:cN}}});const UK=qK;var GK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createHighlight=function(){var t=MN({},{background:this.options.background},this.options.highlight.markers),n=new e(t),o=this.paddingBox.clone(),r=this.parent.box.clone();return o.align(r,hN,$D),o.align(r,fN,cN),n.reflow(o),this.highlight=[n.getElement()],this.highlight},t}(TF);SP(GK,{highlight:{markers:{type:qD,width:LK,height:LK,border:{width:2,color:uN},margin:{top:-3,left:-3}}}});const WK=GK;var KK=function(e){function t(t){e.call(this,t),this.createContainer(),t.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel()),this._id=pM(),this.options.accessibility.ariaChecked=t.active}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createContainer=function(){this.container=new JF({vertical:!1,wrap:!1,align:HD,spacing:this.options.spacing}),this.append(this.container)},t.prototype.createMarker=function(){this.markerWrap=new e({vertical:!1,shrinkToFit:!0,wrap:!1,margin:1,width:22,height:22}),this.container.append(this.markerWrap),this.createMarkerArea(),this.options.markers.visible&&(this._marker=this._createMarker(),this.markerWrap.append(this._marker))},t.prototype.createMarkerArea=function(){var e=this.options,t=e.markerColor,n=e.line;void 0===n&&(n={});var o={border:{color:n.color||t,opacity:n.opacity,dashType:n.dashType}};return this._createLine(o)||this._createMarkerLine(o,n)||this._createSquare()},t.prototype.markerOptions=function(){var e=this.options,t=e.markers;void 0===t&&(t={});var n=e.markerColor,o=t.border;return void 0===o&&(o={}),t.zIndex=void 0,MN({},t,{border:{color:o.color||n},highlight:e.highlight.markers})},t.prototype._highlightOptions=function(){var e=this.options;return MN({markers:{type:e.markers.type}},e.highlight)},t.prototype._createLine=function(e){var t=this.options;return t.type!==HB||t.markers.visible||(this._line=new UK(MN({},{background:t.markerColor,highlight:this._highlightOptions()},e,t.line)),this.markerWrap.append(this._line)),this._line},t.prototype._createMarkerLine=function(e,t){return this.options.type===HB&&(this._markerLineArea=new HK(MN({},{border:{width:t.height}},e)),this.markerWrap.append(this._markerLineArea)),this._markerLineArea},t.prototype._reduceSize=function(e,t,n){void 0===n&&(n=.6),"number"===typeof e[t]&&(e[t]=e[t]*n)},t.prototype._createSquare=function(){var e=this.options;if(e.type===DB){var t=e.pattern||(e.series||{}).pattern;t&&("function"===typeof t&&(t=t(e.series)),t=structuredClone(t),this._reduceSize(t,"gap"),this._reduceSize(t,"width"),this._reduceSize(t,"radius")),this._square=new WK(Object.assign({},{border:e.border,vAlign:e.markers.visible?VD:HD,highlight:this._highlightOptions()},e.area,{pattern:t,background:e.area.background||e.markerColor})),this.markerWrap.append(this._square)}return this._square},t.prototype._createMarker=function(){return new BK(this.markerOptions())},t.prototype._highlightMarkers=function(){this.options.active&&this._toggleHighlight(!0)},t.prototype._restoreMarkers=function(){this._toggleHighlight(!1)},t.prototype._toggleHighlight=function(e){var t=this;if(this.options.highlight.visible){var n=this._marker||this._square||this._line;if(n&&n===this._line&&this._line.visual.visible(!e),n){var o=n.highlight;o||(o=n.createHighlight()).forEach((function(e){return e&&t.markerWrap.appendVisual(e)})),o.forEach((function(t){return t&&t.visible(e)}))}}},t.prototype.createLabel=function(){var e=this.options,t=MN({},e.labels);this.container.append(new aL(e.text,t))},t.prototype.getAriaLabelText=function(){return this.options.text},t.prototype.focusVisual=function(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0),this._highlightMarkers()},t.prototype.clearFocusFromVisual=function(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1),this._restoreMarkers()},t.prototype.renderComplete=function(){e.prototype.renderComplete.call(this);var t=this.options.cursor||{},n=this._itemOverlay=LR.fromRect(this.container.box.toRect(),{fill:{color:uN,opacity:0},stroke:null,cursor:t.style||t});this.appendVisual(n)},t.prototype.click=function(e,t){var n=this.eventArgs(t);!e.trigger(gV,n)&&t&&"contextmenu"===t.type&&t.preventDefault()},t.prototype.over=function(e,t){var n=this.eventArgs(t);return e.trigger("legendItemHover",n)||(e._legendItemHover(n.seriesIndex,n.pointIndex),this._highlightMarkers()),!0},t.prototype.out=function(e,t){e._unsetActivePoint(),this._restoreMarkers(),e.trigger("legendItemLeave",this.eventArgs(t))},t.prototype.eventArgs=function(e){var t=this.options;return{element:hP(e),text:t.text,series:t.series,seriesIndex:t.series.index,pointIndex:t.pointIndex}},t.prototype.createVisual=function(){e.prototype.createVisual.call(this);var t=this.options;if(this.options.visible){var n=MN({ariaLabel:void 0!==t.accessibility.ariaLabel?t.accessibility.ariaLabel:t.text},t.accessibility);DF(this.visual,n)}},t.prototype.renderVisual=function(){var t=this,n=this.options,o=n.visual;o?(this.visual=o({active:n.active,series:n.series,sender:this.getSender(),pointIndex:n.pointIndex,options:{type:n.type,markers:MN({background:this.options.markerColor},this.markerOptions()),labels:n.labels},createVisual:function(){t.createVisual(),t.renderChildren(),t.renderComplete();var e=t.visual;return delete t.visual,e}}),this._marker=this._markerLineArea=this._square=this._line=null,this.addVisual()):e.prototype.renderVisual.call(this)},t.prototype.createFocusHighlight=function(e){var t=e.stroke.width;return LR.fromRect(this.container.box.pad(t/2).toRect(),e)},t}(AF);SP(KK,{accessibility:{role:"checkbox",className:"k-chart-legend-item",ariaRoleDescription:"Legend item"},markers:{},highlight:{visible:!0,markers:{}}});const YK=KK;var XK="custom",QK=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,t),this.chartService=n,$N(this.options.position,[cN,iN,VD,$D,XK])||(this.options.position=iN),this.createContainers(),this.createLegendTitle(t.title),this.createItems()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createContainers=function(){var e=this.options,t=e.position,n=e.align,o=t,r=HD;t===XK?o=$D:$N(t,[cN,VD])?(o=n===sN?$D:n===YD?iN:HD,r=t):n&&(n===sN?r=cN:n===YD&&(r=VD)),this.container=new AF({margin:e.margin,padding:e.padding,background:e.background,border:e.border,vAlign:r,align:o,zIndex:e.zIndex,shrinkToFit:!0}),this.hasTitle()?this.itemsContainer=new AF({vAlign:r,align:o,zIndex:e.zIndex,shrinkToFit:!0}):this.itemsContainer=this.container,this.append(this.container)},t.prototype.createItems=function(){var e=this.getService(),t=this.options,n=this.isVertical(),o=new FK({vertical:n,spacing:t.spacing,rtl:e.rtl},e),r=t.data;t.reverse&&(r=r.slice(0).reverse());for(var i=r.length,a=0;a<i;a++){var s=r[a],l=s.series||{},c=l.markers;void 0===c&&(c={});var d=l.dashType,u=l.legendItem,p=l.opacity,h=MN({visible:!1!==c.visible,type:qD},c);delete h.size;var f=MN({},{markers:h,labels:t.labels,rtl:e.rtl,line:Object.assign({},{dashType:d},t.line),area:Object.assign({},{opacity:p},t.area),opacity:p,accessibility:t.accessibility,focusHighlight:t.focusHighlight},t.item,u,s,{markers:t.markers});o.append(new YK(f))}o.render(),this.itemsContainer.append(o)},t.prototype.isVertical=function(){var e=this.options,t=e.orientation,n=e.position;return n===XK&&t!==gN||(lP(t)?t!==gN:$N(n,[$D,iN]))},t.prototype.hasItems=function(){return this.container.children[0].children.length>0},t.prototype.getItems=function(){return this.itemsContainer.children[0].children},t.prototype.reflow=function(e){var t=this.options,n=e.clone();this.hasItems()?(t.position===XK?(this.containerCustomReflow(n),this.box=n):this.containerReflow(n),this.hasTitle()&&this.title.reflow(new fO(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))):this.box=n},t.prototype.containerReflow=function(e){var t=this.options,n=this.container,o=t.position,r=t.width,i=t.height,a=o===cN||o===VD?hN:fN,s=this.isVertical(),l=e.clone(),c=e.clone();o!==$D&&o!==iN||(c.y1=l.y1=0),s&&i?(c.y2=c.y1+i,c.align(l,fN,n.options.vAlign)):!s&&r&&(c.x2=c.x1+r,c.align(l,hN,n.options.align)),n.reflow(c);var d=(c=n.box).clone();(t.offsetX||t.offsetY)&&(c.translate(t.offsetX,t.offsetY),n.reflow(c)),d[a+1]=e[a+1],d[a+2]=e[a+2],this.box=d},t.prototype.containerCustomReflow=function(e){var t=this.options,n=this.container,o=t.offsetX,r=t.offsetY,i=t.width,a=t.height,s=this.isVertical(),l=e.clone();s&&a?l.y2=l.y1+a:!s&&i&&(l.x2=l.x1+i),n.reflow(l),l=n.box,n.reflow(new fO(o,r,o+l.width(),r+l.height()))},t.prototype.renderVisual=function(){this.hasItems()&&e.prototype.renderVisual.call(this)},t.prototype.createLegendTitle=function(e){var t=MN({},{color:BD,position:cN,align:HD},e),n=t.text;if(e&&!1!==e.visible&&e.text){if(lP(t)&&t.visible){var o=UN(t);o?n=o({text:n}):t.format&&(n=this.chartService.format.auto(t.format,n))}this.title=new aL(n,t),this.createTitleLayout(),this.appendTitleLayoutContent()}},t.prototype.createTitleLayout=function(){this.layout=new JF({vertical:!0,wrap:!1}),this.container.append(this.layout)},t.prototype.hasTitle=function(){return Boolean(this.options.title&&!1!==this.options.title.visible&&this.options.title.text)},t.prototype.appendTitleLayoutContent=function(){this.options.title.position===VD?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))},t}(cF);SP(QK,{position:iN,data:[],offsetX:0,offsetY:0,margin:BN(2),padding:BN(5),border:{color:BD,width:0},item:{cursor:mN,spacing:6},spacing:6,background:"",zIndex:1,markers:{},line:{width:20,height:2,cursor:mN,opacity:1},area:{type:"square",align:iN,width:15,height:15}});const JK=QK;var ZK=function(e){function t(){e.call(this),this._registry=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.register=function(e,t){this._registry.push({type:e,seriesTypes:t})},t.prototype.create=function(e,t,n){for(var o,r=this._registry,i=r[0],a=0;a<r.length;a++){var s=r[a];o=nH(e,s.seriesTypes);var l=nH(e,mV);if(o.length-l.length>0){i=s;break}}return new i.type(o,t,n)},t}(uT);ZK.current=new ZK;const $K=ZK;function eY(e){var t=document.createElement("div");return e&&(t.className=e),t}function tY(e){for(var t=e;t&&!QN(t,"k-handle");)t=t.parentNode;return t}var nY=function(e){function t(t,n,o,r){e.call(this);var i=t.element;this.options=MN({},this.options,o),this.chart=t,this.observer=r,this.chartElement=i,this.categoryAxis=n,this._dateAxis=this.categoryAxis instanceof Sz,this.initOptions(),this.visible=this.options.visible&&i.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onPane=function(e){return this.categoryAxis.pane===e},t.prototype.createElements=function(){var e=this.options,t=this.wrapper=eY("k-selector k-pointer-events-none");zN(t,{top:e.offset.top,left:e.offset.left,width:e.width,height:e.height,direction:"ltr"});var n=this.selection=eY("k-selection k-pointer-events-none");this.leftMask=eY("k-mask k-pointer-events-none"),this.rightMask=eY("k-mask k-pointer-events-none"),t.appendChild(this.leftMask),t.appendChild(this.rightMask),t.appendChild(n);var o=this.body=eY("k-selection-bg k-pointer-events-none");n.appendChild(o);var r=this.leftHandle=eY("k-handle k-left-handle k-pointer-events-auto"),i=this.rightHandle=eY("k-handle k-right-handle k-pointer-events-auto");r.appendChild(eY()),i.appendChild(eY()),n.appendChild(r),n.appendChild(i),this.chartElement.appendChild(t);var a=zN(n,["borderLeftWidth","borderRightWidth","height"]),s=zN(r,"height").height,l=zN(i,"height").height;e.selection={border:{left:a.borderLeftWidth,right:a.borderRightWidth}},zN(r,{top:(a.height-s)/2}),zN(i,{top:(a.height-l)/2}),t.style.cssText=t.style.cssText},t.prototype.bindEvents=function(){var e;!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),sP(this.chartElement,((e={})[VV]=this._mousewheelHandler,e))),this._domEvents=jL.create(this.chartElement,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})},t.prototype.initOptions=function(){var e=this.options,t=this.categoryAxis.pane.chartsBox(),n=this.chart.chartService.intl;this._dateAxis&&MN(e,{min:cz(n,e.min),max:cz(n,e.max),from:cz(n,e.from),to:cz(n,e.to)});var o=zN(this.chartElement,["paddingLeft","paddingTop"]),r=o.paddingLeft,i=o.paddingTop;this.options=MN({},{width:t.width(),height:t.height()+.1,padding:{left:r,top:i},offset:{left:t.x1+r,top:t.y1+i},from:e.min,to:e.max},e)},t.prototype.destroy=function(){var e;this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(bP(this.chartElement,((e={})[VV]=this._mousewheelHandler,e)),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)},t.prototype._rangeEventArgs=function(e){return{axis:this.categoryAxis.options,from:this._value(e.from),to:this._value(e.to)}},t.prototype._pointInPane=function(e,t){var n=this.categoryAxis.pane.box,o=this.chart._toModelCoordinates(e,t);return n.containsPoint(o)},t.prototype._start=function(e){var t=this.options,n=hP(e);if(!this._state&&n){var o=pP(e);if(this._pointInPane(o.x,o.y)){var r=tY(n),i=this.body.getBoundingClientRect(),a=!r&&o.x>=i.x&&o.x<=i.x+i.width&&o.y>=i.y&&o.y<=i.y+i.height;this.chart._unsetActivePoint(),this._state={moveTarget:r,startLocation:e.x?e.x.location:0,inBody:a,range:{from:this._index(t.from),to:this._index(t.to)}};var s=this._rangeEventArgs({from:this._index(t.from),to:this._index(t.to)});this.trigger(AV,s)&&(this._state=null)}}},t.prototype._press=function(e){var t;(t=this._state?this._state.moveTarget:tY(hP(e)))&&yN(t,"k-handle-active")},t.prototype._move=function(e){if(this._state){var t=this,n=t._state,o=t.options,r=t.categoryAxis,i=n.range,a=n.moveTarget,s=r.options.reverse,l=this._index(o.from),c=this._index(o.to),d=this._index(o.min),u=this._index(o.max),p=n.startLocation-e.x.location,h=i.from,f=i.to,m=i.to-i.from,g=zN(this.wrapper,"width").width/(r.categoriesCount()-1),v=Math.round(p/g)*(s?-1:1);if(a||n.inBody){var y=a&&QN(a,"k-left-handle"),x=a&&QN(a,"k-right-handle");n.inBody?(i.from=Math.min(Math.max(d,l-v),u-m),i.to=Math.min(i.from+m,u)):y&&!s||x&&s?(i.from=Math.min(Math.max(d,l-v),u-1),i.to=Math.max(i.from+1,i.to)):(y&&s||x&&!s)&&(i.to=Math.min(Math.max(d+1,c-v),u),i.from=Math.min(i.to-1,i.from)),i.from===h&&i.to===f||(this.move(i.from,i.to),this.trigger(DV,this._rangeEventArgs(i)))}}},t.prototype._end=function(){if(this._state){var e=this._state.moveTarget;e&&bN(e,"k-handle-active");var t=this._state.range;this.set(t.from,t.to),this.trigger(NV,this._rangeEventArgs(t)),delete this._state}},t.prototype._tap=function(e){var t=this.options,n=this.categoryAxis,o=this.chart._eventCoordinates(e),r=n.pointCategoryIndex(new $M(o.x,n.box.y1)),i=this._index(t.from),a=this._index(t.to),s=this._index(t.min),l=this._index(t.max),c=a-i,d=i+c/2,u={},p=3===e.event.which,h=Math.round(d-r);this._state||p||(this.chart._unsetActivePoint(),n.options.justified||h--,u.from=Math.min(Math.max(s,i-h),l-c),u.to=Math.min(u.from+c,l),this._start(e),this._state&&(this._state.range=u,this.trigger(DV,this._rangeEventArgs(u)),this._end()))},t.prototype._mousewheel=function(e){var t=this,n=dT(e);if(this._start(e),this._state){var o=this._state.range;e.preventDefault(),e.stopPropagation(),Math.abs(n)>1&&(n*=3),this.options.mousewheel.reverse&&(n*=-1),this.expand(n)&&this.trigger(DV,{axis:this.categoryAxis.options,delta:n,originalEvent:e,from:this._value(o.from),to:this._value(o.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){t._end()}),150)}},t.prototype._gesturestart=function(e){var t=this.options,n=e.touches[0];if(this._pointInPane(n.pageX,n.pageY)){this._state={range:{from:this._index(t.from),to:this._index(t.to)}};var o=this._rangeEventArgs(this._state.range);this.trigger(AV,o)?this._state=null:e.preventDefault()}},t.prototype._gestureend=function(){this._state&&(this.trigger(NV,this._rangeEventArgs(this._state.range)),delete this._state)},t.prototype._gesturechange=function(e){if(this._state){var t=this,n=t.chart,o=t._state,r=t.options,i=t.categoryAxis,a=o.range,s=n._toModelCoordinates(e.touches[0].x.location).x,l=n._toModelCoordinates(e.touches[1].x.location).x,c=Math.min(s,l),d=Math.max(s,l);e.preventDefault(),a.from=i.pointCategoryIndex(new $M(c))||r.min,a.to=i.pointCategoryIndex(new $M(d))||r.max,this.move(a.from,a.to),this.trigger(DV,this._rangeEventArgs(a))}},t.prototype._index=function(e){var t=e;return e instanceof Date&&(t=this.categoryAxis.categoryIndex(e)),t},t.prototype._value=function(e){var t=e;return this._dateAxis&&(t=this.categoryAxis.categoryAt(e))>this.options.max&&(t=this.options.max),t},t.prototype._slot=function(e){var t=this.categoryAxis,n=this._index(e);return t.getSlot(n,n,!0)},t.prototype.move=function(e,t){var n=this.options,o=this.categoryAxis.options.reverse,r=n.offset,i=n.padding,a=n.selection.border,s=o?t:e,l=o?e:t,c="x"+(o?2:1),d=this._slot(s),u=xP(d[c]-r.left+i.left);zN(this.leftMask,{width:u}),zN(this.selection,{left:u}),d=this._slot(l);var p=xP(n.width-(d[c]-r.left+i.left));zN(this.rightMask,{width:p});var h=n.width-p;h!==n.width&&(h+=a.right),zN(this.rightMask,{left:h}),zN(this.selection,{width:Math.max(n.width-(u+p)-a.right,0)})},t.prototype.set=function(e,t){var n=this.options,o=this._index(n.min),r=this._index(n.max),i=gP(this._index(e),o,r),a=gP(this._index(t),i+1,r);n.visible&&this.move(i,a),n.from=this._value(i),n.to=this._value(a)},t.prototype.expand=function(e){var t=this.options,n=this._index(t.min),o=this._index(t.max),r=t.mousewheel.zoom,i=this._index(t.from),a=this._index(t.to),s={from:i,to:a},l=MN({},s);if(this._state&&(s=this._state.range),r!==iN&&(s.from=gP(gP(i-e,0,a-1),n,o)),r!==$D&&(s.to=gP(gP(a+e,s.from+1,o),n,o)),s.from!==l.from||s.to!==l.to)return this.set(s.from,s.to),!0},t.prototype.zoom=function(e,t){var n=this.options,o=this._index(n.min),r=this._index(n.max),i=this._index(n.from),a=this._index(n.to),s={from:i,to:a},l=MN({},s),c=this.categoryAxis.options.reverse,d=hN+(c?"2":"1"),u=this.categoryAxis.lineBox(),p=Math.abs(u[d]-t[hN]),h=u.width(),f=xP(p/h,2),m=xP(f*e),g=xP((1-f)*e);if(this._state&&(s=this._state.range),s.from=gP(gP(i-m,0,a-1),o,r),s.to=gP(gP(a+g,s.from+1,r),o,r),s.from!==l.from||s.to!==l.to)return this.set(s.from,s.to),!0},t.prototype.trigger=function(e,t){return(this.observer||this.chart).trigger(e,t)},t}(uT);SP(nY,{visible:!0,mousewheel:{zoom:"both"},min:tN,max:eN});const oY=nY;var rY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.show=function(t){if(t&&t.tooltipAnchor&&(!this._current||this._current!==t)){var n=MN({},this.options,t.options.tooltip),o=t.tooltipAnchor();o?(this._current=t,e.prototype.show.call(this,{point:t,anchor:o},n,t)):this.hide()}},t.prototype.hide=function(){delete this._current,e.prototype.hide.call(this)},t}(Tq);const iY=rY;var aY=function(e){function t(t,n){e.call(this,t.chartService,n),this.plotArea=t,this.formatService=t.chartService.format}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.showAt=function(e,t){var n=XN(e,(function(e){var t=e.series.tooltip;return!(t&&!1===t.visible)}));if(n.length>0){var o=n[0],r=this.plotArea.categoryAxis.getSlot(o.categoryIx),i=t?this._slotAnchor(t,r):this._defaultAnchor(o,r);this.show({anchor:i,shared:!0,points:e,category:o.category,categoryText:this.formatService.auto(this.options.categoryFormat,o.category),series:this.plotArea.series},this.options)}},t.prototype._slotAnchor=function(e,t){return this.plotArea.categoryAxis.options.vertical||(e.x=t.center().x),{point:e,align:{horizontal:"left",vertical:"center"}}},t.prototype._defaultAnchor=function(e,t){var n=e.owner.pane.chartsBox(),o=this.plotArea.categoryAxis.options.vertical,r=n.center(),i=t.center();return{point:o?new $M(r.x,i.y):new $M(i.x,r.y),align:{horizontal:"center",vertical:"center"}}},t}(Tq);SP(aY,{categoryFormat:"{0:d}"});const sY=aY;var lY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){var e=this.element,t=this.options;if(e.bbox()){this.origin=t.origin;var n=t.vertical?fN:hN,o=this.fromScale=new sO(1,1);o[n]=wB,e.transform(SO().scale(o.x,o.y))}else this.abort()},t.prototype.step=function(e){var t=tT(this.fromScale.x,1,e),n=tT(this.fromScale.y,1,e);this.element.transform(SO().scale(t,n,this.origin))},t.prototype.abort=function(){e.prototype.abort.call(this),this.element.transform(null)},t}(sF);SP(lY,{duration:yB}),iF.current.register(NB,lY);var cY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){var e=this.center=this.element.bbox().center();this.element.transform(SO().scale(wB,wB,e))},t.prototype.step=function(e){this.element.transform(SO().scale(e,e,this.center))},t}(sF);SP(cY,{easing:"easeOutElastic"}),iF.current.register(PB,cY);var dY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)},t.prototype.step=function(e){this.element.opacity(e*this.fadeTo)},t}(sF);SP(dY,{duration:200,easing:"linear"}),iF.current.register(xB,dY);var uY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){this.element.transform(SO().scale(wB,wB,this.options.center))},t.prototype.step=function(e){this.element.transform(SO().scale(e,e,this.options.center))},t}(sF);SP(uY,{easing:"easeOutElastic",duration:yB}),iF.current.register(UB,uY);var pY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){e.prototype.render.call(this),this.renderSegments()},t.prototype.createSegment=function(e,t,n){return new(t.style===jB?AH:kH)(e,t,n)},t.prototype.animationPoints=function(){return e.prototype.animationPoints.call(this).concat(this._segments)},t.prototype.createMissingValue=function(e,t){if(t===SB){var n={x:e.x,y:e.y};return aH(n.x)||(n.x=0),aH(n.y)||(n.y=0),n}},t}(bq);MN(pY.prototype,NH);const hY=pY;const fY=function(e,t,n){var o=[],r=t.xMin,i=t.xMax,a=(n||{}).forecast;a&&(a.before>0&&(r-=a.before),a.after>0&&(i+=a.after));var s=(n||{}).samplingInterval,l=wP(s,JM(r,i)/10);s<=0&&(l=i-r);for(var c=r;c<=i;c+=l)o.push([c,e(c)]);return o};var mY=function(e){return function(t){var n=t.valueFields;return{xValue:n.x,yValue:Math.log(n[e])}}};const gY=function(e){var t=e.options,n=function(e){var t=e.seriesValues,n=e.options,o=t();if(!AU(o,n.field))return null;var r=jU(o,mY(n.field)),i=r.slope,a=r.intercept,s=r.count,l=r.xMin,c=r.xMax,d={xMin:l,xMax:c};if(s>0){var u=Math.exp(a),p=i;return fY((function(e){return u*Math.exp(p*e)}),d,n.trendline)}return null}({seriesValues:e.seriesValues,options:t});return n?Object.assign({},t,{type:"scatterLine",data:n}):null};const vY=function(e){return function(t){var n=t.valueFields;return{xValue:n.x,yValue:n[e]}}};const yY=function(e){var t=e.options,n=function(e){var t=e.seriesValues,n=e.options,o=jU(t(),vY(n.field)),r=o.slope,i=o.intercept,a=o.count,s=o.xMin,l=o.xMax,c={xMin:s,xMax:l};if(a>0)return fY((function(e){return r*e+i}),c,n.trendline);return null}({seriesValues:e.seriesValues,options:t});return n?Object.assign({},t,{type:"scatterLine",data:n}):null};const xY=function(e,t){for(var n=Number.MAX_VALUE,o=Number.MIN_VALUE,r=0;r<e.length;r++){var i=t(e[r]),a=i.xValue,s=i.yValue;isFinite(a)&&null!==a&&isFinite(s)&&null!==s&&(n=Math.min(a,n),o=Math.max(a,o))}return{xMin:n,xMax:o}};var bY=function(e){return function(t){var n=t.valueFields;return{xValue:n.x,yValue:n[e]}}},wY=function(e){return function(t){var n=t.valueFields;return{xValue:Math.log(n.x),yValue:n[e]}}};const kY=function(e){var t=e.options,n=function(e){var t=e.seriesValues,n=e.options,o=t();if(!AU(o,"x"))return null;var r=jU(o,wY(n.field)),i=r.slope,a=r.intercept,s=r.count,l=xY(o,bY(n.field));if(s>0){var c=i,d=a;return fY((function(e){return c*Math.log(e)+d}),l,n.trendline)}return null}({seriesValues:e.seriesValues,options:t});return n?Object.assign({},t,{type:"scatterLine",data:n}):null};const CY=function(e){var t=e.options,n=function(e){var t=e.options,n=e.seriesValues,o=(t.trendline||{}).period||2,r=FU(n({before:o,after:o}),vY(t.field),o);if(r.length>0)return r;return null}(e);return n?Object.assign({},t,{type:"scatterLine",data:n}):null};const SY=function(e){var t=e.options,n=function(e){var t=e.seriesValues,n=e.options,o=(n.trendline||{}).order,r=vY(n.field),i=BU(t(),r,o),a=i.count,s=i.valueMapper,l=i.xMin,c=i.xMax,d={xMin:l,xMax:c};if(a>0)return fY(s,d,n.trendline);return null}({seriesValues:e.seriesValues,options:t});return n?Object.assign({},t,{type:"scatterLine",data:n}):null};var IY=function(e){return function(t){var n=t.valueFields;return{xValue:Math.log(n.x),yValue:Math.log(n[e])}}};const EY=function(e){var t=e.options,n=function(e){var t=e.seriesValues,n=e.options,o=t();if(!AU(o,"x"))return null;var r=jU(o,IY(n.field)),i=r.slope,a=r.intercept,s=r.count,l=xY(o,vY(n.field));if(s>0){var c=Math.exp(a),d=i;return fY((function(e){return c*Math.pow(e,d)}),l,n.trendline)}return null}({seriesValues:e.seriesValues,options:t});return n?Object.assign({},t,{type:"scatterLine",data:n}):null};var _Y={};_Y[cV]=gY,_Y[dV]=yY,_Y[uV]=kY,_Y[pV]=CY,_Y[hV]=SY,_Y[fV]=EY;const jY=_Y;var AY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new KH,this.yAxisRangeTracker=new KH},t.prototype.render=function(e){var t=this;void 0===e&&(e=this.panes),this.series=[].concat(this.originalSeries),this.createTrendlineSeries();for(var n=this.groupSeriesByPane(),o=0;o<e.length;o++){var r=e[o],i=n[r.options.name||"default"]||[];t.addToLegend(i);var a=t.filterVisibleSeries(i);a&&(t.createScatterChart(nH(a,eV),r),t.createScatterLineChart(nH(a,tV),r),t.createBubbleChart(nH(a,PB),r))}this.createAxes(e)},t.prototype.appendChart=function(t,n){this.xAxisRangeTracker.update(t.xAxisRanges),this.yAxisRangeTracker.update(t.yAxisRanges),e.prototype.appendChart.call(this,t,n)},t.prototype.removeAxis=function(t){var n=t.options.name;e.prototype.removeAxis.call(this,t),t.options.vertical?(this.yAxisRangeTracker.reset(n),delete this.namedYAxes[n]):(this.xAxisRangeTracker.reset(n),delete this.namedXAxes[n]),t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY},t.prototype.seriesPaneName=function(e){var t=this.options,n=e.xAxis,o=XN([].concat(t.xAxis),(function(e){return e.name===n}))[0],r=e.yAxis,i=XN([].concat(t.yAxis),(function(e){return e.name===r}))[0],a=(t.panes||[{}])[0].name||"default";return(o||{}).pane||(i||{}).pane||a},t.prototype.createScatterChart=function(e,t){e.length>0&&this.appendChart(new bq(this,{series:e,clip:t.options.clip}),t)},t.prototype.createScatterLineChart=function(e,t){e.length>0&&this.appendChart(new hY(this,{series:e,clip:t.options.clip}),t)},t.prototype.createBubbleChart=function(e,t){e.length>0&&this.appendChart(new Sq(this,{series:e,clip:t.options.clip}),t)},t.prototype.createXYAxis=function(e,t,n){for(var o,r=e.name,i=t?this.namedYAxes:this.namedXAxes,a=t?this.yAxisRangeTracker:this.xAxisRangeTracker,s=MN({reverse:!t&&this.chartService.rtl},e,{vertical:t}),l=eH(s.type,FV),c=a.query(),d=l?{min:.1,max:1}:{min:0,max:1},u=a.query(r)||c||d,p=[s.min,s.max],h=this.series,f=0;f<h.length;f++){var m=h[f],g=m[t?"yAxis":"xAxis"];if(g===s.name||0===n&&!g){var v=pB.current.bindPoint(m,0).valueFields;p.push(v[t?"y":"x"]);break}}0===n&&c&&(u.min=Math.min(u.min,c.min),u.max=Math.max(u.max,c.max));for(var y=0;y<p.length;y++)if(p[y]instanceof Date){o=!0;break}var x=new(eH(s.type,GD)||!s.type&&o?Pz:l?Lz:Nz)(u.min,u.max,s,this.chartService);if(x.axisIndex=n,r){if(i[r])throw new Error((t?"Y":"X")+" axis with name "+r+" is already defined");i[r]=x}return this.appendAxis(x),x},t.prototype.createAxes=function(e){for(var t=this,n=this.options,o=[].concat(n.xAxis),r=[],i=[].concat(n.yAxis),a=[],s=0;s<o.length;s++){$N(t.findPane(o[s].pane),e)&&r.push(t.createXYAxis(o[s],!1,s))}for(var l=0;l<i.length;l++){$N(t.findPane(i[l].pane),e)&&a.push(t.createXYAxis(i[l],!0,l))}this.axisX=this.axisX||r[0],this.axisY=this.axisY||a[0]},t.prototype._dispatchEvent=function(e,t,n){for(var o=e._eventCoordinates(t),r=new $M(o.x,o.y),i=this.axes,a=i.length,s=[],l=[],c=0;c<a;c++){var d=i[c],u=d.options.vertical?l:s,p=d.getValue(r);null!==p&&u.push(p)}s.length>0&&l.length>0&&e.trigger(n,{element:hP(t),originalEvent:t,x:lH(s),y:lH(l)})},t.prototype.updateAxisOptions=function(e,t){var n=e.options.vertical,o=this.groupAxes(this.panes),r=(n?o.y:o.x).indexOf(e);DY(this.options,r,n,t),DY(this.originalOptions,r,n,t)},t.prototype.trendlineFactory=function(e,t){var n=this.seriesValues.bind(this,t.index),o=_U(jY,e.type,{options:e,seriesValues:n});return o&&(o.xAxis=t.xAxis,o.yAxis=t.yAxis),o},t.prototype.seriesValues=function(e){for(var t=[],n=this.series[e],o=0;o<n.data.length;o++){var r=this.bindPoint(n,o);t.push({pointIx:o,valueFields:r.valueFields})}return t},t}(Yq);function DY(e,t,n,o){MN([].concat(n?e.yAxis:e.xAxis)[t],o)}SP(AY,{xAxis:{},yAxis:{}}),MN(AY.prototype,Qq);const NY=AY;var TY=function(e){function t(t,n,o){e.call(this,o),this.value=t,this.sector=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this._rendered||!1===this.visible||(this._rendered=!0,this.createLabel())},t.prototype.createLabel=function(){var e=this.options.labels,t=this.owner.chartService,n=this.getLabelText(e);if(e.visible&&(n||0===n)){if(e.position===HD||e.position===zV)e.color||(e.color=JP(this.options.color)),e.background||(e.background=this.options.color);else{var o=t.theme.seriesDefaults.labels;e.color=e.color||o.color,e.background=e.background||o.background}this.label=new aL(n,MN({},e,{align:HD,vAlign:"",animation:{type:xB,delay:this.animationDelay}}),this.pointData()),this.append(this.label)}},t.prototype.getLabelText=function(e){var t=UN(e);return t?t(this.pointData()):this.owner.chartService.format.auto(e.format,this.value)},t.prototype.reflow=function(e){this.render(),this.box=e,this.reflowLabel()},t.prototype.reflowLabel=function(){var e=this.options.labels,t=this.label,n=this.sector.clone(),o=e.distance,r=n.middle();if(t){var i,a=t.box.height(),s=t.box.width();if(e.position===HD)n.radius=Math.abs((n.radius-a)/2)+a,i=n.point(r),t.reflow(new fO(i.x,i.y-a/2,i.x,i.y));else if(e.position===zV)n.radius=n.radius-a/2,i=n.point(r),t.reflow(new fO(i.x,i.y-a/2,i.x,i.y));else{var l;(i=n.clone().expand(o).point(r)).x>=n.center.x?(l=i.x+s,t.orientation=iN):(l=i.x-s,t.orientation=$D),t.reflow(new fO(l,i.y-a,i.x,i.y))}}},t.prototype.createVisual=function(){var t=this,n=this.sector,o=this.options;if(e.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual(),this.value)if(o.visual){var r=(n.startAngle+180)%360,i=o.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new sO(n.center.x,n.center.y),radius:n.radius,innerRadius:n.innerRadius,startAngle:r,endAngle:r+n.angle,options:o,sender:this.getSender(),createVisual:function(){var e=new JR;return t.createSegmentVisual(e),e}});i&&this.visual.append(i)}else this.createSegmentVisual(this.visual)},t.prototype.createSegmentVisual=function(e){var t=this.sector,n=this.options,o=n.border||{},r=o.width>0?{stroke:{color:o.color,width:o.width,opacity:o.opacity,dashType:o.dashType}}:{},i=n.color,a=_F(n.pattern,{color:i,opacity:n.opacity}),s=this.createSegment(t,MN({fill:a,stroke:{opacity:n.opacity},zIndex:n.zIndex},r));e.append(s),iH(n)&&e.append(this.createGradientOverlay(s,{baseColor:i,fallbackFill:a},MN({center:[t.center.x,t.center.y],innerRadius:t.innerRadius,radius:t.radius,userSpace:!0},n.overlay)))},t.prototype.createSegment=function(e,t){return t.singleSegment?new YR(new UR(new sO(e.center.x,e.center.y),e.radius),t):VR.current.createRing(e,t)},t.prototype.createAnimation=function(){var t=this.options,n=this.sector.center;MN(t,{animation:{center:[n.x,n.y],delay:this.animationDelay}}),e.prototype.createAnimation.call(this)},t.prototype.createHighlight=function(e){var t=this.options.highlight||{},n=t.border||{};return this.createSegment(this.sector,MN({},e,{fill:{color:t.color,opacity:t.opacity},stroke:{opacity:n.opacity,width:n.width,color:n.color}}))},t.prototype.highlightVisual=function(){return this.visual.children[0]},t.prototype.highlightVisualArgs=function(){var e=this.sector;return{options:this.options,radius:e.radius,innerRadius:e.innerRadius,center:new sO(e.center.x,e.center.y),startAngle:e.startAngle,endAngle:e.angle+e.startAngle,visual:this.visual}},t.prototype.createFocusHighlight=function(e){var t=this.options.focusHighlight.border.width,n=this.createSegment(this.sector,MN({},e,{stroke:{width:2*t}})),o=new zR;return o.paths.push(LR.fromRect(n.bbox())),o.paths.push(this.createSegment(this.sector,{})),n.clip(o),n},t.prototype.tooltipAnchor=function(){var e=this.sector.clone().expand(5),t=e.middle();return{point:e.point(t),align:OY(t+180)}},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}},t.prototype.getIndex=function(){return this.index},t}(cF),PY=xP(yP(30),KD),MY=xP(yP(60),KD);function OY(e){var t=yP(e),n=xP(Math.sin(t),KD),o=xP(Math.cos(t),KD);return{horizontal:Math.abs(n)>MY?HD:o<0?iN:$D,vertical:Math.abs(n)<PY?HD:n<0?VD:cN}}SP(TY,{color:uN,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:WD,margin:BN(.5),align:qD,zIndex:1,position:BV},animation:{type:UB},highlight:{visible:!0,border:{width:1}},visible:!0,accessibility:{role:MV,className:OV,ariaRoleDescription:RV}}),MN(TY.prototype,gH),MN(TY.prototype,QH);const RY=TY;var FY={createLegendItem:function(e,t,n){var o=this.options.legend||{},r=o.labels||{},i=o.inactiveItems||{},a=i.labels||{};if(n&&!1!==n.visibleInLegend){var s,l,c=!1!==n.visible,d=c?UN(r):UN(a)||UN(r),u=n.category;d&&(u=d({text:u,series:n.series,dataItem:n.dataItem,percentage:n.percentage,value:e})),c?(s={},l=t.color):(s={color:a.color,font:a.font},l=(i.markers||{}).color),aH(u)&&""!==u&&this.legendItems.push({active:c,pointIndex:n.index,text:u,series:n.series,markerColor:l,pattern:t.pattern,labels:s})}}};const LY=FY;var zY=function(e){function t(t,n){e.call(this,n),this.plotArea=t,this.chartService=t.chartService,this.points=[],this.legendItems=[],this.render()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this.traverseDataPoints(this.addValue.bind(this))},t.prototype.traverseDataPoints=function(e){var t=this.options,n=this.plotArea.options.seriesColors;void 0===n&&(n=[]);for(var o=n.length,r=t.series,i=r.length,a=0;a<i;a++){var s=r[a],l=s.data,c=ZV(s),d=c.total,u=c.points,p=c.count,h=360/d,f=void 0;isFinite(h)||(f=360/p);var m=void 0;m=lP(s.startAngle)?s.startAngle:t.startAngle,a!==i-1&&s.labels.position===BV&&(s.labels.position=HD);for(var g=0;g<u.length;g++){var v=u[g];if(v){var y=v.fields,x=v.value,b=v.visible,w=0!==x?f||x*h:0,k=1!==l.length&&Boolean(y.explode);NN(s.color)||(s.color=y.color||n[g%o]),e(x,new vO(null,0,0,m,w),{owner:this,category:lP(y.category)?y.category:"",pattern:lP(y.pattern)?y.pattern:s.pattern,index:g,series:s,seriesIx:a,dataItem:l[g],percentage:0!==d?x/d:0,explode:k,visibleInLegend:y.visibleInLegend,visible:b,zIndex:i-a,animationDelay:this.animationDelay(g,a,i)}),!1!==b&&(m+=w)}}}},t.prototype.evalSegmentOptions=function(e,t,n){var o=n.series;tH(e,{value:t,series:o,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:o._defaults,excluded:["data","content","template","visual","toggle","ariaTemplate","ariaContent"]})},t.prototype.addValue=function(e,t,n){var o=MN({},n.series,{index:n.index});if(o.pattern=n.pattern||o.pattern,this.evalSegmentOptions(o,e,n),this.createLegendItem(e,o,n),!1!==n.visible){var r=new RY(e,t,o);Object.assign(r,n),this.append(r),this.points.push(r)}},t.prototype.reflow=function(e){var t=this,n=t.options,o=t.points,r=t.seriesConfigs;void 0===r&&(r=[]);var i=o.length,a=e.clone(),s=Math.min(a.width(),a.height()),l=s/2,c=s-.85*s,d=new fO(a.x1,a.y1,a.x1+s,a.y1+s),u=d.center(),p=a.center(),h=n.series.length,f=[],m=[],g=wP(n.padding,c);this.targetBox=e,g=g>l-5?l-5:g,d.translate(p.x-u.x,p.y-u.y);for(var v=l-g,y=new $M(v+d.x1+g,v+d.y1+g),x=0;x<i;x++){var b=o[x],w=b.sector,k=b.seriesIx;if(w.radius=v,w.center=y,r.length){var C=r[k];w.innerRadius=C.innerRadius,w.radius=C.radius}k===h-1&&b.explode&&(w.center=w.clone().setRadius(.15*w.radius).point(w.middle())),b.reflow(d);var S=b.label;S&&S.options.position===BV&&k===h-1&&(S.orientation===iN?m.push(S):f.push(S))}f.length>0&&(f.sort(this.labelComparator(!0)),this.leftLabelsReflow(f)),m.length>0&&(m.sort(this.labelComparator(!1)),this.rightLabelsReflow(m)),this.box=d},t.prototype.leftLabelsReflow=function(e){var t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)},t.prototype.rightLabelsReflow=function(e){var t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)},t.prototype.distanceBetweenLabels=function(e){var t=mP(this.points),n=t.sector,o=e.length-1,r=n.radius+t.options.labels.distance,i=[],a=e[0].box,s=xP(a.y1-(n.center.y-r-a.height()-a.height()/2));i.push(s);for(var l=0;l<o;l++){var c=e[l+1].box;a=e[l].box,s=xP(c.y1-a.y2),i.push(s)}return s=xP(n.center.y+r-e[o].box.y2-e[o].box.height()/2),i.push(s),i},t.prototype.distributeLabels=function(e,t){for(var n,o,r,i=e.length,a=0;a<i;a++)for(r=-e[a],n=o=a;r>0&&(n>=0||o<i);)r=this._takeDistance(e,a,--n,r),r=this._takeDistance(e,a,++o,r);this.reflowLabels(e,t)},t.prototype._takeDistance=function(e,t,n,o){var r=o;if(e[n]>0){var i=Math.min(e[n],r);r-=i,e[n]-=i,e[t]+=i}return r},t.prototype.reflowLabels=function(e,t){var n,o=mP(this.points),r=o.sector,i=o.options.labels,a=t.length,s=i.distance,l=r.center.y-(r.radius+s)-t[0].box.height();e[0]+=2;for(var c=0;c<a;c++){var d=t[c],u=d.box;l+=e[c],n=this.hAlignLabel(u.x2,r.clone().expand(s),l,l+u.height(),d.orientation===iN),d.orientation===iN?(i.align!==qD&&(n=r.radius+r.center.x+s),d.reflow(new fO(n+u.width(),l,n,l))):(i.align!==qD&&(n=r.center.x-r.radius-s),d.reflow(new fO(n-u.width(),l,n,l))),l+=u.height()}},t.prototype.createVisual=function(){var t=this,n=this.options.connectors,o=this.points,r=o.length;e.prototype.createVisual.call(this),this._connectorLines=[];for(var i=0;i<r;i++){var a=o[i],s=a.sector,l=a.label,c=s.middle(),d=(a.options.connectors||{}).color||n.color;if(l){var u=new LR({stroke:{color:d,width:n.width},animation:{type:xB,delay:a.animationDelay}});if(l.options.position===BV){var p=l.box,h=s.center,f=s.point(c),m=new $M(p.x1,p.center().y),g=void 0,v=void 0,y=void 0;f=s.clone().expand(n.padding).point(c),u.moveTo(f.x,f.y),l.orientation===iN?(y=BY(h,f,m,v=new $M(p.x1-n.padding,p.center().y)),m=new $M(v.x-4,v.y),(y=y||m).x=Math.min(y.x,m.x),t.pointInCircle(y,s.center,s.radius+4)||y.x<s.center.x?(g=s.center.x+s.radius+4,a.options.labels.align!==RB?g<m.x?u.lineTo(g,f.y):u.lineTo(f.x+8,f.y):u.lineTo(g,f.y),u.lineTo(m.x,v.y)):(y.y=v.y,u.lineTo(y.x,y.y))):(y=BY(h,f,m,v=new $M(p.x2+n.padding,p.center().y)),m=new $M(v.x+4,v.y),(y=y||m).x=Math.max(y.x,m.x),t.pointInCircle(y,s.center,s.radius+4)||y.x>s.center.x?(g=s.center.x-s.radius-4,a.options.labels.align!==RB?g>m.x?u.lineTo(g,f.y):u.lineTo(f.x-8,f.y):u.lineTo(g,f.y),u.lineTo(m.x,v.y)):(y.y=v.y,u.lineTo(y.x,y.y))),u.lineTo(v.x,v.y),t._connectorLines.push(u),t.visual.append(u)}}}},t.prototype.renderVisual=function(){if(e.prototype.renderVisual.call(this),PP(this.options.series,(function(e){return e.autoFit}))){var t=this.targetBox,n=this.box.center(),o=this.visual.bbox();if(!o)return;var r=o.bottomRight(),i=Math.min((n.y-t.y1)/(n.y-o.origin.y),(t.y2-n.y)/(r.y-n.y),(n.x-t.x1)/(n.x-o.origin.x),(t.x2-n.x)/(r.x-n.x));i<1&&this.visual.transform(SO().scale(i,i,[n.x,n.y]))}},t.prototype.labelComparator=function(e){var t=e?-1:1;return function(e,n){return((e.parent.sector.middle()+270)%360-(n.parent.sector.middle()+270)%360)*t}},t.prototype.hAlignLabel=function(e,t,n,o,r){var i=t.radius,a=t.center,s=a.x,l=a.y,c=Math.min(Math.abs(l-n),Math.abs(l-o));return c>i?e:s+Math.sqrt(i*i-c*c)*(r?1:-1)},t.prototype.pointInCircle=function(e,t,n){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)},t.prototype.formatPointValue=function(e,t){return this.chartService.format.auto(t,e.value)},t.prototype.animationDelay=function(e){return 70*e},t.prototype.stackRoot=function(){return this},t}(cF);function BY(e,t,n,o){var r,i=(o.x-n.x)*(e.y-n.y)-(o.y-n.y)*(e.x-n.x),a=(o.y-n.y)*(t.x-e.x)-(o.x-n.x)*(t.y-e.y);if(0!==a){var s=i/a;r=new $M(e.x+s*(t.x-e.x),e.y+s*(t.y-e.y))}return r}SP(zY,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),MN(zY.prototype,LY),zY.prototype.isStackRoot=!0;const VY=zY;var HY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this.createPieChart(this.series)},t.prototype.createPieChart=function(e){var t=e[0],n=new VY(this,{series:e,padding:t.padding,startAngle:t.startAngle,connectors:t.connectors,legend:this.options.legend});this.appendChart(n)},t.prototype.appendChart=function(t,n){e.prototype.appendChart.call(this,t,n),aP(this.options.legend.data,t.legendItems)},t.prototype.getPointBelow=function(e){return this.getPointToTheRight(e)},t.prototype.getPointAbove=function(e){return this.getPointToTheLeft(e)},t}(Yq);const qY=HY;var UY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflowLabel=function(){var t=this.options.labels,n=this.label,o=this.sector.clone(),r=o.middle();if(n){var i=n.box.height();if(t.position===HD){o.radius-=(o.radius-o.innerRadius)/2;var a=o.point(r);n.reflow(new fO(a.x,a.y-i/2,a.x,a.y))}else e.prototype.reflowLabel.call(this)}},t.prototype.createSegment=function(e,t){return VR.current.createRing(e,t)},t}(RY);SP(UY,{overlay:{gradient:"roundedGlass"},labels:{position:HD},animation:{type:UB}}),MN(UY.prototype,gH);const GY=UY;var WY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addValue=function(e,t,n){var o=MN({},n.series,{index:n.index});if(o.pattern=n.pattern||o.pattern,this.evalSegmentOptions(o,e,n),this.createLegendItem(e,o,n),!1!==n.visible){var r=new GY(e,t,o);Object.assign(r,n),this.append(r),this.points.push(r)}},t.prototype.reflow=function(t){for(var n,o=this.options,r=t.clone(),i=Math.min(r.width(),r.height()),a=i/2,s=i-.85*i,l=o.series,c=l.length,d=wP(o.padding,s),u=a-(d=d>a-5?a-5:d),p=0,h=0;h<c;h++){var f=l[h];0===h&&lP(f.holeSize)&&(n=f.holeSize,u-=f.holeSize),lP(f.size)?u-=f.size:p++,lP(f.margin)&&h!==c-1&&(u-=f.margin)}lP(n)||(u-=n=.75*((a-d)/(c+.75)));var m,g=n,v=0;this.seriesConfigs=[];for(var y=0;y<c;y++){var x=l[y];m=(g+=v)+wP(x.size,u/p),this.seriesConfigs.push({innerRadius:g,radius:m}),v=x.margin||0,g=m}e.prototype.reflow.call(this,t)},t.prototype.animationDelay=function(e,t,n){return 50*e+yB*(t+1)/(n+1)},t}(VY);SP(WY,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});const KY=WY;var YY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this.createDonutChart(this.series)},t.prototype.createDonutChart=function(e){var t=e[0],n=new KY(this,{series:e,padding:t.padding,connectors:t.connectors,legend:this.options.legend});this.appendChart(n)},t.prototype.getPointBelow=function(e){return this._getNextPoint(e,this._pointsByVertical,-1)},t.prototype.getPointAbove=function(e){return this._getNextPoint(e,this._pointsByVertical,1)},t}(qY);const XY=YY;var QY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(){this.valueAxisRangeTracker=new KH},t.prototype.render=function(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()},t.prototype.alignAxes=function(){var e=this.valueAxis,t=e.range(),n=e.options.reverse?t.max:t.min,o=e.getSlot(n),r=this.polarAxis.getSlot(0).center,i=e.box.translate(r.x-o.x1,r.y-o.y1);e.reflow(i)},t.prototype.createValueAxis=function(){var e,t,n=this.valueAxisRangeTracker,o=n.query(),r=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});r.type===FV?(e=Jz,t={min:.1,max:1}):(e=Xz,t={min:0,max:1});var i=n.query(name)||o||t;i&&o&&(i.min=Math.min(i.min,o.min),i.max=Math.max(i.max,o.max));var a=new e(i.min,i.max,r,this.chartService);this.valueAxis=a,this.appendAxis(a)},t.prototype.reflowAxes=function(){var e=this,t=e.options.plotArea,n=e.valueAxis,o=e.polarAxis,r=e.box,i=.15*Math.min(r.width(),r.height()),a=BN(t.padding||{},i),s=r.clone().unpad(a),l=s.clone();l.y2=l.y1+Math.min(l.width(),l.height()),l.align(s,fN,HD);var c=l.clone().shrink(0,l.height()/2);o.reflow(l),n.reflow(c);var d=n.lineBox().height()-n.box.height();n.reflow(n.box.unpad({top:d})),this.axisBox=l,this.alignAxes(l)},t.prototype.backgroundBox=function(){return this.box},t.prototype.detachLabels=function(){},t}(Yq);const JY=QY;var ZY=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointSlot=function(e,t){var n=e.center.y-t.y1,o=$M.onCircle(e.center,e.startAngle,n);return new fO(o.x,o.y,o.x,o.y)},t}(bq);SP(ZY,{clip:!1});const $Y=ZY;var eX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(hY);eX.prototype.pointSlot=$Y.prototype.pointSlot,SP(eX,{clip:!1});const tX=eX;var nX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fillToAxes=function(e){var t=this._polarAxisCenter();e.lineTo(t.x,t.y)},t.prototype._polarAxisCenter=function(){return this.parent.plotArea.polarAxis.box.center()},t.prototype.strokeSegments=function(){var e=this._strokeSegments;if(!e){var t=this._polarAxisCenter(),n=new eB(!1),o=this.points();o.push(t),(e=this._strokeSegments=n.process(o)).pop()}return e},t}(qH);const oX=nX;var rX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fillToAxes=function(e){var t=this.parent.plotArea.polarAxis.box.center(),n=new lR([t.x,t.y]);e.segments.unshift(n),e.segments.push(n)},t}(zH);const iX=rX;var aX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createSegment=function(e,t,n){return(t.line||{}).style===jB?new oX(e,t,n):new iX(e,t,n)},t.prototype.createMissingValue=function(e,t){var n;return aH(e.x)&&t!==IB&&(n={x:e.x,y:e.y},t===SB&&(n.y=0)),n},t.prototype.seriesMissingValues=function(e){return e.missingValues||SB},t.prototype._hasMissingValuesGap=function(){for(var e=this.options.series,t=0;t<e.length;t++)if("gap"===this.seriesMissingValues(e[t]))return!0},t.prototype.sortPoints=function(e){if(e.sort(sX),this._hasMissingValuesGap())for(var t=0;t<e.length;t++){var n=e[t];if(n)aH(n.value.y)||"gap"!==this.seriesMissingValues(n.series)||delete e[t]}return e},t}(tX);function sX(e,t){return e.value.x-t.value.x}const lX=aX;var cX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createPolarAxis=function(){var e=new Uz(this.options.xAxis,this.chartService);this.polarAxis=e,this.axisX=e,this.appendAxis(e)},t.prototype.render=function(){this.series=[].concat(this.originalSeries),this.createTrendlineSeries(),e.prototype.render.call(this)},t.prototype.valueAxisOptions=function(e){return MN(e,{majorGridLines:{type:MD},minorGridLines:{type:MD}},this.options.yAxis)},t.prototype.createValueAxis=function(){e.prototype.createValueAxis.call(this),this.axisY=this.valueAxis},t.prototype.trendlineFactory=function(e,t){var n=NY.prototype.trendlineFactory.call(this,e,t);return n&&(n.type=WB),n},t.prototype.appendChart=function(e,t){this.valueAxisRangeTracker.update(e.yAxisRanges),Yq.prototype.appendChart.call(this,e,t)},t.prototype.createCharts=function(){var e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createLineChart(nH(e,[WB]),t),this.createScatterChart(nH(e,[KB]),t),this.createAreaChart(nH(e,[GB]),t)},t.prototype.createLineChart=function(e,t){if(0!==e.length){var n=new tX(this,{series:e});this.appendChart(n,t)}},t.prototype.createScatterChart=function(e,t){if(0!==e.length){var n=new $Y(this,{series:e});this.appendChart(n,t)}},t.prototype.createAreaChart=function(e,t){if(0!==e.length){var n=new lX(this,{series:e});this.appendChart(n,t)}},t.prototype._dispatchEvent=function(e,t,n){var o=e._eventCoordinates(t),r=new $M(o.x,o.y),i=this.axisX.getValue(r),a=this.axisY.getValue(r);null!==i&&null!==a&&e.trigger(n,{element:hP(t),x:i,y:a})},t.prototype.createCrosshairs=function(){},t}(JY);SP(cX,{xAxis:{},yAxis:{}}),MN(cX.prototype,Qq,{seriesValues:NY.prototype.seriesValues});const dX=cX;var uX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointSlot=function(e,t){var n=e.center.y-t.y1,o=$M.onCircle(e.center,e.middle(),n);return new fO(o.x,o.y,o.x,o.y)},t.prototype.renderSegments=function(){if(e.prototype.renderSegments.call(this),this._segments&&this._segments.length>1)for(var t=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];t[o.seriesIx]=t[o.seriesIx]||[],t[o.seriesIx].push(o)}return t}(this._segments),n=0;n<t.length;n++){var o=t[n];if(o&&o.length>1){var r=o[0].linePoints[0],i=mP(o),a=mP(i.linePoints),s=0===r.categoryIx,l=a.categoryIx===a.categoriesCount-1;s&&l&&mP(o).linePoints.push(r)}}},t.prototype.createSegment=function(e,t,n){var o=new(t.style===jB?AH:kH)(e,t,n),r=this.seriesMissingValues(t);return e.length!==t.data.length&&r!==IB||(o.options.closed=!0),o},t}(FH);SP(uX,{clip:!1,limitPoints:!1});const pX=uX;var hX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fillToAxes=function(){},t}(qH);const fX=hX;var mX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.fillToAxes=function(){},t}(zH);const gX=mX;var vX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createSegment=function(e,t,n,o){var r,i,a,s=this.options.isStacked,l=(t.line||{}).style;return s&&n>0&&o&&(i=o.linePoints.slice(0),r=o),l===jB?(a=new fX(e,t,n,r,i)).options.closed=!0:(e.push(e[0]),a=new gX(e,t,n,r,i)),a},t.prototype.seriesMissingValues=function(e){return e.missingValues||SB},t}(pX);const yX=vX;var xX=function(e){function t(t,n){e.call(this,t,null,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getIndex=function(){return this.categoryIx},t}(GY);SP(xX,{overlay:{gradient:"none"},labels:{distance:10}});const bX=xX;var wX=function(e){function t(t){e.call(this,t),this.forEach=t.rtl?eq:$H}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this.options,n=this.children,o=t.gap,r=t.spacing,i=n.length,a=i+o+r*(i-1),s=e.angle/a,l=e.startAngle+s*(o/2);this.forEach(n,(function(t){var n=e.clone();n.startAngle=l,n.angle=s,t.sector&&(n.radius=t.sector.radius),t.reflow(n),t.sector=n,l+=s+s*r}))},t}(cF);SP(wX,{gap:1,spacing:0});const kX=wX;var CX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this.options.reverse,n=this.children,o=n.length,r=t?o-1:0,i=t?-1:1;this.box=new fO;for(var a=r;a>=0&&a<o;a+=i){var s=n[a].sector;s.startAngle=e.startAngle,s.angle=e.angle}},t}(cF);const SX=CX;var IX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointType=function(){return bX},t.prototype.clusterType=function(){return kX},t.prototype.stackType=function(){return SX},t.prototype.categorySlot=function(e,t){return e.getSlot(t)},t.prototype.pointSlot=function(e,t){var n=e.clone(),o=e.center.y;return n.radius=o-t.y1,n.innerRadius=o-t.y2,n},t.prototype.reflowPoint=function(e,t){e.sector=t,e.reflow()},t.prototype.createAnimation=function(){this.options.animation.center=this.box.toRect().center(),e.prototype.createAnimation.call(this)},t}(aq);IX.prototype.reflow=fH.prototype.reflow,SP(IX,{clip:!1,limitPoints:!1,animation:{type:"pie"}});const EX=IX;var _X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createPolarAxis=function(){var e=new Hz(this.options.categoryAxis,this.chartService);this.polarAxis=e,this.categoryAxis=e,this.appendAxis(e),this.aggregateCategories(),this.createTrendlineSeries(),this.createCategoryAxesLabels()},t.prototype.valueAxisOptions=function(e){return this._hasBarCharts&&MN(e,{majorGridLines:{type:MD},minorGridLines:{type:MD}}),this._isStacked100&&MN(e,{roundToMajorUnit:!1,labels:{format:"P0"}}),MN(e,this.options.valueAxis)},t.prototype.aggregateCategories=function(){ZU.prototype.aggregateCategories.call(this,this.panes)},t.prototype.createCategoryAxesLabels=function(){ZU.prototype.createCategoryAxesLabels.call(this,this.panes)},t.prototype.filterSeries=function(e){return e},t.prototype.trendlineFactory=function(e,t){var n=ZU.prototype.trendlineFactory.call(this,e,t);return n&&(n.type=QB),n},t.prototype.createCharts=function(){var e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createAreaChart(nH(e,[YB]),t),this.createLineChart(nH(e,[QB]),t),this.createBarChart(nH(e,[XB]),t)},t.prototype.chartOptions=function(e){var t={series:e},n=e[0];if(n){var o=this.filterVisibleSeries(e),r=n.stack;t.isStacked=r&&o.length>1,t.isStacked100=r&&"100%"===r.type&&o.length>1,t.isStacked100&&(this._isStacked100=!0)}return t},t.prototype.createAreaChart=function(e,t){if(0!==e.length){var n=new yX(this,this.chartOptions(e));this.appendChart(n,t)}},t.prototype.createLineChart=function(e,t){if(0!==e.length){var n=new pX(this,this.chartOptions(e));this.appendChart(n,t)}},t.prototype.createBarChart=function(e,t){if(0!==e.length){var n=e[0],o=this.chartOptions(e),r=this.filterVisibleSeries(e),i=r.some((function(e){return e.stack})),a=r.some((function(e){return e.stack&&"100%"===e.stack.type}));o.gap=n.gap,o.spacing=n.spacing,o.defaultStack=n.stack&&r.length>1,o.isStacked=i&&r.length>1,o.isStacked100=a&&r.length>1;var s=new EX(this,o);this.appendChart(s,t),this._hasBarCharts=!0}},t.prototype.seriesCategoryAxis=function(){return this.categoryAxis},t.prototype._dispatchEvent=function(e,t,n){var o=e._eventCoordinates(t),r=new $M(o.x,o.y),i=this.categoryAxis.getCategory(r),a=this.valueAxis.getValue(r);null!==i&&null!==a&&e.trigger(n,{element:hP(t),category:i,value:a})},t.prototype.createCrosshairs=function(){},t.prototype._pointsByVertical=function(t){return e.prototype._pointsByVertical.call(this,t).sort(this._getSeriesCompareFn())},t.prototype._getSeriesCompareFn=function(){return function(e,t){return t.value-e.value}},t}(JY);MN(_X.prototype,Qq,{appendChart:ZU.prototype.appendChart,aggregateSeries:ZU.prototype.aggregateSeries,seriesSourcePoints:ZU.prototype.seriesSourcePoints,seriesValues:ZU.prototype.seriesValues}),SP(_X,{categoryAxis:{categories:[]},valueAxis:{}});const jX=_X;var AX=function(e){function t(t,n,o){e.call(this,n),this.value=t,this.options.index=o.index}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getLabelText=function(e){var t=UN(e);return t?t(this.pointData()):e.format?this.formatValue(e.format):this.value},t.prototype.reflow=function(e){var t=this.points,n=this.children[0],o=Math.min(t[0].x,t[3].x),r=Math.max(t[1].x,t[2].x);this.box=new fO(o,t[0].y,r,t[2].y),n&&n.reflow(new fO(e.x1,t[0].y,e.x2,t[2].y))},t.prototype.createVisual=function(){var t,n=this,o=this.options;e.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual(),(t=o.visual?o.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:o,sender:this.getSender(),createVisual:function(){return n.createPath()}}):this.createPath())&&this.visual.append(t)},t.prototype.createPath=function(){var e=this.options,t=e.border;return LR.fromPoints(this.points,{fill:_F(e.pattern,{color:e.color,opacity:e.opacity}),stroke:{color:t.color,opacity:t.opacity,width:t.width}}).close()},t.prototype.createHighlight=function(e){return LR.fromPoints(this.points,e)},t.prototype.highlightVisual=function(){return this.visual.children[0]},t.prototype.highlightVisualArgs=function(){var e=LR.fromPoints(this.points).close();return{options:this.options,path:e}},t.prototype.createFocusHighlight=function(e){var t=this.options.focusHighlight.border.width,n=LR.fromPoints(this.points,MN({},e,{stroke:{width:2*t}})).close(),o=new zR;return o.paths.push(LR.fromRect(this.box.clone().pad(t).toRect())),o.paths.push(LR.fromPoints(this.points)),n.clip(o),n},t.prototype.tooltipAnchor=function(){var e=this.box;return{point:new $M(e.center().x,e.y1),align:{horizontal:"center",vertical:"top"}}},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.pointData=function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}},t.prototype.getIndex=function(){return this.index},t}(cF);SP(AX,{color:uN,border:{width:1},labels:{format:""},accessibility:{role:MV,className:OV,ariaRoleDescription:RV}}),MN(AX.prototype,gH),MN(AX.prototype,QH);const DX=AX;var NX=function(e){function t(t,n){e.call(this,n),this.plotArea=t,this.chartService=t.chartService,this.points=[],this.labels=[],this.legendItems=[],this.render()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.formatPointValue=function(e,t){return this.plotArea.chartService.format.auto(t,e.value)},t.prototype.render=function(){var e=this,t=this.options,n=this.plotArea.options.seriesColors;void 0===n&&(n=[]);var o=t.series[0],r=o.data;if(r)for(var i=ZV(o),a=i.total,s=i.points,l=0;l<s.length;l++){var c=s[l];if(c){var d=c.fields;NN(o.color)||(o.color=d.color||n[l%n.length]),d=MN({index:l,owner:e,series:o,seriesIx:0,dataItem:r[l],percentage:c.value/a},d,{visible:c.visible});var u=c.valueFields.value,p=e.createSegment(u,d),h=e.createLabel(u,d);p&&h&&p.append(h)}}},t.prototype.evalSegmentOptions=function(e,t,n){var o=n.series;tH(e,{value:t,series:o,dataItem:n.dataItem,index:n.index},{defaults:o._defaults,excluded:["data","content","template","toggle","visual","ariaTemplate","ariaContent"]})},t.prototype.createSegment=function(e,t){var n=MN({},t.series);if(n.pattern=t.pattern||n.pattern,this.evalSegmentOptions(n,e,t),this.createLegendItem(e,n,t),!1!==t.visible){var o=new DX(e,n,t);return Object.assign(o,t),this.append(o),this.points.push(o),o}},t.prototype.createLabel=function(e,t){var n=t.series,o=t.dataItem,r=MN({},this.options.labels,n.labels),i=e;if(r.visible){var a=UN(r),s={dataItem:o,value:e,percentage:t.percentage,category:t.category,series:n};a?i=a(s):r.format&&(i=this.chartService.format.auto(r.format,i)),r.color||(r.color=JP(n.color),r.background||(r.background=n.color)),this.evalSegmentOptions(r,e,t);var l=new aL(i,MN({vAlign:r.position},r),s);return this.labels.push(l),l}},t.prototype.labelPadding=function(){for(var e=this.labels,t={left:0,right:0},n=0;n<e.length;n++){var o=e[n].options.align;if(o!==HD){var r=e[n].box.width();o===$D?t.left=Math.max(t.left,r):t.right=Math.max(t.right,r)}}return t},t.prototype.dynamicSlopeReflow=function(e,t,n){for(var o=this.options,r=this.points,i=r.length,a=r[0],s=a,l=0;l<r.length;l++)r[l].percentage>s.percentage&&(s=r[l]);for(var c=a.percentage/s.percentage*t,d=(t-c)/2,u=0,p=0;p<i;p++){var h=r[p].percentage,f=r[p+1],m=f?f.percentage:h,g=r[p].points=[],v=o.dynamicHeight?n*h:n/i,y=void 0;y=gP(y=h?(t-c*(m/h))/2:m?0:t/2,0,t),g.push(new sO(e.x1+d,e.y1+u)),g.push(new sO(e.x1+t-d,e.y1+u)),g.push(new sO(e.x1+t-y,e.y1+v+u)),g.push(new sO(e.x1+y,e.y1+v+u)),d=y,u+=v+o.segmentSpacing,c=gP(t-2*y,0,t)}},t.prototype.constantSlopeReflow=function(e,t,n){for(var o=this.options,r=this.points,i=r.length,a=o.neckRatio<=1,s=a?o.neckRatio*t:t,l=a?0:(t-t/o.neckRatio)/2,c=((a?t:t-2*l)-s)/2,d=0,u=0;u<i;u++){var p=r[u].points=[],h=r[u].percentage,f=o.dynamicHeight?c*h:c/i,m=o.dynamicHeight?n*h:n/i;p.push(new sO(e.x1+l,e.y1+d)),p.push(new sO(e.x1+t-l,e.y1+d)),p.push(new sO(e.x1+t-l-f,e.y1+m+d)),p.push(new sO(e.x1+l+f,e.y1+m+d)),l+=f,d+=m+o.segmentSpacing}},t.prototype.reflow=function(e){var t=this.points,n=t.length;if(n){var o=this.options,r=e.clone().unpad(this.labelPadding()),i=r.height()-o.segmentSpacing*(n-1),a=r.width();o.dynamicSlope?this.dynamicSlopeReflow(r,a,i):this.constantSlopeReflow(r,a,i);for(var s=0;s<n;s++)t[s].reflow(e)}},t}(cF);SP(NX,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:HD,position:HD,zIndex:1}}),MN(NX.prototype,LY);const TX=NX;var PX=function(e){function t(t,n){n.dynamicSlope=!1,n.neckRatio=1e6,e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(TX);const MX=PX;var OX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this.createChart(TX,nH(this.series,[LB])),this.createChart(MX,nH(this.series,[zB]))},t.prototype.createChart=function(e,t){var n=t[0];if(n){var o=new e(this,{series:t,legend:this.options.legend,neckRatio:n.neckRatio,dynamicHeight:n.dynamicHeight,dynamicSlope:n.dynamicSlope,segmentSpacing:n.segmentSpacing,highlight:n.highlight});this.appendChart(o)}},t.prototype.appendChart=function(t,n){e.prototype.appendChart.call(this,t,n),aP(this.options.legend.data,t.legendItems)},t.prototype._pointsByVertical=function(e){return this.pointsBySeriesIndex(e.series.index)},t.prototype.getPointToTheRight=function(e){return this.getPointBelow(e)},t.prototype.getPointToTheLeft=function(e){return this.getPointAbove(e)},t}(Yq);const RX=OX;const FX=function(e,t){void 0===t&&(t=.05);var n=YP(e),o=1-t;return function(e){var t=n.toHSL(),r=100-t.l,i=o-e;return t.l+=Math.min(i*r,r),t.toCss()}};var LX=function(e){function t(t,n){e.call(this),this.options=n,this.color=n.color||uN,this.value=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())},t.prototype.createLabel=function(){var e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))},t.prototype.createLabelElement=function(e){var t=e.color;return t||(t=JP(this.color)),new aL(this.getLabelText(e),MN({align:HD,vAlign:HD,margin:{left:5,right:5},zIndex:wP(e.zIndex,this.series.zIndex)},e,{color:t}),this.pointData())},t.prototype.getLabelText=function(e){var t=UN(e);return t?t(this.pointData()):this.formatValue(e.format)},t.prototype.formatValue=function(e){return this.owner.formatPointValue(this,e)},t.prototype.reflow=function(e){this.render();var t=this.label;this.box=e,t&&t.reflow(this.markerBox()),this.note&&this.note.reflow(e),this.marker.reflow(this.markerBox())},t.prototype.createVisual=function(){e.prototype.createVisual.call(this),this.addAccessibilityAttributesToVisual()},t.prototype.markerBox=function(){var e=this.options.markers,t=e.border,n=this.box.toRect(),o=wP(e.type,"rect")===aN,r=wP(t.width,o?1:0),i=Math.round(r/2);if(e.size){var a=n.center();n.size.width=n.size.height=e.size,n.origin.x=Math.round(a.x-n.size.width/2),n.origin.y=Math.round(a.y-n.size.height/2)}return n.size.width-=r,n.size.height-=r,n.origin.y+=i+.5,n.origin.x+=i+.5,oL(n)},t.prototype.markerBorder=function(){var e=this.options,t=e.markers.border,n=wP(t.opacity,e.opacity);return{color:t.color||this.color,width:t.width,opacity:n,dashType:t.dashType}},t.prototype.createMarker=function(){var e=this.options,t=e.markers,n=new TF({type:wP(t.type,"rect"),width:t.size,height:t.size,rotation:t.rotation,background:this.color,border:this.markerBorder(),pattern:e.pattern,borderRadius:t.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:wP(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=n,this.append(n)},t.prototype.createHighlight=function(e){var t=this.options,n=this.options.highlight.markers||this.options.markers,o=new TF({type:wP(n.type,"rect"),width:n.size,height:n.size,rotation:n.rotation,background:n.color||this.color,border:this.markerBorder(),borderRadius:n.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:wP(t.zIndex,this.series.zIndex)});o.reflow(this.markerBox());var r=o.getElement();return r.options.fill=e.fill,r.options.stroke=e.stroke,r},t.prototype.highlightVisual=function(){return this.rectVisual},t.prototype.highlightVisualArgs=function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},t.prototype.createFocusHighlight=function(){var e=this.options.markers,t=this.options.focusHighlight,n=new TF({type:wP(e.type,"rect"),width:e.size,height:e.size,rotation:e.rotation,background:t.color,border:t.border,borderRadius:e.borderRadius,padding:t.border.width/2,zIndex:t.zIndex});return n.reflow(this.markerBox()),n.getElement()},t.prototype.tooltipAnchor=function(){var e=this.box.center().x,t=this.box.y1-5;return{point:new $M(e,t),align:{horizontal:HD,vertical:VD}}},t.prototype.overlapsBox=function(e){return this.box.overlaps(e)},t.prototype.unclipElements=function(){},t.prototype.pointData=function(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}},t}(cF);MN(LX.prototype,gH),MN(LX.prototype,yH),MN(LX.prototype,QH),LX.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}},accessibility:{role:MV,className:OV,ariaRoleDescription:RV}};const zX=LX;var BX=function(e){function t(t,n){e.call(this,n),this.plotArea=t,this.chartService=t.chartService,this._initFields(),this.render()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initFields=function(){this.points=[],this.seriesOptions=[],this.valueRange={min:eN,max:tN},this._evalSeries=[]},t.prototype.render=function(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))},t.prototype.setRange=function(){for(var e=this,t=this.options.series,n=0;n<t.length;n++)for(var o=t[n],r=0;r<o.data.length;r++){var i=e.plotArea.bindPoint(o,r).valueFields;lP(i.value)&&null!==i.value&&(e.valueRange.min=Math.min(e.valueRange.min,i.value),e.valueRange.max=Math.max(e.valueRange.max,i.value))}},t.prototype.addValue=function(e,t){var n;e&&lP(e.value)&&null!==e.value&&(n=this.createPoint(e,t))&&Object.assign(n,t),this.points.push(n)},t.prototype.evalPointOptions=function(e,t,n){var o=n.series,r=n.seriesIx,i={defaults:o._defaults,excluded:["data","tooltip","content","template","visual","toggle","drilldownSeriesFactory","ariaTemplate","ariaContent"]},a=this._evalSeries[r];lP(a)||(this._evalSeries[r]=a=tH(e,{},i,!0));var s=e;return a&&tH(s=MN({},e),{value:t,series:o,dataItem:n.dataItem,min:this.valueRange.min,max:this.valueRange.max},i),s},t.prototype.pointType=function(){return zX},t.prototype.pointOptions=function(e,t){var n=this.seriesOptions[t];if(!n){var o=this.pointType().prototype.defaults;this.seriesOptions[t]=n=MN({},o,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return Object.assign({},n)},t.prototype.createPoint=function(e,t){var n=t.series,o=this.pointOptions(n,t.seriesIx),r=t.color||n.color;if(o.pattern=t.pattern||o.pattern,o=this.evalPointOptions(o,e,t),NN(n.color))r=o.color;else if(0!==this.valueRange.max){r=FX(r)(e.value/this.valueRange.max)}var i=new zX(e,o);return i.color=r,this.append(i),i},t.prototype.seriesAxes=function(e){var t=e.xAxis,n=e.yAxis,o=this.plotArea,r=t?o.namedXAxes[t]:o.axisX,i=n?o.namedYAxes[n]:o.axisY;if(!r)throw new Error("Unable to locate X axis with name "+t);if(!i)throw new Error("Unable to locate Y axis with name "+n);return{xAxis:r,yAxis:i}},t.prototype.reflow=function(e){var t=this,n=this.points,o=!this.options.clip,r=0;this.traverseDataPoints((function(e,i){var a=n[r++],s=t.seriesAxes(i.series),l=s.xAxis,c=s.yAxis,d=l.categoryIndex(e.x),u=c.categoryIndex(e.y),p=l.getSlot(d,d,o),h=c.getSlot(u,u,o);if(a)if(p&&h){var f=t.pointSlot(p,h);a.reflow(f)}else a.visible=!1})),this.box=e},t.prototype.pointSlot=function(e,t){return new fO(e.x1,t.y1,e.x2,t.y2)},t.prototype.traverseDataPoints=function(e){for(var t=this,n=this.options.series,o=0;o<n.length;o++)for(var r=n[o],i=t.seriesAxes(r),a=i.xAxis,s=i.yAxis,l=a.currentRangeIndices(),c=s.currentRangeIndices(),d=0;d<r.data.length;d++){var u=t.plotArea.bindPoint(r,d),p=u.valueFields,h=u.fields,f=a.totalIndex(p.x),m=s.totalIndex(p.y),g=l.min<=f&&f<=l.max,v=c.min<=m&&m<=c.max;g&&v&&e(p,MN({pointIx:d,series:r,seriesIx:o,dataItem:r.data[d],owner:t},h))}},t.prototype.formatPointValue=function(e,t){var n=e.value;return this.chartService.format.auto(t,n.x,n.y,n.value)},t.prototype.animationPoints=function(){for(var e=this.points,t=[],n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t},t}(cF);SP(BX,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0});const VX=BX;var HX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initFields=function(){this.namedXAxes={},this.namedYAxes={}},t.prototype.render=function(e){void 0===e&&(e=this.panes),this.bindCategories(),this.createAxes(e),this.createCharts(e),this.createAxisLabels()},t.prototype.bindCategories=function(){for(var e=this.srcSeries||this.series,t=0;t<e.length;t++){for(var n=e[t],o=n.data||[],r=this.seriesAxes(n),i=r.xAxis,a=r.yAxis,s=oM(i.categories||[]),l=oM(a.categories||[]),c=0;c<o.length;c++){var d=pB.current.bindPoint(n,c).valueFields,u=d.x,p=d.y;s.has(u)||s.add(u),l.has(p)||l.add(p)}i.categories=s.values(),a.categories=l.values()}},t.prototype.createCharts=function(e){for(var t=this,n=this.groupSeriesByPane(),o=0;o<e.length;o++){var r=e[o],i=n[r.options.name||"default"]||[];t.addToLegend(i);var a=t.filterVisibleSeries(i);a&&t.createHeatmapChart(nH(a,[BB]),r)}},t.prototype.createHeatmapChart=function(e,t){var n=new VX(this,{series:e});this.appendChart(n,t)},t.prototype.seriesPaneName=function(e){var t=this.options,n=e.xAxis,o=XN([].concat(t.xAxis),(function(e){return e.name===n}))[0],r=e.yAxis,i=XN([].concat(t.yAxis),(function(e){return e.name===r}))[0],a=(t.panes||[{}])[0].name||"default";return(o||{}).pane||(i||{}).pane||a},t.prototype.seriesAxes=function(e){var t,n,o=this.options,r=[].concat(o.xAxis),i=e.xAxis;t=i?r.find((function(e){return e.name===i})):r[0];var a=[].concat(o.yAxis),s=e.yAxis;if(n=s?a.find((function(e){return e.name===s})):a[0],!t)throw new Error("Unable to locate X axis with name "+i);if(!n)throw new Error("Unable to locate Y axis with name "+s);return{xAxis:t,yAxis:n}},t.prototype.createAxisLabels=function(){for(var e=this.axes,t=0;t<e.length;t++)e[t].createLabels()},t.prototype.createXYAxis=function(e,t,n){for(var o,r=e.name,i=t?this.namedYAxes:this.namedXAxes,a=Object.assign({axisCrossingValue:0},e,{vertical:t,reverse:t||this.chartService.rtl?!e.reverse:e.reverse,justified:!1}),s=a.categories?a.categories[0]:null,l=[a.min,a.max,s],c=this.series,d=0;d<c.length;d++){var u=c[d],p=u[t?"yAxis":"xAxis"];if(p===a.name||0===n&&!p){var h=pB.current.bindPoint(u,0).valueFields;l.push(h[t?"y":"x"]);break}}for(var f=0;f<l.length;f++)if(l[f]instanceof Date){o=!0;break}var m=new(eH(a.type,GD)||!a.type&&o?Sz:hz)(a,this.chartService);if(m.axisIndex=n,r){if(i[r])throw new Error((t?"Y":"X")+" axis with name "+r+" is already defined");i[r]=m}return this.appendAxis(m),m.indexCategories(),m},t.prototype.createAxes=function(e){for(var t=this,n=this.options,o=[].concat(n.xAxis),r=[],i=[].concat(n.yAxis),a=[],s=0;s<o.length;s++){$N(t.findPane(o[s].pane),e)&&r.push(t.createXYAxis(o[s],!1,s))}for(var l=0;l<i.length;l++){$N(t.findPane(i[l].pane),e)&&a.push(t.createXYAxis(i[l],!0,l))}this.axisX=this.axisX||r[0],this.axisY=this.axisY||a[0]},t.prototype.removeAxis=function(t){var n=t.options.name;e.prototype.removeAxis.call(this,t),t.options.vertical?delete this.namedYAxes[n]:delete this.namedXAxes[n],t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY},t.prototype._dispatchEvent=function(e,t,n){for(var o=e._eventCoordinates(t),r=new $M(o.x,o.y),i=this.axes,a=i.length,s=[],l=[],c=0;c<a;c++){var d=i[c];XV(d.options.vertical?l:s,d.getCategory(r))}s.length>0&&l.length>0&&e.trigger(n,{element:hP(t),originalEvent:t,x:lH(s),y:lH(l)})},t.prototype.updateAxisOptions=function(e,t){var n=e.options.vertical,o=this.groupAxes(this.panes),r=(n?o.y:o.x).indexOf(e);UX(this.options,r,n,t),UX(this.originalOptions,r,n,t)},t.prototype.crosshairOptions=function(e){return Object.assign({},e.options.crosshair,{zIndex:0})},t.prototype._pointsByVertical=function(e,t){var n=this;void 0===t&&(t=0);var o=this.axisX.options.reverse?-1*t:t,r=this.axisX.children,i=this._getPointAxisXIndex(e)+o,a=r[i=DN(i,r.length)].value,s=this.filterPoints((function(e){return qX(e.pointData().x,a)})).sort((function(e,t){return n._getPointAxisYIndex(e)-n._getPointAxisYIndex(t)}));return this.axisY.options.reverse?s.reverse():s},t.prototype._pointsByHorizontal=function(e,t){var n=this;void 0===t&&(t=0);var o=this.axisY.options.reverse?-1*t:t,r=this.axisY.children,i=this._getPointAxisYIndex(e)+o,a=r[i=DN(i,r.length)].value,s=this.filterPoints((function(e){return qX(e.pointData().y,a)})).sort((function(e,t){return n._getPointAxisXIndex(e)-n._getPointAxisXIndex(t)}));return this.axisX.options.reverse?s.reverse():s},t.prototype._getPointAxisXIndex=function(e){return this._getPointAxisIndex(this.axisX,e.pointData().x)},t.prototype._getPointAxisYIndex=function(e){return this._getPointAxisIndex(this.axisY,e.pointData().y)},t.prototype._getPointAxisIndex=function(e,t){return e.children.findIndex((function(e){return qX(t,e.value)}))},t}(Yq);function qX(e,t){return e instanceof Date&&t instanceof Date?iz(e,t):e===t}function UX(e,t,n,o){MN([].concat(n?e.yAxis:e.xAxis)[t],o)}SP(HX,{xAxis:{},yAxis:{}}),MN(HX.prototype,Qq);const GX=HX;var WX="color",KX="first",YX="max",XX="min",QX="noteText";$K.current.register(ZU,[NB,RB,HB,iV,DB,nV,OB,qB,MB,rV,TB,oV,$B,ZB,sV,VB,JB,aV].concat(mV)),$K.current.register(NY,[eV,tV,PB].concat(mV)),$K.current.register(qY,[UB]),$K.current.register(XY,[FB]),$K.current.register(RX,[LB,zB]),$K.current.register(dX,[GB,WB,KB].concat(mV)),$K.current.register(jX,[YB,XB,QB].concat(mV)),$K.current.register(GX,[BB]),pB.current.register([NB,RB,HB,iV,DB,nV],[dN],[LV,WX,QX,kB,CB,HV,qV]),pB.current.register([$B,ZB,JB,aV],["from","to"],[LV,WX,QX,HV,qV]),pB.current.register([sV,VB],[dN],[LV,WX,QX,"summary",HV,qV]),pB.current.register([GB,WB,KB],[hN,fN],[WX,HV,qV]),pB.current.register([YB,XB,QB],[dN],[LV,WX,HV,qV]),pB.current.register([LB,zB],[dN],[LV,WX,"visibleInLegend","visible",HV,qV]),tU.current.register([NB,RB,HB,iV,DB,nV,sV,VB],{value:YX,color:KX,noteText:KX,errorLow:XX,errorHigh:YX}),tU.current.register([$B,ZB,JB,aV],{from:XX,to:YX,color:KX,noteText:KX}),tU.current.register([YB,XB,QB],{value:YX,color:KX}),pB.current.register([eV,tV,PB],[hN,fN],[WX,QX,"xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),pB.current.register([PB],[hN,fN,"size"],[WX,LV,QX,qV]),pB.current.register([BB],[hN,fN,dN],[WX,QX,qV]),pB.current.register([OB,qB],["open","high","low","close"],[LV,WX,"downColor",QX,qV]),tU.current.register([OB,qB],{open:YX,high:YX,low:XX,close:YX,color:KX,downColor:KX,noteText:KX}),pB.current.register([TB,oV],["lower","q1","median","q3","upper","mean","outliers"],[LV,WX,QX,HV,qV]),tU.current.register([TB,oV],{lower:YX,q1:YX,median:YX,q3:YX,upper:YX,mean:YX,outliers:KX,color:KX,noteText:KX}),pB.current.register([MB,rV],["current","target"],[LV,WX,"visibleInLegend",QX,HV,qV]),tU.current.register([MB,rV],{current:YX,target:YX,color:KX,noteText:KX}),pB.current.register([UB,FB],[dN],[LV,WX,"explode","visibleInLegend","visible",HV,qV]);var JX=[LV,dN,hN,fN],ZX="mousemove",$X="contextmenu",eQ="mouseleave",tQ="keydown",nQ="focus",oQ="blur",rQ="k-chart-overlay-top",iQ=function(e){function t(t,n,o,r){var i=this;void 0===r&&(r={}),e.call(this),this.observers=[],this.addObserver(r.observer),this.chartService=new IL(this,r),this.chartService.theme=o,this._initElement(t);var a=MN({},this.options,n);this._originalOptions=MN({},a),this._theme=o,this._initTheme(a,o),this._focusState={},this._initHandlers(),this._initSurface(),this.bindCategories(),CP.preloadFonts(n,(function(){i.fontLoaded=!0,i._destroyed||(i.trigger("init"),i._redraw(),i._attachEvents(),i._restoreOverlayElement())}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initElement=function(e){this._setElementClass(e),e.style.position="relative",e.tabIndex=e.getAttribute("tabindex")?e.getAttribute("tabindex"):0,e.setAttribute("role","graphics-document document");for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];QN(n,"k-chart-overlay")?this.overlayElement=n:e.removeChild(n)}this.element=e},t.prototype._setElementClass=function(e){yN(e,"k-chart")},t.prototype._restoreOverlayElement=function(){this.overlayElement&&(this._hasSeriesData()?this.overlayElement.style.display="none":(!this.options.title||this.options.title&&this.options.title.position!==VD?yN(this.overlayElement,rQ):bN(this.overlayElement,rQ),this.overlayElement.style.display=""),this.overlayElement.parentElement!==this.element&&this.element.appendChild(this.overlayElement))},t.prototype._hasSeriesData=function(){var e=this.options.series||[],t=e.length>0&&e.some((function(e){return e.data&&e.data.length>0}));return t},t.prototype._initTheme=function(e,t){for(var n=[],o=e.series||[],r=0;r<o.length;r++)n.push(Object.assign({},o[r]));e.series=n,function(e){for(var t=JX,n=0;n<t.length;n++){var o=t[n]+"Axes";e[o]&&(e[t[n]+"Axis"]=e[o],delete e[o])}}(e),this.applyDefaults(e,t),null===e.seriesColors&&delete e.seriesColors,EN(e.title)&&(e.title={text:e.title}),this.options=MN({},t,e),this.applySeriesColors()},t.prototype.getSize=function(){var e=this.options.chartArea||{};return{width:e.width?parseInt(e.width,10):Math.floor(this.element.offsetWidth),height:e.height?parseInt(e.height,10):Math.floor(this.element.offsetHeight)}},t.prototype.resize=function(e){var t=this.getSize(),n=this._size,o=t.width>0||t.height>0;e||o&&(!n||t.width!==n.width||t.height!==n.height)?(this._size=t,this._resize(t,e),this.trigger("resize",t)):o&&this._selections&&PP(this._selections,(function(e){return!e.visible}))&&(this._destroySelections(),this._setupSelection())},t.prototype._resize=function(){this._noTransitionsRedraw()},t.prototype.redraw=function(e){if(this.applyDefaults(this.options),this.applySeriesColors(),e){var t=this._model._plotArea,n=t.findPane(e);t.redraw(n)}else this._redraw()},t.prototype.getAxis=function(e){return oB(e,this._plotArea.axes)},t.prototype.findAxisByName=function(e){return this.getAxis(e)},t.prototype.findPaneByName=function(e){for(var t=this._plotArea.panes,n=0;n<t.length;n++)if(t[n].options.name===e)return new iB(t[n])},t.prototype.findPaneByIndex=function(e){var t=this._plotArea.panes;if(t[e])return new iB(t[e])},t.prototype.plotArea=function(){return new sB(this._plotArea)},t.prototype.toggleHighlight=function(e,t){var n,o,r,i=this._plotArea,a=(i.srcSeries||i.series||[])[0];NN(t)?n=i.filterPoints(t):(ON(t)?(o=t.series,r=t.category):o=r=t,n=a.type===FB?aQ(i.pointsBySeriesName(o),r):$N(a.type,[UB,LB,zB])?aQ((i.charts[0]||{}).points,r):i.pointsBySeriesName(o));n&&this.togglePointsHighlight(e,n)},t.prototype.togglePointsHighlight=function(e,t){for(var n=this._highlight,o=0;o<t.length;o++)n.togglePointHighlight(t[o],e)},t.prototype.showTooltip=function(e){var t,n,o=this._sharedTooltip(),r=this._tooltip,i=this._plotArea;if(NN(e)?(t=i.findPoint(e))&&o&&(n=t.categoryIx):o&&lP(e)&&(n=i.categoryAxis.categoryIndex(e)),o){if(n>=0){var a=this._plotArea.pointsByCategoryIndex(n);r.showAt(a)}}else t&&r.show(t)},t.prototype.hideTooltip=function(){this._tooltip.hide()},t.prototype._initSurface=function(){var e=this.surface,t=this._surfaceWrap(),n=this.options.chartArea||{};n.width&&uP(t,{width:n.width}),n.height&&uP(t,{height:n.height}),e&&e.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=vK.create(t,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler)),this.element._kendoExportVisual=this._kendoExportVisual.bind(this)},t.prototype._surfaceWrap=function(){return this.element},t.prototype._redraw=function(){var e=this._getModel();this._size={width:e.options.width,height:e.options.height},this._destroyView(),this._setElementAccessibilityAttributes(),this._model=e,this._plotArea=e._plotArea,this._legend=e._legend,e.renderVisual(),!1!==this.options.transitions&&e.traverse((function(e){e.animation&&e.animation.setup()})),this._initSurface(),this.surface.draw(e.visual),!1!==this.options.transitions&&e.traverse((function(e){e.animation&&e.animation.play()})),this._tooltip=this._createTooltip(),this._highlight=new bK,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this._setComputedStyles(),this.trigger("render"),uQ(this._plotArea.panes),this._navState||this._cancelDomEvents(),this._redrawFocusHighlight()},t.prototype._setComputedStyles=function(){var e=this.titleHeight();this.element.style.setProperty("--kendo-chart-computed-title-height",e+"px")},t.prototype._redrawFocusHighlight=function(){if(!this._destroyed){var e=this._focusState,t=e.legendInFocus,n=e.preserveHighlight;t&&n&&(this._focusElement(this._getFocusedLegendItem(),!1),this._focusState.preserveHighlight=!1)}},t.prototype._setElementAccessibilityAttributes=function(){var e=this.options.title,t=EN(e)?e:e.description||e.text;t&&this.element.setAttribute("aria-roledescription",t)},t.prototype._kendoExportVisual=function(e){if(e&&e.width&&e.height){var t=this._originalOptions.chartArea||{},n={width:t.width||e.width,height:t.height||e.height};return this.exportVisual(n)}return this.exportVisual()},t.prototype.exportVisual=function(e){var t;if(e&&(e.width||e.height||e.options)){var n=this.options,o=MN({},e.options,{chartArea:{width:e.width,height:e.height}});dQ(this._originalOptions,o),this.options=MN({},this._originalOptions,o),this._initTheme(this.options,this._theme),this.bindCategories();var r=this._getModel();r.renderVisual(),uQ(r._plotArea.panes),t=r.visual,this.options=n}else t=this.surface.exportVisual();return t},t.prototype._sharedTooltip=function(){return this._plotArea instanceof ZU&&this.options.tooltip&&this.options.tooltip.shared},t.prototype._createPannable=function(){var e=this.options;!1!==e.pannable&&(this._pannable=new SK(this._plotArea,e.pannable))},t.prototype._createZoomSelection=function(){var e=this.options.zoomable,t=(e||{}).selection;!1!==e&&!1!==t&&(this._zoomSelection=new EK(this,t))},t.prototype._createMousewheelZoom=function(){var e=this.options.zoomable,t=(e||{}).mousewheel;!1!==e&&!1!==t&&(this._mousewheelZoom=new jK(this,t))},t.prototype._toggleDragZoomEvents=function(){var e=this.options.pannable,t=this.options.zoomable,n=(t||{}).selection,o=(t||{}).mousewheel,r=!e&&(!1===t||!1===n)&&!this.requiresHandlers([IV,CV,SV]),i=(!1===t||!1===o)&&!this.requiresHandlers([EV,_V,jV]),a=this.element;this._dragZoomEnabled&&r&&i?(a.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):this._dragZoomEnabled||r&&i||(a.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!r,!i)},t.prototype._toggleDomEvents=function(e,t){var n=this.domEvents;n&&(n.toggleDrag&&n.toggleDrag(e),n.toggleZoom&&n.toggleZoom(t))},t.prototype._createTooltip=function(){var e=this.options.tooltip;return this._sharedTooltip()?this._createSharedTooltip(e):new iY(this.chartService,e)},t.prototype._createSharedTooltip=function(e){return new sY(this._plotArea,e)},t.prototype.applyDefaults=function(e,t){!function(e,t){var n,o,r,i=(t||{}).axisDefaults||{};function a(e){var t=(e||{}).color||o.color,r=MN({},i,i[n],o,o[n],{line:{color:t},labels:{color:t},title:{color:t}},e);return delete r[n],r}for(var s=0;s<JX.length;s++)n=JX[s]+"Axis",o=e.axisDefaults||{},r=(r=[].concat(e[n])).map(a),e[n]=r.length>1?r:r[0]}(e,t),function(e,t){var n=e.series,o=n.length,r=e.seriesDefaults,i=MN({},e.seriesDefaults),a=t?MN({},t.seriesDefaults):{},s=MN({},a);sQ(i),sQ(s);for(var l=0;l<o;l++){var c=n[l].type||e.seriesDefaults.type,d=MN({data:[]},s,a[c],{tooltip:e.tooltip},i,r[c]);n[l]._defaults=d,n[l]=MN({},d,n[l]),n[l].data=n[l].data||[]}}(e,t)},t.prototype.applySeriesColors=function(){for(var e=this.options,t=e.series,n=e.seriesColors||[],o=0;o<t.length;o++){var r=t[o],i=n[o%n.length],a=r._defaults;r.color=r.color||i,a&&(a.color=a.color||i)}},t.prototype._getModel=function(){var e=this.options,t=this._createPlotArea(),n=new XF(this._modelOptions());n.chart=this,n._plotArea=t;var o=cL.buildTitle(e.title),r=cL.buildTitle(e.subtitle,{align:e.title.align,position:e.title.position});if(n.append.apply(n,cL.orderTitles([o,r])),e.legend&&e.legend.visible){var i=new JK(t.options.legend,this.chartService);n.append(i),n._legend=i}return n.append(t),n.reflow(),this._setTitleBox(o,r),n},t.prototype._setTitleBox=function(e,t){if(e||t){this._titleBox=(e||t).box.clone();var n=e?e.options.position:"",o=t?t.options.position:"",r=o!==VD;n===o&&t?this._titleBox.wrap(t.box):e&&t&&r&&(this._titleBox=t.box.clone())}},t.prototype._modelOptions=function(){var e=this.options,t=this.getSize();return MN({transitions:e.transitions,width:t.width||600,height:t.height||400},e.chartArea)},t.prototype._createPlotArea=function(e){var t=this.options;return $K.current.create(e?[]:t.series,t,this.chartService)},t.prototype._setupSelection=function(){for(var e=this._plotArea.axes,t=this._selections=[],n=0;n<e.length;n++){var o=e[n],r=o.options;if(o instanceof hz&&r.select&&!r.vertical){var i=o.range(),a=new oY(this,o,MN({min:i.min,max:i.max},r.select));t.push(a)}}},t.prototype._selectStart=function(e){return this.trigger(AV,e)},t.prototype._select=function(e){return this.trigger(DV,e)},t.prototype._selectEnd=function(e){return this.trigger(NV,e)},t.prototype._initHandlers=function(){this._clickHandler=this._click.bind(this),this._keydownHandler=this._keydown.bind(this),this._focusHandler=this._focus.bind(this),this._blurHandler=this._blur.bind(this),this._mousedownHandler=this._mousedown.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=MW(this._mousemove.bind(this),20)},t.prototype.addObserver=function(e){e&&this.observers.push(e)},t.prototype.removeObserver=function(e){var t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)},t.prototype.requiresHandlers=function(e){for(var t=this.observers,n=0;n<t.length;n++)if(t[n].requiresHandlers(e))return!0},t.prototype.trigger=function(e,t){void 0===t&&(t={}),t.sender=this,e===TV?t.anchor.point=this._toDocumentCoordinates(t.anchor.point):e===xV?this._updateDrilldownPoint(t.point):e===bV?this._resetDrilldownPoint():e===vV?(this._focusPoint(t.point),this._startDrilldown(t.point)):e===gV&&this._focusLegendItem(t);for(var n=this.observers,o=!1,r=0;r<n.length;r++)n[r].trigger(e,t)&&(o=!0);return o},t.prototype.titleHeight=function(){return this._titleBox?this._titleBox.height():0},t.prototype._attachEvents=function(){var e,t,n=this.element;this._touchAction=n.style.touchAction,sP(n,((e={})[$X]=this._clickHandler,e[VV]=this._mousewheelHandler,e[eQ]=this._mouseleaveHandler,e[tQ]=this._keydownHandler,e.mousedown=this._mousedownHandler,e[nQ]=this._focusHandler,e[oQ]=this._blurHandler,e)),this._shouldAttachMouseMove()&&sP(n,((t={})[ZX]=this._mousemove,t)),this.domEvents=jL.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()},t.prototype._mouseleave=function(e){this._hoveredPoint&&(this._hoveredPoint.out(this,e),this._hoveredPoint=null),this._plotAreaHovered&&(this._plotAreaHovered=!1,this.trigger(kV)),this._hasInactiveOpacity()&&this._activeChartInstance&&(this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._updateSeriesOpacity(null,!0))},t.prototype._cancelDomEvents=function(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()},t.prototype._gesturestart=function(e){this._mousewheelZoom&&!this._stopChartHandlers(e)&&(this._gestureDistance=e.distance,this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking())},t.prototype._gestureend=function(e){this._zooming&&!this._stopChartHandlers(e)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(jV,{}))},t.prototype._gesturechange=function(e){var t=this._mousewheelZoom;if(t&&!this._stopChartHandlers(e)){e.preventDefault();var n=this._gestureDistance,o=-e.distance/n+1;if(Math.abs(o)>=.1){o=Math.round(10*o),this._gestureDistance=e.distance;var r={delta:o,axisRanges:lQ(this._plotArea.axes),originalEvent:e};if(this._zooming||!this.trigger(EV,r)){var i=this._eventCoordinates(e);this._zooming||(this._zooming=!0),(r.axisRanges=t.updateRanges(o,i))&&!this.trigger(_V,r)&&t.zoom()}}}},t.prototype._mouseout=function(e){if(e.element){var t=this._drawingChartElement(e.element,e);t&&t.leave&&t.leave(this,e.originalEvent)}},t.prototype._start=function(e){var t=this._eventCoordinates(e);!this._stopChartHandlers(e)&&this._plotArea.backgroundContainsPoint(t)&&(this.requiresHandlers([IV,CV,SV])&&this._startNavigation(e,t,IV),this._pannable&&this._pannable.start(e)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._clearFocusedElement(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(e)&&this.trigger(EV,{axisRanges:lQ(this._plotArea.axes),originalEvent:e}))},t.prototype._move=function(e){var t=this._navState,n=this._pannable;if(!this._stopChartHandlers(e)){if(n){var o=n.move(e);o&&!this.trigger(CV,{axisRanges:o,originalEvent:e})&&n.pan()}else if(t){for(var r={},i=t.axes,a=0;a<i.length;a++){var s=i[a];if(s.options.name){var l=s.options.vertical?e.y:e.x,c=l.startLocation-l.location;0!==c&&(r[s.options.name]=s.translateRange(c))}}t.axisRanges=r,this.trigger(CV,{axisRanges:r,originalEvent:e})}this._zoomSelection&&this._zoomSelection.move(e)}},t.prototype._end=function(e){if(!this._stopChartHandlers(e)){var t=this._pannable;if(t&&t.end(e)?(this.surface.resumeTracking(),this.trigger(SV,{axisRanges:lQ(this._plotArea.axes),originalEvent:e}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(e,SV),this._zoomSelection){var n=this._zoomSelection.end(e);n&&!this.trigger(_V,{axisRanges:n,originalEvent:e})&&(this._zoomSelection.zoom(),this.trigger(jV,{axisRanges:n,originalEvent:e}))}}},t.prototype._stopChartHandlers=function(e){var t=this._selections||[];if(!t.length)return!1;var n=this._eventCoordinates(e),o=this._plotArea.paneByPoint(n);if(o)for(var r=0;r<t.length;r++)if(t[r].onPane(o))return!0},t.prototype._mousewheelZoomRate=function(){var e=(this.options.zoomable||{}).mousewheel||{};return wP(e.rate,.3)},t.prototype._mousewheel=function(e){var t=this,n=dT(e),o=this._mousewheelZoom,r=this._eventCoordinates(e);if(!this._stopChartHandlers(e)&&this._plotArea.backgroundContainsPoint(r))if(o){var i={delta:n,axisRanges:lQ(this._plotArea.axes),originalEvent:e};!this._zooming&&this.trigger(EV,i)||(e.preventDefault(),this._zooming||(this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),i.axisRanges=o.updateRanges(n,r),i.axisRanges&&!this.trigger(_V,i)&&o.zoom(),this._mwTimeout=setTimeout((function(){t.trigger(jV,i),t._zooming=!1,t.surface&&t.surface.resumeTracking()}),150))}else{var a=this._navState;if(!a)this._startNavigation(e,r,EV)||(a=this._navState);if(a){var s=a.totalDelta||n;a.totalDelta=s+n;for(var l=this._navState.axes,c={},d=0;d<l.length;d++){var u=l[d],p=u.options.name;p&&(c[p]=u.scaleRange(-s*t._mousewheelZoomRate(),r))}this.trigger(_V,{delta:n,axisRanges:c,originalEvent:e}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){t._endNavigation(e,jV)}),150)}}},t.prototype._startNavigation=function(e,t,n){var o=this._model._plotArea,r=o.findPointPane(t),i=o.axes.slice(0);if(r){var a=lQ(i);this.trigger(n,{axisRanges:a,originalEvent:e})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._clearFocusedElement(),this._navState={axisRanges:a,pane:r,axes:i})}},t.prototype._endNavigation=function(e,t){this._navState&&(this.trigger(t,{axisRanges:this._navState.axisRanges,originalEvent:e}),this._suppressHover=!1,this._navState=null)},t.prototype._getChartElement=function(e,t){var n=this.surface.eventTarget(e);if(n)return this._drawingChartElement(n,e,t)},t.prototype._drawingChartElement=function(e,t,n){for(var o,r=e;r&&!o;)o=r.chartElement,r=r.parent;if(o)return o.aliasFor&&(o=o.aliasFor(t,this._eventCoordinates(t))),n&&(o=o.closest(n))&&o.aliasFor&&(o=o.aliasFor()),o},t.prototype._eventCoordinates=function(e){var t=pP(e);return this._toModelCoordinates(t.x,t.y)},t.prototype._elementPadding=function(){if(!this._padding){var e=zN(this.element,["paddingLeft","paddingTop"]),t=e.paddingLeft,n=e.paddingTop;this._padding={top:n,left:t}}return this._padding},t.prototype._toDocumentCoordinates=function(e){var t=this._elementPadding(),n=dP(this.element);return{left:xP(e.x+t.left+n.left),top:xP(e.y+t.top+n.top)}},t.prototype._toModelCoordinates=function(e,t){var n=this.element,o=dP(n),r=this._elementPadding(),i=function(e){if(!e)return MP.unit();for(var t=RP(e),n=e.parentElement;n;){var o=RP(n);t=t.multiplyCopy(o),n=n.parentElement}return t.b=t.c=t.e=t.f=0,t}(n).invert(),a=new sO(e-o.left-r.left,t-o.top-r.top).transform(i);return new $M(a.x,a.y)},t.prototype._tap=function(e){var t=this,n=this.surface.eventTarget(e),o=this._drawingChartElement(n,e),r=this._sharedTooltip();this._startHover(n,e)||r||this._unsetActivePoint(),r&&this._trackSharedTooltip(this._eventCoordinates(e),e,!0),this._propagateClick(o,e),this.handlingTap=!0,setTimeout((function(){t.handlingTap=!1}),0)},t.prototype._click=function(e){var t=this._getChartElement(e);this._propagateClick(t,e)},t.prototype._propagateClick=function(e,t){for(var n=e;n;)n.click&&n.click(this,t),n=n.parent},t.prototype._isLegendBeforeChart=function(){var e=this.options.legend.position,t=this._legend;return t&&t.hasItems()&&(e===cN||e===$D)},t.prototype._focus=function(){this._preventInitialPointFocus||(this._isLegendBeforeChart()?this._focusFirstLegendItem():this._focusFirstPoint()),this._preventInitialPointFocus=!1},t.prototype._keydown=function(e){var t=this._focusState,n=t.legendInFocus,o=t.focusedElement,r=this._legend;if("Tab"===e.key){this._clearFocusedElement();var i=this._isLegendBeforeChart();n&&i!==e.shiftKey?this._navigatePoints(e):!n&&i===e.shiftKey&&r.hasItems()&&this._navigateLegend(e)}else"Escape"===e.key?(o&&e.stopPropagation(),this._tooltip&&this._tooltip.visible?this._hideTooltip():this._blur()):"Enter"===e.key?o&&(this._focusState.preserveHighlight=!0,this._propagateClick(o,e),this._focusElement(o)):n?this._navigateLegend(e):this._navigatePoints(e)},t.prototype._navigatePoints=function(e){var t=this,n=this._focusState,o=this._plotArea;if(n.legendInFocus=!1,!n.focusedElement)return this._focusFirstPoint(),void e.preventDefault();var r=function(o){n.focusedPoint=o,t._focusElement(n.focusedPoint),t._displayTooltip(o),e.preventDefault()};switch(e.key){case LD:r(o.getPointToTheRight(n.focusedPoint));break;case FD:r(o.getPointToTheLeft(n.focusedPoint));break;case RD:r(o.getPointBelow(n.focusedPoint));break;case OD:r(o.getPointAbove(n.focusedPoint))}},t.prototype._navigateLegend=function(e){var t=this,n=this,o=n._focusState,r=n._legend,i=n.chartService.rtl;if(o.legendInFocus=!0,!o.focusedElement)return this._focusFirstLegendItem(),void e.preventDefault();var a=r.getItems().length,s=function(n){o.focusedLegendItemIndex=n(o.focusedLegendItemIndex,a),t._focusElement(t._getFocusedLegendItem()),e.preventDefault()};switch(e.key){case OD:case FD:s(i?jN:AN);break;case RD:case LD:s(i?AN:jN)}},t.prototype._focusFirstPoint=function(){var e=this._focusState.focusedPoint=this._plotArea.getFirstPoint();e&&(this._focusElement(e),this._displayTooltip(e))},t.prototype._hasFocus=function(){return this.element.ownerDocument.activeElement===this.element},t.prototype._mousedown=function(){this._hasFocus()||(this._preventInitialPointFocus=!0)},t.prototype._focusChart=function(){this._hasFocus()||(this._preventInitialPointFocus=!0,this.element.focus())},t.prototype._focusPoint=function(e){this._focusState.focusedPoint=e,this._focusChart(),this._focusElement(e,!0)},t.prototype._focusFirstLegendItem=function(){var e=this._focusState;e.focusedLegendItemIndex=0,this._focusElement(this._getFocusedLegendItem()),e.legendInFocus=!0,this._hideTooltip()},t.prototype._focusLegendItem=function(e){var t=this._focusState;t.focusedLegendItemIndex=this._legend.getItems().findIndex((function(t){return t.options.series.index===e.seriesIndex&&t.options.pointIndex===e.pointIndex})),t.legendInFocus=!0,this._focusChart(),this._focusElement(this._getFocusedLegendItem(),!0)},t.prototype._getFocusedLegendItem=function(){var e=this._focusState;return this._legend.getItems()[e.focusedLegendItemIndex]},t.prototype._focusElement=function(e,t){var n=this._focusState;if(this._clearFocusedElement(),e&&(n.focusedElement=e,this._setElementActiveDescendant(e),!t))if(e.focusVisual(),n.legendInFocus){var o=e.options;this._showSeriesInactiveOpacity(o.series.index,o.pointIndex)}else this._showInactiveOpacity(e)},t.prototype._clearFocusedElement=function(){var e=this._focusState;e&&(e.focusedElement&&e.focusedElement.clearFocusFromVisual&&(e.focusedElement.clearFocusFromVisual(),this._clearElementActiveDescendant()),e.focusedElement=null)},t.prototype._setElementActiveDescendant=function(e){"canvas"===this.options.renderAs&&(this._pseudoFocusedElement=this._createPseudoFocusedElement(e),this.element.append(this._pseudoFocusedElement)),this.element.setAttribute(zD,e._id)},t.prototype._clearElementActiveDescendant=function(){this._pseudoFocusedElement&&(this._pseudoFocusedElement.remove(),this._pseudoFocusedElement=null),this.element.removeAttribute(zD)},t.prototype._createPseudoFocusedElement=function(e){var t=document.createElement("div"),n=e.options.accessibility;t.id=e._id,t.setAttribute("aria-label",e.getAriaLabelText()),t.setAttribute("role",n.role),t.setAttribute("aria-roledescription",n.ariaRoleDescription);var o=n.ariaChecked;return lP(o)&&t.setAttribute("aria-checked",o),t},t.prototype._blur=function(){this._focusState.legendInFocus=!1,this._clearFocusedElement(),this._hideInactiveOpacity()},t.prototype._startHover=function(e,t){if(this._suppressHover)return!1;var n=this._drawingChartElement(e,t,(function(e){return(e.hover||e.over)&&!(e instanceof Yq)})),o=this._activePoint;return this._updateHoveredPoint(n,t),n&&o!==n&&n.hover&&(this._activePoint=n,this._sharedTooltip()||n.hover(this,t)||(this._displayTooltip(n),this._showInactiveOpacity(n))),n},t.prototype._displayTooltip=function(e){MN({},this.options.tooltip,e.options.tooltip).visible&&(this._sharedTooltip()&&e.box?this._trackSharedTooltip(e.box.center(),{}):this._tooltip.show(e))},t.prototype._hideTooltip=function(){this._tooltip&&this._tooltip.hide()},t.prototype._displayInactiveOpacity=function(e,t,n){var o=this._activeChartInstance=this._chartInstanceFromPoint(e);if(o)if(t)this._updateSeriesOpacity(e),this._applySeriesOpacity(o.children,null,!0),this._applySeriesOpacity(o.children,e.series),this._highlight.show(n||e);else{var r;if(!o.supportsPointInactiveOpacity())return void this._highlight.show(e);(r=this._getInactivePoints(e,o))&&r.length&&this._highlight.show(r,1-this._getInactiveOpacityForSeries(e.series))}},t.prototype._getInactivePoints=function(e,t){return this._getAllPointsOfType(t,e.constructor).filter((function(t){return t!==e}))},t.prototype._getAllPointsOfType=function(e,t){for(var n=[],o=0;o<e.children.length;o++){var r=e.children[o];r.constructor===t?n.push(r):r.children&&r.children.length&&(n=n.concat(this._getAllPointsOfType(r,t)))}return n},t.prototype._updateHoveredPoint=function(e,t){var n=this._hoveredPoint;n&&n!==e&&(n.out(this,t),this._hoveredPoint=null),e&&n!==e&&e.over&&(this._hoveredPoint=e,e.over(this,t))},t.prototype._updateDrilldownPoint=function(e){e&&e.series&&(pB.current.bindPoint(e.series,null,e.dataItem).fields.drilldown&&(this._drilldownState={cursor:this.element.style.cursor},this.element.style.cursor="pointer"))},t.prototype._resetDrilldownPoint=function(){this._drilldownState&&(this.element.style.cursor=this._drilldownState.cursor,this._drilldownState=null)},t.prototype._startDrilldown=function(e){if(e&&e.series){var t=e.series,n=pB.current.bindPoint(t,null,e.dataItem).fields.drilldown;if(n){var o={series:t,point:e,value:n,sender:this};this.trigger("drilldown",o)}}},t.prototype._updateSeriesOpacity=function(e,t){for(var n=this._plotArea,o=n.series.length,r=0;r<o;r++){var i=n.series[r],a=this._getDefaultOpacityForSeries(i),s=this._getInactiveOpacityForSeries(i);t||i===e.series?(i.opacity=a,i.line&&(i.line.opacity=a)):(i.defaultOpacity=a,i.opacity=s,i.line&&(i.line.opacity=s))}},t.prototype._applySeriesOpacity=function(e,t,n,o){for(var r=0;r<e.length;r++){var i=e[r],a=i.series||o;if(a&&(a.highlight||{}).visible&&i.visual){var s=o?o.opacity:i.series.opacity;(a!==t||n)&&i.visual.opacity(n?1:s)}i.children&&i.children.length&&this._applySeriesOpacity(i.children,t,n,i.series)}},t.prototype._chartInstanceFromPoint=function(e){for(var t=e.parent;t&&!t.plotArea;)t=t.parent;return t},t.prototype._showInactiveOpacity=function(e){var t=this._plotArea.series.length>1;this._hasInactiveOpacity()?this._displayInactiveOpacity(e,t):this._highlight.show(e)},t.prototype._hideInactiveOpacity=function(e){var t=this._plotArea.series.length>1;this._hasInactiveOpacity()&&(t&&this._activeChartInstance&&(this._updateSeriesOpacity(e,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null)},t.prototype._hasInactiveOpacity=function(){var e=void 0!==this.options.seriesDefaults.highlight.inactiveOpacity,t=this.options.series.filter((function(e){return void 0!==e.highlight.inactiveOpacity})).length>0;return e||t},t.prototype._getInactiveOpacityForSeries=function(e){var t=this.options.seriesDefaults.highlight.inactiveOpacity;return e.highlight.inactiveOpacity||t||e.opacity||1},t.prototype._getDefaultOpacityForSeries=function(e){return e.defaultOpacity||e.opacity||1},t.prototype._mouseover=function(e){var t,n=this._startHover(e.element,e.originalEvent);n&&n.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),sP(document,((t={})[ZX]=this._mouseMoveTrackHandler,t)))},t.prototype._mouseMoveTracking=function(e){var t,n=this,o=n.options,r=n._tooltip,i=n._highlight,a=n._activePoint,s=this._eventCoordinates(e);if(this._plotArea.box.containsPoint(s)){if(a&&a.tooltipTracking&&a.series&&a.parent.getNearestPoint){var l=a.parent.getNearestPoint(s.x,s.y,a.seriesIx);if(l&&l!==a)if(this._activePoint=l,!l.hover(this,e))MN({},o.tooltip,l.options.tooltip).visible&&r.show(l),i.show(l)}}else bP(document,((t={})[ZX]=this._mouseMoveTrackHandler,t)),this._unsetActivePoint(),this._clearFocusedElement(),this._mouseMoveTrackHandler=null,this._hideInactiveOpacity(a)},t.prototype._mousemove=function(e){var t=this._eventCoordinates(e),n=this._plotArea;if(this._trackCrosshairs(t),n.hover){var o=n.backgroundContainsPoint(t);o?(this._plotAreaHovered=!0,this._plotArea.hover(this,e)):this._plotAreaHovered&&!o&&(this._plotAreaHovered=!1,this.trigger(kV))}this._sharedTooltip()&&this._trackSharedTooltip(t,e)},t.prototype._trackCrosshairs=function(e){for(var t=this._plotArea.crosshairs,n=0;n<t.length;n++){var o=t[n];o.box.containsPoint(e)?o.showAt(e):o.hide()}},t.prototype._trackSharedTooltip=function(e,t,n){if(!this._suppressHover){var o=this,r=o.options.tooltip,i=o._plotArea,a=o._plotArea.categoryAxis,s=o._tooltip,l=o._highlight;if(i.backgroundContainsPoint(e)){var c=a.pointCategoryIndex(e);if(c!==this._tooltipCategoryIx||!this._sharedHighlight&&n){var d=i.pointsByCategoryIndex(c),u=d.map((function(e){return e.eventArgs(t)})),p=u[0]||{};p.categoryPoints=u,d.length>0&&!this.trigger(yV,p)?(r.visible&&s.showAt(d,e),l.show(d),this._sharedHighlight=!0):s.hide(),this._tooltipCategoryIx=c}else n&&this._sharedHighlight&&(l.hide(),s.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(l.hide(),s.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}},t.prototype.hideElements=function(e){var t=this._plotArea;this._mousemove.cancel(),t.hideCrosshairs(),this._unsetActivePoint(e)},t.prototype._unsetActivePoint=function(e){var t=this._highlight;this._activePoint=null,this._hoveredPoint=null,e&&e.keepTooltipOpen||this._hideTooltip(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,t&&t.hide()},t.prototype._deferRedraw=function(){this._redraw()},t.prototype._clearRedrawTimeout=function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)},t.prototype.bindCategories=function(){for(var e=this.options,t=[].concat(e.categoryAxis),n=0;n<t.length;n++){var o=t[n];!1!==o.autoBind&&this.bindCategoryAxisFromSeries(o,n)}},t.prototype.bindCategoryAxisFromSeries=function(e,t){var n=this,o=new Set,r=this.options.series.filter((function(n){return n.categoryAxis===e.name||!n.categoryAxis&&0===t})),i=r.some((function(e){return Boolean(e.categoryField)})),a=r.filter((function(e){return e.data&&e.data.length>0})),s=a.map((function(e){return pB.current.bindPoint(e,0).fields.category})),l=s.reduce((function(t,n){return t||sH(e,n)}),!1),c=a.filter((function(e,t){return e.categoryField||lP(s[t])}));if(c.forEach((function(e){return e.data.forEach((function(t,r){var i=pB.current.bindPoint(e,r).fields.category;if(l){var a=rH(i,t,n.chartService.intl);i=a?a.getTime():void 0}o.add(i)}))})),o.size>0){var d=Array.from(o.values());l&&(d=d.sort().map((function(e){return e&&new Date(e)}))),e.categories=d}else i&&(e.categories=[])},t.prototype._isBindable=function(e){for(var t=pB.current.valueFields(e),n=!0,o=0;o<t.length;o++){var r=t[o];if(r===dN?r="field":r+="Field",!lP(e[r])){n=!1;break}}return n},t.prototype._noTransitionsRedraw=function(){var e,t=this.options;!1!==t.transitions&&(t.transitions=!1,e=!0),this._redraw(),e&&(t.transitions=!0)},t.prototype._legendItemHover=function(e,t){this._showSeriesInactiveOpacity(e,t)},t.prototype._showSeriesInactiveOpacity=function(e,t){var n,o=this._plotArea,r=this._highlight,i=(o.srcSeries||o.series)[e];if(n=$N(i.type,[UB,FB,LB,zB])?o.findPoint((function(n){return n.series.index===e&&n.index===t})):o.pointsBySeriesIndex(e),this._hasInactiveOpacity()&&i.visible&&n){var a=o.series.length>1,s=n.length?n[0]:n;this._displayInactiveOpacity(s,a,n)}else r.show(n)},t.prototype._shouldAttachMouseMove=function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([wV,kV])},t.prototype.updateMouseMoveHandler=function(){var e,t;bP(this.element,((e={})[ZX]=this._mousemove,e)),this._shouldAttachMouseMove()&&sP(this.element,((t={})[ZX]=this._mousemove,t))},t.prototype.applyOptions=function(e,t){dQ(this._originalOptions,e),this._originalOptions=MN(this._originalOptions,e),this.options=MN({},this._originalOptions),t&&(this._theme=t,this.chartService.theme=t),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()},t.prototype.setOptions=function(e,t){this.applyOptions(e,t),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler(),this._restoreOverlayElement()},t.prototype.setDirection=function(e){this.chartService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&this._destroySurface()},t.prototype.setIntlService=function(e){this.chartService.intl=e},t.prototype.noTransitionsRedraw=function(){this._noTransitionsRedraw()},t.prototype.destroy=function(){var e,t;this._destroyed=!0,bP(this.element,((e={})[$X]=this._clickHandler,e[VV]=this._mousewheelHandler,e[ZX]=this._mousemove,e[eQ]=this._mouseleaveHandler,e[tQ]=this._keydownHandler,e[nQ]=this._focusHandler,e[oQ]=this._blurHandler,e)),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&bP(document,((t={})[ZX]=this._mouseMoveTrackHandler,t)),this._focusState=null,this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()},t.prototype._destroySurface=function(){var e=this.surface;e&&(e.unbind("mouseenter",this._surfaceMouseenterHandler),e.unbind("mouseleave",this._surfaceMouseleaveHandler),e.destroy(),this.surface=null)},t.prototype._destroySelections=function(){var e=this._selections;if(e)for(;e.length>0;)e.shift().destroy()},t.prototype._destroyView=function(){var e=this._model;e&&(e.destroy(),this._model=null),this._unsetActivePoint(),this._clearFocusedElement(),this._resetDrilldownPoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)},t}(uT);function aQ(e,t){if(e)for(var n=0;n<e.length;n++)if(e[n].category===t)return[e[n]]}function sQ(e){delete e.bar,delete e.column,delete e.rangeColumn,delete e.line,delete e.verticalLine,delete e.pie,delete e.donut,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc,delete e.boxPlot,delete e.bullet,delete e.verticalBullet,delete e.polarArea,delete e.polarLine,delete e.radarArea,delete e.radarLine,delete e.waterfall}function lQ(e){for(var t={},n=0;n<e.length;n++){var o=e[n],r=o.options.name;r&&(t[r]=o.range())}return t}var cQ=["data","categories"];function dQ(e,t){for(var n in t)if(!$N(n,cQ)&&aM(t,n)){var o=t[n],r=e[n];if(lP(r)){var i=null===o;i||!lP(o)?(delete e[n],i&&delete t[n]):r&&ON(o)&&ON(r)&&dQ(r,o)}}}function uQ(e){for(var t=0;t<e.length;t++)e[t].notifyRender()}SP(iQ,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{},accessibility:{},focusHighlight:{border:{opacity:1,color:BD,width:2}}},categoryAxis:{},seriesDefaults:{type:RB,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1},accessibility:{},focusHighlight:{border:{opacity:1,width:2},zIndex:200}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});const pQ=iQ;var hQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._slotAnchor=function(e,t){var n=this.plotArea.categoryAxis.options.vertical,o=n?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};return{point:n?new $M(this.plotArea.box.x2,t.center().y):new $M(t.center().x,-2),align:o}},t.prototype._defaultAnchor=function(e,t){return this._slotAnchor({},t)},t}(sY);const fQ=hQ;var mQ=[NB,MB];function gQ(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];t[n]=o.style.display,o.style.display="none"}return t}function vQ(e,t){for(var n=0;n<e.length;n++)e[n].style.display=t[n]}function yQ(e){return IN(e)?[e]:e}var xQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._setElementClass=function(e){yN(e,"k-sparkline")},t.prototype._initElement=function(t){e.prototype._initElement.call(this,t),this._initialWidth=Math.floor(uP(t).width)},t.prototype._resize=function(){var t=this.element,n=gQ(t.childNodes);this._initialWidth=Math.floor(uP(t).width),vQ(t.childNodes,n),e.prototype._resize.call(this)},t.prototype._modelOptions=function(){var e=this.options,t=this._surfaceWrap(),n=gQ(t.childNodes),o=document.createElement("span");o.innerHTML="&nbsp;",t.appendChild(o);var r=MN({width:this._autoWidth,height:uP(t).height,transitions:e.transitions},e.chartArea,{inline:!0,align:!1});return uP(t,{width:r.width,height:r.height}),t.removeChild(o),vQ(t.childNodes,n),this.surface&&this.surface.resize(),r},t.prototype._surfaceWrap=function(){if(!this.stage){var e=this.stage=document.createElement("span");this.element.appendChild(e)}return this.stage},t.prototype._createPlotArea=function(t){var n=e.prototype._createPlotArea.call(this,t);return this._autoWidth=this._initialWidth||this._calculateWidth(n),n},t.prototype._calculateWidth=function(e){for(var t=this.options,n=BN(t.chartArea.margin),o=e.charts,r=this._surfaceWrap(),i=0,a=0;a<o.length;a++){var s=o[a],l=(s.options.series||[])[0];if(l){if(l.type===NB)return 150;if(l.type===MB)return 150;if(l.type===UB)return uP(r).height;var c=s.categoryAxis;if(c){var d=c.categoriesCount()*(!s.options.isStacked&&$N(l.type,[RB,rV])?s.seriesOptions.length:1);i=Math.max(i,d)}}}var u=i*t.pointWidth;return u>0&&(u+=n.left+n.right),u},t.prototype._createSharedTooltip=function(e){return new fQ(this._plotArea,e)},t.normalizeOptions=function(e){var t=yQ(e);return(t=vN(t)?{seriesDefaults:{data:t}}:MN({},t)).series||(t.series=[{data:yQ(t.data)}]),MN(t,{seriesDefaults:{type:t.type}}),($N(t.series[0].type,mQ)||$N(t.seriesDefaults.type,mQ))&&(t=MN({},{categoryAxis:{crosshair:{visible:!1}}},t)),t},t}(pQ);SP(xQ,{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});const bQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){this._initialOpacity=parseFloat(zN(this.element,"opacity").opacity)},t.prototype.step=function(e){zN(this.element,{opacity:String(tT(this._initialOpacity,0,e))})},t.prototype.abort=function(){e.prototype.abort.call(this),zN(this.element,{display:"none",opacity:String(this._initialOpacity)})},t.prototype.cancel=function(){e.prototype.abort.call(this),zN(this.element,{opacity:String(this._initialOpacity)})},t}(sF);function wQ(e,t){var n=document.createElement("div");return n.className=e,t&&(n.style.cssText=t),n}var kQ=function(e){function t(t,n,o){e.call(this),this.options=MN({},this.options,o),this.container=t,this.chartService=n;var r=zN(t,["paddingLeft","paddingTop"]);this.chartPadding={top:r.paddingTop,left:r.paddingLeft},this.createElements(),t.appendChild(this.element)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createElements=function(){var e=this.element=wQ("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),t=this.tooltip=wQ("k-tooltip k-chart-tooltip"),n=this.scroll=wQ("k-scroll");t.innerHTML="&nbsp;",e.appendChild(t),e.appendChild(n)},t.prototype.show=function(e,t,n){var o=this,r=o.element,i=o.options,a=o.scroll,s=o.tooltip,l=JL(rz(e)+rz(t-e)/2),c=.4*n.width(),d=n.center().x-c,u=(n.center().x-d)/(i.max-i.min),p=l-i.min,h=this.chartService.intl.format(i.format,e,t),f=UN(i);this.clearHideTimeout(),this._visible||(zN(r,{visibility:"hidden",display:"block"}),this._visible=!0),f&&(h=f({from:e,to:t})),s.innerHTML=h,zN(s,{left:n.center().x-s.offsetWidth/2,top:n.y1});var m=zN(s,["marginTop","borderTopWidth","height"]);zN(a,{width:c,left:d+p*u,top:n.y1+m.marginTop+m.borderTopWidth+m.height/2}),zN(r,{visibility:"visible"})},t.prototype.clearHideTimeout=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()},t.prototype.hide=function(){var e=this;this.clearHideTimeout(),this._hideTimeout=setTimeout((function(){e._visible=!1,e._hideAnimation=new bQ(e.element),e._hideAnimation.setup(),e._hideAnimation.play()}),this.options.hideDelay)},t.prototype.destroy=function(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll},t}(uT);SP(kQ,{format:"{0:d} - {1:d}",hideDelay:500});const CQ=kQ;var SQ="_navigator",IQ=SQ,EQ="_default",_Q=function(e){function t(t){var n;e.call(this),this.chart=t;var o=this.options=MN({},this.options,t.options.navigator),r=o.select;r&&(r.from=this.parseDate(r.from),r.to=this.parseDate(r.to)),lP(o.hint.visible)||(o.hint.visible=o.visible),this.chartObserver=new rT(this,((n={})[CV]="_drag",n[SV]="_dragEnd",n[_V]="_zoom",n[jV]="_zoomEnd",n)),t.addObserver(this.chartObserver)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseDate=function(e){return cz(this.chart.chartService.intl,e)},t.prototype.clean=function(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)},t.prototype.destroy=function(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()},t.prototype.redraw=function(){this._redrawSelf(),this.initSelection()},t.prototype.initSelection=function(){var e,t=this.chart,n=this.options,o=this.mainAxis(),r=o.roundedRange(),i=r.min,a=r.max,s=n.select,l=s.from,c=s.to,d=s.mousewheel,u=(e=o,jQ.prototype=e,new jQ);0!==o.categoriesCount()&&(this.clean(),u.box=o.box,this.selection=new oY(t,u,{min:i,max:a,from:l||i,to:c||a,mousewheel:wP(d,{zoom:"left"}),visible:n.visible},new rT(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),n.hint.visible&&(this.hint=new CQ(t.element,t.chartService,{min:i,max:a,template:UN(n.hint),format:n.hint.format})))},t.prototype.setRange=function(){var e=this.chart._createPlotArea(!0).namedCategoryAxes[IQ].roundedRange(),t=e.min,n=e.max,o=this.options.select||{},r=o.from||t;r<t&&(r=t);var i=o.to||n;i>n&&(i=n),this.options.select=MN({},o,{from:r,to:i}),this.filterAxes()},t.prototype._redrawSelf=function(e){var t=this.chart._plotArea;t&&t.redraw(mP(t.panes),e)},t.prototype.redrawSlaves=function(){var e=this.chart,t=e._plotArea,n=t.panes.filter((function(e){return e.options.name!==SQ}));t.srcSeries=e.options.series,t.options.categoryAxis=e.options.categoryAxis,t.clearSeriesPointsCache(),t.redraw(n)},t.prototype._drag=function(e){var t,n=this.chart,o=this.selection,r=n._eventCoordinates(e.originalEvent),i=this.mainAxis(),a=i.roundedRange(),s=i.pane.box.containsPoint(r),l=n._plotArea.categoryAxis,c=e.axisRanges[l.options.name],d=this.options.select;if(c&&!s&&o){t=d.from&&d.to?rz(d.to)-rz(d.from):rz(o.options.to)-rz(o.options.from);var u=JL(gP(rz(c.min),a.min,rz(a.max)-t)),p=JL(gP(rz(u)+t,rz(a.min)+t,a.max));this.options.select={from:u,to:p},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),o.set(u,p),this.showHint(u,p)}},t.prototype._dragEnd=function(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()},t.prototype.readSelection=function(){var e=this.selection.options,t=e.from,n=e.to,o=this.options.select;o.from=t,o.to=n},t.prototype.filterAxes=function(){var e=this.options.select;void 0===e&&(e={});for(var t=this.chart.options.categoryAxis,n=e.from,o=e.to,r=0;r<t.length;r++){var i=t[r];i.pane!==SQ&&(i.min=n,i.max=o)}},t.prototype.filter=function(){var e=this.chart,t=this.options.select;if(e.requiresHandlers(["navigatorFilter"])){var n=this.mainAxis(),o={from:t.from,to:t.to};if("category"!==n.options.type){var r=new Sz(MN({baseUnit:"fit"},e.options.categoryAxis[0],{categories:[t.from,t.to]}),e.chartService).options;o.from=$L(r.min,-r.baseUnitStep,r.baseUnit),o.to=$L(r.max,r.baseUnitStep,r.baseUnit)}this.chart.trigger("navigatorFilter",o)}},t.prototype._zoom=function(e){var t=this,n=t.chart._plotArea.categoryAxis,o=t.selection,r=t.options,i=r.select,a=r.liveDrag,s=this.mainAxis(),l=e.delta;if(o){var c=s.categoryIndex(o.options.from),d=s.categoryIndex(o.options.to),u=this.chart._eventCoordinates(e.originalEvent);e.originalEvent.preventDefault(),Math.abs(l)>1&&(l*=3),d-c>1?(o.zoom(l,u),this.readSelection()):(n.options.min=i.from,i.from=n.scaleRange(-e.delta*this.chart._mousewheelZoomRate(),u).min),a&&(this.filterAxes(),this.redrawSlaves()),o.set(i.from,i.to),this.showHint(this.options.select.from,this.options.select.to)}},t.prototype._zoomEnd=function(e){this._dragEnd(e)},t.prototype.showHint=function(e,t){var n=this.chart._plotArea;this.hint&&this.hint.show(e,t,n.backgroundBox())},t.prototype._selectStart=function(e){return this.chart._selectStart(e)},t.prototype._select=function(e){return this.showHint(e.from,e.to),this.chart._select(e)},t.prototype._selectEnd=function(e){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(e)},t.prototype.mainAxis=function(){var e=this.chart._plotArea;if(e)return e.namedCategoryAxes[IQ]},t.prototype.select=function(e,t){var n=this.options.select;return e&&t&&(n.from=this.parseDate(e),n.to=this.parseDate(t),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(e,t)),{from:n.from,to:n.to}},t.setup=function(e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),!e.__navi){e.__navi=!0;var o=MN({},n.navigator,e.navigator),r=e.panes=[].concat(e.panes),i=MN({},o.pane,{name:SQ});o.visible||(i.visible=!1,i.height=.1),"top"!==e.navigator.position?r.push(i):r.unshift(i),r.forEach((function(e){e.name=e.name||EQ})),t.attachAxes(e,o),t.attachSeries(e,o,n)}},t.attachAxes=function(e,t){var n=t.series||[],o=e.categoryAxis=[].concat(e.categoryAxis),r=e.valueAxis=[].concat(e.valueAxis);o.concat(r).forEach((function(e){e.pane=e.pane||EQ}));var i=0===nH(n,lV).length,a=MN({type:"date",pane:SQ,roundToBaseUnit:!i,justified:i,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:t.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),s=t.categoryAxis;o.push(MN({},a,{maxDateGroups:200},s,{name:IQ,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),MN({},a,s,{name:IQ+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),MN({},a,s,{name:IQ+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),r.push(MN({name:IQ,pane:SQ,majorGridLines:{visible:!1},visible:!1},t.valueAxis))},t.attachSeries=function(e,t,n){for(var o=e.series=e.series||[],r=[].concat(t.series||[]),i=n.seriesColors,a=t.seriesDefaults,s=0;s<r.length;s++)o.push(MN({color:i[s%i.length],categoryField:t.dateField,visibleInLegend:!1,tooltip:{visible:!1}},a,r[s],{axis:IQ,categoryAxis:IQ,autoBind:t.autoBindElements}))},t}(uT);function jQ(){}const AQ=_Q;var DQ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyDefaults=function(t,n){var o=uP(this.element).width||600,r=n,i={seriesDefaults:{categoryField:t.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(o/28)}}};r&&(r=MN({},r,i)),AQ.setup(t,r),e.prototype.applyDefaults.call(this,t,r)},t.prototype._setElementClass=function(e){yN(e,"k-chart k-stockchart")},t.prototype.setOptions=function(t){this.destroyNavigator(),e.prototype.setOptions.call(this,t)},t.prototype.noTransitionsRedraw=function(){var e=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=e},t.prototype._resize=function(){this.noTransitionsRedraw()},t.prototype._redraw=function(){var e=this.navigator;!this._dirty()&&e&&e.options.partialRedraw?e.redrawSlaves():this._fullRedraw()},t.prototype._dirty=function(){var e=this.options,t=XN([].concat(e.series,e.navigator.series),(function(e){return e&&e.visible})).length,n=this._seriesCount!==t;return this._seriesCount=t,n},t.prototype._fullRedraw=function(){var t=this.navigator;t||(t=this.navigator=new AQ(this),this.trigger("navigatorCreated",{navigator:t})),t.clean(),t.setRange(),e.prototype._redraw.call(this),t.initSelection()},t.prototype._trackSharedTooltip=function(t){var n=this._plotArea.paneByPoint(t);n&&n.options.name===SQ?this._unsetActivePoint():e.prototype._trackSharedTooltip.call(this,t)},t.prototype.bindCategories=function(){e.prototype.bindCategories.call(this),this.copyNavigatorCategories()},t.prototype.copyNavigatorCategories=function(){for(var e,t=[].concat(this.options.categoryAxis),n=0;n<t.length;n++){var o=t[n];o.name===IQ?e=o.categories:e&&o.pane===SQ&&(o.categories=e)}},t.prototype.destroyNavigator=function(){this.navigator&&(this.navigator.destroy(),this.navigator=null)},t.prototype.destroy=function(){this.destroyNavigator(),e.prototype.destroy.call(this)},t.prototype._stopChartHandlers=function(t){var n=this._eventCoordinates(t),o=this._plotArea.paneByPoint(n);return e.prototype._stopChartHandlers.call(this,t)||o&&o.options.name===SQ},t.prototype._toggleDragZoomEvents=function(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)},t}(pQ);SP(DQ,{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!1},highlight:{visible:!1},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});var NQ=150,TQ="arrowPointer",PQ="barPointer",MQ=.5,OQ=Math.PI/180,RQ="inside",FQ="linear",LQ="outside",zQ="radialPointer",BQ="radialRangePointer";function VQ(e,t){var n=e.getOrigin(),o=e.getSize(),r=BN(t);return e.setOrigin([n.x-r.left,n.y-r.top]),e.setSize([o.width+(r.left+r.right),o.height+(r.top+r.bottom)]),e}var HQ=JR,qQ=LR,UQ=$F;function GQ(e,t){var n=e.box,o=e.children[0].box,r=t.border||{},i=t.background||"",a=qQ.fromRect(new uO([n.x1,n.y1],[n.width(),n.height()]),{stroke:{}}),s=new UQ(e.text,new sO(o.x1,o.y1),{font:t.font,fill:{color:t.color}}),l=VQ(s.bbox().clone(),t.padding),c=qQ.fromRect(l,{stroke:{color:r.width?r.color:"",width:r.width,opacity:r.opacity,dashType:r.dashType,lineJoin:"round",lineCap:"round"},fill:{color:i}}),d=new HQ;return d.append(a),d.append(c),d.append(s),d}function WQ(e,t,n){var o=lP(e.from)?e.from:tN,r=lP(e.to)?e.to:eN;return e.from=Math.max(Math.min(r,o),t),e.to=Math.min(Math.max(r,o),n),e}function KQ(e,t){var n=BN(t);return n.left=-n.left,n.top=-n.top,n.right=-n.right,n.bottom=-n.bottom,VQ(e,n)}var YQ=LR,XQ=vK,QQ=function(e){function t(t,n,o,r){void 0===r&&(r={}),e.call(this),this.element=t,this.theme=o,this.contextService=new IL(this,r),this._originalOptions=MN({},this.options,n),this.options=MN({},this._originalOptions),this._initTheme(o),this.redraw()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement},t.prototype.value=function(e){var t=this.pointers[0];if(0===arguments.length)return t.value();t.value(e),this._setValueOptions(e)},t.prototype._draw=function(){var e=this.surface;e.clear(),e.draw(this._visuals)},t.prototype.exportVisual=function(){return this._visuals},t.prototype.allValues=function(e){var t=this.pointers,n=[];if(0===arguments.length){for(var o=0;o<t.length;o++)n.push(t[o].value());return n}if(vN(e))for(var r=0;r<e.length;r++)IN(e[r])&&t[r].value(e[r]);this._setValueOptions(e)},t.prototype._setValueOptions=function(e){for(var t=[].concat(this.options.pointer),n=[].concat(e),o=0;o<n.length;o++)t[o].value=n[o]},t.prototype.resize=function(){this.noTransitionsRedraw()},t.prototype.noTransitionsRedraw=function(){var e=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(e)},t.prototype.redraw=function(){var e=this._surfaceSize(),t=new uO([0,0],[e.width,e.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();var n=KQ(t.bbox(),this._gaugeAreaMargin);this.reflow(n)},t.prototype.setOptions=function(e,t){this._originalOptions=MN(this._originalOptions,e),this.options=MN({},this._originalOptions),this._initTheme(t),this.redraw()},t.prototype.setDirection=function(e){this.contextService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)},t.prototype.setIntlService=function(e){this.contextService.intl=e},t.prototype._initTheme=function(e){var t=e||this.theme||{};this.theme=t,this.options=MN({},t,this.options);var n=this.options,o=n.pointer;if(vN(o)){for(var r=[],i=0;i<o.length;i++)r.push(MN({},t.pointer,o[i]));n.pointer=r}},t.prototype._createGaugeArea=function(){var e=this.options.gaugeArea,t=this.surface.size(),n=e.border||{},o=new uO([0,0],[t.width,t.height]);return this._gaugeAreaMargin=e.margin||5,n.width>0&&(o=KQ(o,n.width)),YQ.fromRect(o,{stroke:{color:n.width?n.color:"",width:n.width,opacity:n.opacity,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:e.background}})},t.prototype._initSurface=function(){var e=this.options,t=this.surface,n=this._surfaceElement(),o=this._surfaceSize();uP(n,o),t&&t.options.type===e.renderAs?(this.surface.clear(),this.surface.resize()):(t&&t.destroy(),this.surface=XQ.create(n,{type:e.renderAs}))},t.prototype._surfaceSize=function(){var e=this.options,t=this._getSize();return e.gaugeArea&&MN(t,e.gaugeArea),t},t.prototype._surfaceElement=function(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement},t.prototype.getSize=function(){return this._getSize()},t.prototype._getSize=function(){var e=this.element,t=this._defaultSize(),n=e.offsetWidth,o=e.offsetHeight;return n||(n=t.width),o||(o=t.height),{width:n,height:o}},t.prototype._defaultSize=function(){return{width:200,height:200}},t.prototype._toggleTransitions=function(e){this.options.transitions=e;for(var t=0;t<this.pointers.length;t++)this.pointers[t].options.animation.transitions=e},t}(uT);SP(QQ,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});const JQ=QQ;var ZQ=LR,$Q=JR,eJ=sO;function tJ(e,t){var n,o,r=e.position,i=e.tickX,a=e.tickY;return e.vertical?(n=new eJ(i,r),o=new eJ(i+t.size,r)):(n=new eJ(r,a),o=new eJ(r,a+t.size)),new ZQ({stroke:{color:t.color,width:t.width}}).moveTo(n).lineTo(o)}function nJ(e,t,n,o){var r=t.length;if(o.visible)for(var i=n.mirror,a=n.lineBox,s=o.skip;s<r;s+=o.step)s%o.skipUnit!==0&&(n.tickX=i?a.x2:a.x2-o.size,n.tickY=i?a.y1-o.size:a.y1,n.position=t[s],e.append(tJ(n,o)))}var oJ=function(e){function t(t,n){var o=t||{};!lP(o.reverse)&&!1===o.vertical&&(n||{}).rtl&&(o=Object.assign({},o,{reverse:!0})),e.call(this,0,1,o,n),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initUserOptions=function(e){var t=MN({},this.options,e);return(t=MN({},t,{labels:{mirror:t.mirror}})).majorUnit=t.majorUnit||JM(t.min,t.max),t},t.prototype.initFields=function(){},t.prototype.render=function(){var e=this.elements=new $Q,t=this.renderLabels(),n=this.renderLine(),o=this.renderTicks(),r=this.renderRanges();return e.append(n,t,o,r),e},t.prototype.renderRanges=function(){for(var e=this,t=this.options,n=t.min,o=t.max,r=t.vertical,i=t.labels.mirror,a=t.ranges||[],s=new $Q,l=a.length,c=t.rangeSize||t.minorTicks.size/2,d=0;d<l;d++){var u=WQ(a[d],n,o),p=e.getSlot(u.from,u.to),h=r?e.lineBox():p,f=r?p:e.lineBox();r?h.x1-=c*(i?-1:1):f.y2+=c*(i?-1:1),s.append(ZQ.fromRect(new uO([h.x1,f.y1],[h.x2-h.x1,f.y2-f.y1]),{fill:{color:u.color,opacity:u.opacity},stroke:{}}))}return s},t.prototype.renderLabels=function(){for(var e=this.labels,t=this.options,n=new $Q,o=0;o<e.length;o++)n.append(GQ(e[o],t.labels));return n},t.prototype.renderLine=function(){var e=this.options.line,t=this.lineBox(),n=new $Q;if(e.width>0&&e.visible){var o=new ZQ({stroke:{color:e.color,dashType:e.dashType,width:e.width}});o.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),n.append(o)}return n},t.prototype.renderTicks=function(){var e=new $Q,t=this.options,n=t.majorTicks.visible?t.majorUnit:0,o={vertical:t.vertical,mirror:t.labels.mirror,lineBox:this.lineBox()};return nJ(e,this.getMajorTickPositions(),o,t.majorTicks),nJ(e,this.getMinorTickPositions(),o,MN({},{skipUnit:n/t.minorUnit},t.minorTicks)),e},t}(Nz);SP(oJ,{min:0,max:50,majorTicks:{size:15,align:RQ,color:BD,width:MQ,visible:!0},minorTicks:{size:10,align:RQ,color:BD,width:MQ,visible:!0},line:{width:MQ},labels:{position:RQ,padding:2},mirror:!1,_alignLines:!1});const rJ=oJ;var iJ=function(e){function t(t,n){e.call(this);var o=t.options,r=o.min,i=o.max,a=this.options=MN({},this.options,n);a.fill=a.color,this.scale=t,lP(a.value)?a.value=gP(a.value,r,i):a.value=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.value=function(e){var t=this.options,n=t.value;if(0===arguments.length)return n;var o=this.scale.options,r=o.min,i=o.max;t._oldValue=lP(t._oldValue)?t.value:r,t.value=gP(e,r,i),this.elements&&this.repaint()},t}(uT);SP(iJ,{color:BD});const aJ=iJ;var sJ=function(e){function t(t,n){e.call(this,t,n),this.options=MN({track:{visible:lP(n.track)}},this.options)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(){var e,t,n,o=this.options,r=this.scale,i=r.options,a=i.mirror,s=i.vertical,l=r.lineBox(),c=o.track.size||o.size,d=o.size/2,u=BN(o.margin),p=s?u[a?"left":"right"]:u[a?"bottom":"top"];p=a?-p:p,s?(n=new fO(l.x1+p,l.y1,l.x1+p,l.y2),a?n.x1-=c:n.x2+=c,o.shape!==PQ&&(e=t=new fO(l.x2+p,l.y1-d,l.x2+p,l.y2+d))):(n=new fO(l.x1,l.y1-p,l.x2,l.y1-p),a?n.y2+=c:n.y1-=c,o.shape!==PQ&&(e=t=new fO(l.x1-d,l.y1-p,l.x2+d,l.y1-p))),this.trackBox=n,this.pointerRangeBox=t,this.box=e||n.clone().pad(o.border.width)},t.prototype.getElementOptions=function(){var e=this.options;return{fill:{color:e.color,opacity:e.opacity},stroke:lP(e.border)?{color:e.border.width?e.border.color||e.color:"",width:e.border.width,dashType:e.border.dashType,opacity:e.opacity}:null}},t.prototype._margin=function(){var e=this.scale,t=this.options,n=e.options,o=n.mirror,r=n.vertical,i=BN(t.margin);return r?i[o?"left":"right"]:i[o?"bottom":"top"]},t}(aJ);SP(sJ,{shape:PQ,track:{border:{width:1}},color:BD,border:{width:1},opacity:1,margin:BN(3),animation:{type:PQ},visible:!0});const lJ=sJ;var cJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){var e=this.options,t=e.margin,n=e.from,o=e.to,r=e.vertical,i=r?"x1":"y1";e.mirror===r?(n[i]-=t,o[i]-=t):(n[i]+=t,o[i]+=t);var a=this.fromScale=new sO(n.x1,n.y1),s=this.toScale=new sO(o.x1,o.y1);0!==e.duration&&(e.duration=Math.max(a.distanceTo(s)/e.duration*1e3,1))},t.prototype.step=function(e){var t=tT(this.fromScale.x,this.toScale.x,e),n=tT(this.fromScale.y,this.toScale.y,e);this.element.transform(SO().translate(t,n))},t}(sF);SP(cJ,{easing:FQ,duration:250}),iF.current.register(TQ,cJ);const dJ=cJ;var uJ=sO,pJ=LR,hJ=function(e){function t(t,n){e.call(this,t,n),lP(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointerShape=function(){var e=this.scale,t=this.options.size,n=t/2,o=e.options.mirror?-1:1;return e.options.vertical?[new uJ(0,0-n),new uJ(0-o*t,0),new uJ(0,0+n)]:[new uJ(0-n,0),new uJ(0,0+o*t),new uJ(0+n,0)]},t.prototype.repaint=function(){var e=this.scale,t=this.options,n=new dJ(this.elements,MN(t.animation,{vertical:e.options.vertical,mirror:e.options.mirror,margin:this._margin(t.margin),from:e.getSlot(t._oldValue),to:e.getSlot(t.value)}));!1===t.animation.transitions&&(n.options.duration=0),n.setup(),n.play()},t.prototype.render=function(){var e=this.scale,t=this.options,n=this.getElementOptions(),o=this.pointerShape(t.value);t.animation.type=TQ;var r=new pJ({stroke:n.stroke,fill:n.fill}).moveTo(o[0]).lineTo(o[1]).lineTo(o[2]).close(),i=e.getSlot(t.value);return r.transform(SO().translate(i.x1,i.y1)),this.elements=r,r},t}(lJ);const fJ=hJ;var mJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setup=function(){var e=this.options,t=this.axis=e.vertical?fN:hN,n=this.to=e.newPoints[0][t],o=this.from=e.oldPoints[0][t];0!==e.duration&&(e.duration=Math.max(Math.abs(n-o)/e.speed*1e3,1)),this._set(o)},t.prototype.step=function(e){var t=tT(this.from,this.to,e);this._set(t)},t.prototype._set=function(e){var t="set"+this.axis.toUpperCase(),n=this.options.newPoints;n[0][t](e),n[1][t](e)},t}(sF);SP(mJ,{easing:FQ,speed:250}),iF.current.register(PQ,mJ);const gJ=mJ;var vJ=JR,yJ=LR,xJ=function(e){function t(t,n){e.call(this,t,n),lP(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.pointerShape=function(e){var t=this.scale,n=this.options,o=t.options,r=o.mirror,i=o.vertical,a=r===i?-1:1,s=n.size*a,l=t.getSlot(t.options.min),c=t.getSlot(e),d=i?fN:hN,u=i?hN:fN,p=this._margin()*a,h=new sO;h[d]=l[d+"1"],h[u]=l[u+"1"];var f=new sO;f[d]=c[d+"1"],f[u]=c[u+"1"],i?(h.translate(p,0),f.translate(p,0)):(h.translate(0,p),f.translate(0,p));var m=f.clone(),g=h.clone();return i?(m.translate(s,0),g.translate(s,0)):(m.translate(0,s),g.translate(0,s)),[h,f,m,g]},t.prototype.repaint=function(){var e=this.scale,t=this.options,n=this.pointerShape(t.value),o=this.pointerPath,r=this.pointerShape(t._oldValue);o.moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).lineTo(n[3]).close();var i=new gJ(o,MN(t.animation,{reverse:e.options.reverse,vertical:e.options.vertical,oldPoints:[r[1],r[2]],newPoints:[n[1],n[2]]}));!1===t.animation.transitions&&(i.options.duration=0),i.setup(),i.play()},t.prototype.render=function(){var e=new vJ,t=this.getElementOptions();this.options.track.visible&&e.append(this.renderTrack());var n=this.pointerPath=new yJ({stroke:t.stroke,fill:t.fill});return e.append(n),this.elements=e,e},t.prototype.renderTrack=function(){var e=this.options.track,t=e.border||{},n=this.trackBox.clone().pad(t.width||0);return new yJ.fromRect(n.toRect(),{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.width?t.color||e.color:"",width:t.width,dashType:t.dashType}})},t}(lJ);const bJ=xJ;var wJ=JR,kJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this.pointers,n=e.origin.x,o=e.origin.y,r=new fO(n,o,n+e.width(),o+e.height());this.scale.reflow(r),this._shrinkScaleWidth(r);for(var i=0;i<t.length;i++)t[i].reflow();this.bbox=this._getBox(r),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()},t.prototype._buildVisual=function(){var e=new wJ,t=this.scale.render(),n=this.pointers;e.append(this.gaugeArea),e.append(t);for(var o=0;o<n.length;o++){var r=n[o];e.append(r.render()),r.value(r.options.value)}this._visuals=e},t.prototype._createModel=function(){var e=this.options,t=this.scale=new rJ(e.scale,this.contextService);this.pointers=[];var n=e.pointer;n=vN(n)?n:[n];for(var o=0;o<n.length;o++){var r=MN({},n[o],{animation:{transitions:e.transitions}}),i="arrow"===r.shape?fJ:bJ;this.pointers.push(new i(t,r))}},t.prototype._defaultSize=function(){var e=this.options.scale.vertical;return{width:e?60:200,height:e?200:60}},t.prototype._getBox=function(e){for(var t,n=this.scale,o=this.pointers,r=e.center(),i=o[0].box.clone().wrap(n.box),a=0;a<o.length;a++)i.wrap(o[a].box.clone());return n.options.vertical?(t=i.width()/2,i=new fO(r.x-t,e.y1,r.x+t,e.y2)):(t=i.height()/2,i=new fO(e.x1,r.y-t,e.x2,r.y+t)),i},t.prototype._alignElements=function(){for(var e,t=this.scale,n=this.pointers,o=t.box,r=n[0].box.clone().wrap(t.box),i=this.bbox,a=0;a<n.length;a++)r.wrap(n[a].box.clone());t.options.vertical?(e=i.center().x-r.center().x,t.reflow(new fO(o.x1+e,i.y1,o.x2+e,i.y2))):(e=i.center().y-r.center().y,t.reflow(new fO(o.x1,o.y1+e,o.x2,o.y2+e)));for(var s=0;s<n.length;s++)n[s].reflow(this.bbox)},t.prototype._shrinkScaleWidth=function(e){var t=this.scale;if(!t.options.vertical){var n=t.contentBox().width()-e.width();n>0&&(t.box.shrink(n,0),t.box.alignTo(e,"center"),t.reflow(t.box))}},t.prototype._shrinkElements=function(){for(var e=this.scale,t=this.pointers,n=e.box.clone(),o=e.options.vertical?"y":"x",r=t[0].box,i=0;i<t.length;i++)r.wrap(t[i].box.clone());n[o+1]+=Math.max(n[o+1]-r[o+1],0),n[o+2]-=Math.max(r[o+2]-n[o+2],0),e.reflow(n);for(var a=0;a<t.length;a++)t[a].reflow(this.bbox)},t}(JQ);SP(kJ,{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});var CJ=function(e){function t(t,n){void 0===t&&(t=new AO),void 0===n&&(n={}),e.call(this,n),this.geometry(t),kN(this.options.stroke)||this.stroke("#000")}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={nodeType:{configurable:!0}};return n.nodeType.get=function(){return"Arc"},t.prototype._bbox=function(e){return this._geometry.bbox(e)},t.prototype.rawBBox=function(){return this.geometry().bbox()},t.prototype.toPath=function(){var e=new LR,t=this.geometry().curvePoints();if(t.length>0){e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;n+=3)e.curveTo(t[n],t[n+1],t[n+2])}return e},t.prototype._containsPoint=function(e){return this.geometry().containsPoint(e)},t.prototype._isOnPath=function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)},Object.defineProperties(t.prototype,n),t}(CR(IR(WR(YO))));var SJ=180,IJ=CJ,EJ=LR,_J=JR;function jJ(e,t,n,o){var r=new _J,i=e.center,a=e.getRadiusX();if(o.visible)for(var s=0;s<t.length;s++){var l=e.pointAt(t[s]),c=new sO(i.x+a-o.size,i.y).rotate(t[s],i);r.append(new EJ({stroke:{color:o.color,width:o.width}}).moveTo(l).lineTo(c))}return r}function AJ(e,t,n,o){return{from:e,to:t,color:n,opacity:o}}var DJ=function(e){function t(t,n){e.call(this,0,1,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initUserOptions=function(e){var t=MN({},this.options,e);return t.majorUnit=t.majorUnit||JM(t.min,t.max),t.minorUnit=t.minorUnit||t.majorUnit/10,t},t.prototype.initFields=function(){},t.prototype.render=function(e,t){var n=this.renderArc(e,t);this.bbox=n.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()},t.prototype.reflow=function(e){var t=e.center(),n=Math.min(e.height(),e.width())/2;if(!lP(this.bbox))return this.render(t,n);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()},t.prototype.slotAngle=function(e){var t=this.options,n=t.min,o=t.max,r=t.reverse,i=t.startAngle,a=t.endAngle,s=a-i;return(r?a-(e-n)/(o-n)*s:(e-n)/(o-n)*s+i)+SJ},t.prototype.hasRanges=function(){var e=this.options.ranges;return e&&e.length},t.prototype.ticksSize=function(){var e=this.options,t=e.majorTicks,n=e.minorTicks,o=0;return t.visible&&(o=t.size),n.visible&&(o=Math.max(n.size,o)),o},t.prototype.labelsCount=function(){var t=e.prototype.labelsCount.call(this),n=this.options;return n.endAngle-n.startAngle>=360&&n.max%n.majorUnit===0&&(t-=1),t},t.prototype.renderLabels=function(){var e=this,t=this.options,n=this.arc.clone(),o=n.getRadiusX(),r=this.tickAngles(n,t.majorUnit),i=t.rangeSize=t.rangeSize||.1*o,a=new _J,s=.05*o;lP(t.rangeDistance)?s=t.rangeDistance:t.rangeDistance=s;var l=t.labels,c=l.position===RQ,d=lP(this.labelElements);c&&(o-=this.ticksSize(),this.hasRanges()&&!d&&(o-=i+s),n.setRadiusX(o).setRadiusY(o));for(var u=this.labels,p=u.length,h=BN(l.padding),f=(h.left+h.right)/2,m=(h.top+h.bottom)/2,g=0;g<p;g++){var v=u[g],y=v.box.width()/2,x=v.box.height()/2,b=r[g],w=(b-SJ)*OQ,k=n.pointAt(b),C=k.x+Math.cos(w)*(y+f)*(c?1:-1),S=k.y+Math.sin(w)*(x+m)*(c?1:-1);v.reflow(new fO(C-y,S-x,C+y,S+x));var I=new sO(v.box.x1,v.box.y1),E=void 0;if(d){var _=(E=e.labelElements.children[g]).bbox().origin,j=E.transform()||SO();j.translate(I.x-_.x,I.y-_.y),E.transform(j)}else E=GQ(v,t.labels),a.append(E);e.bbox=uO.union(e.bbox,E.bbox())}return a},t.prototype.repositionRanges=function(){var e=this.ranges.children;if(e.length>0){var t=this.options,n=t.rangeDistance,o=t.rangeSize,r=this.getRangeRadius();this.options.labels.position===RQ&&(r+=o+n);for(var i=r+o/2,a=0;a<e.length;a++)e[a]._geometry.setRadiusX(i).setRadiusY(i);this.bbox=uO.union(this.bbox,this.ranges.bbox())}},t.prototype.renderRanges=function(){var e=this,t=this.rangeSegments(),n=t.length,o=new _J;if(n){var r=this.options,i=r.rangeSize,a=r.reverse,s=r.rangeDistance,l=this.getRangeRadius();this.radius(this.radius()-i-s);for(var c=0;c<n;c++){var d=t[c],u=e.slotAngle(d[a?"to":"from"]),p=e.slotAngle(d[a?"from":"to"]);p-u!==0&&o.append(e.createRange(u,p,l,d))}}return o},t.prototype.createRange=function(e,t,n,o){var r=this.options.rangeSize,i=new AO(this.arc.center,{radiusX:n+r/2,radiusY:n+r/2,startAngle:e,endAngle:t});return new IJ(i,{stroke:{width:r,color:o.color,opacity:o.opacity,lineCap:o.lineCap}})},t.prototype.rangeSegments=function(){var e=this.options,t=e.ranges||[],n=t.length,o=[];if(n){var r=e.min,i=e.max,a=e.rangePlaceholderColor;o.push(AJ(r,i,a));for(var s=0;s<n;s++)for(var l=WQ(t[s],r,i),c=o.length,d=0;d<c;d++){var u=o[d];if(u.from<=l.from&&l.from<=u.to){o.push(AJ(l.from,l.to,l.color,l.opacity)),u.from<=l.to&&l.to<=u.to&&o.push(AJ(l.to,u.to,a,l.opacity)),u.to=l.from;break}}}return o},t.prototype.getRangeRadius=function(){var e=this.arc,t=this.options,n=t.rangeSize,o=t.rangeDistance,r=t.majorTicks.size;return t.labels.position===LQ?e.getRadiusX()-r-o-n:e.getRadiusX()-n},t.prototype.renderArc=function(e,t){var n=this.options;return this.arc=new AO(e,{radiusX:t,radiusY:t,startAngle:n.startAngle+SJ,endAngle:n.endAngle+SJ})},t.prototype.renderTicks=function(){var e=this.arc,t=this.options,n=e.clone();this.majorTickAngles=this.tickAngles(e,t.majorUnit),this.majorTicks=jJ(n,this.majorTickAngles,t.majorUnit,t.majorTicks);var o=new _J;o.append(this.majorTicks);var r=t.majorTicks.size,i=t.minorTicks.size;if(this._tickDifference=r-i,t.labels.position===LQ){var a=n.getRadiusX();n.setRadiusX(a-r+i).setRadiusY(a-r+i)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(e,t.minorUnit)),this.minorTicks=jJ(n,this.minorTickAngles,t.minorUnit,t.minorTicks),o.append(this.minorTicks),o},t.prototype.normalizeTickAngles=function(e){for(var t=this.options,n=t.majorUnit/t.minorUnit,o=e.length-1;o>=0;o--)o%n===0&&e.splice(o,1);return e},t.prototype.tickAngles=function(e,t){var n=this.options,o=n.reverse,r=n.max-n.min,i=e.endAngle-e.startAngle,a=r/t,s=e.startAngle,l=i/a;o&&(s+=i,l=-l),i>=360&&n.max%t===0&&(a-=1);for(var c=[],d=0;d<a;d++)c.push(xP(s,3)),s+=l;return xP(s)<=e.endAngle&&c.push(s),c},t.prototype.radius=function(e){if(!e)return this.arc.getRadiusX();this.arc.setRadiusX(e).setRadiusY(e),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)},t.prototype.repositionTicks=function(e,t,n){var o=n&&this._tickDifference||0,r=this.arc,i=r.getRadiusX();n&&this.options.labels.position===LQ&&0!==o&&(r=this.arc.clone()).setRadiusX(i-o).setRadiusY(i-o);for(var a=0;a<e.length;a++){var s=r.pointAt(t[a]),l=e[a].segments,c=s.x-l[0].anchor().x,d=s.y-l[0].anchor().y;e[a].transform((new SO).translate(c,d))}},t}(Nz);SP(DJ,{min:0,max:100,majorTicks:{size:15,align:RQ,color:BD,width:MQ,visible:!0},minorTicks:{size:10,align:RQ,color:BD,width:MQ,visible:!0},startAngle:-30,endAngle:210,labels:{position:RQ,padding:2}});const NJ=DJ;var TJ=function(e){function t(t,n){e.call(this,t,n);var o=this.options;o.duration=Math.max(Math.abs(o.newAngle-o.oldAngle)/o.duration*1e3,1)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.step=function(e){var t=this.options,n=tT(t.oldAngle,t.newAngle,e);this.element.transform(SO().rotate(n,t.center))},t}(sF);SP(TJ,{easing:FQ,duration:NQ}),iF.current.register(zQ,TJ);const PJ=TJ;var MJ=YR,OJ=JR,RJ=LR,FJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAngle=function(e){this.elements.transform(SO().rotate(e,this.center))},t.prototype.repaint=function(){var e=this.scale,t=this.options,n=e.slotAngle(t._oldValue),o=e.slotAngle(t.value);!1===t.animation.transitions?this.setAngle(o):new PJ(this.elements,MN(t.animation,{oldAngle:n,newAngle:o})).play()},t.prototype.render=function(){var e=this.scale,t=this.options,n=new OJ;return!1!==t.animation&&MN(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),n.append(this._renderNeedle(),this._renderCap()),this.elements=n,this.setAngle(OQ),n},t.prototype.reflow=function(e){var t=this.center=e.center,n=gP(this.options.length||1,.1,1.5),o=this.radius=e.getRadiusX()*n,r=this.capSize=Math.round(o*this.options.cap.size);this.bbox=uO.fromPoints(new sO(t.x-r,t.y-r),new sO(t.x+r,t.y+r))},t.prototype._renderNeedle=function(){var e=this.scale.options.minorTicks.size,t=this.center,n=this.options.color,o=new RJ({fill:{color:n},stroke:{color:n,width:MQ}});return o.moveTo(t.x+this.radius-e,t.y).lineTo(t.x,t.y-this.capSize/2).lineTo(t.x,t.y+this.capSize/2).close(),o},t.prototype._renderCap=function(){var e=this.options,t=e.cap.color||e.color,n=new UR(this.center,this.capSize);return new MJ(n,{fill:{color:t},stroke:{color:t}})},t}(aJ);SP(FJ,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:zQ,duration:NQ}});const LJ=FJ;var zJ=JR,BJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reflow=function(e){var t=this,n=this.pointers;this.scale.reflow(e),this._initialPlotArea=this.scale.bbox;for(var o=0;o<n.length;o++)n[o].reflow(t.scale.arc),t._initialPlotArea=uO.union(t._initialPlotArea,n[o].bbox);this.fitScale(e),this.alignScale(e),this._buildVisual(this.gaugeArea,n,this.scale),this._draw()},t.prototype._buildVisual=function(e,t,n){var o=this._visuals=new zJ;o.append(e),o.append(n.ticks),o.append(n.ranges),this._buildPointers(t),o.append(n.labelElements)},t.prototype._buildPointers=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.render(),this._visuals.append(n.elements),n.value(n.options.value)}},t.prototype.fitScale=function(e){for(var t,n,o,r,i,a=this,s=this.scale.arc,l=this._initialPlotArea,c=Math.abs(this.getDiff(l,e)),d=xP(c,3),u=xP(-c,3),p=0,h=0;h++<100&&!((p=i===o?p+1:0)>5)&&!(d!==r&&0<=(t=a.getPlotBox(d,e,s))&&t<=2)&&!(u!==r&&0<=(o=a.getPlotBox(u,e,s))&&o<=2)&&(r=t>0&&o>0?2*d:t<0&&o<0?2*u:xP((d+u)/2||1,3),!(0<=(n=a.getPlotBox(r,e,s))&&n<=2));)i=o,n>0?(u=r,o=n):(d=r,t=n)},t.prototype.getPlotBox=function(e,t,n){var o=this.scale,r=this.pointers,i=n.getRadiusX(),a=n.clone();a.setRadiusX(i+e).setRadiusY(i+e),o.arc=a,o.reflow(t),this.plotBbox=o.bbox;for(var s=0;s<r.length;s++)r[s].reflow(a),this.plotBbox=uO.union(this.plotBbox,r[s].bbox);return this.getDiff(this.plotBbox,t)},t.prototype.getDiff=function(e,t){return Math.min(t.width()-e.width(),t.height()-e.height())},t.prototype.alignScale=function(e){var t=this.plotBbox.center(),n=e.center(),o=t.x-n.x,r=t.y-n.y,i=this.scale,a=this.pointers;i.arc.center.x-=o,i.arc.center.y-=r,i.reflow(e);for(var s=0;s<a.length;s++)a[s].reflow(i.arc),this.plotBbox=uO.union(i.bbox,a[s].bbox)},t.prototype._createModel=function(){var e=this.options,t=e.pointer,n=this.scale=new NJ(e.scale,this.contextService);this.pointers=[];for(var o=vN(t)?t:[t],r=0;r<o.length;r++){var i=new LJ(n,MN({},o[r],{animation:{transitions:e.transitions}}));this.pointers.push(i)}},t}(JQ);SP(BJ,{transitions:!0,gaugeArea:{background:""}});const VJ=BJ;var HJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.rangeSegments=function(){var e=this.options;return[{from:e.min,to:e.max,color:e.rangePlaceholderColor,lineCap:e.rangeLineCap}]},t.prototype.hasRanges=function(){return!0},t.prototype.placeholderRangeAngle=function(e){var t=this.ranges.children[0].geometry();this.options.reverse?t.setEndAngle(e):t.setStartAngle(e)},t.prototype.addRange=function(e,t,n){var o=this.options.reverse,r=this.slotAngle(o?t:e),i=this.slotAngle(o?e:t),a=this.createRange(r,i,this.getRangeRadius(),n);return this.ranges.append(a),a},t}(NJ);SP(HJ,{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});const qJ=HJ;var UJ=function(e){function t(t,n){e.call(this,t,n);var o=this.options,r=Math.abs(o.newAngle-o.oldAngle)/o.duration*1e3;o.duration=gP(r,NQ,800);var i=t.elements.options.get("stroke.color"),a=t.currentColor();i!==a&&(this.startColor=new QP(i),this.color=new QP(a))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.step=function(e){var t=this,n=t.options,o=t.startColor,r=t.color,i=tT(n.oldAngle,n.newAngle,e);if(this.element.angle(i),r){var a=xP(tT(o.r,r.r,e)),s=xP(tT(o.g,r.g,e)),l=xP(tT(o.b,r.b,e));this.element.stroke(new QP(a,s,l).toHex())}},t}(sF);SP(UJ,{easing:FQ,duration:NQ}),iF.current.register(BQ,UJ);const GJ=UJ;var WJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.repaint=function(){var e=this.scale,t=this.options,n=e.slotAngle(t._oldValue),o=e.slotAngle(t.value);this.animation&&this.animation.abort(),!1===t.animation.transitions?(this.angle(o),this.stroke(this.currentColor())):(this.animation=new GJ(this,MN(t.animation,{oldAngle:n,newAngle:o})),this.animation.play())},t.prototype.angle=function(e){var t=this.elements.geometry();this.scale.options.reverse?t.setStartAngle(e):t.setEndAngle(e),this.scale.placeholderRangeAngle(e)},t.prototype.stroke=function(e){this.elements.stroke(e)},t.prototype.render=function(){if(!this.elements){var e=this.scale,t=this.options;!1!==t.animation&&MN(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),this.elements=e.addRange(e.options.min,this.options.value,{color:this.currentColor(),opacity:t.opacity,lineCap:e.options.rangeLineCap})}},t.prototype.currentColor=function(){var e=this.scale.options,t=e.min,n=e.max,o=this.options,r=o.colors,i=o.color,a=o.value,s=IN(a)?a:t;if(r)for(var l=0;l<r.length;l++){var c=r[l],d=c.color,u=c.from;void 0===u&&(u=t);var p=c.to;if(void 0===p&&(p=n),u<=s&&s<=p)return d}return i},t.prototype.reflow=function(){this.render(),this.bbox=this.elements.bbox()},t}(aJ);SP(WJ,{animation:{type:BQ,duration:NQ}});const KJ=WJ;var YJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initTheme=function(t){e.prototype._initTheme.call(this,t),this.options.color=this.options.color||(this.theme.pointer||{}).color},t.prototype._createModel=function(){var e=this.options,t=this.scale=new qJ(e.scale,this.contextService),n=new KJ(t,MN({},{colors:e.colors,color:e.color,value:e.value,opacity:e.opacity,animation:{transitions:e.transitions}}));this.pointers=[n]},t.prototype._buildPointers=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.render(),n.value(n.options.value)}},t.prototype._setValueOptions=function(e){this.options.value=e},t.prototype.currentColor=function(){var e=this.pointers[0];if(e)return e.currentColor()},t.prototype.centerLabelPosition=function(e,t){var n=this.getSize(),o=this.scale.arc.center,r=o.x-e/2,i=o.y-t/2;if(e<n.width){var a=r+e;r=Math.max(r,0),a>n.width&&(r-=a-n.width)}if(t<n.height){var s=this.scale.bbox,l=s.bottomRight().y,c=i+t;i=Math.max(i,s.origin.y),c>l&&(i-=c-l)}return{left:r,top:i}},t}(VJ);!function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._createModel=function(){var t=this.options.scale;"number"!==typeof t.startAngle&&(t.startAngle=90),t.endAngle=t.startAngle+360,e.prototype._createModel.call(this)}}(YJ);var XJ=function(e){function t(t){e.call(this),this.setOptions(t),this.initProperties()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){},t.prototype.setOptions=function(e){this.options=Object.assign({},this.options,e),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0},t.prototype.encode=function(e,t,n){var o=lP(e)?String(e):e;return this.initValue(o,t,n),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}},t.prototype.initValue=function(){},t.prototype.addQuietZone=function(){this.pattern.push(this.options.quietZoneLength||10)},t.prototype.addData=function(){},t.prototype.invalidCharacterError=function(e){throw new Error('Character "'+e+'" is not valid for symbology '+this.name+".")},t}(uT);SP(XJ,{quietZoneLength:10,addQuietZone:!0,addCheckSum:!0});var QJ=Object.assign,JJ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),QJ(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})},t.prototype.initValue=function(e,t){this.pattern=[],this.value=e,this.width=t,this.totalUnits=0},t.prototype.addData=function(){var e=this.value;this.addPattern(this.START);for(var t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},t.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},t.prototype.addCheckSum=function(){var e=this.value,t=e.length,n=this.getWeightedSum(e,t,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(n),this.addPattern(this.characterMap[n]),++t>=this.kCheckSumMinLength){var o=(n+this.getWeightedSum(e,t,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=o,this.addPattern(this.characterMap[o])}},t.prototype.getWeightedSum=function(e,t,n){for(var o=0,r=0;r<e.length;r++)o+=this.weightedValue(this.getValue(e.charAt(r)),t,r,n);return o},t.prototype.weightedValue=function(e,t,n,o){return((t-n)%o||o)*e},t.prototype.getValue=function(e){return isNaN(e)?(e!==this.DASH&&this.invalidCharacterError(e),this.DASH_VALUE):parseInt(e,10)},t.prototype.addCharacter=function(e){var t=this.getValue(e),n=this.characterMap[t];this.addPattern(n)},t.prototype.addPattern=function(e){for(var t,n=0;n<e.length;n++)t=parseInt(e.charAt(n),10),this.pattern.push(t),this.totalUnits+=t},t}(XJ);SP(JJ,{addCheckSum:!0});var ZJ=Object.assign,$J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),ZJ(this,{minBaseUnitLength:.7})},t.prototype.addData=function(){var e=this.value;this.addStart();for(var t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()},t.prototype.addCharacter=function(e){var t=this.characterMap[e];t||this.invalidCharacterError(e),this.addBase(t)},t.prototype.addBase=function(){},t}(XJ),eZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),ZJ(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})},t.prototype.initValue=function(e,t,n){this.width=t,this.height=n,this.value=e,this.dataLength=e.length,this.pattern=[],this.patternString=""},t.prototype.prepareValues=function(){var e,t=this.minBaseUnitLength,n=this.minRatio,o=Math.ceil(Math.max(.15*this.width,24)),r=this.maxRatio;if(this.height<o)throw new Error("Insufficient height for Code39 encoding: the current height is "+this.height+"px and the minimum height is "+o+"px.");for(e=this.getBaseUnit(r);e<t&&r>n;)r=parseFloat((r-.1).toFixed(1)),e=this.getBaseUnit(r);if(e<t){var i=Math.ceil(this.getBaseWidth(n)*t);throw new Error("Insufficient width for Code39 encoding: the current width is "+this.width+'px and the minimum width for value "'+this.value+'" is '+i+"px.")}this.ratio=r,this.baseUnit=e,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,r).split(this.splitCharacter))},t.prototype.getBaseUnit=function(e){return this.width/this.getBaseWidth(e)},t.prototype.getBaseWidth=function(e){var t=3*(e+2);return this.quietZoneLength+t*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)},t.prototype.addStart=function(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()},t.prototype.addBase=function(e){this.addPattern(e.pattern),this.addCharacterGap()},t.prototype.addStop=function(){this.addPattern(this.characterMap.START.pattern)},t.prototype.addPattern=function(e){for(var t=0;t<e.length;t++)this.patternString+=this.patternMappings[e.charAt(t)]},t.prototype.addCharacterGap=function(){this.patternString+=this.gapWidth+this.splitCharacter},t}($J);SP(eZ,{addCheckSum:!1});var tZ={addCharacter:function(e){this.characterMap[e]?this.addBase(this.characterMap[e]):e.charCodeAt(0)>127?this.invalidCharacterError(e):this.addExtended(e.charCodeAt(0))},addExtended:function(e){for(var t,n=this,o=0;o<this.extendedMappings.length;o++)if(t=n.extendedMappings[o].call(n,e)){for(var r=0;r<t.length;r++){var i=t[r];n.addBase(i)}return void(n.dataLength+=t.length-1)}},extendedMappings:[function(e){if(97<=e&&e<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(e-32)]]},function(e){if(33<=e&&e<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(e+32)]]},function(e){if(1<=e&&e<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(e+64)]]},function(e){var t,n,o=this;if(this.specialAsciiCodes[e]){t=[];for(var r=0;r<this.specialAsciiCodes[e].length;r++)t.push(o.characterMap[o.shiftCharacters[3]]),t.push(o.characterMap[o.specialAsciiCodes[e][r]])}else n=6*Math.floor(e/32)+(e-27)%32+64,t=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(n)]];return t}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},nZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),MN(this,tZ,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})},t}(eZ),oZ=Object.assign,rZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),oZ(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})},t.prototype.initValue=function(e,t,n){this.value=e,this.width=t,this.height=n,this.pattern=[],this.values=[],this.dataLength=e.length},t.prototype.prepareValues=function(){var e=Math.ceil(Math.max(.15*this.width,24));if(this.height<e)throw new Error("Insufficient height for Code93 encoding: the current height is "+this.height+"px, the minimum required height is "+e+"px.");if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength){var t=Math.ceil(this.minBaseUnitLength*(this.width/this.baseUnit));throw new Error("Insufficient width for Code93 encoding: the current width is "+this.width+'px and the minimum required width for value "'+this.value+'" is '+t+"px.")}},t.prototype.setBaseUnit=function(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)},t.prototype.addStart=function(){var e=this.characterMap.START.pattern;this.addPattern(e)},t.prototype.addStop=function(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)},t.prototype.addBase=function(e){this.addPattern(e.pattern),this.values.push(e.value)},t.prototype.pushCheckSum=function(){var e,t=this,n=this._getCheckValues();this.checksum=n.join("");for(var o=0;o<n.length;o++)e=t.characterMap[t._findCharacterByValue(n[o])],t.addPattern(e.pattern)},t.prototype._getCheckValues=function(){var e,t,n=this,o=this.values,r=o.length,i=0;for(t=r-1;t>=0;t--)i+=n.weightedValue(o[t],r-t,n.cCheckSumTotal);for(e=i%this.checkSumMod,i=this.weightedValue(e,1,this.kCheckSumTotal),t=r-1;t>=0;t--)i+=n.weightedValue(o[t],r-t+1,n.kCheckSumTotal);return[e,i%this.checkSumMod]},t.prototype._findCharacterByValue=function(e){for(var t in this.characterMap)if(this.characterMap[t].value===e)return t},t.prototype.weightedValue=function(e,t,n){return(t%n||n)*e},t.prototype.addPattern=function(e){for(var t,n=0;n<e.length;n++)t=parseInt(e.charAt(n),10),this.pattern.push(t)},t}($J),iZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),MN(this,tZ,{name:"Code 93 extended",pushCheckSum:function(){var e,t=this,n=this._getCheckValues();this.checksum=n.join("");for(var o=0;o<n.length;o++)if(e=n[o],t.shiftValuesAsciiCodes[e])t.addExtended(t.shiftValuesAsciiCodes[e]);else{var r=t._findCharacterByValue(e);t.addPattern(t.characterMap[r].pattern)}}})},t}(rZ),aZ=/^\d+$/,sZ=Object.assign,lZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),sZ(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})},t.prototype.initValue=function(e,t,n){this.height=n,this.width=t,this.baseHeight=n/2,this.value=e.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()},t.prototype.addData=function(){var e=this.value;this.addPattern(this.START);for(var t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()},t.prototype.addCharacter=function(e){var t=this.characterMap[e];this.checkSum+=parseInt(e,10),this.addPattern(t)},t.prototype.addCheckSum=function(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)},t.prototype.setBaseUnit=function(){this.baseUnit=this.width/(10*(this.value.length+1)+3+this.quietZoneLength)},t.prototype.validate=function(e){if(aZ.test(e)||this.invalidCharacterError(e.match(/[^0-9]/)[0]),!$N(e.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(",")+".")},t.prototype.addPattern=function(e){for(var t,n=this,o=0;o<e.length;o++)t=n.height-n.baseHeight*e.charAt(o),n.pattern.push({width:1,y1:t,y2:n.height}),n.pattern.push(1)},t}(XJ),cZ=/^\d+$/,dZ=/^[a-z0-9]+$/i,uZ=Object.assign,pZ=function(e){function t(t){e.call(this),this.encoding=t,this.initProperties()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){},t.prototype.addStart=function(){},t.prototype.is=function(){},t.prototype.isCode=function(){return!1},t.prototype.move=function(){},t.prototype.pushState=function(){},t}(uT),hZ=function(e){function t(t,n){e.call(this,t),this.states=n,this._initMoves(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),MN(this,{FNC4:"FNC4",SHIFT:98})},t.prototype.addStart=function(){this.encoding.addPattern(this.START)},t.prototype.is=function(e,t){var n=e.charCodeAt(t);return this.isCode(n)},t.prototype.move=function(e){for(var t=0;!this._moves[t].call(this,e)&&t<this._moves.length;)t++},t.prototype.pushState=function(e){var t,n=this.states,o=e.value,r=o.length;if($N("C",n)){var i=o.substr(e.index).match(/\d{4,}/g);i&&(r=o.indexOf(i[0],e.index))}for(;(t=e.value.charCodeAt(e.index))>=0&&this.isCode(t)&&e.index<r;)this.encoding.addPattern(this.getValue(t)),e.index++},t.prototype._initMoves=function(e){this._moves=[],$N(this.FNC4,e)&&this._moves.push(this._moveFNC),$N(this.shiftKey,e)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)},t.prototype._moveFNC=function(e){if(e.fnc)return e.fnc=!1,e.previousState===this.key},t.prototype._shiftState=function(e){if(e.previousState===this.shiftKey&&(e.index+1>=e.value.length||this.encoding[this.shiftKey].is(e.value,e.index+1)))return this.encoding.addPattern(this.SHIFT),e.shifted=!0,!0},t.prototype._moveState=function(){return this.encoding.addPattern(this.MOVE),!0},t}(pZ),fZ={};fZ.A=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),uZ(this,{key:"A",shiftKey:"B",MOVE:101,START:103})},t.prototype.isCode=function(e){return 0<=e&&e<96},t.prototype.getValue=function(e){return e<32?e+64:e-32},t}(hZ),fZ.B=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),uZ(this,{key:"B",shiftKey:"A",MOVE:100,START:104})},t.prototype.isCode=function(e){return 32<=e&&e<128},t.prototype.getValue=function(e){return e-32},t}(hZ),fZ.C=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),uZ(this,{key:"C",MOVE:99,START:105})},t.prototype.addStart=function(){this.encoding.addPattern(this.START)},t.prototype.is=function(e,t){var n=wZ(e,t,4);return(t+4<=e.length||2===e.length)&&cZ.test(n)},t.prototype.move=function(){this.encoding.addPattern(this.MOVE)},t.prototype.pushState=function(e){for(var t;(t=wZ(e.value,e.index,2))&&cZ.test(t)&&2===t.length;)this.encoding.addPattern(parseInt(t,10)),e.index+=2},t.prototype.getValue=function(e){return e},t}(pZ),fZ.FNC4=function(e){function t(t,n){e.call(this,t),this._initSubStates(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),uZ(this,{key:"FNC4",dependentStates:["A","B"]})},t.prototype.addStart=function(e){var t=e.value.charCodeAt(0)-128,n=this._getSubState(t);this.encoding[n].addStart()},t.prototype.is=function(e,t){var n=e.charCodeAt(t);return this.isCode(n)},t.prototype.isCode=function(e){return 128<=e&&e<256},t.prototype.pushState=function(e){var t,n=this._initSubState(e),o=this.encoding,r=n.value.length;if(e.index+=r,r<3)for(;n.index<r;n.index++)t=n.value.charCodeAt(n.index),n.state=this._getSubState(t),n.previousState!==n.state&&(n.previousState=n.state,o[n.state].move(n)),o.addPattern(o[n.state].MOVE),o.addPattern(o[n.state].getValue(t));else n.state!==n.previousState&&o[n.state].move(n),this._pushStart(n),o.pushData(n,this.subStates),e.index<e.value.length&&this._pushStart(n);e.fnc=!0,e.state=n.state},t.prototype._pushStart=function(e){this.encoding.addPattern(this.encoding[e.state].MOVE),this.encoding.addPattern(this.encoding[e.state].MOVE)},t.prototype._initSubState=function(e){var t={value:this._getAll(e.value,e.index),index:0};return t.state=this._getSubState(t.value.charCodeAt(0)),t.previousState=e.previousState===this.key?t.state:e.previousState,t},t.prototype._initSubStates=function(e){this.subStates=[];for(var t=0;t<e.length;t++)$N(e[t],this.dependentStates)&&this.subStates.push(e[t])},t.prototype._getSubState=function(e){for(var t=this,n=0;n<this.subStates.length;n++)if(t.encoding[t.subStates[n]].isCode(e))return t.subStates[n]},t.prototype._getAll=function(e,t){for(var n,o="",r=t;(n=e.charCodeAt(r++))&&this.isCode(n);)o+=String.fromCharCode(n-128);return o},t}(pZ),fZ.FNC1=function(e){function t(t,n){e.call(this,t),this.states=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),uZ(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})},t.prototype.addStart=function(){this.encoding[this.startState].addStart()},t.prototype.is=function(){return $N(this.key,this.states)},t.prototype.pushState=function(e){var t,n,o,r=this,i=this.encoding,a=e.value.replace(/\s/g,""),s=new RegExp("["+this.startAI+this.endAI+"]","g"),l=e.index,c={state:this.startState};i.addPattern(this.START);for(;;){if(c.index=0,(t=(o=a.charAt(l)===r.startAI?2:0)>0?r.getBySeparator(a,l):r.getByLength(a,l)).ai.length)n=l+o+t.id.length+t.ai.length;else if((n=a.indexOf(r.startAI,l+1))<0){if(l+t.ai.max+t.id.length+o<a.length)throw new Error("Separators are required after variable length identifiers");n=a.length}if(c.value=a.substring(l,n).replace(s,""),r.validate(t,c.value),i.pushData(c,r.dependentStates),n>=a.length)break;l=n,c.state!==r.startState&&(i[r.startState].move(c),c.state=r.startState),t.ai.length||i.addPattern(r.START)}e.index=e.value.length},t.prototype.validate=function(e,t){var n=t.substr(e.id.length),o=e.ai;if(!o.type&&!cZ.test(n))throw new Error("Application identifier "+e.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"===o.type&&!dZ.test(n))throw new Error("Application identifier "+e.id+" is alphanumeric only but contains non alphanumeric character(s).");if(o.length&&o.length!==n.length)throw new Error("Application identifier "+e.id+" must be "+o.length+" characters long.");if(o.min&&o.min>n.length)throw new Error("Application identifier "+e.id+" must be at least "+o.min+" characters long.");if(o.max&&o.max<n.length)throw new Error("Application identifier "+e.id+" must be at most "+o.max+" characters long.")},t.prototype.getByLength=function(e,t){for(var n,o,r=2;r<=4;r++)if(n=wZ(e,t,r),o=this.getApplicationIdentifier(n)||this.getApplicationIdentifier(n.substring(0,n.length-1)))return{id:n,ai:o};this.unsupportedAIError(n)},t.prototype.unsupportedAIError=function(e){throw new Error("'"+e+"' is not a supported Application Identifier")},t.prototype.getBySeparator=function(e,t){var n=e.indexOf(this.startAI,t),o=e.indexOf(this.endAI,n),r=e.substring(n+1,o),i=this.getApplicationIdentifier(r)||this.getApplicationIdentifier(r.substr(r.length-1));return i||this.unsupportedAIError(r),{ai:i,id:r}},t.prototype.getApplicationIdentifier=function(e){var t=this.applicationIdentifiers,n=t.multiKey;if(t[e])return t[e];for(var o=0;o<n.length;o++){if(n[o].ids&&$N(e,n[o].ids))return n[o].type;if(n[o].ranges)for(var r=n[o].ranges,i=0;i<r.length;i++)if(r[i][0]<=e&&e<=r[i][1])return n[o].type}},t}(pZ);var mZ=function(e){function t(t){e.call(this,t),this._initStates()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),uZ(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})},t.prototype._initStates=function(){for(var e=this,t=0;t<this.states.length;t++)e[e.states[t]]=new fZ[e.states[t]](e,e.states)},t.prototype.initValue=function(e,t,n){this.pattern=[],this.value=e,this.width=t,this.height=n,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1},t.prototype.addData=function(){var e={value:this.value,index:0,state:""};0!==this.value.length&&(e.state=e.previousState=this.getNextState(e,this.states),this.addStart(e),this.pushData(e,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())},t.prototype.pushData=function(e,t){for(var n=this;n[e.state].pushState(e),!(e.index>=e.value.length);)if(e.shifted){var o=e.state;e.state=e.previousState,e.previousState=o,e.shifted=!1}else e.previousState=e.state,e.state=n.getNextState(e,t),n[e.state].move(e)},t.prototype.addStart=function(e){this[e.state].addStart(e),this.position=1},t.prototype.addCheckSum=function(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)},t.prototype.addStop=function(){this.addPattern(this.STOP)},t.prototype.setBaseUnit=function(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)},t.prototype.addPattern=function(e){for(var t,n=this.characterMap[e].toString(),o=0;o<n.length;o++)t=parseInt(n.charAt(o),10),this.pattern.push(t),this.totalUnits+=t;this.checkSum+=e*this.position++},t.prototype.getNextState=function(e,t){for(var n=0;n<t.length;n++)if(this[t[n]].is(e.value,e.index))return t[n];this.invalidCharacterError(e.value.charAt(e.index))},t}(XJ),gZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),uZ(this,{name:"Code 128 A",states:["A"]})},t}(mZ),vZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),uZ(this,{name:"Code 128 B",states:["B"]})},t}(mZ),yZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),uZ(this,{name:"Code 128 C",states:["C"]})},t}(mZ),xZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),uZ(this,{name:"Code 128",states:["C","B","A","FNC4"]})},t}(mZ),bZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),uZ(this,{name:"Code GS1-128",states:["FNC1","C","B"]})},t}(mZ);function wZ(e,t,n){return e.substring(t,t+n)}var kZ=Object.assign,CZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),kZ(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:jZ})},t.prototype.initValue=function(e,t){this.pattern=[],this.value=e,this.checkSumLength=0,this.width=t},t.prototype.setBaseUnit=function(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)},t.prototype.addData=function(){var e=this.value;this.addPattern(this.START);for(var t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()},t.prototype.addCharacter=function(e){var t=this.characterMap[e];t||this.invalidCharacterError(e),this.addPattern(t)},t.prototype.addPattern=function(e){for(var t=0;t<e.length;t++)this.pattern.push(parseInt(e.charAt(t),10))},t.prototype.addCheckSum=function(){var e=this,t=this.checkSums[this.checkSumType].call(this.checkSums,this.value);this.checksum=t.join("");for(var n=0;n<t.length;n++)e.checkSumLength++,e.addPattern(e.characterMap[t[n]])},t}(XJ),SZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),kZ(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})},t}(CZ),IZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),kZ(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})},t}(CZ),EZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),kZ(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})},t}(CZ),_Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),kZ(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})},t}(CZ),jZ={Modulo10:function(e){var t,n,o,r=[0,""],i=e.length%2;for(t=0;t<e.length;t++)r[(t+i)%2]+=parseInt(e.charAt(t),10);for(o=r[0],n=(2*r[1]).toString(),t=0;t<n.length;t++)o+=parseInt(n.charAt(t),10);return[(10-o%10)%10]},Modulo11:function(e){for(var t,n=0,o=e.length,r=0;r<o;r++)n+=(((o-r)%6||6)+1)*e.charAt(r);return 10!==(t=(11-n%11)%11)?[t]:[1,0]},Modulo11Modulo10:function(e){var t,n=this.Modulo11(e);return t=e+n[0],n.concat(this.Modulo10(t))},Modulo10Modulo10:function(e){var t,n=this.Modulo10(e);return t=e+n[0],n.concat(this.Modulo10(t))}},AZ=Object.assign,DZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),AZ(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})},t.prototype.initValue=function(e,t,n){var o=String(e);if(12!==o.length||/\D/.test(o))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=n,this.baseUnit=t/(95+this.quietZoneLength),this.value=o,this.checksum=this.calculateChecksum(),this.leftKey=o[0],this.leftPart=o.substr(1,6),this.rightPart=o.substr(7)+this.checksum},t.prototype.addData=function(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)},t.prototype.addSide=function(e,t){for(var n=this,o=0;o<e.length;o++)t&&parseInt(n.keyTable[t].charAt(o),10)?n.addPieces(Array.prototype.slice.call(n.characterMap.digits[e.charAt(o)]).reverse(),!0):n.addPieces(n.characterMap.digits[e.charAt(o)],!0)},t.prototype.addPieces=function(e,t){for(var n=this,o=0;o<e.length;o++)t?n.pattern.push({y1:0,y2:.95*n.options.height,width:e[o]}):n.pattern.push(e[o])},t.prototype.calculateChecksum=function(){for(var e=0,t=0,n=this.value.split("").reverse().join(""),o=0;o<n.length;o++)o%2?t+=parseInt(n.charAt(o),10):e+=parseInt(n.charAt(o),10);return(10-(3*e+t)%10)%10},t}(XJ),NZ=Object.assign,TZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),NZ(this,{name:"EAN 8"})},t.prototype.initValue=function(e,t,n){if(7!==e.length||/\D/.test(e))throw new Error("Invalid value provided");this.value=e,this.options.height=n,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=t/(67+this.quietZoneLength)},t}(DZ),PZ={code11:JJ,code39:eZ,code39extended:nZ,code93:rZ,code93extended:iZ,code128:xZ,code128a:gZ,code128b:vZ,code128c:yZ};function MZ(e,t){var n=e.style.display;"canvas"===t&&(e.style.display="block");var o={width:e.clientWidth,height:e.clientHeight};return e.style.display=n,o}PZ["gs1-128"]=bZ,PZ.msimod10=SZ,PZ.msimod11=IZ,PZ.msimod1010=EZ,PZ.msimod1110=_Z,PZ.postnet=lZ,PZ.ean8=TZ,PZ.ean13=DZ;var OZ=function(e){function t(t,n,o){void 0===o&&(o=rM),e.call(this),this.options=MN({},this.options,n),this.element=t,this.onError=o,this._initElement(),this._initSurface(),this._setOptions(n),n&&lP(n.value)&&this.redraw()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this._destroySurface()},t.prototype._initElement=function(){yN(this.element,"k-barcode")},t.prototype._initSurface=function(){var e=this.options,t=this.surface;t&&t.options.type===e.renderAs||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},t.prototype._createSurface=function(){return vK.create(this.surfaceElement,{type:this.options.renderAs})},t.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},t.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))},t.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},t.prototype.setOptions=function(e){this._setOptions(e),this._initSurface(),this.redraw()},t.prototype.redraw=function(){var e=this._getSize();this.surface.clear(),this.surface.setSize({width:e.width,height:e.height}),this.createVisual(),this.surface.draw(this.visual)},t.prototype.getSize=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},t.prototype._resize=function(){this.redraw()},t.prototype.createVisual=function(){this.visual=this._render()},t.prototype._render=function(){var e,t,n=this.options,o=n.value,r=n.text,i=BN(r.margin),a=this._getSize(),s=n.border||{},l=this.encoding,c=new fO(0,0,a.width,a.height).unpad(s.width).unpad(n.padding),d=c.height(),u=new JR;this.contentBox=c,u.append(this._getBackground(a)),r.visible&&(d-=iP(o,{font:r.font}).height+i.top+i.bottom);try{e=l.encode(o,c.width(),d)}catch(p){return this.onError(p),u}return r.visible&&(t=o,n.checksum&&lP(l.checksum)&&(t+=" "+l.checksum),u.append(this._getText(t))),this.barHeight=d,this._bandsGroup=this._getBands(e.pattern,e.baseUnit),u.append(this._bandsGroup),u},t.prototype.exportVisual=function(){return this._render()},t.prototype._getSize=function(){var e=MZ(this.element,this.options.renderAs),t=new cO(300,100);return e.width>0&&(t.width=e.width),e.height>0&&(t.height=e.height),this.options.width&&(t.width=this.options.width),this.options.height&&(t.height=this.options.height),t},t.prototype.value=function(e){if(!lP(e))return this.options.value;this.options.value=String(e),this.redraw()},t.prototype._getBands=function(e,t){for(var n,o,r=this.contentBox,i=r.x1,a=new JR,s=0;s<e.length;s++){if(n=(o=ON(e[s])?e[s]:{width:e[s],y1:0,y2:this.barHeight}).width*t,s%2){var l=uO.fromPoints(new sO(i,o.y1+r.y1),new sO(i+n,o.y2+r.y1)),c=LR.fromRect(l,{fill:{color:this.options.color},stroke:null});a.append(c)}i+=n}return a},t.prototype._getBackground=function(e){var t=this.options,n=t.border||{},o=new fO(0,0,e.width,e.height).unpad(n.width/2);return LR.fromRect(o.toRect(),{fill:{color:t.background},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType}})},t.prototype._getText=function(e){var t=this.options.text,n=this._textbox=new aL(e,{font:t.font,color:t.color,align:"center",vAlign:"bottom",margin:t.margin});return n.reflow(this.contentBox),n.renderVisual(),n.visual},t.prototype._setOptions=function(e){if(this.type=(e.type||this.options.type).toLowerCase(),"upca"===this.type&&(this.type="ean13",e.value="0"+e.value),"upce"===this.type&&(this.type="ean8",e.value="0"+e.value),!PZ[this.type])throw new Error("Encoding '"+this.type+"' is not supported.");this.encoding=new PZ[this.type],this.options=MN({},this.options,e)},t}(uT);SP(OZ,{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});var RZ=function(e){function t(t,n,o){void 0===n&&(n=new uO),void 0===o&&(o={}),e.call(this,o),this.src(t),this.rect(n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={nodeType:{configurable:!0}};return n.nodeType.get=function(){return"Image"},t.prototype.src=function(e){return kN(e)?(this.options.set("src",e),this):this.options.get("src")},t.prototype.bbox=function(e){var t=iO(this.currentTransform(e));return this._rect.bbox(t)},t.prototype.rawBBox=function(){return this._rect.bbox()},t.prototype._containsPoint=function(e){return this._rect.containsPoint(e)},t.prototype._hasFill=function(){return this.src()},Object.defineProperties(t.prototype,n),t}(WR(YO,["rect"]));const FZ=RZ;var LZ=Object.assign;function zZ(e,t){for(var n=[],o=0;o<e.length;)n.push(e.substring(o,o+t)),o+=t;return n}function BZ(e,t){var n=Number(e).toString(2);return n.length<t&&(n=new Array(t-n.length+1).join(0)+n),n}function VZ(e){return parseInt(e,2)}var HZ=function(e){function t(t){e.call(this),this.matrix=t,this.row=t.length-1,this.column=t.length-1,this.startColumn=this.column,this.dir=-1,this.c=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.move=function(){this.row+=this.dir*this.c,this.c^=1,this.column=this.startColumn-this.c},t.prototype.getNextCell=function(){for(var e=this;void 0!==this.matrix[this.row][this.column];)e.move(),(e.row<0||e.row>=e.matrix.length)&&(e.dir=-e.dir,e.startColumn-=8!==e.startColumn?2:3,e.column=e.startColumn,e.row=e.dir<0?e.matrix.length-1:0);return{row:this.row,column:this.column}},t.prototype.getNextRemainderCell=function(){if(this.move(),void 0===this.matrix[this.row][this.column])return{row:this.row,column:this.column}},t}(uT),qZ=function(e){function t(t,n){e.call(this),this.dataString=t,this.version=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(uT),UZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getEncodingResult=function(e,t){var n=function(e){var t,n=[],o=0,r=e;n.push(j$(r,m$,g$,v$,t)),t=n[0].mode,r=r.substr(n[0].modeString.length);for(;r.length>0;){var i=j$(r,y$,x$,b$,t);i.mode!==t?(t=i.mode,n.push(i),o++):n[o].modeString+=i.modeString,r=r.substr(i.modeString.length)}return n}(e),o=function(e){for(var t=0,n=0;n<e.length;n++)t+=XZ[e[n].mode].getStringBitsLength(e[n].modeString.length);return Math.ceil(t/8)}(n),r=A$(o,t),i=function(e,t){for(var n="",o=0;o<e.length;o++)n+=XZ[e[o].mode].encode(e[o].modeString,t);return n}(n,r);return new qZ(i,r)},t}(uT),GZ=function(e){function t(){e.call(this),this.initProperties()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){LZ(this,{modeIndicator:"",bitsInCharacterCount:[]})},t.prototype.getVersionIndex=function(e){return e<10?0:e>26?2:1},t.prototype.getBitsCharacterCount=function(e){return this.bitsInCharacterCount[this.getVersionIndex(e||40)]},t.prototype.getModeCountString=function(e,t){return this.modeIndicator+BZ(e,this.getBitsCharacterCount(t))},t.prototype.encode=function(){},t.prototype.getStringBitsLength=function(){},t.prototype.getValue=function(){},t}(uT),WZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),LZ(this,{bitsInCharacterCount:[10,12,14],modeIndicator:"0001"})},t.prototype.getValue=function(e){return parseInt(e,10)},t.prototype.encode=function(e,t){var n,o=zZ(e,3),r=this.getModeCountString(e.length,t);for(n=0;n<o.length-1;n++)r+=BZ(o[n],10);return r+BZ(o[n],1+3*o[n].length)},t.prototype.getStringBitsLength=function(e,t){var n=e%3;return 4+this.getBitsCharacterCount(t)+10*Math.floor(e/3)+3*n+(0===n?0:1)},t}(GZ),KZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),LZ(this,{characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010"})},t.prototype.getValue=function(e){return this.characters[e]},t.prototype.encode=function(e,t){var n,o=zZ(e,2),r=this.getModeCountString(e.length,t);for(n=0;n<o.length-1;n++)r+=BZ(45*this.getValue(o[n].charAt(0))+this.getValue(o[n].charAt(1)),11);return r+BZ(2===o[n].length?45*this.getValue(o[n].charAt(0))+this.getValue(o[n].charAt(1)):this.getValue(o[n].charAt(0)),1+5*o[n].length)},t.prototype.getStringBitsLength=function(e,t){return 4+this.getBitsCharacterCount(t)+11*Math.floor(e/2)+e%2*6},t}(GZ),YZ=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),LZ(this,{bitsInCharacterCount:[8,16,16],modeIndicator:"0100"})},t.prototype.getValue=function(e){var t=e.charCodeAt(0);if(t<=127||160<=t&&t<=255)return t;throw new Error('Unsupported character in QR Code: "'+e+'".')},t.prototype.encode=function(e,t){for(var n=this.getModeCountString(e.length,t),o=0;o<e.length;o++)n+=BZ(this.getValue(e.charAt(o)),8);return n},t.prototype.getStringBitsLength=function(e,t){return 4+this.getBitsCharacterCount(t)+8*e},t}(GZ),XZ={};XZ.numeric=new WZ,XZ.alphanumeric=new KZ,XZ.byte=new YZ;var QZ=function(e){function t(){e.call(this),this.initProperties(),this.mode=XZ[this.encodingMode]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){LZ(this,{encodingMode:"byte",utfBOM:"111011111011101110111111",initialModeCountStringLength:20,ranges:[128,2048,65536,2097152,67108864]})},t.prototype.getEncodingResult=function(e,t){var n=this.encode(e),o=A$(this.getDataCodewordsCount(n),t),r=this.mode.getModeCountString(n.length/8,o)+n;return new qZ(r,o)},t.prototype.getDataCodewordsCount=function(e){var t=e.length;return Math.ceil((this.initialModeCountStringLength+t)/8)},t.prototype.encode=function(e){for(var t=this.utfBOM,n=0;n<e.length;n++)t+=this.encodeCharacter(e.charCodeAt(n));return t},t.prototype.encodeCharacter=function(e){var t=this.getBytesCount(e),n=t-1,o="";if(1===t)o=BZ(e,8);else{for(var r=8-t,i=0;i<n;i++)o=BZ(e>>6*i&63|128,8)+o;o=(e>>6*n|255>>r<<r).toString(2)+o}return o},t.prototype.getBytesCount=function(e){for(var t=this.ranges,n=0;n<t.length;n++)if(e<t[n])return n+1},t}(uT),JZ=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],ZZ="0000",$Z="numeric",e$="alphanumeric",t$="byte",n$={1:0},o$={0:1},r$={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},i$=[1,0,1,1,1],a$=[1,0,1],s$={L:"01",M:"00",Q:"11",H:"10"},l$=["11101100","00010001"],c$=[function(e,t){return(e+t)%2===0},function(e,t){return e%2===0},function(e,t){return t%3===0},function(e,t){return(e+t)%3===0},function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2===0},function(e,t){return e*t%2+e*t%3===0},function(e,t){return(e*t%2+e*t%3)%2===0},function(e,t){return((e+t)%2+e*t%3)%2===0}],d$=/^\d+/,u$="A-Z0-9 $%*+./:-",p$=new RegExp("^[A-Z $%*+./:-]+"),h$=new RegExp("^["+u$+"]+"),f$=new RegExp("^[^"+u$+"]+"),m$=8,g$=5,v$=8,y$=17,x$=9,b$=16,w$=[[1,0],[1,25,0]];function k$(e,t,n,o){for(var r=0;r<e.length;r++)e[r][n][o]=t}function C$(e,t,n,o){for(var r=0;r<c$.length;r++)e[r][n][o]=c$[r](n,o)?1^t:parseInt(t,10)}function S$(e,t){for(var n=[],o=e.length-2;o>=0;o--)n[o]=e[o]^t[o];return n}function I$(e,t){for(var n=[],o=0;o<e.length;o++)for(var r=0;r<t.length;r++)void 0===n[o+r]?n[o+r]=(e[o]+(t[r]>=0?t[r]:0))%255:n[o+r]=n$[o$[n[o+r]]^o$[(e[o]+t[r])%255]];return n}function E$(e,t){var n=[],o=e.length-1;do{n[o]=o$[(e[o]+t)%255],o--}while(void 0!==e[o]);return n}function _$(e,t){var n,o,r=w$[t-1],i=new Array(t).concat(e),a=new Array(i.length-r.length).concat(r),s=e.length,l=[];for(o=0;o<s;o++)n=E$(a,n$[i[i.length-1]]),a.splice(0,1),i=S$(n,i);for(o=i.length-1;o>=0;o--)l[t-1-o]=BZ(i[o],8);return l}function j$(e,t,n,o,r){var i,a,s=d$.exec(e),l=s?s[0]:"",c=p$.exec(e),d=c?c[0]:"",u=h$.exec(e),p=u?u[0]:"";return l&&(l.length>=t||e.length===l.length||l.length>=n&&!h$.test(e.charAt(l.length)))?(i=$Z,a=l):p&&(e.length===p.length||p.length>=o||r===e$)?(i=e$,a=l||d):(i=t$,a=p?p+f$.exec(e.substring(p.length))[0]:f$.exec(e)[0]),{mode:i,modeString:a}}function A$(e,t){var n=0,o=JZ.length-1,r=Math.floor(JZ.length/2);do{e<JZ[r][t].totalDataCodewords?o=r:n=r,r=n+Math.floor((o-n)/2)}while(o-n>1);return e<=JZ[n][t].totalDataCodewords?r+1:o+1}function D$(e,t,n){var o=VZ(t),r=t.length-1,i=e<<r,a=BZ(e,n-r),s=function(e,t){var n=t.toString(2).length,o=e.toString(2).length,r=e;do{o=(r^=t<<o-n).toString(2).length}while(o>=n);return r}(i,o);return s=a+BZ(s,r)}function N$(e,t){return parseInt(e.charAt(t),10)}function T$(e,t){var n,o,r=e[0],i=0,a=t.length;for(n=0,o=8;n<=8;n++)6!==n&&k$(e,N$(t,a-1-i++),n,o);for(n=8,o=7;o>=0;o--)6!==o&&k$(e,N$(t,a-1-i++),n,o);for(i=0,o=r.length-1,n=8;o>=r.length-8;o--)k$(e,N$(t,a-1-i++),n,o);for(k$(e,1,r.length-8,8),n=r.length-7,o=8;n<r.length;n++)k$(e,N$(t,a-1-i++),n,o)}function P$(e,t){for(var n,o,r,i=e[0].length,a=i-11,s=i-11,l=0;l<t.length;l++)n=Math.floor(l/3),o=l%3,k$(e,r=N$(t,t.length-l-1),0+n,a+o),k$(e,r,s+o,0+n)}function M$(e,t,n,o){for(var r,i=t.length+2,a=t.length+1,s=0;s<t.length;s++)for(var l=s;l<i-s;l++)k$(e,r=t[s],n+l,o+s),k$(e,r,n+s,o+l),k$(e,r,n+a-l,o+a-s),k$(e,r,n+a-s,o+a-l)}function O$(e,t,n,o){var r=n,i=o,a=e[0];do{k$(e,0,r,o),k$(e,0,n,i),r+=t[0],i+=t[1]}while(r>=0&&r<a.length)}function R$(e,t,n,o,r){t[e][o]=(t[e][o]<<1^r)%128,93===t[e][o]&&(n[e]+=40)}function F$(e,t,n,o,r,i){n[e][i]===o?r[e][i]++:(n[e][i]=o,r[e][i]>=5&&(t[e]+=3+r[e][i]-5),r[e][i]=1)}function L$(e,t){var n=Math.floor(e/t*100),o=n%5,r=Math.abs(n-o-50),i=Math.abs(n+5-o-50);return 10*Math.min(r/5,i/5)}function z$(e,t,n){var o=function(e){return e&&e.toLowerCase().indexOf("utf_8")>=0?new QZ:new UZ}(n),r=o.getEncodingResult(e,t),i=r.version,a=JZ[i-1][t],s=function(e,t){for(var n,o,r,i,a,s=0,l=[],c=[],d=t.groups,u=0;u<d.length;u++){r=d[u][0];for(var p=0;p<r;p++){o=d[u][1],n=[],i=[];for(var h=1;h<=o;h++)a=e.substring(s,s+8),n.push(a),i[o-h]=VZ(a),s+=8;l.push(n),c.push(_$(i,t.errorCodewordsPerBlock))}}return[l,c]}(function(e,t){for(var n=8*t,o=0,r=0,i=e;i.length<n&&o<4;)i+=ZZ.charAt(o++);for(i.length%8!==0&&(i+=new Array(9-i.length%8).join("0"));i.length<n;)i+=l$[r],r^=1;return i}(r.dataString,a.totalDataCodewords),a),l=function(e){for(var t=[],n=17+4*e,o=0;o<c$.length;o++){t[o]=new Array(n);for(var r=0;r<n;r++)t[o][r]=new Array(n)}return t}(i);!function(e){var t=e[0].length;M$(e,i$,0,0),O$(e,[-1,-1],7,7),M$(e,i$,t-7,0),O$(e,[1,-1],t-8,7),M$(e,i$,0,t-7),O$(e,[-1,1],7,t-8)}(l),function(e,t){if(!(t<2)){var n,o,r=e[0],i=r.length,a=Math.floor(t/7),s=[6],l=0;for((n=r$[t])?o=(i-13-n)/a:n=o=(i-13)/(a+1),s.push(s[l++]+n);s[l]+o<i;)s.push(s[l++]+o);for(var c=0;c<s.length;c++)for(var d=0;d<s.length;d++)void 0===r[s[c]][s[d]]&&M$(e,a$,s[c]-2,s[d]-2)}}(l,i),function(e){for(var t=1,n=e[0].length,o=8;o<n-8;o++)k$(e,t,6,o),k$(e,t,o,6),t^=1}(l),i>=7&&P$(l,BZ(0,18)),T$(l,BZ(0,15)),function(e,t){for(var n,o,r,i=new HZ(e[0]),a=0;a<t.length;a++)for(n=t[a],o=0;n.length>0;){for(var s=0;s<n.length;s++)for(var l=0;l<8;l++)r=i.getNextCell(),C$(e,n[s][o].charAt(l),r.row,r.column);for(o++;n[0]&&o===n[0].length;)n.splice(0,1)}for(;r=i.getNextRemainderCell();)C$(e,0,r.row,r.column)}(l,s);var c=function(e){var t,n,o=[],r=[],i=[],a=[],s=[],l=e[0].length;for(n=0;n<e.length;n++)o[n]=0,i[n]=0,s[n]=[0,0],a[n]=[0,0],r[n]=[];for(var c=0;c<l;c++)for(var d=0;d<l;d++)for(var u=0;u<e.length;u++)t=e[u],i[u]+=parseInt(t[c][d],10),r[u][0]===t[c][d]&&c+1<l&&d-1>=0&&t[c+1][d]===r[u][0]&&t[c+1][d-1]===r[u][0]&&(o[u]+=3),R$(u,a,o,0,t[c][d]),R$(u,a,o,1,t[d][c]),F$(u,o,r,t[c][d],s,0),F$(u,o,r,t[d][c],s,1);var p,h=l*l,f=Number.MAX_VALUE;for(n=0;n<o.length;n++)o[n]+=L$(i[n],h),o[n]<f&&(f=o[n],p=n);return p}(l),d=l[c];return i>=7&&P$([d],function(e){return D$(e,"1111100100101",18)}(i)),T$([d],function(e){var t,n="";if(0===VZ(e))return"101010000010010";t=D$(VZ(e),"10100110111",15);for(var o=0;o<t.length;o++)n+=t.charAt(o)^"101010000010010".charAt(o);return n}(s$[t]+BZ(c,3))),d}!function(){var e,t;for(t=1;t<255;t++)(e=2*o$[t-1])>255&&(e^=285),o$[t]=e,n$[e]=t;e=2*o$[t-1]^285,o$[t]=e,o$[-1]=0}(),function(){for(var e=2;e<=68;e++){var t=w$[e-1],n=[e,0];w$[e]=I$(t,n)}}();var B$=Math.round,V$=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],H$=[[0,1],[1,1],[1,0]],q$=200,U$="L",G$="#fff",W$="#000",K$=1,Y$=7,X$=function(e){function t(t,n,o){void 0===o&&(o=rM),e.call(this),this.options=MN({},this.options,n),this.element=t,this.wrapper=this.element,this.onError=o,this._initElement(),this._initSurface(),this.setOptions(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this._destroySurface()},t.prototype._initElement=function(){yN(this.element,"k-qrcode")},t.prototype._initSurface=function(){var e=this.options,t=this.surface;t&&t.options.type===e.renderAs||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},t.prototype._createSurface=function(){return vK.create(this.surfaceElement,{type:this.options.renderAs})},t.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},t.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))},t.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},t.prototype.redraw=function(){var e=this._getSize();this.surface.clear(),this.surface.setSize({width:e,height:e}),this.createVisual(),this.surface.draw(this.visual)},t.prototype.getSize=function(){var e=this.element,t=e.clientWidth,n=e.clientHeight,o={width:0,height:0};return t>0&&(o.width=t),n&&(o.height=n),o},t.prototype._resize=function(){this.redraw()},t.prototype.createVisual=function(){this.visual=this._render()},t.prototype.exportVisual=function(){return this._render()},t.prototype._render=function(){var e,t,n,o,r,i=this._value,a=this.options.border||{},s=this.options.padding||0,l=a.width||0;a.width=l;var c=new JR;try{i&&(n=z$(i,this.options.errorCorrection,this.options.encoding),r=(o=this._getSize())-2*(l+s),e=this._calculateBaseUnit(r,n.length),t=l+s+(r-n.length*e)/2,c.append(this._renderBackground(o,a)),c.append(this._renderMatrix(n,e,t)),this._hasCustomLogo()?c.append(this._renderLogo(o,e)):this._isSwiss()&&c.append(this._renderSwissCode(o,e)))}catch(d){this.onError(d)}return c},t.prototype._renderLogo=function(e,t){var n,o=B$(e/2),r=this._getLogoSize(t*Y$),i=this.options.overlay.imageUrl,a={x:o-r.width/2,y:o-r.height/2};return n=new uO(new sO(a.x,a.y),new cO(r.width,r.height)),new FZ(i,n)},t.prototype._renderSwissCode=function(e,t){var n=this._getLogoSize(t*Y$),o=(n=Math.max(n.width,n.height))/4,r=o/2,i=e/2,a={},s=new JR;return a.x=a.y=Math.ceil(i-t-n/2),s.append(this._renderShape(a,Math.ceil(n+2*t),H$,"#fff")),a.x=a.y=i-n/2,s.append(this._renderShape(a,n,H$,this.options.color)),a.x=i+r-n/2,a.y=i+r+o-n/2,s.append(this._renderShape(a,o,V$,"#fff")),s},t.prototype._renderShape=function(e,t,n,o){var r=new zR({fill:{color:o},stroke:null});r.moveTo(e.x,e.y);for(var i=0;i<n.length;i++)r.lineTo(e.x+t*n[i][0],e.y+t*n[i][1]);return r.close(),r},t.prototype._getSize=function(){var e;if(this.options.size)e=parseInt(this.options.size,10);else{var t=MZ(this.element,this.options.renderAs),n=Math.min(t.width,t.height);e=n>0?n:q$}return e},t.prototype._calculateBaseUnit=function(e,t){var n=Math.floor(e/t);if(n<K$){var o=Math.ceil(t*K$);this.onError(new Error("Insufficient size for QR Code: the current size is "+e+"px and the minimum size is "+o+"px."))}else n*t>=e&&n-1>=K$&&n--;return n},t.prototype._renderMatrix=function(e,t,n){for(var o=new zR({fill:{color:this.options.color},stroke:null}),r=0;r<e.length;r++)for(var i=n+r*t,a=0;a<e.length;){for(;0===e[r][a]&&a<e.length;)a++;if(a<e.length){for(var s=a;1===e[r][a];)a++;var l=B$(n+s*t),c=B$(i),d=B$(n+a*t),u=B$(i+t);o.moveTo(l,c).lineTo(l,u).lineTo(d,u).lineTo(d,c).close()}}return o},t.prototype._renderBackground=function(e,t){var n=new fO(0,0,e,e).unpad(t.width/2);return LR.fromRect(n.toRect(),{fill:{color:this.options.background},stroke:{color:t.color,width:t.width}})},t.prototype.setOptions=function(e){var t=e||{};this.options=LZ(this.options,t),void 0!==e.value&&(this._value=String(this.options.value)),this._initSurface(),this.redraw()},t.prototype.value=function(e){if(void 0===e)return this._value;this._value=String(e),this.redraw()},t.prototype._hasCustomLogo=function(){return Boolean(this.options.overlay.imageUrl)},t.prototype._isSwiss=function(){return"swiss"===this.options.overlay.type},t.prototype._getLogoSize=function(e){var t=this.options.overlay.width,n=this.options.overlay.height;return t||n?t&&!n?n=t:!t&&n&&(t=n):t=n=e,{width:t,height:n}},t}(uT);SP(X$,{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:U$,background:G$,color:W$,size:"",padding:0,border:{color:"",width:0},overlay:{type:"image",imageUrl:"",width:0,height:0}});var Q$={WGS84:{a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149}};function J$(e){return e*e}var Z$=Math,$$=Z$.abs,e0=Z$.atan,t0=Z$.atan2,n0=Z$.cos,o0=Z$.sin,r0=Z$.tan,i0=function(e){function t(t,n){e.call(this),this.initProperties(),1===arguments.length?(this.lat=t[0],this.lng=t[1]):(this.lat=t,this.lng=n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){MN(this,{DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6}{1:N6}"})},t.prototype.toArray=function(){return[this.lat,this.lng]},t.prototype.equals=function(e){return e&&e.lat===this.lat&&e.lng===this.lng},t.prototype.clone=function(){return new t(this.lat,this.lng)},t.prototype.round=function(e){return this.lng=xP(this.lng,e),this.lat=xP(this.lat,e),this},t.prototype.wrap=function(){return this.lng=this.lng%180,this.lat=this.lat%90,this},t.prototype.distanceTo=function(e,t){return this.greatCircleTo(e,t).distance},t.prototype.destination=function(e,n,o){var r=yP(n),i=o||Q$.WGS84,a=yP(this.lat),s=yP(this.lng),l=e/i.a,c=Z$.asin(o0(a)*n0(l)+n0(a)*o0(l)*n0(r)),d=s+t0(o0(r)*o0(l)*n0(a),n0(l)-o0(a)*o0(c));return new t(cP(c),cP(d))},t.prototype.greatCircleTo=function(e,n){var o=t.create(o),r=n||Q$.WGS84;if(!o||this.clone().round(8).equals(o.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};for(var i,a,s,l,c,d,u,p,h=r.a,f=r.b,m=r.f,g=yP(o.lng-this.lng),v=e0((1-m)*r0(yP(this.lat))),y=o0(v),x=n0(v),b=e0((1-m)*r0(yP(o.lat))),w=o0(b),k=n0(b),C=g,S=this.DISTANCE_ITERATIONS,I=!1;!I&&S-- >0;){a=o0(C),s=n0(C),l=Z$.sqrt(J$(k*a)+J$(x*w-y*k*s)),p=t0(l,d=y*w+x*k*s);var E=x*k*a/l;u=0,0!==(c=1-J$(E))&&(u=d-2*y*w/c),i=C;var _=m/16*c*(4+m*(4-3*c));C=g+(1-_)*m*E*(p+_*l*(u+_*d*(2*J$(u)-1))),I=$$(C-i)<=this.DISTANCE_CONVERGENCE}var j=c*(J$(h)-J$(f))/J$(f),A=1+j/16384*(4096+j*(j*(320-175*j)-768)),D=j/1024*(256+j*(j*(74-47*j)-128)),N=D*l*(u+D/4*(d*(2*J$(u)-1)-D/6*u*(4*J$(l)-3)*(4*J$(u)-3))),T=t0(k*a,x*w-y*k*s),P=t0(x*a,-y*k+x*w*s);return{distance:xP(f*A*(p-N),this.DISTANCE_PRECISION),azimuthFrom:cP(T),azimuthTo:cP(P)}},t.prototype.toString=function(){return String(this.lat)+","+String(this.lng)},t.fromLngLat=function(e){return new t(e[1],e[0])},t.fromLatLng=function(e){return new t(e[0],e[1])},t.create=function(e,n){if(lP(e))return e instanceof t?e.clone():1===arguments.length&&2===e.length?t.fromLatLng(e):new t(e,n)},t}(uT),a0=Math,s0=a0.atan,l0=a0.exp,c0=a0.pow,d0=a0.sin,u0=a0.log,p0=a0.tan,h0=sO,f0=a0.PI,m0=f0/2,g0=f0/4,v0=f0/180,y0=Q$.WGS84,x0=function(e){function t(t){e.call(this),this.initProperties(),this._initOptions(t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initOptions=function(e){this.options=MN({},this.options,e)},t.prototype.initProperties=function(){MN(this,{MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12})},t.prototype.forward=function(e,t){var n=this,o=n.options,r=o.datum.a,i=o.centralMeridian,a=gP(e.lat,-n.MAX_LAT,n.MAX_LAT),s=t?gP(e.lng,-n.MAX_LNG,n.MAX_LNG):e.lng,l=yP(s-i)*r,c=n._projectLat(a);return new h0(l,c)},t.prototype._projectLat=function(e){var t=this.options.datum,n=t.e,o=t.a,r=yP(e),i=p0(g0+r/2),a=n*d0(r),s=c0((1-a)/(1+a),n/2);return o*u0(i*s)},t.prototype.inverse=function(e,t){var n=this,o=n.options,r=o.datum.a,i=o.centralMeridian,a=e.x/(v0*r)+i,s=gP(n._inverseY(e.y),-n.MAX_LAT,n.MAX_LAT);return t&&(a=gP(a,-n.MAX_LNG,n.MAX_LNG)),new i0(s,a)},t.prototype._inverseY=function(e){var t,n=this,o=n.options.datum,r=o.a,i=o.e,a=i/2,s=l0(-e/r),l=m0-2*s0(s);for(t=0;t<=n.INVERSE_ITERATIONS;t++){var c=i*d0(l),d=c0((1-c)/(1+c),a),u=m0-2*s0(s*d)-l;if(l+=u,a0.abs(u)<=n.INVERSE_CONVERGENCE)break}return cP(l)},t}(uT);SP(x0,{centralMeridian:0,datum:y0});var b0=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.initProperties=function(){e.prototype.initProperties.call(this),MN(this,{MAX_LAT:85.0511287798})},t.prototype._projectLat=function(e){var t=this.options.datum.a,n=yP(e),o=p0(g0+n/2);return t*u0(o)},t.prototype._inverseY=function(e){var t=this.options.datum.a,n=l0(-e/t);return cP(m0-2*s0(n))},t}(x0),w0=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.forward=function(e){return new h0(e.lng,e.lat)},t.prototype.inverse=function(e){return new i0(e.y,e.x)},t}(uT),k0=function(e){function t(){e.call(this);var t=this._proj=new b0,n=this.c=2*f0*t.options.datum.a;this._tm=SO().translate(.5,.5).scale(1/n,-1/n),this._itm=SO().scale(n,-n).translate(-.5,-.5)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toPoint=function(e,t,n){return this._proj.forward(e,n).transform(this._tm).scale(t||1)},t.prototype.toLocation=function(e,t,n){var o=e.clone().scale(1/(t||1)).transform(this._itm);return this._proj.inverse(o,n)},t}(uT),C0=(function(e){function t(){e.call(this),this._proj=new x0}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toPoint=function(e){return this._proj.forward(e)},t.prototype.toLocation=function(e){return this._proj.inverse(e)}}(uT),function(e){function t(){e.call(this),this._proj=new w0}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toPoint=function(e){return this._proj.forward(e)},t.prototype.toLocation=function(e){return this._proj.inverse(e)}}(uT),Object.assign,function(e,t){return e.bind(t)}),S0=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},I0=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},E0=function(e,t){t.insertBefore(e,t.firstChild)},_0=function(e){return e.replace(/([a-z][A-Z])/g,(function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()}))},j0=function(e){return e&&String(e).endsWith("px")?e:String(e)+"px"},A0=function(e,t){var n=e.prototype;n.events?t.forEach((function(e){n.events.indexOf(e)<0&&n.events.push(e)})):n.events=t},D0=function(e){var t=[];if(e)for(var n=_0(e).split("-"),o=0;o<n.length;o++)t.push("k-pos-"+n[o]);return t.join(" ")},N0=function(e){function t(t,n){e.call(this),this.element=t,this._initOptions(n),this.items=[],yN(this.element,"k-widget k-attribution")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initOptions=function(e){this.options=MN({},this.options,e)},t.prototype.filter=function(e,t){this._extent=e,this._zoom=t,this._render()},t.prototype.add=function(e){var t=e;lP(e)&&("string"===typeof e&&(t={text:e}),this.items.push(t),this._render())},t.prototype.remove=function(e){for(var t=[],n=0;n<this.items.length;n++){var o=this.items[n];o.text!==e&&t.push(o)}this.items=t,this._render()},t.prototype.clear=function(){this.items=[],I0(this.element)},t.prototype._render=function(){for(var e=[],t=0;t<this.items.length;t++){var n=this.items[t],o=this._itemText(n);""!==o&&e.push(o)}e.length>0?(I0(this.element),function(e,t){var n=document.createElement("div");for(n.innerHTML=e;n.childNodes.length>0;)t.appendChild(n.childNodes[0])}(e.join(this.options.separator),this.element),this.showElement()):this.hideElement()},t.prototype.hideElement=function(){this.element.style.display="none"},t.prototype.showElement=function(){this.element.style.display=""},t.prototype._itemText=function(e){var t="",n=this._inZoomLevel(e.minZoom,e.maxZoom),o=this._inArea(e.extent);return n&&o&&(t+=e.text),t},t.prototype._inZoomLevel=function(e,t){var n=wP(e,-Number.MAX_VALUE),o=wP(t,Number.MAX_VALUE);return this._zoom>n&&this._zoom<o},t.prototype._inArea=function(e){var t=!0;return e&&(t=e.contains(this._extent)),t},t}(EM);SP(N0,{name:"Attribution",separator:"&nbsp;|&nbsp;"});var T0={up:{className:"k-navigator-n",iconClass:"k-i-caret-alt-up"},down:{className:"k-navigator-s",iconClass:"k-i-caret-alt-down"},right:{className:"k-navigator-e",iconClass:"k-i-caret-alt-right"},left:{className:"k-navigator-w",iconClass:"k-i-caret-alt-left"}};function P0(e,t){var n='<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button '+T0[e].className+'" aria-label="move '+e+'">'+NP({icon:"caret-alt-"+e,iconClass:"k-button-icon",svgIcons:t.svgIcons,type:t.type})+"</button>";return S0(n)}var M0=function(e){function t(t,n){e.call(this),this.element=t,this._initOptions(n);var o=P0("up",n.icons),r=P0("right",n.icons),i=P0("down",n.icons),a=P0("left",n.icons);this.element.appendChild(o),this.element.appendChild(r),this.element.appendChild(i),this.element.appendChild(a),yN(this.element,"k-widget k-navigator"),mM(this.element,"click",".k-button",C0(this._click,this));var s=this.element.parentNode.closest("[data-role]");this._keyroot=s||this.element,this._tabindex(this._keyroot),this._keydownHandler=C0(this._keydown,this),mM(this._keyroot,"keydown",this._keydownHandler)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){gM(this._keyroot,"keydown",this._keydownHandler)},t.prototype._tabindex=function(e){var t=e||this.wrapper||this.element,n=this.element,o="tabindex",r=t.getAttribute(o)||n.getAttribute(o);n.removeAttribute(o),t.setAttribute(o,isNaN(r)?0:r)},t.prototype._initOptions=function(e){this.options=MN({},this.options,e)},t.prototype._pan=function(e,t){var n=this.options.panStep;this.trigger("pan",{x:e*n,y:t*n})},t.prototype._click=function(e){var t=0,n=0,o=e.currentTarget;o.matches(".k-navigator-n")?n=1:o.matches(".k-navigator-s")?n=-1:o.matches(".k-navigator-e")?t=1:o.matches(".k-navigator-w")&&(t=-1),this._pan(t,n),e.preventDefault()},t.prototype._keydown=function(e){switch(e.which){case iM.UP:this._pan(0,1),e.preventDefault();break;case iM.DOWN:this._pan(0,-1),e.preventDefault();break;case iM.RIGHT:this._pan(1,0),e.preventDefault();break;case iM.LEFT:this._pan(-1,0),e.preventDefault()}},t}(EM);function O0(e,t,n){var o='<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-'+e+'" title="zoom-'+e+'" aria-label="zoom-'+e+'">'+NP({icon:t,iconClass:"k-button-icon",svgIcons:n.svgIcons,type:n.type})+"</button>";return S0(o)}SP(M0,{name:"Navigator",panStep:1}),A0(M0,["pan"]);var R0="change",F0=function(e){function t(t,n,o){e.call(this),this.element=t,this._initOptions(n);var r=O0("in","plus",o),i=O0("out","minus",o);this.element.appendChild(r),this.element.appendChild(i),this.element.setAttribute("role","group"),yN(this.element,"k-widget k-zoom-control k-button-group k-group-horizontal"),this._clickHandler=this._click.bind(this),mM(this.element,"click",".k-button",this._clickHandler);var a=this.element.parentNode.closest("[data-role]");this._keyroot=a||this.element,this._tabindex(this._keyroot),this._keydownHandler=this._keydown.bind(this),mM(this._keyroot,"keydown",this._keydownHandler)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.element&&gM(this.element,"click",this._clickHandler),this._keyroot&&gM(this._keyroot,"keydown",this._keydownHandler)},t.prototype._tabindex=function(e){var t=e||this.wrapper||this.element,n=this.element,o="tabindex",r=t.getAttribute(o)||n.getAttribute(o);n.removeAttribute(o),t.setAttribute(o,isNaN(r)?0:r)},t.prototype._initOptions=function(e){this.options=MN({},this.options,e)},t.prototype._change=function(e){var t=this.options.zoomStep;this.trigger(R0,{delta:e*t})},t.prototype._click=function(e){var t=1;QN(e.currentTarget,"k-zoom-out")&&(t=-1),this._change(t),e.preventDefault()},t.prototype._keydown=function(e){switch(e.which){case iM.NUMPAD_PLUS:case 187:case 61:this._change(1);break;case iM.NUMPAD_MINUS:case 189:case 173:this._change(-1)}},t}(EM);SP(F0,{name:"ZoomControl",zoomStep:1}),A0(F0,[R0]);var L0=Math,z0=L0.max,B0=L0.min,V0=function(e){function t(t,n){e.call(this);var o=i0.create(t),r=i0.create(n);o.lng+180>r.lng+180&&o.lat+90<r.lat+90?(this.se=o,this.nw=r):(this.se=r,this.nw=o)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={World:{configurable:!0}};return t.prototype.contains=function(e){var t=this.nw,n=this.se,o=wP(e.lng,e[1]),r=wP(e.lat,e[0]);return e&&o+180>=t.lng+180&&o+180<=n.lng+180&&r+90>=n.lat+90&&r+90<=t.lat+90},t.prototype.center=function(){var e=this.nw,t=this.se,n=e.lng+(t.lng-e.lng)/2,o=e.lat+(t.lat-e.lat)/2;return new i0(o,n)},t.prototype.containsAny=function(e){for(var t=!1,n=0;n<e.length;n++)t=t||this.contains(e[n]);return t},t.prototype.include=function(e){var t=this.nw,n=this.se,o=wP(e.lng,e[1]),r=wP(e.lat,e[0]);t.lng=B0(t.lng,o),t.lat=z0(t.lat,r),n.lng=z0(n.lng,o),n.lat=B0(n.lat,r)},t.prototype.includeAll=function(e){for(var t=0;t<e.length;t++)this.include(e[t])},t.prototype.edges=function(){var e=this.nw,t=this.se;return{nw:this.nw,ne:new i0(e.lat,t.lng),se:this.se,sw:new i0(t.lat,e.lng)}},t.prototype.toArray=function(){var e=this.nw,t=this.se;return[e,new i0(e.lat,t.lng),t,new i0(t.lat,e.lng)]},t.prototype.overlaps=function(e){return this.containsAny(e.toArray())||e.containsAny(this.toArray())},t.create=function(e,n){return e instanceof t?e:e&&n?new t(e,n):e&&4===e.length&&!n?new t([e[0],e[1]],[e[2],e[3]]):void 0},n.World.get=function(){return new t([90,-180],[-90,180])},Object.defineProperties(t,n),t}(uT),H0="centerChange",q0=function(e){function t(t,n){e.call(this),this.widgetService=t,this.options=MN({},this.options,n),this.offset={x:0,y:0}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={anchor:{configurable:!0}};return t.prototype.show=function(e,t){this.location!==t.location&&(this.anchor=e,this.location=t.location,this.widgetService.notify("showTooltip",Object.assign({anchor:this.anchor},t)),this.visible=!0)},t.prototype.hide=function(){this.widgetService&&this.widgetService.notify("hideTooltip"),this.visible=!1,this.location=null},n.anchor.get=function(){return this._anchor},n.anchor.set=function(e){var t=this.widgetService.widget._toDocumentCoordinates({x:e.left-this.offset.x,y:e.top-this.offset.y});this._anchor={left:t.left,top:t.top}},t.prototype.destroy=function(){this.widgetService=null},Object.defineProperties(t.prototype,n),t}(uT);SP(q0,{border:{width:1},opacity:1});var U0=function(e){function t(t,n){e.call(this),this.support=vM(),this._initOptions(n),this.map=t;var o=document.createElement("div");yN(o,"k-layer"),o.style.zIndex=this.options.zIndex,o.style.opacity=this.options.opacity,this.element=o,t.scrollElement.appendChild(this.element),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this._deactivate()},t.prototype._initOptions=function(e){this.options=MN({},this.options,e)},t.prototype.show=function(){this.reset(),this._activate(),this._applyExtent(!0)},t.prototype.hide=function(){this._deactivate(),this._setVisibility(!1)},t.prototype.reset=function(){this._beforeReset(),this._reset()},t.prototype._reset=function(){this._applyExtent()},t.prototype._beforeReset=function(){},t.prototype._resize=function(){},t.prototype._panEnd=function(){this._applyExtent()},t.prototype._applyExtent=function(){var e=this.options,t=this.map.zoom(),n=!lP(e.minZoom)||t>=e.minZoom,o=!lP(e.maxZoom)||t<=e.maxZoom,r=V0.create(e.extent),i=!r||r.overlaps(this.map.extent());this._setVisibility(n&&o&&i)},t.prototype._setVisibility=function(e){this.element.style.display=e?"":"none"},t.prototype._activate=function(){var e=this.map;this._deactivate(),e.bind("beforeReset",this._beforeReset),e.bind("reset",this._reset),e.bind("resize",this._resize),e.bind("panEnd",this._panEnd)},t.prototype._deactivate=function(){var e=this.map;e.unbind("beforeReset",this._beforeReset),e.unbind("reset",this._reset),e.unbind("resize",this._resize),e.unbind("panEnd",this._panEnd)},t.prototype._updateAttribution=function(){var e=this.map.attribution;e&&e.add(this.options.attribution)},t.prototype._readData=function(){return this.options.data||[]},t.prototype._hasData=function(){return this._data&&this._data.length>0},t.prototype._layerIndex=function(){return(this.map.layers||[]).indexOf(this)},t}(uT),G0=Math,W0=sO;function K0(e){return NN(e)?e:qN.compile(e)}function Y0(e){return new W0(xP(e.x),xP(e.y))}function X0(e){var t=e;return"string"!==typeof e&&(t+="px"),t}var Q0=function(e){function t(t,n){e.call(this,t,n),"string"===typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));var o=this._viewType();this._view=new o(this.element,this.options)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){e.prototype.destroy.call(this),this._view.destroy(),this._view=null},t.prototype._beforeReset=function(){var e=this.map,t=e.locationToLayer(e.extent().nw).round();this._view.viewOrigin(t)},t.prototype._reset=function(){e.prototype._reset.call(this),this._updateView(),this._view.reset()},t.prototype._viewType=function(){return J0},t.prototype._activate=function(){e.prototype._activate.call(this),this.support.mobileOS||(this._pan||(this._pan=MW(this._render.bind(this),100)),this.map.bind("pan",this._pan))},t.prototype._deactivate=function(){e.prototype._deactivate.call(this),this._pan&&this.map.unbind("pan",this._pan)},t.prototype._updateView=function(){var e=this._view,t=this.map,n=t.extent(),o={nw:t.locationToLayer(n.nw).round(),se:t.locationToLayer(n.se).round()};e.center(t.locationToLayer(t.center())),e.extent(o),e.zoom(t.zoom())},t.prototype._resize=function(){this._render()},t.prototype._panEnd=function(t){e.prototype._panEnd.call(this,t),this._render()},t.prototype._render=function(){this._updateView(),this._view.render()},t}(U0);SP(Q0,{tileSize:256,subdomains:["a","b","c"],urlTemplate:"",zIndex:1});var J0=function(e){function t(t,n){e.call(this),this.element=t,this._initOptions(n),this.pool=new $0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initOptions=function(e){this.options=MN({},this.options,e)},t.prototype.center=function(e){this._center=e},t.prototype.extent=function(e){this._extent=e},t.prototype.viewOrigin=function(e){this._viewOrigin=e},t.prototype.zoom=function(e){this._zoom=e},t.prototype.pointToTileIndex=function(e){return new W0(G0.floor(e.x/this.options.tileSize),G0.floor(e.y/this.options.tileSize))},t.prototype.tileCount=function(){var e=this.size(),t=this.pointToTileIndex(this._extent.nw),n=this._extent.nw,o=this.indexToPoint(t).translate(-n.x,-n.y);return{x:G0.ceil((G0.abs(o.x)+e.width)/this.options.tileSize),y:G0.ceil((G0.abs(o.y)+e.height)/this.options.tileSize)}},t.prototype.size=function(){var e=this._extent.nw,t=this._extent.se.clone().translate(-e.x,-e.y);return{width:t.x,height:t.y}},t.prototype.indexToPoint=function(e){var t=e.x,n=e.y;return new W0(t*this.options.tileSize,n*this.options.tileSize)},t.prototype.subdomainText=function(){var e=this.options.subdomains;return e[this.subdomainIndex++%e.length]},t.prototype.destroy=function(){I0(this.element),this.pool.empty()},t.prototype.reset=function(){this.pool.reset(),this.subdomainIndex=0,this.render()},t.prototype.render=function(){var e,t,n,o=this.tileCount(),r=this.pointToTileIndex(this._extent.nw);for(t=0;t<o.x;t++)for(n=0;n<o.y;n++)(e=this.createTile({x:r.x+t,y:r.y+n})).visible||e.show()},t.prototype.createTile=function(e){var t=this.tileOptions(e),n=this.pool.get(this._center,t);return n.element.parentNode||this.element.append(n.element),n},t.prototype.tileOptions=function(e){var t=this.wrapIndex(e),n=this.indexToPoint(e),o=this._viewOrigin,r=n.clone().translate(-o.x,-o.y);return{index:t,currentIndex:e,point:n,offset:Y0(r),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}},t.prototype.wrapIndex=function(e){var t=G0.pow(2,this._zoom);return{x:this.wrapValue(e.x,t),y:gP(e.y,0,t-1)}},t.prototype.wrapValue=function(e,t){var n=G0.abs(e)%t;return e>=0?n:t-(0===n?t:n)},t}(uT),Z0=function(e){function t(t,n){e.call(this),this.id=t,this.visible=!0,this._initOptions(n),this.createElement(),this.show()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){var e=this.element,t=e?e.parentNode:null;e&&(t&&t.removeChild(e),this.element=null)},t.prototype._initOptions=function(e){this.options=MN({},this.options,e)},t.prototype.createElement=function(){var e=document.createElement("img"),t=this.options.size+"px";e.setAttribute("alt",""),e.style.position="absolute",e.style.display="block",e.style.width=e.style.maxWidth=t,e.style.height=e.style.maxHeight=t,this.element=e},t.prototype.show=function(){var e=this.element;e.style.top=X0(this.options.offset.y),e.style.left=X0(this.options.offset.x);var t=this.url();t&&e.setAttribute("src",t),e.style.visibility="visible",this.visible=!0},t.prototype.hide=function(){this.element.style.visibility="hidden",this.visible=!1},t.prototype.url=function(){return K0(this.options.urlTemplate)(this.urlOptions())},t.prototype.errorUrl=function(){return K0(this.options.errorUrlTemplate)(this.urlOptions())},t.prototype.urlOptions=function(){var e=this.options;return{zoom:e.zoom,subdomain:e.subdomain,z:e.zoom,x:e.index.x,y:e.index.y,s:e.subdomain,quadkey:e.quadkey,q:e.quadkey,culture:e.culture,c:e.culture}},t}(uT);SP(Z0,{urlTemplate:"",errorUrlTemplate:""});var $0=function(e){function t(){e.call(this),this._items=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._items.length>=this.options.maxSize&&this._remove(e),this._create(t)},t.prototype.empty=function(){for(var e=this._items,t=0;t<e.length;t++)e[t].destroy();this._items=[]},t.prototype.reset=function(){for(var e=this._items,t=0;t<e.length;t++)e[t].hide()},t.prototype._create=function(e){for(var t,n=this._items,o=fP(e.point.toString()+e.offset.toString()+e.zoom+e.urlTemplate),r=0;r<n.length;r++)if(n[r].id===o){t=n[r];break}return t?t.show():(t=new Z0(o,e),this._items.push(t)),t},t.prototype._remove=function(e){for(var t=this._items,n=-1,o=-1,r=0;r<t.length;r++){var i=t[r].options.point.distanceTo(e);i>n&&!t[r].visible&&(o=r,n=i)}-1!==o&&(t[o].destroy(),t.splice(o,1))},t}(uT);SP($0,{maxSize:100});var e1=Object.assign,t1="change",n1=function(e){function t(t,n){e.call(this);var o=this,r=t[0]||t;o.capture=!1,r.addEventListener?(cM.down.split(" ").forEach((function(e){r.addEventListener(e,C0(o._press,o),!0)})),cM.up.split(" ").forEach((function(e){r.addEventListener(e,C0(o._release,o),!0)}))):(cM.down.split(" ").forEach((function(e){r.attachEvent(e,C0(o._press,o))})),cM.up.split(" ").forEach((function(e){r.attachEvent(e,C0(o._release,o))}))),o.bind(["press","release"],n||{})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.captureNext=function(){this.capture=!0},t.prototype.cancelCapture=function(){this.capture=!1},t.prototype._press=function(e){this.trigger("press"),this.capture&&e.preventDefault()},t.prototype._release=function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())},t}(EM),o1=function(e){function t(t){e.call(this);var n=this;n.forcedEnabled=!1,e1(n,t),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.makeVirtual=function(){e1(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},t.prototype.virtualSize=function(e,t){this._virtualMin===e&&this._virtualMax===t||(this._virtualMin=e,this._virtualMax=t,this.update())},t.prototype.outOfBounds=function(e){return e>this.max||e<this.min},t.prototype.forceEnabled=function(){this.forcedEnabled=!0},t.prototype.getSize=function(){return this.container[this.measure]},t.prototype.getTotal=function(){return this.element[this.scrollSize]},t.prototype.rescale=function(e){this.scale=e},t.prototype.update=function(e){var t=this,n=t.virtual?t._virtualMax:t.getTotal(),o=n*t.scale,r=t.getSize();(0!==n||t.forcedEnabled)&&(t.max=t.virtual?-t._virtualMin:0,t.size=r,t.total=o,t.min=Math.min(t.max,r-o),t.minScale=r/n,t.centerOffset=(o-r)/2,t.enabled=t.forcedEnabled||o>r,e||t.trigger(t1,t))},t}(EM),r1=function(e){function t(t){e.call(this);var n=this;n.x=new o1(e1({horizontal:!0},t)),n.y=new o1(e1({horizontal:!1},t)),n.container=t.container,n.forcedMinScale=t.minScale,n.maxScale=t.maxScale||100,n.bind(t1,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.rescale=function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},t.prototype.centerCoordinates=function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},t.prototype.refresh=function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(t1)},t}(EM),i1=function(e){function t(t){e.call(this),e1(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.outOfBounds=function(){return this.dimension.outOfBounds(this.movable[this.axis])},t.prototype.dragMove=function(e){var t=this,n=t.dimension,o=t.axis,r=t.movable,i=r[o]+e;if(n.enabled){var a=e;(i<n.min&&e<0||i>n.max&&e>0)&&(a*=t.resistance),r.translateAxis(o,a),t.trigger(t1,t)}},t}(EM),a1=function(e){function t(t){e.call(this);var n,o,r,i,a=this;e1(a,{elastic:!0},t),r=a.elastic?.5:0,i=a.movable,a.x=n=new i1({axis:"x",dimension:a.dimensions.x,resistance:r,movable:i}),a.y=o=new i1({axis:"y",dimension:a.dimensions.y,resistance:r,movable:i}),a.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(e){a.gesture=e,a.offset=dP(a.dimensions.container)},press:function(e){var t=e.event.target.closest("a");t&&t.matches("[data-navigate-on-press=true]")&&e.sender.cancel()},gesturechange:function(e){var t,r=a.gesture,s=r.center,l=e.center,c=e.distance/r.distance,d=a.dimensions.minScale,u=a.dimensions.maxScale;i.scale<=d&&c<1&&(c+=.8*(1-c)),i.scale*c>=u&&(c=u/i.scale);var p=i.x+a.offset.left,h=i.y+a.offset.top;t={x:(p-s.x)*c+l.x-p,y:(h-s.y)*c+l.y-h},i.scaleWith(c),n.dragMove(t.x),o.dragMove(t.y),a.dimensions.rescale(i.scale),a.gesture=e,e.preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(n.dimension.enabled||o.dimension.enabled?(n.dragMove(e.x.delta),o.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(uT),s1=function(e,t,n){return"translate3d("+e+"px,"+t+"px,0) scale("+n+")"},l1=function(e){function t(t){e.call(this);var n=this;n.element=t,n.element.style.transformOrigin="left top",n.x=0,n.y=0,n.scale=1;var o=s1(n.x,n.y,n.scale);n.element.style.transform=o,n._saveCoordinates(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.translateAxis=function(e,t){this[e]+=t,this.refresh()},t.prototype.scaleTo=function(e){this.scale=e,this.refresh()},t.prototype.scaleWith=function(e){this.scale*=e,this.refresh()},t.prototype.translate=function(e){this.x+=e.x,this.y+=e.y,this.refresh()},t.prototype.moveAxis=function(e,t){this[e]=t,this.refresh()},t.prototype.moveTo=function(e){e1(this,e),this.refresh()},t.prototype.refresh=function(){var e,t=this,n=t.x,o=t.y;t.round&&(n=Math.round(n),o=Math.round(o)),(e=s1(n,o,t.scale))!==t.coordinates&&(t.element.style.transform=e,t._saveCoordinates(e),t.trigger(t1))},t.prototype._saveCoordinates=function(e){this.coordinates=e},t}(EM),c1=JR,d1=function(e){function t(t,n){e.call(this,t,n),this._pan=C0(this._pan,this),this.surface=vK.create(this.element,{width:t.scrollElement.clientWidth,height:t.scrollElement.clientHeight}),this._initRoot(),this.movable=new l1(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this.surface.bind("mouseenter",this._mouseenter.bind(this))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){e.prototype.destroy.call(this),this.surface.destroy()},t.prototype._reset=function(){e.prototype._reset.call(this),this._translateSurface(),this._data=this._readData(),this._hasData()&&this._load(this._data)},t.prototype._initRoot=function(){this._root=new c1,this.surface.draw(this._root)},t.prototype._beforeReset=function(){this.surface.clear(),this._initRoot()},t.prototype._resize=function(){this.surface.size(this.map.size())},t.prototype._readData=function(){var t=e.prototype._readData.call(this);return"FeatureCollection"===t.type?t.features:"GeometryCollection"===t.type?t.geometries:t},t.prototype._load=function(e){this._data=e,this._clearMarkers(),this._loader||(this._loader=new u1(this.map,this.options.style,this));for(var t=new c1,n=0;n<e.length;n++){var o=this._loader.parse(e[n]);o&&t.append(o)}this._root.clear(),this._root.append(t)},t.prototype.shapeCreated=function(e){var t=!1;if(e instanceof YR&&this.map.options.renderPointsAsMarkers&&(t=lP(this._createMarker(e))),!t){var n={layer:this,shape:e};t=this.map.trigger("shapeCreated",n)}return t},t.prototype.featureCreated=function(e){e.layer=this,this.map.trigger("shapeFeatureCreated",e)},t.prototype._createMarker=function(e){var t=this.map.markers.bind({location:e.location},e.dataItem);return t&&this._markers.push(t),t},t.prototype._clearMarkers=function(){for(var e=0;e<this._markers.length;e++)this.map.markers.remove(this._markers[e]);this._markers=[]},t.prototype._pan=function(){this._panning||(this._panning=!0,this.surface.suspendTracking())},t.prototype._panEnd=function(t){e.prototype._panEnd.call(this,t),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1},t.prototype._translateSurface=function(){var e=this.map,t=e.locationToView(e.extent().nw);this.surface.translate&&(this.surface.translate(t),this.movable.moveTo({x:t.x,y:t.y}))},t.prototype._eventArgs=function(e){return{layer:this,layerIndex:this._layerIndex(),shape:e.element,shapeIndex:(this._data||[]).indexOf(e.element.dataItem),originalEvent:e.originalEvent}},t.prototype._handler=function(e){var t=this;return function(n){n.element&&t.map.trigger(e,t._eventArgs(n))}},t.prototype._mouseenter=function(e){if(e.element){this.map.trigger("shapeMouseEnter",this._eventArgs(e));var t=e.element,n=this._tooltipAnchor(e);this.map._tooltip.show(n,this._tooltipContext(t))}},t.prototype._tooltipContext=function(e){return{type:"shape",layerIndex:this._layerIndex(),className:"k-map-shape-tooltip",dataItem:e.dataItem,location:e.location}},t.prototype._tooltipAnchor=function(e){var t=this.map.eventOffset(e.originalEvent);return{top:t.y,left:t.x}},t.prototype._activate=function(){e.prototype._activate.call(this),this._panHandler=C0(this._pan,this),this.map.bind("pan",this.panHandler)},t.prototype._deactivate=function(){e.prototype._deactivate.call(this),this.map.unbind("pan",this._panHandler)},t}(U0);SP(d1,{autoBind:!0,zIndex:100});var u1=function(e){function t(t,n,o){e.call(this),this.observer=o,this.locator=t,this.style=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parse=function(e){var t=new c1,n=!0;return"Feature"===e.type?(n=!1,this._loadGeometryTo(t,e.geometry,e),this._featureCreated(t,e)):this._loadGeometryTo(t,e,e),n&&t.children.length<2&&(t=t.children[0]),t},t.prototype._shapeCreated=function(e){var t=!1;return this.observer&&this.observer.shapeCreated&&(t=this.observer.shapeCreated(e)),t},t.prototype._featureCreated=function(e,t){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:e,dataItem:t,properties:t.properties})},t.prototype._loadGeometryTo=function(e,t,n){var o,r,i=this,a=t.coordinates;switch(t.type){case"LineString":r=this._loadPolygon(e,[a],n),this._setLineFill(r);break;case"MultiLineString":for(o=0;o<a.length;o++)r=i._loadPolygon(e,[a[o]],n),i._setLineFill(r);break;case"Polygon":this._loadPolygon(e,a,n);break;case"MultiPolygon":for(o=0;o<a.length;o++)i._loadPolygon(e,a[o],n);break;case"Point":this._loadPoint(e,a,n);break;case"MultiPoint":for(o=0;o<a.length;o++)i._loadPoint(e,a[o],n)}},t.prototype._setLineFill=function(e){var t=e.segments;(t.length<4||!t[0].anchor().equals(mP(t).anchor()))&&(e.options.fill=null)},t.prototype._loadShape=function(e,t){return this._shapeCreated(t)||e.append(t),t},t.prototype._loadPolygon=function(e,t,n){var o=this._buildPolygon(t);return o.dataItem=n,o.location=this.locator.viewToLocation(o.bbox().center()),this._loadShape(e,o)},t.prototype._buildPolygon=function(e){for(var t=new(e.length>1?zR:LR)(this.style),n=0;n<e.length;n++)for(var o=0;o<e[n].length;o++){var r=this.locator.locationToView(i0.fromLngLat(e[n][o]));0===o?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y)}return t},t.prototype._loadPoint=function(e,t,n){var o=i0.fromLngLat(t),r=this.locator.locationToView(o),i=new UR(r,10),a=new YR(i,this.style);return a.dataItem=n,a.location=o,this._loadShape(e,a)},t}(uT),p1=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._readData=function(){return this.options.data||[]},t.prototype._load=function(e){var t=this;if(this._data=e,this.surface.clear(),0!==e.length){var n=this.options,o=YN(n.valueField),r=e.slice(0);r.sort((function(e,t){return o(t)-o(e)}));for(var i,a=this._scaleType(),s=YN(this.options.locationField),l=0;l<r.length;l++){var c=r[l],d=s(c),u=o(c);if(lP(d)&&lP(u)){i||(i=new a([0,u],[n.minSize,n.maxSize])),d=i0.create(d);var p=t.map.locationToView(d),h=i.map(u),f=t._createSymbol({center:p,size:h,style:n.style,dataItem:c,location:d});f.dataItem=c,f.location=d,f.value=u,t._drawSymbol(f)}}}},t.prototype._scaleType=function(){var e=this.options.scale;return NN(e)?e:f1[e]},t.prototype._createSymbol=function(e){var t=this.options.symbol;return NN(t)||(t=m1[t]),t(e)},t.prototype._drawSymbol=function(e){var t={layer:this,shape:e};this.map.trigger("shapeCreated",t)||this.surface.draw(e)},t.prototype._tooltipContext=function(e){return{type:"bubble",layerIndex:this._layerIndex(),className:"k-map-bubble-tooltip",dataItem:e.dataItem,location:e.location,value:e.value}},t.prototype._tooltipAnchor=function(e){var t=e.element.bbox().center();return{top:t.y,left:t.x}},t}(d1);SP(p1,{locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle",zIndex:200});var h1=function(e){function t(t,n){e.call(this),this._domain=t,this._range=n;var o=Math.sqrt(t[1])-Math.sqrt(t[0]),r=n[1]-n[0];this._ratio=r/o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e){var t=(Math.sqrt(e)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+t},t}(uT),f1={sqrt:h1},m1={circle:function(e){var t=new UR(e.center,e.size/2);return new YR(t,e.style)},square:function(e){var t=new LR(e.style),n=e.size/2,o=e.center;return t.moveTo(o.x-n,o.y-n).lineTo(o.x+n,o.y-n).lineTo(o.x+n,o.y+n).lineTo(o.x-n,o.y+n).close(),t}},g1="click",v1="mouseenter",y1="mouseleave",x1=Object.assign,b1="k-marker",w1="."+b1,k1=function(e){function t(t,n){e.call(this,t,n),this._markerClickHandler=C0(this._markerClick,this),mM(this.element,g1,w1,this._markerClickHandler),this.items=[],this._load(this._readData())}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){e.prototype.destroy.call(this),gM(this.element,g1,this._markerClickHandler),this.clear()},t.prototype.add=function(e){if(!vN(e))return this._addOne(e);for(var t=0;t<e.length;t++)this._addOne(e[t])},t.prototype.remove=function(e){e.destroy();var t=(this.items||[]).indexOf(e);t>-1&&this.items.splice(t,1)},t.prototype.clear=function(){for(var e=0;e<this.items.length;e++)this.items[e].destroy();this.items=[]},t.prototype.update=function(e){var t=e.location();if(t){e.showAt(this.map.locationToView(t));var n={marker:e,layer:this};this.map.trigger("markerActivate",n)}},t.prototype._reset=function(){e.prototype._reset.call(this);for(var t=this.items,n=0;n<t.length;n++)this.update(t[n])},t.prototype.bind=function(e,t){var n=C1.create(e,this.options);n.dataItem=t;var o={marker:n,layer:this};if(!this.map.trigger("markerCreated",o))return this.add(n),n},t.prototype._addOne=function(e){var t=C1.create(e,this.options);return t.addTo(this),t},t.prototype._readData=function(){return this.options.data||[]},t.prototype._load=function(e){this._data=e,this.clear();for(var t=YN(this.options.locationField),n=YN(this.options.titleField),o=0;o<e.length;o++){var r=e[o];this.bind({location:t(r),title:n(r)},r)}},t.prototype._markerClick=function(e){var t=e.currentTarget._kendoNode,n={layer:this,layerIndex:this._layerIndex(),marker:t,markerIndex:(this.items||[]).indexOf(t),originalEvent:e};this.map.trigger("markerClick",n)},t.prototype._markerMouseEnter=function(e){var t=this._createMarkerEventArgs(e);this.map.trigger("markerMouseEnter",t)},t.prototype._markerMouseLeave=function(e){var t=this._createMarkerEventArgs(e);this.map.trigger("markerMouseLeave",t)},t.prototype._createMarkerEventArgs=function(e){var t=e.marker;return x1({},{layer:this,layerIndex:this._layerIndex(),marker:t,markerIndex:(this.items||[]).indexOf(t)},e)},t}(U0);SP(k1,{zIndex:1e3,autoBind:!0,locationField:"location",titleField:"title",template:""});var C1=function(e){function t(t){e.call(this),this.options=t||{}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.layer=null,this.unbindEvents(),this.hide()},t.prototype.addTo=function(e){this.layer=e.markers||e,this.layer.items.push(this),this.layer.update(this)},t.prototype.location=function(e){return e?(this.options.location=i0.create(e).toArray(),this.layer&&this.layer.update(this),this):i0.create(this.options.location)},t.prototype.showAt=function(e){this.render(),this._anchor={left:Math.round(e.x),top:Math.round(e.y)},this.element.style.left=j0(this._anchor.left),this.element.style.top=j0(this._anchor.top)},t.prototype.hide=function(){this.element&&(this.element.remove(),this.element=null)},t.prototype.bindEvents=function(){this.element&&(this._mouseEnterHandler=C0(this._mouseEnter,this),mM(this.element,v1,w1,this._mouseEnterHandler),this._mouseLeaveHandler=C0(this._mouseLeave,this),mM(this.element,y1,w1,this._mouseLeaveHandler))},t.prototype.unbindEvents=function(){this.element&&(gM(this.element,v1,this._mouseEnterHandler),gM(this.element,y1,this._mouseLeaveHandler))},t.prototype.render=function(){if(!this.element){var e=this.options,t=this.layer,n=document.createElement("span");if(yN(n,b1),this.options.template){var o=this._compileTemplate(this.options.template)(this.dataItem),r=S0(o);n.appendChild(r)}else if(e.svgIcon)NP(n,{icon:e.svgIcon,iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:"svg"});else{var i={icon:"map-marker",iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:this.options.icons.type};e.shape?"pinTarget"===e.shape?(i.icon="map-marker-target",NP(n,i)):"pin"===e.shape?NP(n,i):yN(n,"k-icon k-icon-xxl k-i-marker-"+_0(e.shape||"pin")):NP(n,i)}e.title&&n.setAttribute("title",e.title);var a=e.attributes||{};Object.keys(a).forEach((function(e){n.setAttribute(e,a[e])})),n._kendoNode=this,n.style.zIndex=e.zIndex,this.element=n,t&&t.element.appendChild(this.element),this.bindEvents()}},t.prototype._mouseEnter=function(e){var t=this._createEventArgs(e);this.layer._markerMouseEnter(t),this.layer.map._tooltip.show({top:this._anchor.top-this.element.offsetHeight,left:this._anchor.left},this._tooltipContext())},t.prototype._tooltipContext=function(){return{type:"marker",layerIndex:this.layer._layerIndex(),className:"k-map-marker-tooltip",dataItem:this.dataItem,title:this.options.title,location:this.location()}},t.prototype._mouseLeave=function(e){var t=this._createEventArgs(e);this.layer._markerMouseLeave(t)},t.prototype._createEventArgs=function(e){return{marker:this,originalEvent:e}},t.prototype._compileTemplate=function(e){return qN.compile(e,{paramName:"dataItem",useWithBlock:!1})},t.create=function(e,n){return e instanceof t?e:new t(MN({},n,e))},t}(uT),S1=Object.assign;function I1(e){window.requestAnimationFrame(e)}var E1=function(e){function t(){e.call(this);var t=this;t._tickProxy=C0(t._tick,t),t._started=!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.tick=function(){},t.prototype.done=function(){},t.prototype.onEnd=function(){},t.prototype.onCancel=function(){},t.prototype.start=function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,I1(this._tickProxy)))},t.prototype.enabled=function(){return!0},t.prototype.cancel=function(){this._started=!1,this.onCancel()},t.prototype._tick=function(){var e=this;e._started&&(e.tick(),e.done()?(e._started=!1,e.onEnd()):I1(e._tickProxy))},t}(uT),_1=function(e){function t(t){e.call(this),S1(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.done=function(){return this.timePassed()>=this.duration},t.prototype.timePassed=function(){return Math.min(this.duration,bM()-this.startDate)},t.prototype.moveTo=function(e){var t=this,n=t.movable;t.initial=n[t.axis],t.delta=e.location-t.initial,t.duration="number"===typeof e.duration?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=bM(),t.start()},t.prototype._easeProxy=function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}},t.easeOutExpo=function(e,t,n,o){return e===o?t+n:n*(1-Math.pow(2,-10*e/o))+t},t}(E1),j1=Object.assign,A1=Math.abs,D1="change",N1="scroll",T1=function(e){function t(t){e.call(this,t);var n=this;j1(n,t),n.userEvents.bind("gestureend",n.start.bind(this)),n.tapCapture.bind("press",n.cancel.bind(this))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.enabled=function(){return this.movable.scale<this.dimensions.minScale},t.prototype.done=function(){return this.dimensions.minScale-this.movable.scale<.01},t.prototype.tick=function(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)},t.prototype.onEnd=function(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)},t}(E1),P1=function(e){function t(t){e.call(this);var n=this;j1(n,t,{transition:new _1({axis:t.axis,movable:t.movable,onEnd:function(){n._end()}})}),n.tapCapture.bind("press",(function(){n.cancel()})),n.userEvents.bind("end",C0(n.start,n)),n.userEvents.bind("gestureend",C0(n.start,n)),n.userEvents.bind("tap",C0(n.onEnd,n))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onCancel=function(){this.transition.cancel()},t.prototype.freeze=function(e){this.cancel(),this._moveTo(e)},t.prototype.onEnd=function(){var e=this;e.paneAxis.outOfBounds()?e._snapBack():e._end()},t.prototype.done=function(){return A1(this.velocity)<1},t.prototype.start=function(t){var n,o=this;o.dimension.enabled&&(o.paneAxis.outOfBounds()?o.transition._started?(o.transition.cancel(),o.velocity=Math.min(t.touch[o.axis].velocity*o.velocityMultiplier,55),e.prototype.start.call(this)):o._snapBack():(n=2===t.touch.id?0:t.touch[o.axis].velocity,o.velocity=Math.max(Math.min(n*o.velocityMultiplier,55),-55),o.tapCapture.captureNext(),e.prototype.start.call(this)))},t.prototype.tick=function(){var e=this,t=e.dimension,n=e.paneAxis.outOfBounds()?.5:e.friction,o=e.velocity*=n,r=e.movable[e.axis]+o;!e.elastic&&t.outOfBounds(r)&&(r=Math.max(Math.min(r,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,r)},t.prototype._end=function(){this.tapCapture.cancelCapture(),this.end()},t.prototype._snapBack=function(){var e=this,t=e.dimension,n=e.movable[e.axis]>t.max?t.max:t.min;e._moveTo(n)},t.prototype._moveTo=function(e){this.transition.moveTo({location:e,duration:500,ease:_1.easeOutExpo})},t}(E1),M1=function(e){function t(t){e.call(this,t);j1(this,t,{origin:{},destination:{},offset:{}})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.tick=function(){this._updateCoordinates(),this.moveTo(this.origin)},t.prototype.done=function(){return A1(this.offset.y)<5&&A1(this.offset.x)<5},t.prototype.onEnd=function(){this.moveTo(this.destination),this.callback&&this.callback.call()},t.prototype.setCoordinates=function(e,t){this.offset={},this.origin=e,this.destination=t},t.prototype.setCallback=function(e){e&&NN(e)?this.callback=e:e=void 0},t.prototype._updateCoordinates=function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}},t}(E1),O1=function(e){function t(t){e.call(this);var n=this,o="x"===t.axis,r=S0('<div class="km-touch-scrollbar km-'+(o?"horizontal":"vertical")+'-scrollbar" />');j1(n,t,{element:r,elementSize:0,movable:new l1(r),scrollMovable:t.movable,alwaysVisible:t.alwaysVisible,size:o?"width":"height"}),n.scrollMovable.bind(D1,n.refresh.bind(n)),n.container.appendChild(r),t.alwaysVisible&&n.show()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.refresh=function(){var e=this,t=e.axis,n=e.dimension,o=n.size,r=e.scrollMovable,i=o/n.total,a=Math.round(-r[t]*i),s=Math.round(o*i);this.element.style.display=i>=1?"none":"",a+s>o?s=o-a:a<0&&(s+=a,a=0),e.elementSize!==s&&(e.element.style[e.size]=s+"px",e.elementSize=s),e.movable.moveAxis(t,a)},t.prototype.show=function(){this.element.style.opacity=.7,this.element.style.visibility="visible"},t.prototype.hide=function(){this.alwaysVisible||(this.element.style.opacity=0)},t}(uT),R1=function(e){function t(t,n){e.call(this);var o=this;this.element=t,this._initOptions(n);var r=function(){var e=vM().mobileOS;return e.ios||e.android}(navigator.userAgent);o._native=o.options.useNative&&r;var i=S0('<div class="km-scroll-header"/>');if(o._native)return yN(t,"km-native-scroller"),E0(i,t),void j1(o,{scrollElement:t,fixedContainer:t.children[0]});t.style.overflow="hidden",yN(t,"km-scroll-wrapper"),function(e,t){for(e.appendChild(t);e.firstChild!==t;)t.appendChild(e.firstChild)}(t,S0('<div class="km-scroll-container"/>')),E0(i,t);var a=t.children[1],s=new n1(t),l=new l1(a),c=new r1({element:a,container:t,forcedEnabled:o.options.zoom}),d=this.options.avoidScrolling,u=new QM(t,{touchAction:"none",allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:o.options.zoom,supportDoubleTap:o.options.supportDoubleTap,start:function(e){c.refresh();var t=A1(e.x.velocity),n=A1(e.y.velocity),r=2*t>=n,i=2*n>=t;!o.fixedContainer.contains(e.event.target)&&!d(e)&&o.enabled&&(c.x.enabled&&r||c.y.enabled&&i)?u.capture():u.cancel()}}),p=new a1({movable:l,dimensions:c,userEvents:u,elastic:o.options.elastic}),h=new T1({movable:l,dimensions:c,userEvents:u,tapCapture:s}),f=new M1({moveTo:function(e){o.scrollTo(e.x,e.y)}});l.bind(D1,(function(){o.scrollTop=-l.y,o.scrollLeft=-l.x,o.trigger(N1,{scrollTop:o.scrollTop,scrollLeft:o.scrollLeft})})),o.options.mousewheelScrolling&&(this._wheelScrollHandler=this._wheelScroll.bind(this),mM(t,"wheel",this._wheelScrollHandler)),j1(o,{movable:l,dimensions:c,zoomSnapBack:h,animatedScroller:f,userEvents:u,pane:p,tapCapture:s,pulled:!1,enabled:!0,scrollElement:a,scrollTop:0,scrollLeft:0,fixedContainer:t.children[0]}),o._initAxis("x"),o._initAxis("y"),o._wheelEnd=function(){o._wheel=!1,o.userEvents.end(0,o._wheelY)},c.refresh(),o.options.pullToRefresh&&o._initPullToRefresh()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._initOptions=function(e){this.options=MN({},this.options,e)},t.prototype._wheelScroll=function(e){if(!e.ctrlKey){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=function(e){var t,n=e.wheelDeltaY;return e.wheelDelta?(void 0===n||n)&&(t=e.wheelDelta):e.detail&&e.axis===e.VERTICAL_AXIS&&(t=10*-e.detail),t}(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()}},t.prototype.makeVirtual=function(){this.dimensions.y.makeVirtual()},t.prototype.virtualSize=function(e,t){this.dimensions.y.virtualSize(e,t)},t.prototype.height=function(){return this.dimensions.y.size},t.prototype.scrollHeight=function(){return this.scrollElement.scrollHeight},t.prototype.scrollWidth=function(){return this.scrollElement.scrollWidth},t.prototype._resize=function(){this._native||this.contentResized()},t.prototype.setOptions=function(e){this._initOptions(e),e.pullToRefresh&&this._initPullToRefresh()},t.prototype.reset=function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},t.prototype.contentResized=function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},t.prototype.zoomOut=function(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.scrollTo=function(e,t){this._native?(this.scrollElement.scrollLeft(A1(e)),this.scrollElement.scrollTop(A1(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}))},t.prototype.animatedScrollTo=function(e,t,n){var o,r;this._native?this.scrollTo(e,t):(o={x:this.movable.x,y:this.movable.y},r={x:e,y:t},this.animatedScroller.setCoordinates(o,r),this.animatedScroller.setCallback(n),this.animatedScroller.start())},t.prototype.pullHandled=function(){},t.prototype.destroy=function(){gM(this.element,"wheel",this._wheelScrollHandler),this.userEvents&&this.userEvents.destroy()},t.prototype._scale=function(e){this.dimensions.rescale(e),this.movable.scaleTo(e)},t.prototype._initPullToRefresh=function(){},t.prototype._dragEnd=function(){},t.prototype._paneChange=function(){},t.prototype._initAxis=function(e){var t=this,n=t.movable,o=t.dimensions[e],r=t.tapCapture,i=t.pane[e],a=new O1({axis:e,movable:n,dimension:o,container:t.element,alwaysVisible:t.options.visibleScrollHints});o.bind(D1,(function(){a.refresh()})),i.bind(D1,(function(){a.show()})),t[e+"inertia"]=new P1({axis:e,paneAxis:i,movable:n,tapCapture:r,userEvents:t.userEvents,dimension:o,elastic:t.options.elastic,friction:t.options.friction||.96,velocityMultiplier:t.options.velocityMultiplier||10,end:function(){a.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})},t}(EM);SP(R1,{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}}),A0(R1,["pull",N1,"resize"]);var F1=function(e,t){void 0===t&&(t={}),this.sender=t.sender||e,this.widget=e,this.rtl=Boolean(t.rtl)};F1.prototype.notify=function(e,t){this.widget&&this.widget.trigger(e,t)};const L1=F1;var z1=Math,B1=z1.min,V1=z1.pow,H1=sO,q1="marker",U1="location",G1="wheel",W1={bubble:p1,shape:d1,tile:Q0};W1[q1]=k1;var K1=function(e){function t(t,n,o,r){void 0===n&&(n={}),void 0===o&&(o={}),void 0===r&&(r={}),e.call(this),this._init(t,n,o,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.scroller.destroy(),this._tooltip&&this._tooltip.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),vN(this.markers)?this.markers.forEach((function(e){e.destroy()})):this.markers.destroy();for(var t=0;t<this.layers.length;t++)this.layers[t].destroy();gM(this.element,G1,this._mousewheelHandler),e.prototype.destroy.call(this)},t.prototype._init=function(e,t,n,o){void 0===t&&(t={}),void 0===n&&(n={}),void 0===o&&(o={}),this.support=vM(),this.context=o,this.initObserver(o),this.initServices(o),this._notifyObserver("init"),this._initOptions(t),this._setEvents(t),this.crs=new k0,this._initElement(e),this._viewOrigin=this._getOrigin(),this._tooltip=this._createTooltip(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset();var r=MW(this._mousewheel.bind(this),50);this._mousewheelHandler=function(e){e.preventDefault(),r(e)},mM(this.element,G1,this._mousewheelHandler)},t.prototype._initOptions=function(e){this.options=MN({},this.options,e)},t.prototype._initElement=function(e){this.element=e,yN(e,"k-map"),e.style.position="relative",e.setAttribute("data-role","map"),I0(e);var t=S0("<div />");this.element.appendChild(t)},t.prototype.initServices=function(e){void 0===e&&(e={}),this.widgetService=new L1(this,e)},t.prototype.initObserver=function(e){void 0===e&&(e={}),this.observers=[],this.addObserver(e.observer)},t.prototype.addObserver=function(e){e&&this.observers.push(e)},t.prototype.removeObserver=function(e){var t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)},t.prototype.requiresHandlers=function(e){for(var t=this.observers,n=0;n<t.length;n++)if(t[n].requiresHandlers(e))return!0},t.prototype.trigger=function(t,n){void 0===n&&(n={}),n.sender=this;for(var o=this.observers,r=!1,i=0;i<o.length;i++)o[i].trigger(t,n)&&(r=!0);return r||e.prototype.trigger.call(this,t,n),r},t.prototype._notifyObserver=function(e,t){void 0===t&&(t={}),t.sender=this;for(var n=this.observers,o=!1,r=0;r<n.length;r++)n[r].trigger(e,t)&&(o=!0);return o},t.prototype.zoom=function(e){var t,n=this.options;if(lP(e)){var o=z1.round(gP(e,n.minZoom,n.maxZoom));n.zoom!==o&&(n.zoom=o,this.widgetService.notify("zoomChange",{zoom:n.zoom}),this._reset()),t=this}else t=n.zoom;return t},t.prototype.center=function(e){var t;if(e){var n=i0.create(e),o=i0.create(this.options.center);n.equals(o)||(this.options.center=n.toArray(),this.widgetService.notify(H0,{center:this.options.center}),this._reset()),t=this}else t=i0.create(this.options.center);return t},t.prototype.extent=function(e){var t;return e?(this._setExtent(e),t=this):t=this._getExtent(),t},t.prototype.setOptions=function(e){void 0===e&&(e={});var t=this.element;this.destroy(),I0(t),this._init(t,e,{},this.context),this._reset()},t.prototype.locationToLayer=function(e,t){var n=!this.options.wraparound,o=i0.create(e);return this.crs.toPoint(o,this._layerSize(t),n)},t.prototype.layerToLocation=function(e,t){var n=!this.options.wraparound,o=H1.create(e);return this.crs.toLocation(o,this._layerSize(t),n)},t.prototype.locationToView=function(e){var t=i0.create(e),n=this.locationToLayer(this._viewOrigin);return this.locationToLayer(t).translateWith(n.scale(-1))},t.prototype.viewToLocation=function(e,t){var n=this.locationToLayer(this._getOrigin(),t),o=H1.create(e).clone().translateWith(n);return this.layerToLocation(o,t)},t.prototype.eventOffset=function(e){var t,n,o=dP(this.element);if(e.x&&e.x[U1]||e.y&&e.y[U1])t=e.x[U1]-o.left,n=e.y[U1]-o.top;else{var r=e.originalEvent||e;t=wP(r.pageX,r.clientX)-o.left,n=wP(r.pageY,r.clientY)-o.top}return new sO(t,n)},t.prototype.eventToView=function(e){var t=this.eventOffset(e);return this.locationToView(this.viewToLocation(t))},t.prototype.eventToLayer=function(e){return this.locationToLayer(this.eventToLocation(e))},t.prototype.eventToLocation=function(e){var t=this.eventOffset(e);return this.viewToLocation(t)},t.prototype.viewSize=function(){var e=this.element,t=this._layerSize(),n=e.clientWidth;return this.options.wraparound||(n=B1(t,n)),{width:n,height:B1(t,e.clientHeight)}},t.prototype.exportVisual=function(){return this._reset(),!1},t.prototype.hideTooltip=function(){this._tooltip&&this._tooltip.hide()},t.prototype._setOrigin=function(e,t){var n,o=this.viewSize(),r=this._origin=i0.create(e);return(n=this.locationToLayer(r,t)).x+=o.width/2,n.y+=o.height/2,this.options.center=this.layerToLocation(n,t).toArray(),this.widgetService.notify(H0,{center:this.options.center}),this},t.prototype._getOrigin=function(e){var t,n=this.viewSize();return!e&&this._origin||((t=this.locationToLayer(this.center())).x-=n.width/2,t.y-=n.height/2,this._origin=this.layerToLocation(t)),this._origin},t.prototype._setExtent=function(e){var t=V0.create(e),n=t.se.clone();this.options.wraparound&&n.lng<0&&e.nw.lng>0&&(n.lng=180+(180+n.lng));var o=new V0(t.nw,n);this.center(o.center());var r,i=this.element.clientWidth,a=this.element.clientHeight;for(r=this.options.maxZoom;r>=this.options.minZoom;r--){var s=this.locationToLayer(o.nw,r),l=this.locationToLayer(o.se,r),c=z1.abs(l.x-s.x),d=z1.abs(l.y-s.y);if(c<=i&&d<=a)break}this.zoom(r)},t.prototype._getExtent=function(){var e=this._getOrigin(),t=this.locationToLayer(e),n=this.viewSize();t.x+=n.width,t.y+=n.height;var o=this.layerToLocation(t);return new V0(e,o)},t.prototype._zoomAround=function(e,t){this._setOrigin(this.layerToLocation(e,t),t),this.zoom(t)},t.prototype._initControls=function(){var e=this.options.controls;e.attribution&&this._createAttribution(e.attribution),this.support.mobileOS||(e.navigator&&this._createNavigator(e.navigator),e.zoom&&this._createZoomControl(e.zoom))},t.prototype._createControlElement=function(e,t){var n=e.position||t,o="."+D0(n).replace(" ","."),r=this.element.querySelector(".k-map-controls"+o)||[];if(0===r.length){var i=document.createElement("div");yN(i,"k-map-controls "+D0(n)),r=i,this.element.appendChild(r)}var a=document.createElement("div");return r.appendChild(a),a},t.prototype._createAttribution=function(e){var t=this._createControlElement(e,"bottomRight");this.attribution=new N0(t,e)},t.prototype._createNavigator=function(e){var t=this._createControlElement(e,"topLeft"),n=this.navigator=new M0(t,MN({},e,{icons:this.options.icons}));this._navigatorPan=this._navigatorPan.bind(this),n.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),n.bind("center",this._navigatorCenter)},t.prototype._navigatorPan=function(e){var t=this.scroller,n=t.scrollLeft+e.x,o=t.scrollTop-e.y,r=this._virtualSize,i=this.element.clientWidth,a=this.element.clientHeight;n=gP(n,r.x.min,r.x.max-i),o=gP(o,r.y.min,r.y.max-a),this.scroller.one("scroll",C0(this._scrollEnd,this)),this.scroller.scrollTo(-n,-o)},t.prototype._navigatorCenter=function(){this.center(this.options.center)},t.prototype._createZoomControl=function(e){var t=this._createControlElement(e,"topLeft"),n=this.zoomControl=new F0(t,e,this.options.icons);this._zoomControlChange=this._zoomControlChange.bind(this),n.bind("change",this._zoomControlChange)},t.prototype._zoomControlChange=function(e){this.trigger("zoomStart",{originalEvent:e})||(this.zoom(this.zoom()+e.delta),this.trigger("zoomEnd",{originalEvent:e}))},t.prototype._initScroller=function(){var e=this.support.mobileOS?.93:.9,t=!1!==this.options.zoomable,n=this.scroller=new R1(this.element.children[0],{friction:e,velocityMultiplier:5,zoom:t,mousewheelScrolling:!1,supportDoubleTap:!0});n.bind("scroll",C0(this._scroll,this)),n.bind("scrollEnd",C0(this._scrollEnd,this)),n.userEvents.bind("gesturestart",C0(this._scaleStart,this)),n.userEvents.bind("gestureend",C0(this._scale,this)),n.userEvents.bind("doubleTap",C0(this._doubleTap,this)),n.userEvents.bind("tap",C0(this._tap,this)),this.scrollElement=n.scrollElement},t.prototype._initLayers=function(){for(var e=this.options.layers,t=this.layers=[],n=0;n<e.length;n++){var o=e[n],r=this._createLayer(o);t.push(r)}},t.prototype._createLayer=function(e){var t=e.type||"shape",n=this.options.layerDefaults[t],o=t===q1?MN({},this.options.markerDefaults,e,{icons:this.options.icons}):MN({},n,e),r=new(0,W1[t])(this,o);return t===q1&&(this.markers=r),r},t.prototype._createTooltip=function(){return new q0(this.widgetService,this.options.tooltip)},t.prototype._initMarkers=function(){var e=(this.options.layers||[]).filter((function(e){return e&&e.type===q1}));e.length>0||(this.markers=new k1(this,MN({},this.options.markerDefaults,{icons:this.options.icons})),this.markers.add(this.options.markers))},t.prototype._scroll=function(e){var t=this.locationToLayer(this._viewOrigin).round(),n=e.sender.movable,o=new sO(n.x,n.y).scale(-1).scale(1/n.scale);t.x+=o.x,t.y+=o.y,this._scrollOffset=o,this._tooltip.offset=o,this.hideTooltip(),this._setOrigin(this.layerToLocation(t)),this.trigger("pan",{originalEvent:e,origin:this._getOrigin(),center:this.center()})},t.prototype._scrollEnd=function(e){this._scrollOffset&&this._panComplete()&&(this._scrollOffset=null,this._panEndTimestamp=bM(),this.trigger("panEnd",{originalEvent:e,origin:this._getOrigin(),center:this.center()}))},t.prototype._panComplete=function(){return bM()-(this._panEndTimestamp||0)>50},t.prototype._scaleStart=function(e){if(this.trigger("zoomStart",{originalEvent:e})){var t=e.touches[1];t&&t.cancel()}},t.prototype._scale=function(e){var t=this.scroller.movable.scale,n=this._scaleToZoom(t),o=new sO(e.center.x,e.center.y),r=this.viewToLocation(o,n),i=this.locationToLayer(r,n).translate(-o.x,-o.y);this._zoomAround(i,n),this.trigger("zoomEnd",{originalEvent:e})},t.prototype._scaleToZoom=function(e){var t=this._layerSize()*e/this.options.minSize,n=z1.log(t)/z1.log(2);return z1.round(n)},t.prototype._reset=function(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.hideTooltip(),this.trigger("beforeReset"),this.trigger("reset")},t.prototype._resetScroller=function(){var e=this.scroller,t=e.dimensions.x,n=e.dimensions.y,o=this._layerSize(),r=this.extent().nw,i=this.locationToLayer(r).round();e.movable.round=!0,e.reset(),e.userEvents.cancel();var a=this.zoom();e.dimensions.forcedMinScale=V1(2,this.options.minZoom-a),e.dimensions.maxScale=V1(2,this.options.maxZoom-a);var s={min:-i.x,max:o-i.x},l={min:-i.y,max:o-i.y};if(this.options.wraparound&&(s.max=20*o,s.min=-s.max),!1===this.options.pannable){var c=this.viewSize();s.min=l.min=0,s.max=c.width,l.max=c.height}t.makeVirtual(),n.makeVirtual(),t.virtualSize(s.min,s.max),n.virtualSize(l.min,l.max),this._virtualSize={x:s,y:l}},t.prototype._renderLayers=function(){},t.prototype._layerSize=function(e){var t=wP(e,this.options.zoom);return this.options.minSize*V1(2,t)},t.prototype._tap=function(e){if(this._panComplete()){var t=this.eventOffset(e);this.hideTooltip(),this.trigger("click",{originalEvent:e,location:this.viewToLocation(t)})}},t.prototype._doubleTap=function(e){if(!1!==this.options.zoomable&&!this.trigger("zoomStart",{originalEvent:e})){var t=this.zoom()+1,n=this.eventOffset(e),o=this.viewToLocation(n),r=this.locationToLayer(o,t).translate(-n.x,-n.y);this._zoomAround(r,t),this.trigger("zoomEnd",{originalEvent:e})}},t.prototype._mousewheel=function(e){var t=dT(e)>0?-1:1,n=this.options,o=this.zoom(),r=gP(o+t,n.minZoom,n.maxZoom);if(!1!==n.zoomable&&r!==o&&!this.trigger("zoomStart",{originalEvent:e})){var i=this.eventOffset(e),a=this.viewToLocation(i),s=this.locationToLayer(a,r).translate(-i.x,-i.y);this._zoomAround(s,r),this.trigger("zoomEnd",{originalEvent:e})}},t.prototype._toDocumentCoordinates=function(e){var t=dP(this.element);return{left:xP(e.x+t.left),top:xP(e.y+t.top)}},t}(EM);SP(K1,{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],icons:{type:"font",svgIcons:{}},zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,renderPointsAsMarkers:!1}),A0(K1,["beforeReset","click","markerActivate","markerClick","markerCreated","markerMouseEnter","markerMouseLeave","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"]);var Y1=function(e,t){return e.map(t).reduce((function(e,t){return e+t}),0)},X1=function(e,t){return e.y0===t.y0?e.index-t.index:e.y0+e.y1-t.y0-t.y1},Q1=function(e,t){return X1(e.source,t.source)},J1=function(e,t){return X1(e.target,t.target)},Z1=function(e){return e.value};function $1(e){e.forEach((function(e){e.targetLinks.forEach((function(e){e.source.sourceLinks.sort(J1)})),e.sourceLinks.forEach((function(e){e.target.targetLinks.sort(Q1)}))}))}var e2=function(e,t){return"left"===e.align?e.depth:"right"===e.align?t-e.height:e.sourceLinks.length?e.depth:t},t2=function(e){var t=e.nodesOptions,n=t.offset;void 0===n&&(n={});var o=t.align;this.data={nodes:e.nodes.map((function(e){return MN({},{offset:n,align:o},e)})),links:e.links.map((function(e){return MN({},e)}))},this.width=e.width,this.height=e.height,this.offsetX=e.offsetX||0,this.offsetY=e.offsetY||0,this.nodeWidth=e.nodesOptions.width,this.nodePadding=e.nodesOptions.padding,this.reverse=e.reverse,this.targetColumnIndex=e.targetColumnIndex,this.loops=e.loops,this.autoLayout=e.autoLayout};t2.prototype.calculate=function(){var e=this.data,t=e.nodes,n=e.links;this.connectLinksToNodes(t,n),this.calculateNodeValues(t);var o=this.calculateNodeHeights(t);if(o)return{nodes:[],links:[],columns:[],circularLinks:o};this.calculateNodeDepths(t);var r=this.calculateNodeColumns(t);return this.calculateNodeBreadths(r),this.applyNodesOffset(t),this.calculateLinkBreadths(t),Object.assign({},this.data,{columns:r})},t2.prototype.connectLinksToNodes=function(e,t){var n=new Map;e.forEach((function(e,t){e.index=t,e.sourceLinks=[],e.targetLinks=[],e.id=void 0!==e.id?e.id:e.label.text,n.set(e.id,e)})),t.forEach((function(e){e.source=n.get(e.sourceId),e.target=n.get(e.targetId),e.source.sourceLinks.push(e),e.target.targetLinks.push(e)}))},t2.prototype.calculateNodeValues=function(e){e.forEach((function(e){e.value=Math.max(Y1(e.sourceLinks,Z1),Y1(e.targetLinks,Z1))}))},t2.prototype.calculateNodeDepths=function(e){for(var t=new Set(e),n=new Set,o=0;t.size;){for(var r=Array.from(t),i=0;i<r.length;i++){var a=r[i];a.depth=o;for(var s=0;s<a.sourceLinks.length;s++){var l=a.sourceLinks[s];n.add(l.target)}}o++,t=n,n=new Set}},t2.prototype.calculateNodeHeights=function(e){for(var t=e.length,n=new Set(e),o=new Set,r=0,i=function(e){e.height=r,e.targetLinks.forEach((function(e){o.add(e.source)}))};n.size;){if(n.forEach(i),++r>t)return!0;n=o,o=new Set}return!1},t2.prototype.calculateNodeColumns=function(e){for(var t,n,o=(t=e,n=function(e){return e.depth},Math.max.apply(null,t.map(n))),r=(this.width-this.offsetX-this.nodeWidth)/o,i=new Array(o+1),a=0;a<e.length;a++){var s=e[a],l=Math.max(0,Math.min(o,e2(s,o)));s.x0=this.offsetX+l*r,s.x1=s.x0+this.nodeWidth,s.layer=l,i[l]=i[l]||[],i[l].push(s)}return i},t2.prototype.calculateNodeBreadths=function(e){var t,n,o=this,r=(t=e,n=function(e){return(o.height-o.offsetY-(e.length-1)*o.nodePadding)/Y1(e,Z1)},Math.min.apply(null,t.map(n)));if(e.forEach((function(e){var t=o.offsetY;e.forEach((function(e){e.y0=t,e.y1=t+e.value*r,t=e.y1+o.nodePadding,e.sourceLinks.forEach((function(e){e.width=e.value*r}))})),t=(o.height-t+o.nodePadding)/(e.length+1),e.forEach((function(e,n){e.y0+=t*(n+1),e.y1+=t*(n+1)}))})),!1!==this.autoLayout)for(var i=void 0!==this.loops?this.loops:e.length-1,a=this.targetColumnIndex||1,s=0;s<i;s++)o.reverse?(o.uncurlLinksToRight(e,a),o.uncurlLinksToLeft(e,a)):(o.uncurlLinksToLeft(e,a),o.uncurlLinksToRight(e,a));e.forEach($1)},t2.prototype.applyNodesOffset=function(e){e.forEach((function(e){var t=(e.offset?e.offset.left:0)||0,n=(e.offset?e.offset.top:0)||0;e.x0+=t,e.x1+=t,e.y0+=n,e.y1+=n}))},t2.prototype.calculateLinkBreadths=function(e){e.forEach((function(e){var t=e.sourceLinks,n=e.targetLinks,o=e.y0,r=o;t.forEach((function(e){e.x0=e.source.x1,e.y0=o+e.width/2,o+=e.width})),n.forEach((function(e){e.x1=e.target.x0,e.y1=r+e.width/2,r+=e.width}))}))},t2.prototype.uncurlLinksToRight=function(e,t){for(var n=this,o=e.length,r=t;r<o;r++){var i=e[r];i.forEach((function(e){var t=0,o=0;e.targetLinks.forEach((function(r){var i=r.value*(e.layer-r.source.layer);t+=n.targetTopPos(r.source,e)*i,o+=i}));var r=0===t?0:t/o-e.y0;e.y0+=r,e.y1+=r,$1([e])})),i.sort(X1),n.arrangeNodesVertically(i)}},t2.prototype.uncurlLinksToLeft=function(e,t){for(var n=this,o=e.length-1-t;o>=0;o--){for(var r=e[o],i=function(e){var t=r[e],o=0,i=0;t.sourceLinks.forEach((function(e){var r=e.value*(e.target.layer-t.layer);o+=n.sourceTopPos(t,e.target)*r,i+=r}));var a=0===o?0:o/i-t.y0;t.y0+=a,t.y1+=a,$1([t])},a=0;a<r.length;a++)i(a);r.sort(X1),n.arrangeNodesVertically(r)}},t2.prototype.arrangeNodesVertically=function(e){var t=e.length-1;this.arrangeUp(e,this.height,t),this.arrangeDown(e,this.offsetY,0)},t2.prototype.arrangeDown=function(e,t,n){for(var o=t,r=n;r<e.length;r++){var i=e[r],a=Math.max(0,o-i.y0);i.y0+=a,i.y1+=a,o=i.y1+this.nodePadding}},t2.prototype.arrangeUp=function(e,t,n){for(var o=t,r=n;r>=0;--r){var i=e[r],a=Math.max(0,i.y1-o);i.y0-=a,i.y1-=a,o=i.y0-this.nodePadding}},t2.prototype.sourceTopPos=function(e,t){for(var n=t.y0-(t.targetLinks.length-1)*this.nodePadding/2,o=0;o<t.targetLinks.length;o++){var r=t.targetLinks[o];if(r.source===e)break;n+=r.width+this.nodePadding}for(var i=0;i<e.sourceLinks.length;i++){var a=e.sourceLinks[i];if(a.target===t)break;n-=a.width}return n},t2.prototype.targetTopPos=function(e,t){for(var n=e.y0-(e.sourceLinks.length-1)*this.nodePadding/2,o=0;o<e.sourceLinks.length;o++){var r=e.sourceLinks[o];if(r.target===t)break;n+=r.width+this.nodePadding}for(var i=0;i<t.targetLinks.length;i++){var a=t.targetLinks[i];if(a.source===e)break;n-=a.width}return n};var n2=function(e){return new t2(e).calculate()};function o2(e,t,n,o,r,i){var a=(i-t)*(n-e),s=(o-t)*(r-e);return a>s?1:a===s?0:-1}function r2(e,t){var n=o2(e.x0,e.y0,e.x1,e.y1,t.x1,t.y1),o=o2(e.x0,e.y0,e.x1,e.y1,t.x0,t.y0),r=o2(e.x0,e.y0,t.x0,t.y0,t.x1,t.y1),i=o2(e.x1,e.y1,t.x0,t.y0,t.x1,t.y1);return n!==o&&r!==i}var i2=function(e){function t(t){e.call(this),this.options=MN({},this.options,t),this.createVisual()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createVisual=function(){this.visual=this.createElement()},t.prototype.exportVisual=function(){return this.visual},t.prototype.createElement=function(){var e=this,t=this.options.visual;return t?t({sender:this.getSender(),options:this.visualOptions(),createVisual:function(){return e.getElement()}}):this.getElement()},t.prototype.getSender=function(){return this},t}(uT),a2=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){return LR.fromRect(this.getRect(),this.visualOptions())},t.prototype.getRect=function(){var e=this.options.node;return new uO([e.x0,e.y0],[e.x1-e.x0,e.y1-e.y0])},t.prototype.getLabelText=function(e){var t=e.labels.ariaTemplate;if(t)return t({node:e.node})},t.prototype.visualOptions=function(){var e=MN({},this.options,this.options.node),t=this.getLabelText(e);return{fill:{color:e.color,opacity:e.opacity},stroke:{width:0},className:"k-sankey-node",role:"graphics-symbol",ariaRoleDescription:"Node",ariaLabel:t}},t.prototype.createFocusHighlight=function(){if(this.options.navigatable)return this._highlight=LR.fromRect(this.getRect(),{stroke:this.options.focusHighlight.border,visible:!1}),this._highlight},t.prototype.focus=function(e){if(this._highlight){var t=(e||{}).highlight;void 0===t&&(t=!0),t&&this._highlight.options.set("visible",!0);var n=this.options.node.id;this.visual.options.set("id",n),this.options.root()&&this.options.root().setAttribute(zD,n)}},t.prototype.blur=function(){this._highlight&&(this._highlight.options.set("visible",!1),this.visual.options.set("id",""),this.options.root()&&this.options.root().removeAttribute(zD))},t}(i2),s2=function(e,t,n){return e.color||t[n%t.length]},l2=function(e,t,n,o){var r=MN({},t,t.node);return MN({},{color:s2(e,n,o)},r,{node:e},{visual:e.visual,opacity:e.opacity,offset:e.offset,color:e.color})},c2=function(e,t,n,o,r){var i=1-r,a=i*i,s=r*r;return e*a*i+3*t*r*a+3*n*s*i+o*s*r};var d2=function(e,t){var n=e.width/2,o=t?e.x1:e.x0,r=t?e.x0:e.x1,i=t?e.y1:e.y0,a=t?e.y0:e.y1,s=(o+r)/2,l=[s,c2(i,i,a,a,.5)],c=.4999,d=[c2(o,s,s,r,c),c2(i,i,a,a,c)],u=function(e,t,n,o,r){var i,a,s=(e+n)/2,l=(t+o)/2;if(t===o)i=0,a=r/2;else if(e===n)i=r/2,a=0;else{var c=-1/((o-t)/(n-e));a=c*(i=r/2/Math.sqrt(1+c*c))}return{P1:{x:s-i,y:l-a},P2:{x:s+i,y:l+a}}}(l[0],l[1],d[0],d[1],e.width),p=[s,c2(i+n,i+n,a+n,a+n,.5)],h=u.P1.y>u.P2.y?u.P1:u.P2,f=(i>a?1:-1)*n,m=function(e,t,n,o,r){var i=(e.x+t.x)/2,a=(e.y+t.y)/2,s=t.x-e.x,l=-(t.y-e.y),c=s,d=Math.sqrt(l*l+c*c),u=i+(l=l/d*n),p=a+(c=c/d*n),h=i-l,f=a-c,m=r.x-o.x,g=r.y-o.y,v=g*(u-h)-m*(p-f);if(Math.abs(v)<1e-10)return null;var y=(m*(f-o.y)-g*(h-o.x))/v,x=((u-h)*(f-o.y)-(p-f)*(h-o.x))/v;return y>=0&&y<=1&&x>=0&&x<=1?{x:h+y*(u-h)}:null}(h,{x:p[0],y:p[1]},n,{x:p[0],y:p[1]},{x:Math.max(1,p[0]+f),y:p[1]})||{x:(p[0]+h.x)/2},g=o,v=r;return s-(m.x-.125*g-.125*v)/.75},u2=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=this.options.link,t=e.x0,n=e.x1,o=e.y0,r=e.y1,i=(t+n)/2;return new LR(this.visualOptions()).moveTo(t,o).curveTo([i,o],[i,r],[n,r])},t.prototype.getLabelText=function(e){var t=e.labels.ariaTemplate;if(t)return t({link:e.link})},t.prototype.visualOptions=function(){var e=this.options,t=this.options.link,n=this.getLabelText(e);return{stroke:{width:e.link.width,color:t.color||e.color,opacity:lP(t.opacity)?t.opacity:e.opacity},role:"graphics-symbol",ariaRoleDescription:"Link",ariaLabel:n}},t.prototype.createFocusHighlight=function(){if(this.options.navigatable){var e=this.options.link,t=e.x0,n=e.x1,o=e.y0,r=e.y1,i=(t+n)/2,a=e.width/2,s=d2(e,this.options.rtl);this._highlight=new LR({stroke:this.options.focusHighlight.border,visible:!1}).moveTo(t,o+a).lineTo(t,o-a).curveTo([i+s,o-a],[i+s,r-a],[n,r-a]).lineTo(n,r+a).curveTo([i-s,r+a],[i-s,o+a],[t,o+a])}},t.prototype.focus=function(e){if(this._highlight){var t=(e||{}).highlight;void 0===t&&(t=!0),t&&this._highlight.options.set("visible",!0);var n=this.options.link.sourceId+"->"+this.options.link.targetId;this.visual.options.set("id",n),this.options.root()&&this.options.root().setAttribute(zD,n)}},t.prototype.blur=function(){this._highlight&&(this._highlight.options.set("visible",!1),this.visual.options.set("id",""),this.options.root()&&this.options.root().removeAttribute(zD))},t}(i2),p2="inside",h2="before",f2="after",m2=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=MN({},this.options,this.options.node.label),t=e.node,n=e.diagramMinX,o=e.diagramMaxX,r=e.text,i=e.offset,a=e.rtl,s=e.position;if(a&&s!==p2&&(s=s===h2?f2:h2),!e.visible||!r)return null;var l=new fO(t.x0,t.y0,t.x1,t.y1),c=this.visualOptions();a&&!c.align&&(c.align="right");var d=new aL(r,c);d.reflow(new fO);var u=d.box,p=l.center().y-u.height()/2,h=t.x1+u.width()>o,f=t.x0-u.width()<n,m=s===h2||s===p2&&h?h2:f2;a&&(m=s===f2||s===p2&&f?f2:h2);var g=[m===h2?t.x0-u.width():t.x1,p],v=new fO(g[0],g[1],g[0]+u.width(),g[1]+u.height());return v.translate(i.left||0,i.top||0),d.reflow(v),d.renderVisual(),d.visual},t.prototype.visualOptions=function(){var e=MN({},this.options,this.options.node.label);return{color:e.color,font:e.font,border:e.border,margin:e.margin,padding:e.padding,align:e.align,paintOrder:e.paintOrder,stroke:e.stroke}},t}(i2);SP(m2,{position:p2});var g2=function(e,t,n,o,r){return MN({},t,{node:e,diagramMinX:o,diagramMaxX:r,rtl:n,visual:e.label.visual,visible:e.label.visible,margin:e.label.margin,padding:e.label.padding,border:e.label.border,align:e.label.align,offset:e.label.offset})},v2=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=this.options,t=e.drawingRect,n=e.text;if(!1===e.visible||!n)return null;var o=cL.buildTitle(n,e);return o.reflow(t),o.renderVisual(),o.visual},t.prototype.createElement=function(){return this.getElement()},t}(i2);SP(v2,{align:HD,border:{width:0},margin:BN(5),padding:BN(5)});var y2=function(e,t){return e.node.x0-t.node.x0!==0?e.node.x0-t.node.x0:e.node.y0-t.node.y0},x2=function(e,t){return e.node.x1-t.node.x1!==0?e.node.x1-t.node.x1:t.node.y0-e.node.y0},b2=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getElement=function(){var e=this.options,t=e.drawingRect,n=e.rtl,o=e.nodes;void 0===o&&(o=[]);var r=e.item,i=e.position;if(!1===e.visible||!o.length)return null;var a=o.map((function(e){return{text:e.label&&e.label.text||"",area:{background:void 0!==r.areaBackground?r.areaBackground:e.color,opacity:void 0!==r.areaOpacity?r.areaOpacity:e.opacity},node:e}}));a.sort(function(e){return e?x2:y2}(n));var s=n&&i!==$D&&i!==iN,l=new JK(Object.assign({},e,{data:a,reverse:s}),{rtl:n});return l.reflow(t),l.renderVisual(),l.visual},t.prototype.createElement=function(){return this.getElement()},t}(i2);SP(b2,{markers:{visible:!1},item:{type:DB,cursor:mN,opacity:1},position:VD,align:HD,accessibility:{role:"presentation",ariaLabel:null,ariaRoleDescription:null},border:{width:0}});var w2="link",k2="node",C2=function(e){function t(t,n,o){e.call(this),this._initTheme(o),this._setOptions(n),this._initElement(t),this._initSurface(),n&&n.data&&(this._redraw(),this._initResizeObserver(),this._initNavigation(t))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.destroy=function(){this.unbind(),this._destroySurface(),this._destroyResizeObserver(),this.element&&(this.element.removeEventListener("keydown",this._keydownHandler),this.element.removeEventListener("focus",this._focusHandler),this.element.removeEventListener("mousedown",this._onDownHandler),this.element.removeEventListener("touchstart",this._onDownHandler),this.element.removeEventListener("pointerdown",this._onDownHandler)),this._focusState=null,this.element=null},t.prototype._initElement=function(e){this.element=e,yN(e,["k-chart","k-sankey"]),e.setAttribute("role","graphics-document");var t=this.options.title;t.text&&e.setAttribute("aria-label",t.text),t.description&&e.setAttribute("aria-roledescription",t.description)},t.prototype._initSurface=function(){this.surface||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())},t.prototype._initNavigation=function(e){e.tabIndex=e.getAttribute("tabindex")||0,this.options.disableKeyboardNavigation||(this._keydownHandler=this._keydown.bind(this),this._focusHandler=this._focus.bind(this),this._blurHandler=this._blur.bind(this),this._onDownHandler=this._onDown.bind(this),e.addEventListener("keydown",this._keydownHandler),e.addEventListener("focus",this._focusHandler),e.addEventListener("blur",this._blurHandler),e.addEventListener("mousedown",this._onDownHandler),e.addEventListener("touchstart",this._onDownHandler),e.addEventListener("pointerdown",this._onDownHandler),this._focusState={node:this.firstFocusableNode(),link:null})},t.prototype.firstFocusableNode=function(){return this.columns[0][0]},t.prototype._initResizeObserver=function(){var e=this,t=new ResizeObserver((function(t){t.forEach((function(t){var n=t.contentRect,o=n.width,r=n.height;t.target!==e.element||e.size&&e.size.width===o&&e.size.height===r||(e.size={width:o,height:r},e.surface.setSize(e.size),e.resize=!0,e._redraw())}))}));this._resizeObserver=t,t.observe(this.element)},t.prototype._createSurface=function(){return vK.create(this.surfaceElement,{mouseenter:this._mouseenter.bind(this),mouseleave:this._mouseleave.bind(this),mousemove:this._mousemove.bind(this),click:this._click.bind(this)})},t.prototype._initTheme=function(e){var t=e||this.theme||{};this.theme=t,this.options=MN({},t,this.options)},t.prototype.setLinksOpacity=function(e){var t=this;this.linksVisuals.forEach((function(n){t.setOpacity(n,e,n.linkOptions.opacity)}))},t.prototype.setLinksInactivityOpacity=function(e){var t=this;this.linksVisuals.forEach((function(n){t.setOpacity(n,e,n.linkOptions.highlight.inactiveOpacity)}))},t.prototype.setOpacity=function(e,t,n){e.options.set("stroke",Object.assign({},e.options.stroke,{opacity:lP(n)?n:t}))},t.prototype.trigger=function(t,n){var o=n.element.dataItem,r=n.element.type,i=Object.assign({},n,{type:t,targetType:r,dataItem:o});return e.prototype.trigger.call(this,t,i)},t.prototype._mouseenter=function(e){var t=e.element,n=t.type===w2,o=t.type===k2,r=Boolean(t.chartElement&&t.chartElement.options.node);if(!(n&&this.trigger("linkEnter",e)||o&&this.trigger("nodeEnter",e))){var i=this.options.links.highlight;if(n)this.setLinksInactivityOpacity(i.inactiveOpacity),this.setOpacity(t,i.opacity,t.linkOptions.highlight.opacity);else if(o)this.highlightLinks(t,i);else if(r){var a=this.nodesVisuals.get(t.chartElement.options.node.id);this.highlightLinks(a,i)}}},t.prototype._mouseleave=function(e){var t=this,n=e.element,o=n.type===w2,r=n.type===k2,i=Boolean(n.chartElement&&n.chartElement.options.node),a=e.originalEvent.relatedTarget;o&&a&&"text"===a.nodeName||((o||r)&&(this.tooltipTimeOut&&(clearTimeout(this.tooltipTimeOut),this.tooltipTimeOut=null),this.tooltipShown=!1,this.trigger("tooltipHide",e)),o&&this.trigger("linkLeave",e)||r&&this.trigger("nodeLeave",e)||(o||r||i)&&this.linksVisuals.forEach((function(e){t.setOpacity(e,t.options.links.opacity,e.linkOptions.opacity)})))},t.prototype._mousemove=function(e){var t=this,n=this.options.tooltip,o=n.followPointer,r=n.delay,i=e.element,a=i.type;if(!(a!==w2&&a!==k2||this.tooltipShown&&!o)){var s=e.originalEvent,l=this.element.getBoundingClientRect(),c=s.clientX-l.left<l.width/2,d=s.clientY-l.top<l.height/2;if(e.tooltipData={popupOffset:{left:s.pageX,top:s.pageY},popupAlign:{horizontal:c?"left":"right",vertical:d?"top":"bottom"}},a===k2){var u=i.dataItem,p=u.sourceLinks,h=u.targetLinks,f=h.length?h:p;e.nodeValue=f.reduce((function(e,t){return e+t.value}),0)}this.tooltipTimeOut&&(clearTimeout(this.tooltipTimeOut),this.tooltipTimeOut=null);var m=o&&this.tooltipShown?0:r;this.tooltipTimeOut=setTimeout((function(){t.trigger("tooltipShow",e),t.tooltipShown=!0,t.tooltipTimeOut=null}),m)}},t.prototype._click=function(e){var t=e.element,n=t.dataItem,o=t.type===w2,r=t.type===k2,i=this._focusState||{};if(r)!i.link&&this.sameNode(i.node,n)||(this._focusState={node:n,link:null},this._focusNode({highlight:!1})),this.trigger("nodeClick",e);else if(o){var a={sourceId:n.source.id,targetId:n.target.id,value:n.value};this.sameLink(i.link,a)||(this._focusState={node:n.source,link:a},this._focusLink({highlight:!1})),this.trigger("linkClick",e)}},t.prototype.sameNode=function(e,t){return e&&t&&e.id===t.id},t.prototype.sameLink=function(e,t){return e&&t&&e.sourceId===t.sourceId&&e.targetId===t.targetId},t.prototype._focusNode=function(e){this._cleanFocusHighlight();var t=this._focusState.node;this.models.map.get(t.id).focus(e)},t.prototype._focusLink=function(e){this._cleanFocusHighlight();var t=this._focusState.link;this.models.map.get(t.sourceId+"-"+t.targetId).focus(e)},t.prototype._focusNextNode=function(e){void 0===e&&(e=1);var t=this._focusState.node,n=this.columns.findIndex((function(e){return e.find((function(e){return e.id===t.id}))})),o=this.columns[n],r=o.findIndex((function(e){return e.id===t.id})),i=o[r+e];i&&(this._focusState.node=i,this._focusNode())},t.prototype._focusNextLink=function(e){void 0===e&&(e=1);var t=this._focusState.node,n=this._focusState.link,o=t.sourceLinks.findIndex((function(e){return e.sourceId===n.sourceId&&e.targetId===n.targetId})),r=t.targetLinks.findIndex((function(e){return e.sourceId===n.sourceId&&e.targetId===n.targetId}));if(-1!==o){var i=t.sourceLinks[o+e];i&&(this._focusState.link=i,this._focusLink())}else if(-1!==r){var a=t.targetLinks[r+e];a&&(this._focusState.link=a,this._focusLink())}},t.prototype._focusSourceNode=function(){var e=this._focusState.link,t=this.models.map.get(e.sourceId);this._focusState={node:t.options.node,link:null},this._focusNode()},t.prototype._focusTargetNode=function(){var e=this._focusState.link,t=this.models.map.get(e.targetId);this._focusState={node:t.options.node,link:null},this._focusNode()},t.prototype._focusSourceLink=function(){var e=this._focusState.node.sourceLinks[0];e&&(this._focusState.link=e,this._focusLink())},t.prototype._focusTargetLink=function(){var e=this._focusState.node.targetLinks[0];e&&(this._focusState.link=e,this._focusLink())},t.prototype._focus=function(){this._skipFocusHighlight||(this._focusState.link?this._focusLink():this._focusNode()),this._skipFocusHighlight=!1},t.prototype._blur=function(){this._cleanFocusHighlight()},t.prototype._onDown=function(){this._hasFocus()||(this._skipFocusHighlight=!0)},t.prototype._hasFocus=function(){return this.element.ownerDocument.activeElement===this.element},t.prototype._cleanFocusHighlight=function(){this.models.nodes.forEach((function(e){return e.blur()})),this.models.links.forEach((function(e){return e.blur()}))},t.prototype._keydown=function(e){var t=this["on"+e.key],n=this.options.rtl;n&&"ArrowLeft"===e.key?t=this.onArrowRight:n&&"ArrowRight"===e.key&&(t=this.onArrowLeft),t&&t.call(this,e)},t.prototype.onEscape=function(e){e.preventDefault(),this._focusState={node:this.firstFocusableNode(),link:null},this._focusNode()},t.prototype.onArrowDown=function(e){e.preventDefault(),this._focusState.link?this._focusNextLink(1):this._focusNextNode(1)},t.prototype.onArrowUp=function(e){e.preventDefault(),this._focusState.link?this._focusNextLink(-1):this._focusNextNode(-1)},t.prototype.onArrowLeft=function(e){e.preventDefault(),this._focusState.link?this._focusSourceNode():this._focusTargetLink()},t.prototype.onArrowRight=function(e){e.preventDefault(),this._focusState.link?this._focusTargetNode():this._focusSourceLink()},t.prototype.highlightLinks=function(e,t){var n=this;e&&(this.setLinksInactivityOpacity(t.inactiveOpacity),e.links.forEach((function(e){n.setOpacity(e,t.opacity,e.linkOptions.highlight.opacity)})))},t.prototype._destroySurface=function(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())},t.prototype._destroyResizeObserver=function(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},t.prototype._initSurfaceElement=function(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement))},t.prototype._destroySurfaceElement=function(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)},t.prototype.setOptions=function(e,t){this._setOptions(e),this._initTheme(t),this._initSurface(),this._redraw()},t.prototype._redraw=function(){this.surface.clear();var e=this._getSize(),t=e.width,n=e.height;this.size={width:t,height:n},this.surface.setSize(this.size),this.createVisual(),this.surface.draw(this.visual)},t.prototype._getSize=function(){return this.element.getBoundingClientRect()},t.prototype.createVisual=function(){this.visual=this._render()},t.prototype.titleBox=function(e,t){return e&&!1!==e.visible&&e.text?new v2(Object.assign({},{drawingRect:t},e)).exportVisual().chartElement.box:null},t.prototype.legendBox=function(e,t,n){return e&&!1!==e.visible?new b2(Object.assign({},{nodes:t},e,{drawingRect:n})).exportVisual().chartElement.box:null},t.prototype.calculateSankey=function(e,t){var n=t.title,o=t.legend,r=t.data,i=t.nodes,a=t.labels,s=t.nodeColors,l=t.disableAutoLayout,c=t.disableKeyboardNavigation,d=t.rtl,u=!l,p=((i.focusHighlight||{}).border||{}).width||0,h=c?0:p/2,f=new fO(0,0,e.width,e.height);f.unpad(h);var m=this.titleBox(n,f),g=f.clone();if(m){var v=m.height();n.position===cN?(f.unpad({top:v}),g=new fO(0,v,e.width,e.height)):(f.shrink(0,v),g=new fO(0,0,e.width,e.height-v))}var y=this.legendBox(o,r.nodes,g),x=o&&o.position||b2.prototype.options.position;y&&(x===$D&&f.unpad({left:y.width()}),x===iN&&f.shrink(y.width(),0),x===cN&&f.unpad({top:y.height()}),x===VD&&f.shrink(0,y.height()));var b=n2(Object.assign({},e,{offsetX:0,offsetY:0,width:f.width(),height:f.height()})),w=b.nodes,k=b.circularLinks;if(k)return console.warn("Circular links detected. Kendo Sankey diagram does not support circular links."),{sankey:{nodes:[],links:[],columns:[[]],circularLinks:k},legendBox:y,titleBox:m};var C=new fO,S=w.reduce((function(e,t){return Math.min(e,t.x0)}),1/0),I=w.reduce((function(e,t){return Math.max(e,t.x1)}),0);w.forEach((function(e,t){if(d){var n=e.x0,o=e.x1;e.x0=I-o,e.x1=I-n}var r=l2(e,i,s,t),l=new a2(r);C.wrap(oL(l.exportVisual().rawBBox()));var c=new m2(g2(e,a,d,S,I)).exportVisual();c&&C.wrap(oL(c.rawBBox()))}));var E=f.x1,_=f.y1,j=f.width()+E,A=f.height()+_;if(j-=C.x2>f.width()?C.x2-f.width():0,A-=C.y2>f.height()?C.y2-f.height():0,E+=C.x1<0?-C.x1:0,_+=C.y1<0?-C.y1:0,!1===u)return{sankey:n2(Object.assign({},e,{offsetX:E,offsetY:_,width:j,height:A,autoLayout:!1})),legendBox:y,titleBox:m};if(this.resize&&u&&this.permutation)return this.resize=!1,{sankey:n2(Object.assign({},e,{offsetX:E,offsetY:_,width:j,height:A},this.permutation)),legendBox:y,titleBox:m};for(var D=n2(Object.assign({},e,{offsetX:E,offsetY:_,width:j,height:A,autoLayout:!1})).columns.length,N=[],T=function(t,n){var o=function(e){for(var t=0,n=e.length,o=0;o<n;o++)for(var r=e[o],i=o+1;i<n;i++){var a=e[i];r2(r,a)&&(t+=Math.min(r.value,a.value))}return t}(n2(Object.assign({},e,{offsetX:E,offsetY:_,width:j,height:A,loops:2,targetColumnIndex:t,reverse:n})).links);return N.push({crosses:o,reverse:n,targetColumnIndex:t}),0===o},P=1;P<=D-1&&(!T(P,!1)&&!T(P,!0));P++);var M=Math.min.apply(null,N.map((function(e){return e.crosses}))),O=N.find((function(e){return e.crosses===M}));return this.permutation={targetColumnIndex:O.targetColumnIndex,reverse:O.reverse},{sankey:n2(Object.assign({},e,{offsetX:E,offsetY:_,width:j,height:A},this.permutation)),legendBox:y,titleBox:m}},t.prototype._render=function(e,t){var n=e||this.options,o=t||this,r=n.labels,i=n.nodes,a=n.links,s=n.nodeColors,l=n.title,c=n.legend,d=n.rtl,u=n.disableKeyboardNavigation,p=n.data,h=o.size,f=h.width,m=h.height,g=Object.assign({},p,{width:f,height:m,nodesOptions:i,title:l,legend:c}),v=this.calculateSankey(g,n),y=v.sankey,x=v.titleBox,b=v.legendBox;d&&function(e){var t=e.nodes,n=e.links,o=Math.min.apply(Math,t.map((function(e){return e.x0}))),r=Math.max.apply(Math,t.map((function(e){return e.x1}))),i=r-o;t.forEach((function(e){var t=i-(e.x1-2*o),n=i-(e.x0-2*o);e.x0=t,e.x1=n})),n.forEach((function(e){var t=i-(e.x1-2*o),n=i-(e.x0-2*o);e.x1=t,e.x0=n}))}(y);var w=y.nodes,k=y.links,C=y.columns;o.columns=C.map((function(e){var t=e.slice();return t.sort((function(e,t){return e.y0-t.y0})),t}));var S=new JR({clip:LR.fromRect(new uO([0,0],[f,m]))});if(x){var I=new v2(Object.assign({},l,{drawingRect:x})).exportVisual();S.append(I)}if(y.circularLinks)return S;var E=new Map;o.nodesVisuals=E;var _={nodes:[],links:[],map:new Map};o.models=_;var j=[];w.forEach((function(e,t){var n=l2(e,i,s,t);n.root=function(){return o.element},n.navigatable=!0!==u;var r=new a2(n),a=r.exportVisual();a.links=[],a.type=k2,e.color=n.color,e.opacity=n.opacity,a.dataItem=Object.assign({},p.nodes[t],{color:n.color,opacity:n.opacity,sourceLinks:e.sourceLinks.map((function(e){return{sourceId:e.sourceId,targetId:e.targetId,value:e.value}})),targetLinks:e.targetLinks.map((function(e){return{sourceId:e.sourceId,targetId:e.targetId,value:e.value}}))}),E.set(e.id,a),_.nodes.push(r),_.map.set(e.id,r),S.append(a),r.createFocusHighlight(),r._highlight&&j.push(r._highlight)}));var A=k.slice().sort((function(e,t){return t.value-e.value})),D=[];o.linksVisuals=D,A.forEach((function(e){var t=e.source,n=e.target,r=E.get(t.id),i=E.get(n.id),s=function(e,t,n,o){var r=MN({},t,{link:e,opacity:e.opacity,color:e.color,colorType:e.colorType,visual:e.visual,highlight:e.highlight});return"source"===r.colorType?r.color=n.options.fill.color:"target"===r.colorType&&(r.color=o.options.fill.color),r}(e,a,r,i);s.root=function(){return o.element},s.navigatable=!0!==u,s.rtl=d;var l=new u2(s),c=l.exportVisual();c.type=w2,c.dataItem={source:Object.assign({},r.dataItem),target:Object.assign({},i.dataItem),value:e.value},c.linkOptions=s,D.push(c),r.links.push(c),i.links.push(c),_.links.push(l),_.map.set(t.id+"-"+n.id,l),l.createFocusHighlight(),l._highlight&&j.push(l._highlight),S.append(c)}));var N=w.reduce((function(e,t){return Math.min(e,t.x0)}),1/0),T=w.reduce((function(e,t){return Math.max(e,t.x1)}),0);if(w.forEach((function(e){var t=g2(e,r,d,N,T),n=new m2(t).exportVisual();n&&S.append(n)})),b){var P=new b2(Object.assign({},c,{rtl:d,drawingRect:b,nodes:w})).exportVisual();S.append(P)}if(0!==j.length){var M=new JR;M.append.apply(M,j),S.append(M)}return S},t.prototype.exportVisual=function(e){var t=e&&e.options?MN({},this.options,e.options):this.options,n={size:{width:lP(e&&e.width)?e.width:this.size.width,height:lP(e&&e.height)?e.height:this.size.height}};return this._render(t,n)},t.prototype._setOptions=function(e){this.options=MN({},this.options,e)},t}(EM),S2={opacity:1,width:2,color:BD};SP(C2,{title:{position:cN},labels:{visible:!0,margin:{left:8,right:8},padding:0,border:{width:0},paintOrder:"stroke",stroke:{lineJoin:"round",width:1},offset:{left:0,top:0}},nodes:{width:24,padding:16,opacity:1,align:"stretch",offset:{left:0,top:0},focusHighlight:{border:Object.assign({},S2)},labels:{ariaTemplate:function(e){return e.node.label.text}}},links:{colorType:"static",opacity:.4,highlight:{opacity:.8,inactiveOpacity:.2},focusHighlight:{border:Object.assign({},S2)},labels:{ariaTemplate:function(e){var t=e.link;return t.source.label.text+" to "+t.target.label.text}}},tooltip:{followPointer:!1,delay:200}});var I2=Object.freeze({seriesType:0,stacked:1,categoryAxisX:2,valueAxisY:3,seriesChange:4,areaMarginLeft:5,areaMarginRight:6,areaMarginTop:7,areaMarginBottom:8,areaBackground:9,titleText:10,titleFontName:11,titleFontSize:12,titleColor:13,subtitleText:14,subtitleFontName:15,subtitleFontSize:16,subtitleColor:17,seriesColor:18,seriesLabel:19,legendVisible:20,legendFontName:21,legendFontSize:22,legendColor:23,legendPosition:24,categoryAxisTitleText:25,categoryAxisTitleFontName:26,categoryAxisTitleFontSize:27,categoryAxisTitleColor:28,categoryAxisLabelsFontName:29,categoryAxisLabelsFontSize:30,categoryAxisLabelsColor:31,categoryAxisLabelsRotation:32,categoryAxisReverseOrder:33,valueAxisTitleText:34,valueAxisTitleFontName:35,valueAxisTitleFontSize:36,valueAxisTitleColor:37,valueAxisLabelsFormat:38,valueAxisLabelsFontName:39,valueAxisLabelsFontSize:40,valueAxisLabelsColor:41,valueAxisLabelsRotation:42}),E2="12px",_2="16px",j2=[{text:"Arial",value:"Arial, Helvetica, sans-serif",style:{fontFamily:"Arial, Helvetica, sans-serif"}},{text:"Courier New",value:"'Courier New', Courier, monospace",style:{fontFamily:"'Courier New', Courier, monospace"}},{text:"Georgia",value:"Georgia, serif",style:{fontFamily:"Georgia, serif"}},{text:"Impact",value:"Impact, Charcoal, sans-serif",style:{fontFamily:"Impact, Charcoal, sans-serif"}},{text:"Lucida Console",value:"'Lucida Console', Monaco, monospace",style:{fontFamily:"'Lucida Console', Monaco, monospace"}},{text:"Tahoma",value:"Tahoma, Geneva, sans-serif",style:{fontFamily:"Tahoma, Geneva, sans-serif"}},{text:"Times New Roman",value:"'Times New Roman', Times,serif",style:{fontFamily:"'Times New Roman', Times,serif"}},{text:"Trebuchet MS",value:"'Trebuchet MS', Helvetica, sans-serif",style:{fontFamily:"'Trebuchet MS', Helvetica, sans-serif"}},{text:"Verdana",value:"Verdana, Geneva, sans-serif",style:{fontFamily:"Verdana, Geneva, sans-serif"}}],A2=j2[0].value,D2="line",N2="scatter",T2=["column","bar",D2,N2],P2={type:D2,width:0};function M2(e){return e&&T2.includes(e)}var O2=["string","date","number"],R2=["number"],F2={bar:[{axisType:"category",types:O2},{axisType:"value",types:R2}],column:[{axisType:"category",types:O2},{axisType:"value",types:R2}],line:[{axisType:"category",types:O2},{axisType:"value",types:R2}],pie:[{axisType:"category",types:O2},{axisType:"value",types:R2,count:1}],scatter:[{axisType:"category",types:O2},{axisType:"value",types:R2}]};function L2(e,t){return((t||"")+" "+(e||"")).trim()}function z2(e){var t=(e||"").indexOf(" ");return{size:e&&e.substring(0,t),name:e&&e.substring(t+1)}}var B2=function(e,t,n){var o=z2(n).size;return e?L2(e,o||t):""},V2=function(e,t,n){var o=z2(n).name;return e?L2(o||t,e):""},H2=function(e){return void 0!==e&&null!==e},q2=function(e){var t=structuredClone(e[0]);return t.forEach((function(t,n){if(!H2(t.value))for(var o=0;o<e.length;o++){var r=e[o][n].value;if(H2(r)){t.value=r;break}}})),t},U2=function(e,t){var n=[],o=q2(e);t.types.forEach((function(e){o.forEach((function(t,o){typeof t.value===e&&n.push(o)}))}));var r=n.findIndex((function(t){var n=e.map((function(e){return e[t].value}));return new Set(n).size===n.length}));return Math.max(r,0)},G2=function(e,t){var n=[],o=q2(e);return t.forEach((function(e){e.types.forEach((function(e){o.forEach((function(t,o){typeof t.value===e&&n.push(o)}))}))})),n},W2=function(){return structuredClone({columns:[],data:[],series:[],initialSeries:[],categoryAxis:[{categories:[],labels:{visible:!0,rotation:"auto"},title:{text:""}}],valueAxis:[{labels:{visible:!0,rotation:"auto"}}],area:{margin:{left:void 0,right:void 0,top:void 0,bottom:void 0}},title:{text:""},subtitle:{text:""},stack:!1})},K2=function(e,t,n){var o=W2();o.seriesType=t,o.data=e||[],o.legend={visible:!0,position:"bottom"};var r=F2[t];if(!r||!e.length)return o;var i=e[0].slice();o.columns=e[0].map((function(e){return String(e.field)}));var a=r.find((function(e){return"category"===e.axisType})),s=-1;a&&(s=n&&n.categoryAxis?o.columns.indexOf(n.categoryAxis):U2(e,a));var l=r.filter((function(e){return"value"===e.axisType})),c=G2(e,l);c.includes(s)&&(c.length>1?c=c.filter((function(e){return e!==s})):s=-1);var d=[];c.forEach((function(n){var o=i[n],r=[];e.forEach((function(e){r.push(e[n].value)})),d.push(Object.assign({},{name:o.field,type:t,data:r,stack:!1,labels:{visible:!1}},t===N2?P2:{}))}));var u=s>-1?e.map((function(e){return String(H2(e[s].value)?e[s].value:" ")})):[];return d.length&&(o.series=d.map((function(e,t){return Object.assign({},e,{id:t})})),o.initialSeries=structuredClone(o.series)),o.categoryAxis=[{categories:u,labels:{visible:!0,rotation:"auto"}}],o.categoryField=o.columns[s],o},Y2=function(e,t,n){var o=W2();o.seriesType=t,o.data=e||[];var r=F2[t];if(!r||!e.length)return o;var i=e[0].map((function(e){return e.field})),a=r.find((function(e){return"category"===e.axisType})),s=-1;a&&(s=n&&n.categoryAxis?i.indexOf(n.categoryAxis):U2(e,a));var l=r.filter((function(e){return"value"===e.axisType})),c=[];(c=n&&n.valueAxis?[i.indexOf(n.valueAxis)]:G2(e,l)).includes(s)&&c.length>1&&(c=c.filter((function(e){return e!==s}))),"number"===typeof l[0].count&&(c=c.slice(0,l[0].count));var d=s>-1?e.map((function(e){return String(e[s].value)})):[],u=[];return e.forEach((function(e){var t={};c.forEach((function(n){var o=e[n];t[o.field]=o.value||0,t[e[s].field]=e[s].value||" "})),u.push(t)})),o.columns=i,o.categoryAxis=[{categories:d,title:{text:""}}],o.series=[{id:0,data:u,type:t,name:i[s],labels:{visible:!0},categoryField:i[s],field:i[c[0]]}],o.categoryField=i[s],o.valueField=i[c[0]],o.initialSeries=structuredClone(o.series),o};function X2(e,t){return(M2(t)?K2:Y2)(e,t)}function Q2(e,t){var n=structuredClone(t);if(n.legend=e.legend,n.area=e.area,n.title=e.title,n.subtitle=e.subtitle,n.series.length===e.series.length)for(var o=0;o<n.series.length;o++)n.series[o].color=e.series[o].color,n.series[o].labels=e.series[o].labels;return e.series.every((function(e){return e.labels&&e.labels.visible}))&&M2(n.seriesType)&&M2(e.seriesType)&&n.series.forEach((function(e){e.labels=e.labels||{},e.labels.visible=!0})),n}function J2(e,t,n){var o=Object.assign({},e);switch(t){case I2.seriesType:return X2(o.data,n);case I2.stacked:return o.series=o.series.map((function(e){return Object.assign({},e,{stack:n})})),o.stack=n,o;case I2.categoryAxisX:return o.seriesType&&M2(o.seriesType)?Q2(o,K2(o.data,o.seriesType,{categoryAxis:n})):"pie"===o.seriesType?Q2(o,Y2(o.data,o.seriesType,{categoryAxis:n})):o;case I2.valueAxisY:return"pie"===o.seriesType?Q2(o,Y2(o.data,o.seriesType,{categoryAxis:o.categoryField,valueAxis:n})):o;case I2.seriesChange:return o.series=n,o;case I2.areaMarginLeft:return o.area=Object.assign({},o.area,{margin:Object.assign({},o.area&&o.area.margin||{},{left:n})}),o;case I2.areaMarginRight:return o.area=Object.assign({},o.area,{margin:Object.assign({},o.area&&o.area.margin||{},{right:n})}),o;case I2.areaMarginTop:return o.area=Object.assign({},o.area,{margin:Object.assign({},o.area&&o.area.margin||{},{top:n})}),o;case I2.areaMarginBottom:return o.area=Object.assign({},o.area,{margin:Object.assign({},o.area&&o.area.margin||{},{bottom:n})}),o;case I2.areaBackground:return o.area=Object.assign({},o.area,{background:n}),o;case I2.titleText:return o.title=Object.assign({},o.title,{text:n}),o;case I2.titleFontName:return o.title=Object.assign({},o.title,{font:B2(n,"20px",o.title&&o.title.font)}),o;case I2.titleFontSize:return o.title=Object.assign({},o.title,{font:V2(n,A2,o.title&&o.title.font)}),o;case I2.titleColor:return o.title=Object.assign({},o.title,{color:n}),o;case I2.subtitleText:return o.subtitle=Object.assign({},o.subtitle,{text:n}),o;case I2.subtitleFontName:return o.subtitle=Object.assign({},o.subtitle,{font:B2(n,"16px",o.subtitle&&o.subtitle.font)}),o;case I2.subtitleFontSize:return o.subtitle=Object.assign({},o.subtitle,{font:V2(n,A2,o.subtitle&&o.subtitle.font)}),o;case I2.subtitleColor:return o.subtitle=Object.assign({},o.subtitle,{color:n}),o;case I2.seriesColor:return o.series=o.series.map((function(e){return Object.assign({},e,{color:n.seriesName===e.name?n.color:e.color})})),o;case I2.seriesLabel:return o.series=o.series.map((function(e){return n.all||n.seriesName===e.name?Object.assign({},e,{labels:{visible:n.visible}}):e})),o;case I2.legendVisible:return o.legend=Object.assign({},o.legend,{visible:n}),o;case I2.legendFontName:var r=o.legend||{};return o.legend=Object.assign({},r,{labels:Object.assign({},r.labels,{font:B2(n,E2,r.labels&&r.labels.font)})}),o;case I2.legendFontSize:var i=o.legend||{};return o.legend=Object.assign({},i,{labels:Object.assign({},i.labels,{font:V2(n,A2,i.labels&&i.labels.font)})}),o;case I2.legendColor:var a=o.legend||{};return o.legend=Object.assign({},a,{labels:Object.assign({},a.labels,{color:n})}),o;case I2.legendPosition:return o.legend=Object.assign({},o.legend,{position:n}),o;case I2.categoryAxisTitleText:return o.categoryAxis=(o.categoryAxis||[]).map((function(e){return Object.assign({},e,{title:Object.assign({},e.title,{text:n})})})),o;case I2.categoryAxisTitleFontName:return o.categoryAxis=(o.categoryAxis||[]).map((function(e){return Object.assign({},e,{title:Object.assign({},e.title,{font:B2(n,_2,e.title&&e.title.font)})})})),o;case I2.categoryAxisTitleFontSize:return o.categoryAxis=(o.categoryAxis||[]).map((function(e){return Object.assign({},e,{title:Object.assign({},e.title,{font:V2(n,A2,e.title&&e.title.font)})})})),o;case I2.categoryAxisTitleColor:return o.categoryAxis=(o.categoryAxis||[]).map((function(e){return Object.assign({},e,{title:Object.assign({},e.title,{color:n})})})),o;case I2.categoryAxisLabelsFontName:return o.categoryAxis=(o.categoryAxis||[]).map((function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{font:B2(n,E2,e.labels&&e.labels.font)})})})),o;case I2.categoryAxisLabelsFontSize:return o.categoryAxis=(o.categoryAxis||[]).map((function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{font:V2(n,A2,e.labels&&e.labels.font)})})})),o;case I2.categoryAxisLabelsColor:return o.categoryAxis=(o.categoryAxis||[]).map((function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{color:n})})})),o;case I2.categoryAxisLabelsRotation:var s=H2(n)?n:"auto";return o.categoryAxis=(o.categoryAxis||[]).map((function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{rotation:s})})})),o;case I2.categoryAxisReverseOrder:return o.categoryAxis=(o.categoryAxis||[]).map((function(e){return Object.assign({},e,{reverse:n})})),o;case I2.valueAxisTitleText:return o.valueAxis&&0!==o.valueAxis.length?o.valueAxis=(o.valueAxis||[]).map((function(e){return Object.assign({},e,{title:Object.assign({},e.title,{text:n})})})):o.valueAxis=[{title:{text:n}}],o;case I2.valueAxisTitleFontName:return o.valueAxis=(o.valueAxis||[]).map((function(e){return Object.assign({},e,{title:Object.assign({},e.title,{font:B2(n,_2,e.title&&e.title.font)})})})),o;case I2.valueAxisTitleFontSize:return o.valueAxis=(o.valueAxis||[]).map((function(e){return Object.assign({},e,{title:Object.assign({},e.title,{font:V2(n,A2,e.title&&e.title.font)})})})),o;case I2.valueAxisTitleColor:return o.valueAxis=(o.valueAxis||[]).map((function(e){return Object.assign({},e,{title:Object.assign({},e.title,{color:n})})})),o;case I2.valueAxisLabelsFormat:return o.valueAxis=(o.valueAxis||[]).map((function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{format:n})})})),o;case I2.valueAxisLabelsFontName:return o.valueAxis=(o.valueAxis||[]).map((function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{font:B2(n,E2,e.labels&&e.labels.font)})})})),o;case I2.valueAxisLabelsFontSize:return o.valueAxis=(o.valueAxis||[]).map((function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{font:V2(n,A2,e.labels&&e.labels.font)})})})),o;case I2.valueAxisLabelsColor:return o.valueAxis=(o.valueAxis||[]).map((function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{color:n})})})),o;case I2.valueAxisLabelsRotation:var l=H2(n)?n:"auto";return o.valueAxis=(o.valueAxis||[]).map((function(e){return Object.assign({},e,{labels:Object.assign({},e.labels,{rotation:l})})})),o;default:return o}}var Z2=Object.freeze({windowTitle:"Chart Preview",exportButton:"Export",exportPDFButton:"PDF File",exportSVGButton:"SVG File",exportPNGButton:"PNG File",tabChart:"Chart",tabData:"Data",tabFormat:"Format",barChart:"Bar Chart",barChartBar:"Bar",barChartStackedBar:"Stacked Bar",barChart100StackedBar:"100% Stacked Bar",pieChart:"Pie Chart",pieChartPie:"Pie",columnChart:"Column Chart",columnChartColumn:"Column",columnChartStackedColumn:"Stacked Column",columnChart100StackedColumn:"100% Stacked Column",lineChart:"Line Chart",lineChartLine:"Line",lineChartStackedLine:"Stacked Line",lineChart100StackedLine:"100% Stacked Line",scatterChart:"Scatter Chart",scatterChartScatter:"Scatter",configuration:"Configuration",configurationCategoryAxis:"Category Axis",configurationXAxis:"X Axis",configurationValueAxis:"Value Axis",configurationSeries:"Series",configurationSeriesAdd:"Add",formatChartArea:"Chart Area",formatChartAreaMargins:"Margins",formatChartAreaMarginsAuto:"Auto",formatChartAreaMarginsLeft:"Left",formatChartAreaMarginsRight:"Right",formatChartAreaMarginsTop:"Top",formatChartAreaMarginsBottom:"Bottom",formatChartAreaBackground:"Background",formatChartAreaBackgroundColor:"Color",formatTitle:"Title",formatTitleApplyTo:"Apply to",formatTitleChartTitle:"Chart Title",formatTitleChartSubtitle:"Chart Subtitle",formatTitleLabel:"Title",formatTitleFont:"Font",formatTitleFontPlaceholder:"(inherited font)",formatTitleSize:"Size",formatTitleSizePlaceholder:"px",formatTitleColor:"Color",formatSeries:"Series",formatSeriesApplyTo:"Apply to",formatSeriesAllSeries:"All Series",formatSeriesColor:"Color",formatSeriesShowLabels:"Show Labels",formatLegend:"Legend",formatLegendShowLegend:"Show Legend",formatLegendFont:"Font",formatLegendFontPlaceholder:"(inherited font)",formatLegendSize:"Size",formatLegendSizePlaceholder:"px",formatLegendColor:"Color",formatLegendPosition:"Position",formatLegendPositionTop:"Top",formatLegendPositionBottom:"Bottom",formatLegendPositionLeft:"Left",formatLegendPositionRight:"Right",formatCategoryAxis:"Category Axis",formatXAxis:"X Axis",formatCategoryAxisTitle:"Title",formatCategoryAxisTitlePlaceholder:"Axis Title",formatCategoryAxisTitleFont:"Font",formatCategoryAxisTitleFontPlaceholder:"(inherited font)",formatCategoryAxisTitleSize:"Size",formatCategoryAxisTitleSizePlaceholder:"px",formatCategoryAxisTitleColor:"Color",formatCategoryAxisLabels:"Labels",formatCategoryAxisLabelsFont:"Font",formatCategoryAxisLabelsFontPlaceholder:"(inherited font)",formatCategoryAxisLabelsSize:"Size",formatCategoryAxisLabelsSizePlaceholder:"px",formatCategoryAxisLabelsColor:"Color",formatCategoryAxisLabelsRotation:"Rotation",formatCategoryAxisLabelsRotationAuto:"Auto",formatCategoryAxisLabelsReverseOrder:"Reverse Order",formatValueAxis:"Value Axis",formatYAxis:"Y Axis",formatValueAxisTitle:"Title",formatValueAxisTitlePlaceholder:"Axis Title",formatValueAxisTitleFont:"Font",formatValueAxisTitleFontPlaceholder:"(inherited font)",formatValueAxisTitleSize:"Size",formatValueAxisTitleSizePlaceholder:"px",formatValueAxisTitleColor:"Color",formatValueAxisLabels:"Labels",formatValueAxisLabelsFormat:"Label Format",formatValueAxisLabelsFormatText:"Text",formatValueAxisLabelsFormatNumber:"Number",formatValueAxisLabelsFormatCurrency:"Currency",formatValueAxisLabelsFormatPercent:"Percent",formatValueAxisLabelsFont:"Font",formatValueAxisLabelsFontPlaceholder:"(inherited font)",formatValueAxisLabelsSize:"Size",formatValueAxisLabelsSizePlaceholder:"px",formatValueAxisLabelsColor:"Color",formatValueAxisLabelsRotation:"Rotation",formatValueAxisLabelsRotationAuto:"Auto"}),$2=(Object.freeze({getWizardDataFromDataRows:function(e){var t=[];return e.forEach((function(e){var n=e.dataItem,o=e.dataColumns,r=[];o.forEach((function(e){r.push({field:e.title||e.field,value:YN(e.field)(n)})})),t.push(r)})),t},ActionTypes:I2,createInitialState:function(e,t,n){var o=X2(e,n&&n.seriesType||t);return"undefined"!==typeof(n&&n.stack)?J2(o,I2.stacked,n.stack):o},createState:X2,fontNames:j2,fontSizes:[{text:"10",value:"10px"},{text:"12",value:"12px"},{text:"14",value:"14px"},{text:"16",value:"16px"},{text:"20",value:"20px"},{text:"28",value:"28px"},{text:"42",value:"42px"},{text:"56",value:"56px"}],isCategorical:M2,mergeStates:Q2,parseFont:z2,updateState:J2,messages:Z2}),1.5),e3=.4,t3="#000",n3="Arial, Helvetica, sans-serif",o3="11px "+n3,r3="12px "+n3,i3="16px "+n3,a3="transparent",s3="#fff",l3={type:HB},c3={type:DB},d3=Object.assign({},c3,{markers:{visible:!1},highlight:{visible:!1}}),u3=function(){return{icon:{border:{width:1}},label:{font:r3,padding:3},line:{length:10,width:2},legendItem:d3,visible:!0}},p3=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:c3,opacity:.4}},h3=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:c3,opacity:.4}},f3=function(){return{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:s3,gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2},legendItem:d3}},m3=function(){return{gap:$2,spacing:e3,target:{color:"#ff0000"},legendItem:d3}},g3=function(){return{width:2,legendItem:l3}},v3=function(){return{line:{opacity:1,width:0},markers:{size:6,visible:!1},legendItem:c3,opacity:.5}},y3=function(){return{markers:{visible:!1},legendItem:l3,width:2}},x3=function(){return{gap:.5,line:{color:t3,width:1},legendItem:d3,spacing:e3}},b3=function(){return{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}},legendItem:d3}},w3=b3,k3=function(e){return Object.assign({color:ZD,trendline:{},markers:{visible:!1},width:1,dashType:"longDash",legendItem:l3},e)},C3=function(e){return{visible:!0,labels:{font:o3},overlay:e.gradients?{}:{gradient:"none"},area:p3(),rangeArea:h3(),verticalRangeArea:h3(),bar:{gap:$2,spacing:e3,legendItem:d3},boxPlot:f3(),bubble:{border:{width:0},labels:{background:a3},legendItem:d3,opacity:.6},bullet:m3(),candlestick:{border:{_brightness:.8,width:1},downColor:s3,gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:t3,width:1},legendItem:d3,spacing:.3},column:{gap:$2,spacing:e3,legendItem:d3},heatmap:{labels:{color:"",background:a3,visible:!0},highlight:{border:{width:0}},legendItem:d3},pie:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}},legendItem:d3},donut:{margin:1,legendItem:d3},funnel:b3(),pyramid:w3(),horizontalWaterfall:x3(),line:g3(),notes:u3(),ohlc:{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},legendItem:d3,spacing:.3},radarArea:v3(),radarLine:y3(),radarColumn:{legendItem:d3},polarArea:v3(),polarLine:y3(),polarScatter:{legendItem:l3},rangeBar:{gap:$2,spacing:e3,legendItem:d3},rangeColumn:{gap:$2,spacing:e3,legendItem:d3},scatter:{legendItem:l3},scatterLine:{width:1,legendItem:l3},verticalArea:p3(),verticalBoxPlot:f3(),verticalBullet:m3(),verticalLine:g3(),waterfall:x3(),linearTrendline:k3(),exponentialTrendline:k3({style:"smooth"}),logarithmicTrendline:k3({style:"smooth"}),polynomialTrendline:k3({style:"smooth"}),powerTrendline:k3({style:"smooth"}),movingAverageTrendline:k3()}},S3="--kendo-chart-series-",I3=function(e){return e.ownerDocument.defaultView.getComputedStyle(e)},E3={},_3=function(e,t){var n=I3(e).getPropertyValue(t);return/^color-mix/i.test(n)&&(n=function(e,t){if(E3[e])return E3[e];var n=t.style.color;t.style.color=e;var o=I3(t).color;return t.style.color=n,E3[e]=o,o}(n,e)),n},j3=function(e,t){return parseFloat(I3(e).getPropertyValue(t))},A3=function(e,t,n,o){var r=I3(e);return[r.getPropertyValue(t),r.getPropertyValue(n),r.getPropertyValue(o)||r.fontFamily].join(" ")},D3=function(e){for(var t=I3(e),n=[],o=1,r=t.getPropertyValue(""+S3+o);r||o<=30;)n.push(r),o++,r=t.getPropertyValue(""+S3+o);return n},N3=function(e){return A3(e,"--kendo-font-weight","--kendo-chart-font-size","--kendo-font-family")},T3=function(e){return A3(e,"--kendo-chart-pane-title-font-weight","--kendo-chart-pane-title-font-size","--kendo-font-family")},P3=function(e){return _3(e,"--kendo-chart-text")},M3=function(e){return{color:P3(e),font:A3(e,"--kendo-font-weight","--kendo-chart-title-font-size","--kendo-font-family")}},O3=function(e){var t=P3(e);return{labels:{color:t,font:N3(e)},title:{color:t}}},R3=function(e){var t=_3(e,"--kendo-chart-inactive");return Object.assign({},{inactiveItems:{labels:{color:t},markers:{color:t}}},O3(e))},F3=function(e){var t=_3(e,"--kendo-chart-major-lines"),n=_3(e,"--kendo-chart-text"),o=A3(e,"--kendo-font-weight","--kendo-chart-label-font-size","--kendo-font-family"),r=_3(e,"--kendo-chart-bg"),i=function(e){return{icon:{background:_3(e,"--kendo-chart-notes-bg"),border:{color:_3(e,"--kendo-chart-notes-border")}},line:{color:_3(e,"--kendo-chart-notes-lines")},label:{font:N3(e)}}}(e),a=j3(e,"--kendo-chart-area-opacity"),s=_3(e,"--kendo-color-surface"),l=_3(e,"--kendo-chart-primary-bg"),c=function(){return{downColor:t,mean:{color:s},median:{color:s},whiskers:{color:l}}},d=function(){return{line:{color:t}}},u=function(){return{opacity:a,highlight:{inactiveOpacity:j3(e,"--kendo-chart-area-inactive-opacity")}}},p=function(){return{highlight:{inactiveOpacity:j3(e,"--kendo-chart-line-inactive-opacity")}}},h=function(){return{target:{color:n}}};return{axisDefaults:{crosshair:{color:_3(e,"--kendo-chart-crosshair-bg")},labels:{color:n,font:o},line:{color:t},majorGridLines:{color:t},minorGridLines:{color:_3(e,"--kendo-chart-minor-lines")},notes:structuredClone(i),title:{color:n,font:N3(e)}},chartArea:{background:r},legend:R3(e),seriesColors:D3(e),seriesDefaults:{area:u(),verticalArea:u(),radarArea:u(),boxPlot:c(),verticalBoxPlot:c(),bullet:h(),verticalBullet:h(),horizontalWaterfall:d(),waterfall:d(),line:p(),verticalLine:p(),candlestick:{downColor:n,line:{color:n}},errorBars:{color:_3(e,"--kendo-chart-error-bars-bg")},icon:{border:{color:t}},labels:{background:r,color:n,font:o,opacity:a},notes:structuredClone(i)},subtitle:{color:n,font:T3(e)},title:M3(e),paneDefaults:{title:{font:T3(e)}}}};function L3(e,t){let n=e;for(;n&&n!==t;)n=n.parentNode;return!!n}function z3(e,t,n,o){const r=e[t];if(r&&Array.isArray(r))for(const i of r)if(!i.type||i.type!==o)return new Error("".concat(n," children should be Array of type ").concat(o.displayName,"."));return null}const B3=e=>void 0!==e&&!e;class V3{constructor(e){this.target=e}}class H3 extends V3{constructor(){super(...arguments),this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class q3 extends V3{constructor(e,t){super(t),this.value=e.value,this.point=e.point,this.series=e.series,this.currentState=e.currentState,this.nextState=e.nextState}}const U3={axisLabelClick:class extends V3{constructor(e,t){super(t),this.axis=e.axis,this.dataItem=e.dataItem,this.index=e.index,this.text=e.text,this.value=e.value}},drag:class extends H3{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.nativeEvent=e.originalEvent}},dragEnd:class extends V3{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.nativeEvent=e.originalEvent}},dragStart:class extends H3{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.nativeEvent=e.originalEvent}},drilldownEvent:q3,legendItemHover:class extends H3{constructor(e,t){super(t),this.series=e.series,this.seriesIndex=e.seriesIndex,this.pointIndex=e.pointIndex,this.text=e.text}preventDefault(){super.preventDefault()}},legendItemClick:class extends H3{constructor(e,t){super(t),this.series=e.series,this.seriesIndex=e.seriesIndex,this.pointIndex=e.pointIndex,this.text=e.text}preventDefault(){super.preventDefault()}},legendItemLeave:class extends H3{constructor(e,t){super(t),this.series=e.series,this.seriesIndex=e.seriesIndex,this.pointIndex=e.pointIndex,this.text=e.text}preventDefault(){super.preventDefault()}},navigatorFilter:class extends V3{constructor(e,t){super(t),this.from=e.from,this.to=e.to}},noteClick:class extends V3{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.series=e.series,this.value=e.value,this.visual=e.visual}},noteHover:class extends V3{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.series=e.series,this.value=e.value,this.visual=e.visual}},plotAreaClick:class extends V3{constructor(e,t){super(t),this.category=e.category,this.nativeEvent=e.originalEvent,this.value=e.value,this.x=e.x,this.y=e.y}},plotAreaHover:class extends V3{constructor(e,t){super(t),this.category=e.category,this.nativeEvent=e.originalEvent,this.value=e.value,this.x=e.x,this.y=e.y}},render:class extends V3{constructor(e,t){super(t)}},select:class extends H3{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},selectEnd:class extends V3{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},selectStart:class extends H3{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},seriesClick:class extends V3{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.nativeEvent=e.originalEvent,this.percentage=e.percentage,this.point=e.point,this.series=e.series,this.stackValue=e.stackValue,this.value=e.value}},seriesHover:class extends H3{constructor(e,t){super(t),this.category=e.category,this.categoryPoints=e.categoryPoints,this.dataItem=e.dataItem,this.nativeEvent=e.originalEvent,this.percentage=e.percentage,this.point=e.point,this.series=e.series,this.stackValue=e.stackValue,this.value=e.value}},zoom:class extends H3{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.delta=e.delta,this.nativeEvent=e.originalEvent}},zoomEnd:class extends V3{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.nativeEvent=e.originalEvent}},zoomStart:class extends H3{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.nativeEvent=e.originalEvent}}};class G3{constructor(e,t){this.sender=e,this.syntheticEvent=t}}function W3(e,t){return new G3(e,t)}const K3=1e3/60,Y3=e=>{let t,n,o=[];const r=r=>{t=e(t,r),Ro&&(window.clearTimeout(n),n=window.setTimeout((()=>o.forEach((e=>e()))),K3))};return r({}),{getState:()=>t,dispatch:r,subscribe:e=>(o.push(e),()=>o=o.filter((t=>t!==e)))}},X3=(e,t)=>t.chartCollectionIdxKey?Z3.collectionConfigurationItem(e,t):t.chartKey?Z3.configurationItem(e,t):{},Q3=(e,t)=>{if(!t.type)return{};switch(t.type){case"set":return Z3.themeItem(e,t);case"push":return Object.assign(e,t.payload);default:return e}},J3=(e,t)=>{if(!t.type)return[];switch(t.type){case"add":return[...e,t.payload];case"remove":return e.filter((e=>e!==t.payload));default:return e}},Z3={configurationItem:(e,t)=>Object.assign(e,{[t.chartKey]:t.payload}),collectionConfigurationItem(e,t){let n=!1;const[o,r]=t.chartCollectionIdxKey.split("_"),i=e[o].map(((e,o)=>parseInt(r,10)===o?(n=!0,t.payload):e));return!1===n&&i.splice(parseInt(r,10),0,t.payload),Object.assign(e,{[o]:i})},themeItem(e,t){let n={};const o=Object.assign(n,e),{field:r,value:i}=t.payload,a=r.split(".");let s=a.shift();for(;a.length>0;)n=n[s]=n[s]||{},s=a.shift();return n[s]=i,o}};class $3{constructor(e,t){this.value=e.value,this.category=e.category,this.categoryIndex=e.categoryIx,this.series=e.series,this.dataItem=e.dataItem,this.percentage=e.percentage,this.runningTotal=e.runningTotal,this.total=e.total,this.low=e.low,this.high=e.high,this.xLow=e.xLow,this.xHigh=e.xHigh,this.yLow=e.yLow,this.yHigh=e.yHigh,this.point=e,this.format=((e.options||{}).tooltip||{}).format||t}get formattedValue(){return this.format?this.point.formatValue(this.format):String(this.value)}}const e4=e=>{const{categoryText:t,colorMarker:n,colspan:r,nameColumn:i,points:a}=e;return o.createElement("table",null,o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",{colSpan:r},t))),o.createElement("tbody",null,a.map(((e,t)=>o.createElement("tr",{key:t},n&&o.createElement("td",null,o.createElement("span",{className:"k-chart-shared-tooltip-marker",style:{backgroundColor:e.series.color}})),i&&o.createElement("td",null,e.series.name),o.createElement("td",{dangerouslySetInnerHTML:{__html:e.formattedValue}}))))))},t4=o.createContext(null);t4.displayName="ChartContext";const n4={horizontal:"fit",vertical:"fit"},o4="k-chart-tooltip",r4=class extends o.Component{constructor(e){super(e),this.context=null,this.element=null,this.onChartMouseLeave=e=>{const{syntheticEvent:t}=e;return!!L3(t.relatedTarget,this.element)},this.onMouseLeave=e=>{const t=W3(this,e);this.context.childrenObserver.trigger("onMouseLeave",t)&&e.preventDefault()},this.popupRef=e=>{this.element=e;const t=e&&e.closest(".k-animation-container");t&&(t.style.transition="initial")},this.chartObserver=new rT(this,{onMouseLeave:"onChartMouseLeave"})}componentDidMount(){var e;null==(e=this.context)||e.observersStore.dispatch({type:"add",payload:this.chartObserver})}render(){const{popupShown:e,popupAlign:t,popupOffset:n,popupStyles:r,popupContent:i,className:a}=this.props,s=[o4,a].join(" ").trim();return o.createElement(jr,{animate:!1,popupAlign:t,offset:n,show:e,collision:n4,className:"k-chart-tooltip-wrapper"},o.createElement("div",{className:s,style:r,onMouseLeave:this.onMouseLeave,ref:this.popupRef},i()))}componentWillUnmount(){this.context.observersStore.dispatch({type:"remove",payload:this.chartObserver})}};r4.contextType=t4;let i4=r4;const a4=["popupContext","shared","className"],s4="k-chart-shared-tooltip",l4="k-chart-tooltip-inverse",c4=class extends o.Component{constructor(){super(...arguments),this.context=null,this.state={popupShown:!1},this.chartObserver=null}componentDidMount(){this.chartObserver=new rT(this,{showTooltip:"onShowTooltip",hideTooltip:"onHideTooltip"}),this.context.observersStore.dispatch({type:"add",payload:this.chartObserver})}render(){const e=this.state,{popupContext:t,shared:n,className:r}=e,i=s(e,a4),a=this.state.popupShown?()=>{const e=this.findRenderFunction();if(n)return null!==e?e(t):o.createElement(e4,p({},t));const r=t.point,i=this.findRenderFunctionByIndex(r.series.index);return null!==i?i(t):null!==e?e(t):o.createElement("span",{dangerouslySetInnerHTML:{__html:t.point.formattedValue}})}:Function.prototype,l=on({[s4]:n,[l4]:!!r});return o.createElement(i4,p(p({},i),{},{popupContent:a,className:l}))}componentWillUnmount(){this.context.observersStore.dispatch({type:"remove",payload:this.chartObserver})}onShowTooltip(e){const{anchor:t,style:n,shared:o,className:r,crosshair:i}=e;let a;i||(a=o?this.createSharedTooltipContext(e):this.createTooltipContext(e),this.setState({popupShown:!0,popupAlign:t.align,popupOffset:t.point,popupContext:a,popupStyles:n,className:r,shared:o}))}onHideTooltip(){this.setState({popupShown:!1,popupStyles:{},className:void 0})}createSharedTooltipContext(e){const{points:t,categoryText:n}=e,o=t.filter((e=>"undefined"!=typeof e.series.name)).length>0,r=e.series.length>1;let i=1;return o&&i++,r&&i++,{categoryText:n,colorMarker:r,colspan:i,nameColumn:o,points:e.points.map((t=>new $3(t,e.format)))}}createTooltipContext(e){const{point:t,format:n}=e;return{point:new $3(t,n)}}findRenderFunctionByIndex(e){const t=this.context.optionsStore.getState().series;return void 0!==t&&Array.isArray(t)&&void 0!==t[e]&&t[e].hasOwnProperty("tooltip")&&t[e].tooltip.hasOwnProperty("render")?t[e].tooltip.render:null}findRenderFunction(){const e=this.context.optionsStore.getState().tooltip;return void 0!==e&&e.hasOwnProperty("render")?e.render:null}};c4.contextType=t4;let d4=c4;const u4=e=>e.children;u4.displayName="Container";const p4=["popupContend","className"],h4="k-chart-crosshair-tooltip",f4="k-chart-tooltip-inverse",m4=class extends o.Component{constructor(e){super(e),this.context=null,this.state={popupShown:!1},this.chartObserver=new rT(this,{showTooltip:"onShowTooltip",hideTooltip:"onHideTooltip"})}componentDidMount(){var e;null==(e=this.context)||e.observersStore.dispatch({type:"add",payload:this.chartObserver})}render(){const e=this.state,{popupContend:t,className:n}=e,r=s(e,p4),i=this.state.popupShown?()=>t:Function.prototype,a=on({[h4]:!0,[f4]:!!n});return o.createElement(i4,p(p({},r),{},{popupContent:i,className:a}))}componentWillUnmount(){var e;null==(e=this.context)||e.observersStore.dispatch({type:"remove",payload:this.chartObserver})}onShowTooltip(e){const{anchor:t,style:n,className:o,crosshair:r,axisName:i,axisIndex:a,value:s}=e,{name:l,index:c}=this.props;r&&i===l&&a===c&&this.setState({popupShown:!0,popupAlign:t.align,popupOffset:t.point,popupContend:s,popupStyles:n,className:o})}onHideTooltip(){this.setState({popupShown:!1,popupStyles:{},className:void 0})}};m4.contextType=t4;let g4=m4;const v4=["categoryAxis","valueAxis","xAxis","yAxis"];function y4(e){const t={};for(let n=0;n<v4.length;n++){const o=x4(e,v4[n]);for(let e=0;e<o.length;e++){const n=o[e];t[n.name+n.index]=n}}return t}function x4(e,t){const n=[];if(e[t]){const o=[].concat(e[t]);for(let e=0;e<o.length;e++){const r=(o[e].crosshair||{}).tooltip;r&&r.visible&&n.push({index:e,name:t})}}return n}const b4=class extends o.Component{constructor(){super(...arguments),this.context=null,this.state={tooltips:{}},this.storeUnsubscriber=Function.prototype,this.subscriber=()=>{var e;this.setState({tooltips:y4(null==(e=this.context)?void 0:e.optionsStore.getState())})}}componentDidMount(){this.storeUnsubscriber=this.context.optionsStore.subscribe(this.subscriber)}render(){const{tooltips:e}=this.state,t=Object.keys(e).map((t=>o.createElement(g4,p(p({},e[t]),{},{key:t}))));return o.createElement(u4,null,t)}componentWillUnmount(){this.storeUnsubscriber()}};b4.contextType=t4;let w4=b4;const k4={name:"@progress/kendo-react-charts",productName:"KendoReact",productCode:"KENDOUIREACT",productCodes:["KENDOUIREACT"],publishDate:1745410872,version:"10.2.0",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/components/my-license/"},C4=["dir","children"],S4=class extends o.Component{constructor(e){super(e),this.chartInstance=null,this.surface=null,this._element=null,this.optionsStore={},this.optionsUnsubscriber=Function.prototype,this.themeStore={},this.themeUnsubscriber=Function.prototype,this.observersStore={},this.suppressTransitions=!1,this.showLicenseWatermark=!1,this.onRender=e=>{null!==this.chartInstance&&(this.surface=e.sender.surface,this.trigger("render",e))},this.onDrilldown=e=>{var t;const{series:n}=this.optionsStore.getState(),o=n.find((t=>t.name===e.series.name));if(o.drilldownSeriesFactory){const n="onDrilldown";if(this.props.hasOwnProperty(n)){const r={seriesName:o.name,drilldownValue:e.value},i=[...(null==(t=this.props.drilldownState)?void 0:t.steps)||[],r],a=this.props.getTarget(),s=p(p({},e),{},{currentState:this.props.drilldownState,nextState:{steps:i}}),l=new q3(s,a);this.props[n].call(void 0,l)}}return!0},this.onLegendItemClick=e=>{if(null!==this.chartInstance)if(this.props.onLegendItemClick)this.trigger("legendItemClick",e);else{const{series:t}=this.optionsStore.getState();if(!t)return;let n={};const{seriesIndex:o,pointIndex:r}=e,i=t[o];if(void 0===r)n=Object.assign({},i,{visible:B3(i.visible)});else{const e=i.pointVisibility=i.pointVisibility||[];e[r]=B3(e[r]),n=Object.assign({},i)}this.optionsStore.dispatch({chartCollectionIdxKey:"series_".concat(o),payload:n}),this.suppressTransitions=!0}},this.onWindowResize=()=>{null!==this.chartInstance&&this.chartInstance.resize()},this.onChartMouseLeave=e=>{const t=W3(this,e);this.triggerDomEvent("onMouseLeave",t)?e.preventDefault():null!==this.chartInstance&&this.chartInstance.hideElements()},this.onChildMouseLeave=e=>{const{syntheticEvent:t}=e;return this.chartInstance&&!L3(t.relatedTarget,this.element)&&this.chartInstance.hideElements(),!1},this.showLicenseWatermark=!sa(k4,{component:"Chart"}),this.optionsStore=Y3(X3),this.observersStore=Y3(J3),this.childrenObserver=new rT(this,{onMouseLeave:"onChildMouseLeave"}),this.state={optionsStore:this.optionsStore,observersStore:this.observersStore,childrenObserver:this.childrenObserver,drilldownState:{steps:[]}},this.themeStore=Y3(Q3),this.chartObserver=new rT(this,{render:"onRender",legendItemClick:"onLegendItemClick",drilldown:"onDrilldown"})}get element(){return this._element}static getDerivedStateFromProps(e,t){return p(p({},t),{},{drilldownState:e.drilldownState||[]})}componentDidMount(){if(this._element){let t={};try{t=F3(this._element)}catch(e){}const n=MN(function(e){return void 0===e&&(e={}),{axisDefaults:{labels:{font:r3},notes:u3(),title:{font:i3,margin:5}},categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:C3(e),title:{font:i3},subtitle:{font:r3},legend:{labels:{font:r3}}}}(),t);this.themeStore.dispatch({type:"push",payload:n}),this.instantiateCoreChart()}this.optionsUnsubscriber=this.optionsStore.subscribe(this.refresh.bind(this)),this.themeUnsubscriber=this.themeStore.subscribe(this.refresh.bind(this)),window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){this.optionsUnsubscriber(),this.themeUnsubscriber(),null!==this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null),window.removeEventListener("resize",this.onWindowResize)}componentDidUpdate(e){const t=this.props,{dir:n,children:o}=t,r=s(t,C4);if(null!==this.chartInstance){const t=Yh(this),o=this.chartInstance.chartService,i=t.locale!==o._intlService.locale,a=Object.entries(e).filter((e=>"dir"!==e[0]&&"children"!==e[0])).some((e=>{const[t,n]=e;return!(r.hasOwnProperty(t)&&r[t]===n)}));i&&(this.chartInstance.chartService._intlService=t,this.chartInstance.chartService.format._intlService=t,a||this.chartInstance.noTransitionsRedraw()),a&&this.refresh(),e.dir!==n&&this.chartInstance.setDirection(this.getDirection(n))}}render(){const{style:e={},className:t,wrapper:n,children:r}=this.props,i=Object.assign({},e,{position:"relative"}),a=o.createElement(n,{className:t,style:i,key:"chartElement"},o.createElement("div",{onMouseLeave:this.onChartMouseLeave,ref:e=>{this._element=e},className:"k-chart-surface"},r),o.createElement(o.Fragment,null,this.showLicenseWatermark&&o.createElement(ca,null)));return o.createElement(t4.Provider,{value:this.state},o.createElement(d4,{key:"seriesTooltip"}),o.createElement(w4,{key:"crosshairTooltips"}),a)}getDirection(e){return"rtl"===(void 0!==e?e:Ro&&window.getComputedStyle(this.element).direction||"ltr")}getChartOptions(){const{renderAs:e,pannable:t,zoomable:n,paneDefaults:o,panes:r,transitions:i,seriesColors:a,seriesDefaults:s,axisDefaults:l,deriveOptionsFromParent:c}=this.props;let d={};return void 0!==e&&(d.renderAs=e),void 0!==t&&(d.pannable=t),void 0!==n&&(d.zoomable=n),void 0!==o&&(d.paneDefaults=o),void 0!==r&&(d.panes=r),void 0!==i&&(d.transitions=i),void 0!==a&&(d.seriesColors=a),void 0!==s&&(d.seriesDefaults=s),void 0!==l&&(d.axisDefaults=l),d=Object.assign(d,this.optionsStore.getState()),c&&(d=c(d)),d}refresh(){if(null!==this.chartInstance){const e=this.themeStore.getState(),t=this.getChartOptions(),n=t.transitions;this.suppressTransitions&&(t.transitions=!1),this.props.onRefresh?this.props.onRefresh.call(void 0,t,e,this.chartInstance):this.chartInstance.setOptions(t,e),this.suppressTransitions&&(t.transitions=n,this.suppressTransitions=!1)}}instantiateCoreChart(){const{dir:e,chartConstructor:t}=this.props,n=this.getChartOptions();this.chartInstance=new t(this.element,n,this.themeStore.getState(),{rtl:this.getDirection(e),intlService:Yh(this),observer:this.chartObserver,sender:this})}trigger(e,t){const n=function(e,t,n){if(U3[e])return new U3[e](t,n)}(e,t,this.props.getTarget()),o="on"+e.charAt(0).toUpperCase()+e.slice(1),r=this.observersStore.getState();let i=!1;for(let a=0;a<r.length;a++)r[a].trigger(e,t)&&(i=!0);return!1===i&&n&&this.props.hasOwnProperty(o)?(this.props[o].call(void 0,n),n.isDefaultPrevented&&n.isDefaultPrevented()):i}requiresHandlers(e){for(let t=0;t<e.length;t++){const n=e[t],o="on"+n.charAt(0).toUpperCase()+n.slice(1);if(this.props.hasOwnProperty(o))return!0}return!1}triggerDomEvent(e,t){const n=this.observersStore.getState();let o=!1;for(let r=0;r<n.length;r++)n[r].trigger(e,t)&&(o=!0);return o}};S4.propTypes={dir:Et.string,renderAs:Et.oneOf(["svg","canvas"])},S4.defaultProps={renderAs:"svg"};let I4=S4;Qh(I4);const E4=class extends o.Component{constructor(e){super(e),this.state={donutCenterStyles:null},this.chartObserver=new rT(this,{render:"onRender"})}componentDidMount(){var e;null==(e=this.context)||e.observersStore.dispatch({type:"add",payload:this.chartObserver})}render(){const{render:e}=this.props,{donutCenterStyles:t}=this.state;let n=null;return e&&t&&(n=o.createElement("div",{className:"k-chart-donut-center",style:t},o.createElement(e,null))),n}onRender(e){var t;const n=null==(t=this.context)?void 0:t.optionsStore.getState().series,o=Array.isArray(n)?n[0]:null,r=e.sender._plotArea.charts;if(!o||"donut"!==o.type||0===r[0].points.length)return;const i=r[0].points[0].sector,a=i.innerRadius,s=i.center.y-a,l=i.center.x-a,c=2*a;this.setState({donutCenterStyles:{height:c,left:l,top:s,width:c}})}};E4.contextType=t4;let _4=E4;const j4=["donutCenterRender","children","className"];class A4 extends o.Component{constructor(){super(...arguments),this._baseChart=null,this.getTarget=()=>this}get chartInstance(){return null!==this._baseChart?this._baseChart.chartInstance:null}get surface(){return null!==this._baseChart?this._baseChart.surface:null}get element(){return null!==this._baseChart?this._baseChart.element:null}render(){const e=this.props,{donutCenterRender:t,children:n,className:r}=e,i=s(e,j4);return o.createElement(I4,p(p({},i),{},{ref:e=>{this._baseChart=e},chartConstructor:pQ,getTarget:this.getTarget,wrapper:"div",className:on("k-chart k-widget",r)}),n,o.createElement(_4,{render:t}))}}const D4=["_chartKey","_chartCollectionIdxKey","_parentStore","children"],N4=class extends o.Component{get optionsStore(){var e;return null==(e=this.context)?void 0:e.optionsStore}constructor(e){super(e),this.childStore=Y3(X3)}render(){const{children:e}=this.props;return void 0!==e?o.Children.map(e,(e=>o.isValidElement(e)?this.renderChildren(e):e)):null}componentDidMount(){this.dispatch()}componentDidUpdate(){this.dispatch()}dispatch(){const e=this.props,{_chartKey:t,_chartCollectionIdxKey:n,_parentStore:o,children:r}=e,i=s(e,D4);(o||this.optionsStore).dispatch({chartKey:t,chartCollectionIdxKey:n,payload:Object.assign({},i,this.childStore.getState())})}renderChildren(e){const{children:t}=e.props,n=p(p({},e.props),{},{_parentStore:this.childStore});return o.cloneElement(e,n,t)}};N4.contextType=t4;let T4=N4;const P4=e=>o.createElement(T4,p(p({},e),{},{_chartKey:"title"}));P4.displayName="ChartTitle";const M4=e=>o.createElement(T4,p(p({visible:!0},e),{},{_chartKey:"legend"}));M4.displayName="ChartLegend";const O4=class extends o.Component{get optionsStore(){var e;return null==(e=this.context)?void 0:e.optionsStore}renderChildren(e,t){const{children:n}=e.props,{_chartKey:r,_parentStore:i}=this.props,a=p(p({},e.props),{},{_chartCollectionIdxKey:"".concat(r,"_").concat(t),_parentStore:i});return o.cloneElement(e,a,n)}render(){const{_chartKey:e,_parentStore:t,children:n}=this.props;return(t||this.optionsStore).dispatch({chartKey:e,payload:[]}),o.Children.map(n,((e,t)=>o.isValidElement(e)?this.renderChildren(e,t):e))}};O4.contextType=t4;let R4=O4;const F4=e=>o.createElement(T4,p({},e));F4.displayName="ChartCategoryAxisItem";const L4=e=>o.createElement(R4,p(p({},e),{},{_chartKey:"categoryAxis"}));L4.propTypes={children:function(e,t,n){return z3(e,t,n,F4)}},L4.displayName="ChartCategoryAxis";const z4=e=>{let t=e=>o.createElement(o.Fragment,null);e.drilldownSeriesFactory&&(t=e.drilldownSeriesFactory);const n=t=>{var n,o;return t&&(null==(o=null==(n=t.drilldownState)?void 0:n.steps)?void 0:o.find((t=>{let{seriesName:n}=t;return n===e.name})))};return o.createElement(t4.Consumer,null,(r=>n(r)?o.createElement(t,{_chartCollectionIdxKey:e._chartCollectionIdxKey,drilldownValue:n(r).drilldownValue}):o.createElement(T4,p({},e))))};z4.displayName="ChartSeriesItem";const B4=e=>o.createElement(R4,p(p({},e),{},{_chartKey:"series"}));B4.propTypes={children:function(e,t,n){return z3(e,t,n,z4)}},B4.displayName="ChartSeries";const V4=[2002,2003,2004],H4=[{name:"India",data:[3.907,7.943,7.848]},{name:"Russian Federation",data:[4.743,7.295,7.175]},{name:"Germany",data:[.21,.375,1.161]},{name:"World",data:[1.988,2.733,3.994]}],q4=[{name:"World",data:[3.988,3.733,3.994]},{name:"Germany",data:[2.21,2.375,2.161]},{name:"Russian Federation",data:[1.743,1.295,1.175]},{name:"India",data:[.907,.943,.848]}],U4=[{name:"India",share:.24},{name:"Russian Federation",share:.26,explode:!0},{name:"Germany",share:.1},{name:"World",share:.4}],G4=()=>(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsxs)("div",{className:"row mb-3",children:[(0,pi.jsx)("div",{className:"col-6",children:(0,pi.jsx)("div",{className:"k-card",children:(0,pi.jsxs)(A4,{style:{height:350},children:[(0,pi.jsx)(P4,{text:"Column Chart"}),(0,pi.jsx)(M4,{position:"top",orientation:"horizontal"}),(0,pi.jsx)(L4,{children:(0,pi.jsx)(F4,{categories:V4,startAngle:45})}),(0,pi.jsx)(B4,{children:H4.map(((e,t)=>(0,pi.jsx)(z4,{type:"column",tooltip:{visible:!0},data:e.data,name:e.name},t)))})]})})}),(0,pi.jsx)("div",{className:"col-6",children:(0,pi.jsx)("div",{className:"k-card",children:(0,pi.jsxs)(A4,{style:{height:350},children:[(0,pi.jsx)(P4,{text:"Line Chart"}),(0,pi.jsx)(M4,{position:"top",orientation:"horizontal"}),(0,pi.jsx)(L4,{children:(0,pi.jsx)(F4,{categories:V4,startAngle:45})}),(0,pi.jsx)(B4,{children:H4.map(((e,t)=>(0,pi.jsx)(z4,{type:"line",tooltip:{visible:!0},data:e.data,name:e.name},t)))})]})})})]}),(0,pi.jsxs)("div",{className:"row",children:[(0,pi.jsx)("div",{className:"col-6",children:(0,pi.jsx)("div",{className:"k-card",children:(0,pi.jsxs)(A4,{style:{height:350},children:[(0,pi.jsx)(P4,{text:"Area Chart"}),(0,pi.jsx)(M4,{position:"top",orientation:"horizontal"}),(0,pi.jsx)(L4,{children:(0,pi.jsx)(F4,{categories:V4,startAngle:45})}),(0,pi.jsx)(B4,{children:q4.map(((e,t)=>(0,pi.jsx)(z4,{type:"area",tooltip:{visible:!0},data:e.data,name:e.name},t)))})]})})}),(0,pi.jsx)("div",{className:"col-6",children:(0,pi.jsx)("div",{className:"k-card",children:(0,pi.jsxs)(A4,{style:{height:350},children:[(0,pi.jsx)(P4,{text:"Pie Chart"}),(0,pi.jsx)(M4,{position:"top",orientation:"horizontal"}),(0,pi.jsx)(B4,{children:(0,pi.jsx)(z4,{type:"pie",overlay:{gradient:"sharpBevel"},tooltip:{visible:!0},data:U4,categoryField:"name",field:"share"})})]})})})]})]}),W4=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(!0),[i,a]=(0,o.useState)(null),s=ge();(0,o.useEffect)((()=>{(async()=>{try{r(!0);const e=yi("/chart-of-account"),n=await fetch(e);if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const o=await n.json();if(console.log("API Response:",o),!o.results||!Array.isArray(o.results))throw new Error("Invalid API response format");{const e=(e=>{console.log("Converting API data:",e);const t=new Map;e.forEach((e=>{const n={id:e.id,accountName:e.name,isParent:e.isParent,parent:e.parent,parentName:e.parentName,parentId:e.parent,expanded:!1,accountNumber:e.accountNumber,accountType:e.accountTypeName||"Unknown",openingBalance:e.openingBalance,inactive:e.inactive,notes:e.notes,items:[]};t.set(e.id,n)}));const n=[];e.forEach((e=>{const o=t.get(e.id);if(null===e.parent||""===e.parent||void 0===e.parent)n.push(o);else{const r=t.get(e.parent);r?(o.parentId=r.id,r.items.push(o)):(console.warn("Parent '".concat(e.parent,"' not found for item '").concat(e.name,"'. Adding as root item.")),n.push(o))}}));const o=e=>{const t=[...e].sort(((e,t)=>{const n=e.accountNumber?String(e.accountNumber).trim():"",o=t.accountNumber?String(t.accountNumber).trim():"";console.log("Comparing:",n,"vs",o);const r=parseInt(n,10),i=parseInt(o,10);if(console.log("Parsed:",r,"vs",i),!isNaN(r)&&!isNaN(i)){const e=r-i;return console.log("Result:",e),e}return isNaN(r)?1:isNaN(i)?-1:n.localeCompare(o)}));return t.map((e=>e.items&&e.items.length>0?p(p({},e),{},{items:o(e.items)}):e))},r=o(n);return console.log("Converted tree structure:",r),r})(o.results);t(e)}}catch(e){console.error("Error fetching chart of accounts:",e),a(e.message)}finally{r(!1)}})()}),[]);const l=[{field:"accountName",title:"Account Name",width:"300px",cell:t=>{const n=t.dataItem.items&&t.dataItem.items.length>0,o=25*(t=>{let n=0;if(t.parent){let o=t.parent;const r=(e,t)=>{for(const n of e){if(n.id===t)return n;if(n.items){const e=r(n.items,t);if(e)return e}}return null};for(;o;){n++;const t=r(e,o);if(o=t?t.parent:null,n>10)break}}return n})(t.dataItem)+8;return(0,pi.jsx)("td",{style:{paddingLeft:"".concat(o,"px")},children:(0,pi.jsxs)("div",{className:"k-d-flex k-align-items-center k-gap-2",children:[n?(0,pi.jsx)("span",{onClick:e=>{e.stopPropagation(),n&&(console.log("Expanding/Collapsing:",t.dataItem.accountName,"Current expanded:",t.dataItem.expanded),c({dataItem:t.dataItem}))},className:"k-button k-button-flat k-button-sm k-rounded-full k-text-primary",style:{cursor:"pointer",fontSize:"14px",userSelect:"none",minWidth:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:t.dataItem.expanded?"\u25bc":"\u25b6"}):(0,pi.jsx)("span",{style:{width:"32px"}}),(0,pi.jsx)("span",{className:"k-font-weight-normal",children:t.dataItem.accountName})]})})}},{field:"accountType",title:"Account Type",width:"130px",cell:e=>(0,pi.jsx)("td",{className:"k-text-center",children:(0,pi.jsxs)("span",{className:"k-badge k-badge-rounded ".concat((e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"asset":return"k-badge-success";case"liability":return"k-badge-warning";case"equity":return"k-badge-info";case"income":case"revenue":return"k-badge-primary";case"expense":return"k-badge-error";default:return"k-badge-secondary"}})(e.dataItem.accountType)),children:[(0,pi.jsx)("span",{className:"k-icon ".concat((e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"asset":return"k-i-dollar";case"liability":return"k-i-warning";case"equity":return"k-i-user";case"income":case"revenue":return"k-i-plus";case"expense":return"k-i-minus";default:return"k-i-file"}})(e.dataItem.accountType)," k-mr-1")}),e.dataItem.accountType||"Unknown"]})})},{field:"accountNumber",title:"Account Number",width:"140px",cell:e=>(0,pi.jsx)("td",{className:"k-text-center",children:(0,pi.jsxs)(xo,{onClick:t=>{t.preventDefault(),s("/chart-of-account/view/".concat(e.dataItem.id))},fillMode:"flat",themeColor:"primary",size:"small",className:"k-button-link",style:{color:"#007acc"},children:[(0,pi.jsx)("span",{className:"k-icon k-i-external-link k-mr-1"}),(0,pi.jsx)("span",{style:{color:"#007acc"},children:e.dataItem.accountNumber})]})})},{field:"openingBalance",title:"Opening Balance",width:"150px",cell:e=>{const t=e.dataItem.openingBalance||0,n=t<0;return(0,pi.jsx)("td",{className:"k-text-right",children:(0,pi.jsxs)("span",{className:n?"k-text-error":"k-text-success",children:["$",Math.abs(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})})}}],c=n=>{console.log("onExpandChange called for:",n.dataItem.accountName);const o=[...e],r=e=>e.map((e=>e.id===n.dataItem.id?(console.log("Found item to toggle:",e.accountName,"from",e.expanded,"to",!e.expanded),p(p({},e),{},{expanded:!e.expanded})):e.items&&e.items.length>0?p(p({},e),{},{items:r(e.items)}):e)),i=r(o);console.log("Setting new data:",i),t(i)},d=(()=>{const t=e=>{let n=[];return e.forEach((e=>{n.push(e),e.items&&e.items.length>0&&(n=n.concat(t(e.items)))})),n},n=t(e),o={};return n.forEach((e=>{const t=e.accountType||"Unknown";o[t]||(o[t]=0),o[t]++})),o})();return n?(0,pi.jsx)("div",{className:"k-d-flex k-flex-col k-gap-4",style:{padding:"24px",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:(0,pi.jsx)(RA,{className:"k-shadow-lg",style:{borderRadius:"12px",overflow:"hidden"},children:(0,pi.jsx)(LA,{children:(0,pi.jsx)("div",{className:"k-d-flex k-justify-content-center k-align-items-center",style:{minHeight:"400px"},children:(0,pi.jsxs)("div",{className:"k-d-flex k-flex-col k-align-items-center k-gap-3",children:[(0,pi.jsx)("div",{className:"k-loader k-loader-lg"}),(0,pi.jsx)("p",{className:"k-text-muted",children:"Loading Chart of Accounts..."})]})})})})}):i?(0,pi.jsx)("div",{className:"k-d-flex k-flex-col k-gap-4",style:{padding:"24px",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:(0,pi.jsx)(RA,{className:"k-shadow-lg",style:{borderRadius:"12px",overflow:"hidden"},children:(0,pi.jsx)(LA,{children:(0,pi.jsx)("div",{className:"k-d-flex k-justify-content-center k-align-items-center",style:{minHeight:"400px"},children:(0,pi.jsxs)(RA,{className:"k-state-empty k-text-center k-p-6",children:[(0,pi.jsx)("div",{className:"k-icon k-i-warning k-color-error k-font-size-xxl k-mb-4"}),(0,pi.jsx)("h3",{className:"k-text-muted",children:"Error Loading Data"}),(0,pi.jsx)("p",{className:"k-text-muted",children:i}),(0,pi.jsx)(xo,{onClick:()=>window.location.reload(),themeColor:"primary",className:"k-mt-3",children:"Retry"})]})})})})}):(0,pi.jsx)("div",{className:"k-d-flex k-flex-col k-gap-4",style:{padding:"24px",minHeight:"100vh",backgroundColor:"#f8f9fa"},children:(0,pi.jsxs)(RA,{className:"k-shadow-lg",style:{borderRadius:"12px",overflow:"hidden"},children:[(0,pi.jsxs)(zA,{className:"k-hbox k-justify-content-between k-align-items-center",style:{borderRadius:"12px 12px 0 0"},children:[(0,pi.jsxs)("div",{children:[(0,pi.jsx)("h1",{className:"k-text-dark k-font-size-xl k-font-weight-bold k-m-0",children:"Chart of Accounts"}),(0,pi.jsx)("p",{className:"k-text-secondary k-font-size-sm k-m-0",children:"Financial account structure"})]}),(0,pi.jsx)("div",{className:"k-d-flex k-gap-2",children:Object.entries(d).map((e=>{let[t,n]=e;return(0,pi.jsxs)("div",{className:"k-badge k-badge-rounded ".concat("asset"===t.toLowerCase()?"k-badge-success":"liability"===t.toLowerCase()?"k-badge-warning":"equity"===t.toLowerCase()?"k-badge-info":"income"===t.toLowerCase()||"revenue"===t.toLowerCase()?"k-badge-primary":"expense"===t.toLowerCase()?"k-badge-error":"k-badge-secondary"),children:[(0,pi.jsx)("span",{className:"k-icon ".concat("asset"===t.toLowerCase()?"k-i-dollar":"liability"===t.toLowerCase()?"k-i-warning":"equity"===t.toLowerCase()?"k-i-user":"income"===t.toLowerCase()||"revenue"===t.toLowerCase()?"k-i-plus":"expense"===t.toLowerCase()?"k-i-minus":"k-i-file"," k-mr-1")}),t,": ",n]},t)}))})]}),(0,pi.jsx)(LA,{children:e&&e.length>0?(0,pi.jsxs)("div",{className:"k-d-flex k-flex-col k-gap-3",children:[(0,pi.jsx)("style",{children:"\n                  /* Hide KendoReact's default expand icons since we're using custom ones */\n                  .k-treelist .k-hierarchy-cell .k-icon {\n                    display: none;\n                  }\n                  \n                  /* Enhanced TreeList styling */\n                  .k-treelist {\n                    border-radius: 12px;\n                    box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n                    overflow: hidden;\n                  }\n                  \n                  .k-treelist .k-table-thead {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    color: white;\n                  }\n                  \n                  .k-treelist .k-table-thead .k-header {\n                    color: white;\n                    font-weight: 600;\n                  }\n                  \n                  /* Rounded corners for table header */\n                  .k-treelist .k-table-thead .k-header:first-child {\n                    border-top-left-radius: 12px;\n                  }\n                  \n                  .k-treelist .k-table-thead .k-header:last-child {\n                    border-top-right-radius: 12px;\n                  }\n                  \n                  .k-treelist .k-table-tbody .k-table-row:hover {\n                    background-color: #f8f9ff;\n                  }\n                "}),(0,pi.jsx)(TA,{data:e,columns:l,expandField:"expanded",subItemsField:"items",onExpandChange:c,style:{width:"100%"},idField:"id",className:"k-treelist-enhanced"})]}):(0,pi.jsxs)(RA,{className:"k-state-empty k-text-center k-p-6",children:[(0,pi.jsx)("div",{className:"k-icon k-i-warning k-color-warning k-font-size-xxl k-mb-4"}),(0,pi.jsx)("h3",{className:"k-text-muted",children:"No Data Available"}),(0,pi.jsx)("p",{className:"k-text-muted",children:"No chart of accounts data found."})]})})]})})};const K4=function(){const[e,t]=(0,o.useState)(!1);return(0,pi.jsx)(gt,{children:(0,pi.jsxs)("div",{className:"app-container",children:[(0,pi.jsx)(hi,{onMenuClick:()=>{t(!e)},expanded:e}),(0,pi.jsxs)("div",{className:"app-body",children:[(0,pi.jsx)(fi,{expanded:e,setExpanded:t}),(0,pi.jsx)("div",{className:"content",children:(0,pi.jsxs)(Oe,{children:[(0,pi.jsx)(Pe,{path:"/",element:(0,pi.jsx)(G4,{})}),(0,pi.jsx)(Pe,{path:"/forms",element:(0,pi.jsx)(UA,{})}),(0,pi.jsx)(Pe,{path:"/forms/new",element:(0,pi.jsx)(JA,{})}),(0,pi.jsx)(Pe,{path:"/forms/view/:id",element:(0,pi.jsx)(JA,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/forms/edit/:id",element:(0,pi.jsx)(JA,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/inventory-adjustment",element:(0,pi.jsx)(cD,{})}),(0,pi.jsx)(Pe,{path:"/inventory-adjustment/new",element:(0,pi.jsx)(lD,{recordType:"InventoryAdjustment"})}),(0,pi.jsx)(Pe,{path:"/inventory-adjustment/view/:id",element:(0,pi.jsx)(lD,{recordType:"InventoryAdjustment",mode:"view"})}),(0,pi.jsx)(Pe,{path:"/inventory-adjustment/edit/:id",element:(0,pi.jsx)(lD,{recordType:"InventoryAdjustment",mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/inventory-transfer",element:(0,pi.jsx)(dD,{})}),(0,pi.jsx)(Pe,{path:"/inventory-transfer/new",element:(0,pi.jsx)(lD,{recordType:"InventoryTransfer"})}),(0,pi.jsx)(Pe,{path:"/inventory-transfer/view/:id",element:(0,pi.jsx)(lD,{recordType:"InventoryTransfer",mode:"view"})}),(0,pi.jsx)(Pe,{path:"/inventory-transfer/edit/:id",element:(0,pi.jsx)(lD,{recordType:"InventoryTransfer",mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/Sales",element:(0,pi.jsx)(Te,{to:"/sales-order",replace:!0})}),(0,pi.jsx)(Pe,{path:"/sales-order",element:(0,pi.jsx)(ij,{})}),(0,pi.jsx)(Pe,{path:"/sales-order/new",element:(0,pi.jsx)(tj,{})}),(0,pi.jsx)(Pe,{path:"/sales-order/view/:id",element:(0,pi.jsx)(tj,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/sales-order/edit/:id",element:(0,pi.jsx)(tj,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/item-fulfillment",element:(0,pi.jsx)(aj,{})}),(0,pi.jsx)(Pe,{path:"/item-fulfillment/new",element:(0,pi.jsx)(nj,{})}),(0,pi.jsx)(Pe,{path:"/item-fulfillment/view/:id",element:(0,pi.jsx)(nj,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/item-fulfillment/edit/:id",element:(0,pi.jsx)(nj,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/invoice",element:(0,pi.jsx)(sj,{})}),(0,pi.jsx)(Pe,{path:"/invoice/new",element:(0,pi.jsx)(oj,{})}),(0,pi.jsx)(Pe,{path:"/invoice/view/:id",element:(0,pi.jsx)(oj,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/invoice/edit/:id",element:(0,pi.jsx)(oj,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/credit-memo",element:(0,pi.jsx)(lj,{})}),(0,pi.jsx)(Pe,{path:"/credit-memo/new",element:(0,pi.jsx)(rj,{recordType:"CreditMemo"})}),(0,pi.jsx)(Pe,{path:"/credit-memo/view/:id",element:(0,pi.jsx)(rj,{recordType:"CreditMemo",mode:"view"})}),(0,pi.jsx)(Pe,{path:"/credit-memo/edit/:id",element:(0,pi.jsx)(rj,{recordType:"CreditMemo",mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/debit-memo",element:(0,pi.jsx)(cj,{})}),(0,pi.jsx)(Pe,{path:"/debit-memo/new",element:(0,pi.jsx)(rj,{recordType:"DebitMemo"})}),(0,pi.jsx)(Pe,{path:"/debit-memo/view/:id",element:(0,pi.jsx)(rj,{recordType:"DebitMemo",mode:"view"})}),(0,pi.jsx)(Pe,{path:"/debit-memo/edit/:id",element:(0,pi.jsx)(rj,{recordType:"DebitMemo",mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/customer-payment",element:(0,pi.jsx)(wD,{})}),(0,pi.jsx)(Pe,{path:"/customer-payment/new",element:(0,pi.jsx)(xD,{})}),(0,pi.jsx)(Pe,{path:"/customer-payment/view/:id",element:(0,pi.jsx)(xD,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/customer-payment/edit/:id",element:(0,pi.jsx)(xD,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/journal-entry",element:(0,pi.jsx)(PD,{})}),(0,pi.jsx)(Pe,{path:"/journal-entry/new",element:(0,pi.jsx)(TD,{})}),(0,pi.jsx)(Pe,{path:"/journal-entry/view/:id",element:(0,pi.jsx)(TD,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/journal-entry/edit/:id",element:(0,pi.jsx)(TD,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/customer",element:(0,pi.jsx)(Aj,{})}),(0,pi.jsx)(Pe,{path:"/customer/new",element:(0,pi.jsx)(Mj,{})}),(0,pi.jsx)(Pe,{path:"/customer/view/:id",element:(0,pi.jsx)(Mj,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/customer/edit/:id",element:(0,pi.jsx)(Mj,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/vendor",element:(0,pi.jsx)(Bj,{})}),(0,pi.jsx)(Pe,{path:"/vendor/new",element:(0,pi.jsx)(Oj,{})}),(0,pi.jsx)(Pe,{path:"/vendor/view/:id",element:(0,pi.jsx)(Oj,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/vendor/edit/:id",element:(0,pi.jsx)(Oj,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/chart-of-account",element:(0,pi.jsx)(BA,{})}),(0,pi.jsx)(Pe,{path:"/chart-of-account/new",element:(0,pi.jsx)(Fj,{})}),(0,pi.jsx)(Pe,{path:"/chart-of-account/view/:id",element:(0,pi.jsx)(Fj,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/chart-of-account/edit/:id",element:(0,pi.jsx)(Fj,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/location",element:(0,pi.jsx)(VA,{})}),(0,pi.jsx)(Pe,{path:"/location/new",element:(0,pi.jsx)(Rj,{})}),(0,pi.jsx)(Pe,{path:"/location/view/:id",element:(0,pi.jsx)(Rj,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/location/edit/:id",element:(0,pi.jsx)(Rj,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/product",element:(0,pi.jsx)(HA,{})}),(0,pi.jsx)(Pe,{path:"/product/new",element:(0,pi.jsx)(Lj,{})}),(0,pi.jsx)(Pe,{path:"/product/view/:id",element:(0,pi.jsx)(Lj,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/product/edit/:id",element:(0,pi.jsx)(Lj,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/tax",element:(0,pi.jsx)(qA,{})}),(0,pi.jsx)(Pe,{path:"/tax/new",element:(0,pi.jsx)(zj,{})}),(0,pi.jsx)(Pe,{path:"/tax/view/:id",element:(0,pi.jsx)(zj,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/tax/edit/:id",element:(0,pi.jsx)(zj,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/purchases",element:(0,pi.jsx)(Te,{to:"/purchase-order",replace:!0})}),(0,pi.jsx)(Pe,{path:"/purchase-order",element:(0,pi.jsx)(Ij,{})}),(0,pi.jsx)(Pe,{path:"/purchase-order/new",element:(0,pi.jsx)(wj,{})}),(0,pi.jsx)(Pe,{path:"/purchase-order/view/:id",element:(0,pi.jsx)(wj,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/purchase-order/edit/:id",element:(0,pi.jsx)(wj,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/item-receipt",element:(0,pi.jsx)(Ej,{})}),(0,pi.jsx)(Pe,{path:"/item-receipt/new",element:(0,pi.jsx)(kj,{})}),(0,pi.jsx)(Pe,{path:"/item-receipt/view/:id",element:(0,pi.jsx)(kj,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/item-receipt/edit/:id",element:(0,pi.jsx)(kj,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/vendor-bill",element:(0,pi.jsx)(_j,{})}),(0,pi.jsx)(Pe,{path:"/vendor-bill/new",element:(0,pi.jsx)(Cj,{})}),(0,pi.jsx)(Pe,{path:"/vendor-bill/view/:id",element:(0,pi.jsx)(Cj,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/vendor-bill/edit/:id",element:(0,pi.jsx)(Cj,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/vendor-credit",element:(0,pi.jsx)(jj,{})}),(0,pi.jsx)(Pe,{path:"/vendor-credit/new",element:(0,pi.jsx)(Sj,{recordType:"VendorCredit"})}),(0,pi.jsx)(Pe,{path:"/vendor-credit/view/:id",element:(0,pi.jsx)(Sj,{recordType:"VendorCredit",mode:"view"})}),(0,pi.jsx)(Pe,{path:"/vendor-credit/edit/:id",element:(0,pi.jsx)(Sj,{recordType:"VendorCredit",mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/vendor-payment",element:(0,pi.jsx)(kD,{})}),(0,pi.jsx)(Pe,{path:"/vendor-payment/new",element:(0,pi.jsx)(bD,{})}),(0,pi.jsx)(Pe,{path:"/vendor-payment/view/:id",element:(0,pi.jsx)(bD,{mode:"view"})}),(0,pi.jsx)(Pe,{path:"/vendor-payment/edit/:id",element:(0,pi.jsx)(bD,{mode:"edit"})}),(0,pi.jsx)(Pe,{path:"/reports",element:(0,pi.jsx)(Te,{to:"/charts",replace:!0})}),(0,pi.jsx)(Pe,{path:"/charts",element:(0,pi.jsx)(G4,{})}),(0,pi.jsx)(Pe,{path:"/coa-relation",element:(0,pi.jsx)(W4,{})})]})})]})]})})},Y4=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:o,getFCP:r,getLCP:i,getTTFB:a}=t;n(e),o(e),r(e),i(e),a(e)}))};i.createRoot(document.getElementById("root")).render((0,pi.jsx)(o.StrictMode,{children:(0,pi.jsx)(K4,{})})),document.addEventListener("DOMContentLoaded",(()=>{const e=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{1===e.nodeType&&e.classList&&(e.classList.contains("k-animation-container")||e.classList.contains("k-popup"))&&setTimeout((()=>{const t=e.querySelector(".k-popup.k-dropdown-popup")||(e.classList.contains("k-popup")?e:null);if(t){const e=document.querySelector(".k-dropdown-wrap.k-state-focused, .k-dropdown-wrap.k-state-active");if(e){const n=e.getBoundingClientRect();t.style.position="fixed",t.style.left=n.left+"px",t.style.top=n.bottom+2+"px",t.style.width=Math.max(n.width,200)+"px",t.style.zIndex="10001"}}}),10)}))}))}));e.observe(document.body,{childList:!0,subtree:!0})})),Y4()})()})();
//# sourceMappingURL=main.c08ba805.js.map